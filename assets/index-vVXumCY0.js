(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function ax(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var wp={exports:{}},ec={};var iv;function VT(){if(iv)return ec;iv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:d,ref:o!==void 0?o:null,props:c}}return ec.Fragment=e,ec.jsx=n,ec.jsxs=n,ec}var rv;function LT(){return rv||(rv=1,wp.exports=VT()),wp.exports}var h=LT(),Np={exports:{}},je={};var sv;function zT(){if(sv)return je;sv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),N=Symbol.iterator;function j(R){return R===null||typeof R!="object"?null:(R=N&&R[N]||R["@@iterator"],typeof R=="function"?R:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,B={};function ee(R,Q,se){this.props=R,this.context=Q,this.refs=B,this.updater=se||U}ee.prototype.isReactComponent={},ee.prototype.setState=function(R,Q){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Q,"setState")},ee.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function J(){}J.prototype=ee.prototype;function re(R,Q,se){this.props=R,this.context=Q,this.refs=B,this.updater=se||U}var oe=re.prototype=new J;oe.constructor=re,L(oe,ee.prototype),oe.isPureReactComponent=!0;var le=Array.isArray;function he(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function O(R,Q,se){var ce=se.ref;return{$$typeof:i,type:R,key:Q,ref:ce!==void 0?ce:null,props:se}}function P(R,Q){return O(R.type,Q,R.props)}function T(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function k(R){var Q={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(se){return Q[se]})}var w=/\/+/g;function Se(R,Q){return typeof R=="object"&&R!==null&&R.key!=null?k(""+R.key):Q.toString(36)}function De(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(he,he):(R.status="pending",R.then(function(Q){R.status==="pending"&&(R.status="fulfilled",R.value=Q)},function(Q){R.status==="pending"&&(R.status="rejected",R.reason=Q)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function X(R,Q,se,ce,me){var ve=typeof R;(ve==="undefined"||ve==="boolean")&&(R=null);var Ne=!1;if(R===null)Ne=!0;else switch(ve){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(R.$$typeof){case i:case e:Ne=!0;break;case x:return Ne=R._init,X(Ne(R._payload),Q,se,ce,me)}}if(Ne)return me=me(R),Ne=ce===""?"."+Se(R,0):ce,le(me)?(se="",Ne!=null&&(se=Ne.replace(w,"$&/")+"/"),X(me,Q,se,"",function(mt){return mt})):me!=null&&(T(me)&&(me=P(me,se+(me.key==null||R&&R.key===me.key?"":(""+me.key).replace(w,"$&/")+"/")+Ne)),Q.push(me)),1;Ne=0;var Ge=ce===""?".":ce+":";if(le(R))for(var ke=0;ke<R.length;ke++)ce=R[ke],ve=Ge+Se(ce,ke),Ne+=X(ce,Q,se,ve,me);else if(ke=j(R),typeof ke=="function")for(R=ke.call(R),ke=0;!(ce=R.next()).done;)ce=ce.value,ve=Ge+Se(ce,ke++),Ne+=X(ce,Q,se,ve,me);else if(ve==="object"){if(typeof R.then=="function")return X(De(R),Q,se,ce,me);throw Q=String(R),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function ue(R,Q,se){if(R==null)return R;var ce=[],me=0;return X(R,ce,"","",function(ve){return Q.call(se,ve,me++)}),ce}function _e(R){if(R._status===-1){var Q=R._result;Q=Q(),Q.then(function(se){(R._status===0||R._status===-1)&&(R._status=1,R._result=se)},function(se){(R._status===0||R._status===-1)&&(R._status=2,R._result=se)}),R._status===-1&&(R._status=0,R._result=Q)}if(R._status===1)return R._result.default;throw R._result}var Ve=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},He={map:ue,forEach:function(R,Q,se){ue(R,function(){Q.apply(this,arguments)},se)},count:function(R){var Q=0;return ue(R,function(){Q++}),Q},toArray:function(R){return ue(R,function(Q){return Q})||[]},only:function(R){if(!T(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return je.Activity=E,je.Children=He,je.Component=ee,je.Fragment=n,je.Profiler=o,je.PureComponent=re,je.StrictMode=r,je.Suspense=g,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,je.__COMPILER_RUNTIME={__proto__:null,c:function(R){return I.H.useMemoCache(R)}},je.cache=function(R){return function(){return R.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(R,Q,se){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ce=L({},R.props),me=R.key;if(Q!=null)for(ve in Q.key!==void 0&&(me=""+Q.key),Q)!C.call(Q,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&Q.ref===void 0||(ce[ve]=Q[ve]);var ve=arguments.length-2;if(ve===1)ce.children=se;else if(1<ve){for(var Ne=Array(ve),Ge=0;Ge<ve;Ge++)Ne[Ge]=arguments[Ge+2];ce.children=Ne}return O(R.type,me,ce)},je.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:c,_context:R},R},je.createElement=function(R,Q,se){var ce,me={},ve=null;if(Q!=null)for(ce in Q.key!==void 0&&(ve=""+Q.key),Q)C.call(Q,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(me[ce]=Q[ce]);var Ne=arguments.length-2;if(Ne===1)me.children=se;else if(1<Ne){for(var Ge=Array(Ne),ke=0;ke<Ne;ke++)Ge[ke]=arguments[ke+2];me.children=Ge}if(R&&R.defaultProps)for(ce in Ne=R.defaultProps,Ne)me[ce]===void 0&&(me[ce]=Ne[ce]);return O(R,ve,me)},je.createRef=function(){return{current:null}},je.forwardRef=function(R){return{$$typeof:m,render:R}},je.isValidElement=T,je.lazy=function(R){return{$$typeof:x,_payload:{_status:-1,_result:R},_init:_e}},je.memo=function(R,Q){return{$$typeof:y,type:R,compare:Q===void 0?null:Q}},je.startTransition=function(R){var Q=I.T,se={};I.T=se;try{var ce=R(),me=I.S;me!==null&&me(se,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(he,Ve)}catch(ve){Ve(ve)}finally{Q!==null&&se.types!==null&&(Q.types=se.types),I.T=Q}},je.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},je.use=function(R){return I.H.use(R)},je.useActionState=function(R,Q,se){return I.H.useActionState(R,Q,se)},je.useCallback=function(R,Q){return I.H.useCallback(R,Q)},je.useContext=function(R){return I.H.useContext(R)},je.useDebugValue=function(){},je.useDeferredValue=function(R,Q){return I.H.useDeferredValue(R,Q)},je.useEffect=function(R,Q){return I.H.useEffect(R,Q)},je.useEffectEvent=function(R){return I.H.useEffectEvent(R)},je.useId=function(){return I.H.useId()},je.useImperativeHandle=function(R,Q,se){return I.H.useImperativeHandle(R,Q,se)},je.useInsertionEffect=function(R,Q){return I.H.useInsertionEffect(R,Q)},je.useLayoutEffect=function(R,Q){return I.H.useLayoutEffect(R,Q)},je.useMemo=function(R,Q){return I.H.useMemo(R,Q)},je.useOptimistic=function(R,Q){return I.H.useOptimistic(R,Q)},je.useReducer=function(R,Q,se){return I.H.useReducer(R,Q,se)},je.useRef=function(R){return I.H.useRef(R)},je.useState=function(R){return I.H.useState(R)},je.useSyncExternalStore=function(R,Q,se){return I.H.useSyncExternalStore(R,Q,se)},je.useTransition=function(){return I.H.useTransition()},je.version="19.2.4",je}var ov;function Sm(){return ov||(ov=1,Np.exports=zT()),Np.exports}var D=Sm();const UT=ax(D);var Rp={exports:{}},tc={},Cp={exports:{}},Ip={};var lv;function BT(){return lv||(lv=1,(function(i){function e(X,ue){var _e=X.length;X.push(ue);e:for(;0<_e;){var Ve=_e-1>>>1,He=X[Ve];if(0<o(He,ue))X[Ve]=ue,X[_e]=He,_e=Ve;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ue=X[0],_e=X.pop();if(_e!==ue){X[0]=_e;e:for(var Ve=0,He=X.length,R=He>>>1;Ve<R;){var Q=2*(Ve+1)-1,se=X[Q],ce=Q+1,me=X[ce];if(0>o(se,_e))ce<He&&0>o(me,se)?(X[Ve]=me,X[ce]=_e,Ve=ce):(X[Ve]=se,X[Q]=_e,Ve=Q);else if(ce<He&&0>o(me,_e))X[Ve]=me,X[ce]=_e,Ve=ce;else break e}}return ue}function o(X,ue){var _e=X.sortIndex-ue.sortIndex;return _e!==0?_e:X.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var g=[],y=[],x=1,E=null,N=3,j=!1,U=!1,L=!1,B=!1,ee=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function oe(X){for(var ue=n(y);ue!==null;){if(ue.callback===null)r(y);else if(ue.startTime<=X)r(y),ue.sortIndex=ue.expirationTime,e(g,ue);else break;ue=n(y)}}function le(X){if(L=!1,oe(X),!U)if(n(g)!==null)U=!0,he||(he=!0,k());else{var ue=n(y);ue!==null&&De(le,ue.startTime-X)}}var he=!1,I=-1,C=5,O=-1;function P(){return B?!0:!(i.unstable_now()-O<C)}function T(){if(B=!1,he){var X=i.unstable_now();O=X;var ue=!0;try{e:{U=!1,L&&(L=!1,J(I),I=-1),j=!0;var _e=N;try{t:{for(oe(X),E=n(g);E!==null&&!(E.expirationTime>X&&P());){var Ve=E.callback;if(typeof Ve=="function"){E.callback=null,N=E.priorityLevel;var He=Ve(E.expirationTime<=X);if(X=i.unstable_now(),typeof He=="function"){E.callback=He,oe(X),ue=!0;break t}E===n(g)&&r(g),oe(X)}else r(g);E=n(g)}if(E!==null)ue=!0;else{var R=n(y);R!==null&&De(le,R.startTime-X),ue=!1}}break e}finally{E=null,N=_e,j=!1}ue=void 0}}finally{ue?k():he=!1}}}var k;if(typeof re=="function")k=function(){re(T)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Se=w.port2;w.port1.onmessage=T,k=function(){Se.postMessage(null)}}else k=function(){ee(T,0)};function De(X,ue){I=ee(function(){X(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_next=function(X){switch(N){case 1:case 2:case 3:var ue=3;break;default:ue=N}var _e=N;N=ue;try{return X()}finally{N=_e}},i.unstable_requestPaint=function(){B=!0},i.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var _e=N;N=X;try{return ue()}finally{N=_e}},i.unstable_scheduleCallback=function(X,ue,_e){var Ve=i.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Ve+_e:Ve):_e=Ve,X){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=_e+He,X={id:x++,callback:ue,priorityLevel:X,startTime:_e,expirationTime:He,sortIndex:-1},_e>Ve?(X.sortIndex=_e,e(y,X),n(g)===null&&X===n(y)&&(L?(J(I),I=-1):L=!0,De(le,_e-Ve))):(X.sortIndex=He,e(g,X),U||j||(U=!0,he||(he=!0,k()))),X},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(X){var ue=N;return function(){var _e=N;N=ue;try{return X.apply(this,arguments)}finally{N=_e}}}})(Ip)),Ip}var cv;function HT(){return cv||(cv=1,Cp.exports=BT()),Cp.exports}var Op={exports:{}},fn={};var uv;function qT(){if(uv)return fn;uv=1;var i=Sm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:y,implementation:x}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,x)},fn.flushSync=function(g){var y=d.T,x=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=x,r.d.f()}},fn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},fn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},fn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,E=m(x,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:N,fetchPriority:j}):x==="script"&&r.d.X(g,{crossOrigin:E,integrity:N,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},fn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},fn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,E=m(x,y.crossOrigin);r.d.L(g,x,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},fn.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},fn.requestFormReset=function(g){r.d.r(g)},fn.unstable_batchedUpdates=function(g,y){return g(y)},fn.useFormState=function(g,y,x){return d.H.useFormState(g,y,x)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.2.4",fn}var dv;function FT(){if(dv)return Op.exports;dv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Op.exports=qT(),Op.exports}var fv;function GT(){if(fv)return tc;fv=1;var i=HT(),e=Sm(),n=FT();function r(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function d(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function m(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var a=t.alternate;if(!a){if(a=c(t),a===null)throw Error(r(188));return a!==t?null:t}for(var s=t,l=a;;){var f=s.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===s)return g(f),t;if(p===l)return g(f),a;p=p.sibling}throw Error(r(188))}if(s.return!==l.return)s=f,l=p;else{for(var v=!1,A=f.child;A;){if(A===s){v=!0,s=f,l=p;break}if(A===l){v=!0,l=f,s=p;break}A=A.sibling}if(!v){for(A=p.child;A;){if(A===s){v=!0,s=p,l=f;break}if(A===l){v=!0,l=p,s=f;break}A=A.sibling}if(!v)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:a}function x(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=x(t),a!==null)return a;t=t.sibling}return null}var E=Object.assign,N=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),re=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=T&&t[T]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case ee:return"Profiler";case B:return"StrictMode";case le:return"Suspense";case he:return"SuspenseList";case O:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case re:return t.displayName||"Context";case J:return(t._context.displayName||"Context")+".Consumer";case oe:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return a=t.displayName||null,a!==null?a:Se(t.type)||"Memo";case C:a=t._payload,t=t._init;try{return Se(t(a))}catch{}}return null}var De=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Ve=[],He=-1;function R(t){return{current:t}}function Q(t){0>He||(t.current=Ve[He],Ve[He]=null,He--)}function se(t,a){He++,Ve[He]=t.current,t.current=a}var ce=R(null),me=R(null),ve=R(null),Ne=R(null);function Ge(t,a){switch(se(ve,a),se(me,t),se(ce,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?Nb(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=Nb(a),t=Rb(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ce),se(ce,t)}function ke(){Q(ce),Q(me),Q(ve)}function mt(t){t.memoizedState!==null&&se(Ne,t);var a=ce.current,s=Rb(a,t.type);a!==s&&(se(me,t),se(ce,s))}function Wt(t){me.current===t&&(Q(ce),Q(me)),Ne.current===t&&(Q(Ne),Xl._currentValue=_e)}var Qt,W;function Ee(t){if(Qt===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Qt=a&&a[1]||"",W=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qt+t+W}var fe=!1;function Re(t,a){if(!t||fe)return"";fe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch($){var K=$}Reflect.construct(t,[],ae)}else{try{ae.call()}catch($){K=$}t.call(ae.prototype)}}else{try{throw Error()}catch($){K=$}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),v=p[0],A=p[1];if(v&&A){var M=v.split(`
`),G=A.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===G.length)for(l=M.length-1,f=G.length-1;1<=l&&0<=f&&M[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==G[f]){var Z=`
`+M[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=f);break}}}finally{fe=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ee(s):""}function Le(t,a){switch(t.tag){case 26:case 27:case 5:return Ee(t.type);case 16:return Ee("Lazy");case 13:return t.child!==a&&a!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return Re(t.type,!1);case 11:return Re(t.type.render,!1);case 1:return Re(t.type,!0);case 31:return Ee("Activity");default:return""}}function H(t){try{var a="",s=null;do a+=Le(t,s),s=t,t=t.return;while(t);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var be=Object.prototype.hasOwnProperty,Je=i.unstable_scheduleCallback,un=i.unstable_cancelCallback,_n=i.unstable_shouldYield,jn=i.unstable_requestPaint,Zt=i.unstable_now,li=i.unstable_getCurrentPriorityLevel,Br=i.unstable_ImmediatePriority,Hr=i.unstable_UserBlockingPriority,dn=i.unstable_NormalPriority,xn=i.unstable_LowPriority,qr=i.unstable_IdlePriority,zc=i.log,Uc=i.unstable_setDisableYieldValue,ua=null,en=null;function Yn(t){if(typeof zc=="function"&&Uc(t),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(ua,t)}catch{}}var Nt=Math.clz32?Math.clz32:Hc,Bc=Math.log,Ps=Math.LN2;function Hc(t){return t>>>=0,t===0?32:31-(Bc(t)/Ps|0)|0}var Ra=256,Fr=262144,kt=4194304;function Ca(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ia(t,a,s){var l=t.pendingLanes;if(l===0)return 0;var f=0,p=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~p,l!==0?f=Ca(l):(v&=A,v!==0?f=Ca(v):s||(s=A&~t,s!==0&&(f=Ca(s))))):(A=l&~p,A!==0?f=Ca(A):v!==0?f=Ca(v):s||(s=l&~t,s!==0&&(f=Ca(s)))),f===0?0:a!==0&&a!==f&&(a&p)===0&&(p=f&-f,s=a&-a,p>=s||p===32&&(s&4194048)!==0)?a:f}function da(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function If(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qc(){var t=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),t}function Oa(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function Gr(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Of(t,a,s,l,f,p){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var A=t.entanglements,M=t.expirationTimes,G=t.hiddenUpdates;for(s=v&~s;0<s;){var Z=31-Nt(s),ae=1<<Z;A[Z]=0,M[Z]=-1;var K=G[Z];if(K!==null)for(G[Z]=null,Z=0;Z<K.length;Z++){var $=K[Z];$!==null&&($.lane&=-536870913)}s&=~ae}l!==0&&Kr(t,l,0),p!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=p&~(v&~a))}function Kr(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var l=31-Nt(a);t.entangledLanes|=a,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function tl(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var l=31-Nt(s),f=1<<l;f&a|t[l]&a&&(t[l]|=a),s&=~f}}function nl(t,a){var s=a&-a;return s=(s&42)!==0?1:Qr(s),(s&(t.suspendedLanes|a))!==0?0:s}function Qr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ci(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fc(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:Jb(t.type))}function fa(t,a){var s=ue.p;try{return ue.p=t,a()}finally{ue.p=s}}var ha=Math.random().toString(36).slice(2),jt="__reactFiber$"+ha,Yt="__reactProps$"+ha,Da="__reactContainer$"+ha,Vs="__reactEvents$"+ha,Df="__reactListeners$"+ha,Gc="__reactHandles$"+ha,Kc="__reactResources$"+ha,Ma="__reactMarker$"+ha;function Ls(t){delete t[jt],delete t[Yt],delete t[Vs],delete t[Df],delete t[Gc]}function ka(t){var a=t[jt];if(a)return a;for(var s=t.parentNode;s;){if(a=s[Da]||s[jt]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=jb(t);t!==null;){if(s=t[jt])return s;t=jb(t)}return a}t=s,s=t.parentNode}return null}function $n(t){if(t=t[jt]||t[Da]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function Pn(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(r(33))}function ja(t){var a=t[Kc];return a||(a=t[Kc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Pt(t){t[Ma]=!0}var al=new Set,il={};function Pa(t,a){Va(t,a),Va(t+"Capture",a)}function Va(t,a){for(il[t]=a,t=0;t<a.length;t++)al.add(a[t])}var rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sl={},ol={};function Qc(t){return be.call(ol,t)?!0:be.call(sl,t)?!1:rl.test(t)?ol[t]=!0:(sl[t]=!0,!1)}function zs(t,a,s){if(Qc(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function Vn(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function Vt(t,a,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+l)}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hi(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ll(t,a,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return f.call(this)},set:function(v){s=""+v,p.call(this,v)}}),Object.defineProperty(t,a,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function ot(t){if(!t._valueTracker){var a=Hi(t)?"checked":"value";t._valueTracker=ll(t,a,""+t[a])}}function Yr(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),l="";return t&&(l=Hi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(a.setValue(t),!0):!1}function La(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $r=/[\n"\\]/g;function En(t){return t.replace($r,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Us(t,a,s,l,f,p,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),a!=null?v==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+$t(a)):t.value!==""+$t(a)&&(t.value=""+$t(a)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),a!=null?cl(t,v,$t(a)):s!=null?cl(t,v,$t(s)):l!=null&&t.removeAttribute("value"),f==null&&p!=null&&(t.defaultChecked=!!p),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+$t(A):t.removeAttribute("name")}function Yc(t,a,s,l,f,p,v,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),a!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){ot(t);return}s=s!=null?""+$t(s):"",a=a!=null?""+$t(a):s,A||a===t.value||(t.value=a),t.defaultValue=a}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),ot(t)}function cl(t,a,s){a==="number"&&La(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function qi(t,a,s,l){if(t=t.options,a){a={};for(var f=0;f<s.length;f++)a["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=a.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+$t(s),a=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}a!==null||t[f].disabled||(a=t[f])}a!==null&&(a.selected=!0)}}function $c(t,a,s){if(a!=null&&(a=""+$t(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+$t(s):""}function Fi(t,a,s,l){if(a==null){if(l!=null){if(s!=null)throw Error(r(92));if(De(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),a=s}s=$t(a),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),ot(t)}function An(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var Xc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ul(t,a,s){var l=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":l?t.setProperty(a,s):typeof s!="number"||s===0||Xc.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function dl(t,a,s){if(a!=null&&typeof a!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in a)l=a[f],a.hasOwnProperty(f)&&s[f]!==l&&ul(t,f,l)}else for(var p in a)a.hasOwnProperty(p)&&ul(t,p,a[p])}function Bs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hs(t){return Gi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function pa(){}var fl=null;function Xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,za=null;function Xr(t){var a=$n(t);if(a&&(t=a.stateNode)){var s=t[Yt]||null;e:switch(t=a.stateNode,a.type){case"input":if(Us(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+En(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var l=s[a];if(l!==t&&l.form===t.form){var f=l[Yt]||null;if(!f)throw Error(r(90));Us(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<s.length;a++)l=s[a],l.form===t.form&&Yr(l)}break e;case"textarea":$c(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&qi(t,!!s.multiple,a,!1)}}}var qs=!1;function Qi(t,a,s){if(qs)return t(a,s);qs=!0;try{var l=t(a);return l}finally{if(qs=!1,(Ki!==null||za!==null)&&(Fu(),Ki&&(a=Ki,t=za,za=Ki=null,Xr(a),t)))for(a=0;a<t.length;a++)Xr(t[a])}}function ma(t,a){var s=t.stateNode;if(s===null)return null;var l=s[Yt]||null;if(l===null)return null;s=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,a,typeof s));return s}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jr=!1;if(Jn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Jr=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Jr=!1}var Ua=null,hl=null,Wr=null;function pl(){if(Wr)return Wr;var t,a=hl,s=a.length,l,f="value"in Ua?Ua.value:Ua.textContent,p=f.length;for(t=0;t<s&&a[t]===f[t];t++);var v=s-t;for(l=1;l<=v&&a[s-l]===f[p-l];l++);return Wr=f.slice(t,1<l?1-l:void 0)}function Zr(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function ui(){return!0}function ga(){return!1}function tn(t){function a(s,l,f,p,v){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(s=t[A],this[A]=s?s(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ui:ga,this.isPropagationStopped=ga,this}return E(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),a}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=tn(di),Yi=E({},di,{view:0,detail:0}),ml=tn(Yi),$i,Fs,Ha,Gs=E({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ha&&(Ha&&t.type==="mousemove"?($i=t.screenX-Ha.screenX,Fs=t.screenY-Ha.screenY):Fs=$i=0,Ha=t),$i)},movementY:function(t){return"movementY"in t?t.movementY:Fs}}),gl=tn(Gs),es=E({},Gs,{dataTransfer:0}),Wc=tn(es),Zc=E({},Yi,{relatedTarget:0}),ts=tn(Zc),yl=E({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),eu=tn(yl),Ks=E({},di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tu=tn(Ks),nu=E({},di,{data:0}),qa=tn(nu),au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function su(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=ru[t])?!!a[t]:!1}function Xi(){return su}var yn=E({},Yi,{key:function(t){if(t.key){var a=au[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Zr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(t){return t.type==="keypress"?Zr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ou=tn(yn),lu=E({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fi=tn(lu),u=E({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),b=tn(u),_=E({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=tn(_),q=E({},Gs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=tn(q),de=E({},di,{newState:0,oldState:0}),ze=tn(de),Rt=[9,13,27,32],nt=Jn&&"CompositionEvent"in window,_t=null;Jn&&"documentMode"in document&&(_t=document.documentMode);var Wn=Jn&&"TextEvent"in window&&!_t,Fa=Jn&&(!nt||_t&&8<_t&&11>=_t),ya=" ",ba=!1;function ns(t,a){switch(t){case"keyup":return Rt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ys=!1;function o1(t,a){switch(t){case"compositionend":return Qs(a);case"keypress":return a.which!==32?null:(ba=!0,ya);case"textInput":return t=a.data,t===ya&&ba?null:t;default:return null}}function l1(t,a){if(Ys)return t==="compositionend"||!nt&&ns(t,a)?(t=pl(),Wr=hl=Ua=null,Ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Fa&&a.locale!=="ko"?null:a.data;default:return null}}var c1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lg(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!c1[t.type]:a==="textarea"}function zg(t,a,s,l){Ki?za?za.push(l):za=[l]:Ki=l,a=Ju(a,"onChange"),0<a.length&&(s=new Ba("onChange","change",null,s,l),t.push({event:s,listeners:a}))}var bl=null,vl=null;function u1(t){xb(t,0)}function cu(t){var a=Pn(t);if(Yr(a))return t}function Ug(t,a){if(t==="change")return a}var Bg=!1;if(Jn){var Mf;if(Jn){var kf="oninput"in document;if(!kf){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),kf=typeof Hg.oninput=="function"}Mf=kf}else Mf=!1;Bg=Mf&&(!document.documentMode||9<document.documentMode)}function qg(){bl&&(bl.detachEvent("onpropertychange",Fg),vl=bl=null)}function Fg(t){if(t.propertyName==="value"&&cu(vl)){var a=[];zg(a,vl,t,Xn(t)),Qi(u1,a)}}function d1(t,a,s){t==="focusin"?(qg(),bl=a,vl=s,bl.attachEvent("onpropertychange",Fg)):t==="focusout"&&qg()}function f1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cu(vl)}function h1(t,a){if(t==="click")return cu(a)}function p1(t,a){if(t==="input"||t==="change")return cu(a)}function m1(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Ln=typeof Object.is=="function"?Object.is:m1;function _l(t,a){if(Ln(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),l=Object.keys(a);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!be.call(a,f)||!Ln(t[f],a[f]))return!1}return!0}function Gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kg(t,a){var s=Gg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=a&&l>=a)return{node:s,offset:a-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Gg(s)}}function Qg(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Qg(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Yg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=La(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=La(t.document)}return a}function jf(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var g1=Jn&&"documentMode"in document&&11>=document.documentMode,$s=null,Pf=null,xl=null,Vf=!1;function $g(t,a,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Vf||$s==null||$s!==La(l)||(l=$s,"selectionStart"in l&&jf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xl&&_l(xl,l)||(xl=l,l=Ju(Pf,"onSelect"),0<l.length&&(a=new Ba("onSelect","select",null,a,s),t.push({event:a,listeners:l}),a.target=$s)))}function as(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var Xs={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Lf={},Xg={};Jn&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function is(t){if(Lf[t])return Lf[t];if(!Xs[t])return t;var a=Xs[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in Xg)return Lf[t]=a[s];return t}var Jg=is("animationend"),Wg=is("animationiteration"),Zg=is("animationstart"),y1=is("transitionrun"),b1=is("transitionstart"),v1=is("transitioncancel"),e0=is("transitionend"),t0=new Map,zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zf.push("scrollEnd");function va(t,a){t0.set(t,a),Pa(a,[t])}var uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Zn=[],Js=0,Uf=0;function du(){for(var t=Js,a=Uf=Js=0;a<t;){var s=Zn[a];Zn[a++]=null;var l=Zn[a];Zn[a++]=null;var f=Zn[a];Zn[a++]=null;var p=Zn[a];if(Zn[a++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}p!==0&&n0(s,f,p)}}function fu(t,a,s,l){Zn[Js++]=t,Zn[Js++]=a,Zn[Js++]=s,Zn[Js++]=l,Uf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Bf(t,a,s,l){return fu(t,a,s,l),hu(t)}function rs(t,a){return fu(t,null,null,a),hu(t)}function n0(t,a,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,p=t.return;p!==null;)p.childLanes|=s,l=p.alternate,l!==null&&(l.childLanes|=s),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(f=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,f&&a!==null&&(f=31-Nt(s),t=p.hiddenUpdates,l=t[f],l===null?t[f]=[a]:l.push(a),a.lane=s|536870912),p):null}function hu(t){if(50<ql)throw ql=0,Xh=null,Error(r(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Ws={};function _1(t,a,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,a,s,l){return new _1(t,a,s,l)}function Hf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hi(t,a){var s=t.alternate;return s===null?(s=zn(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function a0(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function pu(t,a,s,l,f,p){var v=0;if(l=t,typeof t=="function")Hf(t)&&(v=1);else if(typeof t=="string")v=ST(t,s,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case O:return t=zn(31,s,a,f),t.elementType=O,t.lanes=p,t;case L:return ss(s.children,f,p,a);case B:v=8,f|=24;break;case ee:return t=zn(12,s,a,f|2),t.elementType=ee,t.lanes=p,t;case le:return t=zn(13,s,a,f),t.elementType=le,t.lanes=p,t;case he:return t=zn(19,s,a,f),t.elementType=he,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case J:v=9;break e;case oe:v=11;break e;case I:v=14;break e;case C:v=16,l=null;break e}v=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return a=zn(v,s,a,f),a.elementType=t,a.type=l,a.lanes=p,a}function ss(t,a,s,l){return t=zn(7,t,l,a),t.lanes=s,t}function qf(t,a,s){return t=zn(6,t,null,a),t.lanes=s,t}function i0(t){var a=zn(18,null,null,0);return a.stateNode=t,a}function Ff(t,a,s){return a=zn(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var r0=new WeakMap;function ea(t,a){if(typeof t=="object"&&t!==null){var s=r0.get(t);return s!==void 0?s:(a={value:t,source:a,stack:H(a)},r0.set(t,a),a)}return{value:t,source:a,stack:H(a)}}var Zs=[],eo=0,mu=null,El=0,ta=[],na=0,Ji=null,Ga=1,Ka="";function pi(t,a){Zs[eo++]=El,Zs[eo++]=mu,mu=t,El=a}function s0(t,a,s){ta[na++]=Ga,ta[na++]=Ka,ta[na++]=Ji,Ji=t;var l=Ga;t=Ka;var f=32-Nt(l)-1;l&=~(1<<f),s+=1;var p=32-Nt(a)+f;if(30<p){var v=f-f%5;p=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Ga=1<<32-Nt(a)+f|s<<f|l,Ka=p+t}else Ga=1<<p|s<<f|l,Ka=t}function Gf(t){t.return!==null&&(pi(t,1),s0(t,1,0))}function Kf(t){for(;t===mu;)mu=Zs[--eo],Zs[eo]=null,El=Zs[--eo],Zs[eo]=null;for(;t===Ji;)Ji=ta[--na],ta[na]=null,Ka=ta[--na],ta[na]=null,Ga=ta[--na],ta[na]=null}function o0(t,a){ta[na++]=Ga,ta[na++]=Ka,ta[na++]=Ji,Ga=a.id,Ka=a.overflow,Ji=t}var nn=null,yt=null,We=!1,Wi=null,aa=!1,Qf=Error(r(519));function Zi(t){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Al(ea(a,t)),Qf}function l0(t){var a=t.stateNode,s=t.type,l=t.memoizedProps;switch(a[jt]=t,a[Yt]=l,s){case"dialog":Fe("cancel",a),Fe("close",a);break;case"iframe":case"object":case"embed":Fe("load",a);break;case"video":case"audio":for(s=0;s<Gl.length;s++)Fe(Gl[s],a);break;case"source":Fe("error",a);break;case"img":case"image":case"link":Fe("error",a),Fe("load",a);break;case"details":Fe("toggle",a);break;case"input":Fe("invalid",a),Yc(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Fe("invalid",a);break;case"textarea":Fe("invalid",a),Fi(a,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||l.suppressHydrationWarning===!0||Sb(a.textContent,s)?(l.popover!=null&&(Fe("beforetoggle",a),Fe("toggle",a)),l.onScroll!=null&&Fe("scroll",a),l.onScrollEnd!=null&&Fe("scrollend",a),l.onClick!=null&&(a.onclick=pa),a=!0):a=!1,a||Zi(t,!0)}function c0(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:aa=!1;return;case 27:case 3:aa=!0;return;default:nn=nn.return}}function to(t){if(t!==nn)return!1;if(!We)return c0(t),We=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||dp(t.type,t.memoizedProps)),s=!s),s&&yt&&Zi(t),c0(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));yt=kb(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));yt=kb(t)}else a===27?(a=yt,hr(t.type)?(t=gp,gp=null,yt=t):yt=a):yt=nn?ra(t.stateNode.nextSibling):null;return!0}function os(){yt=nn=null,We=!1}function Yf(){var t=Wi;return t!==null&&(Nn===null?Nn=t:Nn.push.apply(Nn,t),Wi=null),t}function Al(t){Wi===null?Wi=[t]:Wi.push(t)}var $f=R(null),ls=null,mi=null;function er(t,a,s){se($f,a._currentValue),a._currentValue=s}function gi(t){t._currentValue=$f.current,Q($f)}function Xf(t,a,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),t===s)break;t=t.return}}function Jf(t,a,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var p=f.dependencies;if(p!==null){var v=f.child;p=p.firstContext;e:for(;p!==null;){var A=p;p=f;for(var M=0;M<a.length;M++)if(A.context===a[M]){p.lanes|=s,A=p.alternate,A!==null&&(A.lanes|=s),Xf(p.return,s,t),l||(v=null);break e}p=A.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(r(341));v.lanes|=s,p=v.alternate,p!==null&&(p.lanes|=s),Xf(v,s,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function no(t,a,s,l){t=null;for(var f=a,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var A=f.type;Ln(f.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(f===Ne.current){if(v=f.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Xl):t=[Xl])}f=f.return}t!==null&&Jf(a,t,s,l),a.flags|=262144}function gu(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function cs(t){ls=t,mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return u0(ls,t)}function yu(t,a){return ls===null&&cs(t),u0(t,a)}function u0(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},mi===null){if(t===null)throw Error(r(308));mi=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else mi=mi.next=a;return s}var x1=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},E1=i.unstable_scheduleCallback,A1=i.unstable_NormalPriority,Lt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wf(){return{controller:new x1,data:new Map,refCount:0}}function Tl(t){t.refCount--,t.refCount===0&&E1(A1,function(){t.controller.abort()})}var Sl=null,Zf=0,ao=0,io=null;function T1(t,a){if(Sl===null){var s=Sl=[];Zf=0,ao=np(),io={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Zf++,a.then(d0,d0),a}function d0(){if(--Zf===0&&Sl!==null){io!==null&&(io.status="fulfilled");var t=Sl;Sl=null,ao=0,io=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function S1(t,a){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=a;for(var f=0;f<s.length;f++)(0,s[f])(a)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var f0=X.S;X.S=function(t,a){$y=Zt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&T1(t,a),f0!==null&&f0(t,a)};var us=R(null);function eh(){var t=us.current;return t!==null?t:pt.pooledCache}function bu(t,a){a===null?se(us,us.current):se(us,a.pool)}function h0(){var t=eh();return t===null?null:{parent:Lt._currentValue,pool:t}}var ro=Error(r(460)),th=Error(r(474)),vu=Error(r(542)),_u={then:function(){}};function p0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function m0(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(pa,pa),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,y0(t),t;default:if(typeof a.status=="string")a.then(pa,pa);else{if(t=pt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=a,t.status="pending",t.then(function(l){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=l}},function(l){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,y0(t),t}throw fs=a,ro}}function ds(t){try{var a=t._init;return a(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(fs=s,ro):s}}var fs=null;function g0(){if(fs===null)throw Error(r(459));var t=fs;return fs=null,t}function y0(t){if(t===ro||t===vu)throw Error(r(483))}var so=null,wl=0;function xu(t){var a=wl;return wl+=1,so===null&&(so=[]),m0(so,t,a)}function Nl(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Eu(t,a){throw a.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(a),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function b0(t){function a(z,V){if(t){var F=z.deletions;F===null?(z.deletions=[V],z.flags|=16):F.push(V)}}function s(z,V){if(!t)return null;for(;V!==null;)a(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function f(z,V){return z=hi(z,V),z.index=0,z.sibling=null,z}function p(z,V,F){return z.index=F,t?(F=z.alternate,F!==null?(F=F.index,F<V?(z.flags|=67108866,V):F):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function A(z,V,F,te){return V===null||V.tag!==6?(V=qf(F,z.mode,te),V.return=z,V):(V=f(V,F),V.return=z,V)}function M(z,V,F,te){var Ae=F.type;return Ae===L?Z(z,V,F.props.children,te,F.key):V!==null&&(V.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===C&&ds(Ae)===V.type)?(V=f(V,F.props),Nl(V,F),V.return=z,V):(V=pu(F.type,F.key,F.props,null,z.mode,te),Nl(V,F),V.return=z,V)}function G(z,V,F,te){return V===null||V.tag!==4||V.stateNode.containerInfo!==F.containerInfo||V.stateNode.implementation!==F.implementation?(V=Ff(F,z.mode,te),V.return=z,V):(V=f(V,F.children||[]),V.return=z,V)}function Z(z,V,F,te,Ae){return V===null||V.tag!==7?(V=ss(F,z.mode,te,Ae),V.return=z,V):(V=f(V,F),V.return=z,V)}function ae(z,V,F){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=qf(""+V,z.mode,F),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case j:return F=pu(V.type,V.key,V.props,null,z.mode,F),Nl(F,V),F.return=z,F;case U:return V=Ff(V,z.mode,F),V.return=z,V;case C:return V=ds(V),ae(z,V,F)}if(De(V)||k(V))return V=ss(V,z.mode,F,null),V.return=z,V;if(typeof V.then=="function")return ae(z,xu(V),F);if(V.$$typeof===re)return ae(z,yu(z,V),F);Eu(z,V)}return null}function K(z,V,F,te){var Ae=V!==null?V.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Ae!==null?null:A(z,V,""+F,te);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case j:return F.key===Ae?M(z,V,F,te):null;case U:return F.key===Ae?G(z,V,F,te):null;case C:return F=ds(F),K(z,V,F,te)}if(De(F)||k(F))return Ae!==null?null:Z(z,V,F,te,null);if(typeof F.then=="function")return K(z,V,xu(F),te);if(F.$$typeof===re)return K(z,V,yu(z,F),te);Eu(z,F)}return null}function $(z,V,F,te,Ae){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return z=z.get(F)||null,A(V,z,""+te,Ae);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case j:return z=z.get(te.key===null?F:te.key)||null,M(V,z,te,Ae);case U:return z=z.get(te.key===null?F:te.key)||null,G(V,z,te,Ae);case C:return te=ds(te),$(z,V,F,te,Ae)}if(De(te)||k(te))return z=z.get(F)||null,Z(V,z,te,Ae,null);if(typeof te.then=="function")return $(z,V,F,xu(te),Ae);if(te.$$typeof===re)return $(z,V,F,yu(V,te),Ae);Eu(V,te)}return null}function ye(z,V,F,te){for(var Ae=null,et=null,xe=V,Be=V=0,Qe=null;xe!==null&&Be<F.length;Be++){xe.index>Be?(Qe=xe,xe=null):Qe=xe.sibling;var tt=K(z,xe,F[Be],te);if(tt===null){xe===null&&(xe=Qe);break}t&&xe&&tt.alternate===null&&a(z,xe),V=p(tt,V,Be),et===null?Ae=tt:et.sibling=tt,et=tt,xe=Qe}if(Be===F.length)return s(z,xe),We&&pi(z,Be),Ae;if(xe===null){for(;Be<F.length;Be++)xe=ae(z,F[Be],te),xe!==null&&(V=p(xe,V,Be),et===null?Ae=xe:et.sibling=xe,et=xe);return We&&pi(z,Be),Ae}for(xe=l(xe);Be<F.length;Be++)Qe=$(xe,z,Be,F[Be],te),Qe!==null&&(t&&Qe.alternate!==null&&xe.delete(Qe.key===null?Be:Qe.key),V=p(Qe,V,Be),et===null?Ae=Qe:et.sibling=Qe,et=Qe);return t&&xe.forEach(function(br){return a(z,br)}),We&&pi(z,Be),Ae}function Ce(z,V,F,te){if(F==null)throw Error(r(151));for(var Ae=null,et=null,xe=V,Be=V=0,Qe=null,tt=F.next();xe!==null&&!tt.done;Be++,tt=F.next()){xe.index>Be?(Qe=xe,xe=null):Qe=xe.sibling;var br=K(z,xe,tt.value,te);if(br===null){xe===null&&(xe=Qe);break}t&&xe&&br.alternate===null&&a(z,xe),V=p(br,V,Be),et===null?Ae=br:et.sibling=br,et=br,xe=Qe}if(tt.done)return s(z,xe),We&&pi(z,Be),Ae;if(xe===null){for(;!tt.done;Be++,tt=F.next())tt=ae(z,tt.value,te),tt!==null&&(V=p(tt,V,Be),et===null?Ae=tt:et.sibling=tt,et=tt);return We&&pi(z,Be),Ae}for(xe=l(xe);!tt.done;Be++,tt=F.next())tt=$(xe,z,Be,tt.value,te),tt!==null&&(t&&tt.alternate!==null&&xe.delete(tt.key===null?Be:tt.key),V=p(tt,V,Be),et===null?Ae=tt:et.sibling=tt,et=tt);return t&&xe.forEach(function(PT){return a(z,PT)}),We&&pi(z,Be),Ae}function ht(z,V,F,te){if(typeof F=="object"&&F!==null&&F.type===L&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case j:e:{for(var Ae=F.key;V!==null;){if(V.key===Ae){if(Ae=F.type,Ae===L){if(V.tag===7){s(z,V.sibling),te=f(V,F.props.children),te.return=z,z=te;break e}}else if(V.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===C&&ds(Ae)===V.type){s(z,V.sibling),te=f(V,F.props),Nl(te,F),te.return=z,z=te;break e}s(z,V);break}else a(z,V);V=V.sibling}F.type===L?(te=ss(F.props.children,z.mode,te,F.key),te.return=z,z=te):(te=pu(F.type,F.key,F.props,null,z.mode,te),Nl(te,F),te.return=z,z=te)}return v(z);case U:e:{for(Ae=F.key;V!==null;){if(V.key===Ae)if(V.tag===4&&V.stateNode.containerInfo===F.containerInfo&&V.stateNode.implementation===F.implementation){s(z,V.sibling),te=f(V,F.children||[]),te.return=z,z=te;break e}else{s(z,V);break}else a(z,V);V=V.sibling}te=Ff(F,z.mode,te),te.return=z,z=te}return v(z);case C:return F=ds(F),ht(z,V,F,te)}if(De(F))return ye(z,V,F,te);if(k(F)){if(Ae=k(F),typeof Ae!="function")throw Error(r(150));return F=Ae.call(F),Ce(z,V,F,te)}if(typeof F.then=="function")return ht(z,V,xu(F),te);if(F.$$typeof===re)return ht(z,V,yu(z,F),te);Eu(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,V!==null&&V.tag===6?(s(z,V.sibling),te=f(V,F),te.return=z,z=te):(s(z,V),te=qf(F,z.mode,te),te.return=z,z=te),v(z)):s(z,V)}return function(z,V,F,te){try{wl=0;var Ae=ht(z,V,F,te);return so=null,Ae}catch(xe){if(xe===ro||xe===vu)throw xe;var et=zn(29,xe,null,z.mode);return et.lanes=te,et.return=z,et}}}var hs=b0(!0),v0=b0(!1),tr=!1;function nh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ah(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function nr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ar(t,a,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(at&2)!==0){var f=l.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),l.pending=a,a=hu(t),n0(t,null,s),a}return fu(t,l,a,s),hu(t)}function Rl(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var l=a.lanes;l&=t.pendingLanes,s|=l,a.lanes=s,tl(t,s)}}function ih(t,a){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?f=p=v:p=p.next=v,s=s.next}while(s!==null);p===null?f=p=a:p=p.next=a}else f=p=a;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var rh=!1;function Cl(){if(rh){var t=io;if(t!==null)throw t}}function Il(t,a,s,l){rh=!1;var f=t.updateQueue;tr=!1;var p=f.firstBaseUpdate,v=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var M=A,G=M.next;M.next=null,v===null?p=G:v.next=G,v=M;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==v&&(A===null?Z.firstBaseUpdate=G:A.next=G,Z.lastBaseUpdate=M))}if(p!==null){var ae=f.baseState;v=0,Z=G=M=null,A=p;do{var K=A.lane&-536870913,$=K!==A.lane;if($?(Ke&K)===K:(l&K)===K){K!==0&&K===ao&&(rh=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ye=t,Ce=A;K=a;var ht=s;switch(Ce.tag){case 1:if(ye=Ce.payload,typeof ye=="function"){ae=ye.call(ht,ae,K);break e}ae=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ce.payload,K=typeof ye=="function"?ye.call(ht,ae,K):ye,K==null)break e;ae=E({},ae,K);break e;case 2:tr=!0}}K=A.callback,K!==null&&(t.flags|=64,$&&(t.flags|=8192),$=f.callbacks,$===null?f.callbacks=[K]:$.push(K))}else $={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(G=Z=$,M=ae):Z=Z.next=$,v|=K;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;$=A,A=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);Z===null&&(M=ae),f.baseState=M,f.firstBaseUpdate=G,f.lastBaseUpdate=Z,p===null&&(f.shared.lanes=0),lr|=v,t.lanes=v,t.memoizedState=ae}}function _0(t,a){if(typeof t!="function")throw Error(r(191,t));t.call(a)}function x0(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)_0(s[t],a)}var oo=R(null),Au=R(0);function E0(t,a){t=Si,se(Au,t),se(oo,a),Si=t|a.baseLanes}function sh(){se(Au,Si),se(oo,oo.current)}function oh(){Si=Au.current,Q(oo),Q(Au)}var Un=R(null),ia=null;function ir(t){var a=t.alternate;se(Ct,Ct.current&1),se(Un,t),ia===null&&(a===null||oo.current!==null||a.memoizedState!==null)&&(ia=t)}function lh(t){se(Ct,Ct.current),se(Un,t),ia===null&&(ia=t)}function A0(t){t.tag===22?(se(Ct,Ct.current),se(Un,t),ia===null&&(ia=t)):rr()}function rr(){se(Ct,Ct.current),se(Un,Un.current)}function Bn(t){Q(Un),ia===t&&(ia=null),Q(Ct)}var Ct=R(0);function Tu(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pp(s)||mp(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var yi=0,Ue=null,dt=null,zt=null,Su=!1,lo=!1,ps=!1,wu=0,Ol=0,co=null,w1=0;function Tt(){throw Error(r(321))}function ch(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!Ln(t[s],a[s]))return!1;return!0}function uh(t,a,s,l,f,p){return yi=p,Ue=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,X.H=t===null||t.memoizedState===null?sy:Sh,ps=!1,p=s(l,f),ps=!1,lo&&(p=S0(a,s,l,f)),T0(t),p}function T0(t){X.H=kl;var a=dt!==null&&dt.next!==null;if(yi=0,zt=dt=Ue=null,Su=!1,Ol=0,co=null,a)throw Error(r(300));t===null||Ut||(t=t.dependencies,t!==null&&gu(t)&&(Ut=!0))}function S0(t,a,s,l){Ue=t;var f=0;do{if(lo&&(co=null),Ol=0,lo=!1,25<=f)throw Error(r(301));if(f+=1,zt=dt=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}X.H=oy,p=a(s,l)}while(lo);return p}function N1(){var t=X.H,a=t.useState()[0];return a=typeof a.then=="function"?Dl(a):a,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(Ue.flags|=1024),a}function dh(){var t=wu!==0;return wu=0,t}function fh(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function hh(t){if(Su){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Su=!1}yi=0,zt=dt=Ue=null,lo=!1,Ol=wu=0,co=null}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ue.memoizedState=zt=t:zt=zt.next=t,zt}function It(){if(dt===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var a=zt===null?Ue.memoizedState:zt.next;if(a!==null)zt=a,dt=t;else{if(t===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},zt===null?Ue.memoizedState=zt=t:zt=zt.next=t}return zt}function Nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(t){var a=Ol;return Ol+=1,co===null&&(co=[]),t=m0(co,t,a),a=Ue,(zt===null?a.memoizedState:zt.next)===null&&(a=a.alternate,X.H=a===null||a.memoizedState===null?sy:Sh),t}function Ru(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Dl(t);if(t.$$typeof===re)return an(t)}throw Error(r(438,String(t)))}function ph(t){var a=null,s=Ue.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var l=Ue.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Nu(),Ue.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),l=0;l<t;l++)s[l]=P;return a.index++,s}function bi(t,a){return typeof a=="function"?a(t):a}function Cu(t){var a=It();return mh(a,dt,t)}function mh(t,a,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var f=t.baseQueue,p=l.pending;if(p!==null){if(f!==null){var v=f.next;f.next=p.next,p.next=v}a.baseQueue=f=p,l.pending=null}if(p=t.baseState,f===null)t.memoizedState=p;else{a=f.next;var A=v=null,M=null,G=a,Z=!1;do{var ae=G.lane&-536870913;if(ae!==G.lane?(Ke&ae)===ae:(yi&ae)===ae){var K=G.revertLane;if(K===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ae===ao&&(Z=!0);else if((yi&K)===K){G=G.next,K===ao&&(Z=!0);continue}else ae={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(A=M=ae,v=p):M=M.next=ae,Ue.lanes|=K,lr|=K;ae=G.action,ps&&s(p,ae),p=G.hasEagerState?G.eagerState:s(p,ae)}else K={lane:ae,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(A=M=K,v=p):M=M.next=K,Ue.lanes|=ae,lr|=ae;G=G.next}while(G!==null&&G!==a);if(M===null?v=p:M.next=A,!Ln(p,t.memoizedState)&&(Ut=!0,Z&&(s=io,s!==null)))throw s;t.memoizedState=p,t.baseState=v,t.baseQueue=M,l.lastRenderedState=p}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function gh(t){var a=It(),s=a.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,p=a.memoizedState;if(f!==null){s.pending=null;var v=f=f.next;do p=t(p,v.action),v=v.next;while(v!==f);Ln(p,a.memoizedState)||(Ut=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),s.lastRenderedState=p}return[p,l]}function w0(t,a,s){var l=Ue,f=It(),p=We;if(p){if(s===void 0)throw Error(r(407));s=s()}else s=a();var v=!Ln((dt||f).memoizedState,s);if(v&&(f.memoizedState=s,Ut=!0),f=f.queue,vh(C0.bind(null,l,f,t),[t]),f.getSnapshot!==a||v||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,uo(9,{destroy:void 0},R0.bind(null,l,f,s,a),null),pt===null)throw Error(r(349));p||(yi&127)!==0||N0(l,a,s)}return s}function N0(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=Ue.updateQueue,a===null?(a=Nu(),Ue.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function R0(t,a,s,l){a.value=s,a.getSnapshot=l,I0(a)&&O0(t)}function C0(t,a,s){return s(function(){I0(a)&&O0(t)})}function I0(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!Ln(t,s)}catch{return!0}}function O0(t){var a=rs(t,2);a!==null&&Rn(a,t,2)}function yh(t){var a=bn();if(typeof t=="function"){var s=t;if(t=s(),ps){Yn(!0);try{s()}finally{Yn(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:t},a}function D0(t,a,s,l){return t.baseState=s,mh(t,dt,typeof l=="function"?l:bi)}function R1(t,a,s,l,f){if(Du(t))throw Error(r(485));if(t=a.action,t!==null){var p={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};X.T!==null?s(!0):p.isTransition=!1,l(p),s=a.pending,s===null?(p.next=a.pending=p,M0(a,p)):(p.next=s.next,a.pending=s.next=p)}}function M0(t,a){var s=a.action,l=a.payload,f=t.state;if(a.isTransition){var p=X.T,v={};X.T=v;try{var A=s(f,l),M=X.S;M!==null&&M(v,A),k0(t,a,A)}catch(G){bh(t,a,G)}finally{p!==null&&v.types!==null&&(p.types=v.types),X.T=p}}else try{p=s(f,l),k0(t,a,p)}catch(G){bh(t,a,G)}}function k0(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){j0(t,a,l)},function(l){return bh(t,a,l)}):j0(t,a,s)}function j0(t,a,s){a.status="fulfilled",a.value=s,P0(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,M0(t,s)))}function bh(t,a,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=s,P0(a),a=a.next;while(a!==l)}t.action=null}function P0(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function V0(t,a){return a}function L0(t,a){if(We){var s=pt.formState;if(s!==null){e:{var l=Ue;if(We){if(yt){t:{for(var f=yt,p=aa;f.nodeType!==8;){if(!p){f=null;break t}if(f=ra(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){yt=ra(f.nextSibling),l=f.data==="F!";break e}}Zi(l)}l=!1}l&&(a=s[0])}}return s=bn(),s.memoizedState=s.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:V0,lastRenderedState:a},s.queue=l,s=ay.bind(null,Ue,l),l.dispatch=s,l=yh(!1),p=Th.bind(null,Ue,!1,l.queue),l=bn(),f={state:a,dispatch:null,action:t,pending:null},l.queue=f,s=R1.bind(null,Ue,f,p,s),f.dispatch=s,l.memoizedState=t,[a,s,!1]}function z0(t){var a=It();return U0(a,dt,t)}function U0(t,a,s){if(a=mh(t,a,V0)[0],t=Cu(bi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=Dl(a)}catch(v){throw v===ro?vu:v}else l=a;a=It();var f=a.queue,p=f.dispatch;return s!==a.memoizedState&&(Ue.flags|=2048,uo(9,{destroy:void 0},C1.bind(null,f,s),null)),[l,p,t]}function C1(t,a){t.action=a}function B0(t){var a=It(),s=dt;if(s!==null)return U0(a,s,t);It(),a=a.memoizedState,s=It();var l=s.queue.dispatch;return s.memoizedState=t,[a,l,!1]}function uo(t,a,s,l){return t={tag:t,create:s,deps:l,inst:a,next:null},a=Ue.updateQueue,a===null&&(a=Nu(),Ue.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,a.lastEffect=t),t}function H0(){return It().memoizedState}function Iu(t,a,s,l){var f=bn();Ue.flags|=t,f.memoizedState=uo(1|a,{destroy:void 0},s,l===void 0?null:l)}function Ou(t,a,s,l){var f=It();l=l===void 0?null:l;var p=f.memoizedState.inst;dt!==null&&l!==null&&ch(l,dt.memoizedState.deps)?f.memoizedState=uo(a,p,s,l):(Ue.flags|=t,f.memoizedState=uo(1|a,p,s,l))}function q0(t,a){Iu(8390656,8,t,a)}function vh(t,a){Ou(2048,8,t,a)}function I1(t){Ue.flags|=4;var a=Ue.updateQueue;if(a===null)a=Nu(),Ue.updateQueue=a,a.events=[t];else{var s=a.events;s===null?a.events=[t]:s.push(t)}}function F0(t){var a=It().memoizedState;return I1({ref:a,nextImpl:t}),function(){if((at&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function G0(t,a){return Ou(4,2,t,a)}function K0(t,a){return Ou(4,4,t,a)}function Q0(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Y0(t,a,s){s=s!=null?s.concat([t]):null,Ou(4,4,Q0.bind(null,a,t),s)}function _h(){}function $0(t,a){var s=It();a=a===void 0?null:a;var l=s.memoizedState;return a!==null&&ch(a,l[1])?l[0]:(s.memoizedState=[t,a],t)}function X0(t,a){var s=It();a=a===void 0?null:a;var l=s.memoizedState;if(a!==null&&ch(a,l[1]))return l[0];if(l=t(),ps){Yn(!0);try{t()}finally{Yn(!1)}}return s.memoizedState=[l,a],l}function xh(t,a,s){return s===void 0||(yi&1073741824)!==0&&(Ke&261930)===0?t.memoizedState=a:(t.memoizedState=s,t=Jy(),Ue.lanes|=t,lr|=t,s)}function J0(t,a,s,l){return Ln(s,a)?s:oo.current!==null?(t=xh(t,s,l),Ln(t,a)||(Ut=!0),t):(yi&42)===0||(yi&1073741824)!==0&&(Ke&261930)===0?(Ut=!0,t.memoizedState=s):(t=Jy(),Ue.lanes|=t,lr|=t,a)}function W0(t,a,s,l,f){var p=ue.p;ue.p=p!==0&&8>p?p:8;var v=X.T,A={};X.T=A,Th(t,!1,a,s);try{var M=f(),G=X.S;if(G!==null&&G(A,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Z=S1(M,l);Ml(t,a,Z,Fn(t))}else Ml(t,a,l,Fn(t))}catch(ae){Ml(t,a,{then:function(){},status:"rejected",reason:ae},Fn())}finally{ue.p=p,v!==null&&A.types!==null&&(v.types=A.types),X.T=v}}function O1(){}function Eh(t,a,s,l){if(t.tag!==5)throw Error(r(476));var f=Z0(t).queue;W0(t,f,a,_e,s===null?O1:function(){return ey(t),s(l)})}function Z0(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:_e},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function ey(t){var a=Z0(t);a.next===null&&(a=t.alternate.memoizedState),Ml(t,a.next.queue,{},Fn())}function Ah(){return an(Xl)}function ty(){return It().memoizedState}function ny(){return It().memoizedState}function D1(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=Fn();t=nr(s);var l=ar(a,t,s);l!==null&&(Rn(l,a,s),Rl(l,a,s)),a={cache:Wf()},t.payload=a;return}a=a.return}}function M1(t,a,s){var l=Fn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Du(t)?iy(a,s):(s=Bf(t,a,s,l),s!==null&&(Rn(s,t,l),ry(s,a,l)))}function ay(t,a,s){var l=Fn();Ml(t,a,s,l)}function Ml(t,a,s,l){var f={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Du(t))iy(a,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var v=a.lastRenderedState,A=p(v,s);if(f.hasEagerState=!0,f.eagerState=A,Ln(A,v))return fu(t,a,f,0),pt===null&&du(),!1}catch{}if(s=Bf(t,a,f,l),s!==null)return Rn(s,t,l),ry(s,a,l),!0}return!1}function Th(t,a,s,l){if(l={lane:2,revertLane:np(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Du(t)){if(a)throw Error(r(479))}else a=Bf(t,s,l,2),a!==null&&Rn(a,t,2)}function Du(t){var a=t.alternate;return t===Ue||a!==null&&a===Ue}function iy(t,a){lo=Su=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function ry(t,a,s){if((s&4194048)!==0){var l=a.lanes;l&=t.pendingLanes,s|=l,a.lanes=s,tl(t,s)}}var kl={readContext:an,use:Ru,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};kl.useEffectEvent=Tt;var sy={readContext:an,use:Ru,useCallback:function(t,a){return bn().memoizedState=[t,a===void 0?null:a],t},useContext:an,useEffect:q0,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,Iu(4194308,4,Q0.bind(null,a,t),s)},useLayoutEffect:function(t,a){return Iu(4194308,4,t,a)},useInsertionEffect:function(t,a){Iu(4,2,t,a)},useMemo:function(t,a){var s=bn();a=a===void 0?null:a;var l=t();if(ps){Yn(!0);try{t()}finally{Yn(!1)}}return s.memoizedState=[l,a],l},useReducer:function(t,a,s){var l=bn();if(s!==void 0){var f=s(a);if(ps){Yn(!0);try{s(a)}finally{Yn(!1)}}}else f=a;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=M1.bind(null,Ue,t),[l.memoizedState,t]},useRef:function(t){var a=bn();return t={current:t},a.memoizedState=t},useState:function(t){t=yh(t);var a=t.queue,s=ay.bind(null,Ue,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:_h,useDeferredValue:function(t,a){var s=bn();return xh(s,t,a)},useTransition:function(){var t=yh(!1);return t=W0.bind(null,Ue,t.queue,!0,!1),bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var l=Ue,f=bn();if(We){if(s===void 0)throw Error(r(407));s=s()}else{if(s=a(),pt===null)throw Error(r(349));(Ke&127)!==0||N0(l,a,s)}f.memoizedState=s;var p={value:s,getSnapshot:a};return f.queue=p,q0(C0.bind(null,l,p,t),[t]),l.flags|=2048,uo(9,{destroy:void 0},R0.bind(null,l,p,s,a),null),s},useId:function(){var t=bn(),a=pt.identifierPrefix;if(We){var s=Ka,l=Ga;s=(l&~(1<<32-Nt(l)-1)).toString(32)+s,a="_"+a+"R_"+s,s=wu++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=w1++,a="_"+a+"r_"+s.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:Ah,useFormState:L0,useActionState:L0,useOptimistic:function(t){var a=bn();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Th.bind(null,Ue,!0,s),s.dispatch=a,[t,a]},useMemoCache:ph,useCacheRefresh:function(){return bn().memoizedState=D1.bind(null,Ue)},useEffectEvent:function(t){var a=bn(),s={impl:t};return a.memoizedState=s,function(){if((at&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Sh={readContext:an,use:Ru,useCallback:$0,useContext:an,useEffect:vh,useImperativeHandle:Y0,useInsertionEffect:G0,useLayoutEffect:K0,useMemo:X0,useReducer:Cu,useRef:H0,useState:function(){return Cu(bi)},useDebugValue:_h,useDeferredValue:function(t,a){var s=It();return J0(s,dt.memoizedState,t,a)},useTransition:function(){var t=Cu(bi)[0],a=It().memoizedState;return[typeof t=="boolean"?t:Dl(t),a]},useSyncExternalStore:w0,useId:ty,useHostTransitionStatus:Ah,useFormState:z0,useActionState:z0,useOptimistic:function(t,a){var s=It();return D0(s,dt,t,a)},useMemoCache:ph,useCacheRefresh:ny};Sh.useEffectEvent=F0;var oy={readContext:an,use:Ru,useCallback:$0,useContext:an,useEffect:vh,useImperativeHandle:Y0,useInsertionEffect:G0,useLayoutEffect:K0,useMemo:X0,useReducer:gh,useRef:H0,useState:function(){return gh(bi)},useDebugValue:_h,useDeferredValue:function(t,a){var s=It();return dt===null?xh(s,t,a):J0(s,dt.memoizedState,t,a)},useTransition:function(){var t=gh(bi)[0],a=It().memoizedState;return[typeof t=="boolean"?t:Dl(t),a]},useSyncExternalStore:w0,useId:ty,useHostTransitionStatus:Ah,useFormState:B0,useActionState:B0,useOptimistic:function(t,a){var s=It();return dt!==null?D0(s,dt,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:ph,useCacheRefresh:ny};oy.useEffectEvent=F0;function wh(t,a,s,l){a=t.memoizedState,s=s(l,a),s=s==null?a:E({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Nh={enqueueSetState:function(t,a,s){t=t._reactInternals;var l=Fn(),f=nr(l);f.payload=a,s!=null&&(f.callback=s),a=ar(t,f,l),a!==null&&(Rn(a,t,l),Rl(a,t,l))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var l=Fn(),f=nr(l);f.tag=1,f.payload=a,s!=null&&(f.callback=s),a=ar(t,f,l),a!==null&&(Rn(a,t,l),Rl(a,t,l))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=Fn(),l=nr(s);l.tag=2,a!=null&&(l.callback=a),a=ar(t,l,s),a!==null&&(Rn(a,t,s),Rl(a,t,s))}};function ly(t,a,s,l,f,p,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,p,v):a.prototype&&a.prototype.isPureReactComponent?!_l(s,l)||!_l(f,p):!0}function cy(t,a,s,l){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,l),a.state!==t&&Nh.enqueueReplaceState(a,a.state,null)}function ms(t,a){var s=a;if("ref"in a){s={};for(var l in a)l!=="ref"&&(s[l]=a[l])}if(t=t.defaultProps){s===a&&(s=E({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}function uy(t){uu(t)}function dy(t){console.error(t)}function fy(t){uu(t)}function Mu(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function hy(t,a,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Rh(t,a,s){return s=nr(s),s.tag=3,s.payload={element:null},s.callback=function(){Mu(t,a)},s}function py(t){return t=nr(t),t.tag=3,t}function my(t,a,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;t.payload=function(){return f(p)},t.callback=function(){hy(a,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){hy(a,s,l),typeof f!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function k1(t,a,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=s.alternate,a!==null&&no(a,s,f,!0),s=Un.current,s!==null){switch(s.tag){case 31:case 13:return ia===null?Gu():s.alternate===null&&St===0&&(St=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===_u?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([l]):a.add(l),Zh(t,l,f)),!1;case 22:return s.flags|=65536,l===_u?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([l]):s.add(l)),Zh(t,l,f)),!1}throw Error(r(435,s.tag))}return Zh(t,l,f),Gu(),!1}if(We)return a=Un.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,l!==Qf&&(t=Error(r(422),{cause:l}),Al(ea(t,s)))):(l!==Qf&&(a=Error(r(423),{cause:l}),Al(ea(a,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=ea(l,s),f=Rh(t.stateNode,l,f),ih(t,f),St!==4&&(St=2)),!1;var p=Error(r(520),{cause:l});if(p=ea(p,s),Hl===null?Hl=[p]:Hl.push(p),St!==4&&(St=2),a===null)return!0;l=ea(l,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=Rh(s.stateNode,l,t),ih(s,t),!1;case 1:if(a=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(cr===null||!cr.has(p))))return s.flags|=65536,f&=-f,s.lanes|=f,f=py(f),my(f,t,s,l),ih(s,f),!1}s=s.return}while(s!==null);return!1}var Ch=Error(r(461)),Ut=!1;function rn(t,a,s,l){a.child=t===null?v0(a,null,s,l):hs(a,t.child,s,l)}function gy(t,a,s,l,f){s=s.render;var p=a.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return cs(a),l=uh(t,a,s,v,p,f),A=dh(),t!==null&&!Ut?(fh(t,a,f),vi(t,a,f)):(We&&A&&Gf(a),a.flags|=1,rn(t,a,l,f),a.child)}function yy(t,a,s,l,f){if(t===null){var p=s.type;return typeof p=="function"&&!Hf(p)&&p.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=p,by(t,a,p,l,f)):(t=pu(s.type,null,l,a,a.mode,f),t.ref=a.ref,t.return=a,a.child=t)}if(p=t.child,!Vh(t,f)){var v=p.memoizedProps;if(s=s.compare,s=s!==null?s:_l,s(v,l)&&t.ref===a.ref)return vi(t,a,f)}return a.flags|=1,t=hi(p,l),t.ref=a.ref,t.return=a,a.child=t}function by(t,a,s,l,f){if(t!==null){var p=t.memoizedProps;if(_l(p,l)&&t.ref===a.ref)if(Ut=!1,a.pendingProps=l=p,Vh(t,f))(t.flags&131072)!==0&&(Ut=!0);else return a.lanes=t.lanes,vi(t,a,f)}return Ih(t,a,s,l,f)}function vy(t,a,s,l){var f=l.children,p=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|s:s,t!==null){for(l=a.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~p}else l=0,a.child=null;return _y(t,a,p,s,l)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&bu(a,p!==null?p.cachePool:null),p!==null?E0(a,p):sh(),A0(a);else return l=a.lanes=536870912,_y(t,a,p!==null?p.baseLanes|s:s,s,l)}else p!==null?(bu(a,p.cachePool),E0(a,p),rr(),a.memoizedState=null):(t!==null&&bu(a,null),sh(),rr());return rn(t,a,f,s),a.child}function jl(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function _y(t,a,s,l,f){var p=eh();return p=p===null?null:{parent:Lt._currentValue,pool:p},a.memoizedState={baseLanes:s,cachePool:p},t!==null&&bu(a,null),sh(),A0(a),t!==null&&no(t,a,l,!0),a.childLanes=f,null}function ku(t,a){return a=Pu({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function xy(t,a,s){return hs(a,t.child,null,s),t=ku(a,a.pendingProps),t.flags|=2,Bn(a),a.memoizedState=null,t}function j1(t,a,s){var l=a.pendingProps,f=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(We){if(l.mode==="hidden")return t=ku(a,l),a.lanes=536870912,jl(null,t);if(lh(a),(t=yt)?(t=Mb(t,aa),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Ji!==null?{id:Ga,overflow:Ka}:null,retryLane:536870912,hydrationErrors:null},s=i0(t),s.return=a,a.child=s,nn=a,yt=null)):t=null,t===null)throw Zi(a);return a.lanes=536870912,null}return ku(a,l)}var p=t.memoizedState;if(p!==null){var v=p.dehydrated;if(lh(a),f)if(a.flags&256)a.flags&=-257,a=xy(t,a,s);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(r(558));else if(Ut||no(t,a,s,!1),f=(s&t.childLanes)!==0,Ut||f){if(l=pt,l!==null&&(v=nl(l,s),v!==0&&v!==p.retryLane))throw p.retryLane=v,rs(t,v),Rn(l,t,v),Ch;Gu(),a=xy(t,a,s)}else t=p.treeContext,yt=ra(v.nextSibling),nn=a,We=!0,Wi=null,aa=!1,t!==null&&o0(a,t),a=ku(a,l),a.flags|=4096;return a}return t=hi(t.child,{mode:l.mode,children:l.children}),t.ref=a.ref,a.child=t,t.return=a,t}function ju(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function Ih(t,a,s,l,f){return cs(a),s=uh(t,a,s,l,void 0,f),l=dh(),t!==null&&!Ut?(fh(t,a,f),vi(t,a,f)):(We&&l&&Gf(a),a.flags|=1,rn(t,a,s,f),a.child)}function Ey(t,a,s,l,f,p){return cs(a),a.updateQueue=null,s=S0(a,l,s,f),T0(t),l=dh(),t!==null&&!Ut?(fh(t,a,p),vi(t,a,p)):(We&&l&&Gf(a),a.flags|=1,rn(t,a,s,p),a.child)}function Ay(t,a,s,l,f){if(cs(a),a.stateNode===null){var p=Ws,v=s.contextType;typeof v=="object"&&v!==null&&(p=an(v)),p=new s(l,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Nh,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=l,p.state=a.memoizedState,p.refs={},nh(a),v=s.contextType,p.context=typeof v=="object"&&v!==null?an(v):Ws,p.state=a.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(wh(a,s,v,l),p.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&Nh.enqueueReplaceState(p,p.state,null),Il(a,l,p,f),Cl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(t===null){p=a.stateNode;var A=a.memoizedProps,M=ms(s,A);p.props=M;var G=p.context,Z=s.contextType;v=Ws,typeof Z=="object"&&Z!==null&&(v=an(Z));var ae=s.getDerivedStateFromProps;Z=typeof ae=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||G!==v)&&cy(a,p,l,v),tr=!1;var K=a.memoizedState;p.state=K,Il(a,l,p,f),Cl(),G=a.memoizedState,A||K!==G||tr?(typeof ae=="function"&&(wh(a,s,ae,l),G=a.memoizedState),(M=tr||ly(a,s,M,l,K,G,v))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=G),p.props=l,p.state=G,p.context=v,l=M):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{p=a.stateNode,ah(t,a),v=a.memoizedProps,Z=ms(s,v),p.props=Z,ae=a.pendingProps,K=p.context,G=s.contextType,M=Ws,typeof G=="object"&&G!==null&&(M=an(G)),A=s.getDerivedStateFromProps,(G=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==ae||K!==M)&&cy(a,p,l,M),tr=!1,K=a.memoizedState,p.state=K,Il(a,l,p,f),Cl();var $=a.memoizedState;v!==ae||K!==$||tr||t!==null&&t.dependencies!==null&&gu(t.dependencies)?(typeof A=="function"&&(wh(a,s,A,l),$=a.memoizedState),(Z=tr||ly(a,s,Z,l,K,$,M)||t!==null&&t.dependencies!==null&&gu(t.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,$,M),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,$,M)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=$),p.props=l,p.state=$,p.context=M,l=Z):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(a.flags|=1024),l=!1)}return p=l,ju(t,a),l=(a.flags&128)!==0,p||l?(p=a.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,t!==null&&l?(a.child=hs(a,t.child,null,f),a.child=hs(a,null,s,f)):rn(t,a,s,f),a.memoizedState=p.state,t=a.child):t=vi(t,a,f),t}function Ty(t,a,s,l){return os(),a.flags|=256,rn(t,a,s,l),a.child}var Oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dh(t){return{baseLanes:t,cachePool:h0()}}function Mh(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=qn),t}function Sy(t,a,s){var l=a.pendingProps,f=!1,p=(a.flags&128)!==0,v;if((v=p)||(v=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),v&&(f=!0,a.flags&=-129),v=(a.flags&32)!==0,a.flags&=-33,t===null){if(We){if(f?ir(a):rr(),(t=yt)?(t=Mb(t,aa),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Ji!==null?{id:Ga,overflow:Ka}:null,retryLane:536870912,hydrationErrors:null},s=i0(t),s.return=a,a.child=s,nn=a,yt=null)):t=null,t===null)throw Zi(a);return mp(t)?a.lanes=32:a.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(rr(),f=a.mode,A=Pu({mode:"hidden",children:A},f),l=ss(l,f,s,null),A.return=a,l.return=a,A.sibling=l,a.child=A,l=a.child,l.memoizedState=Dh(s),l.childLanes=Mh(t,v,s),a.memoizedState=Oh,jl(null,l)):(ir(a),kh(a,A))}var M=t.memoizedState;if(M!==null&&(A=M.dehydrated,A!==null)){if(p)a.flags&256?(ir(a),a.flags&=-257,a=jh(t,a,s)):a.memoizedState!==null?(rr(),a.child=t.child,a.flags|=128,a=null):(rr(),A=l.fallback,f=a.mode,l=Pu({mode:"visible",children:l.children},f),A=ss(A,f,s,null),A.flags|=2,l.return=a,A.return=a,l.sibling=A,a.child=l,hs(a,t.child,null,s),l=a.child,l.memoizedState=Dh(s),l.childLanes=Mh(t,v,s),a.memoizedState=Oh,a=jl(null,l));else if(ir(a),mp(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var G=v.dgst;v=G,l=Error(r(419)),l.stack="",l.digest=v,Al({value:l,source:null,stack:null}),a=jh(t,a,s)}else if(Ut||no(t,a,s,!1),v=(s&t.childLanes)!==0,Ut||v){if(v=pt,v!==null&&(l=nl(v,s),l!==0&&l!==M.retryLane))throw M.retryLane=l,rs(t,l),Rn(v,t,l),Ch;pp(A)||Gu(),a=jh(t,a,s)}else pp(A)?(a.flags|=192,a.child=t.child,a=null):(t=M.treeContext,yt=ra(A.nextSibling),nn=a,We=!0,Wi=null,aa=!1,t!==null&&o0(a,t),a=kh(a,l.children),a.flags|=4096);return a}return f?(rr(),A=l.fallback,f=a.mode,M=t.child,G=M.sibling,l=hi(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,G!==null?A=hi(G,A):(A=ss(A,f,s,null),A.flags|=2),A.return=a,l.return=a,l.sibling=A,a.child=l,jl(null,l),l=a.child,A=t.child.memoizedState,A===null?A=Dh(s):(f=A.cachePool,f!==null?(M=Lt._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=h0(),A={baseLanes:A.baseLanes|s,cachePool:f}),l.memoizedState=A,l.childLanes=Mh(t,v,s),a.memoizedState=Oh,jl(t.child,l)):(ir(a),s=t.child,t=s.sibling,s=hi(s,{mode:"visible",children:l.children}),s.return=a,s.sibling=null,t!==null&&(v=a.deletions,v===null?(a.deletions=[t],a.flags|=16):v.push(t)),a.child=s,a.memoizedState=null,s)}function kh(t,a){return a=Pu({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Pu(t,a){return t=zn(22,t,null,a),t.lanes=0,t}function jh(t,a,s){return hs(a,t.child,null,s),t=kh(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function wy(t,a,s){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a),Xf(t.return,a,s)}function Ph(t,a,s,l,f,p){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f,treeForkCount:p}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=s,v.tailMode=f,v.treeForkCount=p)}function Ny(t,a,s){var l=a.pendingProps,f=l.revealOrder,p=l.tail;l=l.children;var v=Ct.current,A=(v&2)!==0;if(A?(v=v&1|2,a.flags|=128):v&=1,se(Ct,v),rn(t,a,l,s),l=We?El:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wy(t,s,a);else if(t.tag===19)wy(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(s=a.child,f=null;s!==null;)t=s.alternate,t!==null&&Tu(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=a.child,a.child=null):(f=s.sibling,s.sibling=null),Ph(a,!1,f,s,p,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=a.child,a.child=null;f!==null;){if(t=f.alternate,t!==null&&Tu(t)===null){a.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Ph(a,!0,s,null,p,l);break;case"together":Ph(a,!1,null,null,void 0,l);break;default:a.memoizedState=null}return a.child}function vi(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),lr|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(no(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(r(153));if(a.child!==null){for(t=a.child,s=hi(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=hi(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function Vh(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&gu(t)))}function P1(t,a,s){switch(a.tag){case 3:Ge(a,a.stateNode.containerInfo),er(a,Lt,t.memoizedState.cache),os();break;case 27:case 5:mt(a);break;case 4:Ge(a,a.stateNode.containerInfo);break;case 10:er(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,lh(a),null;break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(ir(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Sy(t,a,s):(ir(a),t=vi(t,a,s),t!==null?t.sibling:null);ir(a);break;case 19:var f=(t.flags&128)!==0;if(l=(s&a.childLanes)!==0,l||(no(t,a,s,!1),l=(s&a.childLanes)!==0),f){if(l)return Ny(t,a,s);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Ct,Ct.current),l)break;return null;case 22:return a.lanes=0,vy(t,a,s,a.pendingProps);case 24:er(a,Lt,t.memoizedState.cache)}return vi(t,a,s)}function Ry(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)Ut=!0;else{if(!Vh(t,s)&&(a.flags&128)===0)return Ut=!1,P1(t,a,s);Ut=(t.flags&131072)!==0}else Ut=!1,We&&(a.flags&1048576)!==0&&s0(a,El,a.index);switch(a.lanes=0,a.tag){case 16:e:{var l=a.pendingProps;if(t=ds(a.elementType),a.type=t,typeof t=="function")Hf(t)?(l=ms(t,l),a.tag=1,a=Ay(null,a,t,l,s)):(a.tag=0,a=Ih(null,a,t,l,s));else{if(t!=null){var f=t.$$typeof;if(f===oe){a.tag=11,a=gy(null,a,t,l,s);break e}else if(f===I){a.tag=14,a=yy(null,a,t,l,s);break e}}throw a=Se(t)||t,Error(r(306,a,""))}}return a;case 0:return Ih(t,a,a.type,a.pendingProps,s);case 1:return l=a.type,f=ms(l,a.pendingProps),Ay(t,a,l,f,s);case 3:e:{if(Ge(a,a.stateNode.containerInfo),t===null)throw Error(r(387));l=a.pendingProps;var p=a.memoizedState;f=p.element,ah(t,a),Il(a,l,null,s);var v=a.memoizedState;if(l=v.cache,er(a,Lt,l),l!==p.cache&&Jf(a,[Lt],s,!0),Cl(),l=v.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:v.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Ty(t,a,l,s);break e}else if(l!==f){f=ea(Error(r(424)),a),Al(f),a=Ty(t,a,l,s);break e}else for(t=a.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,yt=ra(t.firstChild),nn=a,We=!0,Wi=null,aa=!0,s=v0(a,null,l,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(os(),l===f){a=vi(t,a,s);break e}rn(t,a,l,s)}a=a.child}return a;case 26:return ju(t,a),t===null?(s=zb(a.type,null,a.pendingProps,null))?a.memoizedState=s:We||(s=a.type,t=a.pendingProps,l=Wu(ve.current).createElement(s),l[jt]=a,l[Yt]=t,sn(l,s,t),Pt(l),a.stateNode=l):a.memoizedState=zb(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return mt(a),t===null&&We&&(l=a.stateNode=Pb(a.type,a.pendingProps,ve.current),nn=a,aa=!0,f=yt,hr(a.type)?(gp=f,yt=ra(l.firstChild)):yt=f),rn(t,a,a.pendingProps.children,s),ju(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&We&&((f=l=yt)&&(l=fT(l,a.type,a.pendingProps,aa),l!==null?(a.stateNode=l,nn=a,yt=ra(l.firstChild),aa=!1,f=!0):f=!1),f||Zi(a)),mt(a),f=a.type,p=a.pendingProps,v=t!==null?t.memoizedProps:null,l=p.children,dp(f,p)?l=null:v!==null&&dp(f,v)&&(a.flags|=32),a.memoizedState!==null&&(f=uh(t,a,N1,null,null,s),Xl._currentValue=f),ju(t,a),rn(t,a,l,s),a.child;case 6:return t===null&&We&&((t=s=yt)&&(s=hT(s,a.pendingProps,aa),s!==null?(a.stateNode=s,nn=a,yt=null,t=!0):t=!1),t||Zi(a)),null;case 13:return Sy(t,a,s);case 4:return Ge(a,a.stateNode.containerInfo),l=a.pendingProps,t===null?a.child=hs(a,null,l,s):rn(t,a,l,s),a.child;case 11:return gy(t,a,a.type,a.pendingProps,s);case 7:return rn(t,a,a.pendingProps,s),a.child;case 8:return rn(t,a,a.pendingProps.children,s),a.child;case 12:return rn(t,a,a.pendingProps.children,s),a.child;case 10:return l=a.pendingProps,er(a,a.type,l.value),rn(t,a,l.children,s),a.child;case 9:return f=a.type._context,l=a.pendingProps.children,cs(a),f=an(f),l=l(f),a.flags|=1,rn(t,a,l,s),a.child;case 14:return yy(t,a,a.type,a.pendingProps,s);case 15:return by(t,a,a.type,a.pendingProps,s);case 19:return Ny(t,a,s);case 31:return j1(t,a,s);case 22:return vy(t,a,s,a.pendingProps);case 24:return cs(a),l=an(Lt),t===null?(f=eh(),f===null&&(f=pt,p=Wf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=s),f=p),a.memoizedState={parent:l,cache:f},nh(a),er(a,Lt,f)):((t.lanes&s)!==0&&(ah(t,a),Il(a,null,null,s),Cl()),f=t.memoizedState,p=a.memoizedState,f.parent!==l?(f={parent:l,cache:l},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),er(a,Lt,l)):(l=p.cache,er(a,Lt,l),l!==f.cache&&Jf(a,[Lt],s,!0))),rn(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function _i(t){t.flags|=4}function Lh(t,a,s,l,f){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(tb())t.flags|=8192;else throw fs=_u,th}else t.flags&=-16777217}function Cy(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Fb(a))if(tb())t.flags|=8192;else throw fs=_u,th}function Vu(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?qc():536870912,t.lanes|=a,mo|=a)}function Pl(t,a){if(!We)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function bt(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(a)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,a}function V1(t,a,s){var l=a.pendingProps;switch(Kf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(a),null;case 1:return bt(a),null;case 3:return s=a.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),gi(Lt),ke(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(to(a)?_i(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Yf())),bt(a),null;case 26:var f=a.type,p=a.memoizedState;return t===null?(_i(a),p!==null?(bt(a),Cy(a,p)):(bt(a),Lh(a,f,null,l,s))):p?p!==t.memoizedState?(_i(a),bt(a),Cy(a,p)):(bt(a),a.flags&=-16777217):(t=t.memoizedProps,t!==l&&_i(a),bt(a),Lh(a,f,t,l,s)),null;case 27:if(Wt(a),s=ve.current,f=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==l&&_i(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return bt(a),null}t=ce.current,to(a)?l0(a):(t=Pb(f,l,s),a.stateNode=t,_i(a))}return bt(a),null;case 5:if(Wt(a),f=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==l&&_i(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return bt(a),null}if(p=ce.current,to(a))l0(a);else{var v=Wu(ve.current);switch(p){case 1:p=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=v.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}p[jt]=a,p[Yt]=l;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)p.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=p;e:switch(sn(p,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&_i(a)}}return bt(a),Lh(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,s),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==l&&_i(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(r(166));if(t=ve.current,to(a)){if(t=a.stateNode,s=a.memoizedProps,l=null,f=nn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[jt]=a,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Sb(t.nodeValue,s)),t||Zi(a,!0)}else t=Wu(t).createTextNode(l),t[jt]=a,a.stateNode=t}return bt(a),null;case 31:if(s=a.memoizedState,t===null||t.memoizedState!==null){if(l=to(a),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[jt]=a}else os(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;bt(a),t=!1}else s=Yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return a.flags&256?(Bn(a),a):(Bn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return bt(a),null;case 13:if(l=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=to(a),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[jt]=a}else os(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;bt(a),f=!1}else f=Yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(Bn(a),a):(Bn(a),null)}return Bn(a),(a.flags&128)!==0?(a.lanes=s,a):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=a.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)),s!==t&&s&&(a.child.flags|=8192),Vu(a,a.updateQueue),bt(a),null);case 4:return ke(),t===null&&sp(a.stateNode.containerInfo),bt(a),null;case 10:return gi(a.type),bt(a),null;case 19:if(Q(Ct),l=a.memoizedState,l===null)return bt(a),null;if(f=(a.flags&128)!==0,p=l.rendering,p===null)if(f)Pl(l,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(p=Tu(t),p!==null){for(a.flags|=128,Pl(l,!1),t=p.updateQueue,a.updateQueue=t,Vu(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)a0(s,t),s=s.sibling;return se(Ct,Ct.current&1|2),We&&pi(a,l.treeForkCount),a.child}t=t.sibling}l.tail!==null&&Zt()>Hu&&(a.flags|=128,f=!0,Pl(l,!1),a.lanes=4194304)}else{if(!f)if(t=Tu(p),t!==null){if(a.flags|=128,f=!0,t=t.updateQueue,a.updateQueue=t,Vu(a,t),Pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!We)return bt(a),null}else 2*Zt()-l.renderingStartTime>Hu&&s!==536870912&&(a.flags|=128,f=!0,Pl(l,!1),a.lanes=4194304);l.isBackwards?(p.sibling=a.child,a.child=p):(t=l.last,t!==null?t.sibling=p:a.child=p,l.last=p)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Zt(),t.sibling=null,s=Ct.current,se(Ct,f?s&1|2:s&1),We&&pi(a,l.treeForkCount),t):(bt(a),null);case 22:case 23:return Bn(a),oh(),l=a.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(s&536870912)!==0&&(a.flags&128)===0&&(bt(a),a.subtreeFlags&6&&(a.flags|=8192)):bt(a),s=a.updateQueue,s!==null&&Vu(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==s&&(a.flags|=2048),t!==null&&Q(us),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),gi(Lt),bt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function L1(t,a){switch(Kf(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return gi(Lt),ke(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return Wt(a),null;case 31:if(a.memoizedState!==null){if(Bn(a),a.alternate===null)throw Error(r(340));os()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(Bn(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(r(340));os()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return Q(Ct),null;case 4:return ke(),null;case 10:return gi(a.type),null;case 22:case 23:return Bn(a),oh(),t!==null&&Q(us),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return gi(Lt),null;case 25:return null;default:return null}}function Iy(t,a){switch(Kf(a),a.tag){case 3:gi(Lt),ke();break;case 26:case 27:case 5:Wt(a);break;case 4:ke();break;case 31:a.memoizedState!==null&&Bn(a);break;case 13:Bn(a);break;case 19:Q(Ct);break;case 10:gi(a.type);break;case 22:case 23:Bn(a),oh(),t!==null&&Q(us);break;case 24:gi(Lt)}}function Vl(t,a){try{var s=a.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var p=s.create,v=s.inst;l=p(),v.destroy=l}s=s.next}while(s!==f)}}catch(A){ct(a,a.return,A)}}function sr(t,a,s){try{var l=a.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&t)===t){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,f=a;var M=s,G=A;try{G()}catch(Z){ct(f,M,Z)}}}l=l.next}while(l!==p)}}catch(Z){ct(a,a.return,Z)}}function Oy(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{x0(a,s)}catch(l){ct(t,t.return,l)}}}function Dy(t,a,s){s.props=ms(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){ct(t,a,l)}}function Ll(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(f){ct(t,a,f)}}function Qa(t,a){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){ct(t,a,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){ct(t,a,f)}else s.current=null}function My(t){var a=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){ct(t,t.return,f)}}function zh(t,a,s){try{var l=t.stateNode;sT(l,t.type,s,a),l[Yt]=a}catch(f){ct(t,t.return,f)}}function ky(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hr(t.type)||t.tag===4}function Uh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ky(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bh(t,a,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=pa));else if(l!==4&&(l===27&&hr(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(Bh(t,a,s),t=t.sibling;t!==null;)Bh(t,a,s),t=t.sibling}function Lu(t,a,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(l!==4&&(l===27&&hr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Lu(t,a,s),t=t.sibling;t!==null;)Lu(t,a,s),t=t.sibling}function jy(t){var a=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);sn(a,l,s),a[jt]=t,a[Yt]=s}catch(p){ct(t,t.return,p)}}var xi=!1,Bt=!1,Hh=!1,Py=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function z1(t,a){if(t=t.containerInfo,cp=rd,t=Yg(t),jf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var v=0,A=-1,M=-1,G=0,Z=0,ae=t,K=null;t:for(;;){for(var $;ae!==s||f!==0&&ae.nodeType!==3||(A=v+f),ae!==p||l!==0&&ae.nodeType!==3||(M=v+l),ae.nodeType===3&&(v+=ae.nodeValue.length),($=ae.firstChild)!==null;)K=ae,ae=$;for(;;){if(ae===t)break t;if(K===s&&++G===f&&(A=v),K===p&&++Z===l&&(M=v),($=ae.nextSibling)!==null)break;ae=K,K=ae.parentNode}ae=$}s=A===-1||M===-1?null:{start:A,end:M}}else s=null}s=s||{start:0,end:0}}else s=null;for(up={focusedElem:t,selectionRange:s},rd=!1,Xt=a;Xt!==null;)if(a=Xt,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Xt=t;else for(;Xt!==null;){switch(a=Xt,p=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)f=t[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,s=a,f=p.memoizedProps,p=p.memoizedState,l=s.stateNode;try{var ye=ms(s.type,f);t=l.getSnapshotBeforeUpdate(ye,p),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ce){ct(s,s.return,Ce)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)hp(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=a.sibling,t!==null){t.return=a.return,Xt=t;break}Xt=a.return}}function Vy(t,a,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ai(t,s),l&4&&Vl(5,s);break;case 1:if(Ai(t,s),l&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(v){ct(s,s.return,v)}else{var f=ms(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(f,a,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ct(s,s.return,v)}}l&64&&Oy(s),l&512&&Ll(s,s.return);break;case 3:if(Ai(t,s),l&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{x0(t,a)}catch(v){ct(s,s.return,v)}}break;case 27:a===null&&l&4&&jy(s);case 26:case 5:Ai(t,s),a===null&&l&4&&My(s),l&512&&Ll(s,s.return);break;case 12:Ai(t,s);break;case 31:Ai(t,s),l&4&&Uy(t,s);break;case 13:Ai(t,s),l&4&&By(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Y1.bind(null,s),pT(t,s))));break;case 22:if(l=s.memoizedState!==null||xi,!l){a=a!==null&&a.memoizedState!==null||Bt,f=xi;var p=Bt;xi=l,(Bt=a)&&!p?Ti(t,s,(s.subtreeFlags&8772)!==0):Ai(t,s),xi=f,Bt=p}break;case 30:break;default:Ai(t,s)}}function Ly(t){var a=t.alternate;a!==null&&(t.alternate=null,Ly(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Ls(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var xt=null,Tn=!1;function Ei(t,a,s){for(s=s.child;s!==null;)zy(t,a,s),s=s.sibling}function zy(t,a,s){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(ua,s)}catch{}switch(s.tag){case 26:Bt||Qa(s,a),Ei(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Bt||Qa(s,a);var l=xt,f=Tn;hr(s.type)&&(xt=s.stateNode,Tn=!1),Ei(t,a,s),Ql(s.stateNode),xt=l,Tn=f;break;case 5:Bt||Qa(s,a);case 6:if(l=xt,f=Tn,xt=null,Ei(t,a,s),xt=l,Tn=f,xt!==null)if(Tn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(s.stateNode)}catch(p){ct(s,a,p)}else try{xt.removeChild(s.stateNode)}catch(p){ct(s,a,p)}break;case 18:xt!==null&&(Tn?(t=xt,Ob(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ao(t)):Ob(xt,s.stateNode));break;case 4:l=xt,f=Tn,xt=s.stateNode.containerInfo,Tn=!0,Ei(t,a,s),xt=l,Tn=f;break;case 0:case 11:case 14:case 15:sr(2,s,a),Bt||sr(4,s,a),Ei(t,a,s);break;case 1:Bt||(Qa(s,a),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Dy(s,a,l)),Ei(t,a,s);break;case 21:Ei(t,a,s);break;case 22:Bt=(l=Bt)||s.memoizedState!==null,Ei(t,a,s),Bt=l;break;default:Ei(t,a,s)}}function Uy(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ao(t)}catch(s){ct(a,a.return,s)}}}function By(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ao(t)}catch(s){ct(a,a.return,s)}}function U1(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new Py),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new Py),a;default:throw Error(r(435,t.tag))}}function zu(t,a){var s=U1(t);a.forEach(function(l){if(!s.has(l)){s.add(l);var f=$1.bind(null,t,l);l.then(f,f)}})}function Sn(t,a){var s=a.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],p=t,v=a,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(hr(A.type)){xt=A.stateNode,Tn=!1;break e}break;case 5:xt=A.stateNode,Tn=!1;break e;case 3:case 4:xt=A.stateNode.containerInfo,Tn=!0;break e}A=A.return}if(xt===null)throw Error(r(160));zy(p,v,f),xt=null,Tn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Hy(a,t),a=a.sibling}var _a=null;function Hy(t,a){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(a,t),wn(t),l&4&&(sr(3,t,t.return),Vl(3,t),sr(5,t,t.return));break;case 1:Sn(a,t),wn(t),l&512&&(Bt||s===null||Qa(s,s.return)),l&64&&xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=_a;if(Sn(a,t),wn(t),l&512&&(Bt||s===null||Qa(s,s.return)),l&4){var p=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ma]||p[jt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),sn(p,l,s),p[jt]=t,Pt(p),l=p;break e;case"link":var v=Hb("link","href",f).get(l+(s.href||""));if(v){for(var A=0;A<v.length;A++)if(p=v[A],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(A,1);break t}}p=f.createElement(l),sn(p,l,s),f.head.appendChild(p);break;case"meta":if(v=Hb("meta","content",f).get(l+(s.content||""))){for(A=0;A<v.length;A++)if(p=v[A],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(A,1);break t}}p=f.createElement(l),sn(p,l,s),f.head.appendChild(p);break;default:throw Error(r(468,l))}p[jt]=t,Pt(p),l=p}t.stateNode=l}else qb(f,t.type,t.stateNode);else t.stateNode=Bb(f,l,t.memoizedProps);else p!==l?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,l===null?qb(f,t.type,t.stateNode):Bb(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&zh(t,t.memoizedProps,s.memoizedProps)}break;case 27:Sn(a,t),wn(t),l&512&&(Bt||s===null||Qa(s,s.return)),s!==null&&l&4&&zh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Sn(a,t),wn(t),l&512&&(Bt||s===null||Qa(s,s.return)),t.flags&32){f=t.stateNode;try{An(f,"")}catch(ye){ct(t,t.return,ye)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,zh(t,f,s!==null?s.memoizedProps:f)),l&1024&&(Hh=!0);break;case 6:if(Sn(a,t),wn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ye){ct(t,t.return,ye)}}break;case 3:if(td=null,f=_a,_a=Zu(a.containerInfo),Sn(a,t),_a=f,wn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ao(a.containerInfo)}catch(ye){ct(t,t.return,ye)}Hh&&(Hh=!1,qy(t));break;case 4:l=_a,_a=Zu(t.stateNode.containerInfo),Sn(a,t),wn(t),_a=l;break;case 12:Sn(a,t),wn(t);break;case 31:Sn(a,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zu(t,l)));break;case 13:Sn(a,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Bu=Zt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zu(t,l)));break;case 22:f=t.memoizedState!==null;var M=s!==null&&s.memoizedState!==null,G=xi,Z=Bt;if(xi=G||f,Bt=Z||M,Sn(a,t),Bt=Z,xi=G,wn(t),l&8192)e:for(a=t.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(s===null||M||xi||Bt||gs(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){M=s=a;try{if(p=M.stateNode,f)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=M.stateNode;var ae=M.memoizedProps.style,K=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ye){ct(M,M.return,ye)}}}else if(a.tag===6){if(s===null){M=a;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(ye){ct(M,M.return,ye)}}}else if(a.tag===18){if(s===null){M=a;try{var $=M.stateNode;f?Db($,!0):Db(M.stateNode,!1)}catch(ye){ct(M,M.return,ye)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,zu(t,s))));break;case 19:Sn(a,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zu(t,l)));break;case 30:break;case 21:break;default:Sn(a,t),wn(t)}}function wn(t){var a=t.flags;if(a&2){try{for(var s,l=t.return;l!==null;){if(ky(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var f=s.stateNode,p=Uh(t);Lu(t,p,f);break;case 5:var v=s.stateNode;s.flags&32&&(An(v,""),s.flags&=-33);var A=Uh(t);Lu(t,A,v);break;case 3:case 4:var M=s.stateNode.containerInfo,G=Uh(t);Bh(t,G,M);break;default:throw Error(r(161))}}catch(Z){ct(t,t.return,Z)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;qy(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function Ai(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Vy(t,a.alternate,a),a=a.sibling}function gs(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:sr(4,a,a.return),gs(a);break;case 1:Qa(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Dy(a,a.return,s),gs(a);break;case 27:Ql(a.stateNode);case 26:case 5:Qa(a,a.return),gs(a);break;case 22:a.memoizedState===null&&gs(a);break;case 30:gs(a);break;default:gs(a)}t=t.sibling}}function Ti(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,f=t,p=a,v=p.flags;switch(p.tag){case 0:case 11:case 15:Ti(f,p,s),Vl(4,p);break;case 1:if(Ti(f,p,s),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){ct(l,l.return,G)}if(l=p,f=l.updateQueue,f!==null){var A=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)_0(M[f],A)}catch(G){ct(l,l.return,G)}}s&&v&64&&Oy(p),Ll(p,p.return);break;case 27:jy(p);case 26:case 5:Ti(f,p,s),s&&l===null&&v&4&&My(p),Ll(p,p.return);break;case 12:Ti(f,p,s);break;case 31:Ti(f,p,s),s&&v&4&&Uy(f,p);break;case 13:Ti(f,p,s),s&&v&4&&By(f,p);break;case 22:p.memoizedState===null&&Ti(f,p,s),Ll(p,p.return);break;case 30:break;default:Ti(f,p,s)}a=a.sibling}}function qh(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Tl(s))}function Fh(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Tl(t))}function xa(t,a,s,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Fy(t,a,s,l),a=a.sibling}function Fy(t,a,s,l){var f=a.flags;switch(a.tag){case 0:case 11:case 15:xa(t,a,s,l),f&2048&&Vl(9,a);break;case 1:xa(t,a,s,l);break;case 3:xa(t,a,s,l),f&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Tl(t)));break;case 12:if(f&2048){xa(t,a,s,l),t=a.stateNode;try{var p=a.memoizedProps,v=p.id,A=p.onPostCommit;typeof A=="function"&&A(v,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){ct(a,a.return,M)}}else xa(t,a,s,l);break;case 31:xa(t,a,s,l);break;case 13:xa(t,a,s,l);break;case 23:break;case 22:p=a.stateNode,v=a.alternate,a.memoizedState!==null?p._visibility&2?xa(t,a,s,l):zl(t,a):p._visibility&2?xa(t,a,s,l):(p._visibility|=2,fo(t,a,s,l,(a.subtreeFlags&10256)!==0||!1)),f&2048&&qh(v,a);break;case 24:xa(t,a,s,l),f&2048&&Fh(a.alternate,a);break;default:xa(t,a,s,l)}}function fo(t,a,s,l,f){for(f=f&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=t,v=a,A=s,M=l,G=v.flags;switch(v.tag){case 0:case 11:case 15:fo(p,v,A,M,f),Vl(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?fo(p,v,A,M,f):zl(p,v):(Z._visibility|=2,fo(p,v,A,M,f)),f&&G&2048&&qh(v.alternate,v);break;case 24:fo(p,v,A,M,f),f&&G&2048&&Fh(v.alternate,v);break;default:fo(p,v,A,M,f)}a=a.sibling}}function zl(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,l=a,f=l.flags;switch(l.tag){case 22:zl(s,l),f&2048&&qh(l.alternate,l);break;case 24:zl(s,l),f&2048&&Fh(l.alternate,l);break;default:zl(s,l)}a=a.sibling}}var Ul=8192;function ho(t,a,s){if(t.subtreeFlags&Ul)for(t=t.child;t!==null;)Gy(t,a,s),t=t.sibling}function Gy(t,a,s){switch(t.tag){case 26:ho(t,a,s),t.flags&Ul&&t.memoizedState!==null&&wT(s,_a,t.memoizedState,t.memoizedProps);break;case 5:ho(t,a,s);break;case 3:case 4:var l=_a;_a=Zu(t.stateNode.containerInfo),ho(t,a,s),_a=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ul,Ul=16777216,ho(t,a,s),Ul=l):ho(t,a,s));break;default:ho(t,a,s)}}function Ky(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Bl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];Xt=l,Yy(l,t)}Ky(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qy(t),t=t.sibling}function Qy(t){switch(t.tag){case 0:case 11:case 15:Bl(t),t.flags&2048&&sr(9,t,t.return);break;case 3:Bl(t);break;case 12:Bl(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Uu(t)):Bl(t);break;default:Bl(t)}}function Uu(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];Xt=l,Yy(l,t)}Ky(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:sr(8,a,a.return),Uu(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,Uu(a));break;default:Uu(a)}t=t.sibling}}function Yy(t,a){for(;Xt!==null;){var s=Xt;switch(s.tag){case 0:case 11:case 15:sr(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Xt=l;else e:for(s=t;Xt!==null;){l=Xt;var f=l.sibling,p=l.return;if(Ly(l),l===s){Xt=null;break e}if(f!==null){f.return=p,Xt=f;break e}Xt=p}}}var B1={getCacheForType:function(t){var a=an(Lt),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s},cacheSignal:function(){return an(Lt).controller.signal}},H1=typeof WeakMap=="function"?WeakMap:Map,at=0,pt=null,qe=null,Ke=0,lt=0,Hn=null,or=!1,po=!1,Gh=!1,Si=0,St=0,lr=0,ys=0,Kh=0,qn=0,mo=0,Hl=null,Nn=null,Qh=!1,Bu=0,$y=0,Hu=1/0,qu=null,cr=null,Gt=0,ur=null,go=null,wi=0,Yh=0,$h=null,Xy=null,ql=0,Xh=null;function Fn(){return(at&2)!==0&&Ke!==0?Ke&-Ke:X.T!==null?np():Fc()}function Jy(){if(qn===0)if((Ke&536870912)===0||We){var t=Fr;Fr<<=1,(Fr&3932160)===0&&(Fr=262144),qn=t}else qn=536870912;return t=Un.current,t!==null&&(t.flags|=32),qn}function Rn(t,a,s){(t===pt&&(lt===2||lt===9)||t.cancelPendingCommit!==null)&&(yo(t,0),dr(t,Ke,qn,!1)),Gr(t,s),((at&2)===0||t!==pt)&&(t===pt&&((at&2)===0&&(ys|=s),St===4&&dr(t,Ke,qn,!1)),Ya(t))}function Wy(t,a,s){if((at&6)!==0)throw Error(r(327));var l=!s&&(a&127)===0&&(a&t.expiredLanes)===0||da(t,a),f=l?G1(t,a):Wh(t,a,!0),p=l;do{if(f===0){po&&!l&&dr(t,a,0,!1);break}else{if(s=t.current.alternate,p&&!q1(s)){f=Wh(t,a,!1),p=!1;continue}if(f===2){if(p=a,t.errorRecoveryDisabledLanes&p)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){a=v;e:{var A=t;f=Hl;var M=A.current.memoizedState.isDehydrated;if(M&&(yo(A,v).flags|=256),v=Wh(A,v,!1),v!==2){if(Gh&&!M){A.errorRecoveryDisabledLanes|=p,ys|=p,f=4;break e}p=Nn,Nn=f,p!==null&&(Nn===null?Nn=p:Nn.push.apply(Nn,p))}f=v}if(p=!1,f!==2)continue}}if(f===1){yo(t,0),dr(t,a,0,!0);break}e:{switch(l=t,p=f,p){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:dr(l,a,qn,!or);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(f=Bu+300-Zt(),10<f)){if(dr(l,a,qn,!or),Ia(l,0,!0)!==0)break e;wi=a,l.timeoutHandle=Cb(Zy.bind(null,l,s,Nn,qu,Qh,a,qn,ys,mo,or,p,"Throttled",-0,0),f);break e}Zy(l,s,Nn,qu,Qh,a,qn,ys,mo,or,p,null,-0,0)}}break}while(!0);Ya(t)}function Zy(t,a,s,l,f,p,v,A,M,G,Z,ae,K,$){if(t.timeoutHandle=-1,ae=a.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pa},Gy(a,p,ae);var ye=(p&62914560)===p?Bu-Zt():(p&4194048)===p?$y-Zt():0;if(ye=NT(ae,ye),ye!==null){wi=p,t.cancelPendingCommit=ye(ob.bind(null,t,a,p,s,l,f,v,A,M,Z,ae,null,K,$)),dr(t,p,v,!G);return}}ob(t,a,p,s,l,f,v,A,M)}function q1(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],p=f.getSnapshot;f=f.value;try{if(!Ln(p(),f))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function dr(t,a,s,l){a&=~Kh,a&=~ys,t.suspendedLanes|=a,t.pingedLanes&=~a,l&&(t.warmLanes|=a),l=t.expirationTimes;for(var f=a;0<f;){var p=31-Nt(f),v=1<<p;l[p]=-1,f&=~v}s!==0&&Kr(t,s,a)}function Fu(){return(at&6)===0?(Fl(0),!1):!0}function Jh(){if(qe!==null){if(lt===0)var t=qe.return;else t=qe,mi=ls=null,hh(t),so=null,wl=0,t=qe;for(;t!==null;)Iy(t.alternate,t),t=t.return;qe=null}}function yo(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,cT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),wi=0,Jh(),pt=t,qe=s=hi(t.current,null),Ke=a,lt=0,Hn=null,or=!1,po=da(t,a),Gh=!1,mo=qn=Kh=ys=lr=St=0,Nn=Hl=null,Qh=!1,(a&8)!==0&&(a|=a&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=a;0<l;){var f=31-Nt(l),p=1<<f;a|=t[f],l&=~p}return Si=a,du(),s}function eb(t,a){Ue=null,X.H=kl,a===ro||a===vu?(a=g0(),lt=3):a===th?(a=g0(),lt=4):lt=a===Ch?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Hn=a,qe===null&&(St=1,Mu(t,ea(a,t.current)))}function tb(){var t=Un.current;return t===null?!0:(Ke&4194048)===Ke?ia===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?t===ia:!1}function nb(){var t=X.H;return X.H=kl,t===null?kl:t}function ab(){var t=X.A;return X.A=B1,t}function Gu(){St=4,or||(Ke&4194048)!==Ke&&Un.current!==null||(po=!0),(lr&134217727)===0&&(ys&134217727)===0||pt===null||dr(pt,Ke,qn,!1)}function Wh(t,a,s){var l=at;at|=2;var f=nb(),p=ab();(pt!==t||Ke!==a)&&(qu=null,yo(t,a)),a=!1;var v=St;e:do try{if(lt!==0&&qe!==null){var A=qe,M=Hn;switch(lt){case 8:Jh(),v=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(a=!0);var G=lt;if(lt=0,Hn=null,bo(t,A,M,G),s&&po){v=0;break e}break;default:G=lt,lt=0,Hn=null,bo(t,A,M,G)}}F1(),v=St;break}catch(Z){eb(t,Z)}while(!0);return a&&t.shellSuspendCounter++,mi=ls=null,at=l,X.H=f,X.A=p,qe===null&&(pt=null,Ke=0,du()),v}function F1(){for(;qe!==null;)ib(qe)}function G1(t,a){var s=at;at|=2;var l=nb(),f=ab();pt!==t||Ke!==a?(qu=null,Hu=Zt()+500,yo(t,a)):po=da(t,a);e:do try{if(lt!==0&&qe!==null){a=qe;var p=Hn;t:switch(lt){case 1:lt=0,Hn=null,bo(t,a,p,1);break;case 2:case 9:if(p0(p)){lt=0,Hn=null,rb(a);break}a=function(){lt!==2&&lt!==9||pt!==t||(lt=7),Ya(t)},p.then(a,a);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:p0(p)?(lt=0,Hn=null,rb(a)):(lt=0,Hn=null,bo(t,a,p,7));break;case 5:var v=null;switch(qe.tag){case 26:v=qe.memoizedState;case 5:case 27:var A=qe;if(v?Fb(v):A.stateNode.complete){lt=0,Hn=null;var M=A.sibling;if(M!==null)qe=M;else{var G=A.return;G!==null?(qe=G,Ku(G)):qe=null}break t}}lt=0,Hn=null,bo(t,a,p,5);break;case 6:lt=0,Hn=null,bo(t,a,p,6);break;case 8:Jh(),St=6;break e;default:throw Error(r(462))}}K1();break}catch(Z){eb(t,Z)}while(!0);return mi=ls=null,X.H=l,X.A=f,at=s,qe!==null?0:(pt=null,Ke=0,du(),St)}function K1(){for(;qe!==null&&!_n();)ib(qe)}function ib(t){var a=Ry(t.alternate,t,Si);t.memoizedProps=t.pendingProps,a===null?Ku(t):qe=a}function rb(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=Ey(s,a,a.pendingProps,a.type,void 0,Ke);break;case 11:a=Ey(s,a,a.pendingProps,a.type.render,a.ref,Ke);break;case 5:hh(a);default:Iy(s,a),a=qe=a0(a,Si),a=Ry(s,a,Si)}t.memoizedProps=t.pendingProps,a===null?Ku(t):qe=a}function bo(t,a,s,l){mi=ls=null,hh(a),so=null,wl=0;var f=a.return;try{if(k1(t,f,a,s,Ke)){St=1,Mu(t,ea(s,t.current)),qe=null;return}}catch(p){if(f!==null)throw qe=f,p;St=1,Mu(t,ea(s,t.current)),qe=null;return}a.flags&32768?(We||l===1?t=!0:po||(Ke&536870912)!==0?t=!1:(or=t=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),sb(a,t)):Ku(a)}function Ku(t){var a=t;do{if((a.flags&32768)!==0){sb(a,or);return}t=a.return;var s=V1(a.alternate,a,Si);if(s!==null){qe=s;return}if(a=a.sibling,a!==null){qe=a;return}qe=a=t}while(a!==null);St===0&&(St=5)}function sb(t,a){do{var s=L1(t.alternate,t);if(s!==null){s.flags&=32767,qe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){qe=t;return}qe=t=s}while(t!==null);St=6,qe=null}function ob(t,a,s,l,f,p,v,A,M){t.cancelPendingCommit=null;do Qu();while(Gt!==0);if((at&6)!==0)throw Error(r(327));if(a!==null){if(a===t.current)throw Error(r(177));if(p=a.lanes|a.childLanes,p|=Uf,Of(t,s,p,v,A,M),t===pt&&(qe=pt=null,Ke=0),go=a,ur=t,wi=s,Yh=p,$h=f,Xy=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,X1(dn,function(){return fb(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=ue.p,ue.p=2,v=at,at|=4;try{z1(t,a,s)}finally{at=v,ue.p=f,X.T=l}}Gt=1,lb(),cb(),ub()}}function lb(){if(Gt===1){Gt=0;var t=ur,a=go,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var l=ue.p;ue.p=2;var f=at;at|=4;try{Hy(a,t);var p=up,v=Yg(t.containerInfo),A=p.focusedElem,M=p.selectionRange;if(v!==A&&A&&A.ownerDocument&&Qg(A.ownerDocument.documentElement,A)){if(M!==null&&jf(A)){var G=M.start,Z=M.end;if(Z===void 0&&(Z=G),"selectionStart"in A)A.selectionStart=G,A.selectionEnd=Math.min(Z,A.value.length);else{var ae=A.ownerDocument||document,K=ae&&ae.defaultView||window;if(K.getSelection){var $=K.getSelection(),ye=A.textContent.length,Ce=Math.min(M.start,ye),ht=M.end===void 0?Ce:Math.min(M.end,ye);!$.extend&&Ce>ht&&(v=ht,ht=Ce,Ce=v);var z=Kg(A,Ce),V=Kg(A,ht);if(z&&V&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==V.node||$.focusOffset!==V.offset)){var F=ae.createRange();F.setStart(z.node,z.offset),$.removeAllRanges(),Ce>ht?($.addRange(F),$.extend(V.node,V.offset)):(F.setEnd(V.node,V.offset),$.addRange(F))}}}}for(ae=[],$=A;$=$.parentNode;)$.nodeType===1&&ae.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ae.length;A++){var te=ae[A];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}rd=!!cp,up=cp=null}finally{at=f,ue.p=l,X.T=s}}t.current=a,Gt=2}}function cb(){if(Gt===2){Gt=0;var t=ur,a=go,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var l=ue.p;ue.p=2;var f=at;at|=4;try{Vy(t,a.alternate,a)}finally{at=f,ue.p=l,X.T=s}}Gt=3}}function ub(){if(Gt===4||Gt===3){Gt=0,jn();var t=ur,a=go,s=wi,l=Xy;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Gt=5:(Gt=0,go=ur=null,db(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(cr=null),ci(s),a=a.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(ua,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=X.T,f=ue.p,ue.p=2,X.T=null;try{for(var p=t.onRecoverableError,v=0;v<l.length;v++){var A=l[v];p(A.value,{componentStack:A.stack})}}finally{X.T=a,ue.p=f}}(wi&3)!==0&&Qu(),Ya(t),f=t.pendingLanes,(s&261930)!==0&&(f&42)!==0?t===Xh?ql++:(ql=0,Xh=t):ql=0,Fl(0)}}function db(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,Tl(a)))}function Qu(){return lb(),cb(),ub(),fb()}function fb(){if(Gt!==5)return!1;var t=ur,a=Yh;Yh=0;var s=ci(wi),l=X.T,f=ue.p;try{ue.p=32>s?32:s,X.T=null,s=$h,$h=null;var p=ur,v=wi;if(Gt=0,go=ur=null,wi=0,(at&6)!==0)throw Error(r(331));var A=at;if(at|=4,Qy(p.current),Fy(p,p.current,v,s),at=A,Fl(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(ua,p)}catch{}return!0}finally{ue.p=f,X.T=l,db(t,a)}}function hb(t,a,s){a=ea(s,a),a=Rh(t.stateNode,a,2),t=ar(t,a,2),t!==null&&(Gr(t,2),Ya(t))}function ct(t,a,s){if(t.tag===3)hb(t,t,s);else for(;a!==null;){if(a.tag===3){hb(a,t,s);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(cr===null||!cr.has(l))){t=ea(s,t),s=py(2),l=ar(a,s,2),l!==null&&(my(s,l,a,t),Gr(l,2),Ya(l));break}}a=a.return}}function Zh(t,a,s){var l=t.pingCache;if(l===null){l=t.pingCache=new H1;var f=new Set;l.set(a,f)}else f=l.get(a),f===void 0&&(f=new Set,l.set(a,f));f.has(s)||(Gh=!0,f.add(s),t=Q1.bind(null,t,a,s),a.then(t,t))}function Q1(t,a,s){var l=t.pingCache;l!==null&&l.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,pt===t&&(Ke&s)===s&&(St===4||St===3&&(Ke&62914560)===Ke&&300>Zt()-Bu?(at&2)===0&&yo(t,0):Kh|=s,mo===Ke&&(mo=0)),Ya(t)}function pb(t,a){a===0&&(a=qc()),t=rs(t,a),t!==null&&(Gr(t,a),Ya(t))}function Y1(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),pb(t,s)}function $1(t,a){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(a),pb(t,s)}function X1(t,a){return Je(t,a)}var Yu=null,vo=null,ep=!1,$u=!1,tp=!1,fr=0;function Ya(t){t!==vo&&t.next===null&&(vo===null?Yu=vo=t:vo=vo.next=t),$u=!0,ep||(ep=!0,W1())}function Fl(t,a){if(!tp&&$u){tp=!0;do for(var s=!1,l=Yu;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var v=l.suspendedLanes,A=l.pingedLanes;p=(1<<31-Nt(42|t)+1)-1,p&=f&~(v&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,bb(l,p))}else p=Ke,p=Ia(l,l===pt?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||da(l,p)||(s=!0,bb(l,p));l=l.next}while(s);tp=!1}}function J1(){mb()}function mb(){$u=ep=!1;var t=0;fr!==0&&lT()&&(t=fr);for(var a=Zt(),s=null,l=Yu;l!==null;){var f=l.next,p=gb(l,a);p===0?(l.next=null,s===null?Yu=f:s.next=f,f===null&&(vo=s)):(s=l,(t!==0||(p&3)!==0)&&($u=!0)),l=f}Gt!==0&&Gt!==5||Fl(t),fr!==0&&(fr=0)}function gb(t,a){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var v=31-Nt(p),A=1<<v,M=f[v];M===-1?((A&s)===0||(A&l)!==0)&&(f[v]=If(A,a)):M<=a&&(t.expiredLanes|=A),p&=~A}if(a=pt,s=Ke,s=Ia(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===a&&(lt===2||lt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&un(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||da(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(l!==null&&un(l),ci(s)){case 2:case 8:s=Hr;break;case 32:s=dn;break;case 268435456:s=qr;break;default:s=dn}return l=yb.bind(null,t),s=Je(s,l),t.callbackPriority=a,t.callbackNode=s,a}return l!==null&&l!==null&&un(l),t.callbackPriority=2,t.callbackNode=null,2}function yb(t,a){if(Gt!==0&&Gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Qu()&&t.callbackNode!==s)return null;var l=Ke;return l=Ia(t,t===pt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Wy(t,l,a),gb(t,Zt()),t.callbackNode!=null&&t.callbackNode===s?yb.bind(null,t):null)}function bb(t,a){if(Qu())return null;Wy(t,a,!0)}function W1(){uT(function(){(at&6)!==0?Je(Br,J1):mb()})}function np(){if(fr===0){var t=ao;t===0&&(t=Ra,Ra<<=1,(Ra&261888)===0&&(Ra=256)),fr=t}return fr}function vb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hs(""+t)}function _b(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function Z1(t,a,s,l,f){if(a==="submit"&&s&&s.stateNode===f){var p=vb((f[Yt]||null).action),v=l.submitter;v&&(a=(a=v[Yt]||null)?vb(a.formAction):v.getAttribute("formAction"),a!==null&&(p=a,v=null));var A=new Ba("action","action",null,l,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fr!==0){var M=v?_b(f,v):new FormData(f);Eh(s,{pending:!0,data:M,method:f.method,action:p},null,M)}}else typeof p=="function"&&(A.preventDefault(),M=v?_b(f,v):new FormData(f),Eh(s,{pending:!0,data:M,method:f.method,action:p},p,M))},currentTarget:f}]})}}for(var ap=0;ap<zf.length;ap++){var ip=zf[ap],eT=ip.toLowerCase(),tT=ip[0].toUpperCase()+ip.slice(1);va(eT,"on"+tT)}va(Jg,"onAnimationEnd"),va(Wg,"onAnimationIteration"),va(Zg,"onAnimationStart"),va("dblclick","onDoubleClick"),va("focusin","onFocus"),va("focusout","onBlur"),va(y1,"onTransitionRun"),va(b1,"onTransitionStart"),va(v1,"onTransitionCancel"),va(e0,"onTransitionEnd"),Va("onMouseEnter",["mouseout","mouseover"]),Va("onMouseLeave",["mouseout","mouseover"]),Va("onPointerEnter",["pointerout","pointerover"]),Va("onPointerLeave",["pointerout","pointerover"]),Pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function xb(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var p=void 0;if(a)for(var v=l.length-1;0<=v;v--){var A=l[v],M=A.instance,G=A.currentTarget;if(A=A.listener,M!==p&&f.isPropagationStopped())break e;p=A,f.currentTarget=G;try{p(f)}catch(Z){uu(Z)}f.currentTarget=null,p=M}else for(v=0;v<l.length;v++){if(A=l[v],M=A.instance,G=A.currentTarget,A=A.listener,M!==p&&f.isPropagationStopped())break e;p=A,f.currentTarget=G;try{p(f)}catch(Z){uu(Z)}f.currentTarget=null,p=M}}}}function Fe(t,a){var s=a[Vs];s===void 0&&(s=a[Vs]=new Set);var l=t+"__bubble";s.has(l)||(Eb(a,t,2,!1),s.add(l))}function rp(t,a,s){var l=0;a&&(l|=4),Eb(s,t,l,a)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function sp(t){if(!t[Xu]){t[Xu]=!0,al.forEach(function(s){s!=="selectionchange"&&(nT.has(s)||rp(s,!1,t),rp(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Xu]||(a[Xu]=!0,rp("selectionchange",!1,a))}}function Eb(t,a,s,l){switch(Jb(a)){case 2:var f=IT;break;case 8:f=OT;break;default:f=xp}s=f.bind(null,a,s,t),f=void 0,!Jr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(a,s,{capture:!0,passive:f}):t.addEventListener(a,s,!0):f!==void 0?t.addEventListener(a,s,{passive:f}):t.addEventListener(a,s,!1)}function op(t,a,s,l,f){var p=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===f)break;if(v===4)for(v=l.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;A!==null;){if(v=ka(A),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){l=p=v;continue e}A=A.parentNode}}l=l.return}Qi(function(){var G=p,Z=Xn(s),ae=[];e:{var K=t0.get(t);if(K!==void 0){var $=Ba,ye=t;switch(t){case"keypress":if(Zr(s)===0)break e;case"keydown":case"keyup":$=ou;break;case"focusin":ye="focus",$=ts;break;case"focusout":ye="blur",$=ts;break;case"beforeblur":case"afterblur":$=ts;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=b;break;case Jg:case Wg:case Zg:$=eu;break;case e0:$=S;break;case"scroll":case"scrollend":$=ml;break;case"wheel":$=Y;break;case"copy":case"cut":case"paste":$=tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=fi;break;case"toggle":case"beforetoggle":$=ze}var Ce=(a&4)!==0,ht=!Ce&&(t==="scroll"||t==="scrollend"),z=Ce?K!==null?K+"Capture":null:K;Ce=[];for(var V=G,F;V!==null;){var te=V;if(F=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||F===null||z===null||(te=ma(V,z),te!=null&&Ce.push(Kl(V,te,F))),ht)break;V=V.return}0<Ce.length&&(K=new $(K,ye,null,s,Z),ae.push({event:K,listeners:Ce}))}}if((a&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",K&&s!==fl&&(ye=s.relatedTarget||s.fromElement)&&(ka(ye)||ye[Da]))break e;if(($||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,$?(ye=s.relatedTarget||s.toElement,$=G,ye=ye?ka(ye):null,ye!==null&&(ht=c(ye),Ce=ye.tag,ye!==ht||Ce!==5&&Ce!==27&&Ce!==6)&&(ye=null)):($=null,ye=G),$!==ye)){if(Ce=gl,te="onMouseLeave",z="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ce=fi,te="onPointerLeave",z="onPointerEnter",V="pointer"),ht=$==null?K:Pn($),F=ye==null?K:Pn(ye),K=new Ce(te,V+"leave",$,s,Z),K.target=ht,K.relatedTarget=F,te=null,ka(Z)===G&&(Ce=new Ce(z,V+"enter",ye,s,Z),Ce.target=F,Ce.relatedTarget=ht,te=Ce),ht=te,$&&ye)t:{for(Ce=aT,z=$,V=ye,F=0,te=z;te;te=Ce(te))F++;te=0;for(var Ae=V;Ae;Ae=Ce(Ae))te++;for(;0<F-te;)z=Ce(z),F--;for(;0<te-F;)V=Ce(V),te--;for(;F--;){if(z===V||V!==null&&z===V.alternate){Ce=z;break t}z=Ce(z),V=Ce(V)}Ce=null}else Ce=null;$!==null&&Ab(ae,K,$,Ce,!1),ye!==null&&ht!==null&&Ab(ae,ht,ye,Ce,!0)}}e:{if(K=G?Pn(G):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var et=Ug;else if(Lg(K))if(Bg)et=p1;else{et=f1;var xe=d1}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Bs(G.elementType)&&(et=Ug):et=h1;if(et&&(et=et(t,G))){zg(ae,et,s,Z);break e}xe&&xe(t,K,G),t==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&cl(K,"number",K.value)}switch(xe=G?Pn(G):window,t){case"focusin":(Lg(xe)||xe.contentEditable==="true")&&($s=xe,Pf=G,xl=null);break;case"focusout":xl=Pf=$s=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,$g(ae,s,Z);break;case"selectionchange":if(g1)break;case"keydown":case"keyup":$g(ae,s,Z)}var Be;if(nt)e:{switch(t){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Ys?ns(t,s)&&(Qe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Qe="onCompositionStart");Qe&&(Fa&&s.locale!=="ko"&&(Ys||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Ys&&(Be=pl()):(Ua=Z,hl="value"in Ua?Ua.value:Ua.textContent,Ys=!0)),xe=Ju(G,Qe),0<xe.length&&(Qe=new qa(Qe,t,null,s,Z),ae.push({event:Qe,listeners:xe}),Be?Qe.data=Be:(Be=Qs(s),Be!==null&&(Qe.data=Be)))),(Be=Wn?o1(t,s):l1(t,s))&&(Qe=Ju(G,"onBeforeInput"),0<Qe.length&&(xe=new qa("onBeforeInput","beforeinput",null,s,Z),ae.push({event:xe,listeners:Qe}),xe.data=Be)),Z1(ae,t,G,s,Z)}xb(ae,a)})}function Kl(t,a,s){return{instance:t,listener:a,currentTarget:s}}function Ju(t,a){for(var s=a+"Capture",l=[];t!==null;){var f=t,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=ma(t,s),f!=null&&l.unshift(Kl(t,f,p)),f=ma(t,a),f!=null&&l.push(Kl(t,f,p))),t.tag===3)return l;t=t.return}return[]}function aT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ab(t,a,s,l,f){for(var p=a._reactName,v=[];s!==null&&s!==l;){var A=s,M=A.alternate,G=A.stateNode;if(A=A.tag,M!==null&&M===l)break;A!==5&&A!==26&&A!==27||G===null||(M=G,f?(G=ma(s,p),G!=null&&v.unshift(Kl(s,G,M))):f||(G=ma(s,p),G!=null&&v.push(Kl(s,G,M)))),s=s.return}v.length!==0&&t.push({event:a,listeners:v})}var iT=/\r\n?/g,rT=/\u0000|\uFFFD/g;function Tb(t){return(typeof t=="string"?t:""+t).replace(iT,`
`).replace(rT,"")}function Sb(t,a){return a=Tb(a),Tb(t)===a}function ft(t,a,s,l,f,p){switch(s){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&An(t,""+l);break;case"className":Vn(t,"class",l);break;case"tabIndex":Vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(t,s,l);break;case"style":dl(t,l,p);break;case"data":if(a!=="object"){Vn(t,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Hs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(a!=="input"&&ft(t,a,"name",f.name,f,null),ft(t,a,"formEncType",f.formEncType,f,null),ft(t,a,"formMethod",f.formMethod,f,null),ft(t,a,"formTarget",f.formTarget,f,null)):(ft(t,a,"encType",f.encType,f,null),ft(t,a,"method",f.method,f,null),ft(t,a,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Hs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=pa);break;case"onScroll":l!=null&&Fe("scroll",t);break;case"onScrollEnd":l!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Hs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),zs(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":zs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Jc.get(s)||s,zs(t,s,l))}}function lp(t,a,s,l,f,p){switch(s){case"style":dl(t,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Fe("scroll",t);break;case"onScrollEnd":l!=null&&Fe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=pa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!il.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),a=s.slice(2,f?s.length-7:void 0),p=t[Yt]||null,p=p!=null?p[s]:null,typeof p=="function"&&t.removeEventListener(a,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):zs(t,s,l)}}}function sn(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var l=!1,f=!1,p;for(p in s)if(s.hasOwnProperty(p)){var v=s[p];if(v!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ft(t,a,p,v,s,null)}}f&&ft(t,a,"srcSet",s.srcSet,s,null),l&&ft(t,a,"src",s.src,s,null);return;case"input":Fe("invalid",t);var A=p=v=f=null,M=null,G=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":v=Z;break;case"checked":M=Z;break;case"defaultChecked":G=Z;break;case"value":p=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,a));break;default:ft(t,a,l,Z,s,null)}}Yc(t,p,A,M,G,v,f,!1);return;case"select":Fe("invalid",t),l=v=p=null;for(f in s)if(s.hasOwnProperty(f)&&(A=s[f],A!=null))switch(f){case"value":p=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:ft(t,a,f,A,s,null)}a=p,s=v,t.multiple=!!l,a!=null?qi(t,!!l,a,!1):s!=null&&qi(t,!!l,s,!0);return;case"textarea":Fe("invalid",t),p=f=l=null;for(v in s)if(s.hasOwnProperty(v)&&(A=s[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":f=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:ft(t,a,v,A,s,null)}Fi(t,l,f,p);return;case"option":for(M in s)s.hasOwnProperty(M)&&(l=s[M],l!=null)&&(M==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ft(t,a,M,l,s,null));return;case"dialog":Fe("beforetoggle",t),Fe("toggle",t),Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(l=0;l<Gl.length;l++)Fe(Gl[l],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in s)if(s.hasOwnProperty(G)&&(l=s[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ft(t,a,G,l,s,null)}return;default:if(Bs(a)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&lp(t,a,Z,l,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(l=s[A],l!=null&&ft(t,a,A,l,s,null))}function sT(t,a,s,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,v=null,A=null,M=null,G=null,Z=null;for($ in s){var ae=s[$];if(s.hasOwnProperty($)&&ae!=null)switch($){case"checked":break;case"value":break;case"defaultValue":M=ae;default:l.hasOwnProperty($)||ft(t,a,$,null,l,ae)}}for(var K in l){var $=l[K];if(ae=s[K],l.hasOwnProperty(K)&&($!=null||ae!=null))switch(K){case"type":p=$;break;case"name":f=$;break;case"checked":G=$;break;case"defaultChecked":Z=$;break;case"value":v=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,a));break;default:$!==ae&&ft(t,a,K,$,l,ae)}}Us(t,v,A,M,G,Z,p,f);return;case"select":$=v=A=K=null;for(p in s)if(M=s[p],s.hasOwnProperty(p)&&M!=null)switch(p){case"value":break;case"multiple":$=M;default:l.hasOwnProperty(p)||ft(t,a,p,null,l,M)}for(f in l)if(p=l[f],M=s[f],l.hasOwnProperty(f)&&(p!=null||M!=null))switch(f){case"value":K=p;break;case"defaultValue":A=p;break;case"multiple":v=p;default:p!==M&&ft(t,a,f,p,l,M)}a=A,s=v,l=$,K!=null?qi(t,!!s,K,!1):!!l!=!!s&&(a!=null?qi(t,!!s,a,!0):qi(t,!!s,s?[]:"",!1));return;case"textarea":$=K=null;for(A in s)if(f=s[A],s.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ft(t,a,A,null,l,f)}for(v in l)if(f=l[v],p=s[v],l.hasOwnProperty(v)&&(f!=null||p!=null))switch(v){case"value":K=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==p&&ft(t,a,v,f,l,p)}$c(t,K,$);return;case"option":for(var ye in s)K=s[ye],s.hasOwnProperty(ye)&&K!=null&&!l.hasOwnProperty(ye)&&(ye==="selected"?t.selected=!1:ft(t,a,ye,null,l,K));for(M in l)K=l[M],$=s[M],l.hasOwnProperty(M)&&K!==$&&(K!=null||$!=null)&&(M==="selected"?t.selected=K&&typeof K!="function"&&typeof K!="symbol":ft(t,a,M,K,l,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in s)K=s[Ce],s.hasOwnProperty(Ce)&&K!=null&&!l.hasOwnProperty(Ce)&&ft(t,a,Ce,null,l,K);for(G in l)if(K=l[G],$=s[G],l.hasOwnProperty(G)&&K!==$&&(K!=null||$!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,a));break;default:ft(t,a,G,K,l,$)}return;default:if(Bs(a)){for(var ht in s)K=s[ht],s.hasOwnProperty(ht)&&K!==void 0&&!l.hasOwnProperty(ht)&&lp(t,a,ht,void 0,l,K);for(Z in l)K=l[Z],$=s[Z],!l.hasOwnProperty(Z)||K===$||K===void 0&&$===void 0||lp(t,a,Z,K,l,$);return}}for(var z in s)K=s[z],s.hasOwnProperty(z)&&K!=null&&!l.hasOwnProperty(z)&&ft(t,a,z,null,l,K);for(ae in l)K=l[ae],$=s[ae],!l.hasOwnProperty(ae)||K===$||K==null&&$==null||ft(t,a,ae,K,l,$)}function wb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var f=s[l],p=f.transferSize,v=f.initiatorType,A=f.duration;if(p&&A&&wb(v)){for(v=0,A=f.responseEnd,l+=1;l<s.length;l++){var M=s[l],G=M.startTime;if(G>A)break;var Z=M.transferSize,ae=M.initiatorType;Z&&wb(ae)&&(M=M.responseEnd,v+=Z*(M<A?1:(A-G)/(M-G)))}if(--l,a+=8*(p+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var cp=null,up=null;function Wu(t){return t.nodeType===9?t:t.ownerDocument}function Nb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rb(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function dp(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var fp=null;function lT(){var t=window.event;return t&&t.type==="popstate"?t===fp?!1:(fp=t,!0):(fp=null,!1)}var Cb=typeof setTimeout=="function"?setTimeout:void 0,cT=typeof clearTimeout=="function"?clearTimeout:void 0,Ib=typeof Promise=="function"?Promise:void 0,uT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ib<"u"?function(t){return Ib.resolve(null).then(t).catch(dT)}:Cb;function dT(t){setTimeout(function(){throw t})}function hr(t){return t==="head"}function Ob(t,a){var s=a,l=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(f),Ao(a);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Ql(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Ql(s);for(var p=s.firstChild;p;){var v=p.nextSibling,A=p.nodeName;p[Ma]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&p.rel.toLowerCase()==="stylesheet"||s.removeChild(p),p=v}}else s==="body"&&Ql(t.ownerDocument.body);s=f}while(s);Ao(a)}function Db(t,a){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function hp(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":hp(s),Ls(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function fT(t,a,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ma])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=ra(t.nextSibling),t===null)break}return null}function hT(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ra(t.nextSibling),t===null))return null;return t}function Mb(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ra(t.nextSibling),t===null))return null;return t}function pp(t){return t.data==="$?"||t.data==="$~"}function mp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function pT(t,a){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||s.readyState!=="loading")a();else{var l=function(){a(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ra(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var gp=null;function kb(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(a===0)return ra(t.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}t=t.nextSibling}return null}function jb(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return t;a--}else s!=="/$"&&s!=="/&"||a++}t=t.previousSibling}return null}function Pb(t,a,s){switch(a=Wu(s),t){case"html":if(t=a.documentElement,!t)throw Error(r(452));return t;case"head":if(t=a.head,!t)throw Error(r(453));return t;case"body":if(t=a.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Ql(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Ls(t)}var sa=new Map,Vb=new Set;function Zu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ni=ue.d;ue.d={f:mT,r:gT,D:yT,C:bT,L:vT,m:_T,X:ET,S:xT,M:AT};function mT(){var t=Ni.f(),a=Fu();return t||a}function gT(t){var a=$n(t);a!==null&&a.tag===5&&a.type==="form"?ey(a):Ni.r(t)}var _o=typeof document>"u"?null:document;function Lb(t,a,s){var l=_o;if(l&&typeof a=="string"&&a){var f=En(a);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Vb.has(f)||(Vb.add(f),t={rel:t,crossOrigin:s,href:a},l.querySelector(f)===null&&(a=l.createElement("link"),sn(a,"link",t),Pt(a),l.head.appendChild(a)))}}function yT(t){Ni.D(t),Lb("dns-prefetch",t,null)}function bT(t,a){Ni.C(t,a),Lb("preconnect",t,a)}function vT(t,a,s){Ni.L(t,a,s);var l=_o;if(l&&t&&a){var f='link[rel="preload"][as="'+En(a)+'"]';a==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+En(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+En(s.imageSizes)+'"]')):f+='[href="'+En(t)+'"]';var p=f;switch(a){case"style":p=xo(t);break;case"script":p=Eo(t)}sa.has(p)||(t=E({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),sa.set(p,t),l.querySelector(f)!==null||a==="style"&&l.querySelector(Yl(p))||a==="script"&&l.querySelector($l(p))||(a=l.createElement("link"),sn(a,"link",t),Pt(a),l.head.appendChild(a)))}}function _T(t,a){Ni.m(t,a);var s=_o;if(s&&t){var l=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+En(l)+'"][href="'+En(t)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Eo(t)}if(!sa.has(p)&&(t=E({rel:"modulepreload",href:t},a),sa.set(p,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector($l(p)))return}l=s.createElement("link"),sn(l,"link",t),Pt(l),s.head.appendChild(l)}}}function xT(t,a,s){Ni.S(t,a,s);var l=_o;if(l&&t){var f=ja(l).hoistableStyles,p=xo(t);a=a||"default";var v=f.get(p);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(Yl(p)))A.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":a},s),(s=sa.get(p))&&yp(t,s);var M=v=l.createElement("link");Pt(M),sn(M,"link",t),M._p=new Promise(function(G,Z){M.onload=G,M.onerror=Z}),M.addEventListener("load",function(){A.loading|=1}),M.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ed(v,a,l)}v={type:"stylesheet",instance:v,count:1,state:A},f.set(p,v)}}}function ET(t,a){Ni.X(t,a);var s=_o;if(s&&t){var l=ja(s).hoistableScripts,f=Eo(t),p=l.get(f);p||(p=s.querySelector($l(f)),p||(t=E({src:t,async:!0},a),(a=sa.get(f))&&bp(t,a),p=s.createElement("script"),Pt(p),sn(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function AT(t,a){Ni.M(t,a);var s=_o;if(s&&t){var l=ja(s).hoistableScripts,f=Eo(t),p=l.get(f);p||(p=s.querySelector($l(f)),p||(t=E({src:t,async:!0,type:"module"},a),(a=sa.get(f))&&bp(t,a),p=s.createElement("script"),Pt(p),sn(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function zb(t,a,s,l){var f=(f=ve.current)?Zu(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=xo(s.href),s=ja(f).hoistableStyles,l=s.get(a),l||(l={type:"style",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=xo(s.href);var p=ja(f).hoistableStyles,v=p.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,v),(p=f.querySelector(Yl(t)))&&!p._p&&(v.instance=p,v.state.loading=5),sa.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},sa.set(t,s),p||TT(f,t,s,v.state))),a&&l===null)throw Error(r(528,""));return v}if(a&&l!==null)throw Error(r(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Eo(s),s=ja(f).hoistableScripts,l=s.get(a),l||(l={type:"script",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function xo(t){return'href="'+En(t)+'"'}function Yl(t){return'link[rel="stylesheet"]['+t+"]"}function Ub(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function TT(t,a,s,l){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=t.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),sn(a,"link",s),Pt(a),t.head.appendChild(a))}function Eo(t){return'[src="'+En(t)+'"]'}function $l(t){return"script[async]"+t}function Bb(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var l=t.querySelector('style[data-href~="'+En(s.href)+'"]');if(l)return a.instance=l,Pt(l),l;var f=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Pt(l),sn(l,"style",f),ed(l,s.precedence,t),a.instance=l;case"stylesheet":f=xo(s.href);var p=t.querySelector(Yl(f));if(p)return a.state.loading|=4,a.instance=p,Pt(p),p;l=Ub(s),(f=sa.get(f))&&yp(l,f),p=(t.ownerDocument||t).createElement("link"),Pt(p);var v=p;return v._p=new Promise(function(A,M){v.onload=A,v.onerror=M}),sn(p,"link",l),a.state.loading|=4,ed(p,s.precedence,t),a.instance=p;case"script":return p=Eo(s.src),(f=t.querySelector($l(p)))?(a.instance=f,Pt(f),f):(l=s,(f=sa.get(p))&&(l=E({},s),bp(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Pt(f),sn(f,"link",l),t.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,ed(l,s.precedence,t));return a.instance}function ed(t,a,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===a)p=A;else if(p!==f)break}p?p.parentNode.insertBefore(t,p.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function yp(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function bp(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var td=null;function Hb(t,a,s){if(td===null){var l=new Map,f=td=new Map;f.set(s,l)}else f=td,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var p=s[f];if(!(p[Ma]||p[jt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(a)||"";v=t+v;var A=l.get(v);A?A.push(p):l.set(v,[p])}}return l}function qb(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function ST(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(t=a.disabled,typeof a.precedence=="string"&&t==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Fb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function wT(t,a,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=xo(l.href),p=a.querySelector(Yl(f));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=nd.bind(t),a.then(t,t)),s.state.loading|=4,s.instance=p,Pt(p);return}p=a.ownerDocument||a,l=Ub(l),(f=sa.get(f))&&yp(l,f),p=p.createElement("link"),Pt(p);var v=p;v._p=new Promise(function(A,M){v.onload=A,v.onerror=M}),sn(p,"link",l),s.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=nd.bind(t),a.addEventListener("load",s),a.addEventListener("error",s))}}var vp=0;function NT(t,a){return t.stylesheets&&t.count===0&&id(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&id(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+a);0<t.imgBytes&&vp===0&&(vp=62500*oT());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&id(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>vp?50:800)+a);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function nd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)id(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ad=null;function id(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ad=new Map,a.forEach(RT,t),ad=null,nd.call(t))}function RT(t,a){if(!(a.state.loading&4)){var s=ad.get(t);if(s)var l=s.get(null);else{s=new Map,ad.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var v=f[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}f=a.instance,v=f.getAttribute("data-precedence"),p=s.get(v)||l,p===l&&s.set(null,f),s.set(v,f),this.count++,l=nd.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),a.state.loading|=4}}var Xl={$$typeof:re,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function CT(t,a,s,l,f,p,v,A,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oa(0),this.hiddenUpdates=Oa(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Gb(t,a,s,l,f,p,v,A,M,G,Z,ae){return t=new CT(t,a,s,v,M,G,Z,ae,A),a=1,p===!0&&(a|=24),p=zn(3,null,null,a),t.current=p,p.stateNode=t,a=Wf(),a.refCount++,t.pooledCache=a,a.refCount++,p.memoizedState={element:l,isDehydrated:s,cache:a},nh(p),t}function Kb(t){return t?(t=Ws,t):Ws}function Qb(t,a,s,l,f,p){f=Kb(f),l.context===null?l.context=f:l.pendingContext=f,l=nr(a),l.payload={element:s},p=p===void 0?null:p,p!==null&&(l.callback=p),s=ar(t,l,a),s!==null&&(Rn(s,t,a),Rl(s,t,a))}function Yb(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function _p(t,a){Yb(t,a),(t=t.alternate)&&Yb(t,a)}function $b(t){if(t.tag===13||t.tag===31){var a=rs(t,67108864);a!==null&&Rn(a,t,67108864),_p(t,67108864)}}function Xb(t){if(t.tag===13||t.tag===31){var a=Fn();a=Qr(a);var s=rs(t,a);s!==null&&Rn(s,t,a),_p(t,a)}}var rd=!0;function IT(t,a,s,l){var f=X.T;X.T=null;var p=ue.p;try{ue.p=2,xp(t,a,s,l)}finally{ue.p=p,X.T=f}}function OT(t,a,s,l){var f=X.T;X.T=null;var p=ue.p;try{ue.p=8,xp(t,a,s,l)}finally{ue.p=p,X.T=f}}function xp(t,a,s,l){if(rd){var f=Ep(l);if(f===null)op(t,a,l,sd,s),Wb(t,l);else if(MT(f,t,a,s,l))l.stopPropagation();else if(Wb(t,l),a&4&&-1<DT.indexOf(t)){for(;f!==null;){var p=$n(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=Ca(p.pendingLanes);if(v!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var M=1<<31-Nt(v);A.entanglements[1]|=M,v&=~M}Ya(p),(at&6)===0&&(Hu=Zt()+500,Fl(0))}}break;case 31:case 13:A=rs(p,2),A!==null&&Rn(A,p,2),Fu(),_p(p,2)}if(p=Ep(l),p===null&&op(t,a,l,sd,s),p===f)break;f=p}f!==null&&l.stopPropagation()}else op(t,a,l,null,s)}}function Ep(t){return t=Xn(t),Ap(t)}var sd=null;function Ap(t){if(sd=null,t=ka(t),t!==null){var a=c(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=d(a),t!==null)return t;t=null}else if(s===31){if(t=m(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return sd=t,null}function Jb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(li()){case Br:return 2;case Hr:return 8;case dn:case xn:return 32;case qr:return 268435456;default:return 32}default:return 32}}var Tp=!1,pr=null,mr=null,gr=null,Jl=new Map,Wl=new Map,yr=[],DT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wb(t,a){switch(t){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Jl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(a.pointerId)}}function Zl(t,a,s,l,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:a,domEventName:s,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},a!==null&&(a=$n(a),a!==null&&$b(a)),t):(t.eventSystemFlags|=l,a=t.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),t)}function MT(t,a,s,l,f){switch(a){case"focusin":return pr=Zl(pr,t,a,s,l,f),!0;case"dragenter":return mr=Zl(mr,t,a,s,l,f),!0;case"mouseover":return gr=Zl(gr,t,a,s,l,f),!0;case"pointerover":var p=f.pointerId;return Jl.set(p,Zl(Jl.get(p)||null,t,a,s,l,f)),!0;case"gotpointercapture":return p=f.pointerId,Wl.set(p,Zl(Wl.get(p)||null,t,a,s,l,f)),!0}return!1}function Zb(t){var a=ka(t.target);if(a!==null){var s=c(a);if(s!==null){if(a=s.tag,a===13){if(a=d(s),a!==null){t.blockedOn=a,fa(t.priority,function(){Xb(s)});return}}else if(a===31){if(a=m(s),a!==null){t.blockedOn=a,fa(t.priority,function(){Xb(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function od(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=Ep(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);fl=l,s.target.dispatchEvent(l),fl=null}else return a=$n(s),a!==null&&$b(a),t.blockedOn=s,!1;a.shift()}return!0}function ev(t,a,s){od(t)&&s.delete(a)}function kT(){Tp=!1,pr!==null&&od(pr)&&(pr=null),mr!==null&&od(mr)&&(mr=null),gr!==null&&od(gr)&&(gr=null),Jl.forEach(ev),Wl.forEach(ev)}function ld(t,a){t.blockedOn===a&&(t.blockedOn=null,Tp||(Tp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,kT)))}var cd=null;function tv(t){cd!==t&&(cd=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){cd===t&&(cd=null);for(var a=0;a<t.length;a+=3){var s=t[a],l=t[a+1],f=t[a+2];if(typeof l!="function"){if(Ap(l||s)===null)continue;break}var p=$n(s);p!==null&&(t.splice(a,3),a-=3,Eh(p,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Ao(t){function a(M){return ld(M,t)}pr!==null&&ld(pr,t),mr!==null&&ld(mr,t),gr!==null&&ld(gr,t),Jl.forEach(a),Wl.forEach(a);for(var s=0;s<yr.length;s++){var l=yr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<yr.length&&(s=yr[0],s.blockedOn===null);)Zb(s),s.blockedOn===null&&yr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],p=s[l+1],v=f[Yt]||null;if(typeof p=="function")v||tv(s);else if(v){var A=null;if(p&&p.hasAttribute("formAction")){if(f=p,v=p[Yt]||null)A=v.formAction;else if(Ap(f)!==null)continue}else A=v.action;typeof A=="function"?s[l+1]=A:(s.splice(l,3),l-=3),tv(s)}}}function nv(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function a(){f!==null&&(f(),f=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),f!==null&&(f(),f=null)}}}function Sp(t){this._internalRoot=t}ud.prototype.render=Sp.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(r(409));var s=a.current,l=Fn();Qb(s,l,t,a,null,null)},ud.prototype.unmount=Sp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Qb(t.current,2,null,t,null,null),Fu(),a[Da]=null}};function ud(t){this._internalRoot=t}ud.prototype.unstable_scheduleHydration=function(t){if(t){var a=Fc();t={blockedOn:null,target:t,priority:a};for(var s=0;s<yr.length&&a!==0&&a<yr[s].priority;s++);yr.splice(s,0,t),s===0&&Zb(t)}};var av=e.version;if(av!=="19.2.4")throw Error(r(527,av,"19.2.4"));ue.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(a),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var jT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{ua=dd.inject(jT),en=dd}catch{}}return tc.createRoot=function(t,a){if(!o(t))throw Error(r(299));var s=!1,l="",f=uy,p=dy,v=fy;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Gb(t,1,!1,null,null,s,l,null,f,p,v,nv),t[Da]=a.current,sp(t),new Sp(a)},tc.hydrateRoot=function(t,a,s){if(!o(t))throw Error(r(299));var l=!1,f="",p=uy,v=dy,A=fy,M=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.formState!==void 0&&(M=s.formState)),a=Gb(t,1,!0,a,s??null,l,f,M,p,v,A,nv),a.context=Kb(null),s=a.current,l=Fn(),l=Qr(l),f=nr(l),f.callback=null,ar(s,f,l),s=l,a.current.lanes=s,Gr(a,s),Ya(a),t[Da]=a.current,sp(t),new ud(a)},tc.version="19.2.4",tc}var hv;function KT(){if(hv)return Rp.exports;hv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Rp.exports=GT(),Rp.exports}var QT=KT();const YT=ax(QT);var pv="popstate";function $T(i={}){function e(o,c){let{pathname:d="/",search:m="",hash:g=""}=Cs(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Yp("",{pathname:d,search:m,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let d=o.document.querySelector("base"),m="";if(d&&d.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof c=="string"?c:yc(c))}function r(o,c){ca(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return JT(e,n,r,i)}function Et(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ca(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XT(){return Math.random().toString(36).substring(2,10)}function mv(i,e){return{usr:i.state,key:i.key,idx:e}}function Yp(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Cs(e):e,state:n,key:e&&e.key||r||XT()}}function yc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Cs(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function JT(i,e,n,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,d=o.history,m="POP",g=null,y=x();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function x(){return(d.state||{idx:null}).idx}function E(){m="POP";let B=x(),ee=B==null?null:B-y;y=B,g&&g({action:m,location:L.location,delta:ee})}function N(B,ee){m="PUSH";let J=Yp(L.location,B,ee);n&&n(J,B),y=x()+1;let re=mv(J,y),oe=L.createHref(J);try{d.pushState(re,"",oe)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(oe)}c&&g&&g({action:m,location:L.location,delta:1})}function j(B,ee){m="REPLACE";let J=Yp(L.location,B,ee);n&&n(J,B),y=x();let re=mv(J,y),oe=L.createHref(J);d.replaceState(re,"",oe),c&&g&&g({action:m,location:L.location,delta:0})}function U(B){return WT(B)}let L={get action(){return m},get location(){return i(o,d)},listen(B){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(pv,E),g=B,()=>{o.removeEventListener(pv,E),g=null}},createHref(B){return e(o,B)},createURL:U,encodeLocation(B){let ee=U(B);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:N,replace:j,go(B){return d.go(B)}};return L}function WT(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:yc(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function ix(i,e,n="/"){return ZT(i,e,n,!1)}function ZT(i,e,n,r){let o=typeof e=="string"?Cs(e):e,c=Mi(o.pathname||"/",n);if(c==null)return null;let d=rx(i);eS(d);let m=null;for(let g=0;m==null&&g<d.length;++g){let y=dS(c);m=cS(d[g],y,r)}return m}function rx(i,e=[],n=[],r="",o=!1){let c=(d,m,g=o,y)=>{let x={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(r)&&g)return;Et(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length)}let E=Ii([r,x.relativePath]),N=n.concat(x);d.children&&d.children.length>0&&(Et(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),rx(d.children,e,N,E,g)),!(d.path==null&&!d.index)&&e.push({path:E,score:oS(E,d.index),routesMeta:N})};return i.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))c(d,m);else for(let g of sx(d.path))c(d,m,!0,g)}),e}function sx(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let d=sx(r.join("/")),m=[];return m.push(...d.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...d),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function eS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:lS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var tS=/^:[\w-]+$/,nS=3,aS=2,iS=1,rS=10,sS=-2,gv=i=>i==="*";function oS(i,e){let n=i.split("/"),r=n.length;return n.some(gv)&&(r+=sS),e&&(r+=aS),n.filter(o=>!gv(o)).reduce((o,c)=>o+(tS.test(c)?nS:c===""?iS:rS),r)}function lS(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function cS(i,e,n=!1){let{routesMeta:r}=i,o={},c="/",d=[];for(let m=0;m<r.length;++m){let g=r[m],y=m===r.length-1,x=c==="/"?e:e.slice(c.length)||"/",E=Md({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),N=g.route;if(!E&&y&&n&&!r[r.length-1].route.index&&(E=Md({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!E)return null;Object.assign(o,E.params),d.push({params:o,pathname:Ii([c,E.pathname]),pathnameBase:mS(Ii([c,E.pathnameBase])),route:N}),E.pathnameBase!=="/"&&(c=Ii([c,E.pathnameBase]))}return d}function Md(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=uS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((y,{paramName:x,isOptional:E},N)=>{if(x==="*"){let U=m[N]||"";d=c.slice(0,c.length-U.length).replace(/(.)\/+$/,"$1")}const j=m[N];return E&&!j?y[x]=void 0:y[x]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:i}}function uS(i,e=!1,n=!0){ca(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function dS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ca(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Mi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}var fS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function hS(i,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof i=="string"?Cs(i):i,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=yv(n.substring(1),"/"):c=yv(n,e)):c=e,{pathname:c,search:gS(r),hash:yS(o)}}function yv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Dp(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wm(i){let e=pS(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Nm(i,e,n,r=!1){let o;typeof i=="string"?o=Cs(i):(o={...i},Et(!o.pathname||!o.pathname.includes("?"),Dp("?","pathname","search",o)),Et(!o.pathname||!o.pathname.includes("#"),Dp("#","pathname","hash",o)),Et(!o.search||!o.search.includes("#"),Dp("#","search","hash",o)));let c=i===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=n;else{let E=e.length-1;if(!r&&d.startsWith("..")){let N=d.split("/");for(;N[0]==="..";)N.shift(),E-=1;o.pathname=N.join("/")}m=E>=0?e[E]:"/"}let g=hS(o,m),y=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}var Ii=i=>i.join("/").replace(/\/\/+/g,"/"),mS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),gS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,yS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,bS=class{constructor(i,e,n,r=!1){this.status=i,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function vS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function _S(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ox=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function lx(i,e){let n=i;if(typeof n!="string"||!fS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(ox)try{let c=new URL(window.location.href),d=n.startsWith("//")?new URL(c.protocol+n):new URL(n),m=Mi(d.pathname,e);d.origin===c.origin&&m!=null?n=m+d.search+d.hash:o=!0}catch{ca(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cx=["POST","PUT","PATCH","DELETE"];new Set(cx);var xS=["GET",...cx];new Set(xS);var Ko=D.createContext(null);Ko.displayName="DataRouter";var ef=D.createContext(null);ef.displayName="DataRouterState";var ES=D.createContext(!1),ux=D.createContext({isTransitioning:!1});ux.displayName="ViewTransition";var AS=D.createContext(new Map);AS.displayName="Fetchers";var TS=D.createContext(null);TS.displayName="Await";var Qn=D.createContext(null);Qn.displayName="Navigation";var wc=D.createContext(null);wc.displayName="Location";var ri=D.createContext({outlet:null,matches:[],isDataRoute:!1});ri.displayName="Route";var Rm=D.createContext(null);Rm.displayName="RouteError";var dx="REACT_ROUTER_ERROR",SS="REDIRECT",wS="ROUTE_ERROR_RESPONSE";function NS(i){if(i.startsWith(`${dx}:${SS}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function RS(i){if(i.startsWith(`${dx}:${wS}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new bS(e.status,e.statusText,e.data)}catch{}}function CS(i,{relative:e}={}){Et(Qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=D.useContext(Qn),{hash:o,pathname:c,search:d}=Nc(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:Ii([n,c])),r.createHref({pathname:m,search:d,hash:o})}function Qo(){return D.useContext(wc)!=null}function Pr(){return Et(Qo(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(wc).location}var fx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hx(i){D.useContext(Qn).static||D.useLayoutEffect(i)}function Ui(){let{isDataRoute:i}=D.useContext(ri);return i?HS():IS()}function IS(){Et(Qo(),"useNavigate() may be used only in the context of a <Router> component.");let i=D.useContext(Ko),{basename:e,navigator:n}=D.useContext(Qn),{matches:r}=D.useContext(ri),{pathname:o}=Pr(),c=JSON.stringify(wm(r)),d=D.useRef(!1);return hx(()=>{d.current=!0}),D.useCallback((g,y={})=>{if(ca(d.current,fx),!d.current)return;if(typeof g=="number"){n.go(g);return}let x=Nm(g,JSON.parse(c),o,y.relative==="path");i==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Ii([e,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[e,n,c,o,i])}D.createContext(null);function Nc(i,{relative:e}={}){let{matches:n}=D.useContext(ri),{pathname:r}=Pr(),o=JSON.stringify(wm(n));return D.useMemo(()=>Nm(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function OS(i,e){return px(i,e)}function px(i,e,n,r,o){Et(Qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=D.useContext(Qn),{matches:d}=D.useContext(ri),m=d[d.length-1],g=m?m.params:{},y=m?m.pathname:"/",x=m?m.pathnameBase:"/",E=m&&m.route;{let J=E&&E.path||"";gx(y,!E||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let N=Pr(),j;if(e){let J=typeof e=="string"?Cs(e):e;Et(x==="/"||J.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${J.pathname}" was given in the \`location\` prop.`),j=J}else j=N;let U=j.pathname||"/",L=U;if(x!=="/"){let J=x.replace(/^\//,"").split("/");L="/"+U.replace(/^\//,"").split("/").slice(J.length).join("/")}let B=ix(i,{pathname:L});ca(E||B!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),ca(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ee=PS(B&&B.map(J=>Object.assign({},J,{params:Object.assign({},g,J.params),pathname:Ii([x,c.encodeLocation?c.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?x:Ii([x,c.encodeLocation?c.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),d,n,r,o);return e&&ee?D.createElement(wc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},ee):ee}function DS(){let i=BS(),e=vS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:c},"ErrorBoundary")," or"," ",D.createElement("code",{style:c},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:o},n):null,d)}var MS=D.createElement(DS,null),mx=class extends D.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=RS(i.digest);n&&(i=n)}let e=i!==void 0?D.createElement(ri.Provider,{value:this.props.routeContext},D.createElement(Rm.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?D.createElement(kS,{error:i},e):e}};mx.contextType=ES;var Mp=new WeakMap;function kS({children:i,error:e}){let{basename:n}=D.useContext(Qn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=NS(e.digest);if(r){let o=Mp.get(e);if(o)throw o;let c=lx(r.location,n);if(ox&&!Mp.get(e))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw Mp.set(e,d),d}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return i}function jS({routeContext:i,match:e,children:n}){let r=D.useContext(Ko);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(ri.Provider,{value:i},n)}function PS(i,e=[],n=null,r=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,d=n?.errors;if(d!=null){let x=c.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);Et(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let m=!1,g=-1;if(n)for(let x=0;x<c.length;x++){let E=c[x];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=x),E.route.id){let{loaderData:N,errors:j}=n,U=E.route.loader&&!N.hasOwnProperty(E.route.id)&&(!j||j[E.route.id]===void 0);if(E.route.lazy||U){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&r?(x,E)=>{r(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:_S(n.matches),errorInfo:E})}:void 0;return c.reduceRight((x,E,N)=>{let j,U=!1,L=null,B=null;n&&(j=d&&E.route.id?d[E.route.id]:void 0,L=E.route.errorElement||MS,m&&(g<0&&N===0?(gx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,B=null):g===N&&(U=!0,B=E.route.hydrateFallbackElement||null)));let ee=e.concat(c.slice(0,N+1)),J=()=>{let re;return j?re=L:U?re=B:E.route.Component?re=D.createElement(E.route.Component,null):E.route.element?re=E.route.element:re=x,D.createElement(jS,{match:E,routeContext:{outlet:x,matches:ee,isDataRoute:n!=null},children:re})};return n&&(E.route.ErrorBoundary||E.route.errorElement||N===0)?D.createElement(mx,{location:n.location,revalidation:n.revalidation,component:L,error:j,children:J(),routeContext:{outlet:null,matches:ee,isDataRoute:!0},onError:y}):J()},null)}function Cm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VS(i){let e=D.useContext(Ko);return Et(e,Cm(i)),e}function LS(i){let e=D.useContext(ef);return Et(e,Cm(i)),e}function zS(i){let e=D.useContext(ri);return Et(e,Cm(i)),e}function Im(i){let e=zS(i),n=e.matches[e.matches.length-1];return Et(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function US(){return Im("useRouteId")}function BS(){let i=D.useContext(Rm),e=LS("useRouteError"),n=Im("useRouteError");return i!==void 0?i:e.errors?.[n]}function HS(){let{router:i}=VS("useNavigate"),e=Im("useNavigate"),n=D.useRef(!1);return hx(()=>{n.current=!0}),D.useCallback(async(o,c={})=>{ca(n.current,fx),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var bv={};function gx(i,e,n){!e&&!bv[i]&&(bv[i]=!0,ca(!1,n))}D.memo(qS);function qS({routes:i,future:e,state:n,onError:r}){return px(i,void 0,n,r,e)}function yx({to:i,replace:e,state:n,relative:r}){Et(Qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=D.useContext(Qn);ca(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=D.useContext(ri),{pathname:d}=Pr(),m=Ui(),g=Nm(i,wm(c),d,r==="path"),y=JSON.stringify(g);return D.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:r})},[m,y,r,e,n]),null}function $a(i){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FS({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){Et(!Qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),g=D.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[m,o,c,d]);typeof n=="string"&&(n=Cs(n));let{pathname:y="/",search:x="",hash:E="",state:N=null,key:j="default"}=n,U=D.useMemo(()=>{let L=Mi(y,m);return L==null?null:{location:{pathname:L,search:x,hash:E,state:N,key:j},navigationType:r}},[m,y,x,E,N,j,r]);return ca(U!=null,`<Router basename="${m}"> is not able to match the URL "${y}${x}${E}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:D.createElement(Qn.Provider,{value:g},D.createElement(wc.Provider,{children:e,value:U}))}function GS({children:i,location:e}){return OS($p(i),e)}function $p(i,e=[]){let n=[];return D.Children.forEach(i,(r,o)=>{if(!D.isValidElement(r))return;let c=[...e,o];if(r.type===D.Fragment){n.push.apply(n,$p(r.props.children,c));return}Et(r.type===$a,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=$p(r.props.children,c)),n.push(d)}),n}var _d="get",xd="application/x-www-form-urlencoded";function tf(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function KS(i){return tf(i)&&i.tagName.toLowerCase()==="button"}function QS(i){return tf(i)&&i.tagName.toLowerCase()==="form"}function YS(i){return tf(i)&&i.tagName.toLowerCase()==="input"}function $S(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function XS(i,e){return i.button===0&&(!e||e==="_self")&&!$S(i)}var fd=null;function JS(){if(fd===null)try{new FormData(document.createElement("form"),0),fd=!1}catch{fd=!0}return fd}var WS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kp(i){return i!=null&&!WS.has(i)?(ca(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xd}"`),null):i}function ZS(i,e){let n,r,o,c,d;if(QS(i)){let m=i.getAttribute("action");r=m?Mi(m,e):null,n=i.getAttribute("method")||_d,o=kp(i.getAttribute("enctype"))||xd,c=new FormData(i)}else if(KS(i)||YS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(r=g?Mi(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||_d,o=kp(i.getAttribute("formenctype"))||kp(m.getAttribute("enctype"))||xd,c=new FormData(m,i),!JS()){let{name:y,type:x,value:E}=i;if(x==="image"){let N=y?`${y}.`:"";c.append(`${N}x`,"0"),c.append(`${N}y`,"0")}else y&&c.append(y,E)}}else{if(tf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_d,r=null,o=xd,d=i}return c&&o==="text/plain"&&(d=c,c=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Om(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ew(i,e,n,r){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&Mi(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function tw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function aw(i,e,n){let r=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await tw(c,n);return d.links?d.links():[]}return[]}));return ow(r.flat(1).filter(nw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function vv(i,e,n,r,o,c){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>d(g,y)||m(g,y)):c==="data"?e.filter((g,y)=>{let x=r.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(d(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function iw(i,e,{includeHydrateFallback:n}={}){return rw(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function rw(i){return[...new Set(i)]}function sw(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function ow(i,e){let n=new Set;return new Set(e),i.reduce((r,o)=>{let c=JSON.stringify(sw(o));return n.has(c)||(n.add(c),r.push({key:c,link:o})),r},[])}function bx(){let i=D.useContext(Ko);return Om(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function lw(){let i=D.useContext(ef);return Om(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Dm=D.createContext(void 0);Dm.displayName="FrameworkContext";function vx(){let i=D.useContext(Dm);return Om(i,"You must render this element inside a <HydratedRouter> element"),i}function cw(i,e){let n=D.useContext(Dm),[r,o]=D.useState(!1),[c,d]=D.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:x,onTouchStart:E}=e,N=D.useRef(null);D.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let L=ee=>{ee.forEach(J=>{d(J.isIntersecting)})},B=new IntersectionObserver(L,{threshold:.5});return N.current&&B.observe(N.current),()=>{B.disconnect()}}},[i]),D.useEffect(()=>{if(r){let L=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(L)}}},[r]);let j=()=>{o(!0)},U=()=>{o(!1),d(!1)};return n?i!=="intent"?[c,N,{}]:[c,N,{onFocus:nc(m,j),onBlur:nc(g,U),onMouseEnter:nc(y,j),onMouseLeave:nc(x,U),onTouchStart:nc(E,j)}]:[!1,N,{}]}function nc(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function uw({page:i,...e}){let{router:n}=bx(),r=D.useMemo(()=>ix(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?D.createElement(fw,{page:i,matches:r,...e}):null}function dw(i){let{manifest:e,routeModules:n}=vx(),[r,o]=D.useState([]);return D.useEffect(()=>{let c=!1;return aw(i,e,n).then(d=>{c||o(d)}),()=>{c=!0}},[i,e,n]),r}function fw({page:i,matches:e,...n}){let r=Pr(),{future:o,manifest:c,routeModules:d}=vx(),{basename:m}=bx(),{loaderData:g,matches:y}=lw(),x=D.useMemo(()=>vv(i,e,y,c,r,"data"),[i,e,y,c,r]),E=D.useMemo(()=>vv(i,e,y,c,r,"assets"),[i,e,y,c,r]),N=D.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let L=new Set,B=!1;if(e.forEach(J=>{let re=c.routes[J.route.id];!re||!re.hasLoader||(!x.some(oe=>oe.route.id===J.route.id)&&J.route.id in g&&d[J.route.id]?.shouldRevalidate||re.hasClientLoader?B=!0:L.add(J.route.id))}),L.size===0)return[];let ee=ew(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return B&&L.size>0&&ee.searchParams.set("_routes",e.filter(J=>L.has(J.route.id)).map(J=>J.route.id).join(",")),[ee.pathname+ee.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,r,c,x,e,i,d]),j=D.useMemo(()=>iw(E,c),[E,c]),U=dw(E);return D.createElement(D.Fragment,null,N.map(L=>D.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),j.map(L=>D.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),U.map(({key:L,link:B})=>D.createElement("link",{key:L,nonce:n.nonce,...B,crossOrigin:B.crossOrigin??n.crossOrigin})))}function hw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pw&&(window.__reactRouterVersion="7.13.0")}catch{}function mw({basename:i,children:e,unstable_useTransitions:n,window:r}){let o=D.useRef();o.current==null&&(o.current=$T({window:r,v5Compat:!0}));let c=o.current,[d,m]=D.useState({action:c.action,location:c.location}),g=D.useCallback(y=>{n===!1?m(y):D.startTransition(()=>m(y))},[n]);return D.useLayoutEffect(()=>c.listen(g),[c,g]),D.createElement(FS,{basename:i,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:n})}var _x=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xx=D.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:c,replace:d,state:m,target:g,to:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:N,...j},U){let{basename:L,unstable_useTransitions:B}=D.useContext(Qn),ee=typeof y=="string"&&_x.test(y),J=lx(y,L);y=J.to;let re=CS(y,{relative:o}),[oe,le,he]=cw(r,j),I=vw(y,{replace:d,state:m,target:g,preventScrollReset:x,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:N,unstable_useTransitions:B});function C(P){e&&e(P),P.defaultPrevented||I(P)}let O=D.createElement("a",{...j,...he,href:J.absoluteURL||re,onClick:J.isExternal||c?e:C,ref:hw(U,le),target:g,"data-discover":!ee&&n==="render"?"true":void 0});return oe&&!ee?D.createElement(D.Fragment,null,O,D.createElement(uw,{page:re})):O});xx.displayName="Link";var gw=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:c,to:d,viewTransition:m,children:g,...y},x){let E=Nc(d,{relative:y.relative}),N=Pr(),j=D.useContext(ef),{navigator:U,basename:L}=D.useContext(Qn),B=j!=null&&Tw(E)&&m===!0,ee=U.encodeLocation?U.encodeLocation(E).pathname:E.pathname,J=N.pathname,re=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(J=J.toLowerCase(),re=re?re.toLowerCase():null,ee=ee.toLowerCase()),re&&L&&(re=Mi(re,L)||re);const oe=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let le=J===ee||!o&&J.startsWith(ee)&&J.charAt(oe)==="/",he=re!=null&&(re===ee||!o&&re.startsWith(ee)&&re.charAt(ee.length)==="/"),I={isActive:le,isPending:he,isTransitioning:B},C=le?e:void 0,O;typeof r=="function"?O=r(I):O=[r,le?"active":null,he?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let P=typeof c=="function"?c(I):c;return D.createElement(xx,{...y,"aria-current":C,className:O,ref:x,style:P,to:d,viewTransition:m},typeof g=="function"?g(I):g)});gw.displayName="NavLink";var yw=D.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:c,method:d=_d,action:m,onSubmit:g,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:N,...j},U)=>{let{unstable_useTransitions:L}=D.useContext(Qn),B=Ew(),ee=Aw(m,{relative:y}),J=d.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&_x.test(m),oe=le=>{if(g&&g(le),le.defaultPrevented)return;le.preventDefault();let he=le.nativeEvent.submitter,I=he?.getAttribute("formmethod")||d,C=()=>B(he||le.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:c,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:N});L&&n!==!1?D.startTransition(()=>C()):C()};return D.createElement("form",{ref:U,method:J,action:ee,onSubmit:r?g:oe,...j,"data-discover":!re&&i==="render"?"true":void 0})});yw.displayName="Form";function bw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ex(i){let e=D.useContext(Ko);return Et(e,bw(i)),e}function vw(i,{target:e,replace:n,state:r,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=Ui(),x=Pr(),E=Nc(i,{relative:c});return D.useCallback(N=>{if(XS(N,e)){N.preventDefault();let j=n!==void 0?n:yc(x)===yc(E),U=()=>y(i,{replace:j,state:r,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:m});g?D.startTransition(()=>U()):U()}},[x,y,E,n,r,e,i,o,c,d,m,g])}var _w=0,xw=()=>`__${String(++_w)}__`;function Ew(){let{router:i}=Ex("useSubmit"),{basename:e}=D.useContext(Qn),n=US(),r=i.fetch,o=i.navigate;return D.useCallback(async(c,d={})=>{let{action:m,method:g,encType:y,formData:x,body:E}=ZS(c,e);if(d.navigate===!1){let N=d.fetcherKey||xw();await r(N,n,d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:E,formMethod:d.method||g,formEncType:d.encType||y,flushSync:d.flushSync})}else await o(d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:E,formMethod:d.method||g,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,o,e,n])}function Aw(i,{relative:e}={}){let{basename:n}=D.useContext(Qn),r=D.useContext(ri);Et(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Nc(i||".",{relative:e})},d=Pr();if(i==null){c.search=d.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(x=>x==="")){m.delete("index"),g.filter(E=>E).forEach(E=>m.append("index",E));let x=m.toString();c.search=x?`?${x}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Ii([n,c.pathname])),yc(c)}function Tw(i,{relative:e}={}){let n=D.useContext(ux);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ex("useViewTransitionState"),o=Nc(i,{relative:e});if(!n.isTransitioning)return!1;let c=Mi(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=Mi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Md(o.pathname,d)!=null||Md(o.pathname,c)!=null}const Sw=()=>{};var _v={};const Ax=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ww=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],d=i[n++],m=i[n++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],d=i[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Tx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const c=i[o],d=o+1<i.length,m=d?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,x=c>>2,E=(c&3)<<4|m>>4;let N=(m&15)<<2|y>>6,j=y&63;g||(j=64,d||(N=64)),r.push(n[x],n[E],n[N],n[j])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Ax(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):ww(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const E=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||m==null||y==null||E==null)throw new Nw;const N=c<<2|m>>4;if(r.push(N),y!==64){const j=m<<4&240|y>>2;if(r.push(j),E!==64){const U=y<<6&192|E;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Nw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rw=function(i){const e=Ax(i);return Tx.encodeByteArray(e,!0)},kd=function(i){return Rw(i).replace(/\./g,"")},Sx=function(i){try{return Tx.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Cw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Iw=()=>Cw().__FIREBASE_DEFAULTS__,Ow=()=>{if(typeof process>"u"||typeof _v>"u")return;const i=_v.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Dw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Sx(i[1]);return e&&JSON.parse(e)},nf=()=>{try{return Sw()||Iw()||Ow()||Dw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},wx=i=>nf()?.emulatorHosts?.[i],Nx=i=>{const e=wx(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Rx=()=>nf()?.config,Cx=i=>nf()?.[`_${i}`];class Mw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Is(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Mm(i){return(await fetch(i,{credentials:"include"})).ok}function Ix(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[kd(JSON.stringify(n)),kd(JSON.stringify(d)),""].join(".")}const uc={};function kw(){const i={prod:[],emulator:[]};for(const e of Object.keys(uc))uc[e]?i.emulator.push(e):i.prod.push(e);return i}function jw(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let xv=!1;function km(i,e){if(typeof window>"u"||typeof document>"u"||!Is(window.location.host)||uc[i]===e||uc[i]||xv)return;uc[i]=e;function n(N){return`__firebase__banner__${N}`}const r="__firebase__banner",c=kw().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function m(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function g(N,j){N.setAttribute("width","24"),N.setAttribute("id",j),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{xv=!0,d()},N}function x(N,j){N.setAttribute("id",j),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function E(){const N=jw(r),j=n("text"),U=document.getElementById(j)||document.createElement("span"),L=n("learnmore"),B=document.getElementById(L)||document.createElement("a"),ee=n("preprendIcon"),J=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const re=N.element;m(re),x(B,L);const oe=y();g(J,ee),re.append(J,U,B,oe),document.body.appendChild(re)}c?(U.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function Vw(){const i=nf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Uw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bw(){const i=gn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Hw(){return!Vw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qw(){try{return typeof indexedDB=="object"}catch{return!1}}function Fw(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Gw="FirebaseError";class si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Gw,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?Kw(c,r):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new si(o,m,r)}}function Kw(i,e){return i.replace(Qw,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Qw=/\{\$([^}]+)}/g;function Yw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ki(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=i[o],d=e[o];if(Ev(c)&&Ev(d)){if(!ki(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Ev(i){return i!==null&&typeof i=="object"}function Cc(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ic(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function rc(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function $w(i,e){const n=new Xw(i,e);return n.subscribe.bind(n)}class Xw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Jw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=jp),o.error===void 0&&(o.error=jp),o.complete===void 0&&(o.complete=jp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jw(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function jp(){}function Mt(i){return i&&i._delegate?i._delegate:i}class Cr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const bs="[DEFAULT]";class Ww{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Mw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eN(e))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bs){return this.instances.has(e)}getOptions(e=bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&d.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bs){return this.component?this.component.multipleInstances?e:bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zw(i){return i===bs?void 0:i}function eN(i){return i.instantiationMode==="EAGER"}class tN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ww(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ye;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ye||(Ye={}));const nN={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},aN=Ye.INFO,iN={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},rN=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=iN[e];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jm{constructor(e){this.name=e,this._logLevel=aN,this._logHandler=rN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const sN=(i,e)=>e.some(n=>i instanceof n);let Av,Tv;function oN(){return Av||(Av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lN(){return Tv||(Tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ox=new WeakMap,Xp=new WeakMap,Dx=new WeakMap,Pp=new WeakMap,Pm=new WeakMap;function cN(i){const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(Sr(i.result)),o()},d=()=>{r(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&Ox.set(n,i)}).catch(()=>{}),Pm.set(e,i),e}function uN(i){if(Xp.has(i))return;const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});Xp.set(i,e)}let Jp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Xp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Dx.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function dN(i){Jp=i(Jp)}function fN(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(Vp(this),e,...n);return Dx.set(r,e.sort?e.sort():[e]),Sr(r)}:lN().includes(i)?function(...e){return i.apply(Vp(this),e),Sr(Ox.get(this))}:function(...e){return Sr(i.apply(Vp(this),e))}}function hN(i){return typeof i=="function"?fN(i):(i instanceof IDBTransaction&&uN(i),sN(i,oN())?new Proxy(i,Jp):i)}function Sr(i){if(i instanceof IDBRequest)return cN(i);if(Pp.has(i))return Pp.get(i);const e=hN(i);return e!==i&&(Pp.set(i,e),Pm.set(e,i)),e}const Vp=i=>Pm.get(i);function pN(i,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(i,e),m=Sr(d);return r&&d.addEventListener("upgradeneeded",g=>{r(Sr(d.result),g.oldVersion,g.newVersion,Sr(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const mN=["get","getKey","getAll","getAllKeys","count"],gN=["put","add","delete","clear"],Lp=new Map;function Sv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Lp.get(e))return Lp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=gN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||mN.includes(n)))return;const c=async function(d,...m){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Lp.set(e,c),c}dN(i=>({...i,get:(e,n,r)=>Sv(e,n)||i.get(e,n,r),has:(e,n)=>!!Sv(e,n)||i.has(e,n)}));class yN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bN(i){return i.getComponent()?.type==="VERSION"}const Wp="@firebase/app",wv="0.14.7";const ji=new jm("@firebase/app"),vN="@firebase/app-compat",_N="@firebase/analytics-compat",xN="@firebase/analytics",EN="@firebase/app-check-compat",AN="@firebase/app-check",TN="@firebase/auth",SN="@firebase/auth-compat",wN="@firebase/database",NN="@firebase/data-connect",RN="@firebase/database-compat",CN="@firebase/functions",IN="@firebase/functions-compat",ON="@firebase/installations",DN="@firebase/installations-compat",MN="@firebase/messaging",kN="@firebase/messaging-compat",jN="@firebase/performance",PN="@firebase/performance-compat",VN="@firebase/remote-config",LN="@firebase/remote-config-compat",zN="@firebase/storage",UN="@firebase/storage-compat",BN="@firebase/firestore",HN="@firebase/ai",qN="@firebase/firestore-compat",FN="firebase",GN="12.8.0";const Zp="[DEFAULT]",KN={[Wp]:"fire-core",[vN]:"fire-core-compat",[xN]:"fire-analytics",[_N]:"fire-analytics-compat",[AN]:"fire-app-check",[EN]:"fire-app-check-compat",[TN]:"fire-auth",[SN]:"fire-auth-compat",[wN]:"fire-rtdb",[NN]:"fire-data-connect",[RN]:"fire-rtdb-compat",[CN]:"fire-fn",[IN]:"fire-fn-compat",[ON]:"fire-iid",[DN]:"fire-iid-compat",[MN]:"fire-fcm",[kN]:"fire-fcm-compat",[jN]:"fire-perf",[PN]:"fire-perf-compat",[VN]:"fire-rc",[LN]:"fire-rc-compat",[zN]:"fire-gcs",[UN]:"fire-gcs-compat",[BN]:"fire-fst",[qN]:"fire-fst-compat",[HN]:"fire-vertex","fire-js":"fire-js",[FN]:"fire-js-all"};const jo=new Map,em=new Map,tm=new Map;function Nv(i,e){try{i.container.addComponent(e)}catch(n){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function As(i){const e=i.name;if(tm.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,i);for(const n of jo.values())Nv(n,i);for(const n of em.values())Nv(n,i);return!0}function af(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Gn(i){return i==null?!1:i.settings!==void 0}const QN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new Rc("app","Firebase",QN);class YN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}const Os=GN;function Vm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:Zp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw wr.create("bad-app-name",{appName:String(o)});if(n||(n=Rx()),!n)throw wr.create("no-options");const c=jo.get(o);if(c){if(ki(n,c.options)&&ki(r,c.config))return c;throw wr.create("duplicate-app",{appName:o})}const d=new tN(o);for(const g of tm.values())d.addComponent(g);const m=new YN(n,r,d);return jo.set(o,m),m}function Lm(i=Zp){const e=jo.get(i);if(!e&&i===Zp&&Rx())return Vm();if(!e)throw wr.create("no-app",{appName:i});return e}async function $N(i){let e=!1;const n=i.name;jo.has(n)?(e=!0,jo.delete(n)):em.has(n)&&i.decRefCount()<=0&&(em.delete(n),e=!0),e&&(await Promise.all(i.container.getProviders().map(r=>r.delete())),i.isDeleted=!0)}function Ja(i,e,n){let r=KN[i]??i;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(d.join(" "));return}As(new Cr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const XN="firebase-heartbeat-database",JN=1,bc="firebase-heartbeat-store";let zp=null;function Mx(){return zp||(zp=pN(XN,JN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(bc)}catch(n){console.warn(n)}}}}).catch(i=>{throw wr.create("idb-open",{originalErrorMessage:i.message})})),zp}async function WN(i){try{const n=(await Mx()).transaction(bc),r=await n.objectStore(bc).get(kx(i));return await n.done,r}catch(e){if(e instanceof si)ji.warn(e.message);else{const n=wr.create("idb-get",{originalErrorMessage:e?.message});ji.warn(n.message)}}}async function Rv(i,e){try{const r=(await Mx()).transaction(bc,"readwrite");await r.objectStore(bc).put(e,kx(i)),await r.done}catch(n){if(n instanceof si)ji.warn(n.message);else{const r=wr.create("idb-set",{originalErrorMessage:n?.message});ji.warn(r.message)}}}function kx(i){return`${i.name}!${i.options.appId}`}const ZN=1024,eR=30;class tR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Cv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>eR){const o=iR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ji.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Cv(),{heartbeatsToSend:n,unsentEntries:r}=nR(this._heartbeatsCache.heartbeats),o=kd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ji.warn(e),""}}}function Cv(){return new Date().toISOString().substring(0,10)}function nR(i,e=ZN){const n=[];let r=i.slice();for(const o of i){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Iv(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Iv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qw()?Fw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Rv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Iv(i){return kd(JSON.stringify({version:2,heartbeats:i})).length}function iR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}function rR(i){As(new Cr("platform-logger",e=>new yN(e),"PRIVATE")),As(new Cr("heartbeat",e=>new tR(e),"PRIVATE")),Ja(Wp,wv,i),Ja(Wp,wv,"esm2020"),Ja("fire-js","")}rR("");var sR="firebase",oR="12.8.0";Ja(sR,oR,"app");function jx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lR=jx,Px=new Rc("auth","Firebase",jx());const jd=new jm("@firebase/auth");function cR(i,...e){jd.logLevel<=Ye.WARN&&jd.warn(`Auth (${Os}): ${i}`,...e)}function Ed(i,...e){jd.logLevel<=Ye.ERROR&&jd.error(`Auth (${Os}): ${i}`,...e)}function wa(i,...e){throw zm(i,...e)}function Wa(i,...e){return zm(i,...e)}function Vx(i,e,n){const r={...lR(),[e]:n};return new Rc("auth","Firebase",r).create(e,{appName:i.name})}function Oi(i){return Vx(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zm(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return Px.create(i,...e)}function Ie(i,e,...n){if(!i)throw zm(e,...n)}function Ri(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ed(e),new Error(e)}function Pi(i,e){i||Ri(e)}function nm(){return typeof self<"u"&&self.location?.href||""}function uR(){return Ov()==="http:"||Ov()==="https:"}function Ov(){return typeof self<"u"&&self.location?.protocol||null}function dR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uR()||zw()||"connection"in navigator)?navigator.onLine:!0}function fR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Ic{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pi(n>e,"Short delay should be less than long delay!"),this.isMobile=Pw()||Uw()}get(){return dR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Um(i,e){Pi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Lx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const pR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mR=new Ic(3e4,6e4);function Vr(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Bi(i,e,n,r,o={}){return zx(i,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const m=Cc({key:i.config.apiKey,...d}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...c};return Lw()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Is(i.emulatorConfig.host)&&(y.credentials="include"),Lx.fetch()(await Ux(i,i.config.apiHost,n,m),y)})}async function zx(i,e,n){i._canInitEmulator=!1;const r={...hR,...e};try{const o=new yR(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw hd(i,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw hd(i,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw hd(i,"email-already-in-use",d);if(g==="USER_DISABLED")throw hd(i,"user-disabled",d);const x=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Vx(i,x,y);wa(i,x)}}catch(o){if(o instanceof si)throw o;wa(i,"network-request-failed",{message:String(o)})}}async function Oc(i,e,n,r,o={}){const c=await Bi(i,e,n,r,o);return"mfaPendingCredential"in c&&wa(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function Ux(i,e,n,r){const o=`${e}${n}?${r}`,c=i,d=c.config.emulator?Um(i.config,o):`${i.config.apiScheme}://${o}`;return pR.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function gR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wa(this.auth,"network-request-failed")),mR.get())})}}function hd(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Wa(i,e,r);return o.customData._tokenResponse=n,o}function Dv(i){return i!==void 0&&i.enterprise!==void 0}class bR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return gR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vR(i,e){return Bi(i,"GET","/v2/recaptchaConfig",Vr(i,e))}async function _R(i,e){return Bi(i,"POST","/v1/accounts:delete",e)}async function Pd(i,e){return Bi(i,"POST","/v1/accounts:lookup",e)}function dc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xR(i,e=!1){const n=Mt(i),r=await n.getIdToken(e),o=Bm(r);Ie(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:dc(Up(o.auth_time)),issuedAtTime:dc(Up(o.iat)),expirationTime:dc(Up(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Up(i){return Number(i)*1e3}function Bm(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return Ed("JWT malformed, contained fewer than 3 sections"),null;try{const o=Sx(n);return o?JSON.parse(o):(Ed("Failed to decode base64 JWT payload"),null)}catch(o){return Ed("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Mv(i){const e=Bm(i);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Po(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof si&&ER(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function ER({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class AR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class am{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dc(this.lastLoginAt),this.creationTime=dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Vd(i){const e=i.auth,n=await i.getIdToken(),r=await Po(i,Pd(e,{idToken:n}));Ie(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?Bx(o.providerUserInfo):[],d=SR(i.providerData,c),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!d?.length,y=m?g:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new am(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,x)}async function TR(i){const e=Mt(i);await Vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SR(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Bx(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function wR(i,e){const n=await zx(i,{},async()=>{const r=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,d=await Ux(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return i.emulatorConfig&&Is(i.emulatorConfig.host)&&(g.credentials="include"),Lx.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NR(i,e){return Bi(i,"POST","/v2/accounts:revokeToken",Vr(i,e))}class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=Mv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await wR(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,d=new Co;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Ie(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Ie(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return Ri("not implemented")}}function vr(i,e){Ie(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ea{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new AR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new am(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Po(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xR(this,e)}reload(){return TR(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ea({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Oi(this.auth));const e=await this.getIdToken();return await Po(this,_R(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:E,emailVerified:N,isAnonymous:j,providerData:U,stsTokenManager:L}=n;Ie(E&&L,e,"internal-error");const B=Co.fromJSON(this.name,L);Ie(typeof E=="string",e,"internal-error"),vr(r,e.name),vr(o,e.name),Ie(typeof N=="boolean",e,"internal-error"),Ie(typeof j=="boolean",e,"internal-error"),vr(c,e.name),vr(d,e.name),vr(m,e.name),vr(g,e.name),vr(y,e.name),vr(x,e.name);const ee=new Ea({uid:E,auth:e,email:o,emailVerified:N,displayName:r,isAnonymous:j,photoURL:d,phoneNumber:c,tenantId:m,stsTokenManager:B,createdAt:y,lastLoginAt:x});return U&&Array.isArray(U)&&(ee.providerData=U.map(J=>({...J}))),g&&(ee._redirectEventId=g),ee}static async _fromIdTokenResponse(e,n,r=!1){const o=new Co;o.updateFromServerResponse(n);const c=new Ea({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Vd(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ie(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Bx(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,m=new Co;m.updateFromIdToken(r);const g=new Ea({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new am(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const kv=new Map;function Ci(i){Pi(i instanceof Function,"Expected a class definition");let e=kv.get(i);return e?(Pi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,kv.set(i,e),e)}class Hx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Hx.type="NONE";const jv=Hx;function Ad(i,e,n){return`firebase:${i}:${e}:${n}`}class Io{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Ad(this.userKey,o.apiKey,c),this.fullPersistenceKey=Ad("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Pd(this.auth,{idToken:e}).catch(()=>{});return n?Ea._fromGetAccountInfoResponse(this.auth,n,e):null}return Ea._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Io(Ci(jv),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Ci(jv);const d=Ad(r,e.config.apiKey,e.name);let m=null;for(const y of n)try{const x=await y._get(d);if(x){let E;if(typeof x=="string"){const N=await Pd(e,{idToken:x}).catch(()=>{});if(!N)break;E=await Ea._fromGetAccountInfoResponse(e,N,x)}else E=Ea._fromJSON(e,x);y!==c&&(m=E),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Io(c,e,r):(c=g[0],m&&await c._set(d,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Io(c,e,r))}}function Pv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Kx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yx(e))return"Blackberry";if($x(e))return"Webos";if(Fx(e))return"Safari";if((e.includes("chrome/")||Gx(e))&&!e.includes("edge/"))return"Chrome";if(Qx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function qx(i=gn()){return/firefox\//i.test(i)}function Fx(i=gn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Gx(i=gn()){return/crios\//i.test(i)}function Kx(i=gn()){return/iemobile/i.test(i)}function Qx(i=gn()){return/android/i.test(i)}function Yx(i=gn()){return/blackberry/i.test(i)}function $x(i=gn()){return/webos/i.test(i)}function Hm(i=gn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function RR(i=gn()){return Hm(i)&&!!window.navigator?.standalone}function CR(){return Bw()&&document.documentMode===10}function Xx(i=gn()){return Hm(i)||Qx(i)||$x(i)||Yx(i)||/windows phone/i.test(i)||Kx(i)}function Jx(i,e=[]){let n;switch(i){case"Browser":n=Pv(gn());break;case"Worker":n=`${Pv(gn())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Os}/${r}`}class IR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((d,m)=>{try{const g=e(c);d(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function OR(i,e={}){return Bi(i,"GET","/v2/passwordPolicy",Vr(i,e))}const DR=6;class MR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??DR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class kR{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vv(this),this.idTokenSubscription=new Vv(this),this.beforeStateQueue=new IR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Px,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ci(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Pd(this,{idToken:e}),r=await Ea._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Oi(this));const n=e?Mt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OR(this),n=new MR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await NR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ci(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[Ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(m,this,"internal-error"),m.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&cR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ds(i){return Mt(i)}class Vv{constructor(e){this.auth=e,this.observer=null,this.addObserver=$w(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jR(i){rf=i}function Wx(i){return rf.loadJS(i)}function PR(){return rf.recaptchaEnterpriseScript}function VR(){return rf.gapiScript}function LR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class zR{constructor(){this.enterprise=new UR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class UR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const BR="recaptcha-enterprise",Zx="NO_RECAPTCHA";class HR{constructor(e){this.type=BR,this.auth=Ds(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,m)=>{vR(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new bR(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{m(g)})})}function o(c,d,m){const g=window.grecaptcha;Dv(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(Zx)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zR().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(m=>{if(!n&&Dv(window.grecaptcha))o(m,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=PR();g.length!==0&&(g+=m),Wx(g).then(()=>{o(m,c,d)}).catch(y=>{d(y)})}}).catch(m=>{d(m)})})}}async function Lv(i,e,n,r=!1,o=!1){const c=new HR(i);let d;if(o)d=Zx;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function im(i,e,n,r,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Lv(i,e,n,n==="getOobCode");return r(i,c)}else return r(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Lv(i,e,n,n==="getOobCode");return r(i,d)}else return Promise.reject(c)})}function qR(i,e){const n=af(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(ki(c,e??{}))return o;wa(o,"already-initialized")}return n.initialize({options:e})}function FR(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ci);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function qm(i,e,n){const r=Ds(i);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=eE(e),{host:d,port:m}=GR(e),g=m===null?"":`:${m}`,y={url:`${c}//${d}${g}/`},x=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(ki(y,r.config.emulator)&&ki(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,Is(d)?(Mm(`${c}//${d}${g}`),km("Auth",!0)):KR()}function eE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function GR(i){const e=eE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:zv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:zv(d)}}}function zv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function KR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Fm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,n){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}async function QR(i,e){return Bi(i,"POST","/v1/accounts:update",e)}async function YR(i,e){return Bi(i,"POST","/v1/accounts:signUp",e)}async function $R(i,e){return Oc(i,"POST","/v1/accounts:signInWithPassword",Vr(i,e))}async function XR(i,e){return Oc(i,"POST","/v1/accounts:signInWithEmailLink",Vr(i,e))}async function JR(i,e){return Oc(i,"POST","/v1/accounts:signInWithEmailLink",Vr(i,e))}class vc extends Fm{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new vc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(e,n,"signInWithPassword",$R);case"emailLink":return XR(e,{email:this._email,oobCode:this._password});default:wa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(e,r,"signUpPassword",YR);case"emailLink":return JR(e,{idToken:n,email:this._email,oobCode:this._password});default:wa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Oo(i,e){return Oc(i,"POST","/v1/accounts:signInWithIdp",Vr(i,e))}const WR="http://localhost";class Ts extends Fm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const d=new Ts(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Oo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Oo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oo(e,n)}buildRequest(){const e={requestUri:WR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cc(n)}return e}}function ZR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eC(i){const e=ic(rc(i)).link,n=e?ic(rc(e)).deep_link_id:null,r=ic(rc(i)).deep_link_id;return(r?ic(rc(r)).link:null)||r||n||e||i}class Gm{constructor(e){const n=ic(rc(e)),r=n.apiKey??null,o=n.oobCode??null,c=ZR(n.mode??null);Ie(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=eC(e);try{return new Gm(n)}catch{return null}}}class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,n){return vc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gm.parseLink(n);return Ie(r,"argument-error"),vc._fromEmailAndCode(e,r.code,r.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class tE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Dc extends tE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class _r extends Dc{constructor(){super("facebook.com")}static credential(e){return Ts._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.FACEBOOK_SIGN_IN_METHOD="facebook.com";_r.PROVIDER_ID="facebook.com";class xr extends Dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ts._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xr.credential(n,r)}catch{return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com";xr.PROVIDER_ID="google.com";class Er extends Dc{constructor(){super("github.com")}static credential(e){return Ts._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.GITHUB_SIGN_IN_METHOD="github.com";Er.PROVIDER_ID="github.com";class Ar extends Dc{constructor(){super("twitter.com")}static credential(e,n){return Ts._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";async function tC(i,e){return Oc(i,"POST","/v1/accounts:signUp",Vr(i,e))}class Ss{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await Ea._fromIdTokenResponse(e,r,o),d=Uv(r);return new Ss({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=Uv(r);return new Ss({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function Uv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Ld extends si{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Ld.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Ld(e,n,r,o)}}function nE(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ld._fromErrorAndOperation(i,c,e,r):c})}async function nC(i,e,n=!1){const r=await Po(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Ss._forOperation(i,"link",r)}async function aC(i,e,n=!1){const{auth:r}=i;if(Gn(r.app))return Promise.reject(Oi(r));const o="reauthenticate";try{const c=await Po(i,nE(r,o,e,i),n);Ie(c.idToken,r,"internal-error");const d=Bm(c.idToken);Ie(d,r,"internal-error");const{sub:m}=d;return Ie(i.uid===m,r,"user-mismatch"),Ss._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&wa(r,"user-mismatch"),c}}async function aE(i,e,n=!1){if(Gn(i.app))return Promise.reject(Oi(i));const r="signIn",o=await nE(i,r,e),c=await Ss._fromIdTokenResponse(i,r,o);return n||await i._updateCurrentUser(c.user),c}async function iC(i,e){return aE(Ds(i),e)}async function iE(i){const e=Ds(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rC(i,e,n){if(Gn(i.app))return Promise.reject(Oi(i));const r=Ds(i),d=await im(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tC).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&iE(i),g}),m=await Ss._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(m.user),m}function rE(i,e,n){return Gn(i.app)?Promise.reject(Oi(i)):iC(Mt(i),Yo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&iE(i),r})}function sC(i,e){return oC(Mt(i),null,e)}async function oC(i,e,n){const{auth:r}=i,c={idToken:await i.getIdToken(),returnSecureToken:!0};n&&(c.password=n);const d=await Po(i,QR(r,c));await i._updateTokensIfNecessary(d,!0)}function lC(i,e,n,r){return Mt(i).onIdTokenChanged(e,n,r)}function cC(i,e,n){return Mt(i).beforeAuthStateChanged(e,n)}function sf(i,e,n,r){return Mt(i).onAuthStateChanged(e,n,r)}function uC(i){return Mt(i).signOut()}const zd="__sak";class sE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zd,"1"),this.storage.removeItem(zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const dC=1e3,fC=10;class oE extends sE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,m,g)=>{this.notifyListeners(d,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);CR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,fC):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}oE.type="LOCAL";const hC=oE;class lE extends sE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lE.type="SESSION";const cE=lE;function pC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new of(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(d).map(async y=>y(n.origin,c)),g=await pC(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}of.receivers=[];function Km(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}class mC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((m,g)=>{const y=Km("",20);o.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(E){const N=E;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(N.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Za(){return window}function gC(i){Za().location.href=i}function uE(){return typeof Za().WorkerGlobalScope<"u"&&typeof Za().importScripts=="function"}async function yC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bC(){return navigator?.serviceWorker?.controller||null}function vC(){return uE()?self:null}const dE="firebaseLocalStorageDb",_C=1,Ud="firebaseLocalStorage",fE="fbase_key";class Mc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lf(i,e){return i.transaction([Ud],e?"readwrite":"readonly").objectStore(Ud)}function xC(){const i=indexedDB.deleteDatabase(dE);return new Mc(i).toPromise()}function rm(){const i=indexedDB.open(dE,_C);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Ud,{keyPath:fE})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Ud)?e(r):(r.close(),await xC(),e(await rm()))})})}async function Bv(i,e,n){const r=lf(i,!0).put({[fE]:e,value:n});return new Mc(r).toPromise()}async function EC(i,e){const n=lf(i,!1).get(e),r=await new Mc(n).toPromise();return r===void 0?null:r.value}function Hv(i,e){const n=lf(i,!0).delete(e);return new Mc(n).toPromise()}const AC=800,TC=3;class hE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>TC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=of._getInstance(vC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await yC(),!this.activeServiceWorker)return;this.sender=new mC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rm();return await Bv(e,zd,"1"),await Hv(e,zd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Bv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>EC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=lf(o,!1).getAll();return new Mc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hE.type="LOCAL";const SC=hE;new Ic(3e4,6e4);function wC(i,e){return e?Ci(e):(Ie(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Qm extends Fm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NC(i){return aE(i.auth,new Qm(i),i.bypassAuthState)}function RC(i){const{auth:e,user:n}=i;return Ie(n,e,"internal-error"),aC(n,new Qm(i),i.bypassAuthState)}async function CC(i){const{auth:e,user:n}=i;return Ie(n,e,"internal-error"),nC(n,new Qm(i),i.bypassAuthState)}class pE{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:d,type:m}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NC;case"linkViaPopup":case"linkViaRedirect":return CC;case"reauthViaPopup":case"reauthViaRedirect":return RC;default:wa(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const IC=new Ic(2e3,1e4);class Ro extends pE{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,Ro.currentPopupAction&&Ro.currentPopupAction.cancel(),Ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=Km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Wa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IC.get())};e()}}Ro.currentPopupAction=null;const OC="pendingRedirect",Td=new Map;class DC extends pE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Td.get(this.auth._key());if(!e){try{const r=await MC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Td.set(this.auth._key(),e)}return this.bypassAuthState||Td.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MC(i,e){const n=PC(e),r=jC(i);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function kC(i,e){Td.set(i._key(),e)}function jC(i){return Ci(i._redirectPersistence)}function PC(i){return Ad(OC,i.config.apiKey,i.name)}async function VC(i,e,n=!1){if(Gn(i.app))return Promise.reject(Oi(i));const r=Ds(i),o=wC(r,e),d=await new DC(r,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const LC=600*1e3;class zC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!mE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Wa(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LC&&this.cachedEventUids.clear(),this.cachedEventUids.has(qv(e))}saveEventToCache(e){this.cachedEventUids.add(qv(e)),this.lastProcessedEventTime=Date.now()}}function qv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function mE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function UC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mE(i);default:return!1}}async function BC(i,e={}){return Bi(i,"GET","/v1/projects",e)}const HC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qC=/^https?/;async function FC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await BC(i);for(const n of e)try{if(GC(n))return}catch{}wa(i,"unauthorized-domain")}function GC(i){const e=nm(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!qC.test(n))return!1;if(HC.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const KC=new Ic(3e4,6e4);function Fv(){const i=Za().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function QC(i){return new Promise((e,n)=>{function r(){Fv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fv(),n(Wa(i,"network-request-failed"))},timeout:KC.get()})}if(Za().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Za().gapi?.load)r();else{const o=LR("iframefcb");return Za()[o]=()=>{gapi.load?r():n(Wa(i,"network-request-failed"))},Wx(`${VR()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Sd=null,e})}let Sd=null;function YC(i){return Sd=Sd||QC(i),Sd}const $C=new Ic(5e3,15e3),XC="__/auth/iframe",JC="emulator/auth/iframe",WC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e2(i){const e=i.config;Ie(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Um(e,JC):`https://${i.config.authDomain}/${XC}`,r={apiKey:e.apiKey,appName:i.name,v:Os},o=ZC.get(i.config.apiHost);o&&(r.eid=o);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Cc(r).slice(1)}`}async function t2(i){const e=await YC(i),n=Za().gapi;return Ie(n,i,"internal-error"),e.open({where:document.body,url:e2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WC,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=Wa(i,"network-request-failed"),m=Za().setTimeout(()=>{c(d)},$C.get());function g(){Za().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{c(d)})}))}const n2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a2=500,i2=600,r2="_blank",s2="http://localhost";class Gv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o2(i,e,n,r=a2,o=i2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...n2,width:r.toString(),height:o.toString(),top:c,left:d},y=gn().toLowerCase();n&&(m=Gx(y)?r2:n),qx(y)&&(e=e||s2,g.scrollbars="yes");const x=Object.entries(g).reduce((N,[j,U])=>`${N}${j}=${U},`,"");if(RR(y)&&m!=="_self")return l2(e||"",m),new Gv(null);const E=window.open(e||"",m,x);Ie(E,i,"popup-blocked");try{E.focus()}catch{}return new Gv(E)}function l2(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const c2="__/auth/handler",u2="emulator/auth/handler",d2=encodeURIComponent("fac");async function Kv(i,e,n,r,o,c){Ie(i.config.authDomain,i,"auth-domain-config-required"),Ie(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:Os,eventId:o};if(e instanceof tE){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",Yw(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,E]of Object.entries({}))d[x]=E}if(e instanceof Dc){const x=e.getScopes().filter(E=>E!=="");x.length>0&&(d.scopes=x.join(","))}i.tenantId&&(d.tid=i.tenantId);const m=d;for(const x of Object.keys(m))m[x]===void 0&&delete m[x];const g=await i._getAppCheckToken(),y=g?`#${d2}=${encodeURIComponent(g)}`:"";return`${f2(i)}?${Cc(m).slice(1)}${y}`}function f2({config:i}){return i.emulator?Um(i,u2):`https://${i.authDomain}/${c2}`}const Bp="webStorageSupport";class h2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cE,this._completeRedirectFn=VC,this._overrideRedirectResult=kC}async _openPopup(e,n,r,o){Pi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Kv(e,n,r,nm(),o);return o2(e,c,Km())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await Kv(e,n,r,nm(),o);return gC(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Pi(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await t2(e),r=new zC(e);return n.register("authEvent",o=>(Ie(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bp,{type:Bp},o=>{const c=o?.[0]?.[Bp];c!==void 0&&n(!!c),wa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Xx()||Fx()||Hm()}}const p2=h2;var Qv="@firebase/auth",Yv="1.12.0";class m2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function g2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y2(i){As(new Cr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=r.options;Ie(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jx(i)},y=new kR(r,o,c,g);return FR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),As(new Cr("auth-internal",e=>{const n=Ds(e.getProvider("auth").getImmediate());return(r=>new m2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ja(Qv,Yv,g2(i)),Ja(Qv,Yv,"esm2020")}const b2=300,v2=Cx("authIdTokenMaxAge")||b2;let $v=null;const _2=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>v2)return;const o=n?.token;$v!==o&&($v=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gE(i=Lm()){const e=af(i,"auth");if(e.isInitialized())return e.getImmediate();const n=qR(i,{popupRedirectResolver:p2,persistence:[SC,hC,cE]}),r=Cx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=_2(c.toString());cC(n,d,()=>d(n.currentUser)),lC(n,m=>d(m))}}const o=wx("auth");return o&&qm(n,`http://${o}`),n}function x2(){return document.getElementsByTagName("head")?.[0]??document}jR({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const c=Wa("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",x2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y2("Browser");var Xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Nr,yE;(function(){var i;function e(I,C){function O(){}O.prototype=C.prototype,I.F=C.prototype,I.prototype=new O,I.prototype.constructor=I,I.D=function(P,T,k){for(var w=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)w[Se-2]=arguments[Se];return C.prototype[T].apply(P,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,C,O){O||(O=0);const P=Array(16);if(typeof C=="string")for(var T=0;T<16;++T)P[T]=C.charCodeAt(O++)|C.charCodeAt(O++)<<8|C.charCodeAt(O++)<<16|C.charCodeAt(O++)<<24;else for(T=0;T<16;++T)P[T]=C[O++]|C[O++]<<8|C[O++]<<16|C[O++]<<24;C=I.g[0],O=I.g[1],T=I.g[2];let k=I.g[3],w;w=C+(k^O&(T^k))+P[0]+3614090360&4294967295,C=O+(w<<7&4294967295|w>>>25),w=k+(T^C&(O^T))+P[1]+3905402710&4294967295,k=C+(w<<12&4294967295|w>>>20),w=T+(O^k&(C^O))+P[2]+606105819&4294967295,T=k+(w<<17&4294967295|w>>>15),w=O+(C^T&(k^C))+P[3]+3250441966&4294967295,O=T+(w<<22&4294967295|w>>>10),w=C+(k^O&(T^k))+P[4]+4118548399&4294967295,C=O+(w<<7&4294967295|w>>>25),w=k+(T^C&(O^T))+P[5]+1200080426&4294967295,k=C+(w<<12&4294967295|w>>>20),w=T+(O^k&(C^O))+P[6]+2821735955&4294967295,T=k+(w<<17&4294967295|w>>>15),w=O+(C^T&(k^C))+P[7]+4249261313&4294967295,O=T+(w<<22&4294967295|w>>>10),w=C+(k^O&(T^k))+P[8]+1770035416&4294967295,C=O+(w<<7&4294967295|w>>>25),w=k+(T^C&(O^T))+P[9]+2336552879&4294967295,k=C+(w<<12&4294967295|w>>>20),w=T+(O^k&(C^O))+P[10]+4294925233&4294967295,T=k+(w<<17&4294967295|w>>>15),w=O+(C^T&(k^C))+P[11]+2304563134&4294967295,O=T+(w<<22&4294967295|w>>>10),w=C+(k^O&(T^k))+P[12]+1804603682&4294967295,C=O+(w<<7&4294967295|w>>>25),w=k+(T^C&(O^T))+P[13]+4254626195&4294967295,k=C+(w<<12&4294967295|w>>>20),w=T+(O^k&(C^O))+P[14]+2792965006&4294967295,T=k+(w<<17&4294967295|w>>>15),w=O+(C^T&(k^C))+P[15]+1236535329&4294967295,O=T+(w<<22&4294967295|w>>>10),w=C+(T^k&(O^T))+P[1]+4129170786&4294967295,C=O+(w<<5&4294967295|w>>>27),w=k+(O^T&(C^O))+P[6]+3225465664&4294967295,k=C+(w<<9&4294967295|w>>>23),w=T+(C^O&(k^C))+P[11]+643717713&4294967295,T=k+(w<<14&4294967295|w>>>18),w=O+(k^C&(T^k))+P[0]+3921069994&4294967295,O=T+(w<<20&4294967295|w>>>12),w=C+(T^k&(O^T))+P[5]+3593408605&4294967295,C=O+(w<<5&4294967295|w>>>27),w=k+(O^T&(C^O))+P[10]+38016083&4294967295,k=C+(w<<9&4294967295|w>>>23),w=T+(C^O&(k^C))+P[15]+3634488961&4294967295,T=k+(w<<14&4294967295|w>>>18),w=O+(k^C&(T^k))+P[4]+3889429448&4294967295,O=T+(w<<20&4294967295|w>>>12),w=C+(T^k&(O^T))+P[9]+568446438&4294967295,C=O+(w<<5&4294967295|w>>>27),w=k+(O^T&(C^O))+P[14]+3275163606&4294967295,k=C+(w<<9&4294967295|w>>>23),w=T+(C^O&(k^C))+P[3]+4107603335&4294967295,T=k+(w<<14&4294967295|w>>>18),w=O+(k^C&(T^k))+P[8]+1163531501&4294967295,O=T+(w<<20&4294967295|w>>>12),w=C+(T^k&(O^T))+P[13]+2850285829&4294967295,C=O+(w<<5&4294967295|w>>>27),w=k+(O^T&(C^O))+P[2]+4243563512&4294967295,k=C+(w<<9&4294967295|w>>>23),w=T+(C^O&(k^C))+P[7]+1735328473&4294967295,T=k+(w<<14&4294967295|w>>>18),w=O+(k^C&(T^k))+P[12]+2368359562&4294967295,O=T+(w<<20&4294967295|w>>>12),w=C+(O^T^k)+P[5]+4294588738&4294967295,C=O+(w<<4&4294967295|w>>>28),w=k+(C^O^T)+P[8]+2272392833&4294967295,k=C+(w<<11&4294967295|w>>>21),w=T+(k^C^O)+P[11]+1839030562&4294967295,T=k+(w<<16&4294967295|w>>>16),w=O+(T^k^C)+P[14]+4259657740&4294967295,O=T+(w<<23&4294967295|w>>>9),w=C+(O^T^k)+P[1]+2763975236&4294967295,C=O+(w<<4&4294967295|w>>>28),w=k+(C^O^T)+P[4]+1272893353&4294967295,k=C+(w<<11&4294967295|w>>>21),w=T+(k^C^O)+P[7]+4139469664&4294967295,T=k+(w<<16&4294967295|w>>>16),w=O+(T^k^C)+P[10]+3200236656&4294967295,O=T+(w<<23&4294967295|w>>>9),w=C+(O^T^k)+P[13]+681279174&4294967295,C=O+(w<<4&4294967295|w>>>28),w=k+(C^O^T)+P[0]+3936430074&4294967295,k=C+(w<<11&4294967295|w>>>21),w=T+(k^C^O)+P[3]+3572445317&4294967295,T=k+(w<<16&4294967295|w>>>16),w=O+(T^k^C)+P[6]+76029189&4294967295,O=T+(w<<23&4294967295|w>>>9),w=C+(O^T^k)+P[9]+3654602809&4294967295,C=O+(w<<4&4294967295|w>>>28),w=k+(C^O^T)+P[12]+3873151461&4294967295,k=C+(w<<11&4294967295|w>>>21),w=T+(k^C^O)+P[15]+530742520&4294967295,T=k+(w<<16&4294967295|w>>>16),w=O+(T^k^C)+P[2]+3299628645&4294967295,O=T+(w<<23&4294967295|w>>>9),w=C+(T^(O|~k))+P[0]+4096336452&4294967295,C=O+(w<<6&4294967295|w>>>26),w=k+(O^(C|~T))+P[7]+1126891415&4294967295,k=C+(w<<10&4294967295|w>>>22),w=T+(C^(k|~O))+P[14]+2878612391&4294967295,T=k+(w<<15&4294967295|w>>>17),w=O+(k^(T|~C))+P[5]+4237533241&4294967295,O=T+(w<<21&4294967295|w>>>11),w=C+(T^(O|~k))+P[12]+1700485571&4294967295,C=O+(w<<6&4294967295|w>>>26),w=k+(O^(C|~T))+P[3]+2399980690&4294967295,k=C+(w<<10&4294967295|w>>>22),w=T+(C^(k|~O))+P[10]+4293915773&4294967295,T=k+(w<<15&4294967295|w>>>17),w=O+(k^(T|~C))+P[1]+2240044497&4294967295,O=T+(w<<21&4294967295|w>>>11),w=C+(T^(O|~k))+P[8]+1873313359&4294967295,C=O+(w<<6&4294967295|w>>>26),w=k+(O^(C|~T))+P[15]+4264355552&4294967295,k=C+(w<<10&4294967295|w>>>22),w=T+(C^(k|~O))+P[6]+2734768916&4294967295,T=k+(w<<15&4294967295|w>>>17),w=O+(k^(T|~C))+P[13]+1309151649&4294967295,O=T+(w<<21&4294967295|w>>>11),w=C+(T^(O|~k))+P[4]+4149444226&4294967295,C=O+(w<<6&4294967295|w>>>26),w=k+(O^(C|~T))+P[11]+3174756917&4294967295,k=C+(w<<10&4294967295|w>>>22),w=T+(C^(k|~O))+P[2]+718787259&4294967295,T=k+(w<<15&4294967295|w>>>17),w=O+(k^(T|~C))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(T+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+T&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.v=function(I,C){C===void 0&&(C=I.length);const O=C-this.blockSize,P=this.C;let T=this.h,k=0;for(;k<C;){if(T==0)for(;k<=O;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<C;)if(P[T++]=I.charCodeAt(k++),T==this.blockSize){o(this,P),T=0;break}}else for(;k<C;)if(P[T++]=I[k++],T==this.blockSize){o(this,P),T=0;break}}this.h=T,this.o+=C},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var O=I.length-8;O<I.length;++O)I[O]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,O=0;O<4;++O)for(let P=0;P<32;P+=8)I[C++]=this.g[O]>>>P&255;return I};function c(I,C){var O=m;return Object.prototype.hasOwnProperty.call(O,I)?O[I]:O[I]=C(I)}function d(I,C){this.h=C;const O=[];let P=!0;for(let T=I.length-1;T>=0;T--){const k=I[T]|0;P&&k==C||(O[T]=k,P=!1)}this.g=O}var m={};function g(I){return-128<=I&&I<128?c(I,function(C){return new d([C|0],C<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return E;if(I<0)return B(y(-I));const C=[];let O=1;for(let P=0;I>=O;P++)C[P]=I/O|0,O*=4294967296;return new d(C,0)}function x(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return B(x(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=y(Math.pow(C,8));let P=E;for(let k=0;k<I.length;k+=8){var T=Math.min(8,I.length-k);const w=parseInt(I.substring(k,k+T),C);T<8?(T=y(Math.pow(C,T)),P=P.j(T).add(y(w))):(P=P.j(O),P=P.add(y(w)))}return P}var E=g(0),N=g(1),j=g(16777216);i=d.prototype,i.m=function(){if(L(this))return-B(this).m();let I=0,C=1;for(let O=0;O<this.g.length;O++){const P=this.i(O);I+=(P>=0?P:4294967296+P)*C,C*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(U(this))return"0";if(L(this))return"-"+B(this).toString(I);const C=y(Math.pow(I,6));var O=this;let P="";for(;;){const T=oe(O,C).g;O=ee(O,T.j(C));let k=((O.g.length>0?O.g[0]:O.h)>>>0).toString(I);if(O=T,U(O))return k+P;for(;k.length<6;)k="0"+k;P=k+P}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function U(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function L(I){return I.h==-1}i.l=function(I){return I=ee(this,I),L(I)?-1:U(I)?0:1};function B(I){const C=I.g.length,O=[];for(let P=0;P<C;P++)O[P]=~I.g[P];return new d(O,~I.h).add(N)}i.abs=function(){return L(this)?B(this):this},i.add=function(I){const C=Math.max(this.g.length,I.g.length),O=[];let P=0;for(let T=0;T<=C;T++){let k=P+(this.i(T)&65535)+(I.i(T)&65535),w=(k>>>16)+(this.i(T)>>>16)+(I.i(T)>>>16);P=w>>>16,k&=65535,w&=65535,O[T]=w<<16|k}return new d(O,O[O.length-1]&-2147483648?-1:0)};function ee(I,C){return I.add(B(C))}i.j=function(I){if(U(this)||U(I))return E;if(L(this))return L(I)?B(this).j(B(I)):B(B(this).j(I));if(L(I))return B(this.j(B(I)));if(this.l(j)<0&&I.l(j)<0)return y(this.m()*I.m());const C=this.g.length+I.g.length,O=[];for(var P=0;P<2*C;P++)O[P]=0;for(P=0;P<this.g.length;P++)for(let T=0;T<I.g.length;T++){const k=this.i(P)>>>16,w=this.i(P)&65535,Se=I.i(T)>>>16,De=I.i(T)&65535;O[2*P+2*T]+=w*De,J(O,2*P+2*T),O[2*P+2*T+1]+=k*De,J(O,2*P+2*T+1),O[2*P+2*T+1]+=w*Se,J(O,2*P+2*T+1),O[2*P+2*T+2]+=k*Se,J(O,2*P+2*T+2)}for(I=0;I<C;I++)O[I]=O[2*I+1]<<16|O[2*I];for(I=C;I<2*C;I++)O[I]=0;return new d(O,0)};function J(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function re(I,C){this.g=I,this.h=C}function oe(I,C){if(U(C))throw Error("division by zero");if(U(I))return new re(E,E);if(L(I))return C=oe(B(I),C),new re(B(C.g),B(C.h));if(L(C))return C=oe(I,B(C)),new re(B(C.g),C.h);if(I.g.length>30){if(L(I)||L(C))throw Error("slowDivide_ only works with positive integers.");for(var O=N,P=C;P.l(I)<=0;)O=le(O),P=le(P);var T=he(O,1),k=he(P,1);for(P=he(P,2),O=he(O,2);!U(P);){var w=k.add(P);w.l(I)<=0&&(T=T.add(O),k=w),P=he(P,1),O=he(O,1)}return C=ee(I,T.j(C)),new re(T,C)}for(T=E;I.l(C)>=0;){for(O=Math.max(1,Math.floor(I.m()/C.m())),P=Math.ceil(Math.log(O)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),k=y(O),w=k.j(C);L(w)||w.l(I)>0;)O-=P,k=y(O),w=k.j(C);U(k)&&(k=N),T=T.add(k),I=ee(I,w)}return new re(T,I)}i.B=function(I){return oe(this,I).h},i.and=function(I){const C=Math.max(this.g.length,I.g.length),O=[];for(let P=0;P<C;P++)O[P]=this.i(P)&I.i(P);return new d(O,this.h&I.h)},i.or=function(I){const C=Math.max(this.g.length,I.g.length),O=[];for(let P=0;P<C;P++)O[P]=this.i(P)|I.i(P);return new d(O,this.h|I.h)},i.xor=function(I){const C=Math.max(this.g.length,I.g.length),O=[];for(let P=0;P<C;P++)O[P]=this.i(P)^I.i(P);return new d(O,this.h^I.h)};function le(I){const C=I.g.length+1,O=[];for(let P=0;P<C;P++)O[P]=I.i(P)<<1|I.i(P-1)>>>31;return new d(O,I.h)}function he(I,C){const O=C>>5;C%=32;const P=I.g.length-O,T=[];for(let k=0;k<P;k++)T[k]=C>0?I.i(k+O)>>>C|I.i(k+O+1)<<32-C:I.i(k+O);return new d(T,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,yE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=x,Nr=d}).apply(typeof Xv<"u"?Xv:typeof self<"u"?self:typeof window<"u"?window:{});var pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bE,sc,vE,wd,sm,_E,xE,EE;(function(){var i,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof pd=="object"&&pd];for(var b=0;b<u.length;++b){var _=u[b];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(u,b){if(b)e:{var _=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var q=u[S];if(!(q in _))break e;_=_[q]}u=u[u.length-1],S=_[u],b=b(S),b!=S&&b!=null&&e(_,u,{configurable:!0,writable:!0,value:b})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(b){var _=[],S;for(S in b)Object.prototype.hasOwnProperty.call(b,S)&&_.push([S,b[S]]);return _}});var c=c||{},d=this||self;function m(u){var b=typeof u;return b=="object"&&u!=null||b=="function"}function g(u,b,_){return u.call.apply(u.bind,arguments)}function y(u,b,_){return y=g,y.apply(null,arguments)}function x(u,b){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function E(u,b){function _(){}_.prototype=b.prototype,u.Z=b.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(S,q,Y){for(var de=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)de[ze-2]=arguments[ze];return b.prototype[q].apply(S,de)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const b=u.length;if(b>0){const _=Array(b);for(let S=0;S<b;S++)_[S]=u[S];return _}return[]}function U(u,b){for(let S=1;S<arguments.length;S++){const q=arguments[S];var _=typeof q;if(_=_!="object"?_:q?Array.isArray(q)?"array":_:"null",_=="array"||_=="object"&&typeof q.length=="number"){_=u.length||0;const Y=q.length||0;u.length=_+Y;for(let de=0;de<Y;de++)u[_+de]=q[de]}else u.push(q)}}class L{constructor(b,_){this.i=b,this.j=_,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function B(u){d.setTimeout(()=>{throw u},0)}function ee(){var u=I;let b=null;return u.g&&(b=u.g,u.g=u.g.next,u.g||(u.h=null),b.next=null),b}class J{constructor(){this.h=this.g=null}add(b,_){const S=re.get();S.set(b,_),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new L(()=>new oe,u=>u.reset());class oe{constructor(){this.next=this.g=this.h=null}set(b,_){this.h=b,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,he=!1,I=new J,C=()=>{const u=Promise.resolve(void 0);le=()=>{u.then(O)}};function O(){for(var u;u=ee();){try{u.h.call(u.g)}catch(_){B(_)}var b=re;b.j(u),b.h<100&&(b.h++,u.next=b.g,b.g=u)}he=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(u,b){this.type=u,this.g=this.target=b,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,b=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,b),d.removeEventListener("test",_,b)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Se(u,b){T.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,b)}E(Se,T),Se.prototype.init=function(u,b){const _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=b,b=u.relatedTarget,b||(_=="mouseover"?b=u.fromElement:_=="mouseout"&&(b=u.toElement)),this.relatedTarget=b,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),X=0;function ue(u,b,_,S,q){this.listener=u,this.proxy=null,this.src=b,this.type=_,this.capture=!!S,this.ha=q,this.key=++X,this.da=this.fa=!1}function _e(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ve(u,b,_){for(const S in u)b.call(_,u[S],S,u)}function He(u,b){for(const _ in u)b.call(void 0,u[_],_,u)}function R(u){const b={};for(const _ in u)b[_]=u[_];return b}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,b){let _,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(_ in S)u[_]=S[_];for(let Y=0;Y<Q.length;Y++)_=Q[Y],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function ce(u){this.src=u,this.g={},this.h=0}ce.prototype.add=function(u,b,_,S,q){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const de=ve(u,b,S,q);return de>-1?(b=u[de],_||(b.fa=!1)):(b=new ue(b,this.src,Y,!!S,q),b.fa=_,u.push(b)),b};function me(u,b){const _=b.type;if(_ in u.g){var S=u.g[_],q=Array.prototype.indexOf.call(S,b,void 0),Y;(Y=q>=0)&&Array.prototype.splice.call(S,q,1),Y&&(_e(b),u.g[_].length==0&&(delete u.g[_],u.h--))}}function ve(u,b,_,S){for(let q=0;q<u.length;++q){const Y=u[q];if(!Y.da&&Y.listener==b&&Y.capture==!!_&&Y.ha==S)return q}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),Ge={};function ke(u,b,_,S,q){if(Array.isArray(b)){for(let Y=0;Y<b.length;Y++)ke(u,b[Y],_,S,q);return null}return _=H(_),u&&u[De]?u.J(b,_,m(S)?!!S.capture:!1,q):mt(u,b,_,!1,S,q)}function mt(u,b,_,S,q,Y){if(!b)throw Error("Invalid event type");const de=m(q)?!!q.capture:!!q;let ze=Re(u);if(ze||(u[Ne]=ze=new ce(u)),_=ze.add(b,_,S,de,Y),_.proxy)return _;if(S=Wt(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)k||(q=de),q===void 0&&(q=!1),u.addEventListener(b.toString(),S,q);else if(u.attachEvent)u.attachEvent(Ee(b.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Wt(){function u(_){return b.call(u.src,u.listener,_)}const b=fe;return u}function Qt(u,b,_,S,q){if(Array.isArray(b))for(var Y=0;Y<b.length;Y++)Qt(u,b[Y],_,S,q);else S=m(S)?!!S.capture:!!S,_=H(_),u&&u[De]?(u=u.i,Y=String(b).toString(),Y in u.g&&(b=u.g[Y],_=ve(b,_,S,q),_>-1&&(_e(b[_]),Array.prototype.splice.call(b,_,1),b.length==0&&(delete u.g[Y],u.h--)))):u&&(u=Re(u))&&(b=u.g[b.toString()],u=-1,b&&(u=ve(b,_,S,q)),(_=u>-1?b[u]:null)&&W(_))}function W(u){if(typeof u!="number"&&u&&!u.da){var b=u.src;if(b&&b[De])me(b.i,u);else{var _=u.type,S=u.proxy;b.removeEventListener?b.removeEventListener(_,S,u.capture):b.detachEvent?b.detachEvent(Ee(_),S):b.addListener&&b.removeListener&&b.removeListener(S),(_=Re(b))?(me(_,u),_.h==0&&(_.src=null,b[Ne]=null)):_e(u)}}}function Ee(u){return u in Ge?Ge[u]:Ge[u]="on"+u}function fe(u,b){if(u.da)u=!0;else{b=new Se(b,this);const _=u.listener,S=u.ha||u.src;u.fa&&W(u),u=_.call(S,b)}return u}function Re(u){return u=u[Ne],u instanceof ce?u:null}var Le="__closure_events_fn_"+(Math.random()*1e9>>>0);function H(u){return typeof u=="function"?u:(u[Le]||(u[Le]=function(b){return u.handleEvent(b)}),u[Le])}function be(){P.call(this),this.i=new ce(this),this.M=this,this.G=null}E(be,P),be.prototype[De]=!0,be.prototype.removeEventListener=function(u,b,_,S){Qt(this,u,b,_,S)};function Je(u,b){var _,S=u.G;if(S)for(_=[];S;S=S.G)_.push(S);if(u=u.M,S=b.type||b,typeof b=="string")b=new T(b,u);else if(b instanceof T)b.target=b.target||u;else{var q=b;b=new T(S,u),se(b,q)}q=!0;let Y,de;if(_)for(de=_.length-1;de>=0;de--)Y=b.g=_[de],q=un(Y,S,!0,b)&&q;if(Y=b.g=u,q=un(Y,S,!0,b)&&q,q=un(Y,S,!1,b)&&q,_)for(de=0;de<_.length;de++)Y=b.g=_[de],q=un(Y,S,!1,b)&&q}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var u=this.i;for(const b in u.g){const _=u.g[b];for(let S=0;S<_.length;S++)_e(_[S]);delete u.g[b],u.h--}}this.G=null},be.prototype.J=function(u,b,_,S){return this.i.add(String(u),b,!1,_,S)},be.prototype.K=function(u,b,_,S){return this.i.add(String(u),b,!0,_,S)};function un(u,b,_,S){if(b=u.i.g[String(b)],!b)return!0;b=b.concat();let q=!0;for(let Y=0;Y<b.length;++Y){const de=b[Y];if(de&&!de.da&&de.capture==_){const ze=de.listener,Rt=de.ha||de.src;de.fa&&me(u.i,de),q=ze.call(Rt,S)!==!1&&q}}return q&&!S.defaultPrevented}function _n(u,b){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:d.setTimeout(u,b||0)}function jn(u){u.g=_n(()=>{u.g=null,u.i&&(u.i=!1,jn(u))},u.l);const b=u.h;u.h=null,u.m.apply(null,b)}class Zt extends P{constructor(b,_){super(),this.m=b,this.l=_,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:jn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function li(u){P.call(this),this.h=u,this.g={}}E(li,P);var Br=[];function Hr(u){Ve(u.g,function(b,_){this.g.hasOwnProperty(_)&&W(b)},u),u.g={}}li.prototype.N=function(){li.Z.N.call(this),Hr(this)},li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dn=d.JSON.stringify,xn=d.JSON.parse,qr=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function zc(){}function Uc(){}var ua={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){T.call(this,"d")}E(en,T);function Yn(){T.call(this,"c")}E(Yn,T);var Nt={},Bc=null;function Ps(){return Bc=Bc||new be}Nt.Ia="serverreachability";function Hc(u){T.call(this,Nt.Ia,u)}E(Hc,T);function Ra(u){const b=Ps();Je(b,new Hc(b))}Nt.STAT_EVENT="statevent";function Fr(u,b){T.call(this,Nt.STAT_EVENT,u),this.stat=b}E(Fr,T);function kt(u){const b=Ps();Je(b,new Fr(b,u))}Nt.Ja="timingevent";function Ca(u,b){T.call(this,Nt.Ja,u),this.size=b}E(Ca,T);function Ia(u,b){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},b)}function da(){this.g=!0}da.prototype.ua=function(){this.g=!1};function If(u,b,_,S,q,Y){u.info(function(){if(u.g)if(Y){var de="",ze=Y.split("&");for(let nt=0;nt<ze.length;nt++){var Rt=ze[nt].split("=");if(Rt.length>1){const _t=Rt[0];Rt=Rt[1];const Wn=_t.split("_");de=Wn.length>=2&&Wn[1]=="type"?de+(_t+"="+Rt+"&"):de+(_t+"=redacted&")}}}else de=null;else de=Y;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+b+`
`+_+`
`+de})}function qc(u,b,_,S,q,Y,de){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+b+`
`+_+`
`+Y+" "+de})}function Oa(u,b,_,S){u.info(function(){return"XMLHTTP TEXT ("+b+"): "+Of(u,_)+(S?" "+S:"")})}function Gr(u,b){u.info(function(){return"TIMEOUT: "+b})}da.prototype.info=function(){};function Of(u,b){if(!u.g)return b;if(!b)return null;try{const Y=JSON.parse(b);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var _=Y[u];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var q=S[0];if(q!="noop"&&q!="stop"&&q!="close")for(let de=1;de<S.length;de++)S[de]=""}}}}return dn(Y)}catch{return b}}var Kr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},nl;function Qr(){}E(Qr,zc),Qr.prototype.g=function(){return new XMLHttpRequest},nl=new Qr;function ci(u){return encodeURIComponent(String(u))}function Fc(u){var b=1;u=u.split(":");const _=[];for(;b>0&&u.length;)_.push(u.shift()),b--;return u.length&&_.push(u.join(":")),_}function fa(u,b,_,S){this.j=u,this.i=b,this.l=_,this.S=S||1,this.V=new li(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ha}function ha(){this.i=null,this.g="",this.h=!1}var jt={},Yt={};function Da(u,b,_){u.M=1,u.A=Yr(Vt(b)),u.u=_,u.R=!0,Vs(u,null)}function Vs(u,b){u.F=Date.now(),Ma(u),u.B=Vt(u.A);var _=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Bs(_.i,"t",S),u.C=0,_=u.j.L,u.h=new ha,u.g=ru(u.j,_?b:null,!u.u),u.P>0&&(u.O=new Zt(y(u.Y,u,u.g),u.P)),b=u.V,_=u.g,S=u.ba;var q="readystatechange";Array.isArray(q)||(q&&(Br[0]=q.toString()),q=Br);for(let Y=0;Y<q.length;Y++){const de=ke(_,q[Y],S||b.handleEvent,!1,b.h||b);if(!de)break;b.g[de.key]=de}b=u.J?R(u.J):{},u.u?(u.v||(u.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,b)):(u.v="GET",u.g.ea(u.B,u.v,null,b)),Ra(),If(u.i,u.v,u.B,u.l,u.S,u.u)}fa.prototype.ba=function(u){u=u.target;const b=this.O;b&&ga(u)==3?b.j():this.Y(u)},fa.prototype.Y=function(u){try{if(u==this.g)e:{const ze=ga(this.g),Rt=this.g.ya(),nt=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||ze!=4||Rt==7||(Rt==8||nt<=0?Ra(3):Ra(2)),ka(this);var b=this.g.ca();this.X=b;var _=Df(this);if(this.o=b==200,qc(this.i,this.v,this.B,this.l,this.S,ze,b),this.o){if(this.U&&!this.L){t:{if(this.g){var S,q=this.g;if((S=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(S)){var Y=S;break t}}Y=null}if(u=Y)Oa(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ja(this,u);else{this.o=!1,this.m=3,kt(12),Pn(this),$n(this);break e}}if(this.R){u=!0;let _t;for(;!this.K&&this.C<_.length;)if(_t=Kc(this,_),_t==Yt){ze==4&&(this.m=4,kt(14),u=!1),Oa(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==jt){this.m=4,kt(15),Oa(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Oa(this.i,this.l,_t,null),ja(this,_t);if(Gc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||_.length!=0||this.h.h||(this.m=1,kt(16),u=!1),this.o=this.o&&u,!u)Oa(this.i,this.l,_,"[Invalid Chunked Response]"),Pn(this),$n(this);else if(_.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),yl(de),de.P=!0,kt(11))}}else Oa(this.i,this.l,_,null),ja(this,_);ze==4&&Pn(this),this.o&&!this.K&&(ze==4?tu(this.j,this):(this.o=!1,Ma(this)))}else di(this.g),b==400&&_.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),Pn(this),$n(this)}}}catch{}};function Df(u){if(!Gc(u))return u.g.la();const b=tn(u.g);if(b==="")return"";let _="";const S=b.length,q=ga(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Pn(u),$n(u),"";u.h.i=new d.TextDecoder}for(let Y=0;Y<S;Y++)u.h.h=!0,_+=u.h.i.decode(b[Y],{stream:!(q&&Y==S-1)});return b.length=0,u.h.g+=_,u.C=0,u.h.g}function Gc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Kc(u,b){var _=u.C,S=b.indexOf(`
`,_);return S==-1?Yt:(_=Number(b.substring(_,S)),isNaN(_)?jt:(S+=1,S+_>b.length?Yt:(b=b.slice(S,S+_),u.C=S+_,b)))}fa.prototype.cancel=function(){this.K=!0,Pn(this)};function Ma(u){u.T=Date.now()+u.H,Ls(u,u.H)}function Ls(u,b){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ia(y(u.aa,u),b)}function ka(u){u.D&&(d.clearTimeout(u.D),u.D=null)}fa.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Gr(this.i,this.B),this.M!=2&&(Ra(),kt(17)),Pn(this),this.m=2,$n(this)):Ls(this,this.T-u)};function $n(u){u.j.I==0||u.K||tu(u.j,u)}function Pn(u){ka(u);var b=u.O;b&&typeof b.dispose=="function"&&b.dispose(),u.O=null,Hr(u.V),u.g&&(b=u.g,u.g=null,b.abort(),b.dispose())}function ja(u,b){try{var _=u.j;if(_.I!=0&&(_.g==u||Va(_.h,u))){if(!u.L&&Va(_.h,u)&&_.I==3){try{var S=_.Ba.g.parse(b)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Ks(_),$i(_);else break e;ts(_),kt(18)}}else _.xa=q[1],0<_.xa-_.K&&q[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Ia(y(_.Va,_),6e3));Pa(_.h)<=1&&_.ta&&(_.ta=void 0)}else qa(_,11)}else if((u.L||_.g==u)&&Ks(_),!w(b))for(q=_.Ba.g.parse(b),b=0;b<q.length;b++){let nt=q[b];const _t=nt[0];if(!(_t<=_.K))if(_.K=_t,nt=nt[1],_.I==2)if(nt[0]=="c"){_.M=nt[1],_.ba=nt[2];const Wn=nt[3];Wn!=null&&(_.ka=Wn,_.j.info("VER="+_.ka));const Fa=nt[4];Fa!=null&&(_.za=Fa,_.j.info("SVER="+_.za));const ya=nt[5];ya!=null&&typeof ya=="number"&&ya>0&&(S=1.5*ya,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const ba=u.g;if(ba){const ns=ba.g?ba.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ns){var Y=S.h;Y.g||ns.indexOf("spdy")==-1&&ns.indexOf("quic")==-1&&ns.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(rl(Y,Y.h),Y.h=null))}if(S.G){const Qs=ba.g?ba.g.getResponseHeader("X-HTTP-Session-Id"):null;Qs&&(S.wa=Qs,ot(S.J,S.G,Qs))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var de=u;if(S.na=iu(S,S.L?S.ba:null,S.W),de.L){sl(S.h,de);var ze=de,Rt=S.O;Rt&&(ze.H=Rt),ze.D&&(ka(ze),Ma(ze)),S.g=de}else Zc(S);_.i.length>0&&Ha(_)}else nt[0]!="stop"&&nt[0]!="close"||qa(_,7);else _.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?qa(_,7):ml(_):nt[0]!="noop"&&_.l&&_.l.qa(nt),_.A=0)}}Ra(4)}catch{}}var Pt=class{constructor(u,b){this.g=u,this.map=b}};function al(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function il(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Pa(u){return u.h?1:u.g?u.g.size:0}function Va(u,b){return u.h?u.h==b:u.g?u.g.has(b):!1}function rl(u,b){u.g?u.g.add(b):u.h=b}function sl(u,b){u.h&&u.h==b?u.h=null:u.g&&u.g.has(b)&&u.g.delete(b)}al.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ol(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let b=u.i;for(const _ of u.g.values())b=b.concat(_.G);return b}return j(u.i)}var Qc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zs(u,b){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const S=u[_].indexOf("=");let q,Y=null;S>=0?(q=u[_].substring(0,S),Y=u[_].substring(S+1)):q=u[_],b(q,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;u instanceof Vn?(this.l=u.l,$t(this,u.j),this.o=u.o,this.g=u.g,Hi(this,u.u),this.h=u.h,ll(this,Jc(u.i)),this.m=u.m):u&&(b=String(u).match(Qc))?(this.l=!1,$t(this,b[1]||"",!0),this.o=La(b[2]||""),this.g=La(b[3]||"",!0),Hi(this,b[4]),this.h=La(b[5]||"",!0),ll(this,b[6]||"",!0),this.m=La(b[7]||"")):(this.l=!1,this.i=new Fi(null,this.l))}Vn.prototype.toString=function(){const u=[];var b=this.j;b&&u.push($r(b,Us,!0),":");var _=this.g;return(_||b=="file")&&(u.push("//"),(b=this.o)&&u.push($r(b,Us,!0),"@"),u.push(ci(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push($r(_,_.charAt(0)=="/"?cl:Yc,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",$r(_,$c)),u.join("")},Vn.prototype.resolve=function(u){const b=Vt(this);let _=!!u.j;_?$t(b,u.j):_=!!u.o,_?b.o=u.o:_=!!u.g,_?b.g=u.g:_=u.u!=null;var S=u.h;if(_)Hi(b,u.u);else if(_=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var q=b.h.lastIndexOf("/");q!=-1&&(S=b.h.slice(0,q+1)+S)}if(q=S,q==".."||q==".")S="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){S=q.lastIndexOf("/",0)==0,q=q.split("/");const Y=[];for(let de=0;de<q.length;){const ze=q[de++];ze=="."?S&&de==q.length&&Y.push(""):ze==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),S&&de==q.length&&Y.push("")):(Y.push(ze),S=!0)}S=Y.join("/")}else S=q}return _?b.h=S:_=u.i.toString()!=="",_?ll(b,Jc(u.i)):_=!!u.m,_&&(b.m=u.m),b};function Vt(u){return new Vn(u)}function $t(u,b,_){u.j=_?La(b,!0):b,u.j&&(u.j=u.j.replace(/:$/,""))}function Hi(u,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);u.u=b}else u.u=null}function ll(u,b,_){b instanceof Fi?(u.i=b,Hs(u.i,u.l)):(_||(b=$r(b,qi)),u.i=new Fi(b,u.l))}function ot(u,b,_){u.i.set(b,_)}function Yr(u){return ot(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function La(u,b){return u?b?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function $r(u,b,_){return typeof u=="string"?(u=encodeURI(u).replace(b,En),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function En(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Us=/[#\/\?@]/g,Yc=/[#\?:]/g,cl=/[#\?]/g,qi=/[#\?@]/g,$c=/#/g;function Fi(u,b){this.h=this.g=null,this.i=u||null,this.j=!!b}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&zs(u.i,function(b,_){u.add(decodeURIComponent(b.replace(/\+/g," ")),_)}))}i=Fi.prototype,i.add=function(u,b){An(this),this.i=null,u=Gi(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(b),this.h+=1,this};function Xc(u,b){An(u),b=Gi(u,b),u.g.has(b)&&(u.i=null,u.h-=u.g.get(b).length,u.g.delete(b))}function ul(u,b){return An(u),b=Gi(u,b),u.g.has(b)}i.forEach=function(u,b){An(this),this.g.forEach(function(_,S){_.forEach(function(q){u.call(b,q,S,this)},this)},this)};function dl(u,b){An(u);let _=[];if(typeof b=="string")ul(u,b)&&(_=_.concat(u.g.get(Gi(u,b))));else for(u=Array.from(u.g.values()),b=0;b<u.length;b++)_=_.concat(u[b]);return _}i.set=function(u,b){return An(this),this.i=null,u=Gi(this,u),ul(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[b]),this.h+=1,this},i.get=function(u,b){return u?(u=dl(this,u),u.length>0?String(u[0]):b):b};function Bs(u,b,_){Xc(u,b),_.length>0&&(u.i=null,u.g.set(Gi(u,b),j(_)),u.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],b=Array.from(this.g.keys());for(let S=0;S<b.length;S++){var _=b[S];const q=ci(_);_=dl(this,_);for(let Y=0;Y<_.length;Y++){let de=q;_[Y]!==""&&(de+="="+ci(_[Y])),u.push(de)}}return this.i=u.join("&")};function Jc(u){const b=new Fi;return b.i=u.i,u.g&&(b.g=new Map(u.g),b.h=u.h),b}function Gi(u,b){return b=String(b),u.j&&(b=b.toLowerCase()),b}function Hs(u,b){b&&!u.j&&(An(u),u.i=null,u.g.forEach(function(_,S){const q=S.toLowerCase();S!=q&&(Xc(this,S),Bs(this,q,_))},u)),u.j=b}function pa(u,b){const _=new da;if(d.Image){const S=new Image;S.onload=x(Xn,_,"TestLoadImage: loaded",!0,b,S),S.onerror=x(Xn,_,"TestLoadImage: error",!1,b,S),S.onabort=x(Xn,_,"TestLoadImage: abort",!1,b,S),S.ontimeout=x(Xn,_,"TestLoadImage: timeout",!1,b,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else b(!1)}function fl(u,b){const _=new da,S=new AbortController,q=setTimeout(()=>{S.abort(),Xn(_,"TestPingServer: timeout",!1,b)},1e4);fetch(u,{signal:S.signal}).then(Y=>{clearTimeout(q),Y.ok?Xn(_,"TestPingServer: ok",!0,b):Xn(_,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(q),Xn(_,"TestPingServer: error",!1,b)})}function Xn(u,b,_,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(_)}catch{}}function Ki(){this.g=new qr}function za(u){this.i=u.Sb||null,this.h=u.ab||!1}E(za,zc),za.prototype.g=function(){return new Xr(this.i,this.h)};function Xr(u,b){be.call(this),this.H=u,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Xr,be),i=Xr.prototype,i.open=function(u,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=b,this.readyState=1,ma(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(b.body=u),(this.H||d).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qi(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qs(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function qs(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var b=u.value?u.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!u.done}))&&(this.response=this.responseText+=b)}u.done?Qi(this):ma(this),this.readyState==3&&qs(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,Qi(this))},i.Na=function(u){this.g&&(this.response=u,Qi(this))},i.ga=function(){this.g&&Qi(this)};function Qi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ma(u)}i.setRequestHeader=function(u,b){this.A.append(u,b)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],b=this.h.entries();for(var _=b.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=b.next();return u.join(`\r
`)};function ma(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jn(u){let b="";return Ve(u,function(_,S){b+=S,b+=":",b+=_,b+=`\r
`}),b}function Jr(u,b,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Jn(_),typeof u=="string"?_!=null&&ci(_):ot(u,b,_))}function ut(u){be.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(ut,be);var Ua=/^https?$/i,hl=["POST","PUT"];i=ut.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,b,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);b=b?b.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():nl.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(b,String(u),!0),this.B=!1}catch(Y){Wr(this,Y);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)_.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())_.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(hl,b,void 0)>=0)||S||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,de]of _)this.g.setRequestHeader(Y,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){Wr(this,Y)}};function Wr(u,b){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=b,u.o=5,pl(u),ui(u)}function pl(u){u.A||(u.A=!0,Je(u,"complete"),Je(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Je(this,"complete"),Je(this,"abort"),ui(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),ut.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Zr(this):this.Xa())},i.Xa=function(){Zr(this)};function Zr(u){if(u.h&&typeof c<"u"){if(u.v&&ga(u)==4)setTimeout(u.Ca.bind(u),0);else if(Je(u,"readystatechange"),ga(u)==4){u.h=!1;try{const Y=u.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var _;if(!(_=b)){var S;if(S=Y===0){let de=String(u.D).match(Qc)[1]||null;!de&&d.self&&d.self.location&&(de=d.self.location.protocol.slice(0,-1)),S=!Ua.test(de?de.toLowerCase():"")}_=S}if(_)Je(u,"complete"),Je(u,"success");else{u.o=6;try{var q=ga(u)>2?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.ca()+"]",pl(u)}}finally{ui(u)}}}}function ui(u,b){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,b||Je(u,"ready");try{_.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ga(u){return u.g?u.g.readyState:0}i.ca=function(){try{return ga(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var b=this.g.responseText;return u&&b.indexOf(u)==0&&(b=b.substring(u.length)),xn(b)}};function tn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function di(u){const b={};u=(u.g&&ga(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(w(u[S]))continue;var _=Fc(u[S]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=b[q]||[];b[q]=Y,Y.push(_)}He(b,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ba(u,b,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||b}function Yi(u){this.za=0,this.i=[],this.j=new da,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ba("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ba("baseRetryDelayMs",5e3,u),this.Za=Ba("retryDelaySeedMs",1e4,u),this.Ta=Ba("forwardChannelMaxRetries",2,u),this.va=Ba("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new al(u&&u.concurrentRequestLimit),this.Ba=new Ki,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Yi.prototype,i.ka=8,i.I=1,i.connect=function(u,b,_,S){kt(0),this.W=u,this.H=b||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=iu(this,null,this.W),Ha(this)};function ml(u){if(Fs(u),u.I==3){var b=u.V++,_=Vt(u.J);if(ot(_,"SID",u.M),ot(_,"RID",b),ot(_,"TYPE","terminate"),es(u,_),b=new fa(u,u.j,b),b.M=2,b.A=Yr(Vt(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(b.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=b.A,_=!0),_||(b.g=ru(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Ma(b)}au(u)}function $i(u){u.g&&(yl(u),u.g.cancel(),u.g=null)}function Fs(u){$i(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ks(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ha(u){if(!il(u.h)&&!u.m){u.m=!0;var b=u.Ea;le||C(),he||(le(),he=!0),I.add(b,u),u.D=0}}function Gs(u,b){return Pa(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=b.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ia(y(u.Ea,u,b),nu(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const q=new fa(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=R(Y),se(Y,this.U)):Y=this.U),this.u!==null||this.R||(q.J=Y,Y=null),this.S)e:{for(var b=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(b+=S,b>4096){b=_;break e}if(b===4096||_===this.i.length-1){b=_+1;break e}}b=1e3}else b=1e3;b=Wc(this,q,b),_=Vt(this.J),ot(_,"RID",u),ot(_,"CVER",22),this.G&&ot(_,"X-HTTP-Session-Id",this.G),es(this,_),Y&&(this.R?b="headers="+ci(Jn(Y))+"&"+b:this.u&&Jr(_,this.u,Y)),rl(this.h,q),this.Ra&&ot(_,"TYPE","init"),this.S?(ot(_,"$req",b),ot(_,"SID","null"),q.U=!0,Da(q,_,null)):Da(q,_,b),this.I=2}}else this.I==3&&(u?gl(this,u):this.i.length==0||il(this.h)||gl(this))};function gl(u,b){var _;b?_=b.l:_=u.V++;const S=Vt(u.J);ot(S,"SID",u.M),ot(S,"RID",_),ot(S,"AID",u.K),es(u,S),u.u&&u.o&&Jr(S,u.u,u.o),_=new fa(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),b&&(u.i=b.G.concat(u.i)),b=Wc(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),rl(u.h,_),Da(_,S,b)}function es(u,b){u.H&&Ve(u.H,function(_,S){ot(b,S,_)}),u.l&&Ve({},function(_,S){ot(b,S,_)})}function Wc(u,b,_){_=Math.min(u.i.length,_);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var q=u.i;let ze=-1;for(;;){const Rt=["count="+_];ze==-1?_>0?(ze=q[0].g,Rt.push("ofs="+ze)):ze=0:Rt.push("ofs="+ze);let nt=!0;for(let _t=0;_t<_;_t++){var Y=q[_t].g;const Wn=q[_t].map;if(Y-=ze,Y<0)ze=Math.max(0,q[_t].g-100),nt=!1;else try{Y="req"+Y+"_"||"";try{var de=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Fa,ya]of de){let ba=ya;m(ya)&&(ba=dn(ya)),Rt.push(Y+Fa+"="+encodeURIComponent(ba))}}catch(Fa){throw Rt.push(Y+"type="+encodeURIComponent("_badmap")),Fa}}catch{S&&S(Wn)}}if(nt){de=Rt.join("&");break e}}de=void 0}return u=u.i.splice(0,_),b.G=u,de}function Zc(u){if(!u.g&&!u.v){u.Y=1;var b=u.Da;le||C(),he||(le(),he=!0),I.add(b,u),u.A=0}}function ts(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ia(y(u.Da,u),nu(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ia(y(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),$i(this),eu(this))};function yl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function eu(u){u.g=new fa(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var b=Vt(u.na);ot(b,"RID","rpc"),ot(b,"SID",u.M),ot(b,"AID",u.K),ot(b,"CI",u.F?"0":"1"),!u.F&&u.ia&&ot(b,"TO",u.ia),ot(b,"TYPE","xmlhttp"),es(u,b),u.u&&u.o&&Jr(b,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Yr(Vt(b)),_.u=null,_.R=!0,Vs(_,u)}i.Va=function(){this.C!=null&&(this.C=null,$i(this),ts(this),kt(19))};function Ks(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function tu(u,b){var _=null;if(u.g==b){Ks(u),yl(u),u.g=null;var S=2}else if(Va(u.h,b))_=b.G,sl(u.h,b),S=1;else return;if(u.I!=0){if(b.o)if(S==1){_=b.u?b.u.length:0,b=Date.now()-b.F;var q=u.D;S=Ps(),Je(S,new Ca(S,_)),Ha(u)}else Zc(u);else if(q=b.m,q==3||q==0&&b.X>0||!(S==1&&Gs(u,b)||S==2&&ts(u)))switch(_&&_.length>0&&(b=u.h,b.i=b.i.concat(_)),q){case 1:qa(u,5);break;case 4:qa(u,10);break;case 3:qa(u,6);break;default:qa(u,2)}}}function nu(u,b){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*b}function qa(u,b){if(u.j.info("Error code "+b),b==2){var _=y(u.bb,u),S=u.Ua;const q=!S;S=new Vn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||$t(S,"https"),Yr(S),q?pa(S.toString(),_):fl(S.toString(),_)}else kt(2);u.I=0,u.l&&u.l.pa(b),au(u),Fs(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function au(u){if(u.I=0,u.ja=[],u.l){const b=ol(u.h);(b.length!=0||u.i.length!=0)&&(U(u.ja,b),U(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function iu(u,b,_){var S=_ instanceof Vn?Vt(_):new Vn(_);if(S.g!="")b&&(S.g=b+"."+S.g),Hi(S,S.u);else{var q=d.location;S=q.protocol,b=b?b+"."+q.hostname:q.hostname,q=+q.port;const Y=new Vn(null);S&&$t(Y,S),b&&(Y.g=b),q&&Hi(Y,q),_&&(Y.h=_),S=Y}return _=u.G,b=u.wa,_&&b&&ot(S,_,b),ot(S,"VER",u.ka),es(u,S),S}function ru(u,b,_){if(b&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=u.Aa&&!u.ma?new ut(new za({ab:_})):new ut(u.ma),b.Fa(u.L),b}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}i=su.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Xi(){}Xi.prototype.g=function(u,b){return new yn(u,b)};function yn(u,b){be.call(this),this.g=new Yi(b),this.l=u,this.h=b&&b.messageUrlParams||null,u=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(u?u["X-WebChannel-Content-Type"]=b.messageContentType:u={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(u?u["X-WebChannel-Client-Profile"]=b.sa:u={"X-WebChannel-Client-Profile":b.sa}),this.g.U=u,(u=b&&b.Qb)&&!w(u)&&(this.g.u=u),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!w(b)&&(this.g.G=b,u=this.h,u!==null&&b in u&&(u=this.h,b in u&&delete u[b])),this.j=new fi(this)}E(yn,be),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){ml(this.g)},yn.prototype.o=function(u){var b=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=dn(u),u=_);b.i.push(new Pt(b.Ya++,u)),b.I==3&&Ha(b)},yn.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,yn.Z.N.call(this)};function ou(u){en.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var b=u.__sm__;if(b){e:{for(const _ in b){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,b=b!==null&&u in b?b[u]:void 0),this.data=b}else this.data=u}E(ou,en);function lu(){Yn.call(this),this.status=1}E(lu,Yn);function fi(u){this.g=u}E(fi,su),fi.prototype.ra=function(){Je(this.g,"a")},fi.prototype.qa=function(u){Je(this.g,new ou(u))},fi.prototype.pa=function(u){Je(this.g,new lu)},fi.prototype.oa=function(){Je(this.g,"b")},Xi.prototype.createWebChannel=Xi.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,EE=function(){return new Xi},xE=function(){return Ps()},_E=Nt,sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Kr.NO_ERROR=0,Kr.TIMEOUT=8,Kr.HTTP_ERROR=6,wd=Kr,tl.COMPLETE="complete",vE=tl,Uc.EventType=ua,ua.OPEN="a",ua.CLOSE="b",ua.ERROR="c",ua.MESSAGE="d",be.prototype.listen=be.prototype.J,sc=Uc,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,bE=ut}).apply(typeof pd<"u"?pd:typeof self<"u"?self:typeof window<"u"?window:{});class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let $o="12.8.0";function E2(i){$o=i}const ws=new jm("@firebase/firestore");function To(){return ws.logLevel}function ge(i,...e){if(ws.logLevel<=Ye.DEBUG){const n=e.map(Ym);ws.debug(`Firestore (${$o}): ${i}`,...n)}}function Vi(i,...e){if(ws.logLevel<=Ye.ERROR){const n=e.map(Ym);ws.error(`Firestore (${$o}): ${i}`,...n)}}function Vo(i,...e){if(ws.logLevel<=Ye.WARN){const n=e.map(Ym);ws.warn(`Firestore (${$o}): ${i}`,...n)}}function Ym(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Oe(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,AE(i,r,n)}function AE(i,e,n){let r=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Vi(r),new Error(r)}function st(i,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,i||AE(e,o,r)}function Pe(i,e){return i}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Di{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class TE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class T2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class S2{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Di,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Di)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new TE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class w2{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class N2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new w2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Jv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const r=c=>{c.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ge("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Jv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Jv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function C2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}class $m{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=C2(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function $e(i,e){return i<e?-1:i>e?1:0}function om(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const o=i.charAt(r),c=e.charAt(r);if(o!==c)return Hp(o)===Hp(c)?$e(o,c):Hp(o)?1:-1}return $e(i.length,e.length)}const I2=55296,O2=57343;function Hp(i){const e=i.charCodeAt(0);return e>=I2&&e<=O2}function Lo(i,e,n){return i.length===e.length&&i.every(((r,o)=>n(r,e[o])))}const Wv="__name__";class Xa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=Xa.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return $e(e.length,n.length)}static compareSegments(e,n){const r=Xa.isNumericId(e),o=Xa.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Xa.extractNumericId(e).compare(Xa.extractNumericId(n)):om(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nr.fromString(e.substring(4,e.length-2))}}class gt extends Xa{construct(e,n,r){return new gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new gt(n)}static emptyPath(){return new gt([])}}const D2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Xa{construct(e,n,r){return new ln(e,n,r)}static isValidIdentifier(e){return D2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wv}static keyField(){return new ln([Wv])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new pe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new pe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(r+=m,o++):(c(),o++)}if(c(),d)throw new pe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(gt.fromString(e))}static fromName(e){return new Te(gt.fromString(e).popFirst(5))}static empty(){return new Te(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new gt(e.slice()))}}function SE(i,e,n){if(!n)throw new pe(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function M2(i,e,n,r){if(e===!0&&r===!0)throw new pe(ne.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Zv(i){if(!Te.isDocumentKey(i))throw new pe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function e_(i){if(Te.isDocumentKey(i))throw new pe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function wE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function cf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Oe(12329,{type:typeof i})}function kn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new pe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cf(i);throw new pe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Ft(i,e){const n={typeString:i};return e&&(n.value=e),n}function kc(i,e){if(!wE(i))throw new pe(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const d=i[r];if(o&&typeof d!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new pe(ne.INVALID_ARGUMENT,n);return!0}const t_=-62135596800,n_=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*n_);return new vt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<t_)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n_}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kc(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-t_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:Ft("string",vt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new vt(0,0))}static max(){return new Me(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _c=-1;function k2(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Me.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new Ir(o,Te.empty(),e)}function j2(i){return new Ir(i.readTime,i.key,_c)}class Ir{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ir(Me.min(),Te.empty(),_c)}static max(){return new Ir(Me.max(),Te.empty(),_c)}}function P2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(i.documentKey,e.documentKey),n!==0?n:$e(i.largestBatchId,e.largestBatchId))}const V2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Xo(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==V2)throw i;ge("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,r)=>{n(e)}))}static reject(e){return new ie(((n,r)=>{r(e)}))}static waitFor(e){return new ie(((n,r)=>{let o=0,c=0,d=!1;e.forEach((m=>{++o,m.next((()=>{++c,d&&c===o&&n()}),(g=>r(g)))})),d=!0,c===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next((o=>o?ie.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new ie(((r,o)=>{const c=e.length,d=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((x=>{d[y]=x,++m,m===c&&r(d)}),(x=>o(x)))}}))}static doWhile(e,n){return new ie(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function z2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jo(i){return i.name==="IndexedDbTransactionError"}class uf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uf.ce=-1;const Xm=-1;function df(i){return i==null}function Bd(i){return i===0&&1/i==-1/0}function U2(i){return typeof i=="number"&&Number.isInteger(i)&&!Bd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const NE="";function B2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=a_(e)),e=H2(i.get(n),e);return a_(e)}function H2(i,e){let n=e;const r=i.length;for(let o=0;o<r;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case NE:n+="";break;default:n+=c}}return n}function a_(i){return i+NE+""}function i_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Lr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function RE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class At{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new md(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new md(this.root,e,this.comparator,!1)}getReverseIterator(){return new md(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new md(this.root,e,this.comparator,!0)}}class md{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??on.RED,this.left=o??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new on(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new r_(this.data.getIterator())}getIteratorFrom(e){return new r_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class r_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Kn([])}unionWith(e){let n=new Kt(ln.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new CE("Invalid base64 string: "+c):c}})(e);return new cn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const q2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(i){if(st(!!i,39018),typeof i=="string"){let e=0;const n=q2.exec(i);if(st(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(i.seconds),nanos:Ot(i.nanos)}}function Ot(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Dr(i){return typeof i=="string"?cn.fromBase64String(i):cn.fromUint8Array(i)}const IE="server_timestamp",OE="__type__",DE="__previous_value__",ME="__local_write_time__";function Jm(i){return(i?.mapValue?.fields||{})[OE]?.stringValue===IE}function ff(i){const e=i.mapValue.fields[DE];return Jm(e)?ff(e):e}function xc(i){const e=Or(i.mapValue.fields[ME].timestampValue);return new vt(e.seconds,e.nanos)}class F2{constructor(e,n,r,o,c,d,m,g,y,x,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x,this.apiKey=E}}const Hd="(default)";class Ec{constructor(e,n){this.projectId=e,this.database=n||Hd}static empty(){return new Ec("","")}get isDefaultDatabase(){return this.database===Hd}isEqual(e){return e instanceof Ec&&e.projectId===this.projectId&&e.database===this.database}}function G2(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new pe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(i.options.projectId,e)}const kE="__type__",K2="__max__",gd={mapValue:{}},jE="__vector__",qd="value";function Mr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Jm(i)?4:Y2(i)?9007199254740991:Q2(i)?10:11:Oe(28295,{value:i})}function ai(i,e){if(i===e)return!0;const n=Mr(i);if(n!==Mr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return xc(i).isEqual(xc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Or(o.timestampValue),m=Or(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return Dr(o.bytesValue).isEqual(Dr(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ot(o.geoPointValue.latitude)===Ot(c.geoPointValue.latitude)&&Ot(o.geoPointValue.longitude)===Ot(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ot(o.integerValue)===Ot(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ot(o.doubleValue),m=Ot(c.doubleValue);return d===m?Bd(d)===Bd(m):isNaN(d)&&isNaN(m)}return!1})(i,e);case 9:return Lo(i.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(i_(d)!==i_(m))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(m[g]===void 0||!ai(d[g],m[g])))return!1;return!0})(i,e);default:return Oe(52216,{left:i})}}function Ac(i,e){return(i.values||[]).find((n=>ai(n,e)))!==void 0}function zo(i,e){if(i===e)return 0;const n=Mr(i),r=Mr(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(i.booleanValue,e.booleanValue);case 2:return(function(c,d){const m=Ot(c.integerValue||c.doubleValue),g=Ot(d.integerValue||d.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return s_(i.timestampValue,e.timestampValue);case 4:return s_(xc(i),xc(e));case 5:return om(i.stringValue,e.stringValue);case 6:return(function(c,d){const m=Dr(c),g=Dr(d);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(c,d){const m=c.split("/"),g=d.split("/");for(let y=0;y<m.length&&y<g.length;y++){const x=$e(m[y],g[y]);if(x!==0)return x}return $e(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,d){const m=$e(Ot(c.latitude),Ot(d.latitude));return m!==0?m:$e(Ot(c.longitude),Ot(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return o_(i.arrayValue,e.arrayValue);case 10:return(function(c,d){const m=c.fields||{},g=d.fields||{},y=m[qd]?.arrayValue,x=g[qd]?.arrayValue,E=$e(y?.values?.length||0,x?.values?.length||0);return E!==0?E:o_(y,x)})(i.mapValue,e.mapValue);case 11:return(function(c,d){if(c===gd.mapValue&&d===gd.mapValue)return 0;if(c===gd.mapValue)return 1;if(d===gd.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=d.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let E=0;E<g.length&&E<x.length;++E){const N=om(g[E],x[E]);if(N!==0)return N;const j=zo(m[g[E]],y[x[E]]);if(j!==0)return j}return $e(g.length,x.length)})(i.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function s_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return $e(i,e);const n=Or(i),r=Or(e),o=$e(n.seconds,r.seconds);return o!==0?o:$e(n.nanos,r.nanos)}function o_(i,e){const n=i.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=zo(n[o],r[o]);if(c)return c}return $e(n.length,r.length)}function Uo(i){return lm(i)}function lm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=Or(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Dr(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Te.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=lm(c);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${lm(n.fields[d])}`;return o+"}"})(i.mapValue):Oe(61005,{value:i})}function Nd(i){switch(Mr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ff(i);return e?16+Nd(e):16;case 5:return 2*i.stringValue.length;case 6:return Dr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Nd(c)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return Lr(r.fields,((c,d)=>{o+=c.length+Nd(d)})),o})(i.mapValue);default:throw Oe(13486,{value:i})}}function l_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function cm(i){return!!i&&"integerValue"in i}function Wm(i){return!!i&&"arrayValue"in i}function c_(i){return!!i&&"nullValue"in i}function u_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Rd(i){return!!i&&"mapValue"in i}function Q2(i){return(i?.mapValue?.fields||{})[kE]?.stringValue===jE}function fc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Lr(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=fc(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fc(i.arrayValue.values[n]);return e}return{...i}}function Y2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===K2}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(n)}setAll(e){let n=ln.emptyPath(),r={},o=[];e.forEach(((d,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}d?r[m.lastSegment()]=fc(d):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());Rd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Rd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Lr(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new In(fc(this.value))}}function PE(i){const e=[];return Lr(i.fields,((n,r)=>{const o=new ln([n]);if(Rd(r)){const c=PE(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new Kn(e)}class mn{constructor(e,n,r,o,c,d,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new mn(e,0,Me.min(),Me.min(),Me.min(),In.empty(),0)}static newFoundDocument(e,n,r,o){return new mn(e,1,n,Me.min(),r,o,0)}static newNoDocument(e,n){return new mn(e,2,n,Me.min(),Me.min(),In.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,Me.min(),Me.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fd{constructor(e,n){this.position=e,this.inclusive=n}}function d_(i,e,n){let r=0;for(let o=0;o<i.position.length;o++){const c=e[o],d=i.position[o];if(c.field.isKeyField()?r=Te.comparator(Te.fromName(d.referenceValue),n.key):r=zo(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function f_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ai(i.position[n],e.position[n]))return!1;return!0}class Tc{constructor(e,n="asc"){this.field=e,this.dir=n}}function $2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class VE{}class qt extends VE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new J2(e,n,r):n==="array-contains"?new eI(e,r):n==="in"?new tI(e,r):n==="not-in"?new nI(e,r):n==="array-contains-any"?new aI(e,r):new qt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new W2(e,r):new Z2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zo(n,this.value)):n!==null&&Mr(this.value)===Mr(n)&&this.matchesComparison(zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Na extends VE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Na(e,n)}matches(e){return LE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LE(i){return i.op==="and"}function zE(i){return X2(i)&&LE(i)}function X2(i){for(const e of i.filters)if(e instanceof Na)return!1;return!0}function um(i){if(i instanceof qt)return i.field.canonicalString()+i.op.toString()+Uo(i.value);if(zE(i))return i.filters.map((e=>um(e))).join(",");{const e=i.filters.map((n=>um(n))).join(",");return`${i.op}(${e})`}}function UE(i,e){return i instanceof qt?(function(r,o){return o instanceof qt&&r.op===o.op&&r.field.isEqual(o.field)&&ai(r.value,o.value)})(i,e):i instanceof Na?(function(r,o){return o instanceof Na&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,m)=>c&&UE(d,o.filters[m])),!0):!1})(i,e):void Oe(19439)}function BE(i){return i instanceof qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Uo(n.value)}`})(i):i instanceof Na?(function(n){return n.op.toString()+" {"+n.getFilters().map(BE).join(" ,")+"}"})(i):"Filter"}class J2 extends qt{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class W2 extends qt{constructor(e,n){super(e,"in",n),this.keys=HE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Z2 extends qt{constructor(e,n){super(e,"not-in",n),this.keys=HE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function HE(i,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class eI extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wm(n)&&Ac(n.arrayValue,this.value)}}class tI extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ac(this.value.arrayValue,n)}}class nI extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ac(this.value.arrayValue,n)}}class aI extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ac(this.value.arrayValue,r)))}}class iI{constructor(e,n=null,r=[],o=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.Te=null}}function h_(i,e=null,n=[],r=[],o=null,c=null,d=null){return new iI(i,e,n,r,o,c,d)}function Zm(i){const e=Pe(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>um(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),df(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Uo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Uo(r))).join(",")),e.Te=n}return e.Te}function eg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!$2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!UE(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!f_(i.startAt,e.startAt)&&f_(i.endAt,e.endAt)}function dm(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Wo{constructor(e,n=null,r=[],o=[],c=null,d="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function rI(i,e,n,r,o,c,d,m){return new Wo(i,e,n,r,o,c,d,m)}function hf(i){return new Wo(i)}function p_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function sI(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function qE(i){return i.collectionGroup!==null}function hc(i){const e=Pe(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Kt(ln.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Tc(c,r))})),n.has(ln.keyField().canonicalString())||e.Ie.push(new Tc(ln.keyField(),r))}return e.Ie}function ei(i){const e=Pe(i);return e.Ee||(e.Ee=oI(e,hc(i))),e.Ee}function oI(i,e){if(i.limitType==="F")return h_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Tc(o.field,c)}));const n=i.endAt?new Fd(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Fd(i.startAt.position,i.startAt.inclusive):null;return h_(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function fm(i,e){const n=i.filters.concat([e]);return new Wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function lI(i,e){const n=i.explicitOrderBy.concat([e]);return new Wo(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function hm(i,e,n){return new Wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function pf(i,e){return eg(ei(i),ei(e))&&i.limitType===e.limitType}function FE(i){return`${Zm(ei(i))}|lt:${i.limitType}`}function So(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>BE(o))).join(", ")}]`),df(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Uo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Uo(o))).join(",")),`Target(${r})`})(ei(i))}; limitType=${i.limitType})`}function mf(i,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Te.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(i,e)&&(function(r,o){for(const c of hc(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(d,m,g){const y=d_(d,m,g);return d.inclusive?y<=0:y<0})(r.startAt,hc(r),o)||r.endAt&&!(function(d,m,g){const y=d_(d,m,g);return d.inclusive?y>=0:y>0})(r.endAt,hc(r),o))})(i,e)}function cI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function GE(i){return(e,n)=>{let r=!1;for(const o of hc(i)){const c=uI(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function uI(i,e,n){const r=i.field.isKeyField()?Te.comparator(e.key,n.key):(function(c,d,m){const g=d.data.field(c),y=m.data.field(c);return g!==null&&y!==null?zo(g,y):Oe(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:i.dir})}}class Ms{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Lr(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return RE(this.inner)}size(){return this.innerSize}}const dI=new At(Te.comparator);function Li(){return dI}const KE=new At(Te.comparator);function oc(...i){let e=KE;for(const n of i)e=e.insert(n.key,n);return e}function QE(i){let e=KE;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function vs(){return pc()}function YE(){return pc()}function pc(){return new Ms((i=>i.toString()),((i,e)=>i.isEqual(e)))}const fI=new At(Te.comparator),hI=new Kt(Te.comparator);function Xe(...i){let e=hI;for(const n of i)e=e.add(n);return e}const pI=new Kt($e);function mI(){return pI}function tg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bd(e)?"-0":e}}function $E(i){return{integerValue:""+i}}function gI(i,e){return U2(e)?$E(e):tg(i,e)}class gf{constructor(){this._=void 0}}function yI(i,e,n){return i instanceof Sc?(function(o,c){const d={fields:{[OE]:{stringValue:IE},[ME]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Jm(c)&&(c=ff(c)),c&&(d.fields[DE]=c),{mapValue:d}})(n,e):i instanceof Bo?JE(i,e):i instanceof Ho?WE(i,e):(function(o,c){const d=XE(o,c),m=m_(d)+m_(o.Ae);return cm(d)&&cm(o.Ae)?$E(m):tg(o.serializer,m)})(i,e)}function bI(i,e,n){return i instanceof Bo?JE(i,e):i instanceof Ho?WE(i,e):n}function XE(i,e){return i instanceof Gd?(function(r){return cm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Sc extends gf{}class Bo extends gf{constructor(e){super(),this.elements=e}}function JE(i,e){const n=ZE(e);for(const r of i.elements)n.some((o=>ai(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Ho extends gf{constructor(e){super(),this.elements=e}}function WE(i,e){let n=ZE(e);for(const r of i.elements)n=n.filter((o=>!ai(o,r)));return{arrayValue:{values:n}}}class Gd extends gf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function m_(i){return Ot(i.integerValue||i.doubleValue)}function ZE(i){return Wm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class ng{constructor(e,n){this.field=e,this.transform=n}}function vI(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof Bo&&o instanceof Bo||r instanceof Ho&&o instanceof Ho?Lo(r.elements,o.elements,ai):r instanceof Gd&&o instanceof Gd?ai(r.Ae,o.Ae):r instanceof Sc&&o instanceof Sc})(i.transform,e.transform)}class _I{constructor(e,n){this.version=e,this.transformResults=n}}class la{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new la}static exists(e){return new la(void 0,e)}static updateTime(e){return new la(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cd(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class yf{}function eA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new ag(i.key,la.none()):new jc(i.key,i.data,la.none());{const n=i.data,r=In.empty();let o=new Kt(ln.comparator);for(let c of e.fields)if(!o.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new zr(i.key,r,new Kn(o.toArray()),la.none())}}function xI(i,e,n){i instanceof jc?(function(o,c,d){const m=o.value.clone(),g=y_(o.fieldTransforms,c,d.transformResults);m.setAll(g),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(i,e,n):i instanceof zr?(function(o,c,d){if(!Cd(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=y_(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(tA(o)),g.setAll(m),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(i,e,n):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function mc(i,e,n,r){return i instanceof jc?(function(c,d,m,g){if(!Cd(c.precondition,d))return m;const y=c.value.clone(),x=b_(c.fieldTransforms,g,d);return y.setAll(x),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(i,e,n,r):i instanceof zr?(function(c,d,m,g){if(!Cd(c.precondition,d))return m;const y=b_(c.fieldTransforms,g,d),x=d.data;return x.setAll(tA(c)),x.setAll(y),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(i,e,n,r):(function(c,d,m){return Cd(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m})(i,e,n)}function EI(i,e){let n=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),c=XE(r.transform,o||null);c!=null&&(n===null&&(n=In.empty()),n.set(r.field,c))}return n||null}function g_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Lo(r,o,((c,d)=>vI(c,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class jc extends yf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zr extends yf{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function tA(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function y_(i,e,n){const r=new Map;st(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const c=i[o],d=c.transform,m=e.data.field(c.field);r.set(c.field,bI(d,m,n[o]))}return r}function b_(i,e,n){const r=new Map;for(const o of i){const c=o.transform,d=n.data.field(o.field);r.set(o.field,yI(c,d,e))}return r}class ag extends yf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AI extends yf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TI{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&xI(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=YE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=n.has(o.key)?null:m;const g=eA(d,m);g!==null&&r.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Me.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,((n,r)=>g_(n,r)))&&Lo(this.baseMutations,e.baseMutations,((n,r)=>g_(n,r)))}}class ig{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){st(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return fI})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new ig(e,n,r,o)}}class SI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class wI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ht,Ze;function NI(i){switch(i){case ne.OK:return Oe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Oe(15467,{code:i})}}function nA(i){if(i===void 0)return Vi("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Ht.OK:return ne.OK;case Ht.CANCELLED:return ne.CANCELLED;case Ht.UNKNOWN:return ne.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return ne.INTERNAL;case Ht.UNAVAILABLE:return ne.UNAVAILABLE;case Ht.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ht.NOT_FOUND:return ne.NOT_FOUND;case Ht.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ht.ABORTED:return ne.ABORTED;case Ht.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ht.DATA_LOSS:return ne.DATA_LOSS;default:return Oe(39323,{code:i})}}(Ze=Ht||(Ht={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";function RI(){return new TextEncoder}const CI=new Nr([4294967295,4294967295],0);function v_(i){const e=RI().encode(i),n=new yE;return n.update(e),new Uint8Array(n.digest())}function __(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Nr([n,r],0),new Nr([o,c],0)]}class rg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lc(`Invalid padding: ${n}`);if(r<0)throw new lc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new lc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Nr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(Nr.fromNumber(r)));return o.compare(CI)===1&&(o=new Nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=v_(e),[r,o]=__(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new rg(c,o,n);return r.forEach((m=>d.insert(m))),d}insert(e){if(this.ge===0)return;const n=v_(e),[r,o]=__(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.be(d)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bf{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Pc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bf(Me.min(),o,new At($e),Li(),Xe())}}class Pc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pc(r,n,Xe(),Xe(),Xe())}}class Id{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class aA{constructor(e,n){this.targetId=e,this.Ce=n}}class iA{constructor(e,n,r=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class x_{constructor(){this.ve=0,this.Fe=E_(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),r=Xe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Oe(38017,{changeType:c})}})),new Pc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=E_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class II{constructor(e){this.Ge=e,this.ze=new Map,this.je=Li(),this.He=yd(),this.Je=yd(),this.Ze=new At($e)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(dm(c))if(r===0){const d=new Te(c.path);this.et(n,d,mn.newNoDocument(d,Me.min()))}else st(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const m=this.ut(e),g=m?this.ct(m,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let d,m;try{d=Dr(r).toUint8Array()}catch(g){if(g instanceof CE)return Vo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new rg(d,o,c)}catch(g){return Vo(g instanceof lc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const m=this.ot(d);if(m){if(c.current&&dm(m.target)){const g=new Te(m.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,mn.newNoDocument(g,e))}c.Be&&(n.set(d,c.ke()),c.Ke())}}));let r=Xe();this.Je.forEach(((c,d)=>{let m=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new bf(e,n,this.Ze,this.je,r);return this.je=Li(),this.He=yd(),this.Je=yd(),this.Ze=new At($e),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new x_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Kt($e),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Kt($e),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new x_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function yd(){return new At(Te.comparator)}function E_(){return new At(Te.comparator)}const OI={asc:"ASCENDING",desc:"DESCENDING"},DI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MI={and:"AND",or:"OR"};class kI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pm(i,e){return i.useProto3Json||df(e)?e:{value:e}}function Kd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function jI(i,e){return Kd(i,e.toTimestamp())}function ti(i){return st(!!i,49232),Me.fromTimestamp((function(n){const r=Or(n);return new vt(r.seconds,r.nanos)})(i))}function sg(i,e){return mm(i,e).canonicalString()}function mm(i,e){const n=(function(o){return new gt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function sA(i){const e=gt.fromString(i);return st(dA(e),10190,{key:e.toString()}),e}function gm(i,e){return sg(i.databaseId,e.path)}function qp(i,e){const n=sA(e);if(n.get(1)!==i.databaseId.projectId)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Te(lA(n))}function oA(i,e){return sg(i.databaseId,e)}function PI(i){const e=sA(i);return e.length===4?gt.emptyPath():lA(e)}function ym(i){return new gt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function lA(i){return st(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function A_(i,e,n){return{name:gm(i,e),fields:n.value.mapValue.fields}}function VI(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Oe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,x){return y.useProto3Json?(st(x===void 0||typeof x=="string",58123),cn.fromBase64String(x||"")):(st(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),cn.fromUint8Array(x||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&(function(y){const x=y.code===void 0?ne.UNKNOWN:nA(y.code);return new pe(x,y.message||"")})(d);n=new iA(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=qp(i,r.document.name),c=ti(r.document.updateTime),d=r.document.createTime?ti(r.document.createTime):Me.min(),m=new In({mapValue:{fields:r.document.fields}}),g=mn.newFoundDocument(o,c,d,m),y=r.targetIds||[],x=r.removedTargetIds||[];n=new Id(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=qp(i,r.document),c=r.readTime?ti(r.readTime):Me.min(),d=mn.newNoDocument(o,c),m=r.removedTargetIds||[];n=new Id([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=qp(i,r.document),c=r.removedTargetIds||[];n=new Id([],c,o,null)}else{if(!("filter"in e))return Oe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new wI(o,c),m=r.targetId;n=new aA(m,d)}}return n}function LI(i,e){let n;if(e instanceof jc)n={update:A_(i,e.key,e.value)};else if(e instanceof ag)n={delete:gm(i,e.key)};else if(e instanceof zr)n={update:A_(i,e.key,e.data),updateMask:QI(e.fieldMask)};else{if(!(e instanceof AI))return Oe(16599,{dt:e.type});n={verify:gm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const m=d.transform;if(m instanceof Sc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Bo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ho)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Gd)return{fieldPath:d.field.canonicalString(),increment:m.Ae};throw Oe(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:jI(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Oe(27497)})(i,e.precondition)),n}function zI(i,e){return i&&i.length>0?(st(e!==void 0,14353),i.map((n=>(function(o,c){let d=o.updateTime?ti(o.updateTime):ti(c);return d.isEqual(Me.min())&&(d=ti(c)),new _I(d,o.transformResults||[])})(n,e)))):[]}function UI(i,e){return{documents:[oA(i,e.path)]}}function BI(i,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oA(i,o);const c=(function(y){if(y.length!==0)return uA(Na.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((x=>(function(N){return{field:wo(N.field),direction:FI(N.dir)}})(x)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=pm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function HI(i){let e=PI(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){st(r===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(E){const N=cA(E);return N instanceof Na&&zE(N)?N.getFilters():[N]})(n.where));let d=[];n.orderBy&&(d=(function(E){return E.map((N=>(function(U){return new Tc(No(U.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(N)))})(n.orderBy));let m=null;n.limit&&(m=(function(E){let N;return N=typeof E=="object"?E.value:E,df(N)?null:N})(n.limit));let g=null;n.startAt&&(g=(function(E){const N=!!E.before,j=E.values||[];return new Fd(j,N)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const N=!E.before,j=E.values||[];return new Fd(j,N)})(n.endAt)),rI(e,o,d,c,m,"F",g,y)}function qI(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cA(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=No(n.unaryFilter.field);return qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=No(n.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=No(n.unaryFilter.field);return qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=No(n.unaryFilter.field);return qt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(i):i.fieldFilter!==void 0?(function(n){return qt.create(No(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Na.create(n.compositeFilter.filters.map((r=>cA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(n.compositeFilter.op))})(i):Oe(30097,{filter:i})}function FI(i){return OI[i]}function GI(i){return DI[i]}function KI(i){return MI[i]}function wo(i){return{fieldPath:i.canonicalString()}}function No(i){return ln.fromServerFormat(i.fieldPath)}function uA(i){return i instanceof qt?(function(n){if(n.op==="=="){if(u_(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NAN"}};if(c_(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(u_(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NAN"}};if(c_(n.value))return{unaryFilter:{field:wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(n.field),op:GI(n.op),value:n.value}}})(i):i instanceof Na?(function(n){const r=n.getFilters().map((o=>uA(o)));return r.length===1?r[0]:{compositeFilter:{op:KI(n.op),filters:r}}})(i):Oe(54877,{filter:i})}function QI(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function dA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function fA(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class Tr{constructor(e,n,r,o,c=Me.min(),d=Me.min(),m=cn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class YI{constructor(e){this.yt=e}}function $I(i){const e=HI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?hm(e,e.limit,"L"):e}class XI{constructor(){this.Sn=new JI}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Ir.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class JI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Kt(gt.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Kt(gt.comparator)).toArray()}}const T_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hA=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(hA,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class qo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new qo(0)}static ar(){return new qo(-1)}}const S_="LruGarbageCollector",WI=1048576;function w_([i,e],[n,r]){const o=$e(i,n);return o===0?$e(e,r):o}class ZI{constructor(e){this.Pr=e,this.buffer=new Kt(w_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();w_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class eO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ge(S_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jo(n)?ge(S_,"Ignoring IndexedDB error during garbage collection: ",n):await Xo(n)}await this.Ar(3e5)}))}}class tO{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(uf.ce);const r=new ZI(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(T_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,c,d,m,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,d=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(r=E,m=Date.now(),this.removeTargets(e,r,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(y=Date.now(),To()<=Ye.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function nO(i,e){return new tO(i,e)}class aO{constructor(){this.changes=new Ms((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class iO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class rO{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&mc(r.mutation,o,Kn.empty(),vt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Xe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Xe()){const o=vs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let d=oc();return c.forEach(((m,g)=>{d=d.insert(m,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=vs();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Xe())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,m)=>{n.set(d,m)}))}))}computeViews(e,n,r,o){let c=Li();const d=pc(),m=(function(){return pc()})();return n.forEach(((g,y)=>{const x=r.get(y.key);o.has(y.key)&&(x===void 0||x.mutation instanceof zr)?c=c.insert(y.key,y):x!==void 0?(d.set(y.key,x.mutation.getFieldMask()),mc(x.mutation,y,x.mutation.getFieldMask(),vt.now())):d.set(y.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,x)=>d.set(y,x))),n.forEach(((y,x)=>m.set(y,new iO(x,d.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=pc();let o=new At(((d,m)=>d-m)),c=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const m of d)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let x=r.get(g)||Kn.empty();x=m.applyToLocalView(y,x),r.set(g,x);const E=(o.get(m.batchId)||Xe()).add(g);o=o.insert(m.batchId,E)}))})).next((()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,x=g.value,E=YE();x.forEach((N=>{if(!c.has(N)){const j=eA(n.get(N),r.get(N));j!==null&&E.set(N,j),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ie.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return sI(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):ie.resolve(vs());let m=_c,g=c;return d.next((y=>ie.forEach(y,((x,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),c.get(x)?ie.resolve():this.remoteDocumentCache.getEntry(e,x).next((N=>{g=g.insert(x,N)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Xe()))).next((x=>({batchId:m,changes:QE(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((r=>{let o=oc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let d=oc();return this.indexManager.getCollectionParents(e,c).next((m=>ie.forEach(m,(g=>{const y=(function(E,N){return new Wo(N,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((x=>{x.forEach(((E,N)=>{d=d.insert(E,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((d=>{c.forEach(((g,y)=>{const x=y.getKey();d.get(x)===null&&(d=d.insert(x,mn.newInvalidDocument(x)))}));let m=oc();return d.forEach(((g,y)=>{const x=c.get(g);x!==void 0&&mc(x.mutation,y,Kn.empty(),vt.now()),mf(n,y)&&(m=m.insert(g,y))})),m}))}}class sO{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ti(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:$I(o.bundledQuery),readTime:ti(o.readTime)}})(n)),ie.resolve()}}class oO{constructor(){this.overlays=new At(Te.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vs();return ie.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.bt(e,n,c)})),ie.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const o=vs(),c=n.length+1,d=new Te(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new At(((y,x)=>y-x));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let x=c.get(y.largestBatchId);x===null&&(x=vs(),c=c.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const m=vs(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,x)=>m.set(y,x))),!(m.size()>=o)););return ie.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new SI(n,r));let c=this.Lr.get(n);c===void 0&&(c=Xe(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}class lO{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class og{constructor(){this.kr=new Kt(Jt.Kr),this.qr=new Kt(Jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Jt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Jt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Te(new gt([])),r=new Jt(n,e),o=new Jt(n,e+1),c=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Te(new gt([])),r=new Jt(n,e),o=new Jt(n,e+1);let c=Xe();return this.qr.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Jt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Te.comparator(e.key,n.key)||$e(e.Hr,n.Hr)}static Ur(e,n){return $e(e.Hr,n.Hr)||Te.comparator(e.key,n.key)}}class cO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Kt(Jt.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new TI(c,n,r,o);this.mutationQueue.push(d);for(const m of o)this.Jr=this.Jr.add(new Jt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),c=o<0?0:o;return ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Xm:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jt(n,0),o=new Jt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(d=>{const m=this.Zr(d.Hr);c.push(m)})),ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt($e);return n.forEach((o=>{const c=new Jt(o,0),d=new Jt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(m=>{r=r.add(m.Hr)}))})),ie.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;Te.isDocumentKey(c)||(c=c.child(""));const d=new Jt(new Te(c),0);let m=new Kt($e);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),d),ie.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){st(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ie.forEach(n.mutations,(o=>{const c=new Jt(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Jt(n,0),o=this.Jr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class uO{constructor(e){this.ti=e,this.docs=(function(){return new At(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,d=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let r=Li();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():mn.newInvalidDocument(o))})),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=Li();const d=n.path,m=new Te(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||P2(j2(x),r)<=0||(o.has(x.key)||mf(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ie.resolve(c)}getAllFromCollectionGroup(e,n,r,o){Oe(9500)}ni(e,n){return ie.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new dO(this)}getSize(e){return ie.resolve(this.size)}}class dO extends aO{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class fO{constructor(e){this.persistence=e,this.ri=new Ms((n=>Zm(n)),eg),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.ii=0,this.si=new og,this.targetCount=0,this.oi=qo._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new qo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.ri.forEach(((d,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(c).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),ie.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}class pA{constructor(e,n){this._i={},this.overlays={},this.ai=new uf(0),this.ui=!1,this.ui=!0,this.ci=new lO,this.referenceDelegate=e(this),this.li=new fO(this),this.indexManager=new XI,this.remoteDocumentCache=(function(o){return new uO(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new YI(n),this.Pi=new sO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new cO(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){ge("MemoryPersistence","Starting transaction:",e);const o=new hO(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return ie.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class hO extends L2{constructor(e){super(),this.currentSequenceNumber=e}}class lg{constructor(e){this.persistence=e,this.Ri=new og,this.Ai=null}static Vi(e){return new lg(e)}get di(){if(this.Ai)return this.Ai;throw Oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(r=>{const o=Te.fromPath(r);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Me.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Qd{constructor(e,n){this.persistence=e,this.fi=new Ms((r=>B2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=nO(this,n)}static Vi(e,n){return new Qd(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?ie.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,n).next((m=>{m||(r++,c.removeEntry(d,Me.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nd(e.data.value)),n}wr(e,n,r){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ie.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cg{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=Xe(),o=Xe();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new cg(e,n.fromCache,r,o)}}class pO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mO{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Hw()?8:z2(gn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.gs(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,n,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new pO;return this.ys(e,n,d).next((m=>{if(c.result=m,this.As)return this.ws(e,n,d,m.size)}))})).next((()=>c.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(To()<=Ye.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",So(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(To()<=Ye.DEBUG&&ge("QueryEngine","Query:",So(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(To()<=Ye.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",So(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(n))):ie.resolve())}gs(e,n){if(p_(n))return ie.resolve(null);let r=ei(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=hm(n,null,"F"),r=ei(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Xe(...c);return this.fs.getDocuments(e,d).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,d,g.readTime)?this.gs(e,hm(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,r,o){return p_(n)||o.isEqual(Me.min())?ie.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(n,c);return this.Ss(n,d,r,o)?ie.resolve(null):(To()<=Ye.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),So(n)),this.Ds(e,d,n,k2(o,_c)).next((m=>m)))}))}bs(e,n){let r=new Kt(GE(e));return n.forEach(((o,c)=>{mf(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,r){return To()<=Ye.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",So(n)),this.fs.getDocumentsMatchingQuery(e,n,Ir.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ug="LocalStore",gO=3e8;class yO{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new At($e),this.Fs=new Ms((c=>Zm(c)),eg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rO(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function bO(i,e,n,r){return new yO(i,e,n,r)}async function mA(i,e){const n=Pe(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],m=[];let g=Xe();for(const y of o){d.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of c){m.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:m})))}))}))}function vO(i,e){const n=Pe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,x){const E=y.batch,N=E.keys();let j=ie.resolve();return N.forEach((U=>{j=j.next((()=>x.getEntry(g,U))).next((L=>{const B=y.docVersions.get(U);st(B!==null,48541),L.version.compareTo(B)<0&&(E.applyToRemoteDocument(L,y),L.isValidDocument()&&(L.setReadTime(y.commitVersion),x.addEntry(L)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(g,E)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=Xe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function gA(i){const e=Pe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function _O(i,e){const n=Pe(i),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((x,E)=>{const N=o.get(E);if(!N)return;m.push(n.li.removeMatchingKeys(c,x.removedDocuments,E).next((()=>n.li.addMatchingKeys(c,x.addedDocuments,E))));let j=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?j=j.withResumeToken(cn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):x.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(x.resumeToken,r)),o=o.insert(E,j),(function(L,B,ee){return L.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=gO?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(N,j,x)&&m.push(n.li.updateTargetData(c,j))}));let g=Li(),y=Xe();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),m.push(xO(c,d,e.documentUpdates).next((x=>{g=x.Bs,y=x.Ls}))),!r.isEqual(Me.min())){const x=n.li.getLastRemoteSnapshotVersion(c).next((E=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(x)}return ie.waitFor(m).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=o,c)))}function xO(i,e,n){let r=Xe(),o=Xe();return n.forEach((c=>r=r.add(c))),e.getEntries(i,r).next((c=>{let d=Li();return n.forEach(((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Me.min())?(e.removeEntry(m,g.readTime),d=d.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(m,g)):ge(ug,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:d,Ls:o}}))}function EO(i,e){const n=Pe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Xm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function AO(i,e){const n=Pe(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((c=>c?(o=c,ie.resolve(o)):n.li.allocateTargetId(r).next((d=>(o=new Tr(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function bm(i,e,n){const r=Pe(i),o=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Jo(d))throw d;ge(ug,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function N_(i,e,n){const r=Pe(i);let o=Me.min(),c=Xe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,x){const E=Pe(g),N=E.Fs.get(x);return N!==void 0?ie.resolve(E.vs.get(N)):E.li.getTargetData(y,x)})(r,d,ei(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,m.targetId).next((g=>{c=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,n?o:Me.min(),n?c:Xe()))).next((m=>(TO(r,cI(e),m),{documents:m,ks:c})))))}function TO(i,e,n){let r=i.Ms.get(e)||Me.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),i.Ms.set(e,r)}class R_{constructor(){this.activeTargetIds=mI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SO{constructor(){this.vo=new R_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new R_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wO{Mo(e){}shutdown(){}}const C_="ConnectivityMonitor";class I_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ge(C_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ge(C_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bd=null;function vm(){return bd===null?bd=(function(){return 268435456+Math.round(2147483648*Math.random())})():bd++,"0x"+bd.toString(16)}const Fp="RestConnection",NO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class RO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Hd?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,c){const d=vm(),m=this.Qo(e,n.toUriEncodedString());ge(Fp,`Sending RPC '${e}' ${d}:`,m,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:y}=new URL(m),x=Is(y);return this.zo(e,m,g,r,x).then((E=>(ge(Fp,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw Vo(Fp,`RPC '${e}' ${d} failed with error: `,E,"url: ",m,"request:",r),E}))}jo(e,n,r,o,c,d){return this.Wo(e,n,r,o,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const r=NO[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class CO{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const hn="WebChannelConnection",ac=(i,e,n)=>{i.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Do extends RO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Do.c_){const e=xE();ac(e,_E.STAT_EVENT,(n=>{n.stat===sm.PROXY?ge(hn,"STAT_EVENT: detected buffering proxy"):n.stat===sm.NOPROXY&&ge(hn,"STAT_EVENT: detected no buffering proxy")})),Do.c_=!0}}zo(e,n,r,o,c){const d=vm();return new Promise(((m,g)=>{const y=new bE;y.setWithCredentials(!0),y.listenOnce(vE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case wd.NO_ERROR:const E=y.getResponseJson();ge(hn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),m(E);break;case wd.TIMEOUT:ge(hn,`RPC '${e}' ${d} timed out`),g(new pe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case wd.HTTP_ERROR:const N=y.getStatus();if(ge(hn,`RPC '${e}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const U=j?.error;if(U&&U.status&&U.message){const L=(function(ee){const J=ee.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(J)>=0?J:ne.UNKNOWN})(U.status);g(new pe(L,U.message))}else g(new pe(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new pe(ne.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ge(hn,`RPC '${e}' ${d} completed.`)}}));const x=JSON.stringify(o);ge(hn,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",x,r,15)}))}T_(e,n,r){const o=vm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=c.join("");ge(hn,`Creating RPC '${e}' stream ${o}: ${y}`,m);const x=d.createWebChannel(y,m);this.I_(x);let E=!1,N=!1;const j=new CO({Ho:U=>{N?ge(hn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(E||(ge(hn,`Opening RPC '${e}' stream ${o} transport.`),x.open(),E=!0),ge(hn,`RPC '${e}' stream ${o} sending:`,U),x.send(U))},Jo:()=>x.close()});return ac(x,sc.EventType.OPEN,(()=>{N||(ge(hn,`RPC '${e}' stream ${o} transport opened.`),j.i_())})),ac(x,sc.EventType.CLOSE,(()=>{N||(N=!0,ge(hn,`RPC '${e}' stream ${o} transport closed`),j.o_(),this.E_(x))})),ac(x,sc.EventType.ERROR,(U=>{N||(N=!0,Vo(hn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),j.o_(new pe(ne.UNAVAILABLE,"The operation could not be completed")))})),ac(x,sc.EventType.MESSAGE,(U=>{if(!N){const L=U.data[0];st(!!L,16349);const B=L,ee=B?.error||B[0]?.error;if(ee){ge(hn,`RPC '${e}' stream ${o} received error:`,ee);const J=ee.status;let re=(function(he){const I=Ht[he];if(I!==void 0)return nA(I)})(J),oe=ee.message;re===void 0&&(re=ne.INTERNAL,oe="Unknown error status: "+J+" with message "+ee.message),N=!0,j.o_(new pe(re,oe)),x.close()}else ge(hn,`RPC '${e}' stream ${o} received:`,L),j.__(L)}})),Do.u_(),setTimeout((()=>{j.s_()}),0),j}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return EE()}}function IO(i){return new Do(i)}function Gp(){return typeof document<"u"?document:null}function vf(i){return new kI(i,!0)}Do.c_=!1;class yA{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const O_="PersistentStream";class bA{constructor(e,n,r,o,c,d,m,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Vi(n.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new pe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(O_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ge(O_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OO extends bA{constructor(e,n,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=VI(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Me.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Me.min():d.readTime?ti(d.readTime):Me.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=ym(this.serializer),n.addTarget=(function(c,d){let m;const g=d.target;if(m=dm(g)?{documents:UI(c,g)}:{query:BI(c,g).ft},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=rA(c,d.resumeToken);const y=pm(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(Me.min())>0){m.readTime=Kd(c,d.snapshotVersion.toTimestamp());const y=pm(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=qI(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=ym(this.serializer),n.removeTarget=e,this.K_(n)}}class DO extends bA{constructor(e,n,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=zI(e.writeResults,e.commitTime),r=ti(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ym(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>LI(this.serializer,r)))};this.K_(n)}}class MO{}class kO extends MO{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,mm(n,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(ne.UNKNOWN,c.toString())}))}jo(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,m])=>this.connection.jo(e,mm(n,r),o,d,m,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pe(ne.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function jO(i,e,n,r){return new kO(i,e,n,r)}class PO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vi(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ns="RemoteStore";class VO{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ks(this)&&(ge(Ns,"Restarting streams for network reachability change."),await(async function(g){const y=Pe(g);y.Ea.add(4),await Vc(y),y.Va.set("Unknown"),y.Ea.delete(4),await _f(y)})(this))}))})),this.Va=new PO(r,o)}}async function _f(i){if(ks(i))for(const e of i.Ra)await e(!0)}async function Vc(i){for(const e of i.Ra)await e(!1)}function vA(i,e){const n=Pe(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pg(n)?hg(n):Zo(n).O_()&&fg(n,e))}function dg(i,e){const n=Pe(i),r=Zo(n);n.Ia.delete(e),r.O_()&&_A(n,e),n.Ia.size===0&&(r.O_()?r.L_():ks(n)&&n.Va.set("Unknown"))}function fg(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zo(i).Z_(e)}function _A(i,e){i.da.$e(e),Zo(i).X_(e)}function hg(i){i.da=new II({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Zo(i).start(),i.Va.ua()}function pg(i){return ks(i)&&!Zo(i).x_()&&i.Ia.size>0}function ks(i){return Pe(i).Ea.size===0}function xA(i){i.da=void 0}async function LO(i){i.Va.set("Online")}async function zO(i){i.Ia.forEach(((e,n)=>{fg(i,e)}))}async function UO(i,e){xA(i),pg(i)?(i.Va.ha(e),hg(i)):i.Va.set("Unknown")}async function BO(i,e,n){if(i.Va.set("Online"),e instanceof iA&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(r){ge(Ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yd(i,r)}else if(e instanceof Id?i.da.Xe(e):e instanceof aA?i.da.st(e):i.da.tt(e),!n.isEqual(Me.min()))try{const r=await gA(i.localStore);n.compareTo(r)>=0&&await(function(c,d){const m=c.da.Tt(d);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(y);x&&c.Ia.set(y,x.withResumeToken(g.resumeToken,d))}})),m.targetMismatches.forEach(((g,y)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(cn.EMPTY_BYTE_STRING,x.snapshotVersion)),_A(c,g);const E=new Tr(x.target,g,y,x.sequenceNumber);fg(c,E)})),c.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(r){ge(Ns,"Failed to raise snapshot:",r),await Yd(i,r)}}async function Yd(i,e,n){if(!Jo(e))throw e;i.Ea.add(1),await Vc(i),i.Va.set("Offline"),n||(n=()=>gA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ge(Ns,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await _f(i)}))}function EA(i,e){return e().catch((n=>Yd(i,n,e)))}async function xf(i){const e=Pe(i),n=kr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xm;for(;HO(e);)try{const o=await EO(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,qO(e,o)}catch(o){await Yd(e,o)}AA(e)&&TA(e)}function HO(i){return ks(i)&&i.Ta.length<10}function qO(i,e){i.Ta.push(e);const n=kr(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function AA(i){return ks(i)&&!kr(i).x_()&&i.Ta.length>0}function TA(i){kr(i).start()}async function FO(i){kr(i).ra()}async function GO(i){const e=kr(i);for(const n of i.Ta)e.ea(n.mutations)}async function KO(i,e,n){const r=i.Ta.shift(),o=ig.from(r,e,n);await EA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await xf(i)}async function QO(i,e){e&&kr(i).Y_&&await(async function(r,o){if((function(d){return NI(d)&&d!==ne.ABORTED})(o.code)){const c=r.Ta.shift();kr(r).B_(),await EA(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await xf(r)}})(i,e),AA(i)&&TA(i)}async function D_(i,e){const n=Pe(i);n.asyncQueue.verifyOperationInProgress(),ge(Ns,"RemoteStore received new credentials");const r=ks(n);n.Ea.add(3),await Vc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _f(n)}async function YO(i,e){const n=Pe(i);e?(n.Ea.delete(2),await _f(n)):e||(n.Ea.add(2),await Vc(n),n.Va.set("Unknown"))}function Zo(i){return i.ma||(i.ma=(function(n,r,o){const c=Pe(n);return c.sa(),new OO(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:LO.bind(null,i),Yo:zO.bind(null,i),t_:UO.bind(null,i),J_:BO.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),pg(i)?hg(i):i.Va.set("Unknown")):(await i.ma.stop(),xA(i))}))),i.ma}function kr(i){return i.fa||(i.fa=(function(n,r,o){const c=Pe(n);return c.sa(),new DO(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:FO.bind(null,i),t_:QO.bind(null,i),ta:GO.bind(null,i),na:KO.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await xf(i)):(await i.fa.stop(),i.Ta.length>0&&(ge(Ns,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class mg{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const d=Date.now()+r,m=new mg(e,n,d,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(i,e){if(Vi("AsyncQueue",`${e}: ${i}`),Jo(i))return new pe(ne.UNAVAILABLE,`${e}: ${i}`);throw i}class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=oc(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class M_{constructor(){this.ga=new At(Te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Fo{constructor(e,n,r,o,c,d,m,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,c){const d=[];return n.forEach((m=>{d.push({type:0,doc:m})})),new Fo(e,n,Mo.emptySet(n),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class $O{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class XO{constructor(){this.queries=k_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Pe(n),c=o.queries;o.queries=k_(),c.forEach(((d,m)=>{for(const g of m.ba)g.onError(r)}))})(this,new pe(ne.ABORTED,"Firestore shutting down"))}}function k_(){return new Ms((i=>FE(i)),pf)}async function yg(i,e){const n=Pe(i);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new $O,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const m=gg(d,`Initialization of query '${So(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&vg(n)}async function bg(i,e){const n=Pe(i),r=e.query;let o=3;const c=n.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function JO(i,e){const n=Pe(i);let r=!1;for(const o of e){const c=o.query,d=n.queries.get(c);if(d){for(const m of d.ba)m.Fa(o)&&(r=!0);d.wa=o}}r&&vg(n)}function WO(i,e,n){const r=Pe(i),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(n);r.queries.delete(e)}function vg(i){i.Ca.forEach((e=>{e.next()}))}var _m,j_;(j_=_m||(_m={})).Ma="default",j_.Cache="cache";class _g{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_m.Cache}}class SA{constructor(e){this.key=e}}class wA{constructor(e){this.key=e}}class ZO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xe(),this.mutatedKeys=Xe(),this.eu=GE(e),this.tu=new Mo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new M_,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,E)=>{const N=o.get(x),j=mf(this.query,E)?E:null,U=!!N&&this.mutatedKeys.has(N.key),L=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let B=!1;N&&j?N.data.isEqual(j.data)?U!==L&&(r.track({type:3,doc:j}),B=!0):this.su(N,j)||(r.track({type:2,doc:j}),B=!0,(g&&this.eu(j,g)>0||y&&this.eu(j,y)<0)&&(m=!0)):!N&&j?(r.track({type:0,doc:j}),B=!0):N&&!j&&(r.track({type:1,doc:N}),B=!0,(g||y)&&(m=!0)),B&&(j?(d=d.add(j),c=L?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{tu:d,iu:r,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((x,E)=>(function(j,U){const L=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Vt:B})}};return L(j)-L(U)})(x.type,E.type)||this.eu(x.doc,E.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,d.length!==0||y?{snapshot:new Fo(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new M_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new wA(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new SA(r))})),n}cu(e){this.Za=e.ks,this.Ya=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const xg="SyncEngine";class eD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tD{constructor(e){this.key=e,this.hu=!1}}class nD{constructor(e,n,r,o,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ms((m=>FE(m)),pf),this.Iu=new Map,this.Eu=new Set,this.Ru=new At(Te.comparator),this.Au=new Map,this.Vu=new og,this.du={},this.mu=new Map,this.fu=qo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aD(i,e,n=!0){const r=DA(i);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await NA(r,e,n,!0),o}async function iD(i,e){const n=DA(i);await NA(n,e,!0,!1)}async function NA(i,e,n,r){const o=await AO(i.localStore,ei(e)),c=o.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let m;return r&&(m=await rD(i,e,c,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&vA(i.remoteStore,o),m}async function rD(i,e,n,r,o){i.pu=(E,N,j)=>(async function(L,B,ee,J){let re=B.view.ru(ee);re.Ss&&(re=await N_(L.localStore,B.query,!1).then((({documents:I})=>B.view.ru(I,re))));const oe=J&&J.targetChanges.get(B.targetId),le=J&&J.targetMismatches.get(B.targetId)!=null,he=B.view.applyChanges(re,L.isPrimaryClient,oe,le);return V_(L,B.targetId,he.au),he.snapshot})(i,E,N,j);const c=await N_(i.localStore,e,!0),d=new ZO(e,c.ks),m=d.ru(c.documents),g=Pc.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",o),y=d.applyChanges(m,i.isPrimaryClient,g);V_(i,n,y.au);const x=new eD(e,n,d);return i.Tu.set(e,x),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function sD(i,e,n){const r=Pe(i),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!pf(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await bm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&dg(r.remoteStore,o.targetId),xm(r,o.targetId)})).catch(Xo)):(xm(r,o.targetId),await bm(r.localStore,o.targetId,!0))}async function oD(i,e){const n=Pe(i),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dg(n.remoteStore,r.targetId))}async function lD(i,e,n){const r=mD(i);try{const o=await(function(d,m){const g=Pe(d),y=vt.now(),x=m.reduce(((j,U)=>j.add(U.key)),Xe());let E,N;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let U=Li(),L=Xe();return g.xs.getEntries(j,x).next((B=>{U=B,U.forEach(((ee,J)=>{J.isValidDocument()||(L=L.add(ee))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,U))).next((B=>{E=B;const ee=[];for(const J of m){const re=EI(J,E.get(J.key).overlayedDocument);re!=null&&ee.push(new zr(J.key,re,PE(re.value.mapValue),la.exists(!0)))}return g.mutationQueue.addMutationBatch(j,y,ee,m)})).next((B=>{N=B;const ee=B.applyToLocalDocumentSet(E,L);return g.documentOverlayCache.saveOverlays(j,B.batchId,ee)}))})).then((()=>({batchId:N.batchId,changes:QE(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,m,g){let y=d.du[d.currentUser.toKey()];y||(y=new At($e)),y=y.insert(m,g),d.du[d.currentUser.toKey()]=y})(r,o.batchId,n),await Lc(r,o.changes),await xf(r.remoteStore)}catch(o){const c=gg(o,"Failed to persist write");n.reject(c)}}async function RA(i,e){const n=Pe(i);try{const r=await _O(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=n.Au.get(c);d&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?st(d.hu,14607):o.removedDocuments.size>0&&(st(d.hu,42227),d.hu=!1))})),await Lc(n,r,e)}catch(r){await Xo(r)}}function P_(i,e,n){const r=Pe(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,d)=>{const m=d.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(d,m){const g=Pe(d);g.onlineState=m;let y=!1;g.queries.forEach(((x,E)=>{for(const N of E.ba)N.va(m)&&(y=!0)})),y&&vg(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cD(i,e,n){const r=Pe(i);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new At(Te.comparator);d=d.insert(c,mn.newNoDocument(c,Me.min()));const m=Xe().add(c),g=new bf(Me.min(),new Map,new At($e),d,m);await RA(r,g),r.Ru=r.Ru.remove(c),r.Au.delete(e),Eg(r)}else await bm(r.localStore,e,!1).then((()=>xm(r,e,n))).catch(Xo)}async function uD(i,e){const n=Pe(i),r=e.batch.batchId;try{const o=await vO(n.localStore,e);IA(n,r,null),CA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lc(n,o)}catch(o){await Xo(o)}}async function dD(i,e,n){const r=Pe(i);try{const o=await(function(d,m){const g=Pe(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return g.mutationQueue.lookupMutationBatch(y,m).next((E=>(st(E!==null,37113),x=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>g.localDocuments.getDocuments(y,x)))}))})(r.localStore,e);IA(r,e,n),CA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lc(r,o)}catch(o){await Xo(o)}}function CA(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function IA(i,e,n){const r=Pe(i);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function xm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((r=>{i.Vu.containsKey(r)||OA(i,r)}))}function OA(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(dg(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),Eg(i))}function V_(i,e,n){for(const r of n)r instanceof SA?(i.Vu.addReference(r.key,e),fD(i,r)):r instanceof wA?(ge(xg,"Document no longer in limbo: "+r.key),i.Vu.removeReference(r.key,e),i.Vu.containsKey(r.key)||OA(i,r.key)):Oe(19791,{wu:r})}function fD(i,e){const n=e.key,r=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(r)||(ge(xg,"New document in limbo: "+n),i.Eu.add(r),Eg(i))}function Eg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Te(gt.fromString(e)),r=i.fu.next();i.Au.set(r,new tD(n)),i.Ru=i.Ru.insert(n,r),vA(i.remoteStore,new Tr(ei(hf(n.path)),r,"TargetPurposeLimboResolution",uf.ce))}}async function Lc(i,e,n){const r=Pe(i),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{d.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const x=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){o.push(y);const x=cg.Es(g.targetId,y);c.push(x)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(g,y){const x=Pe(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ie.forEach(y,(N=>ie.forEach(N.Ts,(j=>x.persistence.referenceDelegate.addReference(E,N.targetId,j))).next((()=>ie.forEach(N.Is,(j=>x.persistence.referenceDelegate.removeReference(E,N.targetId,j)))))))))}catch(E){if(!Jo(E))throw E;ge(ug,"Failed to update sequence numbers: "+E)}for(const E of y){const N=E.targetId;if(!E.fromCache){const j=x.vs.get(N),U=j.snapshotVersion,L=j.withLastLimboFreeSnapshotVersion(U);x.vs=x.vs.insert(N,L)}}})(r.localStore,c))}async function hD(i,e){const n=Pe(i);if(!n.currentUser.isEqual(e)){ge(xg,"User change. New user:",e.toKey());const r=await mA(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new pe(ne.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lc(n,r.Ns)}}function pD(i,e){const n=Pe(i),r=n.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let o=Xe();const c=n.Iu.get(e);if(!c)return o;for(const d of c){const m=n.Tu.get(d);o=o.unionWith(m.view.nu)}return o}}function DA(i){const e=Pe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=RA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cD.bind(null,e),e.Pu.J_=JO.bind(null,e.eventManager),e.Pu.yu=WO.bind(null,e.eventManager),e}function mD(i){const e=Pe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dD.bind(null,e),e}class $d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return bO(this.persistence,new mO,e.initialUser,this.serializer)}Cu(e){return new pA(lg.Vi,this.serializer)}Du(e){return new SO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$d.provider={build:()=>new $d};class gD extends $d{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof Qd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new eO(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new pA((r=>Qd.Vi(r,n)),this.serializer)}}class Em{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>P_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hD.bind(null,this.syncEngine),await YO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new XO})()}createDatastore(e){const n=vf(e.databaseInfo.databaseId),r=IO(e.databaseInfo);return jO(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,d,m){return new VO(r,o,c,d,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>P_(this.syncEngine,n,0)),(function(){return I_.v()?new I_:new wO})())}createSyncEngine(e,n){return(function(o,c,d,m,g,y,x){const E=new nD(o,c,d,m,g,y);return x&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Pe(n);ge(Ns,"RemoteStore shutting down."),r.Ea.add(5),await Vc(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Em.provider={build:()=>new Em};class Ag{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const jr="FirestoreClient";class yD{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ge(jr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ge(jr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Kp(i,e){i.asyncQueue.verifyOperationInProgress(),ge(jr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await mA(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function L_(i,e){i.asyncQueue.verifyOperationInProgress();const n=await bD(i);ge(jr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>D_(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>D_(e.remoteStore,o))),i._onlineComponents=e}async function bD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ge(jr,"Using user provided OfflineComponentProvider");try{await Kp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Vo("Error using user provided cache. Falling back to memory cache: "+n),await Kp(i,new $d)}}else ge(jr,"Using default OfflineComponentProvider"),await Kp(i,new gD(void 0));return i._offlineComponents}async function MA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ge(jr,"Using user provided OnlineComponentProvider"),await L_(i,i._uninitializedComponentsProvider._online)):(ge(jr,"Using default OnlineComponentProvider"),await L_(i,new Em))),i._onlineComponents}function vD(i){return MA(i).then((e=>e.syncEngine))}async function Xd(i){const e=await MA(i),n=e.eventManager;return n.onListen=aD.bind(null,e.syncEngine),n.onUnlisten=sD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oD.bind(null,e.syncEngine),n}function _D(i,e,n,r){const o=new Ag(r),c=new _g(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>yg(await Xd(i),c))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>bg(await Xd(i),c)))}}function xD(i,e,n={}){const r=new Di;return i.asyncQueue.enqueueAndForget((async()=>(function(c,d,m,g,y){const x=new Ag({next:N=>{x.Nu(),d.enqueueAndForget((()=>bg(c,E)));const j=N.docs.has(m);!j&&N.fromCache?y.reject(new pe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&N.fromCache&&g&&g.source==="server"?y.reject(new pe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),E=new _g(hf(m.path),x,{includeMetadataChanges:!0,Ka:!0});return yg(c,E)})(await Xd(i),i.asyncQueue,e,n,r))),r.promise}function ED(i,e,n={}){const r=new Di;return i.asyncQueue.enqueueAndForget((async()=>(function(c,d,m,g,y){const x=new Ag({next:N=>{x.Nu(),d.enqueueAndForget((()=>bg(c,E))),N.fromCache&&g.source==="server"?y.reject(new pe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),E=new _g(m,x,{includeMetadataChanges:!0,Ka:!0});return yg(c,E)})(await Xd(i),i.asyncQueue,e,n,r))),r.promise}function AD(i,e){const n=new Di;return i.asyncQueue.enqueueAndForget((async()=>lD(await vD(i),e,n))),n.promise}function kA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const TD="ComponentProvider",z_=new Map;function SD(i,e,n,r,o){return new F2(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,kA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const jA="firestore.googleapis.com",U_=!0;class B_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jA,this.ssl=U_}else this.host=e.host,this.ssl=e.ssl??U_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WI)throw new pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ef{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new A2;switch(r.type){case"firstParty":return new N2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=z_.get(n);r&&(ge(TD,"Removing Datastore"),z_.delete(n),r.terminate())})(this),Promise.resolve()}}function PA(i,e,n,r={}){i=kn(i,Ef);const o=Is(e),c=i._getSettings(),d={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Mm(`https://${m}`),km("Firestore",!0)),c.host!==jA&&c.host!==m&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:r};if(!ki(g,d)&&(i._setSettings(g),r.mockUserToken)){let y,x;if(typeof r.mockUserToken=="string")y=r.mockUserToken,x=pn.MOCK_USER;else{y=Ix(r.mockUserToken,i._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new pe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new pn(E)}i._authCredentials=new T2(new TE(y,x))}}class Ur{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ur(this.firestore,e,this._query)}}class wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(kc(n,wt._jsonSchema))return new wt(e,r||null,new Te(gt.fromString(n.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Ft("string",wt._jsonSchemaVersion),referencePath:Ft("string")};class Rr extends Ur{constructor(e,n,r){super(e,n,hf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new Te(e))}withConverter(e){return new Rr(this.firestore,e,this._path)}}function Dt(i,e,...n){if(i=Mt(i),SE("collection","path",e),i instanceof Ef){const r=gt.fromString(e,...n);return e_(r),new Rr(i,null,r)}{if(!(i instanceof wt||i instanceof Rr))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(gt.fromString(e,...n));return e_(r),new Rr(i.firestore,null,r)}}function it(i,e,...n){if(i=Mt(i),arguments.length===1&&(e=$m.newId()),SE("doc","path",e),i instanceof Ef){const r=gt.fromString(e,...n);return Zv(r),new wt(i,null,new Te(r))}{if(!(i instanceof wt||i instanceof Rr))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(gt.fromString(e,...n));return Zv(r),new wt(i.firestore,i instanceof Rr?i.converter:null,new Te(r))}}const H_="AsyncQueue";class q_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yA(this,"async_queue_retry"),this._c=()=>{const r=Gp();r&&ge(H_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Gp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Di;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Jo(e))throw e;ge(H_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Vi("INTERNAL UNHANDLED ERROR: ",F_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=mg.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Oe(47125,{Pc:F_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function F_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class zi extends Ef{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new q_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new q_(e),this._firestoreClient=void 0,await e}}}function wD(i,e){const n=typeof i=="object"?i:Lm(),r=typeof i=="string"?i:Hd,o=af(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=Nx("firestore");c&&PA(o,...c)}return o}function Af(i){if(i._terminated)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||ND(i),i._firestoreClient}function ND(i){const e=i._freezeSettings(),n=SD(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new yD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}class oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(cn.fromBase64String(e))}catch(n){throw new pe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oa(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kc(e,oa._jsonSchema))return oa.fromBase64String(e.bytes)}}oa._jsonSchemaVersion="firestore/bytes/1.0",oa._jsonSchema={type:Ft("string",oa._jsonSchemaVersion),bytes:Ft("string")};class Tg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class el{constructor(e){this._methodName=e}}class ni{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ni._jsonSchemaVersion}}static fromJSON(e){if(kc(e,ni._jsonSchema))return new ni(e.latitude,e.longitude)}}ni._jsonSchemaVersion="firestore/geoPoint/1.0",ni._jsonSchema={type:Ft("string",ni._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class Ta{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ta._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kc(e,Ta._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ta(e.vectorValues);throw new pe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ta._jsonSchemaVersion="firestore/vectorValue/1.0",Ta._jsonSchema={type:Ft("string",Ta._jsonSchemaVersion),vectorValues:Ft("object")};const RD=/^__.*__$/;class CD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zr(e,this.data,this.fieldMask,n,this.fieldTransforms):new jc(e,this.data,n,this.fieldTransforms)}}class VA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{dataSource:i})}}class Tf{constructor(e,n,r,o,c,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Tf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Jd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(LA(this.dataSource)&&RD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class ID{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vf(e)}createContext(e,n,r,o=!1){return new Tf({dataSource:e,methodName:n,targetDoc:r,path:ln.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sf(i){const e=i._freezeSettings(),n=vf(i._databaseId);return new ID(i._databaseId,!!e.ignoreUndefinedProperties,n)}function zA(i,e,n,r,o,c={}){const d=i.createContext(c.merge||c.mergeFields?2:0,e,n,o);Rg("Data must be an object, but it was:",d,r);const m=BA(r,d);let g,y;if(c.merge)g=new Kn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const E of c.mergeFields){const N=Rs(e,E,n);if(!d.contains(N))throw new pe(ne.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);FA(x,N)||x.push(N)}g=new Kn(x),y=d.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=d.fieldTransforms;return new CD(new In(m),g,y)}class wf extends el{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wf}}function UA(i,e,n){return new Tf({dataSource:3,targetDoc:e.settings.targetDoc,methodName:i._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Sg extends el{_toFieldTransform(e){return new ng(e.path,new Sc)}isEqual(e){return e instanceof Sg}}class wg extends el{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=UA(this,e,!0),r=this.Ac.map((c=>js(c,n))),o=new Bo(r);return new ng(e.path,o)}isEqual(e){return e instanceof wg&&ki(this.Ac,e.Ac)}}class Ng extends el{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=UA(this,e,!0),r=this.Ac.map((c=>js(c,n))),o=new Ho(r);return new ng(e.path,o)}isEqual(e){return e instanceof Ng&&ki(this.Ac,e.Ac)}}function OD(i,e,n,r){const o=i.createContext(1,e,n);Rg("Data must be an object, but it was:",o,r);const c=[],d=In.empty();Lr(r,((g,y)=>{const x=qA(e,g,n);y=Mt(y);const E=o.childContextForFieldPath(x);if(y instanceof wf)c.push(x);else{const N=js(y,E);N!=null&&(c.push(x),d.set(x,N))}}));const m=new Kn(c);return new VA(d,m,o.fieldTransforms)}function DD(i,e,n,r,o,c){const d=i.createContext(1,e,n),m=[Rs(e,r,n)],g=[o];if(c.length%2!=0)throw new pe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)m.push(Rs(e,c[N])),g.push(c[N+1]);const y=[],x=In.empty();for(let N=m.length-1;N>=0;--N)if(!FA(y,m[N])){const j=m[N];let U=g[N];U=Mt(U);const L=d.childContextForFieldPath(j);if(U instanceof wf)y.push(j);else{const B=js(U,L);B!=null&&(y.push(j),x.set(j,B))}}const E=new Kn(y);return new VA(x,E,d.fieldTransforms)}function MD(i,e,n,r=!1){return js(n,i.createContext(r?4:3,e))}function js(i,e){if(HA(i=Mt(i)))return Rg("Unsupported field value:",e,i),BA(i,e);if(i instanceof el)return(function(r,o){if(!LA(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const m of r){let g=js(m,o.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(i,e)}return(function(r,o){if((r=Mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=vt.fromDate(r);return{timestampValue:Kd(o.serializer,c)}}if(r instanceof vt){const c=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kd(o.serializer,c)}}if(r instanceof ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oa)return{bytesValue:rA(o.serializer,r._byteString)};if(r instanceof wt){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:sg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ta)return(function(d,m){const g=d instanceof Ta?d.toArray():d;return{mapValue:{fields:{[kE]:{stringValue:jE},[qd]:{arrayValue:{values:g.map((x=>{if(typeof x!="number")throw m.createError("VectorValues must only contain numeric values.");return tg(m.serializer,x)}))}}}}}})(r,o);if(fA(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${cf(r)}`)})(i,e)}function BA(i,e){const n={};return RE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lr(i,((r,o)=>{const c=js(o,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function HA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof vt||i instanceof ni||i instanceof oa||i instanceof wt||i instanceof el||i instanceof Ta||fA(i))}function Rg(i,e,n){if(!HA(n)||!wE(n)){const r=cf(n);throw r==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+r)}}function Rs(i,e,n){if((e=Mt(e))instanceof Tg)return e._internalPath;if(typeof e=="string")return qA(i,e);throw Jd("Field path arguments must be of type string or ",i,!1,void 0,n)}const kD=new RegExp("[~\\*/\\[\\]]");function qA(i,e,n){if(e.search(kD)>=0)throw Jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Tg(...e.split("."))._internalPath}catch{throw Jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Jd(i,e,n,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${o}`),g+=")"),new pe(ne.INVALID_ARGUMENT,m+i+g)}function FA(i,e){return i.some((n=>n.isEqual(e)))}class jD{convertValue(e,n="none"){switch(Mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Lr(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[qd].arrayValue?.values?.map((r=>Ot(r.doubleValue)));return new Ta(n)}convertGeoPoint(e){return new ni(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ff(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xc(e));default:return null}}convertTimestamp(e){const n=Or(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gt.fromString(e);st(dA(r),9688,{name:e});const o=new Ec(r.get(1),r.get(3)),c=new Te(r.popFirst(5));return o.isEqual(n)||Vi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class Cg extends jD{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function On(){return new Sg("serverTimestamp")}function G_(...i){return new wg("arrayUnion",i)}function GA(...i){return new Ng("arrayRemove",i)}const K_="@firebase/firestore",Q_="4.10.0";function Y_(i){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class KA{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Rs("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PD extends KA{data(){return super.data()}}function QA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new pe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ig{}class YA extends Ig{}function Dn(i,e,...n){let r=[];e instanceof Ig&&r.push(e),r=r.concat(n),(function(c){const d=c.filter((g=>g instanceof Og)).length,m=c.filter((g=>g instanceof Nf)).length;if(d>1||d>0&&m>0)throw new pe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class Nf extends YA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nf(e,n,r)}_apply(e){const n=this._parse(e);return $A(e._query,n),new Ur(e.firestore,e.converter,fm(e._query,n))}_parse(e){const n=Sf(e.firestore);return(function(c,d,m,g,y,x,E){let N;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){X_(E,x);const U=[];for(const L of E)U.push($_(g,c,L));N={arrayValue:{values:U}}}else N=$_(g,c,E)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||X_(E,x),N=MD(m,d,E,x==="in"||x==="not-in");return qt.create(y,x,N)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sa(i,e,n){const r=e,o=Rs("where",i);return Nf._create(o,r,n)}class Og extends Ig{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Og(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Na.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let d=o;const m=c.getFlattenedFilters();for(const g of m)$A(d,g),d=fm(d,g)})(e._query,n),new Ur(e.firestore,e.converter,fm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dg extends YA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Dg(e,n)}_apply(e){const n=(function(o,c,d){if(o.startAt!==null)throw new pe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new pe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tc(c,d)})(e._query,this._field,this._direction);return new Ur(e.firestore,e.converter,lI(e._query,n))}}function ko(i,e="asc"){const n=e,r=Rs("orderBy",i);return Dg._create(r,n)}function $_(i,e,n){if(typeof(n=Mt(n))=="string"){if(n==="")throw new pe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qE(e)&&n.indexOf("/")!==-1)throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(gt.fromString(n));if(!Te.isDocumentKey(r))throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return l_(i,new Te(r))}if(n instanceof wt)return l_(i,n._key);throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cf(n)}.`)}function X_(i,e){if(!Array.isArray(i)||i.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $A(i,e){const n=(function(o,c){for(const d of o)for(const m of d.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function XA(i,e,n){let r;return r=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,r}class cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _s extends KA{constructor(e,n,r,o,c,d){super(e,n,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Rs("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_s._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_s._jsonSchemaVersion="firestore/documentSnapshot/1.0",_s._jsonSchema={type:Ft("string",_s._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Od extends _s{data(e={}){return super.data(e)}}class xs{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new cc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Od(this._firestore,this._userDataWriter,r.key,r,new cc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((m=>{const g=new Od(o._firestore,o._userDataWriter,m.doc.key,m.doc,new cc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new Od(o._firestore,o._userDataWriter,m.doc.key,m.doc,new cc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,x=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),x=d.indexOf(m.doc.key)),{type:VD(m.type),doc:g,oldIndex:y,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:i})}}xs._jsonSchemaVersion="firestore/querySnapshot/1.0",xs._jsonSchema={type:Ft("string",xs._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};function Dd(i){i=kn(i,wt);const e=kn(i.firestore,zi),n=Af(e);return xD(n,i._key).then((r=>JA(e,i,r)))}function Am(i){i=kn(i,Ur);const e=kn(i.firestore,zi),n=Af(e),r=new Cg(e);return QA(i._query),ED(n,i._query).then((o=>new xs(e,r,i,o)))}function Mg(i,e,n){i=kn(i,wt);const r=kn(i.firestore,zi),o=XA(i.converter,e,n),c=Sf(r);return Rf(r,[zA(c,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,la.none())])}function vn(i,e,n,...r){i=kn(i,wt);const o=kn(i.firestore,zi),c=Sf(o);let d;return d=typeof(e=Mt(e))=="string"||e instanceof Tg?DD(c,"updateDoc",i._key,e,n,r):OD(c,"updateDoc",i._key,e),Rf(o,[d.toMutation(i._key,la.exists(!0))])}function Es(i){return Rf(kn(i.firestore,zi),[new ag(i._key,la.none())])}function gc(i,e){const n=kn(i.firestore,zi),r=it(i),o=XA(i.converter,e),c=Sf(i.firestore);return Rf(n,[zA(c,"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,la.exists(!1))]).then((()=>r))}function Mn(i,...e){i=Mt(i);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Y_(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Y_(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,m;if(i instanceof wt)d=kn(i.firestore,zi),m=hf(i._key.path),c={next:y=>{e[r]&&e[r](JA(d,i,y))},error:e[r+1],complete:e[r+2]};else{const y=kn(i,Ur);d=kn(y.firestore,zi),m=y._query;const x=new Cg(d);c={next:E=>{e[r]&&e[r](new xs(d,x,y,E))},error:e[r+1],complete:e[r+2]},QA(i._query)}const g=Af(d);return _D(g,m,o,c)}function Rf(i,e){const n=Af(i);return AD(n,e)}function JA(i,e,n){const r=n.docs.get(e._key),o=new Cg(i);return new _s(i,o,e._key,r,new cc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){E2(Os),As(new Cr("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),m=new zi(new S2(r.getProvider("auth-internal")),new R2(d,r.getProvider("app-check-internal")),G2(d,o),d);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Ja(K_,Q_,e),Ja(K_,Q_,"esm2020")})();const WA="firebasestorage.googleapis.com",LD="storageBucket",zD=120*1e3,UD=600*1e3;class oi extends si{constructor(e,n,r=0){super(Qp(e),`Firebase Storage: ${n} (${Qp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,oi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ii;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ii||(ii={}));function Qp(i){return"storage/"+i}function BD(){const i="An unknown error occurred, please check the error payload for server response.";return new oi(ii.UNKNOWN,i)}function HD(){return new oi(ii.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qD(){return new oi(ii.CANCELED,"User canceled the upload/download.")}function FD(i){return new oi(ii.INVALID_URL,"Invalid URL '"+i+"'.")}function GD(i){return new oi(ii.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function J_(i){return new oi(ii.INVALID_ARGUMENT,i)}function ZA(){return new oi(ii.APP_DELETED,"The Firebase app was deleted.")}function KD(i){return new oi(ii.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Aa{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Aa.makeFromUrl(e,n)}catch{return new Aa(e,"")}if(r.path==="")return r;throw GD(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const d="(/(.*))?$",m=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function y(oe){oe.path_=decodeURIComponent(oe.path)}const x="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",j=new RegExp(`^https?://${E}/${x}/b/${o}/o${N}`,"i"),U={bucket:1,path:3},L=n===WA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,B="([^?#]*)",ee=new RegExp(`^https?://${L}/${o}/${B}`,"i"),re=[{regex:m,indices:g,postModify:c},{regex:j,indices:U,postModify:y},{regex:ee,indices:{bucket:1,path:2},postModify:y}];for(let oe=0;oe<re.length;oe++){const le=re[oe],he=le.regex.exec(e);if(he){const I=he[le.indices.bucket];let C=he[le.indices.path];C||(C=""),r=new Aa(I,C),le.postModify(r);break}}if(r==null)throw FD(e);return r}}class QD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function YD(i,e,n){let r=1,o=null,c=null,d=!1,m=0;function g(){return m===2}let y=!1;function x(...B){y||(y=!0,e.apply(null,B))}function E(B){o=setTimeout(()=>{o=null,i(j,g())},B)}function N(){c&&clearTimeout(c)}function j(B,...ee){if(y){N();return}if(B){N(),x.call(null,B,...ee);return}if(g()||d){N(),x.call(null,B,...ee);return}r<64&&(r*=2);let re;m===1?(m=2,re=0):re=(r+Math.random())*1e3,E(re)}let U=!1;function L(B){U||(U=!0,N(),!y&&(o!==null?(B||(m=2),clearTimeout(o),E(0)):B||(m=1)))}return E(0),c=setTimeout(()=>{d=!0,L(!0)},n),L}function $D(i){i(!1)}function XD(i){return i!==void 0}function W_(i,e,n,r){if(r<e)throw J_(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>n)throw J_(`Invalid value for '${i}'. Expected ${n} or less.`)}function JD(i){const e=encodeURIComponent;let n="?";for(const r in i)if(i.hasOwnProperty(r)){const o=e(r)+"="+e(i[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Wd;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Wd||(Wd={}));function WD(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,c=e.indexOf(i)!==-1;return n||o||c}class ZD{constructor(e,n,r,o,c,d,m,g,y,x,E,N=!0,j=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=x,this.connectionFactory_=E,this.retry=N,this.isUsingEmulator=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,L)=>{this.resolve_=U,this.reject_=L,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new vd(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=m=>{const g=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const m=c.getErrorCode()===Wd.NO_ERROR,g=c.getStatus();if(!m||WD(g,this.additionalRetryCodes_)&&this.retry){const x=c.getErrorCode()===Wd.ABORT;r(!1,new vd(!1,null,x));return}const y=this.successCodes_.indexOf(g)!==-1;r(!0,new vd(y,c))})},n=(r,o)=>{const c=this.resolve_,d=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());XD(g)?c(g):c()}catch(g){d(g)}else if(m!==null){const g=BD();g.serverResponse=m.getErrorText(),this.errorCallback_?d(this.errorCallback_(m,g)):d(g)}else if(o.canceled){const g=this.appDelete_?ZA():qD();d(g)}else{const g=HD();d(g)}};this.canceled_?n(!1,new vd(!1,null,!0)):this.backoffId_=YD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$D(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function eM(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function tM(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nM(i,e){e&&(i["X-Firebase-GMPID"]=e)}function aM(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function iM(i,e,n,r,o,c,d=!0,m=!1){const g=JD(i.urlParams),y=i.url+g,x=Object.assign({},i.headers);return nM(x,e),eM(x,n),tM(x,c),aM(x,r),new ZD(y,i.method,x,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,d,m)}function rM(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function sM(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}class Zd{constructor(e,n){this._service=e,n instanceof Aa?this._location=n:this._location=Aa.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zd(e,n)}get root(){const e=new Aa(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sM(this._location.path)}get storage(){return this._service}get parent(){const e=rM(this._location.path);if(e===null)return null;const n=new Aa(this._location.bucket,e);return new Zd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw KD(e)}}function Z_(i,e){const n=e?.[LD];return n==null?null:Aa.makeFromBucketSpec(n,i)}function oM(i,e,n,r={}){i.host=`${e}:${n}`;const o=Is(e);o&&(Mm(`https://${i.host}/b`),km("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:c}=r;c&&(i._overrideAuthToken=typeof c=="string"?c:Ix(c,i.app.options.projectId))}class lM{constructor(e,n,r,o,c,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=WA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zD,this._maxUploadRetryTime=UD,this._requests=new Set,o!=null?this._bucket=Aa.makeFromBucketSpec(o,this._host):this._bucket=Z_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Aa.makeFromBucketSpec(this._url,e):this._bucket=Z_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){W_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){W_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zd(this,e)}_makeRequest(e,n,r,o,c=!0){if(this._deleted)return new QD(ZA());{const d=iM(e,this._appId,r,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const ex="@firebase/storage",tx="0.14.0";const e1="storage";function cM(i=Lm(),e){i=Mt(i);const r=af(i,e1).getImmediate({identifier:e}),o=Nx("storage");return o&&t1(r,...o),r}function t1(i,e,n,r={}){oM(i,e,n,r)}function uM(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new lM(n,r,o,e,Os)}function dM(){As(new Cr(e1,uM,"PUBLIC").setMultipleInstances(!0)),Ja(ex,tx,""),Ja(ex,tx,"esm2020")}dM();const n1={apiKey:"AIzaSyB3p9kAAb0TJXvJMKzUS6pummdlkbzlt6I",authDomain:"fft12l.firebaseapp.com",projectId:"fft12l",storageBucket:"fft12l.firebasestorage.app",messagingSenderId:"459190857682",appId:"1:459190857682:web:d857f4bf1fa2e5ec11220b"},kg=Vm(n1),rt=gE(kg),we=wD(kg),fM=cM(kg);window.location.hostname==="localhost"&&(console.log(" MODO DEV: Conectando aos Emuladores do Firebase..."),qm(rt,"http://127.0.0.1:9099"),PA(we,"127.0.0.1",8080),t1(fM,"127.0.0.1",9199));const hM=(i,e)=>rE(rt,i,e),Cf="/FF-12Liberation/assets/chocobo-loading-CZsGc2ZM.gif",a1="/FF-12Liberation/assets/musica-tema-78rqvj_H.mp3",pM="/FF-12Liberation/assets/fundo-rpg-BXz1tR4K.jpg",Go=new Audio(a1);Go.loop=!0;function mM(){const i=Ui(),e=()=>{Go.play().then(()=>{console.log("ter musical sintonizado.")}).catch(n=>{console.log("Aguardando interao para liberar udio: ",n)}),i("/login")};return h.jsxs("div",{className:"landing-container",onClick:e,children:[h.jsxs("div",{className:"content",children:[h.jsx("h1",{className:"game-title",children:"FINAL FANTASY"}),h.jsx("h2",{className:"sub-title",children:"12 Libertao"}),h.jsx("div",{className:"press-start",children:"PRESS START"})]}),h.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .landing-container {
          height: 100vh;
          width: 100vw;
          display: flex;
          align-items: center;
          justify-content: center;
          /* Gradiente FF clssico sobre a imagem de fundo */
          background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), 
                      url(${pM}) no-repeat center center;
          background-size: cover; 
          cursor: pointer;
          position: fixed;
          top: 0;
          left: 0;
          z-index: 1000;
        }

        .content {
          text-align: center;
          /* Animao de entrada suave com blur */
          animation: fadeInSuave 4s ease-in-out; 
        }

        .game-title {
          font-size: clamp(30px, 8vw, 60px);
          letter-spacing: 8px;
          color: #fff;
          text-shadow: 3px 3px 5px #000, 0 0 20px rgba(0, 242, 255, 0.5);
          font-family: 'serif';
        }

        .sub-title {
          font-size: clamp(14px, 4vw, 24px);
          color: #ffcc00;
          margin-top: 10px;
          text-shadow: 1px 1px 3px #000;
          font-family: 'serif';
        }

        .press-start {
          margin-top: 80px;
          font-size: 20px;
          color: #fff;
          letter-spacing: 5px;
          text-shadow: 0 0 10px #00f2ff;
          /* Efeito pulsante clssico de menu */
          animation: blink 1.5s infinite;
          font-family: 'sans-serif';
        }

        @keyframes blink {
          0%, 100% { opacity: 0; }
          50% { opacity: 1; }
        }

        @keyframes fadeInSuave {
          from { opacity: 0; filter: blur(15px); transform: scale(0.9); }
          to { opacity: 1; filter: blur(0); transform: scale(1); }
        }
      `}})]})}const jg="/FF-12Liberation/assets/video-fundo-B5LPnOg0.mp4",gM="/FF-12Liberation/assets/botao-admin-T-iaDg61.png";function yM(){const i=Ui(),e=D.useRef(null),[n,r]=D.useState(null),[o,c]=D.useState(""),[d,m]=D.useState(""),[g,y]=D.useState(""),x=()=>{e.current&&(e.current.pause(),e.current.currentTime=0)};D.useEffect(()=>{if(e.current){e.current.volume=.1;const j=e.current.play();j!==void 0&&j.catch(U=>{console.log("Autoplay bloqueado pelo navegador (interao necessria):",U)})}return()=>{x()}},[]);const E=async j=>{j.preventDefault(),y("");try{const L=(await hM(o,d)).user,B=it(we,"users",L.uid),ee=await Dd(B);if(ee.exists()){const J=ee.data();if(n==="master"&&J.role!=="mestre"){y("ACESSO NEGADO: VOC NO  UM MESTRE.");return}if(x(),J.role==="mestre")i("/mestre");else{const re=it(we,"characters",L.uid);(await Dd(re)).exists()?i("/jogador-vtt"):i("/create-character")}}else{const J=it(we,"characters",L.uid),re=await Dd(J);x(),re.exists()?i("/jogador-vtt"):i("/create-character")}}catch(U){console.error(U),y("FALHA NA CONEXO COM O TER.")}},N=()=>{x(),i("/admin-login")};return h.jsxs("div",{className:"login-container",children:[h.jsx("audio",{ref:e,loop:!0,children:h.jsx("source",{src:a1,type:"audio/mp3"})}),h.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:"background-video",children:h.jsx("source",{src:jg,type:"video/mp4"})}),h.jsx("div",{className:"content-overlay",children:n?h.jsxs("form",{className:"login-panel fade-in",onSubmit:E,children:[h.jsx("button",{type:"button",className:"ff-back",onClick:()=>r(null),children:" RETORNAR"}),h.jsx("h3",{className:"ff-subtitle",children:n==="master"?"NARRADOR":"JOGADOR"}),h.jsxs("div",{className:"ff-input-group",children:[h.jsx("input",{type:"email",placeholder:"E-MAIL",value:o,onChange:j=>c(j.target.value),required:!0}),h.jsx("input",{type:"password",placeholder:"SENHA",value:d,onChange:j=>m(j.target.value),required:!0})]}),g&&h.jsx("p",{className:"ff-error",children:g}),h.jsx("button",{type:"submit",className:"ff-submit",children:"ENTRAR"})]}):h.jsxs("div",{className:"selection-screen fade-in",children:[h.jsx("h2",{className:"ff-title",children:"ESCOLHA SUA JORNADA"}),h.jsxs("div",{className:"ff-button-group",children:[h.jsx("button",{className:"ff-btn",onClick:()=>r("player"),children:"JOGADOR"}),h.jsx("button",{className:"ff-btn",onClick:()=>r("master"),children:"NARRADOR"})]})]})}),h.jsx("button",{className:"admin-portal-btn",onClick:N,title:"Acesso ao Narrador",children:h.jsx("img",{src:gM,alt:"Portal Admin"})}),h.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .login-container {
          height: 100vh;
          width: 100vw;
          background: #000;
          display: flex;
          align-items: center;
          justify-content: center;
          overflow: hidden;
          position: relative;
        }

        .background-video {
          position: absolute;
          top: 50%;
          left: 50%;
          min-width: 100%;
          min-height: 100%;
          width: auto;
          height: auto;
          z-index: 1; 
          transform: translate(-50%, -50%);
          object-fit: cover;
          animation: quickLoopFade 0.5s ease-in-out;
        }

        @keyframes quickLoopFade {
          0% { opacity: 0; }
          100% { opacity: 1; }
        }

        .content-overlay {
          position: relative;
          z-index: 10;
          display: flex;
          align-items: center;
          justify-content: center;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.4);
        }

        .ff-title { 
          color: #fff; 
          font-size: 32px; 
          letter-spacing: 8px; 
          margin-bottom: 40px; 
          text-shadow: 0 0 15px rgba(255, 255, 255, 0.5); 
          text-align: center;
          font-family: 'serif'; 
        }

        .ff-subtitle { color: #ffcc00; letter-spacing: 4px; margin-bottom: 30px; text-align: center; }
        .ff-button-group { display: flex; flex-direction: column; gap: 20px; align-items: center; }
        
        /* Botes Iniciais */
        .ff-btn {
          background: rgba(0, 0, 30, 0.6); 
          border: 1px solid rgba(255, 255, 255, 0.6);
          color: #fff;
          padding: 15px 50px;
          letter-spacing: 3px;
          cursor: pointer;
          transition: 0.4s;
          width: 280px;
          backdrop-filter: blur(5px);
          font-weight: bold;
        }

        /* Boto de Entrar (Ajustado para igualar a largura dos inputs) */
        .ff-submit {
          background: rgba(0, 0, 30, 0.6); 
          border: 1px solid rgba(255, 255, 255, 0.6);
          color: #fff;
          padding: 15px 0; /* padding lateral removido para usar width */
          letter-spacing: 3px;
          cursor: pointer;
          transition: 0.4s;
          width: 326px; /* 300px input + 24px padding + 2px border */
          backdrop-filter: blur(5px);
          font-weight: bold;
          margin: 0 auto;
          display: block;
        }

        .ff-btn:hover, .ff-submit:hover { 
          background: #fff; 
          color: #000; 
          box-shadow: 0 0 20px #fff; 
        }

        .ff-input-group input {
          display: block; 
          width: 300px; 
          padding: 12px; 
          margin: 0 auto 20px auto;
          background: rgba(0, 0, 0, 0.7); 
          border: 1px solid #444;
          color: #fff; 
          text-align: center; 
          letter-spacing: 2px; 
          outline: none;
        }

        .ff-input-group input:focus { border-color: #ffcc00; }
        .ff-back { background: none; border: none; color: #ffcc00; cursor: pointer; margin-bottom: 15px; display: block; font-weight: bold; }
        .ff-error { color: #ff4444; font-size: 12px; margin-bottom: 15px; text-shadow: 0 0 5px #000; text-align: center; }

        .admin-portal-btn {
          position: absolute;
          bottom: 30px;
          right: 30px;
          z-index: 100;
          background: none;
          border: none;
          cursor: pointer;
          width: 70px;
          transition: 0.5s;
          filter: drop-shadow(0 0 8px rgba(0, 242, 255, 0.6));
        }

        .admin-portal-btn img { width: 100%; height: auto; }
        .admin-portal-btn:hover { transform: scale(1.2) rotate(-5deg); filter: drop-shadow(0 0 15px #00f2ff); }

        .fade-in { animation: fadeInFF 2s ease-out forwards; }

        @keyframes fadeInFF {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `}})]})}function bM(){const[i,e]=D.useState(""),[n,r]=D.useState(""),[o,c]=D.useState(""),d=Ui(),m=async g=>{if(g.preventDefault(),c(""),i!=="fffvtt10@gmail.com"){c("VOC NO TEM PERMISSO DE NARRADOR.");return}try{await rE(rt,i,n),d("/admin")}catch(y){console.error(y),c("SENHA INCORRETA OU FALHA NA CONEXO.")}};return h.jsxs("div",{className:"login-container",children:[h.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"background-video",children:h.jsx("source",{src:jg,type:"video/mp4"})}),h.jsx("div",{className:"content-overlay",children:h.jsxs("form",{className:"login-panel fade-in",onSubmit:m,children:[h.jsx("button",{type:"button",className:"ff-back",onClick:()=>d("/"),children:" RETORNAR"}),h.jsx("h3",{className:"ff-subtitle",children:"PORTAL DO ADMINISTRADOR"}),h.jsxs("div",{className:"ff-input-group",children:[h.jsx("input",{type:"email",placeholder:"E-MAIL",value:i,onChange:g=>e(g.target.value),required:!0}),h.jsx("input",{type:"password",placeholder:"CHAVE DE ACESSO",value:n,onChange:g=>r(g.target.value),required:!0})]}),o&&h.jsx("p",{className:"ff-error",style:{color:"#ff4444",fontSize:"12px",marginBottom:"10px"},children:o}),h.jsx("button",{type:"submit",className:"ff-submit",children:"DESBLOQUEAR"})]})}),h.jsx("style",{children:`
        .login-container { 
          height: 100vh; 
          width: 100vw; 
          display: flex; 
          align-items: center; 
          justify-content: center; 
          position: relative; 
          overflow: hidden; 
          background: #000; 
        }
        .background-video { 
          position: absolute; 
          top: 50%; 
          left: 50%; 
          min-width: 100%; 
          min-height: 100%; 
          transform: translate(-50%, -50%); 
          object-fit: cover; 
          z-index: 1; 
        }
        .content-overlay { 
          position: absolute; 
          top: 0; 
          left: 0; 
          z-index: 10; 
          width: 100%; 
          height: 100%; 
          display: flex; 
          align-items: center; 
          justify-content: center; 
          background: rgba(0,0,0,0.6); 
        }
        .login-panel { 
          background: rgba(0, 0, 30, 0.85); 
          padding: 40px; 
          border: 1px solid #00f2ff; 
          backdrop-filter: blur(15px); 
          text-align: center;
          box-shadow: 0 0 30px rgba(0, 242, 255, 0.3);
          width: 350px;
        }
        .ff-subtitle { color: #ffcc00; letter-spacing: 4px; margin-bottom: 25px; font-weight: bold; }
        .ff-input-group input { 
          display: block; 
          width: 100%; 
          padding: 12px; 
          margin: 10px 0; 
          background: rgba(0,0,0,0.8); 
          border: 1px solid #444; 
          color: #fff; 
          text-align: center; 
          outline: none; 
          box-sizing: border-box;
        }
        .ff-input-group input:focus { border-color: #00f2ff; box-shadow: 0 0 10px rgba(0, 242, 255, 0.2); }
        .ff-submit { 
          background: transparent; 
          border: 1px solid #fff; 
          color: #fff; 
          padding: 12px 40px; 
          cursor: pointer; 
          transition: 0.3s; 
          width: 100%; 
          letter-spacing: 2px; 
          margin-top: 10px;
        }
        .ff-submit:hover { background: #fff; color: #000; box-shadow: 0 0 15px #fff; }
        .ff-back { background: none; border: none; color: #ffcc00; cursor: pointer; margin-bottom: 20px; font-size: 12px; }
        .fade-in { animation: fadeInFF 1.5s ease-out; }
        @keyframes fadeInFF { from { opacity: 0; } to { opacity: 1; } }
      `})]})}function vM(){const[i,e]=D.useState([]),[n,r]=D.useState([]),[o,c]=D.useState(""),[d,m]=D.useState(""),[g,y]=D.useState("jogador"),[x,E]=D.useState(""),[N,j]=D.useState(!1);D.useEffect(()=>{Go&&Go.pause()},[]),D.useEffect(()=>{U()},[]);const U=async()=>{try{const le=(await Am(Dt(we,"users"))).docs.map(C=>({id:C.id,...C.data()})).filter(C=>C.email!=="fffvtt10@gmail.com"),I=(await Am(Dt(we,"characters"))).docs.map(C=>({id:C.id,...C.data()}));e(le),r(I)}catch(oe){console.error("Erro ao carregar dados do ter: ",oe)}},L=async oe=>{if(oe.preventDefault(),!o||!d)return alert("Preencha todos os campos!");j(!0);let le=null;try{le=Vm(n1,"SecondaryApp");const he=gE(le);window.location.hostname==="localhost"&&qm(he,"http://127.0.0.1:9099");const C=(await rC(he,o,d)).user;await Mg(it(we,"users",C.uid),{email:o,role:g,uid:C.uid,active:!0,createdAt:On()}),await uC(he),alert(`Usurio ${o} invocado com sucesso!`),c(""),m(""),U()}catch(he){console.error(he),alert("Erro ao invocar usurio: "+he.message)}finally{le&&await $N(le),j(!1)}},B=async(oe,le)=>{if(window.confirm(`Deseja banir permanentemente ${le} do ter?`))try{await Es(it(we,"users",oe)),await Es(it(we,"characters",oe)),alert("Conta e personagem banidos com sucesso."),U()}catch(he){alert("Erro ao banir usurio: "+he.message)}},ee=async oe=>{if(window.confirm("Tem certeza que deseja apagar APENAS o personagem deste usurio? Ele ter que criar outro."))try{await Es(it(we,"characters",oe)),alert("Personagem deletado. O usurio continua ativo."),U()}catch(le){alert("Erro ao deletar personagem: "+le.message)}},J=oe=>{const le=n.find(he=>he.uid===oe);return le||null},re=async()=>{if(x.length<6)return alert("A senha deve ter no mnimo 6 caracteres.");try{await sC(rt.currentUser,x),alert("Sua chave de mestre foi alterada!"),E("")}catch{alert("Erro ao trocar senha. Tente fazer login novamente.")}};return h.jsxs("div",{className:"admin-container",children:[h.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"background-video-admin",children:h.jsx("source",{src:jg,type:"video/mp4"})}),h.jsxs("div",{className:"admin-overlay",children:[h.jsx("h1",{className:"admin-title",children:"PAINEL DO NARRADOR"}),h.jsxs("div",{className:"admin-grid",children:[h.jsxs("div",{className:"admin-card",children:[h.jsx("h3",{children:"INVOCAR NOVO JOGADOR"}),h.jsxs("form",{onSubmit:L,children:[h.jsx("input",{placeholder:"E-mail Arcano",type:"email",value:o,onChange:oe=>c(oe.target.value),required:!0}),h.jsx("input",{placeholder:"Palavra-Passe",type:"text",value:d,onChange:oe=>m(oe.target.value),required:!0}),h.jsxs("select",{value:g,onChange:oe=>y(oe.target.value),children:[h.jsx("option",{value:"jogador",children:"Jogador"}),h.jsx("option",{value:"mestre",children:"Mestre Auxiliar"})]}),h.jsx("button",{type:"submit",disabled:N,className:"btn-summon",children:N?"INVOCANDO...":"CRIAR ACESSO"})]})]}),h.jsxs("div",{className:"admin-card scroll-card",children:[h.jsxs("h3",{children:["ALMAS REGISTRADAS (",i.length,")"]}),h.jsx("div",{className:"list-container",children:i.map(oe=>{const le=J(oe.id);return h.jsxs("div",{className:"list-item",children:[h.jsxs("div",{className:"item-info",children:[h.jsx("span",{className:"item-main",children:oe.email}),h.jsx("span",{className:`badge ${oe.role}`,children:oe.role.toUpperCase()}),le&&h.jsxs("span",{style:{fontSize:"10px",color:"#ffcc00",marginTop:"2px"},children:[" ",le.name]})]}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[h.jsx("button",{className:"btn-ban",onClick:()=>B(oe.id,oe.email),children:"BANIR"}),le&&h.jsx("button",{className:"btn-ban",style:{borderColor:"#f80",color:"#f80"},onClick:()=>ee(oe.id),children:"DEL CHAR"})]})]},oe.id)})})]}),h.jsxs("div",{className:"admin-card",children:[h.jsx("h3",{children:"MINHA CHAVE MESTRA"}),h.jsx("input",{type:"password",placeholder:"Nova Senha",value:x,onChange:oe=>E(oe.target.value)}),h.jsx("button",{className:"btn-summon",style:{background:"#333",border:"1px solid #fff"},onClick:re,children:"ATUALIZAR"})]})]})]}),h.jsx("style",{children:`
        .admin-container { width: 100vw; height: 100vh; overflow: hidden; position: relative; font-family: 'Cinzel', serif; color: #fff; background: #000; }
        .background-video-admin { position: absolute; top: 50%; left: 50%; width: 100%; height: 100%; object-fit: cover; transform: translate(-50%, -50%); opacity: 0.4; pointer-events: none; }
        .admin-overlay { position: relative; z-index: 10; padding: 40px; display: flex; flex-direction: column; height: 100%; }
        .admin-title { color: #ffcc00; text-align: center; font-size: 32px; letter-spacing: 5px; margin-bottom: 30px; text-shadow: 0 0 10px #ffcc00; }
        .admin-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 30px; height: 100%; }
        .admin-card { background: rgba(0, 10, 20, 0.9); border: 1px solid #ffcc00; border-radius: 8px; padding: 20px; display: flex; flex-direction: column; backdrop-filter: blur(10px); }
        .admin-card h3 { color: #00f2ff; border-bottom: 1px solid #333; padding-bottom: 10px; margin-top: 0; font-size: 16px; letter-spacing: 2px; }
        .scroll-card .list-container { overflow-y: auto; flex: 1; padding-right: 5px; }
        .scroll-card .list-container::-webkit-scrollbar { width: 5px; }
        .scroll-card .list-container::-webkit-scrollbar-thumb { background: #333; }
        
        input, select { background: #000; border: 1px solid #444; color: #fff; padding: 12px; width: 100%; margin-bottom: 15px; font-family: 'serif'; outline: none; }
        input:focus, select:focus { border-color: #ffcc00; }
        
        .btn-summon { width: 100%; background: #ffcc00; color: #000; border: none; padding: 12px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .btn-summon:hover:not(:disabled) { background: #fff; box-shadow: 0 0 15px #fff; }
        .btn-summon:disabled { background: #333; color: #666; cursor: not-allowed; }

        .list-item { display: flex; justify-content: space-between; align-items: center; background: rgba(255,255,255,0.05); padding: 10px; margin-bottom: 8px; border-radius: 4px; border: 1px solid transparent; }
        .list-item:hover { border-color: #00f2ff; }
        .item-info { display: flex; flex-direction: column; }
        .item-main { font-weight: bold; color: #eee; font-size: 14px; }
        .item-sub { font-size: 10px; color: #aaa; }
        
        .badge { font-size: 10px; padding: 2px 6px; border-radius: 4px; font-weight: bold; color: #000; text-transform: uppercase; margin-right: 5px; }
        .badge.jogador { background: #00f2ff; }
        .badge.mestre { background: #ffcc00; }
        
        .btn-ban { background: transparent; border: 1px solid #f44; color: #f44; font-size: 10px; padding: 4px 8px; cursor: pointer; }
        .btn-ban:hover { background: #f44; color: #fff; }
      `})]})}const i1="/FF-12Liberation/assets/fundo-mestre-OTxRyTTC.jpg",Tm="/FF-12Liberation/assets/sanchez-1nilABmc.jpeg",r1="/FF-12Liberation/assets/papiro-CRka9pgw.png",_M="/FF-12Liberation/assets/bazar-DZ7p321B.png";function Pg({isMestre:i,playerData:e}){const[n,r]=D.useState(!1),[o,c]=D.useState([]),[d,m]=D.useState([]),[g,y]=D.useState(""),[x,E]=D.useState(null),[N,j]=D.useState(""),[U,L]=D.useState({nome:"",descricao:"",imagem:"",valorGil:"",valorReal:""});D.useEffect(()=>{if(!n)return;const T=Dn(Dt(we,"game_items"),Sa("status","==","bazar"),ko("updatedAt","desc")),k=Mn(T,w=>{c(w.docs.map(Se=>({id:Se.id,...Se.data()})))});return()=>k()},[n]),D.useEffect(()=>{if(!n||!i)return;const T=Dn(Dt(we,"game_items"),Sa("status","==","vault"),ko("nome","asc")),k=Mn(T,w=>{const Se=w.docs.map(De=>({id:De.id,...De.data()})).filter(De=>!De.ownerId);m(Se)});return()=>k()},[n,i]);const B=T=>{const k=T.target.value;if(j(k),!k)return;const w=d.find(Se=>Se.id===k);w&&L({...U,nome:w.nome,descricao:w.descricao,imagem:w.imagem,valorGil:"",valorReal:""})},ee=async T=>{if(T.preventDefault(),!U.nome||!U.valorGil)return alert("Preencha nome e valor em Gil!");try{const k={...U,updatedAt:On()};x?(await vn(it(we,"game_items",x),k),E(null)):N?(await vn(it(we,"game_items",N),{...k,status:"bazar"}),j("")):await gc(Dt(we,"game_items"),{...k,status:"bazar",ownerId:null,createdAt:On()}),L({nome:"",descricao:"",imagem:"",valorGil:"",valorReal:""})}catch{alert("Erro ao salvar item no Bazar.")}},J=async T=>{window.confirm("Remover do mercado? O item voltar para a Forja.")&&await vn(it(we,"game_items",T),{status:"vault",updatedAt:On()})},re=async T=>{if(!rt.currentUser)return alert("Voc precisa estar logado.");const k=e?.character_sheet?.inventory?.gil||0,w=Number(T.valorGil);if(k<w)return alert(`Saldo insuficiente! Voc tem ${k} Gil, mas o item custa ${w} Gil.`);if(window.confirm(`Comprar "${T.nome}" por ${T.valorGil} Gil?`))try{const De=k-w,X=it(we,"characters",rt.currentUser.uid),ue=JSON.parse(JSON.stringify(e.character_sheet));ue.inventory.gil=De,await Mg(X,{character_sheet:ue},{merge:!0}),await vn(it(we,"game_items",T.id),{status:"requested",ownerId:rt.currentUser.uid,buyerName:e.name,updatedAt:On()}),alert(`Solicitao enviada! O Mestre aprovar a entrega em breve. Saldo restante: ${De} Gil.`)}catch(De){console.error("Erro na compra:",De),alert("Erro na transao. Verifique o console.")}},[oe,le]=D.useState([]);D.useEffect(()=>{if(!i||!n)return;const T=Dn(Dt(we,"game_items"),Sa("status","==","requested")),k=Mn(T,w=>{le(w.docs.map(Se=>({id:Se.id,...Se.data()})))});return()=>k()},[i,n]);const he=async T=>{try{await vn(it(we,"game_items",T.id),{status:"vault",ownerId:T.ownerId,buyerName:T.buyerName,updatedAt:On()}),alert(`Venda aprovada! O item "${T.nome}" foi enviado para o Cofre Pessoal de ${T.buyerName}.`)}catch{alert("Erro ao aprovar.")}},I=T=>{E(T.id),j(""),L(T)},C=()=>{E(null),j(""),L({nome:"",descricao:"",imagem:"",valorGil:"",valorReal:""})},O=o.filter(T=>T.nome.toLowerCase().includes(g.toLowerCase())),P=T=>T&&T.startsWith("http")?`url(${T})`:"url('https://via.placeholder.com/150?text=Item')";return h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"bazar-trigger-btn",onClick:()=>r(!0),title:"Abrir Bazar",children:h.jsx("img",{src:_M,alt:"Bazar",onError:T=>{T.target.style.display="none",T.target.parentNode.innerText="BAZAR"}})}),n&&h.jsx("div",{className:"bazar-overlay-flex",onClick:()=>r(!1),children:h.jsxs("div",{className:"bazar-modal-centered",onClick:T=>T.stopPropagation(),children:[h.jsxs("div",{className:"bazar-header",children:[h.jsx("h2",{children:"MERCADO NEGRO"}),h.jsx("button",{className:"close-btn",onClick:()=>r(!1),children:""})]}),i&&h.jsxs("div",{className:"mestre-panel",children:[oe.length>0&&h.jsxs("div",{className:"requests-box",children:[h.jsxs("h4",{children:["PEDIDOS DE COMPRA (",oe.length,")"]}),oe.map(T=>h.jsxs("div",{className:"request-row",children:[h.jsxs("span",{children:[h.jsx("strong",{children:T.buyerName})," quer comprar ",h.jsx("strong",{children:T.nome})," (",T.valorGil," G)"]}),h.jsx("button",{className:"btn-approve",onClick:()=>he(T),children:"APROVAR ENTREGA"})]},T.id))]}),h.jsxs("form",{onSubmit:ee,className:"bazar-form",children:[!x&&h.jsx("div",{className:"row",style:{marginBottom:"10px"},children:h.jsxs("select",{className:"bazar-input",onChange:B,value:N,children:[h.jsx("option",{value:"",children:" Selecionar Item do Cofre (Forja)..."}),d.map(T=>h.jsx("option",{value:T.id,children:T.nome},T.id))]})}),h.jsxs("div",{className:"row",children:[h.jsx("input",{placeholder:"Nome do Item",value:U.nome,onChange:T=>L({...U,nome:T.target.value}),className:"bazar-input",readOnly:!!N&&!x}),h.jsx("input",{placeholder:"Link Imagem",value:U.imagem,onChange:T=>L({...U,imagem:T.target.value}),className:"bazar-input"})]}),h.jsxs("div",{className:"row",children:[h.jsx("input",{placeholder:"Valor Gil",type:"number",value:U.valorGil,onChange:T=>L({...U,valorGil:T.target.value}),className:"bazar-input",required:!0}),h.jsx("input",{placeholder:"Valor Real (R$)",type:"number",value:U.valorReal,onChange:T=>L({...U,valorReal:T.target.value}),className:"bazar-input"})]}),h.jsx("textarea",{placeholder:"Descrio do item...",value:U.descricao,onChange:T=>L({...U,descricao:T.target.value}),className:"bazar-input area"}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"submit",className:"btn-save",children:x?"SALVAR ALTERAES":N?"COLOCAR  VENDA":"CRIAR E VENDER"}),(x||N)&&h.jsx("button",{type:"button",onClick:C,className:"btn-cancel",children:"CANCELAR"})]})]})]}),h.jsx("div",{className:"search-bar-container",children:h.jsx("input",{type:"text",placeholder:" Procurar mercadoria...",value:g,onChange:T=>y(T.target.value),className:"search-input"})}),h.jsxs("div",{className:"bazar-grid",children:[O.map(T=>h.jsxs("div",{className:"bazar-item-card",children:[h.jsx("div",{className:"item-img",style:{backgroundImage:P(T.imagem)}}),h.jsxs("div",{className:"item-info",children:[h.jsx("h4",{children:T.nome}),h.jsx("p",{className:"desc",children:T.descricao}),h.jsxs("div",{className:"prices",children:[h.jsxs("span",{className:"price-tag gil",children:[" ",T.valorGil," G"]}),T.valorReal&&h.jsxs("span",{className:"price-tag real",children:[" R$ ",T.valorReal]})]})]}),h.jsx("div",{className:"item-actions",children:i?h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"btn-icon edit",onClick:()=>I(T),title:"Editar Preo",children:""}),h.jsx("button",{className:"btn-icon delete",onClick:()=>J(T.id),title:"Devolver para a Forja",children:""})]}):h.jsx("button",{className:"btn-buy",onClick:()=>re(T),children:"COMPRAR"})})]},T.id)),O.length===0&&h.jsx("p",{className:"empty-msg",children:"Nenhum item  venda no momento."})]})]})}),h.jsx("style",{children:`
        .bazar-trigger-btn { position: fixed; bottom: 30px; right: 30px; width: 70px; height: 70px; border-radius: 50%; border: 2px solid #ffcc00; background: #000; cursor: pointer; z-index: 9999; transition: transform 0.2s, box-shadow 0.2s; padding: 0; display: flex; align-items: center; justify-content: center; }
        .bazar-trigger-btn:hover { transform: scale(1.1); box-shadow: 0 0 25px #ffcc00; }
        .bazar-trigger-btn img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }

        /* NOVO CSS PARA CENTRALIZAR O MODAL SEM CORTAR */
        .bazar-overlay-flex { 
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; 
            background: rgba(0,0,0,0.85); z-index: 100000; 
            display: flex; align-items: center; justify-content: center; 
            backdrop-filter: blur(5px); 
        }
        .bazar-modal-centered { 
            width: 800px; max-width: 95vw; 
            height: 750px; max-height: 90vh; /* Garante que cabe na tela */
            background: #0d0d15; border: 1px solid #ffcc00; 
            display: flex; flex-direction: column; 
            box-shadow: 0 0 50px rgba(0,0,0,0.8); border-radius: 8px; 
            overflow: hidden; 
        }

        .bazar-header { background: linear-gradient(90deg, #1a1a1a, #000); padding: 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #ffcc00; }
        .bazar-header h2 { margin: 0; color: #ffcc00; font-family: serif; letter-spacing: 2px; text-shadow: 0 0 10px #ffcc00; font-size: 24px; }
        .close-btn { background: transparent; border: none; color: #fff; font-size: 30px; cursor: pointer; }

        .mestre-panel { background: rgba(255, 204, 0, 0.05); padding: 15px; border-bottom: 1px solid #333; }
        
        .requests-box { background: rgba(0, 242, 255, 0.1); border: 1px solid #00f2ff; padding: 10px; margin-bottom: 15px; border-radius: 4px; }
        .requests-box h4 { color: #00f2ff; margin: 0 0 10px 0; font-size: 12px; }
        .request-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px; font-size: 12px; color: #fff; }
        .btn-approve { background: #00f2ff; color: #000; border: none; padding: 5px 10px; font-weight: bold; cursor: pointer; border-radius: 3px; }

        .bazar-form { display: flex; flex-direction: column; gap: 10px; }
        .bazar-form .row { display: flex; gap: 10px; }
        .bazar-input { background: #000; border: 1px solid #444; color: #fff; padding: 10px; flex: 1; outline: none; font-family: serif; }
        .bazar-input.area { height: 60px; resize: none; }
        .form-actions { display: flex; gap: 10px; }
        .btn-save { flex: 1; background: #ffcc00; border: none; padding: 10px; font-weight: bold; cursor: pointer; color: #000; }
        .btn-cancel { background: #333; color: #fff; border: 1px solid #555; padding: 10px; cursor: pointer; }

        .search-bar-container { padding: 15px; background: #000; border-bottom: 1px solid #333; }
        .search-input { width: 100%; background: #111; border: 1px solid #444; color: #fff; padding: 12px; border-radius: 20px; text-align: center; outline: none; font-size: 16px; }

        .bazar-grid { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; scrollbar-width: none; -ms-overflow-style: none; }
        .bazar-grid::-webkit-scrollbar { display: none; }

        .bazar-item-card { background: linear-gradient(90deg, rgba(20,20,30,0.9), rgba(0,0,0,0.8)); border: 1px solid #444; display: flex; align-items: center; padding: 10px; border-radius: 4px; transition: 0.2s; }
        .bazar-item-card:hover { border-color: #00f2ff; box-shadow: 0 0 15px rgba(0, 242, 255, 0.1); }
        
        .item-img { width: 80px; height: 80px; background-size: cover; background-position: center; border: 1px solid #666; margin-right: 15px; border-radius: 4px; background-color: #000; }
        .item-info { flex: 1; }
        .item-info h4 { margin: 0 0 5px 0; color: #fff; font-size: 18px; letter-spacing: 1px; }
        .item-info .desc { margin: 0 0 10px 0; color: #aaa; font-size: 12px; font-style: italic; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        
        .prices { display: flex; gap: 10px; }
        .price-tag { padding: 4px 8px; border-radius: 3px; font-weight: bold; font-size: 12px; }
        .price-tag.gil { background: rgba(255,255,0,0.1); color: #ffcc00; border: 1px solid #ffcc00; }
        .price-tag.real { background: rgba(0, 242, 255, 0.1); color: #00f2ff; border: 1px solid #00f2ff; }

        .item-actions { display: flex; gap: 8px; align-items: center; margin-left: 15px; }
        .btn-buy { background: #00f2ff; color: #000; border: none; padding: 10px 20px; font-weight: bold; cursor: pointer; clip-path: polygon(10% 0, 100% 0, 100% 70%, 90% 100%, 0 100%, 0 30%); transition: 0.2s; }
        .btn-buy:hover { background: #fff; box-shadow: 0 0 15px #00f2ff; }
        
        .btn-icon { background: transparent; border: 1px solid #444; color: #fff; padding: 8px; cursor: pointer; border-radius: 4px; font-size: 16px; }
        .btn-icon:hover { background: #fff; color: #000; }
        .btn-icon.delete:hover { background: #f44; border-color: #f44; color: #fff; }
        .empty-msg { text-align: center; color: #666; margin-top: 50px; font-style: italic; }
      `})]})}const xM="/FF-12Liberation/assets/forja-Dr7AylP_.png";function s1(){const[i,e]=D.useState(!1),[n,r]=D.useState([]),[o,c]=D.useState(""),[d,m]=D.useState(null),[g,y]=D.useState({nome:"",descricao:"",imagem:""});D.useEffect(()=>{if(!i)return;const L=Dn(Dt(we,"game_items"),Sa("status","==","vault"),ko("createdAt","desc")),B=Mn(L,ee=>{r(ee.docs.map(J=>({id:J.id,...J.data()})))});return()=>B()},[i]);const x=async L=>{if(L.preventDefault(),!g.nome)return alert("O item precisa de um nome!");try{const B={...g,updatedAt:On()};d?(await vn(it(we,"game_items",d),B),m(null)):await gc(Dt(we,"game_items"),{...B,status:"vault",ownerId:null,valorGil:0,createdAt:On()}),y({nome:"",descricao:"",imagem:""})}catch(B){alert("Erro ao forjar item."),console.error(B)}},E=async L=>{window.confirm("ATENO: Isso destruir o item permanentemente. Deseja continuar?")&&await Es(it(we,"game_items",L))},N=L=>{m(L.id),y(L)},j=()=>{m(null),y({nome:"",descricao:"",imagem:""})},U=n.filter(L=>L.nome.toLowerCase().includes(o.toLowerCase()));return h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"forja-trigger-btn",onClick:()=>e(!0),title:"Abrir Forja",children:h.jsx("img",{src:xM,alt:"Forja",onError:L=>{L.target.style.display="none",L.target.parentNode.innerText="FORJA"}})}),i&&h.jsx("div",{className:"forja-overlay",onClick:()=>e(!1),children:h.jsxs("div",{className:"forja-modal",onClick:L=>L.stopPropagation(),children:[h.jsxs("div",{className:"forja-header",children:[h.jsx("h2",{children:"A FORJA ANTIGA"}),h.jsx("button",{className:"close-btn",onClick:()=>e(!1),children:""})]}),h.jsxs("div",{className:"mestre-panel-forja",children:[h.jsx("h4",{style:{color:"#f44",margin:"0 0 10px 0"},children:"FORJAR NOVO ARTEFATO"}),h.jsxs("form",{onSubmit:x,className:"forja-form",children:[h.jsxs("div",{className:"row",children:[h.jsx("input",{placeholder:"Nome do Artefato",value:g.nome,onChange:L=>y({...g,nome:L.target.value}),className:"forja-input"}),h.jsx("input",{placeholder:"URL da Imagem (Imgur)",value:g.imagem,onChange:L=>y({...g,imagem:L.target.value}),className:"forja-input"})]}),h.jsx("textarea",{placeholder:"Descrio detalhada e lore do item...",value:g.descricao,onChange:L=>y({...g,descricao:L.target.value}),className:"forja-input area"}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"submit",className:"btn-forjar",children:d?"REFUNDIR (SALVAR)":"FORJAR ITEM"}),d&&h.jsx("button",{type:"button",onClick:j,className:"btn-cancel",children:"CANCELAR"})]})]})]}),h.jsx("div",{className:"search-bar-container-forja",children:h.jsx("input",{type:"text",placeholder:" Buscar nos arquivos da forja...",value:o,onChange:L=>c(L.target.value),className:"search-input-forja"})}),h.jsxs("div",{className:"forja-grid",children:[U.map(L=>h.jsxs("div",{className:"forja-item-card",children:[h.jsx("div",{className:"item-img",style:{backgroundImage:`url(${L.imagem||"https://via.placeholder.com/150?text=?"})`}}),h.jsxs("div",{className:"item-info",children:[h.jsx("h4",{children:L.nome}),L.ownerId&&h.jsxs("div",{className:"owner-tag",children:["COMPRADO POR: ",L.buyerName||"Jogador"]}),h.jsx("p",{className:"desc",children:L.descricao}),h.jsxs("small",{style:{color:"#666"},children:["Status: ",L.ownerId?"Cofre Pessoal":"Cofre Global"]})]}),h.jsxs("div",{className:"item-actions",children:[h.jsx("button",{className:"btn-icon edit",onClick:()=>N(L),title:"Editar",children:""}),h.jsx("button",{className:"btn-icon delete",onClick:()=>E(L.id),title:"Destruir",children:""})]})]},L.id)),U.length===0&&h.jsx("p",{className:"empty-msg",children:"A forja est fria. Nenhum item no cofre."})]})]})}),h.jsx("style",{children:`
        .forja-trigger-btn {
          position: fixed; bottom: 30px; right: 110px; width: 70px; height: 70px;
          border-radius: 50%; border: 2px solid #f44; background: #000; cursor: pointer; z-index: 9999;
          transition: transform 0.2s, box-shadow 0.2s; padding: 0; display: flex; align-items: center; justify-content: center;
          color: #f44; font-weight: bold; font-size: 10px;
        }
        .forja-trigger-btn:hover { transform: scale(1.1); box-shadow: 0 0 20px #f44; }
        .forja-trigger-btn img { width: 80%; height: 80%; object-fit: contain; }

        .forja-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.9); z-index: 100000; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
        .forja-modal { width: 800px; max-height: 90vh; background: #150a0a; border: 1px solid #f44; display: flex; flex-direction: column; box-shadow: 0 0 50px rgba(255, 68, 68, 0.2); border-radius: 8px; overflow: hidden; }

        .forja-header { background: linear-gradient(90deg, #2a0e0e, #000); padding: 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #f44; }
        .forja-header h2 { margin: 0; color: #f44; font-family: serif; letter-spacing: 2px; text-shadow: 0 0 10px #f44; font-size: 24px; }
        .close-btn { background: transparent; border: none; color: #fff; font-size: 30px; cursor: pointer; }

        .mestre-panel-forja { background: rgba(255, 68, 68, 0.05); padding: 20px; border-bottom: 1px solid #333; }
        .forja-form { display: flex; flex-direction: column; gap: 10px; }
        .forja-form .row { display: flex; gap: 10px; }
        .forja-input { background: #000; border: 1px solid #522; color: #fff; padding: 10px; flex: 1; outline: none; font-family: serif; }
        .forja-input:focus { border-color: #f44; }
        .forja-input.area { height: 80px; resize: none; }
        
        .btn-forjar { flex: 1; background: #f44; border: none; padding: 12px; font-weight: bold; cursor: pointer; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        .btn-forjar:hover { background: #d00; box-shadow: 0 0 10px #d00; }
        .btn-cancel { background: #333; color: #fff; border: 1px solid #555; padding: 10px; cursor: pointer; }

        .search-bar-container-forja { padding: 15px; background: #000; border-bottom: 1px solid #333; }
        .search-input-forja { width: 100%; background: #111; border: 1px solid #522; color: #fff; padding: 12px; border-radius: 20px; text-align: center; outline: none; font-size: 16px; }

        .forja-grid { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; scrollbar-width: none; -ms-overflow-style: none; }
        .forja-grid::-webkit-scrollbar { display: none; }

        .forja-item-card { background: linear-gradient(90deg, rgba(40,10,10,0.9), rgba(0,0,0,0.8)); border: 1px solid #522; display: flex; align-items: center; padding: 10px; border-radius: 4px; transition: 0.2s; }
        .forja-item-card:hover { border-color: #f44; }
        
        .item-img { width: 70px; height: 70px; background-size: cover; background-position: center; border: 1px solid #633; margin-right: 15px; border-radius: 4px; background-color: #000; }
        .item-info { flex: 1; }
        .item-info h4 { margin: 0 0 5px 0; color: #fff; font-size: 18px; }
        .item-info .desc { margin: 0; color: #aaa; font-size: 12px; font-style: italic; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        
        /* NOVA ETIQUETA DE DONO */
        .owner-tag { background: #00f2ff; color: #000; font-size: 10px; font-weight: bold; padding: 2px 6px; border-radius: 4px; display: inline-block; margin-bottom: 4px; }

        .item-actions { display: flex; gap: 8px; margin-left: 15px; }
        .btn-icon { background: transparent; border: 1px solid #444; color: #fff; padding: 8px; cursor: pointer; border-radius: 4px; }
        .btn-icon:hover { background: #fff; color: #000; }
        .btn-icon.delete:hover { background: #f44; border-color: #f44; color: #fff; }
        
        .empty-msg { text-align: center; color: #666; margin-top: 50px; font-style: italic; }
      `})]})}const EM=({isOpen:i,onClose:e,onSave:n,label:r})=>{const[o,c]=D.useState("");return i?h.jsx("div",{className:"img-modal-overlay",onClick:e,children:h.jsxs("div",{className:"img-modal-content",onClick:d=>d.stopPropagation(),children:[h.jsxs("h3",{children:["ALTERAR IMAGEM: ",r.toUpperCase()]}),h.jsx("input",{placeholder:"Cole o link da imagem (Imgur, Discord, etc)...",value:o,onChange:d=>c(d.target.value),autoFocus:!0}),h.jsxs("div",{className:"img-modal-actions",children:[h.jsx("button",{onClick:()=>{n(o),e()},className:"btn-confirm",children:"CONFIRMAR"}),h.jsx("button",{onClick:e,className:"btn-cancel",children:"CANCELAR"})]})]})}):null};function Vg({characterData:i,isMaster:e,onClose:n}){const[r,o]=D.useState(i.character_sheet||{}),[c,d]=D.useState("geral"),[m,g]=D.useState(!1),[y,x]=D.useState(!1),[E,N]=D.useState(!1),[j,U]=D.useState(""),[L,B]=D.useState(null),[ee,J]=D.useState(!1),[re,oe]=D.useState([]),[le,he]=D.useState(null),[I,C]=D.useState(null),[O,P]=D.useState(null),[T,k]=D.useState(null);D.useRef(r.basic_info?.level),D.useEffect(()=>{i&&i.character_sheet&&o(i.character_sheet)},[i]);const w=(W,Ee)=>{if(!e)return;const fe=JSON.parse(JSON.stringify(r)),Re=W.split(".");let Le=fe;for(let H=0;H<Re.length-1;H++)Le[Re[H]]||(Le[Re[H]]={}),Le=Le[Re[H]];Le[Re[Re.length-1]]=Ee,o(fe),x(!0)},Se=async()=>{try{const W=it(we,"characters",i.uid||i.id);await vn(W,{character_sheet:r}),x(!1)}catch(W){console.error("Erro ao salvar:",W),alert("Erro ao salvar ficha.")}},De=(W,Ee)=>{e&&(U(W),B(()=>Ee),N(!0))},X=(W,Ee,fe,Re)=>{e&&(P({skill:Ee,index:Re}),k(fe),W.dataTransfer.effectAllowed="move")},ue=W=>{W.preventDefault()},_e=(W,Ee,fe)=>{if(W.preventDefault(),!O||!e)return;const Re=JSON.parse(JSON.stringify(r)),Le=Re.job_system[T==="primary"?"primary_class":"secondary_class"].skills,H=Re.job_system[Ee==="primary"?"primary_class":"secondary_class"].skills,[be]=Le.splice(O.index,1);T===Ee?Le.splice(fe,0,be):H.splice(fe,0,be),o(Re),x(!0),P(null),k(null)},Ve=W=>{const Ee=()=>"_"+Math.random().toString(36).substr(2,9),fe=JSON.parse(JSON.stringify(r));fe.job_system[W].skills.push({id:Ee(),name:"",cost:"",effect:"",xp:{current:0,max:100},master:!1}),o(fe),x(!0)},He=(W,Ee)=>{if(!window.confirm("Remover este slot de habilidade?"))return;const fe=JSON.parse(JSON.stringify(r));fe.job_system[W].skills.splice(Ee,1),o(fe),x(!0)},R=(W,Ee)=>{const fe=JSON.parse(JSON.stringify(r)),Re=fe.job_system[W].skills[Ee];Re.master=!0,Re.xp.current=Re.xp.max,o(fe),x(!0)},Q=async W=>{if(!e)return;he(W);const Ee=Dn(Dt(we,"game_items"),Sa("status","==","vault")),Le=(await Am(Ee)).docs.map(H=>({id:H.id,...H.data()})).filter(H=>!H.ownerId||H.ownerId===(i.uid||i.id));oe(Le),J(!0)},se=async W=>{const Ee=JSON.parse(JSON.stringify(r));Ee.equipment.slots[le]={item_id:W.id,item_name:W.nome,item_img:W.imagem,description:W.descricao,effect:""},o(Ee),x(!0);const fe=it(we,"game_items",W.id);await vn(fe,{status:"equipped",ownerId:i.uid||i.id,slotIndex:le,updatedAt:On()}),J(!1)},ce=async W=>{if(!e)return;const Ee=r.equipment.slots[W];if(Ee.item_id&&window.confirm("Isso devolver o item para a Forja (Cofre). Confirmar?")){const Re=it(we,"game_items",Ee.item_id);await vn(Re,{status:"vault",slotIndex:null,updatedAt:On()})}const fe=JSON.parse(JSON.stringify(r));fe.equipment.slots[W]={item_name:"",item_img:"",effect:""},o(fe),x(!0)},me=async()=>{e&&(g(!0),setTimeout(async()=>{g(!1);const W=r.basic_info.level||1,Ee=Math.floor(r.basic_info.experience.max*1.5),fe=JSON.parse(JSON.stringify(r));fe.basic_info.level=W+1,fe.basic_info.experience.current=0,fe.basic_info.experience.max=Ee,o(fe);const Re=it(we,"characters",i.uid||i.id);await vn(Re,{character_sheet:fe})},4e3))},ve=["FOR","INT","SOR","CAR","VEL","CONS"],Ne=100,Ge=85,ke=125,mt=(W,Ee,fe)=>{const Re=Math.PI*2*Ee/fe-Math.PI/2,Le=ke+Ge*(W/Ne)*Math.cos(Re),H=ke+Ge*(W/Ne)*Math.sin(Re);return{x:Le,y:H}},Wt=ve.map((W,Ee)=>{const fe=r.attributes?.[W]?.value||0,{x:Re,y:Le}=mt(fe,Ee,ve.length);return`${Re},${Le}`}).join(" "),Qt=W=>W&&W.length>5?{backgroundImage:`url(${W})`}:{backgroundColor:"#111",border:"1px solid #333"};return h.jsxs("div",{className:"ficha-overlay-fixed",children:[h.jsx(EM,{isOpen:E,onClose:()=>N(!1),onSave:L,label:j}),e&&y&&h.jsx("button",{className:"save-fab glowing",onClick:Se,title:"Salvar Alteraes",children:""}),h.jsxs("div",{className:"ficha-container fade-in",children:[h.jsx("button",{className:"close-btn-ficha",onClick:n,children:""}),h.jsxs("div",{className:"ficha-header",children:[h.jsxs("div",{className:"guild-insignia-box",children:[h.jsx("span",{className:"header-label-top",children:"SIGNO"}),h.jsx("div",{className:`insignia-display ${e?"clickable":""}`,style:Qt(r.basic_info.guild_insignia),onClick:()=>De("Signo",W=>w("basic_info.guild_insignia",W)),title:e?"Clique para alterar imagem":""})]}),h.jsxs("div",{className:"header-info",children:[h.jsx("h1",{children:r.basic_info.character_name}),h.jsxs("span",{className:"sub-header",children:[r.basic_info.race," // ",i.class]}),h.jsxs("div",{className:"xp-container",children:[h.jsxs("div",{className:"lvl-box",children:[h.jsx("small",{children:"LVL"}),e?h.jsx("input",{className:"lvl-input",type:"number",value:r.basic_info.level,onChange:W=>w("basic_info.level",Number(W.target.value))}):h.jsx("span",{children:r.basic_info.level})]}),h.jsxs("div",{className:"xp-bar-box",children:[h.jsxs("div",{className:"xp-text",children:["XP ",e?h.jsx("input",{className:"xp-mini-input",value:r.basic_info.experience.current,onChange:W=>w("basic_info.experience.current",Number(W.target.value))}):r.basic_info.experience.current," / ",e?h.jsx("input",{className:"xp-mini-input",value:r.basic_info.experience.max,onChange:W=>w("basic_info.experience.max",Number(W.target.value))}):r.basic_info.experience.max]}),h.jsx("div",{className:"xp-track",children:h.jsx("div",{className:"xp-fill",style:{width:`${Math.min(r.basic_info.experience.current/r.basic_info.experience.max*100,100)}%`}})})]}),e&&r.basic_info.experience.current>=r.basic_info.experience.max&&h.jsx("button",{className:"btn-levelup glowing",onClick:me,children:" UP"})]})]}),h.jsxs("div",{className:"header-right-group",children:[h.jsxs("div",{className:"guild-item-box",children:[h.jsx("span",{className:"header-label-top",children:"BRASO"}),h.jsx("div",{className:`special-display ${e?"clickable":""}`,style:Qt(r.basic_info.special_image),onClick:()=>De("Especial",W=>w("basic_info.special_image",W)),title:e?"Clique para alterar imagem especial":""})]}),h.jsxs("div",{className:"guild-item-box",children:[h.jsx("span",{className:"header-label-top",children:"RANK"}),h.jsx("div",{className:`rank-display ${e?"clickable":""}`,style:Qt(r.basic_info.guild_rank_image),onClick:()=>De("Rank",W=>w("basic_info.guild_rank_image",W)),title:e?"Clique para alterar imagem":""})]})]})]}),h.jsxs("div",{className:"ficha-tabs",children:[h.jsx("button",{className:`tab-btn ${c==="geral"?"active":""}`,onClick:()=>d("geral"),children:"VISO GERAL"}),h.jsx("button",{className:`tab-btn ${c==="habilidades"?"active":""}`,onClick:()=>d("habilidades"),children:"GRIMRIO DE HABILIDADES"})]}),h.jsx("div",{className:"ficha-body",children:c==="geral"?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"col-attributes",children:[h.jsx("h3",{className:"section-title",children:"ATRIBUTOS"}),h.jsx("div",{className:"radar-wrapper",children:h.jsxs("svg",{width:"250",height:"250",viewBox:"0 0 250 250",children:[[20,40,60,80,100].map(W=>h.jsx("polygon",{points:ve.map((Ee,fe)=>{const{x:Re,y:Le}=mt(W,fe,6);return`${Re},${Le}`}).join(" "),fill:"none",stroke:"#333",strokeWidth:"1"},W)),h.jsx("polygon",{points:Wt,fill:"rgba(0, 242, 255, 0.2)",stroke:"#00f2ff",strokeWidth:"2"}),ve.map((W,Ee)=>{const{x:fe,y:Re}=mt(120,Ee,6),Le=r.attributes?.[W]?.value||0;return h.jsx("foreignObject",{x:fe-20,y:Re-15,width:"40",height:"30",children:h.jsxs("div",{className:"stat-box-chart",children:[h.jsx("span",{className:"sb-label",children:W}),e?h.jsx("input",{className:"sb-input",value:Le,onChange:H=>w(`attributes.${W}.value`,Number(H.target.value))}):h.jsx("span",{className:"sb-val",children:Le})]})},W)})]})}),h.jsxs("div",{className:"secondary-stats",children:[h.jsxs("div",{className:"stat-row",children:[h.jsx("label",{children:"HP"}),h.jsxs("div",{className:"stat-bars-inputs",children:[e?h.jsx("input",{value:r.status.hp.current,onChange:W=>w("status.hp.current",Number(W.target.value))}):h.jsx("span",{children:r.status.hp.current}),"/",e?h.jsx("input",{value:r.status.hp.max,onChange:W=>w("status.hp.max",Number(W.target.value))}):h.jsx("span",{children:r.status.hp.max})]})]}),h.jsxs("div",{className:"stat-row",children:[h.jsx("label",{children:"MP"}),h.jsxs("div",{className:"stat-bars-inputs mp",children:[e?h.jsx("input",{value:r.status.mp.current,onChange:W=>w("status.mp.current",Number(W.target.value))}):h.jsx("span",{children:r.status.mp.current}),"/",e?h.jsx("input",{value:r.status.mp.max,onChange:W=>w("status.mp.max",Number(W.target.value))}):h.jsx("span",{children:r.status.mp.max})]})]}),h.jsxs("div",{className:"stat-row-simple",children:[h.jsxs("div",{className:"s-box",children:[h.jsx("label",{children:"ARM"}),e?h.jsx("input",{value:r.status.arm.value,onChange:W=>w("status.arm.value",Number(W.target.value))}):h.jsx("span",{children:r.status.arm.value})]}),h.jsxs("div",{className:"s-box",children:[h.jsx("label",{children:"RES"}),e?h.jsx("input",{value:r.status.res.value,onChange:W=>w("status.res.value",Number(W.target.value))}):h.jsx("span",{children:r.status.res.value})]}),h.jsxs("div",{className:"s-box",children:[h.jsx("label",{children:"MOV"}),e?h.jsx("input",{value:r.status.mov?.value||3,onChange:W=>w("status.mov.value",Number(W.target.value))}):h.jsx("span",{children:r.status.mov?.value||3})]})]})]})]}),h.jsxs("div",{className:"col-center-equip",children:[h.jsx("div",{className:`char-image-frame ${e?"clickable":""}`,onClick:()=>De("Personagem",W=>w("imgUrl",W)),title:e?"Clique para alterar foto":"",children:h.jsx("div",{className:"image-display",style:Qt(r.imgUrl)})}),h.jsx("div",{className:"equip-slots-overlay",children:[{id:0,label:"CABEA",style:{top:"-30px",left:"50%",transform:"translateX(-50%)"}},{id:1,label:"CORPO",style:{top:"80px",right:"-15px"}},{id:2,label:"MO DIR.",style:{bottom:"120px",right:"-15px"}},{id:3,label:"MO ESQ.",style:{bottom:"120px",left:"-15px"}},{id:4,label:"ACESS. 1",style:{top:"80px",left:"-15px"}},{id:5,label:"ACESS. 2",style:{bottom:"-20px",left:"60px"}},{id:6,label:"PS",style:{bottom:"-20px",right:"60px"}}].map((W,Ee)=>h.jsxs("div",{className:"equip-slot",style:W.style,children:[h.jsx("div",{className:"slot-label",children:W.label}),h.jsxs("div",{className:"slot-square",children:[!r.equipment?.slots?.[Ee]?.item_img&&e&&h.jsx("button",{className:"btn-plus-item",onClick:()=>Q(Ee),children:"+"}),r.equipment?.slots?.[Ee]?.item_img?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"item-bg",style:Qt(r.equipment.slots[Ee].item_img)}),h.jsx("button",{className:"btn-eye-item",onClick:()=>C(r.equipment.slots[Ee]),children:""}),e&&h.jsx("button",{className:"btn-return-forge",title:"Devolver para Forja",onClick:()=>ce(Ee),children:""})]}):!e&&h.jsx("span",{className:"empty-text",children:"Vazio"})]})]},Ee))})]}),h.jsxs("div",{className:"col-inventory",children:[h.jsx("h3",{className:"section-title",children:"BOLSA & GIL"}),h.jsxs("div",{className:"gil-display",children:[h.jsx("span",{className:"coin-icon",children:""}),e?h.jsx("input",{type:"number",className:"gil-input-master",value:r.inventory.gil,onChange:W=>w("inventory.gil",Number(W.target.value))}):h.jsx("span",{className:"gil-amount",children:r.inventory.gil}),h.jsx("span",{className:"currency",children:"GIL"})]}),h.jsxs("div",{className:"items-list",children:[h.jsx("h4",{children:"MOCHILA"}),h.jsxs("div",{className:"items-scroll",children:[(r.inventory.items||[]).map((W,Ee)=>h.jsx("div",{className:"inv-row",children:e?h.jsxs(h.Fragment,{children:[h.jsx("input",{className:"inv-name",value:W.name,onChange:fe=>w(`inventory.items.${Ee}.name`,fe.target.value)}),h.jsx("input",{className:"inv-qtd",type:"number",value:W.quantity,onChange:fe=>w(`inventory.items.${Ee}.quantity`,Number(fe.target.value))}),h.jsx("button",{className:"btn-x-red",onClick:()=>{const fe=r.inventory.items.filter((Re,Le)=>Le!==Ee);w("inventory.items",fe)},children:""})]}):h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"i-name",children:W.name||"Slot Vazio"}),h.jsxs("span",{className:"i-qtd",children:["x",W.quantity||0]})]})},Ee)),e&&h.jsx("button",{className:"add-item-btn",onClick:()=>w("inventory.items",[...r.inventory.items||[],{name:"Novo Item",quantity:1}]),children:"+ Slot"})]})]})]})]}):h.jsxs("div",{className:"skills-tab-content",children:[["primary_class","secondary_class"].map((W,Ee)=>h.jsxs("div",{className:"skills-col",children:[h.jsxs("h3",{className:`class-header ${W==="secondary_class"?"secondary":""}`,children:[e?h.jsx("input",{className:"class-name-input",value:r.job_system?.[W]?.name,onChange:fe=>w(`job_system.${W}.name`,fe.target.value)}):r.job_system?.[W]?.name,e&&h.jsx("button",{className:"btn-add-skill-slot",onClick:()=>Ve(W),children:"+"})]}),h.jsx("div",{className:"skills-list",children:(r.job_system?.[W]?.skills||[]).map((fe,Re)=>h.jsxs("div",{className:`skill-card ${W==="secondary_class"?"secondary":""} ${fe.master?"mastered":""}`,draggable:e,onDragStart:Le=>X(Le,fe,W==="primary_class"?"primary":"secondary",Re),onDragOver:ue,onDrop:Le=>_e(Le,W==="primary_class"?"primary":"secondary",Re),children:[h.jsxs("div",{className:"skill-top",children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",flex:1},children:[fe.master&&h.jsx("span",{className:"star-icon pulsing",children:""}),e?h.jsx("input",{placeholder:"Nome",value:fe.name,onChange:Le=>w(`job_system.${W}.skills.${Re}.name`,Le.target.value),className:"skill-name-in"}):h.jsx("strong",{className:"skill-name",children:fe.name||"Slot Vazio"})]}),e?h.jsx("input",{placeholder:"Custo",value:fe.cost,onChange:Le=>w(`job_system.${W}.skills.${Re}.cost`,Le.target.value),className:"skill-cost-in"}):h.jsx("span",{className:"skill-cost",children:fe.cost}),e&&h.jsx("button",{className:"btn-x-red-small",onClick:()=>He(W,Re),children:""})]}),e?h.jsx("textarea",{placeholder:"Efeito...",value:fe.effect,onChange:Le=>w(`job_system.${W}.skills.${Re}.effect`,Le.target.value),className:"skill-desc-in"}):h.jsx("p",{className:"skill-desc",children:fe.effect}),h.jsxs("div",{className:"skill-xp-box",children:[h.jsxs("div",{className:"xp-labels",children:[h.jsx("span",{children:"XP"}),e?h.jsxs("div",{style:{display:"flex"},children:[h.jsx("input",{className:"xp-tiny",value:fe.xp?.current||0,onChange:Le=>w(`job_system.${W}.skills.${Re}.xp.current`,Number(Le.target.value))})," /",h.jsx("input",{className:"xp-tiny",value:fe.xp?.max||100,onChange:Le=>w(`job_system.${W}.skills.${Re}.xp.max`,Number(Le.target.value))})]}):h.jsxs("span",{children:[fe.xp?.current||0," / ",fe.xp?.max||100]})]}),h.jsx("div",{className:`skill-track ${fe.master?"grayed":""}`,children:h.jsx("div",{className:"skill-fill",style:{width:`${Math.min((fe.xp?.current||0)/(fe.xp?.max||100)*100,100)}%`}})}),e&&!fe.master&&fe.xp?.current>=fe.xp?.max&&h.jsx("button",{className:"btn-masterize",onClick:()=>R(W,Re),children:"MASTERIZAR"})]})]},fe.id))})]},W)),h.jsx("div",{className:"skills-col extra-col",children:h.jsxs("div",{className:"extra-abilities-box",children:[h.jsxs("div",{className:"ability-row",children:[h.jsx("label",{children:"REAO"}),e?h.jsx("input",{value:r.job_system?.reaction_ability?.name,onChange:W=>w("job_system.reaction_ability.name",W.target.value),className:"ab-input"}):h.jsx("span",{children:r.job_system?.reaction_ability?.name||"-"})]}),h.jsxs("div",{className:"ability-row",children:[h.jsx("label",{children:"PASSIVA"}),e?h.jsx("input",{value:r.job_system?.passive_ability?.name,onChange:W=>w("job_system.passive_ability.name",W.target.value),className:"ab-input"}):h.jsx("span",{children:r.job_system?.passive_ability?.name||"-"})]}),h.jsxs("div",{className:"bonus-row",children:[h.jsx("label",{children:"BNUS DE CLASSE"}),e?h.jsx("textarea",{value:r.job_system?.class_bonus?.value,onChange:W=>w("job_system.class_bonus.value",W.target.value),className:"bonus-area"}):h.jsx("p",{children:r.job_system?.class_bonus?.value||"Nenhum"})]})]})})]})}),ee&&h.jsx("div",{className:"item-selector-overlay",onClick:()=>J(!1),children:h.jsxs("div",{className:"item-selector-box",onClick:W=>W.stopPropagation(),children:[h.jsx("h3",{children:"EQUIPAR DO COFRE"}),h.jsxs("div",{className:"forge-list-scroll",children:[re.length===0&&h.jsx("p",{className:"empty-text",children:"Nenhum item disponvel na Forja."}),re.map(W=>h.jsxs("div",{className:"forge-item-row",onClick:()=>se(W),children:[h.jsx("div",{className:"forge-thumb",style:Qt(W.imagem)}),h.jsxs("div",{children:[h.jsx("strong",{children:W.nome}),W.ownerId&&h.jsx("small",{style:{color:"#0f0"},children:" (Seu Item)"}),h.jsxs("p",{children:[W.descricao.substring(0,40),"..."]})]})]},W.id))]}),h.jsx("button",{className:"btn-cancel-modal",onClick:()=>J(!1),children:"CANCELAR"})]})}),I&&h.jsx("div",{className:"item-selector-overlay",onClick:()=>C(null),children:h.jsxs("div",{className:"item-details-box",onClick:W=>W.stopPropagation(),children:[h.jsx("div",{className:"detail-img-large",style:Qt(I.item_img)}),h.jsx("h3",{children:I.item_name}),h.jsx("p",{className:"details-desc",children:I.description||"Sem descrio"}),h.jsxs("p",{className:"details-effect",children:["Efeito: ",I.effect||"Nenhum"]}),h.jsx("button",{className:"btn-cancel-modal",onClick:()=>C(null),children:"FECHAR"})]})}),m&&h.jsx("div",{className:"level-up-overlay",children:h.jsx("h1",{className:"levelup-text",children:"LEVEL UP!"})})]}),h.jsx("style",{children:`
        /* GERAL */
        .ficha-overlay-fixed { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.95); z-index: 200000; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(8px); }
        .ficha-container { width: 1200px; height: 850px; max-width: 95vw; max-height: 98vh; background: #050a10; border: 2px solid #ffcc00; display: flex; flex-direction: column; position: relative; box-shadow: 0 0 50px rgba(255, 204, 0, 0.2); border-radius: 8px; overflow: hidden; font-family: 'Cinzel', serif; color: #fff; }
        .close-btn-ficha { position: absolute; top: 10px; right: 15px; background: transparent; border: none; color: #f44; font-size: 24px; cursor: pointer; z-index: 200; font-weight: bold; }
        .save-fab { position: absolute; bottom: 30px; right: 30px; width: 60px; height: 60px; border-radius: 50%; background: #222; border: 2px solid #444; color: #fff; font-size: 30px; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 300; transition: 0.3s; box-shadow: 0 0 15px #000; }
        .save-fab:hover { background: #00f2ff; border-color: #fff; color: #000; box-shadow: 0 0 30px #00f2ff; }
        .save-fab.glowing { animation: pulseSave 1.5s infinite; border-color: #00f2ff; color: #00f2ff; }
        @keyframes pulseSave { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        /* HEADER */
        .ficha-header { padding: 25px 30px 10px 30px; background: linear-gradient(90deg, #101020, #000); border-bottom: 2px solid #333; display: flex; justify-content: space-between; align-items: center; height: 140px; position: relative; }
        .guild-insignia-box, .guild-rank-box, .guild-item-box { display: flex; flex-direction: column; align-items: center; width: 80px; position: relative; padding-top: 10px; }
        .header-right-group { display: flex; gap: 20px; align-items: flex-end; }
        .header-label-top { font-size: 10px; color: #ffcc00; font-weight: bold; letter-spacing: 1px; margin-bottom: 2px; }
        .insignia-display, .rank-display, .special-display { width: 70px; height: 70px; background-size: contain; background-repeat: no-repeat; background-position: center; border: 1px solid #333; border-radius: 50%; background-color: #000; position: relative; transition: 0.2s; }
        .special-display { border-radius: 12px; }
        .clickable:hover { cursor: pointer; border-color: #ffcc00; box-shadow: 0 0 10px #ffcc00; }
        .header-info { flex: 1; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .header-info h1 { margin: 0; color: #ffcc00; font-size: 36px; letter-spacing: 4px; text-shadow: 0 0 10px rgba(255,204,0,0.3); }
        .sub-header { color: #00f2ff; font-size: 14px; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 15px; }
        .xp-container { display: flex; align-items: center; gap: 15px; width: 60%; margin-top: -5px; }
        .lvl-box { display: flex; flex-direction: column; align-items: center; background: #222; border: 1px solid #ffcc00; padding: 5px 12px; border-radius: 4px; box-shadow: 0 0 10px rgba(255,204,0,0.2); }
        .lvl-box small { font-size: 8px; color: #ffcc00; }
        .lvl-box span { font-size: 24px; font-weight: bold; line-height: 1; }
        .lvl-input { width: 40px; background: transparent; border: none; color: #fff; font-size: 24px; font-weight: bold; text-align: center; }
        .xp-bar-box { flex: 1; display: flex; flex-direction: column; }
        .xp-text { text-align: right; font-size: 10px; color: #aaa; margin-bottom: 2px; }
        .xp-mini-input { background: #111; border: none; color: #fff; width: 30px; text-align: center; font-size: 10px; }
        .xp-track { width: 100%; height: 8px; background: #111; border: 1px solid #444; border-radius: 4px; overflow: hidden; }
        .xp-fill { height: 100%; background: linear-gradient(90deg, #00f2ff, #0088ff); transition: width 0.5s; }
        .btn-levelup { background: linear-gradient(to bottom, #ffcc00, #ff8800); border: 2px solid #fff; color: #000; font-weight: bold; padding: 5px 15px; cursor: pointer; border-radius: 20px; animation: glow 1s infinite alternate; font-family: 'Cinzel', serif; font-size: 10px; }
        @keyframes glow { from { box-shadow: 0 0 10px #ffcc00; } to { box-shadow: 0 0 30px #ffcc00; transform: scale(1.05); } }
        .ficha-tabs { display: flex; background: #111; border-bottom: 1px solid #333; margin-top: 0; }
        .tab-btn { flex: 1; background: transparent; border: none; padding: 15px; color: #666; font-family: 'Cinzel', serif; font-size: 16px; cursor: pointer; transition: 0.3s; border-bottom: 3px solid transparent; }
        .tab-btn:hover { color: #fff; background: rgba(255,255,255,0.05); }
        .tab-btn.active { color: #ffcc00; border-bottom: 3px solid #ffcc00; background: rgba(255, 204, 0, 0.05); }
        .ficha-body { flex: 1; display: flex; padding: 30px 20px; gap: 20px; overflow: hidden; position: relative; }
        
        /* ESTILOS DE HABILIDADES */
        .skills-tab-content { display: flex; width: 100%; height: 100%; gap: 20px; }
        .skills-col { flex: 1; display: flex; flex-direction: column; background: rgba(0,0,0,0.3); border: 1px solid #333; padding: 10px; border-radius: 4px; overflow: hidden; }
        .skills-col.extra-col { flex: 0.5; }
        .class-header { color: #00f2ff; font-size: 16px; border-bottom: 2px solid #00f2ff; padding-bottom: 5px; margin-bottom: 10px; text-transform: uppercase; display: flex; justify-content: space-between; align-items: center; }
        .class-header.secondary { color: #aaa; border-color: #666; }
        .class-name-input { background: transparent; border: none; color: inherit; font-size: inherit; font-weight: bold; width: 80%; }
        .btn-add-skill-slot { background: transparent; border: 1px solid #555; color: #fff; width: 20px; height: 20px; cursor: pointer; font-size: 14px; line-height: 1; }
        
        .skills-list { flex: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 8px; padding-right: 5px; 
            scrollbar-width: none; 
        }
        .skills-list::-webkit-scrollbar { display: none; }
        
        .skill-card { background: rgba(0, 30, 60, 0.4); border: 1px solid #005577; padding: 8px; border-radius: 4px; cursor: grab; transition: 0.2s; }
        .skill-card.secondary { background: rgba(30, 30, 30, 0.4); border-color: #444; }
        .skill-card:active { cursor: grabbing; border-color: #ffcc00; }
        .skill-card.mastered { border-color: #ffd700; background: rgba(50, 40, 0, 0.4); }
        .skill-top { display: flex; justify-content: space-between; margin-bottom: 5px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 5px; }
        .skill-name { color: #ffcc00; font-size: 13px; }
        .skill-cost { color: #00f2ff; font-size: 11px; font-weight: bold; }
        .skill-desc { font-size: 11px; color: #ccc; line-height: 1.3; margin: 0 0 5px 0; }
        .skill-name-in, .skill-cost-in { background: transparent; border: none; color: #fff; font-size: 12px; }
        .skill-name-in { flex: 1; font-weight: bold; color: #ffcc00; }
        .skill-cost-in { width: 40px; text-align: right; color: #00f2ff; }
        .skill-desc-in { width: 100%; background: transparent; border: none; color: #ccc; font-size: 11px; resize: none; font-family: sans-serif; height: 30px; }
        
        .skill-xp-box { margin-top: 5px; background: rgba(0,0,0,0.3); padding: 4px; border-radius: 3px; }
        .xp-labels { display: flex; justify-content: space-between; font-size: 9px; color: #888; margin-bottom: 2px; }
        .xp-tiny { background: transparent; border: none; color: #aaa; width: 20px; text-align: center; font-size: 9px; }
        .skill-track { width: 100%; height: 5px; background: #222; border-radius: 2px; overflow: hidden; }
        .skill-track.grayed .skill-fill { background: #888; }
        .skill-fill { height: 100%; background: #00f2ff; transition: width 0.3s; }
        .btn-masterize { width: 100%; margin-top: 4px; background: linear-gradient(to right, #d4af37, #b8860b); border: none; color: #000; font-size: 9px; font-weight: bold; cursor: pointer; padding: 2px; border-radius: 2px; }
        .star-icon { color: #ffd700; font-size: 14px; margin-right: 5px; text-shadow: 0 0 5px #ffd700; }
        .pulsing { animation: pulseStar 1.5s infinite; }
        @keyframes pulseStar { 0% { transform: scale(1); opacity: 0.8; } 50% { transform: scale(1.3); opacity: 1; } 100% { transform: scale(1); opacity: 0.8; } }
        .btn-x-red-small { color: #f44; background: none; border: none; font-weight: bold; cursor: pointer; font-size: 12px; margin-left: 5px; }

        /* OUTRAS COLUNAS */
        .col-attributes { width: 300px; display: flex; flex-direction: column; align-items: center; border-right: 1px solid #333; padding-right: 20px; }
        .col-center-equip { flex: 1; position: relative; display: flex; justify-content: center; align-items: center; }
        .col-inventory { width: 280px; border-left: 1px solid #333; padding-left: 20px; display: flex; flex-direction: column; }
        .section-title { color: #aaa; font-size: 14px; border-bottom: 1px solid #00f2ff; width: 100%; text-align: center; margin-bottom: 15px; padding-bottom: 5px; }
        .radar-wrapper { position: relative; margin-bottom: 20px; }
        .stat-box-chart { background: #000; border: 1px solid #ffcc00; width: 40px; height: 30px; display: flex; flex-direction: column; align-items: center; justify-content: center; border-radius: 4px; box-shadow: 0 0 5px #000; }
        .sb-label { font-size: 8px; color: #aaa; }
        .sb-val { font-size: 12px; font-weight: bold; color: #fff; }
        .sb-input { width: 100%; height: 100%; background: transparent; border: none; color: #ffcc00; text-align: center; font-weight: bold; padding: 0; font-size: 12px; }
        .secondary-stats { width: 100%; }
        .stat-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; }
        .stat-row label { font-weight: bold; color: #ffcc00; width: 30px; }
        .stat-bars-inputs { flex: 1; background: rgba(255,0,0,0.1); border: 1px solid #522; padding: 5px; display: flex; align-items: center; justify-content: center; gap: 5px; color: #fff; border-radius: 4px; }
        .stat-bars-inputs.mp { background: rgba(0,0,255,0.1); border-color: #225; }
        .stat-bars-inputs input { background: transparent; border: none; color: #fff; width: 40px; text-align: center; font-family: 'serif'; font-weight: bold; }
        .stat-row-simple { display: flex; justify-content: space-between; gap: 10px; margin-top: 15px; }
        .s-box { flex: 1; background: #111; border: 1px solid #444; padding: 10px; text-align: center; border-radius: 4px; }
        .s-box label { display: block; font-size: 10px; color: #888; margin-bottom: 5px; }
        .s-box input { background: transparent; border: none; color: #fff; text-align: center; font-size: 18px; width: 100%; font-weight: bold; }
        .s-box span { font-size: 18px; font-weight: bold; }
        .char-image-frame { width: 300px; height: 450px; border: 2px solid #333; position: relative; background: #000; border-radius: 150px; overflow: hidden; box-shadow: inset 0 0 50px #000; margin-top: -20px; z-index: 1; transition: 0.2s; }
        .char-image-frame.clickable:hover { border-color: #ffcc00; cursor: pointer; }
        .image-display { width: 100%; height: 100%; background-size: cover; background-position: center; opacity: 0.8; }
        .equip-slots-overlay { position: absolute; width: 300px; height: 450px; left: 50%; top: 50%; transform: translate(-50%, -50%); pointer-events: none; z-index: 2; margin-top: -10px; }
        .equip-slot { position: absolute; width: 80px; display: flex; flex-direction: column; align-items: center; pointer-events: auto; }
        .slot-label { font-size: 9px; color: #00f2ff; text-shadow: 0 0 2px #000; margin-bottom: 2px; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; }
        .slot-square { width: 60px; height: 60px; background: rgba(0, 10, 30, 0.9); border: 1px solid #ffcc00; display: flex; align-items: center; justify-content: center; box-shadow: 0 0 15px rgba(0,0,0,0.8); position: relative; overflow: hidden; border-radius: 4px; }
        .item-bg { width: 100%; height: 100%; background-size: cover; background-position: center; position: absolute; top: 0; left: 0; }
        .empty-text { font-size: 9px; color: #666; text-align: center; line-height: 1; padding: 2px; }
        .btn-plus-item { background: transparent; color: #ffcc00; font-size: 24px; border: none; cursor: pointer; font-weight: bold; }
        .btn-eye-item { position: absolute; bottom: 2px; right: 2px; font-size: 10px; background: rgba(0,0,0,0.8); color: #fff; border: none; border-radius: 3px; cursor: pointer; padding: 2px 4px; z-index: 5; }
        .btn-return-forge { position: absolute; top: 2px; left: 2px; font-size: 10px; background: rgba(200, 0, 0, 0.8); color: #fff; border: none; border-radius: 3px; cursor: pointer; padding: 2px 4px; z-index: 5; }
        .gil-display { background: linear-gradient(90deg, rgba(255,204,0,0.1), transparent); border: 1px solid #ffcc00; padding: 15px; border-radius: 4px; display: flex; align-items: center; gap: 10px; margin-bottom: 20px; }
        .coin-icon { font-size: 20px; }
        .gil-amount { font-size: 24px; font-weight: bold; color: #fff; flex: 1; text-align: right; }
        .gil-input-master { background: transparent; border: none; color: #fff; font-size: 24px; font-weight: bold; width: 100%; text-align: right; outline: none; }
        input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
        .currency { font-size: 10px; color: #ffcc00; font-weight: bold; }
        .items-list { flex: 1; display: flex; flex-direction: column; }
        .items-list h4 { color: #888; font-size: 12px; border-bottom: 1px solid #444; padding-bottom: 5px; margin-bottom: 10px; }
        .items-scroll { flex: 1; overflow-y: auto; padding-right: 5px; }
        .inv-row { display: flex; justify-content: space-between; border-bottom: 1px solid #222; padding: 8px 0; font-size: 12px; align-items: center; }
        .inv-name { background: transparent; border: none; color: #ddd; flex: 1; font-family: 'serif'; }
        .inv-qtd { background: transparent; border: none; color: #00f2ff; width: 40px; text-align: right; font-weight: bold; }
        .btn-x-red { color: #f44; background: none; border: none; cursor: pointer; font-weight: bold; margin-left: 5px; }
        .i-name { color: #ddd; }
        .i-qtd { color: #00f2ff; font-weight: bold; }
        .add-item-btn { width: 100%; background: #222; border: 1px dashed #555; color: #888; padding: 5px; cursor: pointer; margin-top: 10px; font-size: 10px; }
        .img-modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 300000; display: flex; align-items: center; justify-content: center; }
        .img-modal-content { background: #111; border: 1px solid #ffcc00; padding: 25px; width: 400px; border-radius: 8px; text-align: center; box-shadow: 0 0 30px rgba(255,204,0,0.2); }
        .img-modal-content h3 { color: #ffcc00; margin-top: 0; font-family: 'Cinzel', serif; border-bottom: 1px solid #444; padding-bottom: 10px; margin-bottom: 20px; }
        .img-modal-content input { width: 100%; padding: 12px; background: #000; border: 1px solid #444; color: #fff; margin-bottom: 20px; outline: none; border-radius: 4px; }
        .img-modal-content input:focus { border-color: #00f2ff; }
        .img-modal-actions { display: flex; gap: 15px; justify-content: center; }
        .btn-confirm { background: #00f2ff; color: #000; padding: 10px 25px; border: none; cursor: pointer; font-weight: bold; border-radius: 4px; transition: 0.2s; }
        .btn-confirm:hover { background: #fff; box-shadow: 0 0 15px #00f2ff; }
        .btn-cancel { background: #333; color: #fff; padding: 10px 25px; border: none; cursor: pointer; border-radius: 4px; }
        .btn-cancel:hover { background: #444; }
        .item-selector-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 300000; display: flex; align-items: center; justify-content: center; }
        .item-selector-box { width: 400px; height: 500px; background: #111; border: 1px solid #ffcc00; padding: 20px; display: flex; flex-direction: column; border-radius: 8px; }
        .item-selector-box h3 { color: #ffcc00; border-bottom: 1px solid #333; padding-bottom: 10px; margin-top: 0; }
        .forge-list-scroll { flex: 1; overflow-y: auto; margin-bottom: 15px; }
        .forge-item-row { display: flex; align-items: center; padding: 10px; border-bottom: 1px solid #333; cursor: pointer; }
        .forge-item-row:hover { background: rgba(255,255,255,0.1); }
        .forge-item-row img { width: 40px; height: 40px; border: 1px solid #555; margin-right: 10px; }
        .forge-thumb { width: 40px; height: 40px; border: 1px solid #555; margin-right: 10px; background-size: cover; background-position: center; }
        .forge-item-row strong { color: #00f2ff; display: block; font-size: 12px; }
        .forge-item-row p { font-size: 10px; color: #aaa; margin: 0; }
        .btn-cancel-modal { width: 100%; padding: 10px; background: #333; color: #fff; border: none; cursor: pointer; }
        .item-details-box { width: 300px; background: #000; border: 1px solid #00f2ff; padding: 20px; text-align: center; border-radius: 8px; }
        .item-details-box img { width: 80px; height: 80px; border: 1px solid #fff; margin-bottom: 10px; }
        .detail-img-large { width: 80px; height: 80px; border: 1px solid #fff; margin: 0 auto 10px auto; background-size: cover; background-position: center; }
        .item-details-box h3 { color: #00f2ff; margin: 0 0 10px 0; }
        .details-desc { font-size: 12px; color: #ccc; margin-bottom: 10px; font-style: italic; }
        .details-effect { font-size: 12px; color: #ffcc00; font-weight: bold; margin-bottom: 20px; }
        .extra-abilities-box { margin-top: 20px; border-top: 2px solid #444; padding-top: 15px; }
        .ability-row { display: flex; align-items: center; margin-bottom: 10px; background: #222; padding: 8px; border-radius: 4px; border-left: 3px solid #ffcc00; }
        .ability-row label { font-size: 10px; color: #888; width: 60px; font-weight: bold; }
        .ability-row span { font-size: 12px; color: #fff; font-weight: bold; }
        .ab-input { background: transparent; border: none; color: #fff; font-weight: bold; flex: 1; font-size: 12px; }
        .bonus-row { margin-top: 10px; }
        .bonus-row label { font-size: 10px; color: #00f2ff; display: block; margin-bottom: 5px; font-weight: bold; }
        .bonus-row p { font-size: 12px; color: #ddd; font-style: italic; background: rgba(0,0,0,0.5); padding: 8px; border-radius: 4px; }
        .bonus-area { width: 100%; height: 60px; background: rgba(0,0,0,0.5); border: 1px solid #444; color: #ddd; font-size: 12px; padding: 5px; resize: none; }
        .level-up-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 100; display: flex; align-items: center; justify-content: center; animation: fadeOverlay 4s forwards; pointer-events: none; }
        .levelup-text { font-size: 80px; color: #ffcc00; text-shadow: 0 0 50px #ffcc00, 0 0 20px #fff; animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); letter-spacing: 5px; }
        @keyframes popIn { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @keyframes fadeOverlay { 0% { opacity: 1; } 80% { opacity: 1; } 100% { opacity: 0; } }
        .fade-in { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
      `})]})}const AM="/FF-12Liberation/assets/ficha-icon-Ds6_MepT.png",nx=({expiry:i})=>{const[e,n]=D.useState("");return D.useEffect(()=>{const r=setInterval(()=>{const o=new Date().getTime(),c=new Date(i).getTime()-o;if(c<0)n("EXPIRADA"),clearInterval(r);else{const d=Math.floor(c/864e5),m=Math.floor(c%(1e3*60*60*24)/(1e3*60*60)),g=Math.floor(c%(1e3*60*60)/(1e3*60));n(`${d}d ${m}h ${g}m`)}},1e3);return()=>clearInterval(r)},[i]),h.jsxs("span",{className:"mission-timer",children:[" ",e]})};function TM(){const i=Ui(),[e,n]=D.useState([]),[r,o]=D.useState([]),[c,d]=D.useState([]),[m,g]=D.useState([]),[y,x]=D.useState(!0),[E,N]=D.useState(!1),[j,U]=D.useState(!1),[L,B]=D.useState(!1),[ee,J]=D.useState(!1),[re,oe]=D.useState(null),[le,he]=D.useState(null),[I,C]=D.useState(null),[O,P]=D.useState(null),[T,k]=D.useState(null),[w,Se]=D.useState(""),[De,X]=D.useState(""),[ue,_e]=D.useState([]),[Ve,He]=D.useState([]),[R,Q]=D.useState({nome:"",local:"",contratante:"",descricaoMissao:"",objetivosMissao:"",requisitos:"",grupo:"",recompensa:"",rank:"E",imagem:"",duracao:"",gilRecompensa:""}),[se,ce]=D.useState({missaoId:"",dataInicio:"",cenarios:[],tokens:[]}),[me,ve]=D.useState(""),[Ne,Ge]=D.useState("cenario"),[ke,mt]=D.useState(()=>localStorage.getItem("mestreAssinatura")||"Narrador");D.useEffect(()=>{localStorage.setItem("mestreAssinatura",ke)},[ke]),D.useEffect(()=>{Go&&Go.pause();const H=sf(rt,be=>{if(be){const Je=Dn(Dt(we,"missoes"),Sa("mestreId","==",be.uid),ko("createdAt","desc")),un=Mn(Je,dn=>n(dn.docs.map(xn=>({id:xn.id,...xn.data()})))),_n=Dn(Dt(we,"resenhas"),Sa("mestreId","==",be.uid),ko("createdAt","desc")),jn=Mn(_n,dn=>o(dn.docs.map(xn=>({id:xn.id,...xn.data()})))),Zt=Dn(Dt(we,"sessoes"),Sa("mestreId","==",be.uid),ko("dataInicio","asc")),li=Mn(Zt,dn=>{const xn=dn.docs.map(qr=>({id:qr.id,...qr.data()}));d(xn)}),Br=Dn(Dt(we,"characters")),Hr=Mn(Br,dn=>{g(dn.docs.map(xn=>({id:xn.id,...xn.data()})))});return x(!1),()=>{un(),jn(),li(),Hr()}}else x(!1)});return()=>H()},[]),D.useEffect(()=>{if(re){const H=m.find(be=>be.id===re.id);H&&oe(H)}},[m]);const Wt=async H=>{if(H.preventDefault(),!!rt.currentUser)try{const be=(R.duracao.match(/(\d+)w/)||[0,0])[1]*6048e5+(R.duracao.match(/(\d+)d/)||[0,0])[1]*864e5+(R.duracao.match(/(\d+)h/)||[0,0])[1]*36e5;await gc(Dt(we,"missoes"),{...R,mestreNome:ke,mestreId:rt.currentUser.uid,createdAt:On(),expiraEm:new Date(Date.now()+(be||36e5)).toISOString()}),N(!1),Q({nome:"",local:"",contratante:"",descricaoMissao:"",objetivosMissao:"",requisitos:"",grupo:"",recompensa:"",rank:"E",imagem:"",duracao:"",gilRecompensa:""})}catch{alert("Erro ao forjar cartaz.")}},Qt=async()=>{if(!De||!w||!rt.currentUser)return alert("Preencha ttulo e contedo!");try{const H=new Date;H.setDate(H.getDate()+1),await gc(Dt(we,"resenhas"),{titulo:De,conteudo:w,mestre:ke,mestreId:rt.currentUser.uid,destinatarios:ue,createdAt:On(),expiraEm:H.toISOString()}),U(!1),Se(""),X(""),_e([])}catch{alert("Erro ao publicar.")}},W=async(H,be)=>{if(window.confirm(`Remover ${be.nome} da misso?`)){const Je=it(we,"missoes",H);await updateDoc(Je,{candidatos:GA(be)})}},Ee=()=>{me&&(ce(Ne==="cenario"?H=>({...H,cenarios:[...H.cenarios,me]}):H=>({...H,tokens:[...H.tokens,me]})),ve(""))},fe=(H,be)=>{ce(H==="cenario"?Je=>({...Je,cenarios:Je.cenarios.filter((un,_n)=>_n!==be)}):Je=>({...Je,tokens:Je.tokens.filter((un,_n)=>_n!==be)}))},Re=async H=>{if(H.preventDefault(),!se.missaoId||!se.dataInicio||!rt.currentUser)return alert("Selecione a misso e o horrio!");try{const be=e.find(_n=>_n.id===se.missaoId),Je=new Date(se.dataInicio),un=new Date(Je.getTime()+1440*60*1e3);await gc(Dt(we,"sessoes"),{missaoId:se.missaoId,missaoNome:be?be.nome:"Misso Desconhecida",mestreId:rt.currentUser.uid,dataInicio:se.dataInicio,expiraEm:un.toISOString(),participantes:Ve,cenarios:se.cenarios,tokens:se.tokens,connected_players:[],dm_online:!1,createdAt:On()}),B(!1),ce({missaoId:"",dataInicio:"",cenarios:[],tokens:[]}),He([]),alert("Sesso criada com sucesso!")}catch(be){alert("Erro ao criar sesso: "+be.message)}},Le=H=>{i("/mestre-vtt")};return y?h.jsxs("div",{className:"ether-loading",children:[h.jsx("div",{className:"loading-blur-bg"}),h.jsxs("div",{className:"loading-content",children:[h.jsx("img",{src:Cf,alt:"Carregando...",className:"chocobo-anim"}),h.jsx("div",{className:"loading-bar",children:h.jsx("div",{className:"loading-fill"})}),h.jsx("p",{children:"CARREGANDO DADOS DO MESTRE..."})]}),h.jsx("style",{children:`
          .ether-loading { height: 100vh; width: 100vw; background: #000; display: flex; align-items: center; justify-content: center; position: fixed; top: 0; left: 0; z-index: 9999; }
          .loading-blur-bg { position: absolute; width: 100%; height: 100%; background: radial-gradient(circle, #001a33 0%, #000 100%); filter: blur(40px); animation: pulseBlur 2s infinite alternate; }
          .loading-content { position: relative; z-index: 10; text-align: center; }
          .chocobo-anim { width: 120px; filter: drop-shadow(0 0 10px #ffcc00); margin-bottom: 20px; }
          .loading-bar { width: 200px; height: 2px; background: rgba(255, 255, 255, 0.1); margin: 0 auto 15px auto; border-radius: 10px; overflow: hidden; }
          .loading-fill { height: 100%; width: 0%; background: #ffcc00; box-shadow: 0 0 10px #ffcc00; animation: fillProgress 1s ease-in-out forwards; }
          p { color: #ffcc00; font-family: 'serif'; font-size: 10px; letter-spacing: 3px; animation: fadeText 1s infinite alternate; }
          @keyframes fillProgress { from { width: 0%; } to { width: 100%; } }
          @keyframes pulseBlur { from { opacity: 0.5; } to { opacity: 0.8; } }
          @keyframes fadeText { from { opacity: 0.4; } to { opacity: 1; } }
          `})]}):h.jsxs("div",{className:"mestre-container",children:[h.jsx("div",{className:"mestre-bg-image-full",style:{backgroundImage:`url(${i1})`}}),h.jsxs("div",{className:"mestre-content",children:[h.jsxs("div",{className:"top-bar-flex",children:[h.jsx("h1",{className:"ff-title",children:"HUB DO NARRADOR"}),h.jsxs("div",{className:"mestre-identity-box ff-card fade-in",children:[h.jsx("label",{children:"ASSINATURA DO MESTRE:"}),h.jsx("input",{type:"text",value:ke,onChange:H=>mt(H.target.value)})]})]}),h.jsxs("div",{className:"mestre-grid",children:[h.jsxs("div",{className:"ff-card board-column",children:[h.jsxs("div",{className:"card-header no-border",children:[h.jsx("h3",{children:"QUADRO DE MISSES"}),h.jsxs("button",{className:"ff-add-btn",onClick:()=>N(!0),children:[h.jsx("span",{children:"+"})," ADICIONAR CARTAZ"]})]}),h.jsx("div",{className:"mission-scroll",children:e.map(H=>{const be=parseInt(H.grupo)||0,Je=H.candidatos?H.candidatos.length:0,un=be>0?Je/be*100:0,_n=Je>=be&&be>0;return h.jsxs("div",{className:`mission-poster rank-${H.rank}`,children:[h.jsx("div",{className:"poster-rank-label-fixed",children:H.rank}),h.jsxs("span",{className:"mestre-tag",children:["Narrador: ",H.mestreNome]}),h.jsx("h4",{children:H.nome}),h.jsxs("p",{className:"gil-recompensa",children:[" Recompensa: ",H.gilRecompensa," Gil"]}),h.jsxs("div",{className:"vagas-container",children:[h.jsxs("div",{className:"vagas-labels",children:[h.jsx("span",{children:"JOGADORES:"}),h.jsxs("span",{style:{color:_n?"#f44":"#0f0"},children:[Je," / ",be]})]}),h.jsx("div",{className:"vagas-track",children:h.jsx("div",{className:"vagas-fill",style:{width:`${un}%`,background:_n?"#f44":"#00f2ff"}})})]}),H.candidatos&&H.candidatos.length>0&&h.jsxs("div",{className:"candidates-mini-box",children:[h.jsx("strong",{children:"Candidatos:"}),H.candidatos.map(jn=>h.jsxs("div",{className:"cand-row-master",children:[h.jsxs("span",{style:{color:jn.isLeader?"#ffcc00":"#ccc"},children:[jn.isLeader&&""," ",jn.nome," (",jn.classe,")"]}),h.jsx("button",{className:"btn-kick-x",title:"Remover Jogador",onClick:()=>W(H.id,jn),children:""})]},jn.uid))]}),h.jsx(nx,{expiry:H.expiraEm}),h.jsxs("div",{className:"poster-actions",children:[h.jsx("button",{className:"btn-cyan",onClick:()=>P(H.imagem),children:"CARTAZ"}),h.jsx("button",{className:"btn-cyan",onClick:()=>he(H),children:"DETALHES"}),h.jsx("button",{className:"btn-red",onClick:()=>Es(it(we,"missoes",H.id)),children:"EXCLUIR"})]})]},H.id)})})]}),h.jsxs("div",{className:"ff-card sanchez-card board-column",children:[h.jsxs("div",{className:"sanchez-header-top no-border",children:[h.jsx("h3",{children:"RESENHA DO SANCHEZ"}),h.jsx("button",{className:"ff-add-btn-gold-small",onClick:()=>U(!0),children:"+ CRIAR NOVA RESENHA"})]}),h.jsx("div",{className:"mission-scroll",children:r.map(H=>h.jsxs("div",{className:"resenha-item-card",children:[h.jsx("h4",{children:H.titulo}),h.jsx(nx,{expiry:H.expiraEm}),h.jsxs("div",{className:"poster-actions",children:[h.jsx("button",{className:"btn-cyan",onClick:()=>C(H),children:"VISUALIZAR"}),h.jsx("button",{className:"btn-red",onClick:()=>Es(it(we,"resenhas",H.id)),children:"EXCLUIR"})]})]},H.id))})]}),h.jsxs("div",{className:"ff-card board-column",children:[h.jsxs("div",{className:"card-header no-border",children:[h.jsx("h3",{children:"SESSES DE JOGO"}),h.jsx("button",{className:"ff-add-btn small-btn",onClick:()=>B(!0),children:"INICIAR NOVA SESSO"})]}),h.jsx("div",{className:"mission-scroll",children:c.length===0?h.jsx("div",{className:"empty-instancia",children:"NENHUMA INSTNCIA ATIVA"}):c.map(H=>h.jsxs("div",{className:"sessao-card",children:[h.jsx("div",{className:"sessao-status",children:" AO VIVO / AGENDADA"}),h.jsx("h4",{className:"sessao-title",children:H.missaoNome}),h.jsxs("div",{className:"sessao-info",children:[h.jsxs("span",{children:[" ",new Date(H.dataInicio).toLocaleString()]}),h.jsxs("span",{className:"sessao-players",children:[" ",H.participantes?.length||0," Jogadores"]})]}),h.jsxs("div",{className:"sessao-assets-count",children:[" ",H.cenarios?.length||0," Cenrios   ",H.tokens?.length||0," Tokens"]}),h.jsxs("div",{className:"poster-actions",style:{marginTop:"15px"},children:[h.jsx("button",{className:"btn-cyan",onClick:()=>k(H),children:" MEMBROS"}),h.jsx("button",{className:"btn-play-vtt",onClick:()=>Le(),children:" ACESSAR VTT"}),h.jsx("button",{className:"btn-red",onClick:()=>Es(it(we,"sessoes",H.id)),children:"CANCELAR"})]})]},H.id))})]})]})]}),ee&&h.jsx("div",{className:"ff-modal-overlay-fixed",onClick:()=>J(!1),children:h.jsxs("div",{className:"ff-modal-scrollable ff-card",onClick:H=>H.stopPropagation(),children:[h.jsx("h3",{className:"modal-title-ff",children:"PERSONAGENS REGISTRADOS"}),h.jsx("div",{className:"destinatarios-grid-fixed",children:m.map(H=>h.jsxs("div",{className:"ficha-list-item",children:[h.jsxs("div",{className:"ficha-row-name",children:[h.jsx("strong",{children:H.name}),h.jsxs("small",{children:[H.race," // ",H.class]})]}),h.jsx("button",{className:"btn-cyan",onClick:()=>{oe(H),J(!1)},children:"ABRIR FICHA "})]},H.id))}),h.jsx("button",{className:"btn-cancelar-main",style:{marginTop:"20px"},onClick:()=>J(!1),children:"FECHAR"})]})}),re&&h.jsx(Vg,{characterData:re,isMaster:!0,onClose:()=>oe(null)}),E&&h.jsx("div",{className:"ff-modal-overlay-fixed",children:h.jsxs("div",{className:"ff-modal-scrollable ff-card",children:[h.jsx("h3",{className:"modal-title-ff",children:"NOVA MISSO"}),h.jsxs("form",{onSubmit:Wt,children:[h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"NOME DA MISSO"}),h.jsx("input",{placeholder:"Ttulo...",value:R.nome,onChange:H=>Q({...R,nome:H.target.value}),required:!0})]}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"LOCAL"}),h.jsx("input",{placeholder:"Onde ocorre...",value:R.local,onChange:H=>Q({...R,local:H.target.value})})]}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"CONTRATANTE"}),h.jsx("input",{placeholder:"Quem paga...",value:R.contratante,onChange:H=>Q({...R,contratante:H.target.value})})]}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"DESCRIO DA MISSO"}),h.jsx("textarea",{className:"tall-area-dark",placeholder:"Detalhes da histria e contexto...",value:R.descricaoMissao,onChange:H=>Q({...R,descricaoMissao:H.target.value})})]}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"OBJETIVOS DA MISSO"}),h.jsx("textarea",{className:"tall-area-dark",placeholder:"O que deve ser feito passo a passo...",value:R.objetivosMissao,onChange:H=>Q({...R,objetivosMissao:H.target.value})})]}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"REQUISITOS DA MISSO"}),h.jsx("textarea",{className:"tall-area-dark",placeholder:"O que  necessrio para aceitar...",value:R.requisitos,onChange:H=>Q({...R,requisitos:H.target.value})})]}),h.jsxs("div",{className:"row-double-ff",children:[h.jsxs("div",{className:"field-group",children:[h.jsx("label",{children:"GRUPO MXIMO"}),h.jsx("input",{placeholder:"Ex: 4",value:R.grupo,onChange:H=>Q({...R,grupo:H.target.value})})]}),h.jsxs("div",{className:"field-group",children:[h.jsx("label",{children:"RANK"}),h.jsx("select",{value:R.rank,onChange:H=>Q({...R,rank:H.target.value}),children:["E","D","C","B","A","S","SS","SC"].map(H=>h.jsxs("option",{value:H,children:["RANK ",H]},H))})]})]}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"RECOMPENSAS EXTRAS"}),h.jsx("textarea",{className:"tall-area-dark",placeholder:"Itens, especiarias...",value:R.recompensa,onChange:H=>Q({...R,recompensa:H.target.value})})]}),h.jsxs("div",{className:"row-double-ff",children:[h.jsxs("div",{className:"field-group",children:[h.jsx("label",{children:"GIL"}),h.jsx("input",{type:"text",className:"gil-input",placeholder:"Ex: 5000",value:R.gilRecompensa,onChange:H=>Q({...R,gilRecompensa:H.target.value.replace(/\D/g,"")})})]}),h.jsxs("div",{className:"field-group",children:[h.jsx("label",{children:"DURAO"}),h.jsx("input",{placeholder:"Ex: 1d 10h",value:R.duracao,onChange:H=>Q({...R,duracao:H.target.value}),required:!0})]})]}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"IMAGEM"}),h.jsx("input",{placeholder:"Link Imgur...",value:R.imagem,onChange:H=>Q({...R,imagem:H.target.value})})]}),h.jsxs("div",{className:"btn-group-ff",children:[h.jsx("button",{type:"submit",className:"btn-forjar-main",children:"FORJAR MISSO"}),h.jsx("button",{type:"button",className:"btn-cancelar-main",onClick:()=>N(!1),children:"FECHAR"})]})]})]})}),j&&h.jsx("div",{className:"ff-modal-overlay-fixed",children:h.jsxs("div",{className:"ff-modal-scrollable ff-card",children:[h.jsx("h3",{className:"modal-title-ff",children:"ESCREVER RESENHA"}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"TTULO"}),h.jsx("input",{className:"ff-modal-input-dark",value:De,onChange:H=>X(H.target.value)})]}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"CORPO"}),h.jsx("textarea",{className:"tall-area-ff-dark",value:w,onChange:H=>Se(H.target.value)})]}),h.jsxs("div",{className:"player-selector-box-fixed",children:[h.jsx("label",{children:"DESTINATRIOS:"}),h.jsx("div",{className:"destinatarios-grid-fixed",children:m.map(H=>h.jsxs("label",{className:"chip-label-ff",children:[h.jsx("input",{type:"checkbox",checked:ue.includes(H.name),onChange:()=>ue.includes(H.name)?_e(ue.filter(be=>be!==H.name)):_e([...ue,H.name])})," ",H.name]},H.id))})]}),h.jsxs("div",{className:"btn-group-ff",children:[h.jsx("button",{className:"btn-forjar-main",onClick:Qt,children:"PUBLICAR"}),h.jsx("button",{className:"btn-cancelar-main",onClick:()=>U(!1),children:"FECHAR"})]})]})}),L&&h.jsx("div",{className:"ff-modal-overlay-fixed",children:h.jsxs("div",{className:"ff-modal-scrollable ff-card",children:[h.jsx("h3",{className:"modal-title-ff",children:"CRIAR NOVA SESSO"}),h.jsxs("form",{onSubmit:Re,children:[h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"SELECIONAR MISSO"}),h.jsxs("select",{className:"ff-select-dark",value:se.missaoId,onChange:H=>ce({...se,missaoId:H.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"-- Escolha --"}),e.map(H=>h.jsxs("option",{value:H.id,children:[H.nome," (Rank ",H.rank,")"]},H.id))]})]}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"DATA E HORRIO"}),h.jsx("input",{type:"datetime-local",className:"ff-input-dark",value:se.dataInicio,onChange:H=>ce({...se,dataInicio:H.target.value}),required:!0})]}),h.jsxs("div",{className:"player-selector-box-fixed",children:[h.jsx("label",{children:"JOGADORES:"}),h.jsx("div",{className:"destinatarios-grid-fixed",children:m.map(H=>h.jsxs("label",{className:"chip-label-ff",children:[h.jsx("input",{type:"checkbox",checked:Ve.includes(H.name),onChange:()=>Ve.includes(H.name)?He(Ve.filter(be=>be!==H.name)):He([...Ve,H.name])})," ",H.name," (",H.class,")"]},H.id))})]}),h.jsxs("div",{className:"upload-section-box",children:[h.jsx("h4",{className:"upload-section-title",children:"IMPORTAR IMAGENS"}),h.jsxs("div",{className:"link-import-row",children:[h.jsx("input",{className:"ff-input-dark",value:me,onChange:H=>ve(H.target.value)}),h.jsxs("select",{className:"ff-select-dark small-select",value:Ne,onChange:H=>Ge(H.target.value),children:[h.jsx("option",{value:"cenario",children:"Cenrio"}),h.jsx("option",{value:"token",children:"Token"})]}),h.jsx("button",{type:"button",className:"btn-cyan",onClick:Ee,children:"+"})]}),h.jsxs("div",{className:"assets-lists",children:[se.cenarios.map((H,be)=>h.jsxs("div",{className:"asset-item",children:[h.jsx("span",{className:"truncate-link",children:H}),h.jsx("button",{type:"button",className:"btn-remove-x",onClick:()=>fe("cenario",be),children:""})]},be)),se.tokens.map((H,be)=>h.jsxs("div",{className:"asset-item",children:[h.jsx("span",{className:"truncate-link",children:H}),h.jsx("button",{type:"button",className:"btn-remove-x",onClick:()=>fe("token",be),children:""})]},be))]})]}),h.jsxs("div",{className:"btn-group-ff",children:[h.jsx("button",{type:"submit",className:"btn-forjar-main",children:"AGENDAR"}),h.jsx("button",{type:"button",className:"btn-cancelar-main",onClick:()=>B(!1),children:"CANCELAR"})]})]})]})}),T&&h.jsx("div",{className:"ff-modal-overlay-fixed",onClick:()=>k(null),children:h.jsxs("div",{className:"ff-modal-scrollable ff-card",onClick:H=>H.stopPropagation(),style:{height:"auto",maxHeight:"500px"},children:[h.jsx("h3",{className:"modal-title-ff",children:"MEMBROS ALOCADOS"}),h.jsx("div",{className:"destinatarios-grid-fixed",children:T.participantes?.map((H,be)=>h.jsxs("div",{className:"chip-label-ff",style:{cursor:"default",color:"#fff",borderColor:"#00f2ff"},children:[" ",H]},be))}),h.jsx("button",{className:"btn-cancelar-main",style:{marginTop:"20px",width:"100%"},onClick:()=>k(null),children:"FECHAR"})]})}),le&&h.jsx("div",{className:"ff-modal-overlay-fixed",onClick:()=>he(null),children:h.jsxs("div",{className:"ff-modal ff-card detail-view-main",onClick:H=>H.stopPropagation(),children:[h.jsxs("div",{className:"detail-header-modern",children:[h.jsx("div",{className:`detail-rank-badge rank-${le.rank}`,children:le.rank}),h.jsxs("div",{className:"detail-title-col",children:[h.jsx("h2",{children:le.nome}),h.jsxs("span",{className:"detail-narrator",children:["Narrador: ",le.mestreNome]})]})]}),h.jsxs("div",{className:"detail-body-grid",children:[h.jsxs("div",{className:"detail-info-row",children:[h.jsxs("div",{className:"info-item",children:[h.jsx("label",{children:" LOCAL"}),h.jsx("span",{children:le.local||"Desconhecido"})]}),h.jsxs("div",{className:"info-item",children:[h.jsx("label",{children:" CONTRATANTE"}),h.jsx("span",{children:le.contratante||"Annimo"})]})]}),h.jsxs("div",{className:"detail-section",children:[h.jsx("label",{className:"section-label",children:"VAGAS"}),h.jsxs("div",{style:{background:"#111",padding:"10px",borderRadius:"4px"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#aaa",marginBottom:"5px"},children:[h.jsx("span",{children:"STATUS DO GRUPO"}),h.jsxs("span",{children:[le.candidatos?le.candidatos.length:0," / ",le.grupo||"?"]})]}),h.jsx("div",{style:{width:"100%",height:"6px",background:"#333",borderRadius:"3px"},children:h.jsx("div",{style:{width:`${Math.min((le.candidatos?.length||0)/(parseInt(le.grupo)||1)*100,100)}%`,height:"100%",background:le.candidatos?.length>=parseInt(le.grupo)?"#f44":"#00f2ff"}})})]})]}),h.jsxs("div",{className:"detail-section",children:[h.jsx("label",{className:"section-label",children:" DESCRIO"}),h.jsx("p",{className:"section-text",children:le.descricaoMissao})]}),h.jsxs("div",{className:"detail-section",children:[h.jsx("label",{className:"section-label",children:" OBJETIVOS"}),h.jsx("p",{className:"section-text",children:le.objetivosMissao})]}),h.jsxs("div",{className:"detail-section",children:[h.jsx("label",{className:"section-label",children:" REQUISITOS"}),h.jsx("p",{className:"section-text",children:le.requisitos})]}),h.jsxs("div",{className:"detail-section reward-section",children:[h.jsx("label",{className:"section-label",children:" RECOMPENSAS"}),h.jsxs("div",{className:"reward-content-box",children:[h.jsxs("div",{className:"gil-display-row",children:[h.jsx("span",{className:"gil-icon",children:""})," ",h.jsxs("span",{className:"gil-value",children:[le.gilRecompensa||0," GIL"]})]}),le.recompensa&&h.jsx("div",{className:"extra-rewards-list",children:le.recompensa.split(`
`).map((H,be)=>h.jsxs("div",{className:"reward-item",children:[" ",H]},be))})]})]})]}),h.jsx("button",{className:"ff-final-close-btn",onClick:()=>he(null),children:"FECHAR RELATRIO"})]})}),O&&h.jsx("div",{className:"ff-modal-overlay-fixed",onClick:()=>P(null),children:h.jsxs("div",{className:"lightbox-wrap",children:[h.jsx("button",{className:"close-lightbox",onClick:()=>P(null),children:""}),h.jsx("img",{src:O,alt:"Cartaz",className:"cartaz-full-view"})]})}),I&&h.jsx("div",{className:"papiro-overlay-full",onClick:()=>C(null),children:h.jsxs("div",{className:"papiro-real-container",style:{backgroundImage:`url(${r1})`},onClick:H=>H.stopPropagation(),children:[h.jsx("div",{className:"sanchez-oval-view-no-border",style:{backgroundImage:`url(${Tm})`}}),h.jsx("h2",{className:"papiro-title-real",children:I.titulo}),h.jsxs("p",{className:"papiro-mestre-sub",children:["Narrador: ",I.mestre]}),h.jsx("div",{className:"papiro-body-real",dangerouslySetInnerHTML:{__html:I.conteudo.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br/>")}}),h.jsxs("div",{className:"papiro-dest-list",children:[h.jsx("strong",{children:"ENVIADO PARA:"})," ",I.destinatarios?.join(", ")]}),h.jsx("button",{className:"papiro-close-btn",onClick:()=>C(null),children:"FECHAR"})]})}),h.jsxs("div",{className:"master-floating-group",children:[h.jsx(s1,{}),h.jsx(Pg,{isMestre:!0}),h.jsx("button",{className:"fichas-trigger-btn",onClick:()=>J(!0),title:"Gerenciar Fichas",children:h.jsx("img",{src:AM,alt:"Fichas",onError:H=>{H.target.style.display="none",H.target.parentNode.innerText="FICHAS"}})})]}),h.jsx("style",{children:`
        /* ESTILOS MANTIDOS + NOVOS */
        .mestre-container { background: #000; min-height: 100vh; position: relative; color: #fff; font-family: 'serif'; overflow: hidden; }
        .mestre-bg-image-full { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center top; background-repeat: no-repeat; opacity: 0.35; z-index: 0; filter: contrast(125%) brightness(75%); }
        .mestre-content { position: relative; z-index: 1; padding: 20px; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }
        
        .top-bar-flex { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .ff-title { color: #ffcc00; text-shadow: 0 0 10px #ffcc00; letter-spacing: 5px; font-size: 2rem; margin: 0; }
        .mestre-identity-box { display: flex; align-items: center; gap: 10px; border: 1px solid #ffcc00; padding: 8px 15px; background: rgba(0, 10, 30, 0.9); }
        .mestre-identity-box input { background: #fff; border: 1px solid #ffcc00; color: #000; padding: 5px 10px; font-weight: bold; font-family: 'serif'; outline: none; }

        /* GRID RESPONSIVO TELA NICA */
        .mestre-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; flex: 1; overflow: hidden; padding-bottom: 60px; /* Espao para botes flutuantes */ }
        
        /* CARDS TELA NICA */
        .ff-card { background: rgba(0, 10, 30, 0.95); border: 1px solid #ffcc00; padding: 15px; border-radius: 4px; backdrop-filter: blur(10px); display: flex; flex-direction: column; max-height: 100%; }
        .board-column { flex: 1; overflow: hidden; min-height: 0; }
        
        .card-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 15px; flex-shrink: 0; }
        .card-header.no-border { border-bottom: none; }
        
        .mission-scroll { flex: 1; overflow-y: auto; padding-right: 5px; scrollbar-width: thin; scrollbar-color: #ffcc00 #000; }
        .mission-scroll::-webkit-scrollbar { width: 6px; }
        .mission-scroll::-webkit-scrollbar-thumb { background: #ffcc00; }

        .mission-poster { background: rgba(255,255,255,0.04); border: 1px solid #444; margin-bottom: 15px; padding: 18px; border-left: 4px solid #00f2ff; position: relative; }
        .poster-rank-label-fixed { position: absolute; top: 12px; right: 18px; font-size: 32px; color: #ffcc00; opacity: 0.35; font-weight: bold; }
        .mestre-tag { color: #ffcc00; font-size: 10px; text-transform: uppercase; font-weight: bold; display: block; margin-bottom: 8px; }
        .candidates-mini-box { margin-top: 8px; background: rgba(0,0,0,0.3); padding: 5px; border-radius: 3px; }
        .cand-row-master { display: flex; justify-content: space-between; align-items: center; font-size: 10px; margin-bottom: 2px; }
        .btn-kick-x { background: transparent; border: none; color: #f44; cursor: pointer; font-weight: bold; font-size: 12px; }
        .btn-kick-x:hover { color: #fff; }

        /* VAGAS VISUAL */
        .vagas-container { margin: 10px 0; }
        .vagas-labels { display: flex; justify-content: space-between; font-size: 10px; color: #ccc; margin-bottom: 2px; font-weight: bold; }
        .vagas-track { width: 100%; height: 6px; background: #111; border: 1px solid #444; border-radius: 3px; overflow: hidden; }
        .vagas-fill { height: 100%; transition: width 0.3s; }

        .sanchez-card { position: relative; overflow: hidden; }
        .sanchez-header-top { position: relative; z-index: 1; margin-bottom: 15px; border-bottom: 1px solid #333; padding-bottom: 10px; flex-shrink: 0; }
        .sanchez-header-top.no-border { border-bottom: none; }
        .resenha-item-card { background: rgba(255,255,255,0.05); border: 1px solid #333; padding: 15px; margin-top: 12px; border-radius: 4px; }
        .sessao-card { background: linear-gradient(135deg, rgba(20,20,50,0.9), rgba(0,0,20,0.9)); border: 1px solid #00f2ff; padding: 15px; margin-bottom: 15px; border-radius: 4px; box-shadow: 0 0 10px rgba(0,242,255,0.1); }
        .sessao-status { font-size: 10px; color: #f44; font-weight: bold; margin-bottom: 8px; animation: pulse 2s infinite; }
        .sessao-title { color: #fff; font-size: 18px; margin: 0 0 10px 0; border-bottom: 1px solid #333; padding-bottom: 8px; }
        .sessao-info { display: flex; justify-content: space-between; font-size: 12px; color: #aaa; margin-bottom: 10px; }
        .sessao-assets-count { font-size: 11px; color: #ffcc00; background: rgba(0,0,0,0.3); padding: 5px; border-radius: 3px; display: inline-block; }
        .btn-play-vtt { background: #00f2ff; color: #000; border: none; padding: 8px 15px; font-weight: bold; cursor: pointer; flex: 1; margin-right: 10px; transition: 0.3s; }
        .btn-play-vtt:hover { background: #fff; box-shadow: 0 0 15px #00f2ff; }
        @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
        .upload-section-box { border: 1px dashed #444; padding: 15px; margin: 20px 0; background: rgba(0,0,0,0.3); }
        .upload-section-title { color: #00f2ff; font-size: 12px; margin-bottom: 15px; border-bottom: 1px solid #00f2ff; padding-bottom: 5px; display: inline-block; }
        .ff-select-dark { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; outline: none; font-family: 'serif'; }
        .ff-input-dark { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; outline: none; font-family: 'serif'; color-scheme: dark; }
        .link-import-row { display: flex; gap: 10px; margin-bottom: 15px; }
        .small-select { width: 120px; }
        .assets-lists { display: flex; flex-direction: column; gap: 10px; }
        .asset-group { background: rgba(255,255,255,0.05); padding: 10px; border-radius: 4px; }
        .asset-group label { display: block; color: #ffcc00; font-size: 10px; font-weight: bold; margin-bottom: 5px; border-bottom: 1px solid #333; }
        .asset-item { display: flex; justify-content: space-between; align-items: center; font-size: 11px; color: #ddd; margin-bottom: 4px; }
        .truncate-link { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 350px; }
        .btn-remove-x { background: transparent; border: none; color: #f44; font-weight: bold; cursor: pointer; font-size: 14px; }
        .ff-modal-overlay-fixed { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.94); z-index: 99999; display: flex; align-items: center; justify-content: center; }
        .ff-modal-scrollable { width: 550px; max-height: 90vh; overflow-y: auto; background: #000c1d; border: 2px solid #ffcc00; padding: 35px; box-shadow: 0 0 60px rgba(0,0,0,0.9); }
        .modal-title-ff { color: #fff; font-size: 22px; border-bottom: 1px solid #ffcc00; padding-bottom: 10px; margin-bottom: 20px; letter-spacing: 2px; }
        .modal-input-group { margin-bottom: 20px; }
        .modal-input-group label { color: #ffcc00; font-size: 11px; display: block; margin-bottom: 8px; font-weight: bold; letter-spacing: 1px; }
        .modal-input-group input { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; outline: none; font-family: 'serif'; font-size: 14px; }
        .row-double-ff { display: flex; gap: 20px; margin-bottom: 20px; }
        .field-group { flex: 1; display: flex; flex-direction: column; }
        .field-group label { color: #ffcc00; font-size: 11px; display: block; margin-bottom: 8px; font-weight: bold; }
        .field-group input, .field-group select { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; font-family: 'serif'; outline: none; }
        .tall-area-dark { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; height: 110px; resize: none; font-family: 'serif'; outline: none; }
        .tall-area-ff-dark { width: 100%; background: #000; border: 1px solid #ffcc00; color: #fff; padding: 15px; height: 250px; resize: none; font-family: 'serif'; outline: none; font-size: 16px; border-radius: 4px; }
        .detail-view-main { width: 600px; background: #000814; border: 1px solid #ffcc00; padding: 0; box-shadow: 0 0 40px rgba(255, 204, 0, 0.1); overflow: hidden; display: flex; flex-direction: column; }
        .detail-header-modern { background: linear-gradient(90deg, #1a1a1a 0%, #000 100%); padding: 25px 30px; display: flex; align-items: center; border-bottom: 1px solid #333; gap: 20px; }
        .detail-rank-badge { font-size: 32px; font-weight: bold; color: #ffcc00; text-shadow: 0 0 10px rgba(255,204,0,0.5); border: 2px solid #ffcc00; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background: rgba(0,0,0,0.5); }
        .detail-title-col h2 { margin: 0; font-size: 24px; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        .detail-narrator { color: #00f2ff; font-size: 12px; font-weight: bold; text-transform: uppercase; margin-top: 4px; display: block; }
        .detail-body-grid { padding: 30px; display: flex; flex-direction: column; gap: 20px; }
        .detail-info-row { display: flex; gap: 25px; margin-bottom: 10px; border-bottom: 1px solid #333; padding-bottom: 15px; }
        .info-item { flex: 1; }
        .info-item label { color: #ffcc00; font-size: 10px; display: block; margin-bottom: 5px; font-weight: bold; opacity: 0.8; }
        .info-item span { color: #fff; font-size: 14px; font-weight: bold; letter-spacing: 0.5px; }
        .detail-section { margin-bottom: 5px; }
        .section-label { color: #ffcc00; font-size: 11px; font-weight: bold; display: block; margin-bottom: 8px; letter-spacing: 1px; text-transform: uppercase; border-bottom: 1px solid #333; padding-bottom: 4px; }
        .section-text { font-size: 15px; line-height: 1.5; color: #ddd; margin: 0; white-space: pre-wrap; }
        .reward-section { margin-top: 10px; background: rgba(255,204,0,0.05); padding: 15px; border-radius: 4px; border: 1px solid rgba(255,204,0,0.2); }
        .gil-display-row { display: flex; align-items: center; gap: 10px; font-size: 18px; color: #ffcc00; font-weight: bold; margin-bottom: 8px; }
        .extra-rewards-list { margin-top: 8px; padding-left: 5px; }
        .reward-item { color: #aaa; font-size: 14px; margin-bottom: 4px; font-style: italic; }
        .ff-final-close-btn { width: 100%; background: #111; color: #fff; border: none; border-top: 1px solid #333; padding: 20px; font-weight: bold; cursor: pointer; font-size: 13px; text-transform: uppercase; transition: 0.2s; }
        .ff-final-close-btn:hover { background: #222; color: #ffcc00; }
        .papiro-overlay-full { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); z-index: 100000; display: flex; align-items: center; justify-content: center; }
        .papiro-real-container { width: 1000px; height: 800px; max-width: 95vw; max-height: 95vh; background-size: 100% 100%; background-repeat: no-repeat; padding: 110px 160px; color: #3b2b1a; position: relative; display: flex; flex-direction: column; }
        .sanchez-oval-view-no-border { width: 110px; height: 110px; float: right; border-radius: 50%; background-size: cover; margin-left: 20px; mask-image: radial-gradient(circle, black 60%, transparent 100%); -webkit-mask-image: radial-gradient(circle, black 60%, transparent 100%); opacity: 0.9; }
        .papiro-title-real { border-bottom: 2px solid #3b2b1a; padding-bottom: 5px; margin-top: 0; font-size: 32px; font-weight: bold; }
        .papiro-mestre-sub { font-size: 14px; font-style: italic; opacity: 0.8; margin-top: 5px; }
        .papiro-body-real { margin-top: 25px; flex: 1; overflow-y: auto; line-height: 1.6; font-size: 18px; padding-right: 10px; scrollbar-width: none; -ms-overflow-style: none; }
        .papiro-body-real::-webkit-scrollbar { display: none; }
        .papiro-dest-list { margin-top: 15px; font-size: 14px; border-top: 1px solid rgba(59, 43, 26, 0.3); padding-top: 10px; }
        .papiro-close-btn { position: absolute; bottom: 45px; right: 110px; background: #3b2b1a; color: #f4e4bc; border: none; padding: 8px 20px; cursor: pointer; font-weight: bold; font-size: 13px; border-radius: 2px; }
        .ff-add-btn { background: transparent; border: 1px solid #00f2ff; color: #00f2ff; padding: 10px 20px; cursor: pointer; font-weight: bold; font-size: 12px; }
        .ff-add-btn-gold-small { background: transparent; border: 1px solid #ffcc00; color: #ffcc00; padding: 8px 15px; cursor: pointer; font-weight: bold; font-size: 11px; transition: 0.3s; }
        .ff-add-btn-gold-small:hover { background: #ffcc00; color: #000; box-shadow: 0 0 15px #ffcc00; }
        .btn-cyan { border: 1px solid #00f2ff; color: #00f2ff; padding: 6px 15px; background: transparent; cursor: pointer; font-size: 11px; margin-right: 10px; font-weight: bold; }
        .btn-red { border: 1px solid #f44; color: #f44; padding: 6px 15px; background: transparent; cursor: pointer; font-size: 11px; font-weight: bold; }
        .btn-group-ff { display: flex; gap: 20px; margin-top: 25px; }
        .btn-forjar-main { flex: 1; background: #ffcc00; color: #000; border: none; padding: 14px; font-weight: bold; cursor: pointer; font-size: 14px; text-transform: uppercase; }
        /* CORREO DO CSS: Renomeado de btn-cancel-main para btn-cancelar-main para bater com o JSX */
        .btn-cancelar-main { flex: 1; background: #000; color: #fff; border: 1px solid #fff; padding: 14px; cursor: pointer; text-align: center; font-size: 14px; text-transform: uppercase; }
        .player-selector-box-fixed { margin: 25px 0; border-top: 1px solid #333; padding-top: 15px; }
        .destinatarios-grid-fixed { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 12px; }
        .chip-label-ff { background: rgba(0, 10, 30, 0.8); border: 1px solid #ffcc00; color: #ffcc00; padding: 8px 18px; border-radius: 4px; font-size: 12px; cursor: pointer; display: inline-block; }
        .mission-timer { font-size: 12px; color: #00f2ff; display: block; margin-top: 10px; font-weight: bold; letter-spacing: 1px; }
        .fade-in { animation: fadeIn 1s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .lightbox-wrap { position: relative; max-width: 90vw; max-height: 90vh; }
        .cartaz-full-view { max-width: 100%; max-height: 90vh; border: 3px solid #ffcc00; box-shadow: 0 0 50px #000; }
        .close-lightbox { position: absolute; top: -40px; right: -40px; background: transparent; border: none; color: #fff; font-size: 40px; cursor: pointer; }
        
        /* BOTO FLUTUANTE DE FICHAS */
        .fichas-trigger-btn { position: fixed; bottom: 30px; right: 190px; width: 70px; height: 70px; border-radius: 50%; border: 2px solid #00f2ff; background: #000; cursor: pointer; z-index: 9999; transition: transform 0.2s, box-shadow 0.2s; padding: 0; display: flex; align-items: center; justify-content: center; }
        .fichas-trigger-btn:hover { transform: scale(1.1); box-shadow: 0 0 25px #00f2ff; }
        .fichas-trigger-btn img { width: 70%; height: 70%; object-fit: contain; }

        /* LISTA DE FICHAS */
        .ficha-list-item { display: flex; justify-content: space-between; align-items: center; background: rgba(0,0,0,0.5); border: 1px solid #333; padding: 15px; cursor: pointer; transition: 0.2s; border-radius: 4px; width: 100%; }
        .ficha-list-item:hover { border-color: #00f2ff; background: rgba(0, 242, 255, 0.1); }
        .ficha-row-name { display: flex; flex-direction: column; flex: 1; margin-right: 15px; }
        .ficha-row-name strong { color: #fff; font-size: 16px; }
        .ficha-row-name small { color: #aaa; font-size: 12px; }
      `})]})}const SM=[{id:"humes",name:"Humes",image:"races/humes.png",description:"Os Humes so a raa mais comum e predominante em Ivalice. Adaptveis, curiosos e persistentes, habitam desde as grandes capitais at vilarejos fronteirios. Sua origem  antiga e pouco documentada, mas acredita-se que foram os primeiros a construir grandes cidades e fundar os cls atuais.",characteristics:"Sua maior qualidade  a versatilidade. No se destacam naturalmente em nenhum atributo especfico, mas aprendem qualquer funo rapidamente, prosperando em qualquer lugar que chamem de lar.",racial_bonus:{value:5,detail:"5 pontos extras para distribuir livremente entre os atributos durante a criao de personagem."},base_classes:["Soldado","Mago Branco","Qumico"]},{id:"viera",name:"Viera",image:"races/viera.png",description:"Uma raa graciosa e enigmtica, marcada por longas orelhas e aparncia esguia. Vivem em florestas profundas, isoladas do mundo exterior e conectadas aos espritos da natureza. A sociedade  matriarcal.",characteristics:"Conhecidas por sentidos aguados, velocidade impressionante e habilidades mgicas refinadas. Os machos so raros e exilados ao atingirem a maturidade.",racial_bonus:{female:{VEL:3,INT:2},male_exiled:{"pontos-livres":5}},base_classes:{female:["Arqueira","Esgrimista","Curandeira"],male:["Exilado"]}},{id:"moogles",name:"Moogles",image:"races/moogles.png",description:"Pequenos, adorveis e envoltos em mistrio. Possuem corpos peludos, antenas com pompons flutuantes e pequenas asas de morcego. No possuem gnero definido.",characteristics:"Extremamente inteligentes e obcecados por tecnologia e invenes, misturando cincia com feitiaria. Carregam um estranho 'magnetismo da sorte'.",racial_bonus:{SOR:5},base_classes:["Animista","Engenheiro"]},{id:"bangaa",name:"Bangaa",image:"races/bangaa.png",description:"Guerreiros reptilianos robustos, com pele escamosa e traos que lembram drages antigos. So temidos pela fora bruta e respeitados pela honra em combate.",characteristics:"Sua origem remonta a tempos ancestrais e acredita-se que possuam sangue dracnico. Valorizam a lealdade, a disciplina fsica e o dever.",racial_bonus:{FOR:3,CONS:2},base_classes:["Monge","Guerreiro"]},{id:"grias",name:"Grias",image:"races/grias.png",description:"Guerreiras aladas, exclusivamente femininas, nascidas para dominar os cus. Possuem corpos atlticos, chifres, caudas e asas fortes.",characteristics:"Mestres da caa alada e emboscadas areas. Usam a altura como vantagem ttica e seus ataques de mergulho so devastadores.",racial_bonus:{VEL:2},passive_ability:{name:"Imunidade a Dano de Queda",effect:"No sofrem dano ao cair de qualquer altura nem de impactos ascendentes."},base_classes:["Monge","Guerreiro"]},{id:"elvaan",name:"Elvaan",image:"races/elvaan.png",description:"Originrios de Valendia, so guerreiros altos, nobres e disciplinados, com orelhas alongadas. Simbolizam tradio e justia em Ivalice.",characteristics:"Treinados desde a infncia no manejo de lminas e estilos de combate ancestrais. Desprezam truques e valorizam o confronto direto.",racial_bonus:{FOR:2},passive_ability:{name:"Domnio de Reao",effect:"Aprendem habilidades de reao com o dobro de rapidez."},base_classes:["Soldado","Espadachim"]},{id:"mithra",name:"Mithra",image:"races/mithra.png",description:"Raa com traos felinos, gil e astuta. Compartilham uma origem ancestral com as Viera, mas se espalharam por matas tropicais e runas.",characteristics:"Especialistas em furtividade, espionagem e ladronagem. Possuem forte senso de honra ligado  astcia.",racial_bonus:{VEL:2},passive_ability:{name:"Bnus de Camuflagem",effect:"Recebem vantagem em testes de furtividade, infiltrao e disfarce."},base_classes:["Ladra","Rastreadora"]},{id:"nu_mou",name:"Nu Mou",image:"races/nu-mou.png",description:"Pequenos em estatura, com aparncia canina e pelagem espessa, mas imensos em conhecimento. So magos natos que vivem sculos acumulando sabedoria.",characteristics:"Frequentemente ocupam cargos de conselheiros. Possuem empatia natural com a vida selvagem, comunicando-se com monstros e animais.",racial_bonus:{INT:3,CAR:2},base_classes:["Mago Branco","Adestrador"]},{id:"hypello",name:"Hypello",image:"races/hypello.png",description:"Raa anfbia dos pntanos de Kerwon. Possuem grande estatura, corpos robustos e pele azulada ou esverdeada.",characteristics:"Herbalistas por excelncia, mestres em usar plantas para curas ou venenos. Sua maior fora  a vitalidade e a empatia.",racial_bonus:{CONS:5},base_classes:["Escudeiro","Curandeiro"]},{id:"umbros",name:"Umbros",image:"races/umbros.png",description:"Seres de pele negra e marcas brilhantes que reagem  lua. Descendentes dos seres tocados pelas Pedras Zodiacais.",characteristics:"Alta resistncia  corrupo e aptido mgica. Vistos como orculos ou andarilhos que carregam segredos esquecidos.",racial_bonus:{INT:2},passive_ability:{name:"Modo Luar",effect:"Sob luz direta da lua visvel, causam o dobro de dano final com qualquer magia."},base_classes:["Mago Negro","Ocultista"]}],wM={races:SM},NM=JSON.parse(`[{"id":"soldado","name":"Soldado","type":"Bsica","role":"Tanque / Suporte de status","description":"Guerreiros de linha de frente, treinados para resistir aos maiores impactos do campo de batalha e desestabilizar o inimigo com habilidades tticas conhecidas como 'Pausas'.","bonus_class":{"CONS":5},"requirements":[],"abilities":[{"name":"Primeiro Socorro","description":"Trata os prprios ferimentos, restaurando 25% do HP.","cost":"N/A","type":"HB"},{"name":"Quebra de Poder","description":"Reduz a FOR do alvo pela metade, por trs turnos.","cost":"N/A","type":"HB"},{"name":"Quebra Magia","description":"Reduz a INT do alvo pela metade, por trs turnos.","cost":"N/A","type":"HB"},{"name":"Quebra de Mana","description":"Reduz a MP do alvo pela metade por trs turnos.","cost":"N/A","type":"HB"},{"name":"Provocar","description":"Inflige FURIA a um alvo.","cost":"N/A","type":"HB"},{"name":"Shieldbearer","description":"Permite ao usurio equipar escudos, mesmo fora da classe Soldado.","cost":"N/A","type":"Passiva"}]},{"id":"mago_branco","name":"Mago Branco","type":"Bsica","role":"Suporte / Cura / Anti-morto-vivo","description":"Especialistas em suporte mgico, sua principal funo  manter o grupo de p com curas poderosas, proteo espiritual e magias de ressuscitao.","bonus_class":{"MP":5},"requirements":[],"abilities":[{"name":"Cure","description":"Cura magicamente os ferimentos do alvo. Restaura 10% do PV e causa dano a mortos-vivos.","cost":"8 MP","type":"Magia"},{"name":"Cura","description":"Restaura magicamente 25% de HP. Causa dano a mortos-vivos.","cost":"18 MP","type":"Magia"},{"name":"Curaga","description":"Restaura magicamente 75% de HP. Causa dano a mortos-vivos.","cost":"32 MP","type":"Magia"},{"name":"Esuna","description":"Remove magicamente os efeitos negativos do alvo.","cost":"10 MP","type":"Magia"},{"name":"Arise","description":"Revive magicamente o alvo, removendo o KO. Causa dano a mortos-vivos.","cost":"40 MP","type":"Magia"},{"name":"Turbo MP","description":"Os feitios custam o dobro de seus MP normais, e do o dobro de dano.","cost":"N/A","type":"Passiva"}]},{"id":"quimico","name":"Qumico","type":"Bsica","role":"Suporte / Manipulador de Itens","description":"Mestres do preparo e uso ttico de poes. Utilizam conhecimentos alqumicos para curar aliados e enfraquecer inimigos.","bonus_class":{"SOR":2,"CAR":3},"requirements":[],"abilities":[{"name":"Preparar Poo","description":"Cria uma poo bsica durante o turno.","cost":"N/A","type":"HB"},{"name":"Arremessar Poo","description":"Permite arremessar qualquer poo equipada em um aliado ou inimigo a at 3 quadrados.","cost":"N/A","type":"HB"},{"name":"Frasco Instvel","description":"Arremessa uma mistura explosiva improvisada que causa dano de elemento aleatrio.","cost":"N/A","type":"HB"},{"name":"Reao em Cadeia","description":"Permite usar duas poes diferentes ao mesmo tempo.","cost":"N/A","type":"HB"},{"name":"Reciclagem Alqumica","description":"Recupera uma poo gasta no combate.","cost":"N/A","type":"HB"},{"name":"Inventrio Estendido","description":"Bolsa exclusiva para poes que no ocupa espao no inventrio padro (at 8 poes).","cost":"N/A","type":"Passiva"}]},{"id":"arqueira","name":"Arqueira","type":"Bsica","role":"Atiradora / Controle de Campo","description":"Especialistas em combate  distncia, treinadas para derrubar inimigos com preciso e neutralizar alvos.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Foco","description":"Aumenta drasticamente a preciso e dobra o dano final do ataque.","cost":"N/A","type":"HB"},{"name":"Acerto na Perna","description":"Causa IMOBILIZAO, impedindo movimentos por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Acerto na Mo","description":"Causa DESARME por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Mira Precisa","description":"Adiciona o atributo SORTE ao dano final do ataque.","cost":"N/A","type":"HB"},{"name":"Apago","description":"Causa CEGUEIRA, reduzindo severamente a chance de acerto do alvo por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Concentrao","description":"Aumenta a chance de acerto em todos os disparos de longa distncia.","cost":"N/A","type":"Passiva"}]},{"id":"esgrimista","name":"Esgrimista","type":"Bsica","role":"Duelista / Assassina de preciso","description":"Combatentes graciosas e letais, treinadas no uso refinado da rapieira.","bonus_class":{"VEL":3,"FOR":2},"requirements":[],"abilities":[{"name":"Picada Venenosa","description":"Causa dano e aplica VENENO ao alvo.","cost":"N/A","type":"HB"},{"name":"Voo da Andorinha","description":"Ataca todos os inimigos ao redor, podendo derrub-los.","cost":"N/A","type":"HB"},{"name":"Golpe Perfurante","description":"Estocada que atravessa o primeiro alvo e atinge um segundo atrs dele.","cost":"N/A","type":"HB"},{"name":"Golpe de Mana","description":"Causa dano e reduz o MP do inimigo.","cost":"N/A","type":"HB"},{"name":"Xeque-mate","description":"Inflige CONDENAO (morte aps 3 turnos).","cost":"N/A","type":"HB"},{"name":"Passos Leves","description":"Pode atravessar reas de gua rasa sem perder mobilidade.","cost":"N/A","type":"Passiva"}]},{"id":"curandeira","name":"Curandeira","type":"Bsica","role":"Suporte / Cura Natural","description":"Guardis da vida e das florestas, conectadas  energia da natureza para curar e proteger.","bonus_class":{"HP":3,"MP":2},"requirements":[],"abilities":[{"name":"Folha Serena","description":"Cura um aliado em 10 de HP.","cost":"8 MP","type":"Magia"},{"name":"Broto Purificador","description":"Remove um status negativo de um aliado.","cost":"18 MP","type":"Magia"},{"name":"Conexo Natural","description":"25% do dano recebido pelo aliado  transferido para a Curandeira por 3 turnos.","cost":"20 MP","type":"Magia"},{"name":"Vinhas Enlaantes","description":"Prende at 3 inimigos, impedindo movimento por 2 turnos.","cost":"24 MP","type":"Magia"},{"name":"Nvoa Vigorosa","description":"Cura leve em todos os aliados prximos (rea 3 blocos).","cost":"35 MP","type":"Magia"},{"name":"Refrigrio da Floresta","description":"30% de chance de conceder Resistncia Natural (+5 ARM ou +5 RES) ao curar.","cost":"N/A","type":"Passiva"}]},{"id":"exilado","name":"Exilado","type":"Bsica","role":"Lutador Adaptvel / Sobrevivente","description":"Viera masculinos banidos que aprenderam a sobreviver por conta prpria, adaptando-se a qualquer arma.","bonus_class":{"Livre":5},"requirements":[],"abilities":[{"name":"Tiro Preciso","description":"Disparo com preciso perfeita (usa SOR).","cost":"N/A","type":"HB (Arco)"},{"name":"Golpe Silencioso","description":"Causa DANO CRTICO automtico se o alvo estiver de costas.","cost":"N/A","type":"HB (Adaga)"},{"name":"Finta Desarmante","description":"Reduz o ATAQUE do inimigo por 2 turnos.","cost":"N/A","type":"HB (Espada)"},{"name":"Ruptura Selvagem","description":"Ignora a DEFESA do inimigo e causa dano elevado.","cost":"N/A","type":"HB (Espado)"},{"name":"Primeiros Socorros","description":"Cura 20% do HP a si mesmo ou aliado.","cost":"N/A","type":"HB"},{"name":"Adaptao de Combate","description":"Pode trocar a arma equipada 1 vez por turno sem custo de ao.","cost":"N/A","type":"Passiva"}]},{"id":"guerreiro","name":"Guerreiro","type":"Bsica","role":"Linha de Frente / Espancador","description":"Muralhas de msculo treinados para esmagar o inimigo com pura fora fsica.","bonus_class":{"CONS":5},"requirements":[],"abilities":[{"name":"Primeiro Socorro","description":"Trata os prprios ferimentos, restaurando 20% do HP.","cost":"N/A","type":"HB"},{"name":"Poder de Rend","description":"Reduz o ATAQUE do alvo.","cost":"N/A","type":"HB"},{"name":"Rend Magick","description":"Reduz a MAGIA do alvo.","cost":"N/A","type":"HB"},{"name":"Batida Corporal","description":"Investida causando dano FOR+CONS, volta 40% do dano a si mesmo.","cost":"N/A","type":"HB"},{"name":"Grito de Guerra","description":"Imobiliza o inimigo por 2 turnos e pode causar medo.","cost":"N/A","type":"HB"},{"name":"Monkey Grip","description":"Permite empunhar armas de duas mos com uma mo s.","cost":"N/A","type":"Passiva"}]},{"id":"monge","name":"Monge","type":"Bsica","role":"Linha de Frente / Espancador","description":"Lutadores que usam o ki e seus prprios corpos como armas letais.","bonus_class":{"FOR":3,"CONS":2},"requirements":[],"abilities":[{"name":"Onda Giratria","description":"Ataque giratrio que atinge todos ao redor em 1 bloco.","cost":"N/A","type":"HB"},{"name":"Pulso de Ar","description":"Soco com ki que causa dano e empurra o alvo 2 blocos.","cost":"N/A","type":"HB"},{"name":"Pulso de Terra","description":"Dano terrestre em linha reta (at 3 blocos).","cost":"N/A","type":"HB"},{"name":"Exploso de Ki","description":"Dano em rea de 2 blocos ao redor do monge.","cost":"N/A","type":"HB"},{"name":"Meditao","description":"Restaura 20% de HP e remove status negativos.","cost":"N/A","type":"HB"},{"name":"Reflexo","description":"50% de chance de desviar de ataques bsicos fsicos.","cost":"N/A","type":"Reao"}]},{"id":"animista","name":"Animista","type":"Bsica","role":"Suporte / Manipulador de Status","description":"Moogles que usam instrumentos e talentos imprevisveis para causar efeitos absurdos no campo.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"L Fofa","description":"Garante status 'Proteo' e 'Shell' por 3 turnos.","cost":"8 MP","type":"Magia"},{"name":"Erva de Gato","description":"Aplica 'BERSERK' no inimigo.","cost":"8 MP","type":"HB"},{"name":"Canto do Sapo","description":"Transforma o alvo em SAPO por 2 turnos.","cost":"22 MP","type":"Magia"},{"name":"Cozinhar","description":"Restaura 50% do HP do Alvo.","cost":"22 MP","type":"HB"},{"name":"Conte Ovelhinhas","description":"Faz todos os inimigos em pequena rea adormecerem.","cost":"15 MP","type":"Magia"},{"name":"Abanar o Rabo","description":"20% de chance de ENCANTAR o atacante quando alvejado.","cost":"N/A","type":"Reao"}]},{"id":"engenheiro","name":"Engenheiro","type":"Bsica","role":"Suporte Aleatrio / Caos Tecnolgico","description":"Gnios insanos que usam aparatos e mecanismos imprevisveis.","bonus_class":{"SOR":3,"INT":2},"requirements":[],"abilities":[{"name":"Box Vermelha","description":"Lana 'Haste' em uma unidade aleatria.","cost":"8 MP","type":"HB"},{"name":"Kit Azul","description":"Lana 'Dissipar' ao colidir com alvo aleatrio.","cost":"8 MP","type":"HB"},{"name":"Chaves Negras","description":"Aplica 'Condenao' em quem for atingido.","cost":"20 MP","type":"HB"},{"name":"Bateria Dourada","description":"Restaura 50% HP em uma unidade aleatria.","cost":"16 MP","type":"HB"},{"name":"Borrifador Verde","description":"Aplica VENENO em uma unidade aleatria na rea.","cost":"8 MP","type":"HB"},{"name":"Ajuste Rpido","description":"Permite reutilizar habilidade que falhou no turno seguinte sem custo de MP.","cost":"N/A","type":"Passiva"}]},{"id":"raptora","name":"Raptora","type":"Bsica","role":"Lutadora de Linha de Frente / Alta Mobilidade","description":"Guerreiras aladas que usam velocidade e instintos aguados para ataques rpidos.","bonus_class":{"FOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Ciclone","description":"Causa dano de vento em rea pequena.","cost":"N/A","type":"HB"},{"name":"Poder de Rend","description":"Reduz o ATAQUE do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Rend Magick","description":"Reduz a MAGIA do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Rend MP","description":"Diminui MP do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Redemoinho","description":"Lminas de vento causam dano e CONFUSO.","cost":"N/A","type":"HB"},{"name":"Salvaguarda","description":"Impede que a arma seja roubada ou destruda.","cost":"N/A","type":"Passiva"}]},{"id":"rastreadora","name":"Rastreadora","type":"Bsica","role":"Caadora / Suporte de Rastreio e Preciso","description":"Mestres da observao que leem o terreno e perseguem presas.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Sonic Boom","description":"Dano sonoro impossvel de desviar.","cost":"N/A","type":"HB"},{"name":"Expulsar","description":"Fora um monstro a fugir do combate.","cost":"N/A","type":"HB"},{"name":"Rastrear","description":"Marca um Monstro como 'presa', causando DANO DOBRADO.","cost":"N/A","type":"HB"},{"name":"Investigar","description":"Revela todas as informaes do alvo.","cost":"N/A","type":"HB"},{"name":"ltimo Tiro","description":"Alto dano com chance de infligir CONDENAO.","cost":"N/A","type":"HB"},{"name":"Sobrevivente","description":"Recebe REGEN quando estiver com 20% de HP ou menos.","cost":"N/A","type":"Passiva"}]},{"id":"espadachim","name":"Espadachim","type":"Bsica","role":"Lutador Verstil / Duelo & Tcnica","description":"Guerreiros disciplinados que combinam preciso fsica e poder mgico na lmina.","bonus_class":{"FOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Corte Cruzado","description":"Dano em rea frontal (arco) em at 3 inimigos.","cost":"N/A","type":"HB"},{"name":"Olhos no Duelo","description":"+25% de dano se enfrentar apenas um inimigo.","cost":"N/A","type":"HB"},{"name":"Corte Etreo","description":"Golpe mgico  distncia (FOR+INT).","cost":"10 MP","type":"HB"},{"name":"Passo Veloz","description":"Move-se para trs do inimigo com +50% de chance de crtico.","cost":"N/A","type":"HB"},{"name":"Trifria","description":"Combo de 3 ataques com chance de Sangramento.","cost":"N/A","type":"HB"},{"name":"Corte Reflexivo","description":"30% de chance de aparar projteis fsicos.","cost":"N/A","type":"Reao"}]},{"id":"ladra","name":"Ladra","type":"Bsica","role":"Furtividade / Roubo","description":"Mestras do furto e agilidade que roubam itens e gil em combate.","bonus_class":{"SOR":3,"CAR":2},"requirements":[],"abilities":[{"name":"Roubar Gil","description":"Tenta roubar dinheiro.","cost":"N/A","type":"HB"},{"name":"Roubar Item","description":"Tenta roubar um item.","cost":"N/A","type":"HB"},{"name":"Roubar Equipamento","description":"Tenta roubar o Equipamento do alvo.","cost":"N/A","type":"HB"},{"name":"Destrancar","description":"Pode destrancar portas ou bas.","cost":"N/A","type":"HB"},{"name":"Golpe Furtivo","description":"Dobro de dano se estiver Escondida.","cost":"N/A","type":"HB"},{"name":"Instinto Possessivo","description":"Evita roubo e tenta roubar a arma do ladro.","cost":"N/A","type":"Reao"}]},{"id":"espreitadora","name":"Espreitadora","type":"Bsica","role":"Furtividade / Infiltrao","description":"Especialistas em camuflagem e eliminao silenciosa.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Ataque Surpresa","description":"Crtico automtico se fora do campo de viso.","cost":"N/A","type":"HB"},{"name":"Rpida e Escondida","description":"Velocidade dobrada quando camuflada.","cost":"N/A","type":"Passiva"},{"name":"Manto Noturno","description":"Aumenta chance de camuflagem  noite.","cost":"N/A","type":"Passiva"},{"name":"Silncio","description":"Aplica Silncio por 3 turnos (apenas camuflada).","cost":"N/A","type":"HB"},{"name":"Derrubada Mortal","description":"Elimina instantaneamente alvo pelas costas (apenas camuflada).","cost":"N/A","type":"HB"},{"name":"Morte Silenciosa","description":"50% de chance de permanecer camuflada aps eliminar alvo.","cost":"N/A","type":"Passiva"}]},{"id":"adestrador","name":"Adestrador","type":"Bsica","role":"Controle de Criaturas / Suporte Ttico","description":"Especialistas em lidar com a vida selvagem, controlando monstros temporariamente.","bonus_class":{"CAR":5},"requirements":[],"abilities":[{"name":"Adestrar","description":"Controla um monstro por 5 turnos.","cost":"N/A","type":"HB"},{"name":"Bater ou Correr","description":"Recebe Haste quando HP chega a 10%.","cost":"N/A","type":"Reao"}]},{"id":"escudeiro","name":"Escudeiro","type":"Bsica","role":"Defensor / Suporte com Itens","description":"Pilares de defesa que protegem aliados e usam itens de suporte.","bonus_class":{"CONS":5},"requirements":[],"abilities":[{"name":"Postura de Defesa","description":"Reduz pela metade o dano recebido at o prximo turno.","cost":"N/A","type":"HB"},{"name":"Apoio Vital","description":"Usa at 2 poes para curar aliados adjacentes.","cost":"N/A","type":"HB"},{"name":"Eu te Protejo!","description":"Salta no aliado que tomar dano e absorve o golpe.","cost":"N/A","type":"Reao"},{"name":"Lanamento Cuidadoso","description":"Arremessa item a at 3 blocos.","cost":"N/A","type":"HB"},{"name":"Grito Protetor","description":"Provoca inimigos forando ataque ao Escudeiro.","cost":"N/A","type":"HB"},{"name":"Reao Instintiva","description":"Usa poo automaticamente ao sofrer golpe com HP baixo.","cost":"N/A","type":"Reao"}]},{"id":"mago_negro","name":"Mago Negro","type":"Bsica","role":"Ofensivo Mgico / Controle Elemental","description":"Conjuradores que dominam a magia elemental destrutiva.","bonus_class":{"INT":3,"MP":2},"requirements":[],"abilities":[{"name":"Fire","description":"Esfera de fogo em rea (alvo + 1 casa cada lado).","cost":"10 MP","type":"Magia"},{"name":"Blizzard","description":"Fragmento congelante perfurante.","cost":"10 MP","type":"Magia"},{"name":"Thunder","description":"Raio direto sobre inimigo e adjacentes.","cost":"10 MP","type":"Magia"},{"name":"Aero","description":"Turbilho de vento em rea.","cost":"10 MP","type":"Magia"},{"name":"Telecinese","description":"Move objeto/unidade at 5 blocos.","cost":"10 MP","type":"Magia"},{"name":"Absorver Mana","description":"Absorve 20% do dano mgico recebido como Mana.","cost":"N/A","type":"Reao"}]},{"id":"ocultista","name":"Ocultista","type":"Bsica","role":"Mago das Sombras / Maldies","description":"Estudiosos do proibido que manipulam trevas e maldies.","bonus_class":{"MP":3,"INT":2},"requirements":[],"abilities":[{"name":"Escurido","description":"Dano mgico de trevas em rea.","cost":"10 MP","type":"Magia"},{"name":"Ritual da Condenao","description":"Aplica CONDENAO no alvo.","cost":"15 MP","type":"Magia"},{"name":"Barreira do Silncio","description":"Aplica SILNCIO no alvo.","cost":"15 MP","type":"Magia"},{"name":"Vu Cego","description":"Aplica CEGUEIRA no alvo.","cost":"15 MP","type":"Magia"},{"name":"Avada Mortis","description":"Tenta aplicar morte instantnea.","cost":"30 MP","type":"Magia"},{"name":"Olhar do Abismo","description":"Aumenta INT aps concluir maldio.","cost":"N/A","type":"Passiva"}]},{"id":"quimico_avancado","name":"Qumico Avanado","type":"Avanada","role":"Suporte / Manipulador de Itens","description":"Evoluo do Qumico, usa reaes elementares e poes ofensivas em rea.","bonus_class":{"SOR":4,"CAR":2},"requirements":["3 Habilidades Mestre em Qumico","+30 SOR"],"abilities":[{"name":"Criar Poo Avanada","description":"Cria poes de qualidade superior.","cost":"N/A","type":"HB"},{"name":"Arremesso Rpido","description":"Arremessa at 3 poes em um movimento.","cost":"N/A","type":"HB"},{"name":"Frasco Venenoso","description":"Libera veneno em rea.","cost":"N/A","type":"HB"},{"name":"Frasco Milagroso","description":"Remove todos status negativos.","cost":"N/A","type":"HB"},{"name":"Dose Grande","description":"Aumenta rea de efeito da poo.","cost":"N/A","type":"HB"},{"name":"Pr-Preparo","description":"Inicia combate com 2 poes prontas.","cost":"N/A","type":"Passiva"}]},{"id":"clerigo","name":"Clrigo","type":"Avanada","role":"Curandeiro de Linha de Frente","description":"Elo entre fora e f, luta na frente enquanto cura aliados.","bonus_class":{"CONS":4,"MANA":2},"requirements":["1 Habilidade Mestre em Soldado","2 Habilidades Mestre em Mago Branco","+20 FOR"],"abilities":[{"name":"Julgamento Divino","description":"Dano sagrado (FOR+Luz).","cost":"20 MP","type":"Magia"},{"name":"Palavras de F","description":"Concede Barreira e Shell.","cost":"15 MP","type":"Magia"},{"name":"Espurgar","description":"Expulsa monstros espirituais.","cost":"25 MP","type":"Magia"},{"name":"Martelo Giratrio","description":"Dano em rea ao redor (CONS+FOR+Luz).","cost":"30 MP","type":"HB"},{"name":"Ruptura Divina","description":"Exploso triangular de luz.","cost":"50 MP","type":"HB"},{"name":"Estou com Voc","description":"Cura auto 10% de aliado adjacente por turno.","cost":"N/A","type":"Passiva"}]},{"id":"alquimista","name":"Alquimista","type":"Avanada","role":"Suporte / Manipulador de Campo","description":"Molda o mundo convertendo solo e energia em poder.","bonus_class":{"INT":4,"MANA":2},"requirements":["2 Habilidades Mestre em Mago Branco","1 Habilidade Mestre em Qumico","+30 INT"],"abilities":[{"name":"Pilar de Pedra","description":"Pilar de rocha atinge inimigo (INT+Terra).","cost":"20 MP","type":"Magia"},{"name":"Canho de Pedra","description":"Projtil de rocha distante.","cost":"20 MP","type":"Magia"},{"name":"Correntes de Solo","description":"Imobiliza inimigo.","cost":"17 MP","type":"Magia"},{"name":"Transmutao Peridica","description":"Altera elemento natural de rea/objeto.","cost":"30 MP","type":"Magia"},{"name":"Golem de Pedra","description":"Cria golem controlvel.","cost":"50 MP","type":"Magia"},{"name":"Muro","description":"Bloqueia ataque com muro de pedra.","cost":"N/A","type":"Reao"}]},{"id":"duelista","name":"Duelista","type":"Avanada","role":"Lutador de Elite / Combate Singular","description":"pice do domnio da espada, focado em preciso e duelos.","bonus_class":{"FOR":4,"VEL":2},"requirements":["3 Habilidades Mestre em Espadachim","+30 FOR","+20 VEL"],"abilities":[{"name":"BackStep","description":"Salta 2 blocos para esquiva.","cost":"N/A","type":"HB"},{"name":"Eu Contra Voc","description":"+50% dano em alvo nico.","cost":"N/A","type":"HB"},{"name":"Chuva de Lminas","description":"Trs cortes de ar consecutivos.","cost":"N/A","type":"HB"},{"name":"Postura de Batalha","description":"Aumenta ataque fsico em 50%.","cost":"N/A","type":"HB"},{"name":"Grande Slash","description":"Golpe que percorre o campo todo.","cost":"N/A","type":"HB"},{"name":"Defesa Contnua","description":"Desvia golpe se FOR > inimigo.","cost":"N/A","type":"Reao"}]},{"id":"iluminista","name":"Iluminista","type":"Avanada","role":"Mago Supremo / Controlador Elemental Global","description":"Concentra energia para ataques globais ou curas totais.","bonus_class":{"INT":5,"MANA":5},"requirements":["5 Habilidades Mestre em Mago Branco","5 Habilidades Mestre em Mago Negro"],"abilities":[{"name":"Piromancia","description":"Dano global de Fogo aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Aquamancia","description":"Dano global de gua aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Raiomancia","description":"Dano global de Trovo aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Whitemancia","description":"Cura global 50% HP aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Tretamancia","description":"Plasma linear de ponta a ponta.","cost":"50 MP","type":"Magia"},{"name":"Ritual Seguro","description":"Ativa Barreira/Veloz ao ser alvejado conjurando.","cost":"N/A","type":"Reao"}]},{"id":"oppenheir","name":"Oppenheir","type":"Avanada","role":"Mestre Qumico / Manipulador da Destruio","description":"Alquimia levada ao limite de exploses e reaes em cadeia.","bonus_class":{"SOR":10},"requirements":["5 Habilidades Mestre em Qumico","5 Habilidades Mestre em Qumico Avanado"],"abilities":[{"name":"Reao Altrusta","description":"Exploso de cura e remoo de status.","cost":"N/A","type":"HB"},{"name":"Nuvem Txica","description":"Veneno em rea e reduz preciso.","cost":"N/A","type":"HB"},{"name":"Ignis Vitae","description":"Chamas conscientes perseguidoras.","cost":"N/A","type":"HB"},{"name":"Fragmento Celular","description":"Microexploso de dano massivo.","cost":"N/A","type":"HB"},{"name":"Bomba Atmica","description":"Exploso que elimina todos no campo (exceto cobertura).","cost":"N/A","type":"HB"},{"name":"Entropia Perfeita","description":"Chance de remover penalidades ao explodir.","cost":"N/A","type":"Passiva"}]},{"id":"eremita","name":"Eremita","type":"Avanada","role":"Tanque / Protetor Espiritual","description":"Sacerdote de batalha que converte dano em sacrifcio e proteo.","bonus_class":{"CONS":10},"requirements":["5 Habilidades Mestre em Clrigo","+100 CONS"],"abilities":[{"name":"F ao Meu Redor","description":"Aura cura 50% HP aliados prximos.","cost":"N/A","type":"HB"},{"name":"F do Sol","description":"Raio solar expurga mortos-vivos e queima.","cost":"N/A","type":"HB"},{"name":"F da Lua","description":"Cura 100% HP aliados prximos.","cost":"N/A","type":"HB"},{"name":"F do Ferro","description":"Concede Shell+ e Barreira+.","cost":"N/A","type":"HB"},{"name":"F do Brbaro","description":"Provoca inimigos e soma CONS ao dano.","cost":"N/A","type":"HB"},{"name":"Aquele que Me Protege","description":"Converte 20% do dano recebido em cura.","cost":"N/A","type":"Passiva"}]},{"id":"arquidenio","name":"Arquidnio","type":"Avanada","role":"Suporte / Manipulador de Probabilidades","description":"Mago matemtico que manipula valores e estatsticas de combate.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Alquimista","+100 INT"],"abilities":[{"name":"O Dobro","description":"Dobra qualquer valor por 1 turno.","cost":"50 MP","type":"Magia"},{"name":"Pela Metade","description":"Divide qualquer valor por 2.","cost":"50 MP","type":"Magia"},{"name":"100%","description":"Garante acerto absoluto.","cost":"70 MP","type":"Magia"},{"name":"0%","description":"Anula valor ou chance a 0.","cost":"70 MP","type":"Magia"},{"name":"Septania","description":"Multiplica valor por 7x.","cost":"100 MP","type":"Magia"},{"name":"Lgica Perfeita","description":"Resultado natural 20 uma vez por batalha.","cost":"N/A","type":"Passiva"}]},{"id":"samurai","name":"Samurai","type":"Avanada","role":"Ofensivo / Especialista em Duelo","description":"Guerreiro disciplinado que une velocidade e fora em cortes perfeitos.","bonus_class":{"FOR":5,"VEL":5},"requirements":["5 Habilidades Mestre em Espadachim","5 Habilidades Mestre em Duelista"],"abilities":[{"name":"Saque Rpido","description":"Duplica FOR e VEL por 1 turno.","cost":"N/A","type":"HB"},{"name":"Furaco da Folha","description":"Tornado de cortes em linha reta.","cost":"N/A","type":"HB"},{"name":"Olhos de Falco","description":"Soma FOR + SOR contra alvo.","cost":"N/A","type":"HB"},{"name":"Corte do Drago","description":"Golpe instantneo. 20 natural elimina alvo.","cost":"N/A","type":"HB"},{"name":"Cu Limpo","description":"Corte vertical colossal aps preparao.","cost":"N/A","type":"HB"},{"name":"Empunhadura Dupla","description":"Pode empunhar duas armas.","cost":"N/A","type":"Passiva"}]},{"id":"gladiador","name":"Gladiador","type":"Avanada","role":"Linha de Frente / Controle e Fora Bruta","description":"Colosso de arena que luta por glria e brutalidade.","bonus_class":{"FOR":4,"CONS":2},"requirements":["2 Habilidades Mestre em Guerreiro","+30 FOR"],"abilities":[{"name":"Grito Selvagem","description":"Aumenta FOR e provoca inimigos.","cost":"N/A","type":"HB"},{"name":"Investida de Escudo","description":"Dano de impacto com escudo.","cost":"N/A","type":"HB"},{"name":"Espancamento","description":"5 golpes consecutivos, pode imobilizar.","cost":"N/A","type":"HB"},{"name":"Espada Flamejante","description":"Causa Queimadura com ataques fsicos.","cost":"N/A","type":"HB"},{"name":"Postura de Luta","description":"Evita ataques e contra-ataca.","cost":"N/A","type":"HB"},{"name":"Escudeiro","description":"Pode usar escudos em qualquer classe.","cost":"N/A","type":"Passiva"}]},{"id":"artista_marcial","name":"Artista Marcial","type":"Avanada","role":"Linha de Frente / Especialista em Combos","description":"Especialista em golpes precisos e canalizao de fora vital.","bonus_class":{"VEL":4,"CONS":2},"requirements":["2 Habilidades Mestre em Monge","+30 VEL"],"abilities":[{"name":"Combo do Tigre","description":"3 golpes, dano aumenta a cada acerto.","cost":"N/A","type":"HB"},{"name":"Golpe Serpenteante","description":"Aproximao em zigue-zague e crtico.","cost":"N/A","type":"HB"},{"name":"Palma Sagrada","description":"Golpe de dano puro que ignora armadura.","cost":"N/A","type":"HB"},{"name":"Passo do Vento","description":"Teleporte curto e ataque surpresa.","cost":"N/A","type":"HB"},{"name":"Punhos do Drago","description":"5 golpes simultneos com chance de atordoar.","cost":"N/A","type":"HB"},{"name":"Esprito Indomvel","description":"Ganha FOR e VEL quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"lanceiro","name":"Lanceiro","type":"Avanada","role":"Ofensivo / Alcance e Preciso","description":"Predador de longo alcance com lanas.","bonus_class":{"VEL":4,"SOR":2},"requirements":["2 Habilidades Mestre em Guerreiro","+30 VEL"],"abilities":[{"name":"Ponta Longa","description":"Estende alcance para 4 blocos.","cost":"N/A","type":"HB"},{"name":"Dardo de Javali","description":"Arremessa a lana perfurando linha reta.","cost":"N/A","type":"HB"},{"name":"Jump","description":"Salta e cai sobre inimigo com dano alto.","cost":"N/A","type":"HB"},{"name":"Barreira de Cabo","description":"Empurra inimigos adjacentes.","cost":"N/A","type":"HB"},{"name":"Ponta Perfurante","description":"Golpe linear que perfura alvos.","cost":"N/A","type":"HB"},{"name":"Rpido como uma Lana","description":"Converte VEL em dano quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"lutador_de_rua","name":"Lutador de Rua","type":"Avanada","role":"Ofensivo / Anti-Honra","description":"Brigo desonesto que usa fora bruta e truques sujos.","bonus_class":{"Livre":6},"requirements":["2 Habilidades Mestre em Monge","1 Habilidade Mestre em outra classe"],"abilities":[{"name":"Vou te Arrebentar!","description":"+20% dano contra alvo marcado.","cost":"N/A","type":"HB"},{"name":"Lariat de Msculos","description":"Golpe de brao com chance de Atordoar.","cost":"N/A","type":"HB"},{"name":"Soco na Costela","description":"Finta e golpe crtico preciso.","cost":"N/A","type":"HB"},{"name":"Rasteira Malandra","description":"Aplica Imobilizado.","cost":"N/A","type":"HB"},{"name":"Sequncia de Raiva","description":"5 ataques e entra em Fria.","cost":"N/A","type":"HB"},{"name":"Covarde","description":"Dobra VEL para fugir quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"vinking","name":"Vinking","type":"Avanada","role":"Brbaro Mstico","description":"Guerreiro ancestral guiado por troves e fria divina.","bonus_class":{"FOR":4,"CONS":2},"requirements":["3 Habilidades Mestre em Gladiador","+50 FOR","+50 CONS"],"abilities":[{"name":"Marchar de Heimdall","description":"Dobra VEL prpria e de aliados.","cost":"N/A","type":"HB"},{"name":"Trovo de Thor","description":"Raio cai a distncia.","cost":"N/A","type":"HB"},{"name":"Confronto de Tyr","description":"Dobra FOR por 5 turnos.","cost":"N/A","type":"HB"},{"name":"Ma de Iduna","description":"Recupera 80% HP e remove status.","cost":"N/A","type":"HB"},{"name":"Por Odin!","description":"Aumenta todos atributos por 1 turno.","cost":"N/A","type":"HB"},{"name":"At Valhalla","description":"Converte CONS em FOR quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"templario","name":"Templrio","type":"Avanada","role":"Mobilidade Extrema / Linha de Frente","description":"Soldado perfeito que domina o campo com lana e velocidade.","bonus_class":{"VEL":4,"CONS":2},"requirements":["3 Habilidades Mestre em Lanceiro","+50 VEL","+50 FOR"],"abilities":[{"name":"Salto Rpido","description":"Teleporte para qualquer parte do mapa.","cost":"N/A","type":"HB"},{"name":"Avano Perfurante","description":"Avano linear perfurante.","cost":"N/A","type":"HB"},{"name":"Dardos Perfurantes","description":"5 ataques em sequncia.","cost":"N/A","type":"HB"},{"name":"Lana Flamejante","description":"Adiciona Fogo aos ataques.","cost":"N/A","type":"HB"},{"name":"Dardo do Drago","description":"Arremesso perfurante em linha reta.","cost":"N/A","type":"HB"},{"name":"Lana Giratria","description":"Evita ataques  distncia.","cost":"N/A","type":"Reao"}]},{"id":"mestre_artes_marciais","name":"Mestre das Artes Marciais","type":"Avanada","role":"Duelista / Manipulador de Ki","description":"Harmonia total entre corpo e Ki.","bonus_class":{"CONS":4,"Livre":2},"requirements":["5 Habilidades Mestre em Monge","5 Habilidades Mestre em Artista Marcial"],"abilities":[{"name":"Dana do Carvalho Vermelho","description":"Combo de 5 golpes de vento.","cost":"N/A","type":"HB"},{"name":"Palma do Drago","description":"Ondas de ar  distncia.","cost":"N/A","type":"HB"},{"name":"Teken","description":"Dobra ARM e RES por 5 turnos.","cost":"N/A","type":"HB"},{"name":"Dana do Sabugueiro Marrom","description":"Reduz ARM do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Dana do Esprito Branco","description":"Clone dobra aes por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Intuio de Ki","description":"Imune a surpresas.","cost":"N/A","type":"Passiva"}]},{"id":"brutamontes","name":"Brutamontes","type":"Avanada","role":"Tanque Ofensivo","description":"Muralha do submundo que protege e esmaga.","bonus_class":{"CAR":4,"SOR":2},"requirements":["5 Habilidades Mestre em Lutador de Rua","100 FOR"],"abilities":[{"name":"No Vai Passar","description":"Bloqueia avano inimigo e dobra defesa.","cost":"N/A","type":"HB"},{"name":"Lariat Duplo","description":"Arrasta inimigos adjacentes.","cost":"N/A","type":"HB"},{"name":"Emboscada","description":"Recupera HP e contra-ataca quem aproximar.","cost":"N/A","type":"HB"},{"name":"Pose do Brutamontes","description":"Salto esmagador com onda de choque.","cost":"N/A","type":"HB"},{"name":"Manda-Chuva","description":"Buffa aliados e debuffa inimigos em rea.","cost":"N/A","type":"HB"},{"name":"Fraco Demais","description":"Nega dano menor que sua FOR.","cost":"N/A","type":"Passiva"}]},{"id":"cavaleiro_dragao","name":"Cavaleiro Drago","type":"Avanada","role":"Caador de Drages / Ofensivo Elemental","description":"Guerreiros que usam poderes de drago.","bonus_class":{"CONS":5,"BonusDanoDragao":"20%"},"requirements":["Eliminar um Drago"],"abilities":[{"name":"Bafo do Drago Vermelho","description":"Fogo em rea triangular.","cost":"N/A","type":"HB"},{"name":"Garras do Drago Ciano","description":"Golpe de gelo com avano.","cost":"N/A","type":"HB"},{"name":"Salto do Drago Amarelo","description":"Salto eltrico (1 turno no ar).","cost":"N/A","type":"HB"},{"name":"Beno do Drago Azul","description":"Cura 50% HP.","cost":"N/A","type":"HB"},{"name":"Energia do Drago Branco","description":"Raio de luz linear.","cost":"N/A","type":"HB"},{"name":"Aura de Drago","description":"Monstros fracos sentem medo.","cost":"N/A","type":"Passiva"}]},{"id":"dragonslayer","name":"Dragonslayer","type":"Avanada","role":"Anti-Drago / Executador","description":"Arma final contra drages, capaz de subjugar feras colossais.","bonus_class":{"FOR":6,"BonusDanoDragao":"60%"},"requirements":["5 Habilidades Mestre em Cavaleiro Drago"],"abilities":[{"name":"Sopro do Drago Esmeralda","description":"Nuvem txica em rea.","cost":"N/A","type":"HB"},{"name":"Rasante do Drago Prateado","description":"Rasante de vento linear mapa todo.","cost":"N/A","type":"HB"},{"name":"Escamas do Drago Ouro","description":"Dobra ARM e RES.","cost":"N/A","type":"HB"},{"name":"Tremor do Drago de Bronze","description":"Estacas de pedra e tremor.","cost":"N/A","type":"HB"},{"name":"Ameaa do Drago Negro","description":"Miasma negra aplica Condenao.","cost":"N/A","type":"HB"},{"name":"Escamas Elementais","description":"Absorve dano elemental convertendo em CONS.","cost":"N/A","type":"Passiva"}]},{"id":"xama","name":"Xam","type":"Avanada","role":"Debuff / Manipulador de Caos","description":"Lida com foras ocultas e ancestrais dos pntanos.","bonus_class":{"MANA":3,"CONS":2},"requirements":["2 Habilidades Mestre em Curandeiro","+30 MANA"],"abilities":[{"name":"Xabala Cegaris","description":"Cega alvo por 5 turnos.","cost":"15 MP","type":"Magia"},{"name":"Ziriki Sileci","description":"Silencia alvo por 5 turnos.","cost":"15 MP","type":"Magia"},{"name":"Urucubaca","description":"Aplica Envenenamento.","cost":"20 MP","type":"Magia"},{"name":"Ianhamaj","description":"Imobiliza alvo por 5 turnos.","cost":"20 MP","type":"Magia"},{"name":"Zakarinhad","description":"Aplica Condenao.","cost":"30 MP","type":"Magia"},{"name":"Oshala","description":"Imune a status negativos.","cost":"N/A","type":"Passiva"}]},{"id":"monge_do_pantano","name":"Monge do Pntano","type":"Avanada","role":"Lutador de Terreno / Porradeiro","description":"Canaliza a densidade do pntano em golpes pesados.","bonus_class":{"CONS":3,"FOR":2},"requirements":["1 Habilidade Mestre em Curandeiro","1 Habilidade Mestre em Escudeiro","+20 FOR"],"abilities":[{"name":"Soco do Pntano","description":"Golpe aqutico carregado.","cost":"N/A","type":"HB"},{"name":"Barrigada","description":"Esmaga e empurra.","cost":"N/A","type":"HB"},{"name":"Vu do Pntano","description":"Dobra RES por 3 turnos.","cost":"N/A","type":"HB"},{"name":"Abrao do Pntano","description":"Agarro esmagador.","cost":"N/A","type":"HB"},{"name":"Boxe do Pntano","description":"3 golpes consecutivos pantanosos.","cost":"N/A","type":"HB"},{"name":"gua Est Comigo","description":"Dobra dano em terreno de gua.","cost":"N/A","type":"Passiva"}]},{"id":"glutao","name":"Gluto","type":"Avanada","role":"Tank / Absorvedor de Dano","description":"Foras da natureza famintas e indestrutveis.","bonus_class":{"CONS":5},"requirements":["1 Habilidade Mestre em Curandeiro","1 Habilidade Mestre em Escudeiro","+20 CONS"],"abilities":[{"name":"Investida do Sapo","description":"Atropela em linha reta.","cost":"N/A","type":"HB"},{"name":"Descanso do Sapo","description":"Cura e dobra defesa (imvel).","cost":"N/A","type":"HB"},{"name":"Arroto do Sapo","description":"Dano de impacto sonoro.","cost":"N/A","type":"HB"},{"name":"Pulo do Sapo","description":"Esmaga alvo com peso.","cost":"N/A","type":"HB"},{"name":"Vou Te Comer","description":"Devora inimigo com 25% HP ou menos.","cost":"N/A","type":"HB"},{"name":"Boca Sempre Mexendo","description":"Recupera 10% HP se no agir.","cost":"N/A","type":"Passiva"}]},{"id":"protetor","name":"Protetor","type":"Avanada","role":"Tank / Guardio de Campo","description":"Muralhas vivas dedicadas a proteger aliados.","bonus_class":{"CONS":5},"requirements":["2 Habilidades Mestre em Escudeiro","+30 CONS"],"abilities":[{"name":"Eu Tanko, Voc Mata","description":"Absorve 80% do dano de aliado e buffa FOR dele.","cost":"N/A","type":"HB"},{"name":"Investida do Escudo","description":"Corre com escudo e atordoa.","cost":"N/A","type":"HB"},{"name":"Reflexo do Escudo","description":"Escudo ricocheteia em inimigos.","cost":"N/A","type":"HB"},{"name":"Sapo Protetor","description":"Compartilha defesa com aliados ao redor.","cost":"N/A","type":"HB"},{"name":"Escudo de Proteo Areo","description":"Anula prximo dano em aliado.","cost":"N/A","type":"HB"},{"name":"Socorros Rpidos","description":"Salta para tomar golpe por aliado.","cost":"N/A","type":"Reao"}]},{"id":"pai_do_pantano","name":"Pai do Pntano","type":"Avanada","role":"Mago de Terreno / Controle","description":"Tornou-se um com o pntano, controlando razes e mars.","bonus_class":{"MANA":6},"requirements":["5 Habilidades Mestre em Xam","5 Habilidades Mestre em Curandeiro"],"abilities":[{"name":"Razes do Sabugueiro de Ihoa","description":"Imobiliza inimigos em rea.","cost":"50 MP","type":"Magia"},{"name":"Pico dos Pinheiros","description":"Pinheiros empalam inimigos.","cost":"50 MP","type":"Magia"},{"name":"Gota de Orvalho","description":"Cura 100% HP e remove status (rea).","cost":"50 MP","type":"Magia"},{"name":"Primavera Serena","description":"Dobra INT e RES de aliados.","cost":"40 MP","type":"Magia"},{"name":"Mar do Mangue","description":"Empurra inimigos, remove buffs e cura aliados (global).","cost":"100 MP","type":"Magia"},{"name":"Floresta Viva","description":"Razes prendem inimigos engajados.","cost":"N/A","type":"Passiva"}]},{"id":"sabio_do_pantano","name":"Sbio do Pntano","type":"Avanada","role":"Controle de gua / Contra-Golpe","description":"Domina a energia viva do pntano com constituio colossal.","bonus_class":{"CONS":6},"requirements":["5 Habilidades Mestre em Monge do Pntano","+100 CONS"],"abilities":[{"name":"Punho do Pntano","description":"Ataques ganham elemento gua.","cost":"N/A","type":"Passiva"},{"name":"Serpente do Pntano","description":"Ataque linear de gua.","cost":"N/A","type":"HB"},{"name":"AquaReflete","description":"Esfera de gua empurra alvo.","cost":"N/A","type":"HB"},{"name":"Pantanogan","description":"Esfera de gua empurra alvo.","cost":"N/A","type":"HB"},{"name":"Bola de Canho","description":"Projtil vivo de dano massivo.","cost":"N/A","type":"HB"},{"name":"Contra-Corpo","description":"Contra-ataca fsico e empurra.","cost":"N/A","type":"Reao"}]},{"id":"burgues_do_pantano","name":"Burgus do Pntano","type":"Avanada","role":"Tanque / Controle","description":"Suprema ganncia, usa corpo colossal e autoridade.","bonus_class":{"CONS":6},"requirements":["5 Habilidades Mestre em Gluto","+100 CONS"],"abilities":[{"name":"Imposto do Pntano","description":"Rouba 20% HP do alvo e remove buff.","cost":"N/A","type":"HB"},{"name":"Barriga Monrquica","description":"Dobra defesa e bloqueia passagem.","cost":"N/A","type":"HB"},{"name":"Banquete Exclusivo","description":"Cura 100% HP e ganha Fria.","cost":"N/A","type":"HB"},{"name":"Tesouro do Pntano","description":"Exploso de cofre.","cost":"N/A","type":"HB"},{"name":"Decreto de Propriedade","description":"Debuffa inimigos e buffa aliados em rea.","cost":"N/A","type":"HB"},{"name":"Soberania do Pntano","description":"Cura ao aproximar inimigo e aplica Lentido.","cost":"N/A","type":"Passiva"}]},{"id":"guardiao_do_pantano","name":"Guardio do Pntano","type":"Avanada","role":"Tanque / Suporte Supremo","description":"Monlito vivo que ergue muralhas de escudos.","bonus_class":{"CONS":10},"requirements":["5 Habilidades Mestre em Escudeiro","5 Habilidades Mestre em Protetor"],"abilities":[{"name":"Priso de Escudo","description":"Prende alvo em 4 escudos.","cost":"N/A","type":"HB"},{"name":"Dobro de Escudo","description":"Dobra qualquer escudo em jogo.","cost":"N/A","type":"HB"},{"name":"Grande Escudo","description":"Protege rea enorme atrs dele.","cost":"N/A","type":"HB"},{"name":"Escudo Revitalizador","description":"Cura 100% HP rea.","cost":"N/A","type":"HB"},{"name":"Proteo em Grande Escala","description":"Anula prximo dano em TODOS aliados.","cost":"N/A","type":"HB"},{"name":"Proteo Mgica","description":"Usa habilidade de proteo em aliado alvejado.","cost":"N/A","type":"Reao"}]},{"id":"cantor_das_mares","name":"Cantor das Mars","type":"Avanada","role":"Suporte / Buffer Musical","description":"Bardos que usam melodias espirituais.","bonus_class":{"CAR":5},"requirements":["+50 CAR"],"abilities":[{"name":"Cantar","description":"Executa msica do repertrio (efeitos variados).","cost":"N/A","type":"HB"},{"name":"Palco Improvisado","description":"Dobro de efeito se estiver em terreno elevado.","cost":"N/A","type":"Passiva"}]},{"id":"astro_do_pantano","name":"Astro do Pntano","type":"Avanada","role":"Suporte Musical / Manipulador de Moral","description":"cone musical que move multides.","bonus_class":{"CAR":10},"requirements":["Ttulo musical com Cantor das Mars"],"abilities":[{"name":"Mashup","description":"Combina duas msicas simultneas.","cost":"N/A","type":"HB"},{"name":"Charme Musical","description":"Enfeitia atacante.","cost":"N/A","type":"Reao"}]},{"id":"sutileira","name":"Sutileira","type":"Avanada","role":"Roubo de Elite / Suporte Social","description":"Ladras de alta classe, elegantes e imperceptveis.","bonus_class":{"CAR":3,"SOR":2},"requirements":["2 Habilidades Mestre em Ladra","+20 SOR"],"abilities":[{"name":"Roubar Arma Principal","description":"Furta a arma equipada do alvo.","cost":"N/A","type":"HB"},{"name":"Roubar Acessrios","description":"Furta anis/colares.","cost":"N/A","type":"HB"},{"name":"Roubar Item de Luxo","description":"Furta item mais raro.","cost":"N/A","type":"HB"},{"name":"Detectar Armadilhas","description":"Percebe armadilhas em raio de 5 blocos.","cost":"N/A","type":"HB"},{"name":"Famme Fatale","description":"Encanta alvo e pode aplicar Condenao.","cost":"N/A","type":"HB"},{"name":"Mestre dos Assaltos","description":"No ativa armadilhas.","cost":"N/A","type":"Passiva"}]},{"id":"rastreadora_avancada","name":"Rastreadora (Avanada)","type":"Avanada","role":"Dano / Furtividade / Controle","description":"Felinas letais que unem furtividade com caa predatria.","bonus_class":{"SOR":3,"VEL":2},"requirements":["2 Habilidades Mestre em Espreitadora","+20 VEL"],"abilities":[{"name":"Cheiro do Medo","description":"Dobra MOV na direo do alvo.","cost":"N/A","type":"HB"},{"name":"Detectar Fraqueza","description":"Prximo ataque soma SOR ao dano.","cost":"N/A","type":"HB"},{"name":"Colocar Armadilhas","description":"Instala armadilha no campo.","cost":"N/A","type":"HB"},{"name":"Salto da Morte","description":"Ataque de cima com bnus de SOR.","cost":"N/A","type":"HB"},{"name":"Morte em Sequncia","description":"Golpe linear em todos no trajeto.","cost":"N/A","type":"HB"},{"name":"Contra Ataque","description":"Contra-ataca fsico adjacente.","cost":"N/A","type":"Reao"}]},{"id":"kunoichi","name":"Kunoichi","type":"Avanada","role":"Ninjutsu / Controle Elemental","description":"Assassinas discretas que usam iluses e ninjutsu.","bonus_class":{"INT":3,"SOR":2},"requirements":["2 Habilidades Mestre em Ladra","2 Habilidades Mestre em Espreitadora"],"abilities":[{"name":"Arremesso de Kunai","description":"Kunai amplificada com INT.","cost":"N/A","type":"HB"},{"name":"Bomba de Fumaa","description":"Fica camuflada instantaneamente.","cost":"N/A","type":"HB"},{"name":"Genjutsu","description":"Iluso causa Confuso.","cost":"25 MP","type":"Magia"},{"name":"Suiton","description":"Vrtice de gua (INT+gua).","cost":"30 MP","type":"Magia"},{"name":"Doton","description":"Pilar de terra (INT+Terra).","cost":"30 MP","type":"Magia"},{"name":"Clone das Sombras","description":"Clone repete ninjutsu.","cost":"N/A","type":"Passiva"}]},{"id":"chefona","name":"Chefona","type":"Avanada","role":"DPS / Suporte Criminoso","description":"Mandachuva do crime que usa pistolas e capangas.","bonus_class":{"SOR":6},"requirements":["5 Habilidades Mestre em Ladra","5 Habilidades Mestre em Sutileira","+100 SOR"],"abilities":[{"name":"Paredo","description":"Saraivada de balas em alvo.","cost":"N/A","type":"HB"},{"name":"Tiroteio","description":"Tiros em rea ao redor.","cost":"N/A","type":"HB"},{"name":"Estragar o Velrio","description":"Tiro na cabea (morte instantnea) se camuflada.","cost":"N/A","type":"HB"},{"name":"Bora Rapaziada","description":"Buffa MOV e VEL de aliados.","cost":"N/A","type":"HB"},{"name":"Meus Capangas","description":"Invoca 2 capangas.","cost":"N/A","type":"HB"},{"name":"Dois Ferros","description":"Pode usar duas armas de fogo.","cost":"N/A","type":"Passiva"}]},{"id":"assassina","name":"Assassina","type":"Avanada","role":"Eliminadora de Alvos","description":"Lenda das sombras, elimina alvos silenciosamente.","bonus_class":{"SOR":10},"requirements":["5 Habilidades Mestre em Espreitadora","5 Habilidades Mestre em Rastreadora","+100 SOR"],"abilities":[{"name":"Lmina de Veneno","description":"Ataques causam Envenenamento.","cost":"N/A","type":"HB"},{"name":"Sombras Caminhantes","description":"Teleporte via sombras.","cost":"N/A","type":"HB"},{"name":"Tendes Frgeis","description":"Aplica Imobilizado.","cost":"N/A","type":"HB"},{"name":"Instinto Assassino","description":"Causa Medo em alvos com <20% HP.","cost":"N/A","type":"Passiva"},{"name":"Frenesi das Sombras","description":"Fria de sombra, dobra VEL.","cost":"N/A","type":"HB"},{"name":"Minha Garrucha","description":"Finaliza alvo com <15% HP.","cost":"N/A","type":"Reao"}]},{"id":"jounin","name":"Jounin","type":"Avanada","role":"Mestre Elemental / Ttico","description":"Elite ninja que domina ninjutsu avanado.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Kunoichi","+100 INT"],"abilities":[{"name":"Futon","description":"5 lminas de ar em alvos diversos.","cost":"50 MP","type":"Magia"},{"name":"Raiton","description":"5 troves em alvos diversos.","cost":"50 MP","type":"Magia"},{"name":"Katon","description":"Esfera de fogo linear larga.","cost":"50 MP","type":"Magia"},{"name":"Embuir Arma","description":"Infunde arma com elemento.","cost":"30 MP","type":"Magia"},{"name":"Invocao","description":"Invoca animal ninja (D20).","cost":"N/A","type":"HB"},{"name":"Substituio","description":"Troca com tronco ao ser alvejada.","cost":"N/A","type":"Reao"}]},{"id":"dancarina","name":"Danarina","type":"Avanada","role":"Performer Mstica","description":"Transforma o campo em palco com performances mgicas.","bonus_class":{"CAR":5},"requirements":["+50 CAR"],"abilities":[{"name":"Danar","description":"Executa performance ligada ao equipamento.","cost":"N/A","type":"HB"},{"name":"Pirueta Defensiva","description":"Chance de esquivar de ataque fsico.","cost":"N/A","type":"Reao"}]},{"id":"odalisca_de_batalha","name":"Odalisca de Batalha","type":"Avanada","role":"Suporte Supremo / DPS Elegante","description":"Danarina de elite com armas exticas e danas agressivas.","bonus_class":{"CAR":10},"requirements":["4 Performances de Danarina"],"abilities":[{"name":"Swicth","description":"Troca equipamento de dana sem gastar ao.","cost":"N/A","type":"HB"},{"name":"Mestre da Dana","description":"Equipa dois instrumentos simultneos.","cost":"N/A","type":"Passiva"}]},{"id":"cavaleira_alada","name":"Cavaleira Alada","type":"Avanada","role":"Duelista Area","description":"Elite militar do cu, mergulha com velocidade devastadora.","bonus_class":{"FOR":3,"VEL":2},"requirements":["3 Habilidades Mestre em Raptora","+30 FOR"],"abilities":[{"name":"Por Glria","description":"Buffa FOR de aliados.","cost":"N/A","type":"HB"},{"name":"Redemoinho de Lmina","description":"Corte circular de vento.","cost":"N/A","type":"HB"},{"name":"Brisa da Guerra","description":"Ataques ganham lmina de vento extra.","cost":"N/A","type":"HB"},{"name":"Slash de Vento","description":"Lmina de ar  distncia.","cost":"N/A","type":"HB"},{"name":"Suplex Aero","description":"Agarra e arremessa inimigo do cu.","cost":"N/A","type":"HB"},{"name":"Escudo Meu","description":"Pode usar escudos.","cost":"N/A","type":"Passiva"}]},{"id":"cacadora_alada","name":"Caadora Alada","type":"Avanada","role":"DPS / Rastreio","description":"Predadora do cu com viso aguada e arco.","bonus_class":{"VEL":3,"SOR":2},"requirements":["3 Habilidades Mestre em Ranged","+30 VEL"],"abilities":[{"name":"Animal Guia","description":"Invoca esprito animal companheiro.","cost":"N/A","type":"HB"},{"name":"Camuflagem","description":"Entra em camuflagem.","cost":"N/A","type":"HB"},{"name":"Saraivada Area","description":"Chuva de flechas em rea.","cost":"N/A","type":"HB"},{"name":"Colocar Armadilhas","description":"Posiciona armadilha.","cost":"N/A","type":"HB"},{"name":"Tiro Avanado","description":"Flecha colossal linear (Arco Grande).","cost":"N/A","type":"HB"},{"name":"Tiro Duplo","description":"Dispara duas flechas por ataque.","cost":"N/A","type":"Passiva"}]},{"id":"terrana","name":"Terrana","type":"Avanada","role":"Lutadora Arcana / Terra","description":"Devotada  fora bruta da terra, usa martelos e magia.","bonus_class":{"INT":3,"MANA":2},"requirements":["1 Habilidade Mestre em Raptora","1 Habilidade Mestre em Ranged","+30 INT"],"abilities":[{"name":"Me Terra","description":"Cura em rea ao bater martelo.","cost":"20 MP","type":"Magia"},{"name":"Fissura Terrana","description":"Cria fissura no solo.","cost":"30 MP","type":"Magia"},{"name":"A Terra Sobre Mim","description":"Armadura de rocha (dobra AMR/RES).","cost":"20 MP","type":"Magia"},{"name":"Pilar do Martelo","description":"Ataque  distncia com pilar.","cost":"40 MP","type":"Magia"},{"name":"Terremoto Aero","description":"Impacto ssmico ao saltar.","cost":"50 MP","type":"Magia"},{"name":"Vibrao do Solo","description":"Detecta inimigos no solo.","cost":"N/A","type":"Passiva"}]},{"id":"devastadora","name":"Devastadora","type":"Avanada","role":"Dano Areo / Linha de Frente","description":"Especialista em combate areo com espades colossais.","bonus_class":{"FOR":4,"VEL":2},"requirements":["5 Habilidades Mestre em Raptora","5 Habilidades Mestre em Cavaleira Alada","+100 FOR"],"abilities":[{"name":"Ventania do Espado","description":"Empurra alvos com vento.","cost":"N/A","type":"HB"},{"name":"Arrasante Cortante","description":"Corte em alta velocidade.","cost":"N/A","type":"HB"},{"name":"Furaco de Lminas","description":"Tornado de lminas em rea.","cost":"N/A","type":"HB"},{"name":"Rpida e Veloz","description":"Dobra VEL.","cost":"N/A","type":"HB"},{"name":"Corte da Montanha","description":"Corte colossal de vento.","cost":"N/A","type":"HB"},{"name":"Contra-ataque do Vento","description":"Rebate fsico e empurra.","cost":"N/A","type":"Reao"}]},{"id":"atiradora_dos_ceus","name":"Atiradora dos Cus","type":"Avanada","role":"DPS Area","description":"Caadora suprema que domina territrios do ar.","bonus_class":{"VEL":4,"SOR":2},"requirements":["5 Habilidades Mestre em Ranged","5 Habilidades Mestre em Caadora Alada","+100 VEL"],"abilities":[{"name":"Ataque Areo","description":"Disparo vertical preciso.","cost":"N/A","type":"HB"},{"name":"Reposicionamento Areo","description":"Voo rpido e ataque.","cost":"N/A","type":"HB"},{"name":"Bombardeio Areo","description":"Atinge inimigos no trajeto de voo.","cost":"N/A","type":"HB"},{"name":"Alvo Marcado","description":"Marca alvo adicionando SOR ao dano.","cost":"N/A","type":"HB"},{"name":"Alvos Certeiros","description":"Tiros perfeitos em 5 alvos.","cost":"N/A","type":"HB"},{"name":"Minha Flecha  Melhor","description":"Desvia de projtil e contra-ataca.","cost":"N/A","type":"Reao"}]},{"id":"geomancer","name":"Geomancer","type":"Avanada","role":"Maga Elemental / Joias","description":"Maga que desperta poder oculto de joias antigas.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Terrana","+100 INT"],"abilities":[{"name":"Ressonncia","description":"Disparo elemental da joia.","cost":"30 MP","type":"Magia"},{"name":"Jia Equipada","description":"Engata joia na arma (dano elemental).","cost":"N/A","type":"HB"},{"name":"Joia Astral","description":"Buff poderoso da joia.","cost":"30 MP","type":"Magia"},{"name":"Sacrifcio da Jia","description":"Destri joia para duplicar efeito.","cost":"40 MP","type":"Magia"},{"name":"Triplo Gen","description":"Feixe combinado de 3 joias.","cost":"70 MP","type":"Magia"},{"name":"Joalheira","description":"Troca de joias sem gastar ao.","cost":"N/A","type":"Passiva"}]},{"id":"demon","name":"Demon","type":"Avanada","role":"Ameaa / Controle","description":"Guerreiras marcadas pela morte, brutais e imprevisveis.","bonus_class":{"Livre":5},"requirements":["Voltar da morte 10 vezes"],"abilities":[{"name":"Rugido do Demnio","description":"Aplica Medo em rea.","cost":"N/A","type":"HB"},{"name":"Vampirismo","description":"Rouba HP do alvo.","cost":"N/A","type":"HB"},{"name":"Consumir Arma","description":"Destri arma para ganhar status.","cost":"N/A","type":"HB"},{"name":"Embuir Demon","description":"Infunde arma com escurido.","cost":"N/A","type":"HB"},{"name":"Demon Ark","description":"Aplica Medo/Condenao/Morte.","cost":"N/A","type":"HB"},{"name":"Mestre de Armas","description":"Equipa arma instantaneamente.","cost":"N/A","type":"Passiva"}]},{"id":"lord_demon","name":"Lord Demon","type":"Avanada","role":"Senhora da Morte","description":"pice da linhagem demonaca, comanda almas.","bonus_class":{"Livre":10},"requirements":["5 Habilidades Mestre em Demon","Colher 100 almas"],"abilities":[{"name":"Dark Esfera","description":"Absorve alma de inimigos com Medo.","cost":"N/A","type":"HB"},{"name":"Colheita","description":"Suga alma de alvo com Medo (Morte).","cost":"N/A","type":"HB"},{"name":"Aura da Lord","description":"Dobra RES e fora Medo.","cost":"N/A","type":"HB"},{"name":"Dark Arma","description":"Lana armas sacrificadas.","cost":"N/A","type":"HB"},{"name":"ltimo Rugido","description":"Medo global e morte em quem j tem.","cost":"N/A","type":"HB"},{"name":"Tenha Medo de Mim","description":"Chance de aplicar Medo ao receber dano.","cost":"N/A","type":"Reao"}]},{"id":"magos_elementais","name":"Magos Elementais","type":"Avanada","role":"DPS Mgico de rea","description":"Umbros que transformam magia em cataclismos.","bonus_class":{"INT":3,"MANA":2},"requirements":["3 Habilidades Mestre em Mago Negro","+30 INT"],"abilities":[{"name":"Fire+","description":"Exploso de fogo grande rea.","cost":"20 MP","type":"Magia"},{"name":"Blizzard+","description":"Estilhaos de gelo grande rea.","cost":"20 MP","type":"Magia"},{"name":"Thunder+","description":"Trovo colossal em rea.","cost":"20 MP","type":"Magia"},{"name":"Maremoto","description":"Onda empurra inimigos.","cost":"40 MP","type":"Magia"},{"name":"Trifsico","description":"Combina 3 elementos em exploso.","cost":"50 MP","type":"Magia"},{"name":"Manto Refletor","description":"Reflete magia com 50% dano.","cost":"N/A","type":"Reao"}]},{"id":"arcanistas","name":"Arcanistas","type":"Avanada","role":"Maldies / Invocador","description":"Preservam artes proibidas e invocam demnios.","bonus_class":{"MANA":3,"INT":2},"requirements":["3 Habilidades Mestre em Ocultista","+50 MANA"],"abilities":[{"name":"Escurido+","description":"Exploso de trevas.","cost":"25 MP","type":"Magia"},{"name":"Cruz Mana","description":"Drena Mana.","cost":"30 MP","type":"Magia"},{"name":"Sentidus Mortis","description":"Remove sentidos (Silncio/Cegueira).","cost":"40 MP","type":"Magia"},{"name":"Petrificatis","description":"Petrifica alvo.","cost":"40 MP","type":"Magia"},{"name":"Invocar Demnio Menor","description":"Invoca demnio (D20).","cost":"50 MP","type":"Magia"},{"name":"Pacto","description":"Dobra VEL e RES com demnio ativo.","cost":"N/A","type":"Passiva"}]},{"id":"malandro","name":"Malandro","type":"Avanada","role":"Suporte Social / Manipulao","description":"Usa lbia e cartas para manipular o campo.","bonus_class":{"CAR":3,"SOR":2},"requirements":["+20 CAR"],"abilities":[{"name":"Fala Positiva","description":"Dobra atributo de alvo.","cost":"N/A","type":"HB"},{"name":"Fala Negativa","description":"Reduz atributo pela metade.","cost":"N/A","type":"HB"},{"name":"Carta Voadora","description":"Carta ricocheteia em alvos.","cost":"N/A","type":"HB"},{"name":"Carta Marcada","description":"Dobra dano recebido pelo alvo.","cost":"N/A","type":"HB"},{"name":"Malabarismo de Cartas","description":"Impede movimentos em rea.","cost":"N/A","type":"HB"},{"name":"Fala Mansa","description":"Chance de convencer atacante a desistir.","cost":"N/A","type":"Reao"}]},{"id":"arquimagos","name":"Arquimagos","type":"Avanada","role":"DPS Mgico Supremo","description":"Moldam elementos, invocando meteoros e tempestades.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Mago Negro","5 Habilidades Mestre em Mago Elemental","+100 INT"],"abilities":[{"name":"Meteoro","description":"Destruio massiva em rea.","cost":"100 MP","type":"Magia"},{"name":"Vrtex de Fogo","description":"Vrtex que queima rea por turnos.","cost":"50 MP","type":"Magia"},{"name":"Chuva de Raios","description":"Atinge inimigos aleatrios por turnos.","cost":"50 MP","type":"Magia"},{"name":"Nevasca Afiada","description":"Estalactites aleatrias por turnos.","cost":"50 MP","type":"Magia"},{"name":"Super Lua","description":"Lua cura aliados e permanece.","cost":"80 MP","type":"Magia"},{"name":"OVER LUNA","description":"Ignora RES sob efeito da Lua.","cost":"N/A","type":"Passiva"}]},{"id":"necromago","name":"Necromago","type":"Avanada","role":"Controle Absoluto / Necromancia","description":"Traz mortos e usa rituais profanos.","bonus_class":{"MANA":10},"requirements":["5 Habilidades Mestre em Ocultista","5 Habilidades Mestre em Arcanista","+100 INT"],"abilities":[{"name":"Necromancia","description":"Controla alma cada.","cost":"70 MP","type":"Magia"},{"name":"Mortis Dorner","description":"Tenta Morte Instantnea.","cost":"40 MP","type":"Magia"},{"name":"Redoma Sentis","description":"Cega e Silencia rea ao redor.","cost":"50 MP","type":"Magia"},{"name":"Invocar Demnio Superior","description":"Invoca demnio brutal (D20).","cost":"90 MP","type":"Magia"},{"name":"Buraco Negro","description":"Remove todos do campo.","cost":"200 MP","type":"Magia"},{"name":"Toque da Morte","description":"Chance de Condenao ao ser atacado.","cost":"N/A","type":"Reao"}]},{"id":"king_street","name":"King Street","type":"Avanada","role":"Controle Mental / Dominao Social","description":"Rei das ruas que controla vontades com a voz.","bonus_class":{"CAR":10},"requirements":["5 Habilidades Mestre em Malandro","+100 CAR"],"abilities":[{"name":"Corra!","description":"Impulsiona mobilidade de alvo.","cost":"N/A","type":"HB"},{"name":"Beleza Sedutora","description":"Encanta alvos em rea.","cost":"N/A","type":"HB"},{"name":"Ajoelhe-se","description":"Obriga inimigos a se ajoelharem.","cost":"N/A","type":"HB"},{"name":" Sua Vez de Novo","description":"Concede ao extra a aliado.","cost":"N/A","type":"HB"},{"name":"Charme do Malandro","description":"Transforma inimigo em aliado.","cost":"N/A","type":"HB"},{"name":"Estrondo Vocal","description":"Atinge todos atributos do alvo.","cost":"N/A","type":"Passiva"}]},{"id":"apostador","name":"Apostador","type":"Avanada","role":"Manipulador de Probabilidades","description":"Usa baralho especial para efeitos aleatrios poderosos.","bonus_class":{"SOR":10},"requirements":["5 Habilidades Mestre em Malandro","+100 SOR"],"abilities":[{"name":"Escolha uma Carta","description":"Puxa carta (D80) com efeito contnuo.","cost":"N/A","type":"HB"},{"name":"Valete Rpido","description":"Dobra status fsicos (Carta Valete).","cost":"N/A","type":"HB"},{"name":"Dama Salvadora","description":"Cura e remove status (Carta Dama).","cost":"N/A","type":"HB"},{"name":"Rei do Poder","description":"Exploso em rea (Carta Rei).","cost":"N/A","type":"HB"},{"name":"s da Sorte","description":"Puxa todas cartas (Carta s).","cost":"N/A","type":"HB"},{"name":"Carta na Manga","description":"Troca carta guardada instantaneamente.","cost":"N/A","type":"Passiva"}]},{"id":"shadow_hunters","name":"Shadow Hunters","type":"Avanada","role":"Invocador Sombrio","description":"Extrai sombras de mortos para lutar.","bonus_class":{"Livre":10},"requirements":["Chegar a 1 HP em batalha 100 vezes"],"abilities":[{"name":"Erga-se","description":"Extrai sombra de cadver como soldado.","cost":"N/A","type":"HB"},{"name":"Sombra Salvadora","description":"Sombra absorve dano fatal.","cost":"N/A","type":"Reao"}]},{"id":"monarca_das_sombras","name":"Monarca das Sombras","type":"Avanada","role":"Exrcito Vivo","description":"Comanda exrcito sombrio sozinho.","bonus_class":{"Livre":10},"requirements":["Possuir 4 sombras no nvel 10"],"abilities":[{"name":"Troca de Sombra","description":"Troca de lugar com sombra.","cost":"N/A","type":"HB"},{"name":"Retorno das Sombras","description":"Cura ao perder sombra.","cost":"N/A","type":"Passiva"}]}]`),RM={classes:NM},CM=()=>{const i=Ui(),e=D.useRef(null),[n,r]=D.useState("carousel"),[o,c]=D.useState(0),[d,m]=D.useState(null),[g,y]=D.useState("female"),[x,E]=D.useState(null),[N,j]=D.useState(!1),[U,L]=D.useState(""),[B,ee]=D.useState(!1),J=wM.races;D.useEffect(()=>{(async()=>{if(rt.currentUser)try{const k=it(we,"characters",rt.currentUser.uid);(await Dd(k)).exists()&&(console.log("Personagem j existe. Redirecionando..."),i("/jogador-vtt"))}catch(k){console.error("Erro ao verificar personagem:",k)}})()},[i]),D.useEffect(()=>{const T=()=>{document.querySelectorAll("audio, video").forEach(Se=>{if(!(Se.tagName==="VIDEO"&&Se.classList.contains("background-video")))try{Se.pause(),Se.currentTime=0}catch{}})};T();const k=setTimeout(T,500);return()=>clearTimeout(k)},[]),D.useEffect(()=>{if(n==="carousel"&&e.current){const k=window.innerWidth/2-130,w=o*300-k+130;e.current.scrollTo({left:w,behavior:"smooth"})}},[o,n]);const re=T=>{e.current&&(e.current.scrollLeft+=T.deltaY*4)},oe=T=>{if(!T)return"Nenhum";const k={value:"Valor",detail:"Detalhes",details:"Detalhes",free_points:"Pontos Livres",female:"Feminino",male:"Masculino",male_exiled:"Masculino (Exilado)"};return typeof T=="object"?Object.entries(T).map(([w,Se],De)=>{if(w==="type")return null;const X=k[w]||w.toUpperCase().replace(/_/g," ");let ue=Se;return typeof Se=="object"&&(ue=JSON.stringify(Se).replace(/["{}]/g,"").replace(/:/g,": ").replace(/,/g,", ")),h.jsxs("div",{className:"mb-1",children:[h.jsxs("span",{className:"text-gray-400 font-bold",children:[X,":"]})," ",h.jsx("span",{className:"text-gray-200",children:ue})]},De)}):T},le=()=>d?typeof d.base_classes=="object"&&!Array.isArray(d.base_classes)?d.id==="viera"?g==="female"?d.base_classes.female:d.base_classes.male||d.base_classes.male_exiled:[]:d.base_classes||[]:[],he=T=>RM.classes.find(k=>k.name===T),I=()=>{m(J[o]),E(null),r("details")},C=()=>{r("carousel"),E(null)},O=async()=>{if(!(!U.trim()||!rt.currentUser||B)){ee(!0);try{const T={basic_info:{character_name:U,race:d.name,level:1,experience:{current:0,max:100},guild_insignia:"",special_image:"",guild_rank_image:""},attributes:{FOR:{value:10},INT:{value:10},SOR:{value:10},CAR:{value:10},VEL:{value:10},CONS:{value:10}},status:{hp:{current:20,max:20},mp:{current:10,max:10},arm:{value:0},res:{value:0},mov:{value:3}},inventory:{gil:500,items:[]},equipment:{slots:[{},{},{},{},{},{},{}]},job_system:{primary_class:{name:x,skills:[]},secondary_class:{name:"Nenhuma",skills:[]},reaction_ability:{name:""},passive_ability:{name:""},class_bonus:{value:""}}};await Mg(it(we,"characters",rt.currentUser.uid),{uid:rt.currentUser.uid,email:rt.currentUser.email,name:U,race:d.name,class:x,gender:g,createdAt:On(),character_sheet:T}),console.log(`Personagem Criado: ${U}`),i("/jogador-vtt")}catch(T){console.error("Erro ao salvar personagem:",T),alert("Falha ao invocar personagem."),ee(!1)}}},P=J[o];return h.jsxs("div",{className:"relative w-full h-screen overflow-hidden",children:[h.jsx("style",{children:`
        @keyframes scaleIn { 0% { transform: scale(0.8); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
        .rpg-modal-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-color: rgba(0, 0, 0, 0.85); backdrop-filter: blur(8px); z-index: 9999; display: flex; align-items: center; justify-content: center; }
        .rpg-modal-box { position: relative; width: 500px; max-width: 90%; background: #1a120b; border: 2px solid #b45309; box-shadow: 0 0 50px rgba(234, 179, 8, 0.4); padding: 6px; border-radius: 8px; animation: scaleIn 0.3s ease-out forwards; }
        .rpg-modal-inner { background: linear-gradient(to bottom, #f3e6d5, #e7cba8); border: 1px solid #78350f; padding: 40px 20px; border-radius: 4px; text-align: center; display: flex; flex-direction: column; align-items: center; gap: 20px; }
        .rpg-modal-title { font-family: 'Cinzel', serif; font-size: 32px; color: #78350f; font-weight: bold; text-transform: uppercase; text-shadow: 0px 1px 0px rgba(255,255,255,0.6); margin-bottom: 5px; }
        .rpg-modal-subtitle { font-family: 'Cinzel', serif; font-size: 14px; color: #92400e; font-style: italic; border-top: 1px solid rgba(146, 64, 14, 0.3); padding-top: 10px; width: 100%; }
        .rpg-input { width: 100%; padding: 12px; background: #fff8ed; border: 2px solid #854d0e; font-family: 'Cinzel', serif; font-size: 18px; color: #451a03; outline: none; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1); border-radius: 4px; }
        .rpg-input:focus { border-color: #d97706; background: #ffffff; }
        .rpg-btn-go { background: linear-gradient(to bottom, #fcd34d, #d97706); border: 1px solid #92400e; padding: 10px 30px; font-family: 'Cinzel', serif; font-weight: bold; font-size: 18px; color: #451a03; text-transform: uppercase; cursor: pointer; border-radius: 4px; box-shadow: 0 4px 0 #92400e; transition: transform 0.1s; }
        .rpg-btn-go:active { transform: translateY(4px); box-shadow: 0 0 0 #92400e; }
        .rpg-btn-go:disabled { filter: grayscale(1); opacity: 0.6; cursor: not-allowed; }
        .rpg-close-btn { position: absolute; top: 10px; right: 15px; background: none; border: none; font-size: 20px; color: #92400e; cursor: pointer; font-weight: bold; }
        .rpg-close-btn:hover { color: #ff0000; }
        .corner { position: absolute; width: 20px; height: 20px; border-color: #fcd34d; border-style: solid; }
        .tl { top: -2px; left: -2px; border-width: 3px 0 0 3px; }
        .tr { top: -2px; right: -2px; border-width: 3px 3px 0 0; }
        .bl { bottom: -2px; left: -2px; border-width: 0 0 3px 3px; }
        .br { bottom: -2px; right: -2px; border-width: 0 3px 3px 0; }
      `}),h.jsxs("div",{className:"ether-container",children:[h.jsx("div",{className:"ether-vortex"}),h.jsx("div",{className:"ether-particles"})]}),h.jsxs("header",{className:"absolute top-0 w-full p-6 z-50 flex justify-between items-center bg-gradient-to-b from-black/90 to-transparent",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"rpg-title text-3xl",children:"Gnese da Alma"}),h.jsx("p",{className:"rpg-subtitle-styled mt-2",children:n==="carousel"?"Determine sua Linhagem Ancestral":`${d?.name} // Customizao`})]}),n==="details"&&h.jsxs("button",{onClick:C,className:"nav-back-btn",children:[h.jsx("span",{children:""})," Seleo"]})]}),n==="carousel"&&h.jsxs("div",{className:"w-full h-full flex flex-col justify-center animate-[fadeIn_1s]",children:[h.jsx("div",{className:"text-center mb-4 z-10",children:h.jsx("h2",{className:"rpg-title text-5xl text-yellow-500 drop-shadow-lg",children:P.name})}),h.jsx("div",{ref:e,onWheel:re,className:"carousel-viewport",children:J.map((T,k)=>h.jsxs("div",{onClick:()=>c(k),className:`race-card-frame ${k===o?"active":""}`,children:[h.jsx("img",{src:T.image,alt:T.name}),h.jsx("div",{className:"card-label",children:T.name})]},T.id))}),h.jsx("div",{className:"text-center mt-10 z-10",children:h.jsxs("button",{onClick:I,className:"confirm-btn w-64 mx-auto",children:["Escolher ",P.name]})})]}),n==="details"&&d&&h.jsxs("div",{className:"details-grid",children:[h.jsx("div",{className:"char-portrait-container",children:h.jsx("img",{src:d.image,alt:d.name,className:"char-portrait"})}),h.jsxs("div",{className:"info-scroll-area custom-scrollbar",children:[h.jsxs("div",{className:"glass-panel mt-8 border-l-4 border-yellow-600",children:[h.jsx("h3",{className:"section-header !border-none !mb-2 text-yellow-500",children:"Descrio"}),h.jsxs("p",{className:"description-text",children:['"',d.description,'"']}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-[10px] uppercase text-blue-400 font-bold",children:"Caractersticas"}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:d.characteristics})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-[10px] uppercase text-green-400 font-bold",children:"Bnus Racial"}),h.jsx("div",{className:"text-xs text-gray-300 font-mono mt-1",children:oe(d.racial_bonus)})]})]})]}),h.jsxs("div",{className:"glass-panel flex flex-col gap-2",children:[h.jsx("span",{className:"text-xs text-gray-400 uppercase font-bold tracking-widest",children:"Gnero"}),h.jsxs("div",{className:"flex w-full",children:[h.jsx("div",{onClick:()=>{y("female"),E(null)},className:`gender-option ${g==="female"?"active":""}`,children:"Feminino"}),h.jsx("div",{onClick:()=>{y("male"),E(null)},className:`gender-option ${g==="male"?"active":""}`,children:"Masculino"})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"rpg-title text-xl mb-4 text-white",children:"Vocao"}),h.jsx("div",{className:"class-selector-grid",children:le().map(T=>{const k=he(T);return h.jsxs("div",{onClick:()=>E(T),className:`class-btn ${x===T?"selected":""}`,children:[h.jsx("span",{className:"class-btn-title",children:T}),h.jsx("span",{className:"class-btn-role",children:k?.role||"Bsico"})]},T)})}),x&&(()=>{const T=he(x);return T?h.jsxs("div",{className:"class-detail-container",children:[h.jsxs("div",{className:"cd-header",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"cd-title rpg-title",children:T.name}),h.jsxs("div",{className:"cd-meta text-blue-400",children:[T.type," // ",T.role]})]}),h.jsxs("div",{className:"cd-req",children:[h.jsx("span",{className:"cd-req-label",children:"Requisitos"}),h.jsx("div",{className:"cd-req-val",children:T.requirements?.length?T.requirements.join(", "):"Nenhum"})]})]}),h.jsxs("div",{className:"cd-desc",children:['"',T.description,'"']}),h.jsxs("div",{className:"cd-bonus-box",children:[h.jsx("span",{className:"text-xs uppercase font-bold text-blue-300",children:"Bnus de Classe"}),h.jsx("span",{className:"font-mono text-sm text-white",children:oe(T.bonus_class)})]}),h.jsxs("div",{children:[h.jsx("h5",{className:"text-xs uppercase text-yellow-500 font-bold mb-3 tracking-wider border-b border-white/10 pb-1 inline-block",children:"Habilidades Iniciais"}),h.jsx("div",{className:"cd-abilities-grid",children:T.abilities?.map((k,w)=>h.jsxs("div",{className:"cd-ability-card",children:[h.jsxs("div",{className:"cd-ab-header",children:[h.jsx("span",{className:"cd-ab-name",children:k.name}),h.jsx("span",{className:"cd-ab-cost",children:k.cost})]}),h.jsx("p",{className:"cd-ab-desc",children:k.description})]},w))})]})]}):h.jsx("div",{className:"p-4 text-center",children:"Carregando..."})})()]}),h.jsx("div",{className:"mt-8 mb-10",children:h.jsx("button",{disabled:!x,onClick:()=>j(!0),className:"confirm-btn",children:x?"Finalizar Criao":"Selecione uma Vocao"})})]})]}),N&&h.jsx("div",{className:"rpg-modal-overlay",children:h.jsxs("div",{className:"rpg-modal-box",children:[h.jsx("div",{className:"corner tl"}),h.jsx("div",{className:"corner tr"}),h.jsx("div",{className:"corner bl"}),h.jsx("div",{className:"corner br"}),h.jsxs("div",{className:"rpg-modal-inner",children:[h.jsxs("div",{className:"w-full",children:[h.jsx("h3",{className:"rpg-modal-title",children:"Identidade"}),h.jsx("p",{className:"rpg-modal-subtitle",children:"Como a histria o conhecer?"})]}),h.jsxs("div",{className:"w-full flex gap-2",children:[h.jsx("input",{type:"text",value:U,onChange:T=>L(T.target.value),placeholder:"Nome do Aventureiro",className:"rpg-input",autoFocus:!0}),h.jsx("button",{onClick:O,disabled:!U.trim()||B,className:"rpg-btn-go",children:B?"...":"GO"})]}),h.jsx("button",{className:"rpg-close-btn",onClick:()=>j(!1),children:""})]})]})})]})},IM="/FF-12Liberation/assets/fundo-jogador-nsWQkznx.jpg",OM="/FF-12Liberation/assets/level-up-BOEM_DXL.mp3",DM=({targetDate:i,onComplete:e})=>{const[n,r]=D.useState("");return D.useEffect(()=>{const o=setInterval(()=>{const c=new Date().getTime(),d=new Date(i).getTime()-c;if(d<0)clearInterval(o),e&&e(),r("AGORA");else{const m=Math.floor(d/864e5),g=Math.floor(d%(1e3*60*60*24)/(1e3*60*60)),y=Math.floor(d%(1e3*60*60)/(1e3*60)),x=Math.floor(d%(1e3*60)/1e3);r(`${m}d ${g}h ${y}m ${x}s`)}},1e3);return()=>clearInterval(o)},[i,e]),h.jsx("span",{className:"countdown-text",children:n})};function MM(){const i=Ui(),[e,n]=D.useState(null),[r,o]=D.useState(!0),[c,d]=D.useState([]),[m,g]=D.useState([]),[y,x]=D.useState([]),[E,N]=D.useState(!1),[j,U]=D.useState(!1),[L,B]=D.useState(null),[ee,J]=D.useState([]),[re,oe]=D.useState(!1),[le,he]=D.useState(null),[I,C]=D.useState(null),[O,P]=D.useState(null),[T,k]=D.useState(!1),[w,Se]=D.useState(!1),De=D.useRef(null),X=D.useRef(new Audio(OM));D.useEffect(()=>{X.current.volume=.2},[]),D.useEffect(()=>{let R=()=>{},Q=()=>{};const se=sf(rt,ce=>{if(ce){const me=it(we,"characters",ce.uid);R=Mn(me,Ne=>{if(Ne.exists()){const Ge=Ne.data(),ke=Ge.character_sheet?.basic_info?.level||1;De.current!==null&&ke>De.current&&(Se(!0),X.current.currentTime=0,X.current.play().catch(mt=>console.log("Autoplay bloqueado:",mt))),De.current=ke,n(Ge),o(!1)}else o(!1)});const ve=Dn(Dt(we,"missoes"));Q=Mn(ve,Ne=>{d(Ne.docs.map(Ge=>({id:Ge.id,...Ge.data()})))})}else o(!1),i("/login")});return()=>{se(),R(),Q()}},[i]),D.useEffect(()=>{if(!e)return;const R=Dn(Dt(we,"sessoes"),Sa("participantes","array-contains",e.name)),Q=Mn(R,me=>{const ve=new Date,Ne=me.docs.map(mt=>({id:mt.id,...mt.data()})),Ge=[],ke=[];if(Ne.forEach(mt=>{const Wt=new Date(mt.dataInicio),Qt=new Date(mt.expiraEm);ve>=Wt&&ve<=Qt?Ge.push(mt):ve<Wt&&ke.push(mt)}),g(Ge),x(ke),O){const mt=Ge.find(Wt=>Wt.id===O.id);if(mt){const Wt=mt.connected_players?.includes(rt.currentUser?.uid);C(Wt?"connected":"waiting")}}}),se=Dn(Dt(we,"resenhas"),Sa("destinatarios","array-contains",e.name)),ce=Mn(se,me=>{const ve=me.docs.map(ke=>({id:ke.id,...ke.data()})),Ne=new Date,Ge=ve.filter(ke=>new Date(ke.expiraEm)>Ne);J(Ge)});return()=>{Q(),ce()}},[e,O]),D.useEffect(()=>{if(!O||!rt.currentUser)return;const R=it(we,"sessoes",O.id),Q=rt.currentUser.uid;vn(R,{connected_players:G_(Q)}).catch(ce=>console.error("Erro ao conectar:",ce));const se=()=>{};return window.addEventListener("beforeunload",se),()=>{window.removeEventListener("beforeunload",se),vn(R,{connected_players:GA(Q)}).catch(ce=>console.error("Erro ao desconectar:",ce))}},[O]);const ue=()=>{Se(!1),X.current.pause(),X.current.currentTime=0},_e=async R=>{if(!e)return;if(R.candidatos?.some(me=>me.uid===rt.currentUser.uid))return alert("Voc j se candidatou para esta misso!");const se=!R.candidatos||R.candidatos.length===0,ce={uid:rt.currentUser.uid,nome:e.name,classe:e.class,isLeader:se,dataCandidatura:new Date().toISOString()};try{const me=it(we,"missoes",R.id);await vn(me,{candidatos:G_(ce)}),alert(se?"Voc se candidatou e foi marcado como LDER DO GRUPO!":"Candidatura realizada com sucesso!")}catch(me){console.error("Erro ao candidatar:",me),alert("Falha ao enviar candidatura.")}},Ve=R=>{P(R),N(!0);const Q=new Date,se=new Date(R.dataInicio);Q>=se?C("connected"):C("waiting")};if(r)return h.jsxs("div",{className:"ether-loading",children:[h.jsx("div",{className:"loading-blur-bg"}),h.jsxs("div",{className:"loading-content",children:[h.jsx("img",{src:Cf,alt:"Carregando...",className:"chocobo-anim"}),h.jsx("div",{className:"loading-bar",children:h.jsx("div",{className:"loading-fill"})}),h.jsx("p",{children:"CARREGANDO GRIMRIO..."})]}),h.jsx("style",{children:`
          .ether-loading { height: 100vh; width: 100vw; background: #000; display: flex; align-items: center; justify-content: center; position: fixed; top: 0; left: 0; z-index: 9999; }
          .loading-blur-bg { position: absolute; width: 100%; height: 100%; background: radial-gradient(circle, #001a33 0%, #000 100%); filter: blur(40px); animation: pulseBlur 2s infinite alternate; }
          .loading-content { position: relative; z-index: 10; text-align: center; }
          .chocobo-anim { width: 120px; filter: drop-shadow(0 0 10px #ffcc00); margin-bottom: 20px; }
          .loading-bar { width: 200px; height: 2px; background: rgba(255, 255, 255, 0.1); margin: 0 auto 15px auto; border-radius: 10px; overflow: hidden; }
          .loading-fill { height: 100%; width: 0%; background: #ffcc00; box-shadow: 0 0 10px #ffcc00; animation: fillProgress 1s ease-in-out forwards; }
          p { color: #ffcc00; font-family: 'serif'; font-size: 10px; letter-spacing: 3px; animation: fadeText 1s infinite alternate; }
          @keyframes fillProgress { from { width: 0%; } to { width: 100%; } }
          @keyframes pulseBlur { from { opacity: 0.5; } to { opacity: 0.8; } }
          @keyframes fadeText { from { opacity: 0.4; } to { opacity: 1; } }
          `})]});if(!e)return h.jsx("div",{className:"loading-screen",children:"Nenhum personagem encontrado."});const He=e.character_sheet?.basic_info?.level||1;return h.jsxs("div",{className:"jogador-container",children:[h.jsx("div",{className:"background-layer",style:{backgroundImage:`url(${IM})`}}),h.jsxs("div",{className:"content-layer",children:[h.jsxs("div",{className:"char-hud clickable-hud",onClick:()=>k(!0),title:"Abrir Ficha do Personagem",children:[h.jsx("div",{className:"char-avatar",children:h.jsx("div",{className:"avatar-circle",children:h.jsx("span",{className:"hud-level",children:He})})}),h.jsxs("div",{className:"char-info",children:[h.jsx("h2",{className:"char-name",children:e.name}),h.jsxs("span",{className:"char-meta",children:[e.race," // ",e.class]})]})]}),w&&h.jsx("div",{className:"levelup-global-overlay",children:h.jsxs("div",{className:"levelup-content",children:[h.jsx("h1",{className:"levelup-title",children:"LEVEL UP!"}),h.jsx("p",{className:"levelup-subtitle",children:"Seu poder cresce..."}),h.jsx("button",{className:"levelup-confirm-btn",onClick:ue,children:"CONFIRMAR"})]})}),y.length>0&&m.length===0&&!E&&h.jsxs("div",{className:"upcoming-sessions-banner",children:[h.jsx("h3",{children:"A SESSO VAI COMEAR EM BREVE"}),y.map(R=>h.jsxs("div",{className:"countdown-row",children:[h.jsx("span",{children:R.missaoNome}),h.jsx(DM,{targetDate:R.dataInicio})]},R.id))]}),m.length>0&&!E&&h.jsxs("div",{className:"active-sessions-banner fade-in",children:[h.jsx("h3",{children:"SESSO EM ANDAMENTO!"}),m.map(R=>h.jsxs("div",{className:"session-entry-row",children:[h.jsx("span",{children:R.missaoNome}),h.jsx("button",{className:"btn-enter-session",onClick:()=>Ve(R),children:"ENTRAR AGORA"})]},R.id))]}),I&&O&&h.jsxs("div",{className:`vtt-status-widget ${I}`,children:[h.jsx("div",{className:"status-indicator"}),h.jsxs("div",{className:"status-text",children:[I==="waiting"&&h.jsxs(h.Fragment,{children:[h.jsx("h4",{children:"AGUARDANDO MESTRE"}),h.jsx("small",{children:"Sesso Conectada! Aguardando..."})]}),I==="connected"&&h.jsxs(h.Fragment,{children:[h.jsx("h4",{children:"BEM-VINDO, AVENTUREIRO"}),h.jsx("small",{children:"Sesso Conectada!"})]})]})]}),h.jsx("button",{className:"floating-mission-btn",onClick:()=>U(!0),title:"Quadro de Misses",children:""}),ee.length>0&&h.jsxs("button",{className:"floating-sanchez-btn",onClick:()=>oe(!0),title:"Resenhas do Sanchez",children:[h.jsx("div",{className:"sanchez-icon-face",style:{backgroundImage:`url(${Tm})`}}),h.jsx("span",{className:"notification-badge",children:ee.length})]}),h.jsx(Pg,{isMestre:!1,playerData:e}),j&&h.jsx("div",{className:"ff-modal-overlay-flex",onClick:()=>U(!1),children:h.jsxs("div",{className:"ff-modal-content ff-card",onClick:R=>R.stopPropagation(),children:[h.jsxs("div",{className:"modal-header-row",children:[h.jsx("h3",{className:"modal-title-ff",children:"QUADRO DE CONTRATOS"}),h.jsx("button",{className:"btn-close-x",onClick:()=>U(!1),children:""})]}),h.jsxs("div",{className:"missions-list-player",children:[c.map(R=>{const Q=parseInt(R.grupo)||0,se=R.candidatos?R.candidatos.length:0,ce=se>=Q&&Q>0,me=R.candidatos?.some(ve=>ve.uid===rt.currentUser.uid);return h.jsxs("div",{className:`mission-poster-player rank-${R.rank}`,children:[h.jsxs("div",{className:"mp-header",children:[h.jsx("span",{className:"mp-rank",children:R.rank}),h.jsx("h4",{children:R.nome})]}),h.jsxs("div",{className:"mp-details",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Local:"})," ",R.local]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Recompensa:"})," ",R.gilRecompensa," Gil"]}),h.jsx("p",{className:"mp-desc",children:R.descricaoMissao})]}),h.jsxs("div",{className:"vagas-container-player",style:{marginTop:"10px",background:"rgba(0,0,0,0.3)",padding:"5px",borderRadius:"4px"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10px",color:"#ccc"},children:[h.jsx("span",{children:"VAGAS PREENCHIDAS"}),h.jsxs("span",{children:[se," / ",Q>0?Q:""]})]}),h.jsx("div",{style:{width:"100%",height:"4px",background:"#222",marginTop:"2px"},children:h.jsx("div",{style:{width:`${Math.min(se/(Q||1)*100,100)}%`,height:"100%",background:ce?"#f44":"#00f2ff"}})})]}),R.candidatos&&R.candidatos.length>0&&h.jsxs("div",{className:"candidates-box",children:[h.jsx("small",{children:"Grupo em formao:"}),h.jsx("div",{className:"cand-tags",children:R.candidatos.map((ve,Ne)=>h.jsxs("span",{className:`cand-tag ${ve.isLeader?"leader":""}`,children:[ve.isLeader&&""," ",ve.nome]},Ne))})]}),h.jsxs("div",{className:"mp-actions-row",children:[h.jsx("button",{className:"btn-details-outline",onClick:()=>B(R),children:"DETALHES"}),h.jsx("button",{className:"btn-candidatar",disabled:me||ce&&!me,onClick:()=>_e(R),style:{background:ce&&!me?"#333":"#00f2ff",color:ce&&!me?"#666":"#000",cursor:ce&&!me?"not-allowed":"pointer"},children:me?"ENVIADO":ce?"LOTADO":"ACEITAR"})]})]},R.id)}),c.length===0&&h.jsx("p",{style:{textAlign:"center",padding:"20px"},children:"Nenhum contrato disponvel no momento."})]})]})}),L&&h.jsx("div",{className:"ff-modal-overlay-flex",onClick:()=>B(null),style:{zIndex:1e5},children:h.jsxs("div",{className:"ff-modal ff-card detail-view-main",onClick:R=>R.stopPropagation(),children:[h.jsxs("div",{className:"detail-header-modern",children:[h.jsx("div",{className:`detail-rank-badge rank-${L.rank}`,children:L.rank}),h.jsxs("div",{className:"detail-title-col",children:[h.jsx("h2",{children:L.nome}),h.jsxs("span",{className:"detail-narrator",children:["Narrador: ",L.mestreNome]})]})]}),h.jsxs("div",{className:"detail-body-grid",children:[h.jsxs("div",{className:"detail-info-row",children:[h.jsxs("div",{className:"info-item",children:[h.jsx("label",{children:" LOCAL"}),h.jsx("span",{children:L.local||"Desconhecido"})]}),h.jsxs("div",{className:"info-item",children:[h.jsx("label",{children:" CONTRATANTE"}),h.jsx("span",{children:L.contratante||"Annimo"})]})]}),h.jsxs("div",{className:"detail-section",children:[h.jsx("label",{className:"section-label",children:" DESCRIO DA MISSO"}),h.jsx("p",{className:"section-text",children:L.descricaoMissao||"Sem descrio."})]}),h.jsxs("div",{className:"detail-section",children:[h.jsx("label",{className:"section-label",children:" OBJETIVOS DA MISSO"}),h.jsx("p",{className:"section-text",children:L.objetivosMissao||"Sem objetivos definidos."})]}),h.jsxs("div",{className:"detail-section",children:[h.jsx("label",{className:"section-label",children:" REQUISITOS"}),h.jsx("p",{className:"section-text",children:L.requisitos||"Sem requisitos especiais."})]}),h.jsxs("div",{className:"detail-section reward-section",children:[h.jsx("label",{className:"section-label",children:" RECOMPENSAS"}),h.jsxs("div",{className:"reward-content-box",children:[h.jsxs("div",{className:"gil-display-row",children:[h.jsx("span",{className:"gil-icon",children:""})," ",h.jsxs("span",{className:"gil-value",children:[L.gilRecompensa||0," GIL"]})]}),L.recompensa&&h.jsx("div",{className:"extra-rewards-list",children:L.recompensa.split(`
`).map((R,Q)=>h.jsxs("div",{className:"reward-item",children:[" ",R]},Q))})]})]})]}),h.jsx("button",{className:"ff-final-close-btn",onClick:()=>B(null),children:"FECHAR RELATRIO"})]})}),re&&h.jsx("div",{className:"ff-modal-overlay-flex",onClick:()=>oe(!1),children:h.jsxs("div",{className:"ff-modal-content ff-card",style:{height:"auto",maxHeight:"600px"},onClick:R=>R.stopPropagation(),children:[h.jsxs("div",{className:"modal-header-row",children:[h.jsx("h3",{className:"modal-title-ff",children:"RESENHAS RECEBIDAS"}),h.jsx("button",{className:"btn-close-x",onClick:()=>oe(!1),children:""})]}),h.jsx("div",{className:"resenhas-list-container",children:ee.map(R=>h.jsxs("div",{className:"resenha-row-player",onClick:()=>{he(R),oe(!1)},children:[h.jsx("span",{className:"r-icon",children:""}),h.jsxs("div",{className:"r-info",children:[h.jsx("h4",{children:R.titulo}),h.jsxs("small",{children:["De: ",R.mestre]})]}),h.jsx("button",{className:"btn-read-arrow",children:"LER "})]},R.id))})]})}),le&&h.jsx("div",{className:"papiro-overlay-full",onClick:()=>he(null),children:h.jsxs("div",{className:"papiro-real-container",style:{backgroundImage:`url(${r1})`},onClick:R=>R.stopPropagation(),children:[h.jsx("div",{className:"sanchez-oval-view-no-border",style:{backgroundImage:`url(${Tm})`}}),h.jsx("h2",{className:"papiro-title-real",children:le.titulo}),h.jsxs("p",{className:"papiro-mestre-sub",children:["Narrador: ",le.mestre]}),h.jsx("div",{className:"papiro-body-real",dangerouslySetInnerHTML:{__html:le.conteudo.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br/>")}}),h.jsx("button",{className:"papiro-close-btn",onClick:()=>he(null),children:"FECHAR"})]})}),T&&e&&h.jsx(Vg,{characterData:e,isMaster:!1,onClose:()=>k(!1)})]}),h.jsx("style",{children:`
        /* ESTILOS PRESERVADOS */
        .jogador-container { position: relative; width: 100vw; height: 100vh; overflow: hidden; background: #000; font-family: 'Cinzel', serif; color: white; }
        .background-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center; background-repeat: no-repeat; z-index: 0; }
        .content-layer { position: relative; z-index: 10; width: 100%; height: 100%; }
        .loading-screen { width: 100vw; height: 100vh; background: #000; color: #ffcc00; display: flex; align-items: center; justify-content: center; font-size: 24px; font-family: 'Cinzel', serif; }
        .char-hud { position: absolute; top: 20px; left: 20px; display: flex; align-items: center; gap: 15px; background: rgba(0,0,0,0.8); padding: 15px 25px; border-radius: 50px; border: 1px solid #ffcc00; box-shadow: 0 0 15px rgba(255,204,0,0.3); backdrop-filter: blur(5px); z-index: 50; transition: transform 0.2s; }
        .char-hud.clickable-hud:hover { transform: scale(1.05); cursor: pointer; border-color: #fff; box-shadow: 0 0 25px #ffcc00; }
        .avatar-circle { width: 60px; height: 60px; background: #222; border-radius: 50%; border: 2px solid #fff; display: flex; align-items: center; justify-content: center; }
        .hud-level { font-size: 28px; font-weight: bold; color: #ffcc00; text-shadow: 0 0 5px #000; }
        .char-info h2 { margin: 0; font-size: 20px; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        .char-meta { font-size: 12px; color: #00f2ff; font-weight: bold; }
        .levelup-global-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); z-index: 999999; display: flex; align-items: center; justify-content: center; animation: fadeOverlay 0.5s forwards; }
        .levelup-content { text-align: center; }
        .levelup-title { font-size: 80px; color: #ffcc00; text-shadow: 0 0 50px #ffcc00, 0 0 20px #fff; animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); letter-spacing: 5px; margin-bottom: 10px; }
        .levelup-subtitle { font-size: 24px; color: #fff; margin-bottom: 40px; font-family: 'Lato', sans-serif; opacity: 0.8; }
        .levelup-confirm-btn { background: transparent; border: 2px solid #ffcc00; color: #ffcc00; padding: 15px 40px; font-size: 18px; font-family: 'Cinzel', serif; font-weight: bold; cursor: pointer; transition: 0.3s; text-transform: uppercase; letter-spacing: 2px; }
        .levelup-confirm-btn:hover { background: #ffcc00; color: #000; box-shadow: 0 0 30px #ffcc00; transform: scale(1.1); }
        .upcoming-sessions-banner { position: absolute; top: 120px; left: 50%; transform: translateX(-50%); background: rgba(0, 0, 0, 0.8); border: 2px solid #ffcc00; padding: 20px; border-radius: 8px; text-align: center; box-shadow: 0 0 30px rgba(255,204,0,0.3); z-index: 5; width: 400px; }
        .upcoming-sessions-banner h3 { color: #ffcc00; margin-bottom: 10px; font-size: 18px; }
        .countdown-row { display: flex; flex-direction: column; gap: 5px; border-top: 1px solid #333; padding-top: 10px; margin-top: 10px; }
        .countdown-text { font-size: 24px; color: #fff; font-weight: bold; font-family: 'Lato', sans-serif; }
        .active-sessions-banner { position: absolute; top: 120px; left: 50%; transform: translateX(-50%); background: rgba(20, 0, 0, 0.9); border: 2px solid #f00; padding: 20px; border-radius: 8px; text-align: center; box-shadow: 0 0 30px #f00; animation: pulseRed 2s infinite; z-index: 5; }
        .session-entry-row { display: flex; gap: 20px; align-items: center; margin-top: 10px; justify-content: center; }
        .btn-enter-session { background: #f00; color: #fff; border: none; padding: 10px 20px; font-weight: bold; cursor: pointer; font-family: 'Cinzel', serif; font-size: 16px; }
        .btn-enter-session:hover { background: #fff; color: #f00; }
        @keyframes pulseRed { 0% { box-shadow: 0 0 10px #f00; } 50% { box-shadow: 0 0 30px #f00; } 100% { box-shadow: 0 0 10px #f00; } }
        .vtt-status-widget { position: fixed; top: 20px; right: 20px; background: rgba(0,0,0,0.9); border: 2px solid; padding: 15px; border-radius: 8px; display: flex; align-items: center; gap: 15px; z-index: 9999; width: 280px; transition: 0.5s; box-shadow: 0 5px 20px rgba(0,0,0,0.5); }
        .vtt-status-widget.waiting { border-color: #ffcc00; }
        .vtt-status-widget.connected { border-color: #0f0; box-shadow: 0 0 20px rgba(0,255,0,0.3); }
        .status-indicator { width: 15px; height: 15px; border-radius: 50%; }
        .waiting .status-indicator { background: #ffcc00; animation: blink 1s infinite; }
        .connected .status-indicator { background: #0f0; box-shadow: 0 0 10px #0f0; }
        .status-text h4 { margin: 0; font-size: 14px; color: #fff; text-transform: uppercase; }
        .status-text small { font-size: 11px; color: #ccc; }
        .waiting .status-text h4 { color: #ffcc00; }
        .connected .status-text h4 { color: #0f0; }
        @keyframes blink { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
        .floating-mission-btn { position: fixed; bottom: 30px; left: 30px; width: 70px; height: 70px; border-radius: 50%; border: 2px solid #ffcc00; background: #000; color: #fff; font-size: 30px; cursor: pointer; z-index: 999; box-shadow: 0 0 15px rgba(0,0,0,0.8); transition: transform 0.2s, box-shadow 0.2s; display: flex; align-items: center; justify-content: center; }
        .floating-mission-btn:hover { transform: scale(1.1); box-shadow: 0 0 25px #ffcc00; }
        .floating-sanchez-btn { position: fixed; bottom: 110px; left: 30px; width: 70px; height: 70px; border-radius: 50%; border: 2px solid #00f2ff; background: #000; cursor: pointer; z-index: 999; box-shadow: 0 0 15px rgba(0,242,255,0.5); transition: transform 0.2s; display: flex; align-items: center; justify-content: center; overflow: visible; }
        .floating-sanchez-btn:hover { transform: scale(1.1); box-shadow: 0 0 25px #00f2ff; }
        .sanchez-icon-face { width: 100%; height: 100%; border-radius: 50%; background-size: cover; background-position: center; }
        .notification-badge { position: absolute; top: -5px; right: -5px; background: #f00; color: #fff; border-radius: 50%; width: 24px; height: 24px; font-size: 12px; font-weight: bold; display: flex; align-items: center; justify-content: center; border: 2px solid #fff; }
        .ff-modal-overlay-flex { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); z-index: 99999; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(10px); }
        .ff-modal-content { width: 600px; max-width: 95vw; max-height: 85vh; background: #0d0d15; border: 2px solid #ffcc00; padding: 25px; border-radius: 8px; box-shadow: 0 0 50px rgba(0,0,0,0.9); overflow-y: auto; display: flex; flex-direction: column; }
        .modal-header-row { display: flex; justify-content: space-between; align-items: flex-start; border-bottom: 1px solid #444; padding-bottom: 10px; margin-bottom: 15px; }
        .modal-title-ff { color: #ffcc00; margin: 0; font-size: 22px; letter-spacing: 2px; }
        .btn-close-x { background: none; border: none; color: #fff; font-size: 24px; cursor: pointer; }
        .btn-close-x:hover { color: #f00; }
        .missions-list-player { display: grid; grid-template-columns: 1fr; gap: 15px; }
        .mission-poster-player { background: rgba(255,255,255,0.05); border: 1px solid #444; padding: 15px; border-radius: 4px; position: relative; }
        .mp-header { display: flex; align-items: center; gap: 10px; border-bottom: 1px solid #333; padding-bottom: 8px; margin-bottom: 8px; }
        .mp-rank { font-size: 24px; font-weight: bold; color: #ffcc00; }
        .mp-details p { margin: 4px 0; font-size: 14px; color: #ccc; }
        .mp-desc { font-style: italic; color: #aaa; margin-top: 8px; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
        .mp-actions-row { display: flex; gap: 10px; margin-top: 15px; }
        .btn-details-outline { flex: 1; border: 1px solid #00f2ff; color: #00f2ff; background: transparent; padding: 10px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .btn-details-outline:hover { background: #00f2ff; color: #000; }
        .btn-candidatar { flex: 2; background: #00f2ff; color: #000; font-weight: bold; border: none; padding: 10px; cursor: pointer; transition: 0.3s; }
        .btn-candidatar:hover:not(:disabled) { background: #fff; box-shadow: 0 0 10px #00f2ff; }
        .btn-candidatar:disabled { background: #333; color: #666; cursor: not-allowed; }
        .candidates-box { margin-top: 10px; background: rgba(0,0,0,0.3); padding: 8px; border-radius: 4px; }
        .cand-tags { display: flex; flex-wrap: wrap; gap: 5px; margin-top: 5px; }
        .cand-tag { font-size: 11px; padding: 2px 6px; background: #222; border: 1px solid #444; border-radius: 3px; color: #ddd; }
        .cand-tag.leader { border-color: #ffcc00; color: #ffcc00; }
        .resenhas-list-container { display: flex; flex-direction: column; gap: 10px; }
        .resenha-row-player { display: flex; align-items: center; background: rgba(255,255,255,0.05); border: 1px solid #333; padding: 15px; border-radius: 4px; cursor: pointer; transition: 0.2s; }
        .resenha-row-player:hover { background: rgba(255,255,255,0.1); border-color: #ffcc00; }
        .r-icon { font-size: 24px; margin-right: 15px; }
        .r-info { flex: 1; }
        .r-info h4 { margin: 0; color: #ffcc00; font-size: 16px; }
        .r-info small { color: #aaa; }
        .btn-read-arrow { background: none; border: none; color: #00f2ff; font-weight: bold; cursor: pointer; }
        .detail-view-main { width: 600px; background: #000814; border: 1px solid #ffcc00; padding: 0; box-shadow: 0 0 40px rgba(255, 204, 0, 0.1); overflow: hidden; display: flex; flex-direction: column; }
        .detail-header-modern { background: linear-gradient(90deg, #1a1a1a 0%, #000 100%); padding: 25px 30px; display: flex; align-items: center; border-bottom: 1px solid #333; gap: 20px; }
        .detail-rank-badge { font-size: 32px; font-weight: bold; color: #ffcc00; text-shadow: 0 0 10px rgba(255,204,0,0.5); border: 2px solid #ffcc00; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background: rgba(0,0,0,0.5); }
        .detail-title-col h2 { margin: 0; font-size: 24px; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        .detail-narrator { color: #00f2ff; font-size: 12px; font-weight: bold; text-transform: uppercase; margin-top: 4px; display: block; }
        .detail-body-grid { padding: 30px; display: flex; flex-direction: column; gap: 20px; }
        .detail-info-row { display: flex; gap: 25px; margin-bottom: 10px; border-bottom: 1px solid #333; padding-bottom: 15px; }
        .info-item { flex: 1; }
        .info-item label { color: #ffcc00; font-size: 10px; display: block; margin-bottom: 5px; font-weight: bold; opacity: 0.8; }
        .info-item span { color: #fff; font-size: 14px; font-weight: bold; letter-spacing: 0.5px; }
        .detail-section { margin-bottom: 5px; }
        .section-label { color: #ffcc00; font-size: 11px; font-weight: bold; display: block; margin-bottom: 8px; letter-spacing: 1px; text-transform: uppercase; border-bottom: 1px solid #333; padding-bottom: 4px; }
        .section-text { font-size: 15px; line-height: 1.5; color: #ddd; margin: 0; white-space: pre-wrap; }
        .reward-section { margin-top: 10px; background: rgba(255,204,0,0.05); padding: 15px; border-radius: 4px; border: 1px solid rgba(255,204,0,0.2); }
        .gil-display-row { display: flex; align-items: center; gap: 10px; font-size: 18px; color: #ffcc00; font-weight: bold; margin-bottom: 8px; }
        .extra-rewards-list { margin-top: 8px; padding-left: 5px; }
        .reward-item { color: #aaa; font-size: 14px; margin-bottom: 4px; font-style: italic; }
        .ff-final-close-btn { width: 100%; background: #111; color: #fff; border: none; border-top: 1px solid #333; padding: 20px; font-weight: bold; cursor: pointer; font-size: 13px; text-transform: uppercase; transition: 0.2s; }
        .ff-final-close-btn:hover { background: #222; color: #ffcc00; }
        .papiro-overlay-full { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); z-index: 100000; display: flex; align-items: center; justify-content: center; }
        .papiro-real-container { width: 1000px; height: 800px; max-width: 95vw; max-height: 95vh; background-size: 100% 100%; background-repeat: no-repeat; padding: 110px 160px; color: #3b2b1a; position: relative; display: flex; flex-direction: column; }
        .sanchez-oval-view-no-border { width: 110px; height: 110px; float: right; border-radius: 50%; background-size: cover; margin-left: 20px; mask-image: radial-gradient(circle, black 60%, transparent 100%); -webkit-mask-image: radial-gradient(circle, black 60%, transparent 100%); opacity: 0.9; }
        .papiro-title-real { border-bottom: 2px solid #3b2b1a; padding-bottom: 5px; margin-top: 0; font-size: 32px; font-weight: bold; }
        .papiro-mestre-sub { font-size: 14px; font-style: italic; opacity: 0.8; margin-top: 5px; }
        .papiro-body-real { margin-top: 25px; flex: 1; overflow-y: auto; line-height: 1.6; font-size: 18px; padding-right: 10px; scrollbar-width: none; -ms-overflow-style: none; }
        .papiro-body-real::-webkit-scrollbar { display: none; }
        .papiro-close-btn { position: absolute; bottom: 45px; right: 110px; background: #3b2b1a; color: #f4e4bc; border: none; padding: 8px 20px; cursor: pointer; font-weight: bold; font-size: 13px; border-radius: 2px; }
        .fade-in { animation: fadeIn 1s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
      `})]})}const kM=()=>h.jsx("span",{children:""}),jM=()=>h.jsx("span",{children:""}),PM=()=>h.jsx("span",{children:""}),VM=()=>h.jsx("span",{children:""});function LM(){const i=Ui(),[e,n]=D.useState(null),[r,o]=D.useState(!0),[c,d]=D.useState([]),[m,g]=D.useState([]),[y,x]=D.useState(null),[E,N]=D.useState(new Date);return D.useEffect(()=>{let j=()=>{};const U=sf(rt,L=>{if(L){const B=Dn(Dt(we,"sessoes"),Sa("mestreId","==",L.uid));j=Mn(B,ee=>{const re=ee.docs.map(oe=>({id:oe.id,...oe.data()})).find(oe=>{const le=new Date,he=new Date(oe.expiraEm);return le<=he});re&&(n(re),g(re.connected_players||[]),re.dm_online!==!0&&vn(it(we,"sessoes",re.id),{dm_online:!0}).catch(console.error)),o(!1)},ee=>{console.error("Erro de cota ou permisso:",ee),o(!1)})}else o(!1),i("/login")});return()=>{U(),j(),rt.currentUser&&e&&vn(it(we,"sessoes",e.id),{dm_online:!1}).catch(()=>{})}},[i]),D.useEffect(()=>{if(!e||!e.participantes)return;const j=Dn(Dt(we,"characters")),U=Mn(j,L=>{const ee=L.docs.map(J=>({id:J.id,...J.data()})).filter(J=>e.participantes.includes(J.name));d(ee)});return()=>U()},[e?.id]),D.useEffect(()=>{const j=setInterval(()=>N(new Date),1e3);return()=>clearInterval(j)},[]),r?h.jsxs("div",{className:"ether-loading",children:[h.jsx("div",{className:"loading-blur-bg"}),h.jsxs("div",{className:"loading-content",children:[h.jsx("img",{src:Cf,alt:"Carregando...",className:"chocobo-anim"}),h.jsx("p",{children:"SINTONIZANDO COM O TER..."})]}),h.jsx("style",{children:`
            .ether-loading { height: 100vh; width: 100vw; background: #000; display: flex; align-items: center; justify-content: center; position: fixed; top: 0; left: 0; z-index: 9999; }
            .loading-blur-bg { position: absolute; width: 100%; height: 100%; background: radial-gradient(circle, #001a33 0%, #000 100%); filter: blur(40px); animation: pulseBlur 2s infinite alternate; }
            .loading-content { position: relative; z-index: 10; text-align: center; }
            .chocobo-anim { width: 120px; filter: drop-shadow(0 0 10px #ffcc00); margin-bottom: 20px; }
            p { color: #ffcc00; font-family: 'serif'; font-size: 14px; letter-spacing: 3px; animation: fadeText 1s infinite alternate; }
            @keyframes pulseBlur { from { opacity: 0.5; } to { opacity: 0.8; } }
            @keyframes fadeText { from { opacity: 0.4; } to { opacity: 1; } }
            `})]}):e?h.jsxs("div",{className:"mestre-vtt-container",children:[h.jsx("div",{className:"mestre-bg-layer",style:{backgroundImage:`url(${i1})`}}),h.jsxs("div",{className:"dm-players-sidebar",children:[h.jsx("h3",{className:"sidebar-title",children:"AVENTUREIROS"}),h.jsxs("div",{className:"players-list-scroll",children:[c.map(j=>{const U=m.includes(j.uid),L=j.character_sheet?.imgUrl;return h.jsxs("div",{className:`mini-player-card ${U?"online":"offline"}`,onClick:()=>x(j),title:"Clique para editar ficha",children:[h.jsxs("div",{className:"mini-avatar",children:[L?h.jsx("div",{className:"avatar-img",style:{backgroundImage:`url(${L})`}}):h.jsx("div",{className:"avatar-placeholder",children:j.name.charAt(0)}),h.jsx("div",{className:`status-dot ${U?"green":"gray"}`})]}),h.jsxs("div",{className:"mini-info",children:[h.jsx("span",{className:"p-name",children:j.name}),h.jsxs("span",{className:"p-meta",children:[j.race," // ",j.class]}),h.jsxs("span",{className:"p-lvl",children:["LVL ",j.character_sheet?.basic_info?.level||1]})]})]},j.id)}),c.length===0&&h.jsx("div",{className:"empty-slot",children:"Aguardando aventureiros..."})]})]}),h.jsxs("div",{className:"session-status-top",children:[h.jsx("div",{className:"status-indicator active"}),h.jsxs("div",{className:"status-info",children:[h.jsxs("h2",{children:["SESSO ATIVA: ",e.missaoNome]}),h.jsxs("p",{children:["Mestre Online  ",m.length," Jogadores Conectados  ",E.toLocaleTimeString()]})]})]}),h.jsx("div",{className:"vtt-workspace",children:h.jsx("div",{className:"empty-tabletop-msg",children:"SELECIONE UMA FERRAMENTA"})}),h.jsxs("div",{className:"dm-tools-dock",children:[h.jsxs("div",{className:"tool-group",children:[h.jsx(Pg,{isMestre:!0}),h.jsx("div",{className:"tool-label",children:"BAZAR"})]}),h.jsxs("div",{className:"tool-group",children:[h.jsx(s1,{}),h.jsx("div",{className:"tool-label",children:"FORJA"})]}),h.jsxs("div",{className:"tool-group",children:[h.jsx("button",{className:"tool-btn-placeholder",onClick:()=>alert("Em breve"),children:h.jsx(kM,{})}),h.jsx("div",{className:"tool-label",children:"MAPA"})]}),h.jsxs("div",{className:"tool-group",children:[h.jsx("button",{className:"tool-btn-placeholder",onClick:()=>alert("Em breve"),children:h.jsx(jM,{})}),h.jsx("div",{className:"tool-label",children:"DADOS"})]}),h.jsxs("div",{className:"tool-group",children:[h.jsx("button",{className:"tool-btn-placeholder",onClick:()=>alert("Em breve"),children:h.jsx(PM,{})}),h.jsx("div",{className:"tool-label",children:"NPCS"})]}),h.jsxs("div",{className:"tool-group",children:[h.jsx("button",{className:"tool-btn-placeholder",onClick:()=>alert("Em breve"),children:h.jsx(VM,{})}),h.jsx("div",{className:"tool-label",children:"COMBATE"})]})]}),y&&h.jsx(Vg,{characterData:y,isMaster:!0,onClose:()=>x(null)}),h.jsx("style",{children:`
        .mestre-vtt-container { width: 100vw; height: 100vh; overflow: hidden; position: relative; background: #000; font-family: 'Cinzel', serif; color: #fff; }
        .mestre-bg-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center; opacity: 0.4; z-index: 0; }
        .dm-players-sidebar { position: absolute; top: 20px; left: 20px; width: 280px; background: rgba(0, 10, 20, 0.95); border: 2px solid #ffcc00; border-radius: 8px; padding: 15px; z-index: 50; max-height: 80vh; display: flex; flex-direction: column; box-shadow: 0 0 30px rgba(0,0,0,0.8); }
        .sidebar-title { color: #ffcc00; font-size: 16px; border-bottom: 1px solid #444; padding-bottom: 10px; margin-bottom: 15px; text-align: center; letter-spacing: 2px; }
        .players-list-scroll { flex: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; scrollbar-width: none; }
        .mini-player-card { display: flex; align-items: center; padding: 10px; background: rgba(255,255,255,0.05); border: 1px solid #333; border-radius: 4px; cursor: pointer; transition: 0.2s; }
        .mini-player-card:hover { border-color: #ffcc00; background: rgba(255, 204, 0, 0.1); }
        .mini-player-card.online { border-left: 3px solid #00f2ff; background: rgba(0, 242, 255, 0.05); }
        .mini-player-card.offline { border-left: 3px solid #666; opacity: 0.7; filter: grayscale(0.8); }
        .mini-avatar { position: relative; margin-right: 12px; }
        .avatar-img { width: 40px; height: 40px; border-radius: 50%; background-size: cover; border: 1px solid #fff; }
        .avatar-placeholder { width: 40px; height: 40px; border-radius: 50%; background: #222; border: 1px solid #555; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        .status-dot { width: 10px; height: 10px; border-radius: 50%; position: absolute; bottom: 0; right: 0; border: 1px solid #000; }
        .status-dot.green { background: #00f2ff; box-shadow: 0 0 5px #00f2ff; }
        .status-dot.gray { background: #666; }
        .mini-info { display: flex; flex-direction: column; }
        .p-name { font-size: 14px; font-weight: bold; color: #fff; line-height: 1.2; }
        .p-meta { font-size: 10px; color: #aaa; }
        .p-lvl { font-size: 10px; color: #ffcc00; font-weight: bold; }
        .empty-slot { font-size: 12px; color: #666; text-align: center; padding: 20px 0; font-style: italic; }
        .session-status-top { position: absolute; top: 20px; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.8); border: 1px solid #00f2ff; padding: 10px 30px; border-radius: 30px; display: flex; align-items: center; gap: 15px; z-index: 40; box-shadow: 0 0 20px rgba(0, 242, 255, 0.2); }
        .status-indicator { width: 12px; height: 12px; background: #00f2ff; border-radius: 50%; box-shadow: 0 0 10px #00f2ff; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
        .status-info h2 { margin: 0; font-size: 16px; color: #fff; letter-spacing: 1px; }
        .status-info p { margin: 0; font-size: 10px; color: #00f2ff; text-transform: uppercase; letter-spacing: 1px; }
        .vtt-workspace { position: relative; z-index: 10; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; pointer-events: none; }
        .empty-tabletop-msg { font-size: 30px; color: rgba(255,255,255,0.1); font-weight: bold; letter-spacing: 5px; }
        .dm-tools-dock { position: absolute; right: 20px; bottom: 20px; display: flex; flex-direction: column; gap: 15px; z-index: 60; align-items: flex-end; }
        .tool-group { display: flex; align-items: center; gap: 10px; flex-direction: row-reverse; }
        .tool-label { background: rgba(0,0,0,0.8); padding: 4px 8px; border-radius: 4px; font-size: 10px; color: #ffcc00; opacity: 0; transition: 0.2s; pointer-events: none; transform: translateX(10px); }
        .tool-group:hover .tool-label { opacity: 1; transform: translateX(0); }
        .dm-tools-dock .bazar-trigger-btn, .dm-tools-dock .forja-trigger-btn { position: relative; bottom: auto; right: auto; margin: 0; box-shadow: 0 0 10px #000; width: 60px; height: 60px; }
        .tool-btn-placeholder { width: 60px; height: 60px; border-radius: 50%; background: #111; border: 2px solid #555; color: #fff; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: 0.2s; box-shadow: 0 0 10px #000; }
        .tool-btn-placeholder:hover { border-color: #ffcc00; color: #ffcc00; box-shadow: 0 0 20px #ffcc00; transform: scale(1.1); }
      `})]}):h.jsxs("div",{style:{width:"100vw",height:"100vh",background:"#000",color:"#f44",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"serif",flexDirection:"column",gap:"20px"},children:[h.jsx("h2",{children:"NENHUMA SESSO ATIVA ENCONTRADA"}),h.jsx("button",{onClick:()=>i("/mestre"),style:{padding:"10px 20px",background:"#ffcc00",border:"none",cursor:"pointer",fontWeight:"bold"},children:"VOLTAR AO DASHBOARD"})]})}const zM=({user:i,initializing:e,children:n})=>e?null:i&&i.email==="fffvtt10@gmail.com"?n:h.jsx(yx,{to:"/admin-login"});function UM(){const[i,e]=D.useState(!0),[n,r]=D.useState(null);return D.useEffect(()=>sf(rt,c=>{r(c),e(!1)}),[]),i?h.jsxs("div",{style:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#000",overflow:"hidden"},children:[h.jsx("img",{src:Cf,alt:"Loading...",style:{width:"100px",marginBottom:"20px",filter:"drop-shadow(0 0 10px #ffcc00)"}}),h.jsx("div",{style:{width:"200px",height:"4px",background:"#333",borderRadius:"2px",overflow:"hidden"},children:h.jsx("div",{className:"progress-bar"})}),h.jsx("p",{style:{marginTop:"10px"},children:"SINTONIZANDO TER..."}),h.jsx("style",{children:`
          .progress-bar { height: 100%; background: #ffcc00; width: 0%; box-shadow: 0 0 10px #ffcc00; animation: fillProgress 2s ease-in-out forwards; }
          p { color: #ffcc00; font-family: 'serif'; font-size: 10px; letter-spacing: 3px; animation: fadeText 1s infinite alternate; }
          @keyframes fillProgress { from { width: 0%; } to { width: 100%; } }
          @keyframes fadeText { from { opacity: 0.4; } to { opacity: 1; } }
        `})]}):h.jsxs(GS,{children:[h.jsx($a,{path:"/",element:h.jsx(mM,{})}),h.jsx($a,{path:"/login",element:h.jsx(yM,{})}),h.jsx($a,{path:"/mestre",element:h.jsx(TM,{})}),h.jsx($a,{path:"/mestre-vtt",element:h.jsx(LM,{})}),h.jsx($a,{path:"/create-character",element:h.jsx(CM,{})}),h.jsx($a,{path:"/jogador-vtt",element:h.jsx(MM,{})}),h.jsx($a,{path:"/admin-login",element:h.jsx(bM,{})}),h.jsx($a,{path:"/admin",element:h.jsx(zM,{user:n,initializing:i,children:h.jsx(vM,{})})}),h.jsx($a,{path:"*",element:h.jsx(yx,{to:"/"})})]})}YT.createRoot(document.getElementById("root")).render(h.jsx(UT.StrictMode,{children:h.jsx(mw,{children:h.jsx(UM,{})})}));
