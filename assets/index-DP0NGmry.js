(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function xb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var gm={exports:{}},zl={};var O_;function e1(){if(O_)return zl;O_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:h,ref:o!==void 0?o:null,props:c}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var P_;function t1(){return P_||(P_=1,gm.exports=e1()),gm.exports}var b=t1(),ym={exports:{}},Re={};var V_;function n1(){if(V_)return Re;V_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),x=Symbol.iterator;function k(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,G={};function $(V,te,le){this.props=V,this.context=te,this.refs=G,this.updater=le||q}$.prototype.isReactComponent={},$.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},$.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function W(){}W.prototype=$.prototype;function re(V,te,le){this.props=V,this.context=te,this.refs=G,this.updater=le||q}var _e=re.prototype=new W;_e.constructor=re,B(_e,$.prototype),_e.isPureReactComponent=!0;var ye=Array.isArray;function ie(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(V,te,le){var ue=le.ref;return{$$typeof:i,type:V,key:te,ref:ue!==void 0?ue:null,props:le}}function M(V,te){return R(V.type,te,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function O(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(le){return te[le]})}var C=/\/+/g;function we(V,te){return typeof V=="object"&&V!==null&&V.key!=null?O(""+V.key):te.toString(36)}function Ye(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ie,ie):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function X(V,te,le,ue,Te){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Q=!1;if(V===null)Q=!0;else switch(Ce){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(V.$$typeof){case i:case e:Q=!0;break;case E:return Q=V._init,X(Q(V._payload),te,le,ue,Te)}}if(Q)return Te=Te(V),Q=ue===""?"."+we(V,0):ue,ye(Te)?(le="",Q!=null&&(le=Q.replace(C,"$&/")+"/"),X(Te,te,le,"",function(bn){return bn})):Te!=null&&(D(Te)&&(Te=M(Te,le+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(C,"$&/")+"/")+Q)),te.push(Te)),1;Q=0;var be=ue===""?".":ue+":";if(ye(V))for(var He=0;He<V.length;He++)ue=V[He],Ce=be+we(ue,He),Q+=X(ue,te,le,Ce,Te);else if(He=k(V),typeof He=="function")for(V=He.call(V),He=0;!(ue=V.next()).done;)ue=ue.value,Ce=be+we(ue,He++),Q+=X(ue,te,le,Ce,Te);else if(Ce==="object"){if(typeof V.then=="function")return X(Ye(V),te,le,ue,Te);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Q}function oe(V,te,le){if(V==null)return V;var ue=[],Te=0;return X(V,ue,"","",function(Ce){return te.call(le,Ce,Te++)}),ue}function me(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(le){(V._status===0||V._status===-1)&&(V._status=1,V._result=le)},function(le){(V._status===0||V._status===-1)&&(V._status=2,V._result=le)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var Ue=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},ze={map:oe,forEach:function(V,te,le){oe(V,function(){te.apply(this,arguments)},le)},count:function(V){var te=0;return oe(V,function(){te++}),te},toArray:function(V){return oe(V,function(te){return te})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Re.Activity=A,Re.Children=ze,Re.Component=$,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=re,Re.StrictMode=r,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Re.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},Re.cache=function(V){return function(){return V.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(V,te,le){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=B({},V.props),Te=V.key;if(te!=null)for(Ce in te.key!==void 0&&(Te=""+te.key),te)!w.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(ue[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=le;else if(1<Ce){for(var Q=Array(Ce),be=0;be<Ce;be++)Q[be]=arguments[be+2];ue.children=Q}return R(V.type,Te,ue)},Re.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Re.createElement=function(V,te,le){var ue,Te={},Ce=null;if(te!=null)for(ue in te.key!==void 0&&(Ce=""+te.key),te)w.call(te,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Te[ue]=te[ue]);var Q=arguments.length-2;if(Q===1)Te.children=le;else if(1<Q){for(var be=Array(Q),He=0;He<Q;He++)be[He]=arguments[He+2];Te.children=be}if(V&&V.defaultProps)for(ue in Q=V.defaultProps,Q)Te[ue]===void 0&&(Te[ue]=Q[ue]);return R(V,Ce,Te)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(V){return{$$typeof:m,render:V}},Re.isValidElement=D,Re.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:me}},Re.memo=function(V,te){return{$$typeof:g,type:V,compare:te===void 0?null:te}},Re.startTransition=function(V){var te=N.T,le={};N.T=le;try{var ue=V(),Te=N.S;Te!==null&&Te(le,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ie,Ue)}catch(Ce){Ue(Ce)}finally{te!==null&&le.types!==null&&(te.types=le.types),N.T=te}},Re.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Re.use=function(V){return N.H.use(V)},Re.useActionState=function(V,te,le){return N.H.useActionState(V,te,le)},Re.useCallback=function(V,te){return N.H.useCallback(V,te)},Re.useContext=function(V){return N.H.useContext(V)},Re.useDebugValue=function(){},Re.useDeferredValue=function(V,te){return N.H.useDeferredValue(V,te)},Re.useEffect=function(V,te){return N.H.useEffect(V,te)},Re.useEffectEvent=function(V){return N.H.useEffectEvent(V)},Re.useId=function(){return N.H.useId()},Re.useImperativeHandle=function(V,te,le){return N.H.useImperativeHandle(V,te,le)},Re.useInsertionEffect=function(V,te){return N.H.useInsertionEffect(V,te)},Re.useLayoutEffect=function(V,te){return N.H.useLayoutEffect(V,te)},Re.useMemo=function(V,te){return N.H.useMemo(V,te)},Re.useOptimistic=function(V,te){return N.H.useOptimistic(V,te)},Re.useReducer=function(V,te,le){return N.H.useReducer(V,te,le)},Re.useRef=function(V){return N.H.useRef(V)},Re.useState=function(V){return N.H.useState(V)},Re.useSyncExternalStore=function(V,te,le){return N.H.useSyncExternalStore(V,te,le)},Re.useTransition=function(){return N.H.useTransition()},Re.version="19.2.4",Re}var k_;function dp(){return k_||(k_=1,ym.exports=n1()),ym.exports}var L=dp();const a1=xb(L);var vm={exports:{}},Hl={},_m={exports:{}},bm={};var L_;function i1(){return L_||(L_=1,(function(i){function e(X,oe){var me=X.length;X.push(oe);e:for(;0<me;){var Ue=me-1>>>1,ze=X[Ue];if(0<o(ze,oe))X[Ue]=oe,X[me]=ze,me=Ue;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var oe=X[0],me=X.pop();if(me!==oe){X[0]=me;e:for(var Ue=0,ze=X.length,V=ze>>>1;Ue<V;){var te=2*(Ue+1)-1,le=X[te],ue=te+1,Te=X[ue];if(0>o(le,me))ue<ze&&0>o(Te,le)?(X[Ue]=Te,X[ue]=me,Ue=ue):(X[Ue]=le,X[te]=me,Ue=te);else if(ue<ze&&0>o(Te,me))X[Ue]=Te,X[ue]=me,Ue=ue;else break e}}return oe}function o(X,oe){var me=X.sortIndex-oe.sortIndex;return me!==0?me:X.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,A=null,x=3,k=!1,q=!1,B=!1,G=!1,$=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function _e(X){for(var oe=n(g);oe!==null;){if(oe.callback===null)r(g);else if(oe.startTime<=X)r(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function ye(X){if(B=!1,_e(X),!q)if(n(p)!==null)q=!0,ie||(ie=!0,O());else{var oe=n(g);oe!==null&&Ye(ye,oe.startTime-X)}}var ie=!1,N=-1,w=5,R=-1;function M(){return G?!0:!(i.unstable_now()-R<w)}function D(){if(G=!1,ie){var X=i.unstable_now();R=X;var oe=!0;try{e:{q=!1,B&&(B=!1,W(N),N=-1),k=!0;var me=x;try{t:{for(_e(X),A=n(p);A!==null&&!(A.expirationTime>X&&M());){var Ue=A.callback;if(typeof Ue=="function"){A.callback=null,x=A.priorityLevel;var ze=Ue(A.expirationTime<=X);if(X=i.unstable_now(),typeof ze=="function"){A.callback=ze,_e(X),oe=!0;break t}A===n(p)&&r(p),_e(X)}else r(p);A=n(p)}if(A!==null)oe=!0;else{var V=n(g);V!==null&&Ye(ye,V.startTime-X),oe=!1}}break e}finally{A=null,x=me,k=!1}oe=void 0}}finally{oe?O():ie=!1}}}var O;if(typeof re=="function")O=function(){re(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,we=C.port2;C.port1.onmessage=D,O=function(){we.postMessage(null)}}else O=function(){$(D,0)};function Ye(X,oe){N=$(function(){X(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(X){switch(x){case 1:case 2:case 3:var oe=3;break;default:oe=x}var me=x;x=oe;try{return X()}finally{x=me}},i.unstable_requestPaint=function(){G=!0},i.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=x;x=X;try{return oe()}finally{x=me}},i.unstable_scheduleCallback=function(X,oe,me){var Ue=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ue+me:Ue):me=Ue,X){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=me+ze,X={id:E++,callback:oe,priorityLevel:X,startTime:me,expirationTime:ze,sortIndex:-1},me>Ue?(X.sortIndex=me,e(g,X),n(p)===null&&X===n(g)&&(B?(W(N),N=-1):B=!0,Ye(ye,me-Ue))):(X.sortIndex=ze,e(p,X),q||k||(q=!0,ie||(ie=!0,O()))),X},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(X){var oe=x;return function(){var me=x;x=oe;try{return X.apply(this,arguments)}finally{x=me}}}})(bm)),bm}var j_;function r1(){return j_||(j_=1,_m.exports=i1()),_m.exports}var Em={exports:{}},Wt={};var U_;function s1(){if(U_)return Wt;U_=1;var i=dp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(p,g,null,E)},Wt.flushSync=function(p){var g=h.T,E=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=g,r.p=E,r.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:k}):E==="script"&&r.d.X(p,{crossOrigin:A,integrity:x,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);r.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},Wt.requestFormReset=function(p){r.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.2.4",Wt}var B_;function o1(){if(B_)return Em.exports;B_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Em.exports=s1(),Em.exports}var z_;function l1(){if(z_)return Hl;z_=1;var i=r1(),e=dp(),n=o1();function r(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function h(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function m(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(r(188))}function g(t){var a=t.alternate;if(!a){if(a=c(t),a===null)throw Error(r(188));return a!==t?null:t}for(var s=t,l=a;;){var d=s.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){s=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===s)return p(d),t;if(f===l)return p(d),a;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=d,l=f;else{for(var v=!1,T=d.child;T;){if(T===s){v=!0,s=d,l=f;break}if(T===l){v=!0,l=d,s=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===s){v=!0,s=f,l=d;break}if(T===l){v=!0,l=f,s=d;break}T=T.sibling}if(!v)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:a}function E(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=E(t),a!==null)return a;t=t.sibling}return null}var A=Object.assign,x=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),re=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function we(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case $:return"Profiler";case G:return"StrictMode";case ye:return"Suspense";case ie:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case re:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case _e:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return a=t.displayName||null,a!==null?a:we(t.type)||"Memo";case w:a=t._payload,t=t._init;try{return we(t(a))}catch{}}return null}var Ye=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ue=[],ze=-1;function V(t){return{current:t}}function te(t){0>ze||(t.current=Ue[ze],Ue[ze]=null,ze--)}function le(t,a){ze++,Ue[ze]=t.current,t.current=a}var ue=V(null),Te=V(null),Ce=V(null),Q=V(null);function be(t,a){switch(le(Ce,a),le(Te,t),le(ue,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?n_(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=n_(a),t=a_(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(ue),le(ue,t)}function He(){te(ue),te(Te),te(Ce)}function bn(t){t.memoizedState!==null&&le(Q,t);var a=ue.current,s=a_(a,t.type);a!==s&&(le(Te,t),le(ue,s))}function cn(t){Te.current===t&&(te(ue),te(Te)),Q.current===t&&(te(Q),Ll._currentValue=me)}var Ti,Rr;function jt(t){if(Ti===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Ti=a&&a[1]||"",Rr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ti+t+Rr}var Zt=!1;function ha(t,a){if(!t||Zt)return"";Zt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Y){var F=Y}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Y){F=Y}t.call(ne.prototype)}}else{try{throw Error()}catch(Y){F=Y}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var I=v.split(`
`),H=T.split(`
`);for(d=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(l===I.length||d===H.length)for(l=I.length-1,d=H.length-1;1<=l&&0<=d&&I[l]!==H[d];)d--;for(;1<=l&&0<=d;l--,d--)if(I[l]!==H[d]){if(l!==1||d!==1)do if(l--,d--,0>d||I[l]!==H[d]){var J=`
`+I[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=d);break}}}finally{Zt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?jt(s):""}function jo(t,a){switch(t.tag){case 26:case 27:case 5:return jt(t.type);case 16:return jt("Lazy");case 13:return t.child!==a&&a!==null?jt("Suspense Fallback"):jt("Suspense");case 19:return jt("SuspenseList");case 0:case 15:return ha(t.type,!1);case 11:return ha(t.type.render,!1);case 1:return ha(t.type,!0);case 31:return jt("Activity");default:return""}}function Uo(t){try{var a="",s=null;do a+=jo(t,s),s=t,t=t.return;while(t);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Ot=i.unstable_scheduleCallback,Si=i.unstable_cancelCallback,yh=i.unstable_shouldYield,Nc=i.unstable_requestPaint,rn=i.unstable_now,xr=i.unstable_getCurrentPriorityLevel,Bo=i.unstable_ImmediatePriority,zo=i.unstable_UserBlockingPriority,Ri=i.unstable_NormalPriority,vh=i.unstable_LowPriority,Ic=i.unstable_IdlePriority,Mc=i.log,Dc=i.unstable_setDisableYieldValue,$n=null,qt=null;function On(t){if(typeof Mc=="function"&&Dc(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode($n,t)}catch{}}var gt=Math.clz32?Math.clz32:Pc,Oc=Math.log,ps=Math.LN2;function Pc(t){return t>>>=0,t===0?32:31-(Oc(t)/ps|0)|0}var fa=256,wr=262144,At=4194304;function ma(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pa(t,a,s){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?d=ma(l):(v&=T,v!==0?d=ma(v):s||(s=T&~t,s!==0&&(d=ma(s))))):(T=l&~f,T!==0?d=ma(T):v!==0?d=ma(v):s||(s=l&~t,s!==0&&(d=ma(s)))),d===0?0:a!==0&&a!==d&&(a&f)===0&&(f=d&-d,s=a&-a,f>=s||f===32&&(s&4194048)!==0)?a:d}function Jn(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function _h(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vc(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function ga(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function Cr(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bh(t,a,s,l,d,f){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,H=t.hiddenUpdates;for(s=v&~s;0<s;){var J=31-gt(s),ne=1<<J;T[J]=0,I[J]=-1;var F=H[J];if(F!==null)for(H[J]=null,J=0;J<F.length;J++){var Y=F[J];Y!==null&&(Y.lane&=-536870913)}s&=~ne}l!==0&&Nr(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~a))}function Nr(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var l=31-gt(a);t.entangledLanes|=a,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Ho(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var l=31-gt(s),d=1<<l;d&a|t[l]&a&&(t[l]|=a),s&=~d}}function qo(t,a){var s=a&-a;return s=(s&42)!==0?1:Ir(s),(s&(t.suspendedLanes|a))!==0?0:s}function Ir(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function kc(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:x_(t.type))}function Zn(t,a){var s=oe.p;try{return oe.p=t,a()}finally{oe.p=s}}var Wn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Wn,Ut="__reactProps$"+Wn,ya="__reactContainer$"+Wn,gs="__reactEvents$"+Wn,Eh="__reactListeners$"+Wn,Lc="__reactHandles$"+Wn,jc="__reactResources$"+Wn,va="__reactMarker$"+Wn;function ys(t){delete t[Tt],delete t[Ut],delete t[gs],delete t[Eh],delete t[Lc]}function _a(t){var a=t[Tt];if(a)return a;for(var s=t.parentNode;s;){if(a=s[ya]||s[Tt]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=u_(t);t!==null;){if(s=t[Tt])return s;t=u_(t)}return a}t=s,s=t.parentNode}return null}function Pn(t){if(t=t[Tt]||t[ya]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function En(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(r(33))}function ba(t){var a=t[jc];return a||(a=t[jc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function St(t){t[va]=!0}var Fo=new Set,Go={};function Ea(t,a){Aa(t,a),Aa(t+"Capture",a)}function Aa(t,a){for(Go[t]=a,t=0;t<a.length;t++)Fo.add(a[t])}var Ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Yo={};function Uc(t){return Et.call(Yo,t)?!0:Et.call(Qo,t)?!1:Ko.test(t)?Yo[t]=!0:(Qo[t]=!0,!1)}function vs(t,a,s){if(Uc(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function An(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function Rt(t,a,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+l)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xi(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Xo(t,a,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return d.call(this)},set:function(v){s=""+v,f.call(this,v)}}),Object.defineProperty(t,a,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function $e(t){if(!t._valueTracker){var a=xi(t)?"checked":"value";t._valueTracker=Xo(t,a,""+t[a])}}function Mr(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),l="";return t&&(l=xi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(a.setValue(t),!0):!1}function Ta(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dr=/[\n"\\]/g;function un(t){return t.replace(Dr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function _s(t,a,s,l,d,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),a!=null?v==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+Bt(a)):t.value!==""+Bt(a)&&(t.value=""+Bt(a)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),a!=null?$o(t,v,Bt(a)):s!=null?$o(t,v,Bt(s)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Bt(T):t.removeAttribute("name")}function Bc(t,a,s,l,d,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),a!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||a!=null)){$e(t);return}s=s!=null?""+Bt(s):"",a=a!=null?""+Bt(a):s,T||a===t.value||(t.value=a),t.defaultValue=a}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),$e(t)}function $o(t,a,s){a==="number"&&Ta(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function wi(t,a,s,l){if(t=t.options,a){a={};for(var d=0;d<s.length;d++)a["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=a.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Bt(s),a=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}a!==null||t[d].disabled||(a=t[d])}a!==null&&(a.selected=!0)}}function zc(t,a,s){if(a!=null&&(a=""+Bt(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+Bt(s):""}function Ci(t,a,s,l){if(a==null){if(l!=null){if(s!=null)throw Error(r(92));if(Ye(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),a=s}s=Bt(a),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),$e(t)}function dn(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var Hc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(t,a,s){var l=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":l?t.setProperty(a,s):typeof s!="number"||s===0||Hc.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function Zo(t,a,s){if(a!=null&&typeof a!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in a)l=a[d],a.hasOwnProperty(d)&&s[d]!==l&&Jo(t,d,l)}else for(var f in a)a.hasOwnProperty(f)&&Jo(t,f,a[f])}function bs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ni=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Es(t){return Ni.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ea(){}var Wo=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ii=null,Sa=null;function Or(t){var a=Pn(t);if(a&&(t=a.stateNode)){var s=t[Ut]||null;e:switch(t=a.stateNode,a.type){case"input":if(_s(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+un(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var l=s[a];if(l!==t&&l.form===t.form){var d=l[Ut]||null;if(!d)throw Error(r(90));_s(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<s.length;a++)l=s[a],l.form===t.form&&Mr(l)}break e;case"textarea":zc(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&wi(t,!!s.multiple,a,!1)}}}var As=!1;function Mi(t,a,s){if(As)return t(a,s);As=!0;try{var l=t(a);return l}finally{if(As=!1,(Ii!==null||Sa!==null)&&(ku(),Ii&&(a=Ii,t=Sa,Sa=Ii=null,Or(a),t)))for(a=0;a<t.length;a++)Or(t[a])}}function ta(t,a){var s=t.stateNode;if(s===null)return null;var l=s[Ut]||null;if(l===null)return null;s=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,a,typeof s));return s}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(kn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Pr=!1}var Ra=null,el=null,Vr=null;function tl(){if(Vr)return Vr;var t,a=el,s=a.length,l,d="value"in Ra?Ra.value:Ra.textContent,f=d.length;for(t=0;t<s&&a[t]===d[t];t++);var v=s-t;for(l=1;l<=v&&a[s-l]===d[f-l];l++);return Vr=d.slice(t,1<l?1-l:void 0)}function kr(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Fa(){return!0}function na(){return!1}function Ft(t){function a(s,l,d,f,v){this._reactName=s,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fa:na,this.isPropagationStopped=na,this}return A(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Fa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Fa)},persist:function(){},isPersistent:Fa}),a}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Ft(Ga),Di=A({},Ga,{view:0,detail:0}),nl=Ft(Di),Oi,Ts,wa,Ss=A({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wa&&(wa&&t.type==="mousemove"?(Oi=t.screenX-wa.screenX,Ts=t.screenY-wa.screenY):Ts=Oi=0,wa=t),Oi)},movementY:function(t){return"movementY"in t?t.movementY:Ts}}),al=Ft(Ss),Lr=A({},Ss,{dataTransfer:0}),Fc=Ft(Lr),Gc=A({},Di,{relatedTarget:0}),jr=Ft(Gc),il=A({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),Kc=Ft(il),Rs=A({},Ga,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qc=Ft(Rs),Yc=A({},Ga,{data:0}),Ca=Ft(Yc),Xc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$c={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zc(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Jc[t])?!!a[t]:!1}function Pi(){return Zc}var sn=A({},Di,{key:function(t){if(t.key){var a=Xc[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$c[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pi,charCode:function(t){return t.type==="keypress"?kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wc=Ft(sn),eu=A({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ka=Ft(eu),u=A({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pi}),y=Ft(u),_=A({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ft(_),U=A({},Ss,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Ft(U),se=A({},Ga,{newState:0,oldState:0}),Ne=Ft(se),yt=[9,13,27,32],Ke=kn&&"CompositionEvent"in window,ct=null;kn&&"documentMode"in document&&(ct=document.documentMode);var Ln=kn&&"TextEvent"in window&&!ct,Na=kn&&(!Ke||ct&&8<ct&&11>=ct),aa=" ",ia=!1;function Ur(t,a){switch(t){case"keyup":return yt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ws=!1;function ST(t,a){switch(t){case"compositionend":return xs(a);case"keypress":return a.which!==32?null:(ia=!0,aa);case"textInput":return t=a.data,t===aa&&ia?null:t;default:return null}}function RT(t,a){if(ws)return t==="compositionend"||!Ke&&Ur(t,a)?(t=tl(),Vr=el=Ra=null,ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Na&&a.locale!=="ko"?null:a.data;default:return null}}var xT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!xT[t.type]:a==="textarea"}function mg(t,a,s,l){Ii?Sa?Sa.push(l):Sa=[l]:Ii=l,a=qu(a,"onChange"),0<a.length&&(s=new xa("onChange","change",null,s,l),t.push({event:s,listeners:a}))}var rl=null,sl=null;function wT(t){$v(t,0)}function tu(t){var a=En(t);if(Mr(a))return t}function pg(t,a){if(t==="change")return a}var gg=!1;if(kn){var Ah;if(kn){var Th="oninput"in document;if(!Th){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),Th=typeof yg.oninput=="function"}Ah=Th}else Ah=!1;gg=Ah&&(!document.documentMode||9<document.documentMode)}function vg(){rl&&(rl.detachEvent("onpropertychange",_g),sl=rl=null)}function _g(t){if(t.propertyName==="value"&&tu(sl)){var a=[];mg(a,sl,t,Vn(t)),Mi(wT,a)}}function CT(t,a,s){t==="focusin"?(vg(),rl=a,sl=s,rl.attachEvent("onpropertychange",_g)):t==="focusout"&&vg()}function NT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tu(sl)}function IT(t,a){if(t==="click")return tu(a)}function MT(t,a){if(t==="input"||t==="change")return tu(a)}function DT(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Tn=typeof Object.is=="function"?Object.is:DT;function ol(t,a){if(Tn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),l=Object.keys(a);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var d=s[l];if(!Et.call(a,d)||!Tn(t[d],a[d]))return!1}return!0}function bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Eg(t,a){var s=bg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=a&&l>=a)return{node:s,offset:a-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=bg(s)}}function Ag(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Ag(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Tg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Ta(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=Ta(t.document)}return a}function Sh(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var OT=kn&&"documentMode"in document&&11>=document.documentMode,Cs=null,Rh=null,ll=null,xh=!1;function Sg(t,a,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;xh||Cs==null||Cs!==Ta(l)||(l=Cs,"selectionStart"in l&&Sh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ll&&ol(ll,l)||(ll=l,l=qu(Rh,"onSelect"),0<l.length&&(a=new xa("onSelect","select",null,a,s),t.push({event:a,listeners:l}),a.target=Cs)))}function Br(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var Ns={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},wh={},Rg={};kn&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function zr(t){if(wh[t])return wh[t];if(!Ns[t])return t;var a=Ns[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in Rg)return wh[t]=a[s];return t}var xg=zr("animationend"),wg=zr("animationiteration"),Cg=zr("animationstart"),PT=zr("transitionrun"),VT=zr("transitionstart"),kT=zr("transitioncancel"),Ng=zr("transitionend"),Ig=new Map,Ch="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ch.push("scrollEnd");function ra(t,a){Ig.set(t,a),Ea(a,[t])}var nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],Is=0,Nh=0;function au(){for(var t=Is,a=Nh=Is=0;a<t;){var s=jn[a];jn[a++]=null;var l=jn[a];jn[a++]=null;var d=jn[a];jn[a++]=null;var f=jn[a];if(jn[a++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}f!==0&&Mg(s,d,f)}}function iu(t,a,s,l){jn[Is++]=t,jn[Is++]=a,jn[Is++]=s,jn[Is++]=l,Nh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ih(t,a,s,l){return iu(t,a,s,l),ru(t)}function Hr(t,a){return iu(t,null,null,a),ru(t)}function Mg(t,a,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var d=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&a!==null&&(d=31-gt(s),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[a]:l.push(a),a.lane=s|536870912),f):null}function ru(t){if(50<Il)throw Il=0,Bf=null,Error(r(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Ms={};function LT(t,a,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,a,s,l){return new LT(t,a,s,l)}function Mh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qa(t,a){var s=t.alternate;return s===null?(s=Sn(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Dg(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function su(t,a,s,l,d,f){var v=0;if(l=t,typeof t=="function")Mh(t)&&(v=1);else if(typeof t=="string")v=HS(t,s,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Sn(31,s,a,d),t.elementType=R,t.lanes=f,t;case B:return qr(s.children,d,f,a);case G:v=8,d|=24;break;case $:return t=Sn(12,s,a,d|2),t.elementType=$,t.lanes=f,t;case ye:return t=Sn(13,s,a,d),t.elementType=ye,t.lanes=f,t;case ie:return t=Sn(19,s,a,d),t.elementType=ie,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case W:v=9;break e;case _e:v=11;break e;case N:v=14;break e;case w:v=16,l=null;break e}v=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return a=Sn(v,s,a,d),a.elementType=t,a.type=l,a.lanes=f,a}function qr(t,a,s,l){return t=Sn(7,t,l,a),t.lanes=s,t}function Dh(t,a,s){return t=Sn(6,t,null,a),t.lanes=s,t}function Og(t){var a=Sn(18,null,null,0);return a.stateNode=t,a}function Oh(t,a,s){return a=Sn(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var Pg=new WeakMap;function Un(t,a){if(typeof t=="object"&&t!==null){var s=Pg.get(t);return s!==void 0?s:(a={value:t,source:a,stack:Uo(a)},Pg.set(t,a),a)}return{value:t,source:a,stack:Uo(a)}}var Ds=[],Os=0,ou=null,cl=0,Bn=[],zn=0,Vi=null,Ia=1,Ma="";function Ya(t,a){Ds[Os++]=cl,Ds[Os++]=ou,ou=t,cl=a}function Vg(t,a,s){Bn[zn++]=Ia,Bn[zn++]=Ma,Bn[zn++]=Vi,Vi=t;var l=Ia;t=Ma;var d=32-gt(l)-1;l&=~(1<<d),s+=1;var f=32-gt(a)+d;if(30<f){var v=d-d%5;f=(l&(1<<v)-1).toString(32),l>>=v,d-=v,Ia=1<<32-gt(a)+d|s<<d|l,Ma=f+t}else Ia=1<<f|s<<d|l,Ma=t}function Ph(t){t.return!==null&&(Ya(t,1),Vg(t,1,0))}function Vh(t){for(;t===ou;)ou=Ds[--Os],Ds[Os]=null,cl=Ds[--Os],Ds[Os]=null;for(;t===Vi;)Vi=Bn[--zn],Bn[zn]=null,Ma=Bn[--zn],Bn[zn]=null,Ia=Bn[--zn],Bn[zn]=null}function kg(t,a){Bn[zn++]=Ia,Bn[zn++]=Ma,Bn[zn++]=Vi,Ia=a.id,Ma=a.overflow,Vi=t}var Gt=null,st=null,Be=!1,ki=null,Hn=!1,kh=Error(r(519));function Li(t){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(Un(a,t)),kh}function Lg(t){var a=t.stateNode,s=t.type,l=t.memoizedProps;switch(a[Tt]=t,a[Ut]=l,s){case"dialog":Oe("cancel",a),Oe("close",a);break;case"iframe":case"object":case"embed":Oe("load",a);break;case"video":case"audio":for(s=0;s<Dl.length;s++)Oe(Dl[s],a);break;case"source":Oe("error",a);break;case"img":case"image":case"link":Oe("error",a),Oe("load",a);break;case"details":Oe("toggle",a);break;case"input":Oe("invalid",a),Bc(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",a);break;case"textarea":Oe("invalid",a),Ci(a,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||l.suppressHydrationWarning===!0||e_(a.textContent,s)?(l.popover!=null&&(Oe("beforetoggle",a),Oe("toggle",a)),l.onScroll!=null&&Oe("scroll",a),l.onScrollEnd!=null&&Oe("scrollend",a),l.onClick!=null&&(a.onclick=ea),a=!0):a=!1,a||Li(t,!0)}function jg(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Gt=Gt.return}}function Ps(t){if(t!==Gt)return!1;if(!Be)return jg(t),Be=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||tm(t.type,t.memoizedProps)),s=!s),s&&st&&Li(t),jg(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=c_(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=c_(t)}else a===27?(a=st,Ji(t.type)?(t=sm,sm=null,st=t):st=a):st=Gt?Fn(t.stateNode.nextSibling):null;return!0}function Fr(){st=Gt=null,Be=!1}function Lh(){var t=ki;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),ki=null),t}function ul(t){ki===null?ki=[t]:ki.push(t)}var jh=V(null),Gr=null,Xa=null;function ji(t,a,s){le(jh,a._currentValue),a._currentValue=s}function $a(t){t._currentValue=jh.current,te(jh)}function Uh(t,a,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),t===s)break;t=t.return}}function Bh(t,a,s,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=d;for(var I=0;I<a.length;I++)if(T.context===a[I]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Uh(f.return,s,t),l||(v=null);break e}f=T.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(r(341));v.lanes|=s,f=v.alternate,f!==null&&(f.lanes|=s),Uh(v,s,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Vs(t,a,s,l){t=null;for(var d=a,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var T=d.type;Tn(d.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(d===Q.current){if(v=d.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}d=d.return}t!==null&&Bh(a,t,s,l),a.flags|=262144}function lu(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Kr(t){Gr=t,Xa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Ug(Gr,t)}function cu(t,a){return Gr===null&&Kr(t),Ug(t,a)}function Ug(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Xa===null){if(t===null)throw Error(r(308));Xa=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else Xa=Xa.next=a;return s}var jT=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},UT=i.unstable_scheduleCallback,BT=i.unstable_NormalPriority,xt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zh(){return{controller:new jT,data:new Map,refCount:0}}function dl(t){t.refCount--,t.refCount===0&&UT(BT,function(){t.controller.abort()})}var hl=null,Hh=0,ks=0,Ls=null;function zT(t,a){if(hl===null){var s=hl=[];Hh=0,ks=Kf(),Ls={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Hh++,a.then(Bg,Bg),a}function Bg(){if(--Hh===0&&hl!==null){Ls!==null&&(Ls.status="fulfilled");var t=hl;hl=null,ks=0,Ls=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function HT(t,a){var s=[],l={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){l.status="fulfilled",l.value=a;for(var d=0;d<s.length;d++)(0,s[d])(a)},function(d){for(l.status="rejected",l.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),l}var zg=X.S;X.S=function(t,a){Sv=rn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&zT(t,a),zg!==null&&zg(t,a)};var Qr=V(null);function qh(){var t=Qr.current;return t!==null?t:at.pooledCache}function uu(t,a){a===null?le(Qr,Qr.current):le(Qr,a.pool)}function Hg(){var t=qh();return t===null?null:{parent:xt._currentValue,pool:t}}var js=Error(r(460)),Fh=Error(r(474)),du=Error(r(542)),hu={then:function(){}};function qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fg(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(ea,ea),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Kg(t),t;default:if(typeof a.status=="string")a.then(ea,ea);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=a,t.status="pending",t.then(function(l){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=l}},function(l){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Kg(t),t}throw Xr=a,js}}function Yr(t){try{var a=t._init;return a(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Xr=s,js):s}}var Xr=null;function Gg(){if(Xr===null)throw Error(r(459));var t=Xr;return Xr=null,t}function Kg(t){if(t===js||t===du)throw Error(r(483))}var Us=null,fl=0;function fu(t){var a=fl;return fl+=1,Us===null&&(Us=[]),Fg(Us,t,a)}function ml(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function mu(t,a){throw a.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(a),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Qg(t){function a(j,P){if(t){var z=j.deletions;z===null?(j.deletions=[P],j.flags|=16):z.push(P)}}function s(j,P){if(!t)return null;for(;P!==null;)a(j,P),P=P.sibling;return null}function l(j){for(var P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function d(j,P){return j=Qa(j,P),j.index=0,j.sibling=null,j}function f(j,P,z){return j.index=z,t?(z=j.alternate,z!==null?(z=z.index,z<P?(j.flags|=67108866,P):z):(j.flags|=67108866,P)):(j.flags|=1048576,P)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,P,z,Z){return P===null||P.tag!==6?(P=Dh(z,j.mode,Z),P.return=j,P):(P=d(P,z),P.return=j,P)}function I(j,P,z,Z){var pe=z.type;return pe===B?J(j,P,z.props.children,Z,z.key):P!==null&&(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Yr(pe)===P.type)?(P=d(P,z.props),ml(P,z),P.return=j,P):(P=su(z.type,z.key,z.props,null,j.mode,Z),ml(P,z),P.return=j,P)}function H(j,P,z,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==z.containerInfo||P.stateNode.implementation!==z.implementation?(P=Oh(z,j.mode,Z),P.return=j,P):(P=d(P,z.children||[]),P.return=j,P)}function J(j,P,z,Z,pe){return P===null||P.tag!==7?(P=qr(z,j.mode,Z,pe),P.return=j,P):(P=d(P,z),P.return=j,P)}function ne(j,P,z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Dh(""+P,j.mode,z),P.return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case k:return z=su(P.type,P.key,P.props,null,j.mode,z),ml(z,P),z.return=j,z;case q:return P=Oh(P,j.mode,z),P.return=j,P;case w:return P=Yr(P),ne(j,P,z)}if(Ye(P)||O(P))return P=qr(P,j.mode,z,null),P.return=j,P;if(typeof P.then=="function")return ne(j,fu(P),z);if(P.$$typeof===re)return ne(j,cu(j,P),z);mu(j,P)}return null}function F(j,P,z,Z){var pe=P!==null?P.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pe!==null?null:T(j,P,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case k:return z.key===pe?I(j,P,z,Z):null;case q:return z.key===pe?H(j,P,z,Z):null;case w:return z=Yr(z),F(j,P,z,Z)}if(Ye(z)||O(z))return pe!==null?null:J(j,P,z,Z,null);if(typeof z.then=="function")return F(j,P,fu(z),Z);if(z.$$typeof===re)return F(j,P,cu(j,z),Z);mu(j,z)}return null}function Y(j,P,z,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(z)||null,T(P,j,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case k:return j=j.get(Z.key===null?z:Z.key)||null,I(P,j,Z,pe);case q:return j=j.get(Z.key===null?z:Z.key)||null,H(P,j,Z,pe);case w:return Z=Yr(Z),Y(j,P,z,Z,pe)}if(Ye(Z)||O(Z))return j=j.get(z)||null,J(P,j,Z,pe,null);if(typeof Z.then=="function")return Y(j,P,z,fu(Z),pe);if(Z.$$typeof===re)return Y(j,P,z,cu(P,Z),pe);mu(P,Z)}return null}function he(j,P,z,Z){for(var pe=null,Fe=null,fe=P,Me=P=0,Ve=null;fe!==null&&Me<z.length;Me++){fe.index>Me?(Ve=fe,fe=null):Ve=fe.sibling;var Ge=F(j,fe,z[Me],Z);if(Ge===null){fe===null&&(fe=Ve);break}t&&fe&&Ge.alternate===null&&a(j,fe),P=f(Ge,P,Me),Fe===null?pe=Ge:Fe.sibling=Ge,Fe=Ge,fe=Ve}if(Me===z.length)return s(j,fe),Be&&Ya(j,Me),pe;if(fe===null){for(;Me<z.length;Me++)fe=ne(j,z[Me],Z),fe!==null&&(P=f(fe,P,Me),Fe===null?pe=fe:Fe.sibling=fe,Fe=fe);return Be&&Ya(j,Me),pe}for(fe=l(fe);Me<z.length;Me++)Ve=Y(fe,j,Me,z[Me],Z),Ve!==null&&(t&&Ve.alternate!==null&&fe.delete(Ve.key===null?Me:Ve.key),P=f(Ve,P,Me),Fe===null?pe=Ve:Fe.sibling=Ve,Fe=Ve);return t&&fe.forEach(function(nr){return a(j,nr)}),Be&&Ya(j,Me),pe}function ve(j,P,z,Z){if(z==null)throw Error(r(151));for(var pe=null,Fe=null,fe=P,Me=P=0,Ve=null,Ge=z.next();fe!==null&&!Ge.done;Me++,Ge=z.next()){fe.index>Me?(Ve=fe,fe=null):Ve=fe.sibling;var nr=F(j,fe,Ge.value,Z);if(nr===null){fe===null&&(fe=Ve);break}t&&fe&&nr.alternate===null&&a(j,fe),P=f(nr,P,Me),Fe===null?pe=nr:Fe.sibling=nr,Fe=nr,fe=Ve}if(Ge.done)return s(j,fe),Be&&Ya(j,Me),pe;if(fe===null){for(;!Ge.done;Me++,Ge=z.next())Ge=ne(j,Ge.value,Z),Ge!==null&&(P=f(Ge,P,Me),Fe===null?pe=Ge:Fe.sibling=Ge,Fe=Ge);return Be&&Ya(j,Me),pe}for(fe=l(fe);!Ge.done;Me++,Ge=z.next())Ge=Y(fe,j,Me,Ge.value,Z),Ge!==null&&(t&&Ge.alternate!==null&&fe.delete(Ge.key===null?Me:Ge.key),P=f(Ge,P,Me),Fe===null?pe=Ge:Fe.sibling=Ge,Fe=Ge);return t&&fe.forEach(function(WS){return a(j,WS)}),Be&&Ya(j,Me),pe}function nt(j,P,z,Z){if(typeof z=="object"&&z!==null&&z.type===B&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case k:e:{for(var pe=z.key;P!==null;){if(P.key===pe){if(pe=z.type,pe===B){if(P.tag===7){s(j,P.sibling),Z=d(P,z.props.children),Z.return=j,j=Z;break e}}else if(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===w&&Yr(pe)===P.type){s(j,P.sibling),Z=d(P,z.props),ml(Z,z),Z.return=j,j=Z;break e}s(j,P);break}else a(j,P);P=P.sibling}z.type===B?(Z=qr(z.props.children,j.mode,Z,z.key),Z.return=j,j=Z):(Z=su(z.type,z.key,z.props,null,j.mode,Z),ml(Z,z),Z.return=j,j=Z)}return v(j);case q:e:{for(pe=z.key;P!==null;){if(P.key===pe)if(P.tag===4&&P.stateNode.containerInfo===z.containerInfo&&P.stateNode.implementation===z.implementation){s(j,P.sibling),Z=d(P,z.children||[]),Z.return=j,j=Z;break e}else{s(j,P);break}else a(j,P);P=P.sibling}Z=Oh(z,j.mode,Z),Z.return=j,j=Z}return v(j);case w:return z=Yr(z),nt(j,P,z,Z)}if(Ye(z))return he(j,P,z,Z);if(O(z)){if(pe=O(z),typeof pe!="function")throw Error(r(150));return z=pe.call(z),ve(j,P,z,Z)}if(typeof z.then=="function")return nt(j,P,fu(z),Z);if(z.$$typeof===re)return nt(j,P,cu(j,z),Z);mu(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,P!==null&&P.tag===6?(s(j,P.sibling),Z=d(P,z),Z.return=j,j=Z):(s(j,P),Z=Dh(z,j.mode,Z),Z.return=j,j=Z),v(j)):s(j,P)}return function(j,P,z,Z){try{fl=0;var pe=nt(j,P,z,Z);return Us=null,pe}catch(fe){if(fe===js||fe===du)throw fe;var Fe=Sn(29,fe,null,j.mode);return Fe.lanes=Z,Fe.return=j,Fe}}}var $r=Qg(!0),Yg=Qg(!1),Ui=!1;function Gh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kh(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zi(t,a,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var d=l.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),l.pending=a,a=ru(t),Mg(t,null,s),a}return iu(t,l,a,s),ru(t)}function pl(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var l=a.lanes;l&=t.pendingLanes,s|=l,a.lanes=s,Ho(t,s)}}function Qh(t,a){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var d=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,s=s.next}while(s!==null);f===null?d=f=a:f=f.next=a}else d=f=a;s={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var Yh=!1;function gl(){if(Yh){var t=Ls;if(t!==null)throw t}}function yl(t,a,s,l){Yh=!1;var d=t.updateQueue;Ui=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var I=T,H=I.next;I.next=null,v===null?f=H:v.next=H,v=I;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==v&&(T===null?J.firstBaseUpdate=H:T.next=H,J.lastBaseUpdate=I))}if(f!==null){var ne=d.baseState;v=0,J=H=I=null,T=f;do{var F=T.lane&-536870913,Y=F!==T.lane;if(Y?(Pe&F)===F:(l&F)===F){F!==0&&F===ks&&(Yh=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,ve=T;F=a;var nt=s;switch(ve.tag){case 1:if(he=ve.payload,typeof he=="function"){ne=he.call(nt,ne,F);break e}ne=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ve.payload,F=typeof he=="function"?he.call(nt,ne,F):he,F==null)break e;ne=A({},ne,F);break e;case 2:Ui=!0}}F=T.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=d.callbacks,Y===null?d.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(H=J=Y,I=ne):J=J.next=Y,v|=F;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);J===null&&(I=ne),d.baseState=I,d.firstBaseUpdate=H,d.lastBaseUpdate=J,f===null&&(d.shared.lanes=0),Ki|=v,t.lanes=v,t.memoizedState=ne}}function Xg(t,a){if(typeof t!="function")throw Error(r(191,t));t.call(a)}function $g(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Xg(s[t],a)}var Bs=V(null),pu=V(0);function Jg(t,a){t=ri,le(pu,t),le(Bs,a),ri=t|a.baseLanes}function Xh(){le(pu,ri),le(Bs,Bs.current)}function $h(){ri=pu.current,te(Bs),te(pu)}var Rn=V(null),qn=null;function Hi(t){var a=t.alternate;le(vt,vt.current&1),le(Rn,t),qn===null&&(a===null||Bs.current!==null||a.memoizedState!==null)&&(qn=t)}function Jh(t){le(vt,vt.current),le(Rn,t),qn===null&&(qn=t)}function Zg(t){t.tag===22?(le(vt,vt.current),le(Rn,t),qn===null&&(qn=t)):qi()}function qi(){le(vt,vt.current),le(Rn,Rn.current)}function xn(t){te(Rn),qn===t&&(qn=null),te(vt)}var vt=V(0);function gu(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||im(s)||rm(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ja=0,Ie=null,et=null,wt=null,yu=!1,zs=!1,Jr=!1,vu=0,vl=0,Hs=null,qT=0;function ft(){throw Error(r(321))}function Zh(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!Tn(t[s],a[s]))return!1;return!0}function Wh(t,a,s,l,d,f){return Ja=f,Ie=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,X.H=t===null||t.memoizedState===null?Vy:pf,Jr=!1,f=s(l,d),Jr=!1,zs&&(f=ey(a,s,l,d)),Wg(t),f}function Wg(t){X.H=El;var a=et!==null&&et.next!==null;if(Ja=0,wt=et=Ie=null,yu=!1,vl=0,Hs=null,a)throw Error(r(300));t===null||Ct||(t=t.dependencies,t!==null&&lu(t)&&(Ct=!0))}function ey(t,a,s,l){Ie=t;var d=0;do{if(zs&&(Hs=null),vl=0,zs=!1,25<=d)throw Error(r(301));if(d+=1,wt=et=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=ky,f=a(s,l)}while(zs);return f}function FT(){var t=X.H,a=t.useState()[0];return a=typeof a.then=="function"?_l(a):a,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ie.flags|=1024),a}function ef(){var t=vu!==0;return vu=0,t}function tf(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function nf(t){if(yu){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}yu=!1}Ja=0,wt=et=Ie=null,zs=!1,vl=vu=0,Hs=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ie.memoizedState=wt=t:wt=wt.next=t,wt}function _t(){if(et===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var a=wt===null?Ie.memoizedState:wt.next;if(a!==null)wt=a,et=t;else{if(t===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},wt===null?Ie.memoizedState=wt=t:wt=wt.next=t}return wt}function _u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var a=vl;return vl+=1,Hs===null&&(Hs=[]),t=Fg(Hs,t,a),a=Ie,(wt===null?a.memoizedState:wt.next)===null&&(a=a.alternate,X.H=a===null||a.memoizedState===null?Vy:pf),t}function bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===re)return Kt(t)}throw Error(r(438,String(t)))}function af(t){var a=null,s=Ie.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=_u(),Ie.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),l=0;l<t;l++)s[l]=M;return a.index++,s}function Za(t,a){return typeof a=="function"?a(t):a}function Eu(t){var a=_t();return rf(a,et,t)}function rf(t,a,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}a.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{a=d.next;var T=v=null,I=null,H=a,J=!1;do{var ne=H.lane&-536870913;if(ne!==H.lane?(Pe&ne)===ne:(Ja&ne)===ne){var F=H.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ne===ks&&(J=!0);else if((Ja&F)===F){H=H.next,F===ks&&(J=!0);continue}else ne={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=ne,v=f):I=I.next=ne,Ie.lanes|=F,Ki|=F;ne=H.action,Jr&&s(f,ne),f=H.hasEagerState?H.eagerState:s(f,ne)}else F={lane:ne,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=F,v=f):I=I.next=F,Ie.lanes|=ne,Ki|=ne;H=H.next}while(H!==null&&H!==a);if(I===null?v=f:I.next=T,!Tn(f,t.memoizedState)&&(Ct=!0,J&&(s=Ls,s!==null)))throw s;t.memoizedState=f,t.baseState=v,t.baseQueue=I,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function sf(t){var a=_t(),s=a.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,d=s.pending,f=a.memoizedState;if(d!==null){s.pending=null;var v=d=d.next;do f=t(f,v.action),v=v.next;while(v!==d);Tn(f,a.memoizedState)||(Ct=!0),a.memoizedState=f,a.baseQueue===null&&(a.baseState=f),s.lastRenderedState=f}return[f,l]}function ty(t,a,s){var l=Ie,d=_t(),f=Be;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=a();var v=!Tn((et||d).memoizedState,s);if(v&&(d.memoizedState=s,Ct=!0),d=d.queue,cf(iy.bind(null,l,d,t),[t]),d.getSnapshot!==a||v||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,qs(9,{destroy:void 0},ay.bind(null,l,d,s,a),null),at===null)throw Error(r(349));f||(Ja&127)!==0||ny(l,a,s)}return s}function ny(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=Ie.updateQueue,a===null?(a=_u(),Ie.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function ay(t,a,s,l){a.value=s,a.getSnapshot=l,ry(a)&&sy(t)}function iy(t,a,s){return s(function(){ry(a)&&sy(t)})}function ry(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!Tn(t,s)}catch{return!0}}function sy(t){var a=Hr(t,2);a!==null&&gn(a,t,2)}function of(t){var a=on();if(typeof t=="function"){var s=t;if(t=s(),Jr){On(!0);try{s()}finally{On(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:t},a}function oy(t,a,s,l){return t.baseState=s,rf(t,et,typeof l=="function"?l:Za)}function GT(t,a,s,l,d){if(Su(t))throw Error(r(485));if(t=a.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};X.T!==null?s(!0):f.isTransition=!1,l(f),s=a.pending,s===null?(f.next=a.pending=f,ly(a,f)):(f.next=s.next,a.pending=s.next=f)}}function ly(t,a){var s=a.action,l=a.payload,d=t.state;if(a.isTransition){var f=X.T,v={};X.T=v;try{var T=s(d,l),I=X.S;I!==null&&I(v,T),cy(t,a,T)}catch(H){lf(t,a,H)}finally{f!==null&&v.types!==null&&(f.types=v.types),X.T=f}}else try{f=s(d,l),cy(t,a,f)}catch(H){lf(t,a,H)}}function cy(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){uy(t,a,l)},function(l){return lf(t,a,l)}):uy(t,a,s)}function uy(t,a,s){a.status="fulfilled",a.value=s,dy(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,ly(t,s)))}function lf(t,a,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=s,dy(a),a=a.next;while(a!==l)}t.action=null}function dy(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function hy(t,a){return a}function fy(t,a){if(Be){var s=at.formState;if(s!==null){e:{var l=Ie;if(Be){if(st){t:{for(var d=st,f=Hn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Fn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){st=Fn(d.nextSibling),l=d.data==="F!";break e}}Li(l)}l=!1}l&&(a=s[0])}}return s=on(),s.memoizedState=s.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hy,lastRenderedState:a},s.queue=l,s=Dy.bind(null,Ie,l),l.dispatch=s,l=of(!1),f=mf.bind(null,Ie,!1,l.queue),l=on(),d={state:a,dispatch:null,action:t,pending:null},l.queue=d,s=GT.bind(null,Ie,d,f,s),d.dispatch=s,l.memoizedState=t,[a,s,!1]}function my(t){var a=_t();return py(a,et,t)}function py(t,a,s){if(a=rf(t,a,hy)[0],t=Eu(Za)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=_l(a)}catch(v){throw v===js?du:v}else l=a;a=_t();var d=a.queue,f=d.dispatch;return s!==a.memoizedState&&(Ie.flags|=2048,qs(9,{destroy:void 0},KT.bind(null,d,s),null)),[l,f,t]}function KT(t,a){t.action=a}function gy(t){var a=_t(),s=et;if(s!==null)return py(a,s,t);_t(),a=a.memoizedState,s=_t();var l=s.queue.dispatch;return s.memoizedState=t,[a,l,!1]}function qs(t,a,s,l){return t={tag:t,create:s,deps:l,inst:a,next:null},a=Ie.updateQueue,a===null&&(a=_u(),Ie.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,a.lastEffect=t),t}function yy(){return _t().memoizedState}function Au(t,a,s,l){var d=on();Ie.flags|=t,d.memoizedState=qs(1|a,{destroy:void 0},s,l===void 0?null:l)}function Tu(t,a,s,l){var d=_t();l=l===void 0?null:l;var f=d.memoizedState.inst;et!==null&&l!==null&&Zh(l,et.memoizedState.deps)?d.memoizedState=qs(a,f,s,l):(Ie.flags|=t,d.memoizedState=qs(1|a,f,s,l))}function vy(t,a){Au(8390656,8,t,a)}function cf(t,a){Tu(2048,8,t,a)}function QT(t){Ie.flags|=4;var a=Ie.updateQueue;if(a===null)a=_u(),Ie.updateQueue=a,a.events=[t];else{var s=a.events;s===null?a.events=[t]:s.push(t)}}function _y(t){var a=_t().memoizedState;return QT({ref:a,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function by(t,a){return Tu(4,2,t,a)}function Ey(t,a){return Tu(4,4,t,a)}function Ay(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Ty(t,a,s){s=s!=null?s.concat([t]):null,Tu(4,4,Ay.bind(null,a,t),s)}function uf(){}function Sy(t,a){var s=_t();a=a===void 0?null:a;var l=s.memoizedState;return a!==null&&Zh(a,l[1])?l[0]:(s.memoizedState=[t,a],t)}function Ry(t,a){var s=_t();a=a===void 0?null:a;var l=s.memoizedState;if(a!==null&&Zh(a,l[1]))return l[0];if(l=t(),Jr){On(!0);try{t()}finally{On(!1)}}return s.memoizedState=[l,a],l}function df(t,a,s){return s===void 0||(Ja&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=a:(t.memoizedState=s,t=xv(),Ie.lanes|=t,Ki|=t,s)}function xy(t,a,s,l){return Tn(s,a)?s:Bs.current!==null?(t=df(t,s,l),Tn(t,a)||(Ct=!0),t):(Ja&42)===0||(Ja&1073741824)!==0&&(Pe&261930)===0?(Ct=!0,t.memoizedState=s):(t=xv(),Ie.lanes|=t,Ki|=t,a)}function wy(t,a,s,l,d){var f=oe.p;oe.p=f!==0&&8>f?f:8;var v=X.T,T={};X.T=T,mf(t,!1,a,s);try{var I=d(),H=X.S;if(H!==null&&H(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var J=HT(I,l);bl(t,a,J,Nn(t))}else bl(t,a,l,Nn(t))}catch(ne){bl(t,a,{then:function(){},status:"rejected",reason:ne},Nn())}finally{oe.p=f,v!==null&&T.types!==null&&(v.types=T.types),X.T=v}}function YT(){}function hf(t,a,s,l){if(t.tag!==5)throw Error(r(476));var d=Cy(t).queue;wy(t,d,a,me,s===null?YT:function(){return Ny(t),s(l)})}function Cy(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:me},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Ny(t){var a=Cy(t);a.next===null&&(a=t.alternate.memoizedState),bl(t,a.next.queue,{},Nn())}function ff(){return Kt(Ll)}function Iy(){return _t().memoizedState}function My(){return _t().memoizedState}function XT(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=Nn();t=Bi(s);var l=zi(a,t,s);l!==null&&(gn(l,a,s),pl(l,a,s)),a={cache:zh()},t.payload=a;return}a=a.return}}function $T(t,a,s){var l=Nn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Su(t)?Oy(a,s):(s=Ih(t,a,s,l),s!==null&&(gn(s,t,l),Py(s,a,l)))}function Dy(t,a,s){var l=Nn();bl(t,a,s,l)}function bl(t,a,s,l){var d={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Su(t))Oy(a,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=a.lastRenderedReducer,f!==null))try{var v=a.lastRenderedState,T=f(v,s);if(d.hasEagerState=!0,d.eagerState=T,Tn(T,v))return iu(t,a,d,0),at===null&&au(),!1}catch{}if(s=Ih(t,a,d,l),s!==null)return gn(s,t,l),Py(s,a,l),!0}return!1}function mf(t,a,s,l){if(l={lane:2,revertLane:Kf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Su(t)){if(a)throw Error(r(479))}else a=Ih(t,s,l,2),a!==null&&gn(a,t,2)}function Su(t){var a=t.alternate;return t===Ie||a!==null&&a===Ie}function Oy(t,a){zs=yu=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function Py(t,a,s){if((s&4194048)!==0){var l=a.lanes;l&=t.pendingLanes,s|=l,a.lanes=s,Ho(t,s)}}var El={readContext:Kt,use:bu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};El.useEffectEvent=ft;var Vy={readContext:Kt,use:bu,useCallback:function(t,a){return on().memoizedState=[t,a===void 0?null:a],t},useContext:Kt,useEffect:vy,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,Au(4194308,4,Ay.bind(null,a,t),s)},useLayoutEffect:function(t,a){return Au(4194308,4,t,a)},useInsertionEffect:function(t,a){Au(4,2,t,a)},useMemo:function(t,a){var s=on();a=a===void 0?null:a;var l=t();if(Jr){On(!0);try{t()}finally{On(!1)}}return s.memoizedState=[l,a],l},useReducer:function(t,a,s){var l=on();if(s!==void 0){var d=s(a);if(Jr){On(!0);try{s(a)}finally{On(!1)}}}else d=a;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=$T.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var a=on();return t={current:t},a.memoizedState=t},useState:function(t){t=of(t);var a=t.queue,s=Dy.bind(null,Ie,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:uf,useDeferredValue:function(t,a){var s=on();return df(s,t,a)},useTransition:function(){var t=of(!1);return t=wy.bind(null,Ie,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var l=Ie,d=on();if(Be){if(s===void 0)throw Error(r(407));s=s()}else{if(s=a(),at===null)throw Error(r(349));(Pe&127)!==0||ny(l,a,s)}d.memoizedState=s;var f={value:s,getSnapshot:a};return d.queue=f,vy(iy.bind(null,l,f,t),[t]),l.flags|=2048,qs(9,{destroy:void 0},ay.bind(null,l,f,s,a),null),s},useId:function(){var t=on(),a=at.identifierPrefix;if(Be){var s=Ma,l=Ia;s=(l&~(1<<32-gt(l)-1)).toString(32)+s,a="_"+a+"R_"+s,s=vu++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=qT++,a="_"+a+"r_"+s.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:ff,useFormState:fy,useActionState:fy,useOptimistic:function(t){var a=on();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=mf.bind(null,Ie,!0,s),s.dispatch=a,[t,a]},useMemoCache:af,useCacheRefresh:function(){return on().memoizedState=XT.bind(null,Ie)},useEffectEvent:function(t){var a=on(),s={impl:t};return a.memoizedState=s,function(){if((Qe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},pf={readContext:Kt,use:bu,useCallback:Sy,useContext:Kt,useEffect:cf,useImperativeHandle:Ty,useInsertionEffect:by,useLayoutEffect:Ey,useMemo:Ry,useReducer:Eu,useRef:yy,useState:function(){return Eu(Za)},useDebugValue:uf,useDeferredValue:function(t,a){var s=_t();return xy(s,et.memoizedState,t,a)},useTransition:function(){var t=Eu(Za)[0],a=_t().memoizedState;return[typeof t=="boolean"?t:_l(t),a]},useSyncExternalStore:ty,useId:Iy,useHostTransitionStatus:ff,useFormState:my,useActionState:my,useOptimistic:function(t,a){var s=_t();return oy(s,et,t,a)},useMemoCache:af,useCacheRefresh:My};pf.useEffectEvent=_y;var ky={readContext:Kt,use:bu,useCallback:Sy,useContext:Kt,useEffect:cf,useImperativeHandle:Ty,useInsertionEffect:by,useLayoutEffect:Ey,useMemo:Ry,useReducer:sf,useRef:yy,useState:function(){return sf(Za)},useDebugValue:uf,useDeferredValue:function(t,a){var s=_t();return et===null?df(s,t,a):xy(s,et.memoizedState,t,a)},useTransition:function(){var t=sf(Za)[0],a=_t().memoizedState;return[typeof t=="boolean"?t:_l(t),a]},useSyncExternalStore:ty,useId:Iy,useHostTransitionStatus:ff,useFormState:gy,useActionState:gy,useOptimistic:function(t,a){var s=_t();return et!==null?oy(s,et,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:af,useCacheRefresh:My};ky.useEffectEvent=_y;function gf(t,a,s,l){a=t.memoizedState,s=s(l,a),s=s==null?a:A({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var yf={enqueueSetState:function(t,a,s){t=t._reactInternals;var l=Nn(),d=Bi(l);d.payload=a,s!=null&&(d.callback=s),a=zi(t,d,l),a!==null&&(gn(a,t,l),pl(a,t,l))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var l=Nn(),d=Bi(l);d.tag=1,d.payload=a,s!=null&&(d.callback=s),a=zi(t,d,l),a!==null&&(gn(a,t,l),pl(a,t,l))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=Nn(),l=Bi(s);l.tag=2,a!=null&&(l.callback=a),a=zi(t,l,s),a!==null&&(gn(a,t,s),pl(a,t,s))}};function Ly(t,a,s,l,d,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):a.prototype&&a.prototype.isPureReactComponent?!ol(s,l)||!ol(d,f):!0}function jy(t,a,s,l){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,l),a.state!==t&&yf.enqueueReplaceState(a,a.state,null)}function Zr(t,a){var s=a;if("ref"in a){s={};for(var l in a)l!=="ref"&&(s[l]=a[l])}if(t=t.defaultProps){s===a&&(s=A({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}function Uy(t){nu(t)}function By(t){console.error(t)}function zy(t){nu(t)}function Ru(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function Hy(t,a,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function vf(t,a,s){return s=Bi(s),s.tag=3,s.payload={element:null},s.callback=function(){Ru(t,a)},s}function qy(t){return t=Bi(t),t.tag=3,t}function Fy(t,a,s,l){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){Hy(a,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Hy(a,s,l),typeof d!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function JT(t,a,s,l,d){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=s.alternate,a!==null&&Vs(a,s,d,!0),s=Rn.current,s!==null){switch(s.tag){case 31:case 13:return qn===null?Lu():s.alternate===null&&mt===0&&(mt=3),s.flags&=-257,s.flags|=65536,s.lanes=d,l===hu?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([l]):a.add(l),qf(t,l,d)),!1;case 22:return s.flags|=65536,l===hu?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([l]):s.add(l)),qf(t,l,d)),!1}throw Error(r(435,s.tag))}return qf(t,l,d),Lu(),!1}if(Be)return a=Rn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,l!==kh&&(t=Error(r(422),{cause:l}),ul(Un(t,s)))):(l!==kh&&(a=Error(r(423),{cause:l}),ul(Un(a,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Un(l,s),d=vf(t.stateNode,l,d),Qh(t,d),mt!==4&&(mt=2)),!1;var f=Error(r(520),{cause:l});if(f=Un(f,s),Nl===null?Nl=[f]:Nl.push(f),mt!==4&&(mt=2),a===null)return!0;l=Un(l,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=vf(s.stateNode,l,t),Qh(s,t),!1;case 1:if(a=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Qi===null||!Qi.has(f))))return s.flags|=65536,d&=-d,s.lanes|=d,d=qy(d),Fy(d,t,s,l),Qh(s,d),!1}s=s.return}while(s!==null);return!1}var _f=Error(r(461)),Ct=!1;function Qt(t,a,s,l){a.child=t===null?Yg(a,null,s,l):$r(a,t.child,s,l)}function Gy(t,a,s,l,d){s=s.render;var f=a.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Kr(a),l=Wh(t,a,s,v,f,d),T=ef(),t!==null&&!Ct?(tf(t,a,d),Wa(t,a,d)):(Be&&T&&Ph(a),a.flags|=1,Qt(t,a,l,d),a.child)}function Ky(t,a,s,l,d){if(t===null){var f=s.type;return typeof f=="function"&&!Mh(f)&&f.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=f,Qy(t,a,f,l,d)):(t=su(s.type,null,l,a,a.mode,d),t.ref=a.ref,t.return=a,a.child=t)}if(f=t.child,!wf(t,d)){var v=f.memoizedProps;if(s=s.compare,s=s!==null?s:ol,s(v,l)&&t.ref===a.ref)return Wa(t,a,d)}return a.flags|=1,t=Qa(f,l),t.ref=a.ref,t.return=a,a.child=t}function Qy(t,a,s,l,d){if(t!==null){var f=t.memoizedProps;if(ol(f,l)&&t.ref===a.ref)if(Ct=!1,a.pendingProps=l=f,wf(t,d))(t.flags&131072)!==0&&(Ct=!0);else return a.lanes=t.lanes,Wa(t,a,d)}return bf(t,a,s,l,d)}function Yy(t,a,s,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((a.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=a.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,a.child=null;return Xy(t,a,f,s,l)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&uu(a,f!==null?f.cachePool:null),f!==null?Jg(a,f):Xh(),Zg(a);else return l=a.lanes=536870912,Xy(t,a,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(uu(a,f.cachePool),Jg(a,f),qi(),a.memoizedState=null):(t!==null&&uu(a,null),Xh(),qi());return Qt(t,a,d,s),a.child}function Al(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Xy(t,a,s,l,d){var f=qh();return f=f===null?null:{parent:xt._currentValue,pool:f},a.memoizedState={baseLanes:s,cachePool:f},t!==null&&uu(a,null),Xh(),Zg(a),t!==null&&Vs(t,a,l,!0),a.childLanes=d,null}function xu(t,a){return a=Cu({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function $y(t,a,s){return $r(a,t.child,null,s),t=xu(a,a.pendingProps),t.flags|=2,xn(a),a.memoizedState=null,t}function ZT(t,a,s){var l=a.pendingProps,d=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=xu(a,l),a.lanes=536870912,Al(null,t);if(Jh(a),(t=st)?(t=l_(t,Hn),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Vi!==null?{id:Ia,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},s=Og(t),s.return=a,a.child=s,Gt=a,st=null)):t=null,t===null)throw Li(a);return a.lanes=536870912,null}return xu(a,l)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(Jh(a),d)if(a.flags&256)a.flags&=-257,a=$y(t,a,s);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(r(558));else if(Ct||Vs(t,a,s,!1),d=(s&t.childLanes)!==0,Ct||d){if(l=at,l!==null&&(v=qo(l,s),v!==0&&v!==f.retryLane))throw f.retryLane=v,Hr(t,v),gn(l,t,v),_f;Lu(),a=$y(t,a,s)}else t=f.treeContext,st=Fn(v.nextSibling),Gt=a,Be=!0,ki=null,Hn=!1,t!==null&&kg(a,t),a=xu(a,l),a.flags|=4096;return a}return t=Qa(t.child,{mode:l.mode,children:l.children}),t.ref=a.ref,a.child=t,t.return=a,t}function wu(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function bf(t,a,s,l,d){return Kr(a),s=Wh(t,a,s,l,void 0,d),l=ef(),t!==null&&!Ct?(tf(t,a,d),Wa(t,a,d)):(Be&&l&&Ph(a),a.flags|=1,Qt(t,a,s,d),a.child)}function Jy(t,a,s,l,d,f){return Kr(a),a.updateQueue=null,s=ey(a,l,s,d),Wg(t),l=ef(),t!==null&&!Ct?(tf(t,a,f),Wa(t,a,f)):(Be&&l&&Ph(a),a.flags|=1,Qt(t,a,s,f),a.child)}function Zy(t,a,s,l,d){if(Kr(a),a.stateNode===null){var f=Ms,v=s.contextType;typeof v=="object"&&v!==null&&(f=Kt(v)),f=new s(l,f),a.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=yf,a.stateNode=f,f._reactInternals=a,f=a.stateNode,f.props=l,f.state=a.memoizedState,f.refs={},Gh(a),v=s.contextType,f.context=typeof v=="object"&&v!==null?Kt(v):Ms,f.state=a.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(gf(a,s,v,l),f.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&yf.enqueueReplaceState(f,f.state,null),yl(a,l,f,d),gl(),f.state=a.memoizedState),typeof f.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(t===null){f=a.stateNode;var T=a.memoizedProps,I=Zr(s,T);f.props=I;var H=f.context,J=s.contextType;v=Ms,typeof J=="object"&&J!==null&&(v=Kt(J));var ne=s.getDerivedStateFromProps;J=typeof ne=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||H!==v)&&jy(a,f,l,v),Ui=!1;var F=a.memoizedState;f.state=F,yl(a,l,f,d),gl(),H=a.memoizedState,T||F!==H||Ui?(typeof ne=="function"&&(gf(a,s,ne,l),H=a.memoizedState),(I=Ui||Ly(a,s,I,l,F,H,v))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(a.flags|=4194308)):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=H),f.props=l,f.state=H,f.context=v,l=I):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{f=a.stateNode,Kh(t,a),v=a.memoizedProps,J=Zr(s,v),f.props=J,ne=a.pendingProps,F=f.context,H=s.contextType,I=Ms,typeof H=="object"&&H!==null&&(I=Kt(H)),T=s.getDerivedStateFromProps,(H=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==ne||F!==I)&&jy(a,f,l,I),Ui=!1,F=a.memoizedState,f.state=F,yl(a,l,f,d),gl();var Y=a.memoizedState;v!==ne||F!==Y||Ui||t!==null&&t.dependencies!==null&&lu(t.dependencies)?(typeof T=="function"&&(gf(a,s,T,l),Y=a.memoizedState),(J=Ui||Ly(a,s,J,l,F,Y,I)||t!==null&&t.dependencies!==null&&lu(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,I)),typeof f.componentDidUpdate=="function"&&(a.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=Y),f.props=l,f.state=Y,f.context=I,l=J):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(a.flags|=1024),l=!1)}return f=l,wu(t,a),l=(a.flags&128)!==0,f||l?(f=a.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),a.flags|=1,t!==null&&l?(a.child=$r(a,t.child,null,d),a.child=$r(a,null,s,d)):Qt(t,a,s,d),a.memoizedState=f.state,t=a.child):t=Wa(t,a,d),t}function Wy(t,a,s,l){return Fr(),a.flags|=256,Qt(t,a,s,l),a.child}var Ef={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Af(t){return{baseLanes:t,cachePool:Hg()}}function Tf(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=Cn),t}function ev(t,a,s){var l=a.pendingProps,d=!1,f=(a.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),v&&(d=!0,a.flags&=-129),v=(a.flags&32)!==0,a.flags&=-33,t===null){if(Be){if(d?Hi(a):qi(),(t=st)?(t=l_(t,Hn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Vi!==null?{id:Ia,overflow:Ma}:null,retryLane:536870912,hydrationErrors:null},s=Og(t),s.return=a,a.child=s,Gt=a,st=null)):t=null,t===null)throw Li(a);return rm(t)?a.lanes=32:a.lanes=536870912,null}var T=l.children;return l=l.fallback,d?(qi(),d=a.mode,T=Cu({mode:"hidden",children:T},d),l=qr(l,d,s,null),T.return=a,l.return=a,T.sibling=l,a.child=T,l=a.child,l.memoizedState=Af(s),l.childLanes=Tf(t,v,s),a.memoizedState=Ef,Al(null,l)):(Hi(a),Sf(a,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)a.flags&256?(Hi(a),a.flags&=-257,a=Rf(t,a,s)):a.memoizedState!==null?(qi(),a.child=t.child,a.flags|=128,a=null):(qi(),T=l.fallback,d=a.mode,l=Cu({mode:"visible",children:l.children},d),T=qr(T,d,s,null),T.flags|=2,l.return=a,T.return=a,l.sibling=T,a.child=l,$r(a,t.child,null,s),l=a.child,l.memoizedState=Af(s),l.childLanes=Tf(t,v,s),a.memoizedState=Ef,a=Al(null,l));else if(Hi(a),rm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(r(419)),l.stack="",l.digest=v,ul({value:l,source:null,stack:null}),a=Rf(t,a,s)}else if(Ct||Vs(t,a,s,!1),v=(s&t.childLanes)!==0,Ct||v){if(v=at,v!==null&&(l=qo(v,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,Hr(t,l),gn(v,t,l),_f;im(T)||Lu(),a=Rf(t,a,s)}else im(T)?(a.flags|=192,a.child=t.child,a=null):(t=I.treeContext,st=Fn(T.nextSibling),Gt=a,Be=!0,ki=null,Hn=!1,t!==null&&kg(a,t),a=Sf(a,l.children),a.flags|=4096);return a}return d?(qi(),T=l.fallback,d=a.mode,I=t.child,H=I.sibling,l=Qa(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?T=Qa(H,T):(T=qr(T,d,s,null),T.flags|=2),T.return=a,l.return=a,l.sibling=T,a.child=l,Al(null,l),l=a.child,T=t.child.memoizedState,T===null?T=Af(s):(d=T.cachePool,d!==null?(I=xt._currentValue,d=d.parent!==I?{parent:I,pool:I}:d):d=Hg(),T={baseLanes:T.baseLanes|s,cachePool:d}),l.memoizedState=T,l.childLanes=Tf(t,v,s),a.memoizedState=Ef,Al(t.child,l)):(Hi(a),s=t.child,t=s.sibling,s=Qa(s,{mode:"visible",children:l.children}),s.return=a,s.sibling=null,t!==null&&(v=a.deletions,v===null?(a.deletions=[t],a.flags|=16):v.push(t)),a.child=s,a.memoizedState=null,s)}function Sf(t,a){return a=Cu({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Cu(t,a){return t=Sn(22,t,null,a),t.lanes=0,t}function Rf(t,a,s){return $r(a,t.child,null,s),t=Sf(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function tv(t,a,s){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a),Uh(t.return,a,s)}function xf(t,a,s,l,d,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:d,treeForkCount:f}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=s,v.tailMode=d,v.treeForkCount=f)}function nv(t,a,s){var l=a.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var v=vt.current,T=(v&2)!==0;if(T?(v=v&1|2,a.flags|=128):v&=1,le(vt,v),Qt(t,a,l,s),l=Be?cl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tv(t,s,a);else if(t.tag===19)tv(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(s=a.child,d=null;s!==null;)t=s.alternate,t!==null&&gu(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=a.child,a.child=null):(d=s.sibling,s.sibling=null),xf(a,!1,d,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,d=a.child,a.child=null;d!==null;){if(t=d.alternate,t!==null&&gu(t)===null){a.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}xf(a,!0,s,null,f,l);break;case"together":xf(a,!1,null,null,void 0,l);break;default:a.memoizedState=null}return a.child}function Wa(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),Ki|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(Vs(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(r(153));if(a.child!==null){for(t=a.child,s=Qa(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=Qa(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function wf(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&lu(t)))}function WT(t,a,s){switch(a.tag){case 3:be(a,a.stateNode.containerInfo),ji(a,xt,t.memoizedState.cache),Fr();break;case 27:case 5:bn(a);break;case 4:be(a,a.stateNode.containerInfo);break;case 10:ji(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Jh(a),null;break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(Hi(a),a.flags|=128,null):(s&a.child.childLanes)!==0?ev(t,a,s):(Hi(a),t=Wa(t,a,s),t!==null?t.sibling:null);Hi(a);break;case 19:var d=(t.flags&128)!==0;if(l=(s&a.childLanes)!==0,l||(Vs(t,a,s,!1),l=(s&a.childLanes)!==0),d){if(l)return nv(t,a,s);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),le(vt,vt.current),l)break;return null;case 22:return a.lanes=0,Yy(t,a,s,a.pendingProps);case 24:ji(a,xt,t.memoizedState.cache)}return Wa(t,a,s)}function av(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)Ct=!0;else{if(!wf(t,s)&&(a.flags&128)===0)return Ct=!1,WT(t,a,s);Ct=(t.flags&131072)!==0}else Ct=!1,Be&&(a.flags&1048576)!==0&&Vg(a,cl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var l=a.pendingProps;if(t=Yr(a.elementType),a.type=t,typeof t=="function")Mh(t)?(l=Zr(t,l),a.tag=1,a=Zy(null,a,t,l,s)):(a.tag=0,a=bf(null,a,t,l,s));else{if(t!=null){var d=t.$$typeof;if(d===_e){a.tag=11,a=Gy(null,a,t,l,s);break e}else if(d===N){a.tag=14,a=Ky(null,a,t,l,s);break e}}throw a=we(t)||t,Error(r(306,a,""))}}return a;case 0:return bf(t,a,a.type,a.pendingProps,s);case 1:return l=a.type,d=Zr(l,a.pendingProps),Zy(t,a,l,d,s);case 3:e:{if(be(a,a.stateNode.containerInfo),t===null)throw Error(r(387));l=a.pendingProps;var f=a.memoizedState;d=f.element,Kh(t,a),yl(a,l,null,s);var v=a.memoizedState;if(l=v.cache,ji(a,xt,l),l!==f.cache&&Bh(a,[xt],s,!0),gl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},a.updateQueue.baseState=f,a.memoizedState=f,a.flags&256){a=Wy(t,a,l,s);break e}else if(l!==d){d=Un(Error(r(424)),a),ul(d),a=Wy(t,a,l,s);break e}else for(t=a.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,st=Fn(t.firstChild),Gt=a,Be=!0,ki=null,Hn=!0,s=Yg(a,null,l,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Fr(),l===d){a=Wa(t,a,s);break e}Qt(t,a,l,s)}a=a.child}return a;case 26:return wu(t,a),t===null?(s=m_(a.type,null,a.pendingProps,null))?a.memoizedState=s:Be||(s=a.type,t=a.pendingProps,l=Fu(Ce.current).createElement(s),l[Tt]=a,l[Ut]=t,Yt(l,s,t),St(l),a.stateNode=l):a.memoizedState=m_(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return bn(a),t===null&&Be&&(l=a.stateNode=d_(a.type,a.pendingProps,Ce.current),Gt=a,Hn=!0,d=st,Ji(a.type)?(sm=d,st=Fn(l.firstChild)):st=d),Qt(t,a,a.pendingProps.children,s),wu(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Be&&((d=l=st)&&(l=NS(l,a.type,a.pendingProps,Hn),l!==null?(a.stateNode=l,Gt=a,st=Fn(l.firstChild),Hn=!1,d=!0):d=!1),d||Li(a)),bn(a),d=a.type,f=a.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,tm(d,f)?l=null:v!==null&&tm(d,v)&&(a.flags|=32),a.memoizedState!==null&&(d=Wh(t,a,FT,null,null,s),Ll._currentValue=d),wu(t,a),Qt(t,a,l,s),a.child;case 6:return t===null&&Be&&((t=s=st)&&(s=IS(s,a.pendingProps,Hn),s!==null?(a.stateNode=s,Gt=a,st=null,t=!0):t=!1),t||Li(a)),null;case 13:return ev(t,a,s);case 4:return be(a,a.stateNode.containerInfo),l=a.pendingProps,t===null?a.child=$r(a,null,l,s):Qt(t,a,l,s),a.child;case 11:return Gy(t,a,a.type,a.pendingProps,s);case 7:return Qt(t,a,a.pendingProps,s),a.child;case 8:return Qt(t,a,a.pendingProps.children,s),a.child;case 12:return Qt(t,a,a.pendingProps.children,s),a.child;case 10:return l=a.pendingProps,ji(a,a.type,l.value),Qt(t,a,l.children,s),a.child;case 9:return d=a.type._context,l=a.pendingProps.children,Kr(a),d=Kt(d),l=l(d),a.flags|=1,Qt(t,a,l,s),a.child;case 14:return Ky(t,a,a.type,a.pendingProps,s);case 15:return Qy(t,a,a.type,a.pendingProps,s);case 19:return nv(t,a,s);case 31:return ZT(t,a,s);case 22:return Yy(t,a,s,a.pendingProps);case 24:return Kr(a),l=Kt(xt),t===null?(d=qh(),d===null&&(d=at,f=zh(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=s),d=f),a.memoizedState={parent:l,cache:d},Gh(a),ji(a,xt,d)):((t.lanes&s)!==0&&(Kh(t,a),yl(a,null,null,s),gl()),d=t.memoizedState,f=a.memoizedState,d.parent!==l?(d={parent:l,cache:l},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),ji(a,xt,l)):(l=f.cache,ji(a,xt,l),l!==d.cache&&Bh(a,[xt],s,!0))),Qt(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ei(t){t.flags|=4}function Cf(t,a,s,l,d){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(Iv())t.flags|=8192;else throw Xr=hu,Fh}else t.flags&=-16777217}function iv(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!__(a))if(Iv())t.flags|=8192;else throw Xr=hu,Fh}function Nu(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Vc():536870912,t.lanes|=a,Qs|=a)}function Tl(t,a){if(!Be)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(a)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=s,a}function eS(t,a,s){var l=a.pendingProps;switch(Vh(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(a),null;case 1:return ot(a),null;case 3:return s=a.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),$a(xt),He(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ps(a)?ei(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Lh())),ot(a),null;case 26:var d=a.type,f=a.memoizedState;return t===null?(ei(a),f!==null?(ot(a),iv(a,f)):(ot(a),Cf(a,d,null,l,s))):f?f!==t.memoizedState?(ei(a),ot(a),iv(a,f)):(ot(a),a.flags&=-16777217):(t=t.memoizedProps,t!==l&&ei(a),ot(a),Cf(a,d,t,l,s)),null;case 27:if(cn(a),s=Ce.current,d=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==l&&ei(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return ot(a),null}t=ue.current,Ps(a)?Lg(a):(t=d_(d,l,s),a.stateNode=t,ei(a))}return ot(a),null;case 5:if(cn(a),d=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==l&&ei(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return ot(a),null}if(f=ue.current,Ps(a))Lg(a);else{var v=Fu(Ce.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}f[Tt]=a,f[Ut]=l;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=f;e:switch(Yt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ei(a)}}return ot(a),Cf(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,s),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==l&&ei(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(r(166));if(t=Ce.current,Ps(a)){if(t=a.stateNode,s=a.memoizedProps,l=null,d=Gt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Tt]=a,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||e_(t.nodeValue,s)),t||Li(a,!0)}else t=Fu(t).createTextNode(l),t[Tt]=a,a.stateNode=t}return ot(a),null;case 31:if(s=a.memoizedState,t===null||t.memoizedState!==null){if(l=Ps(a),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Tt]=a}else Fr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ot(a),t=!1}else s=Lh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return a.flags&256?(xn(a),a):(xn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return ot(a),null;case 13:if(l=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ps(a),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Tt]=a}else Fr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ot(a),d=!1}else d=Lh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(xn(a),a):(xn(a),null)}return xn(a),(a.flags&128)!==0?(a.lanes=s,a):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=a.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),s!==t&&s&&(a.child.flags|=8192),Nu(a,a.updateQueue),ot(a),null);case 4:return He(),t===null&&$f(a.stateNode.containerInfo),ot(a),null;case 10:return $a(a.type),ot(a),null;case 19:if(te(vt),l=a.memoizedState,l===null)return ot(a),null;if(d=(a.flags&128)!==0,f=l.rendering,f===null)if(d)Tl(l,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(f=gu(t),f!==null){for(a.flags|=128,Tl(l,!1),t=f.updateQueue,a.updateQueue=t,Nu(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)Dg(s,t),s=s.sibling;return le(vt,vt.current&1|2),Be&&Ya(a,l.treeForkCount),a.child}t=t.sibling}l.tail!==null&&rn()>Pu&&(a.flags|=128,d=!0,Tl(l,!1),a.lanes=4194304)}else{if(!d)if(t=gu(f),t!==null){if(a.flags|=128,d=!0,t=t.updateQueue,a.updateQueue=t,Nu(a,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Be)return ot(a),null}else 2*rn()-l.renderingStartTime>Pu&&s!==536870912&&(a.flags|=128,d=!0,Tl(l,!1),a.lanes=4194304);l.isBackwards?(f.sibling=a.child,a.child=f):(t=l.last,t!==null?t.sibling=f:a.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=rn(),t.sibling=null,s=vt.current,le(vt,d?s&1|2:s&1),Be&&Ya(a,l.treeForkCount),t):(ot(a),null);case 22:case 23:return xn(a),$h(),l=a.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(s&536870912)!==0&&(a.flags&128)===0&&(ot(a),a.subtreeFlags&6&&(a.flags|=8192)):ot(a),s=a.updateQueue,s!==null&&Nu(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==s&&(a.flags|=2048),t!==null&&te(Qr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),$a(xt),ot(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function tS(t,a){switch(Vh(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return $a(xt),He(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return cn(a),null;case 31:if(a.memoizedState!==null){if(xn(a),a.alternate===null)throw Error(r(340));Fr()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(xn(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Fr()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return te(vt),null;case 4:return He(),null;case 10:return $a(a.type),null;case 22:case 23:return xn(a),$h(),t!==null&&te(Qr),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return $a(xt),null;case 25:return null;default:return null}}function rv(t,a){switch(Vh(a),a.tag){case 3:$a(xt),He();break;case 26:case 27:case 5:cn(a);break;case 4:He();break;case 31:a.memoizedState!==null&&xn(a);break;case 13:xn(a);break;case 19:te(vt);break;case 10:$a(a.type);break;case 22:case 23:xn(a),$h(),t!==null&&te(Qr);break;case 24:$a(xt)}}function Sl(t,a){try{var s=a.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var d=l.next;s=d;do{if((s.tag&t)===t){l=void 0;var f=s.create,v=s.inst;l=f(),v.destroy=l}s=s.next}while(s!==d)}}catch(T){Ze(a,a.return,T)}}function Fi(t,a,s){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,d=a;var I=s,H=T;try{H()}catch(J){Ze(d,I,J)}}}l=l.next}while(l!==f)}}catch(J){Ze(a,a.return,J)}}function sv(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{$g(a,s)}catch(l){Ze(t,t.return,l)}}}function ov(t,a,s){s.props=Zr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ze(t,a,l)}}function Rl(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(d){Ze(t,a,d)}}function Da(t,a){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(d){Ze(t,a,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Ze(t,a,d)}else s.current=null}function lv(t){var a=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(d){Ze(t,t.return,d)}}function Nf(t,a,s){try{var l=t.stateNode;TS(l,t.type,s,a),l[Ut]=a}catch(d){Ze(t,t.return,d)}}function cv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ji(t.type)||t.tag===4}function If(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ji(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mf(t,a,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=ea));else if(l!==4&&(l===27&&Ji(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(Mf(t,a,s),t=t.sibling;t!==null;)Mf(t,a,s),t=t.sibling}function Iu(t,a,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(l!==4&&(l===27&&Ji(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Iu(t,a,s),t=t.sibling;t!==null;)Iu(t,a,s),t=t.sibling}function uv(t){var a=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);Yt(a,l,s),a[Tt]=t,a[Ut]=s}catch(f){Ze(t,t.return,f)}}var ti=!1,Nt=!1,Df=!1,dv=typeof WeakSet=="function"?WeakSet:Set,zt=null;function nS(t,a){if(t=t.containerInfo,Wf=Ju,t=Tg(t),Sh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var v=0,T=-1,I=-1,H=0,J=0,ne=t,F=null;t:for(;;){for(var Y;ne!==s||d!==0&&ne.nodeType!==3||(T=v+d),ne!==f||l!==0&&ne.nodeType!==3||(I=v+l),ne.nodeType===3&&(v+=ne.nodeValue.length),(Y=ne.firstChild)!==null;)F=ne,ne=Y;for(;;){if(ne===t)break t;if(F===s&&++H===d&&(T=v),F===f&&++J===l&&(I=v),(Y=ne.nextSibling)!==null)break;ne=F,F=ne.parentNode}ne=Y}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(em={focusedElem:t,selectionRange:s},Ju=!1,zt=a;zt!==null;)if(a=zt,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,zt=t;else for(;zt!==null;){switch(a=zt,f=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)d=t[s],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=a,d=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var he=Zr(s.type,d);t=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Ze(s,s.return,ve)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)am(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":am(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=a.sibling,t!==null){t.return=a.return,zt=t;break}zt=a.return}}function hv(t,a,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ai(t,s),l&4&&Sl(5,s);break;case 1:if(ai(t,s),l&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(v){Ze(s,s.return,v)}else{var d=Zr(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(d,a,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(s,s.return,v)}}l&64&&sv(s),l&512&&Rl(s,s.return);break;case 3:if(ai(t,s),l&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{$g(t,a)}catch(v){Ze(s,s.return,v)}}break;case 27:a===null&&l&4&&uv(s);case 26:case 5:ai(t,s),a===null&&l&4&&lv(s),l&512&&Rl(s,s.return);break;case 12:ai(t,s);break;case 31:ai(t,s),l&4&&pv(t,s);break;case 13:ai(t,s),l&4&&gv(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=dS.bind(null,s),MS(t,s))));break;case 22:if(l=s.memoizedState!==null||ti,!l){a=a!==null&&a.memoizedState!==null||Nt,d=ti;var f=Nt;ti=l,(Nt=a)&&!f?ii(t,s,(s.subtreeFlags&8772)!==0):ai(t,s),ti=d,Nt=f}break;case 30:break;default:ai(t,s)}}function fv(t){var a=t.alternate;a!==null&&(t.alternate=null,fv(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&ys(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,hn=!1;function ni(t,a,s){for(s=s.child;s!==null;)mv(t,a,s),s=s.sibling}function mv(t,a,s){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount($n,s)}catch{}switch(s.tag){case 26:Nt||Da(s,a),ni(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Nt||Da(s,a);var l=ut,d=hn;Ji(s.type)&&(ut=s.stateNode,hn=!1),ni(t,a,s),Pl(s.stateNode),ut=l,hn=d;break;case 5:Nt||Da(s,a);case 6:if(l=ut,d=hn,ut=null,ni(t,a,s),ut=l,hn=d,ut!==null)if(hn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(s.stateNode)}catch(f){Ze(s,a,f)}else try{ut.removeChild(s.stateNode)}catch(f){Ze(s,a,f)}break;case 18:ut!==null&&(hn?(t=ut,s_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),to(t)):s_(ut,s.stateNode));break;case 4:l=ut,d=hn,ut=s.stateNode.containerInfo,hn=!0,ni(t,a,s),ut=l,hn=d;break;case 0:case 11:case 14:case 15:Fi(2,s,a),Nt||Fi(4,s,a),ni(t,a,s);break;case 1:Nt||(Da(s,a),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ov(s,a,l)),ni(t,a,s);break;case 21:ni(t,a,s);break;case 22:Nt=(l=Nt)||s.memoizedState!==null,ni(t,a,s),Nt=l;break;default:ni(t,a,s)}}function pv(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(s){Ze(a,a.return,s)}}}function gv(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(s){Ze(a,a.return,s)}}function aS(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new dv),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new dv),a;default:throw Error(r(435,t.tag))}}function Mu(t,a){var s=aS(t);a.forEach(function(l){if(!s.has(l)){s.add(l);var d=hS.bind(null,t,l);l.then(d,d)}})}function fn(t,a){var s=a.deletions;if(s!==null)for(var l=0;l<s.length;l++){var d=s[l],f=t,v=a,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Ji(T.type)){ut=T.stateNode,hn=!1;break e}break;case 5:ut=T.stateNode,hn=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,hn=!0;break e}T=T.return}if(ut===null)throw Error(r(160));mv(f,v,d),ut=null,hn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)yv(a,t),a=a.sibling}var sa=null;function yv(t,a){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(a,t),mn(t),l&4&&(Fi(3,t,t.return),Sl(3,t),Fi(5,t,t.return));break;case 1:fn(a,t),mn(t),l&512&&(Nt||s===null||Da(s,s.return)),l&64&&ti&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var d=sa;if(fn(a,t),mn(t),l&512&&(Nt||s===null||Da(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[va]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Yt(f,l,s),f[Tt]=t,St(f),l=f;break e;case"link":var v=y_("link","href",d).get(l+(s.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(T,1);break t}}f=d.createElement(l),Yt(f,l,s),d.head.appendChild(f);break;case"meta":if(v=y_("meta","content",d).get(l+(s.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(T,1);break t}}f=d.createElement(l),Yt(f,l,s),d.head.appendChild(f);break;default:throw Error(r(468,l))}f[Tt]=t,St(f),l=f}t.stateNode=l}else v_(d,t.type,t.stateNode);else t.stateNode=g_(d,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?v_(d,t.type,t.stateNode):g_(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Nf(t,t.memoizedProps,s.memoizedProps)}break;case 27:fn(a,t),mn(t),l&512&&(Nt||s===null||Da(s,s.return)),s!==null&&l&4&&Nf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(fn(a,t),mn(t),l&512&&(Nt||s===null||Da(s,s.return)),t.flags&32){d=t.stateNode;try{dn(d,"")}catch(he){Ze(t,t.return,he)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Nf(t,d,s!==null?s.memoizedProps:d)),l&1024&&(Df=!0);break;case 6:if(fn(a,t),mn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(he){Ze(t,t.return,he)}}break;case 3:if(Qu=null,d=sa,sa=Gu(a.containerInfo),fn(a,t),sa=d,mn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{to(a.containerInfo)}catch(he){Ze(t,t.return,he)}Df&&(Df=!1,vv(t));break;case 4:l=sa,sa=Gu(t.stateNode.containerInfo),fn(a,t),mn(t),sa=l;break;case 12:fn(a,t),mn(t);break;case 31:fn(a,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mu(t,l)));break;case 13:fn(a,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ou=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mu(t,l)));break;case 22:d=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,H=ti,J=Nt;if(ti=H||d,Nt=J||I,fn(a,t),Nt=J,ti=H,mn(t),l&8192)e:for(a=t.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(s===null||I||ti||Nt||Wr(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){I=s=a;try{if(f=I.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var ne=I.memoizedProps.style,F=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(he){Ze(I,I.return,he)}}}else if(a.tag===6){if(s===null){I=a;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch(he){Ze(I,I.return,he)}}}else if(a.tag===18){if(s===null){I=a;try{var Y=I.stateNode;d?o_(Y,!0):o_(I.stateNode,!1)}catch(he){Ze(I,I.return,he)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Mu(t,s))));break;case 19:fn(a,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mu(t,l)));break;case 30:break;case 21:break;default:fn(a,t),mn(t)}}function mn(t){var a=t.flags;if(a&2){try{for(var s,l=t.return;l!==null;){if(cv(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var d=s.stateNode,f=If(t);Iu(t,f,d);break;case 5:var v=s.stateNode;s.flags&32&&(dn(v,""),s.flags&=-33);var T=If(t);Iu(t,T,v);break;case 3:case 4:var I=s.stateNode.containerInfo,H=If(t);Mf(t,H,I);break;default:throw Error(r(161))}}catch(J){Ze(t,t.return,J)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function vv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;vv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function ai(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)hv(t,a.alternate,a),a=a.sibling}function Wr(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Fi(4,a,a.return),Wr(a);break;case 1:Da(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&ov(a,a.return,s),Wr(a);break;case 27:Pl(a.stateNode);case 26:case 5:Da(a,a.return),Wr(a);break;case 22:a.memoizedState===null&&Wr(a);break;case 30:Wr(a);break;default:Wr(a)}t=t.sibling}}function ii(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,d=t,f=a,v=f.flags;switch(f.tag){case 0:case 11:case 15:ii(d,f,s),Sl(4,f);break;case 1:if(ii(d,f,s),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){Ze(l,l.return,H)}if(l=f,d=l.updateQueue,d!==null){var T=l.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)Xg(I[d],T)}catch(H){Ze(l,l.return,H)}}s&&v&64&&sv(f),Rl(f,f.return);break;case 27:uv(f);case 26:case 5:ii(d,f,s),s&&l===null&&v&4&&lv(f),Rl(f,f.return);break;case 12:ii(d,f,s);break;case 31:ii(d,f,s),s&&v&4&&pv(d,f);break;case 13:ii(d,f,s),s&&v&4&&gv(d,f);break;case 22:f.memoizedState===null&&ii(d,f,s),Rl(f,f.return);break;case 30:break;default:ii(d,f,s)}a=a.sibling}}function Of(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&dl(s))}function Pf(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&dl(t))}function oa(t,a,s,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)_v(t,a,s,l),a=a.sibling}function _v(t,a,s,l){var d=a.flags;switch(a.tag){case 0:case 11:case 15:oa(t,a,s,l),d&2048&&Sl(9,a);break;case 1:oa(t,a,s,l);break;case 3:oa(t,a,s,l),d&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&dl(t)));break;case 12:if(d&2048){oa(t,a,s,l),t=a.stateNode;try{var f=a.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ze(a,a.return,I)}}else oa(t,a,s,l);break;case 31:oa(t,a,s,l);break;case 13:oa(t,a,s,l);break;case 23:break;case 22:f=a.stateNode,v=a.alternate,a.memoizedState!==null?f._visibility&2?oa(t,a,s,l):xl(t,a):f._visibility&2?oa(t,a,s,l):(f._visibility|=2,Fs(t,a,s,l,(a.subtreeFlags&10256)!==0||!1)),d&2048&&Of(v,a);break;case 24:oa(t,a,s,l),d&2048&&Pf(a.alternate,a);break;default:oa(t,a,s,l)}}function Fs(t,a,s,l,d){for(d=d&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var f=t,v=a,T=s,I=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:Fs(f,v,T,I,d),Sl(8,v);break;case 23:break;case 22:var J=v.stateNode;v.memoizedState!==null?J._visibility&2?Fs(f,v,T,I,d):xl(f,v):(J._visibility|=2,Fs(f,v,T,I,d)),d&&H&2048&&Of(v.alternate,v);break;case 24:Fs(f,v,T,I,d),d&&H&2048&&Pf(v.alternate,v);break;default:Fs(f,v,T,I,d)}a=a.sibling}}function xl(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,l=a,d=l.flags;switch(l.tag){case 22:xl(s,l),d&2048&&Of(l.alternate,l);break;case 24:xl(s,l),d&2048&&Pf(l.alternate,l);break;default:xl(s,l)}a=a.sibling}}var wl=8192;function Gs(t,a,s){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)bv(t,a,s),t=t.sibling}function bv(t,a,s){switch(t.tag){case 26:Gs(t,a,s),t.flags&wl&&t.memoizedState!==null&&qS(s,sa,t.memoizedState,t.memoizedProps);break;case 5:Gs(t,a,s);break;case 3:case 4:var l=sa;sa=Gu(t.stateNode.containerInfo),Gs(t,a,s),sa=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=wl,wl=16777216,Gs(t,a,s),wl=l):Gs(t,a,s));break;default:Gs(t,a,s)}}function Ev(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Cl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];zt=l,Tv(l,t)}Ev(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Av(t),t=t.sibling}function Av(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&Fi(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Du(t)):Cl(t);break;default:Cl(t)}}function Du(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];zt=l,Tv(l,t)}Ev(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Fi(8,a,a.return),Du(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,Du(a));break;default:Du(a)}t=t.sibling}}function Tv(t,a){for(;zt!==null;){var s=zt;switch(s.tag){case 0:case 11:case 15:Fi(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,zt=l;else e:for(s=t;zt!==null;){l=zt;var d=l.sibling,f=l.return;if(fv(l),l===s){zt=null;break e}if(d!==null){d.return=f,zt=d;break e}zt=f}}}var iS={getCacheForType:function(t){var a=Kt(xt),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s},cacheSignal:function(){return Kt(xt).controller.signal}},rS=typeof WeakMap=="function"?WeakMap:Map,Qe=0,at=null,De=null,Pe=0,Je=0,wn=null,Gi=!1,Ks=!1,Vf=!1,ri=0,mt=0,Ki=0,es=0,kf=0,Cn=0,Qs=0,Nl=null,pn=null,Lf=!1,Ou=0,Sv=0,Pu=1/0,Vu=null,Qi=null,Pt=0,Yi=null,Ys=null,si=0,jf=0,Uf=null,Rv=null,Il=0,Bf=null;function Nn(){return(Qe&2)!==0&&Pe!==0?Pe&-Pe:X.T!==null?Kf():kc()}function xv(){if(Cn===0)if((Pe&536870912)===0||Be){var t=wr;wr<<=1,(wr&3932160)===0&&(wr=262144),Cn=t}else Cn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),Cn}function gn(t,a,s){(t===at&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Xs(t,0),Xi(t,Pe,Cn,!1)),Cr(t,s),((Qe&2)===0||t!==at)&&(t===at&&((Qe&2)===0&&(es|=s),mt===4&&Xi(t,Pe,Cn,!1)),Oa(t))}function wv(t,a,s){if((Qe&6)!==0)throw Error(r(327));var l=!s&&(a&127)===0&&(a&t.expiredLanes)===0||Jn(t,a),d=l?lS(t,a):Hf(t,a,!0),f=l;do{if(d===0){Ks&&!l&&Xi(t,a,0,!1);break}else{if(s=t.current.alternate,f&&!sS(s)){d=Hf(t,a,!1),f=!1;continue}if(d===2){if(f=a,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){a=v;e:{var T=t;d=Nl;var I=T.current.memoizedState.isDehydrated;if(I&&(Xs(T,v).flags|=256),v=Hf(T,v,!1),v!==2){if(Vf&&!I){T.errorRecoveryDisabledLanes|=f,es|=f,d=4;break e}f=pn,pn=d,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){Xs(t,0),Xi(t,a,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Xi(l,a,Cn,!Gi);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(d=Ou+300-rn(),10<d)){if(Xi(l,a,Cn,!Gi),pa(l,0,!0)!==0)break e;si=a,l.timeoutHandle=i_(Cv.bind(null,l,s,pn,Vu,Lf,a,Cn,es,Qs,Gi,f,"Throttled",-0,0),d);break e}Cv(l,s,pn,Vu,Lf,a,Cn,es,Qs,Gi,f,null,-0,0)}}break}while(!0);Oa(t)}function Cv(t,a,s,l,d,f,v,T,I,H,J,ne,F,Y){if(t.timeoutHandle=-1,ne=a.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},bv(a,f,ne);var he=(f&62914560)===f?Ou-rn():(f&4194048)===f?Sv-rn():0;if(he=FS(ne,he),he!==null){si=f,t.cancelPendingCommit=he(kv.bind(null,t,a,f,s,l,d,v,T,I,J,ne,null,F,Y)),Xi(t,f,v,!H);return}}kv(t,a,f,s,l,d,v,T,I)}function sS(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var d=s[l],f=d.getSnapshot;d=d.value;try{if(!Tn(f(),d))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Xi(t,a,s,l){a&=~kf,a&=~es,t.suspendedLanes|=a,t.pingedLanes&=~a,l&&(t.warmLanes|=a),l=t.expirationTimes;for(var d=a;0<d;){var f=31-gt(d),v=1<<f;l[f]=-1,d&=~v}s!==0&&Nr(t,s,a)}function ku(){return(Qe&6)===0?(Ml(0),!1):!0}function zf(){if(De!==null){if(Je===0)var t=De.return;else t=De,Xa=Gr=null,nf(t),Us=null,fl=0,t=De;for(;t!==null;)rv(t.alternate,t),t=t.return;De=null}}function Xs(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,xS(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),si=0,zf(),at=t,De=s=Qa(t.current,null),Pe=a,Je=0,wn=null,Gi=!1,Ks=Jn(t,a),Vf=!1,Qs=Cn=kf=es=Ki=mt=0,pn=Nl=null,Lf=!1,(a&8)!==0&&(a|=a&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=a;0<l;){var d=31-gt(l),f=1<<d;a|=t[d],l&=~f}return ri=a,au(),s}function Nv(t,a){Ie=null,X.H=El,a===js||a===du?(a=Gg(),Je=3):a===Fh?(a=Gg(),Je=4):Je=a===_f?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,wn=a,De===null&&(mt=1,Ru(t,Un(a,t.current)))}function Iv(){var t=Rn.current;return t===null?!0:(Pe&4194048)===Pe?qn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===qn:!1}function Mv(){var t=X.H;return X.H=El,t===null?El:t}function Dv(){var t=X.A;return X.A=iS,t}function Lu(){mt=4,Gi||(Pe&4194048)!==Pe&&Rn.current!==null||(Ks=!0),(Ki&134217727)===0&&(es&134217727)===0||at===null||Xi(at,Pe,Cn,!1)}function Hf(t,a,s){var l=Qe;Qe|=2;var d=Mv(),f=Dv();(at!==t||Pe!==a)&&(Vu=null,Xs(t,a)),a=!1;var v=mt;e:do try{if(Je!==0&&De!==null){var T=De,I=wn;switch(Je){case 8:zf(),v=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(a=!0);var H=Je;if(Je=0,wn=null,$s(t,T,I,H),s&&Ks){v=0;break e}break;default:H=Je,Je=0,wn=null,$s(t,T,I,H)}}oS(),v=mt;break}catch(J){Nv(t,J)}while(!0);return a&&t.shellSuspendCounter++,Xa=Gr=null,Qe=l,X.H=d,X.A=f,De===null&&(at=null,Pe=0,au()),v}function oS(){for(;De!==null;)Ov(De)}function lS(t,a){var s=Qe;Qe|=2;var l=Mv(),d=Dv();at!==t||Pe!==a?(Vu=null,Pu=rn()+500,Xs(t,a)):Ks=Jn(t,a);e:do try{if(Je!==0&&De!==null){a=De;var f=wn;t:switch(Je){case 1:Je=0,wn=null,$s(t,a,f,1);break;case 2:case 9:if(qg(f)){Je=0,wn=null,Pv(a);break}a=function(){Je!==2&&Je!==9||at!==t||(Je=7),Oa(t)},f.then(a,a);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:qg(f)?(Je=0,wn=null,Pv(a)):(Je=0,wn=null,$s(t,a,f,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var T=De;if(v?__(v):T.stateNode.complete){Je=0,wn=null;var I=T.sibling;if(I!==null)De=I;else{var H=T.return;H!==null?(De=H,ju(H)):De=null}break t}}Je=0,wn=null,$s(t,a,f,5);break;case 6:Je=0,wn=null,$s(t,a,f,6);break;case 8:zf(),mt=6;break e;default:throw Error(r(462))}}cS();break}catch(J){Nv(t,J)}while(!0);return Xa=Gr=null,X.H=l,X.A=d,Qe=s,De!==null?0:(at=null,Pe=0,au(),mt)}function cS(){for(;De!==null&&!yh();)Ov(De)}function Ov(t){var a=av(t.alternate,t,ri);t.memoizedProps=t.pendingProps,a===null?ju(t):De=a}function Pv(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=Jy(s,a,a.pendingProps,a.type,void 0,Pe);break;case 11:a=Jy(s,a,a.pendingProps,a.type.render,a.ref,Pe);break;case 5:nf(a);default:rv(s,a),a=De=Dg(a,ri),a=av(s,a,ri)}t.memoizedProps=t.pendingProps,a===null?ju(t):De=a}function $s(t,a,s,l){Xa=Gr=null,nf(a),Us=null,fl=0;var d=a.return;try{if(JT(t,d,a,s,Pe)){mt=1,Ru(t,Un(s,t.current)),De=null;return}}catch(f){if(d!==null)throw De=d,f;mt=1,Ru(t,Un(s,t.current)),De=null;return}a.flags&32768?(Be||l===1?t=!0:Ks||(Pe&536870912)!==0?t=!1:(Gi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vv(a,t)):ju(a)}function ju(t){var a=t;do{if((a.flags&32768)!==0){Vv(a,Gi);return}t=a.return;var s=eS(a.alternate,a,ri);if(s!==null){De=s;return}if(a=a.sibling,a!==null){De=a;return}De=a=t}while(a!==null);mt===0&&(mt=5)}function Vv(t,a){do{var s=tS(t.alternate,t);if(s!==null){s.flags&=32767,De=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){De=t;return}De=t=s}while(t!==null);mt=6,De=null}function kv(t,a,s,l,d,f,v,T,I){t.cancelPendingCommit=null;do Uu();while(Pt!==0);if((Qe&6)!==0)throw Error(r(327));if(a!==null){if(a===t.current)throw Error(r(177));if(f=a.lanes|a.childLanes,f|=Nh,bh(t,s,f,v,T,I),t===at&&(De=at=null,Pe=0),Ys=a,Yi=t,si=s,jf=f,Uf=d,Rv=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,fS(Ri,function(){return zv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,d=oe.p,oe.p=2,v=Qe,Qe|=4;try{nS(t,a,s)}finally{Qe=v,oe.p=d,X.T=l}}Pt=1,Lv(),jv(),Uv()}}function Lv(){if(Pt===1){Pt=0;var t=Yi,a=Ys,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var l=oe.p;oe.p=2;var d=Qe;Qe|=4;try{yv(a,t);var f=em,v=Tg(t.containerInfo),T=f.focusedElem,I=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Ag(T.ownerDocument.documentElement,T)){if(I!==null&&Sh(T)){var H=I.start,J=I.end;if(J===void 0&&(J=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(J,T.value.length);else{var ne=T.ownerDocument||document,F=ne&&ne.defaultView||window;if(F.getSelection){var Y=F.getSelection(),he=T.textContent.length,ve=Math.min(I.start,he),nt=I.end===void 0?ve:Math.min(I.end,he);!Y.extend&&ve>nt&&(v=nt,nt=ve,ve=v);var j=Eg(T,ve),P=Eg(T,nt);if(j&&P&&(Y.rangeCount!==1||Y.anchorNode!==j.node||Y.anchorOffset!==j.offset||Y.focusNode!==P.node||Y.focusOffset!==P.offset)){var z=ne.createRange();z.setStart(j.node,j.offset),Y.removeAllRanges(),ve>nt?(Y.addRange(z),Y.extend(P.node,P.offset)):(z.setEnd(P.node,P.offset),Y.addRange(z))}}}}for(ne=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&ne.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ne.length;T++){var Z=ne[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Ju=!!Wf,em=Wf=null}finally{Qe=d,oe.p=l,X.T=s}}t.current=a,Pt=2}}function jv(){if(Pt===2){Pt=0;var t=Yi,a=Ys,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var l=oe.p;oe.p=2;var d=Qe;Qe|=4;try{hv(t,a.alternate,a)}finally{Qe=d,oe.p=l,X.T=s}}Pt=3}}function Uv(){if(Pt===4||Pt===3){Pt=0,Nc();var t=Yi,a=Ys,s=si,l=Rv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Pt=5:(Pt=0,Ys=Yi=null,Bv(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Qi=null),qa(s),a=a.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot($n,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=X.T,d=oe.p,oe.p=2,X.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{X.T=a,oe.p=d}}(si&3)!==0&&Uu(),Oa(t),d=t.pendingLanes,(s&261930)!==0&&(d&42)!==0?t===Bf?Il++:(Il=0,Bf=t):Il=0,Ml(0)}}function Bv(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,dl(a)))}function Uu(){return Lv(),jv(),Uv(),zv()}function zv(){if(Pt!==5)return!1;var t=Yi,a=jf;jf=0;var s=qa(si),l=X.T,d=oe.p;try{oe.p=32>s?32:s,X.T=null,s=Uf,Uf=null;var f=Yi,v=si;if(Pt=0,Ys=Yi=null,si=0,(Qe&6)!==0)throw Error(r(331));var T=Qe;if(Qe|=4,Av(f.current),_v(f,f.current,v,s),Qe=T,Ml(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot($n,f)}catch{}return!0}finally{oe.p=d,X.T=l,Bv(t,a)}}function Hv(t,a,s){a=Un(s,a),a=vf(t.stateNode,a,2),t=zi(t,a,2),t!==null&&(Cr(t,2),Oa(t))}function Ze(t,a,s){if(t.tag===3)Hv(t,t,s);else for(;a!==null;){if(a.tag===3){Hv(a,t,s);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Qi===null||!Qi.has(l))){t=Un(s,t),s=qy(2),l=zi(a,s,2),l!==null&&(Fy(s,l,a,t),Cr(l,2),Oa(l));break}}a=a.return}}function qf(t,a,s){var l=t.pingCache;if(l===null){l=t.pingCache=new rS;var d=new Set;l.set(a,d)}else d=l.get(a),d===void 0&&(d=new Set,l.set(a,d));d.has(s)||(Vf=!0,d.add(s),t=uS.bind(null,t,a,s),a.then(t,t))}function uS(t,a,s){var l=t.pingCache;l!==null&&l.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,at===t&&(Pe&s)===s&&(mt===4||mt===3&&(Pe&62914560)===Pe&&300>rn()-Ou?(Qe&2)===0&&Xs(t,0):kf|=s,Qs===Pe&&(Qs=0)),Oa(t)}function qv(t,a){a===0&&(a=Vc()),t=Hr(t,a),t!==null&&(Cr(t,a),Oa(t))}function dS(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),qv(t,s)}function hS(t,a){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(a),qv(t,s)}function fS(t,a){return Ot(t,a)}var Bu=null,Js=null,Ff=!1,zu=!1,Gf=!1,$i=0;function Oa(t){t!==Js&&t.next===null&&(Js===null?Bu=Js=t:Js=Js.next=t),zu=!0,Ff||(Ff=!0,pS())}function Ml(t,a){if(!Gf&&zu){Gf=!0;do for(var s=!1,l=Bu;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-gt(42|t)+1)-1,f&=d&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Qv(l,f))}else f=Pe,f=pa(l,l===at?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Jn(l,f)||(s=!0,Qv(l,f));l=l.next}while(s);Gf=!1}}function mS(){Fv()}function Fv(){zu=Ff=!1;var t=0;$i!==0&&RS()&&(t=$i);for(var a=rn(),s=null,l=Bu;l!==null;){var d=l.next,f=Gv(l,a);f===0?(l.next=null,s===null?Bu=d:s.next=d,d===null&&(Js=s)):(s=l,(t!==0||(f&3)!==0)&&(zu=!0)),l=d}Pt!==0&&Pt!==5||Ml(t),$i!==0&&($i=0)}function Gv(t,a){for(var s=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-gt(f),T=1<<v,I=d[v];I===-1?((T&s)===0||(T&l)!==0)&&(d[v]=_h(T,a)):I<=a&&(t.expiredLanes|=T),f&=~T}if(a=at,s=Pe,s=pa(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===a&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Si(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Jn(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(l!==null&&Si(l),qa(s)){case 2:case 8:s=zo;break;case 32:s=Ri;break;case 268435456:s=Ic;break;default:s=Ri}return l=Kv.bind(null,t),s=Ot(s,l),t.callbackPriority=a,t.callbackNode=s,a}return l!==null&&l!==null&&Si(l),t.callbackPriority=2,t.callbackNode=null,2}function Kv(t,a){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Uu()&&t.callbackNode!==s)return null;var l=Pe;return l=pa(t,t===at?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(wv(t,l,a),Gv(t,rn()),t.callbackNode!=null&&t.callbackNode===s?Kv.bind(null,t):null)}function Qv(t,a){if(Uu())return null;wv(t,a,!0)}function pS(){wS(function(){(Qe&6)!==0?Ot(Bo,mS):Fv()})}function Kf(){if($i===0){var t=ks;t===0&&(t=fa,fa<<=1,(fa&261888)===0&&(fa=256)),$i=t}return $i}function Yv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Es(""+t)}function Xv(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function gS(t,a,s,l,d){if(a==="submit"&&s&&s.stateNode===d){var f=Yv((d[Ut]||null).action),v=l.submitter;v&&(a=(a=v[Ut]||null)?Yv(a.formAction):v.getAttribute("formAction"),a!==null&&(f=a,v=null));var T=new xa("action","action",null,l,d);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($i!==0){var I=v?Xv(d,v):new FormData(d);hf(s,{pending:!0,data:I,method:d.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=v?Xv(d,v):new FormData(d),hf(s,{pending:!0,data:I,method:d.method,action:f},f,I))},currentTarget:d}]})}}for(var Qf=0;Qf<Ch.length;Qf++){var Yf=Ch[Qf],yS=Yf.toLowerCase(),vS=Yf[0].toUpperCase()+Yf.slice(1);ra(yS,"on"+vS)}ra(xg,"onAnimationEnd"),ra(wg,"onAnimationIteration"),ra(Cg,"onAnimationStart"),ra("dblclick","onDoubleClick"),ra("focusin","onFocus"),ra("focusout","onBlur"),ra(PT,"onTransitionRun"),ra(VT,"onTransitionStart"),ra(kT,"onTransitionCancel"),ra(Ng,"onTransitionEnd"),Aa("onMouseEnter",["mouseout","mouseover"]),Aa("onMouseLeave",["mouseout","mouseover"]),Aa("onPointerEnter",["pointerout","pointerover"]),Aa("onPointerLeave",["pointerout","pointerover"]),Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_S=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function $v(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],d=l.event;l=l.listeners;e:{var f=void 0;if(a)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,H=T.currentTarget;if(T=T.listener,I!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=H;try{f(d)}catch(J){nu(J)}d.currentTarget=null,f=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,H=T.currentTarget,T=T.listener,I!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=H;try{f(d)}catch(J){nu(J)}d.currentTarget=null,f=I}}}}function Oe(t,a){var s=a[gs];s===void 0&&(s=a[gs]=new Set);var l=t+"__bubble";s.has(l)||(Jv(a,t,2,!1),s.add(l))}function Xf(t,a,s){var l=0;a&&(l|=4),Jv(s,t,l,a)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function $f(t){if(!t[Hu]){t[Hu]=!0,Fo.forEach(function(s){s!=="selectionchange"&&(_S.has(s)||Xf(s,!1,t),Xf(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Hu]||(a[Hu]=!0,Xf("selectionchange",!1,a))}}function Jv(t,a,s,l){switch(x_(a)){case 2:var d=QS;break;case 8:d=YS;break;default:d=dm}s=d.bind(null,a,s,t),d=void 0,!Pr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(a,s,{capture:!0,passive:d}):t.addEventListener(a,s,!0):d!==void 0?t.addEventListener(a,s,{passive:d}):t.addEventListener(a,s,!1)}function Jf(t,a,s,l,d){var f=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===d)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;T!==null;){if(v=_a(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=f=v;continue e}T=T.parentNode}}l=l.return}Mi(function(){var H=f,J=Vn(s),ne=[];e:{var F=Ig.get(t);if(F!==void 0){var Y=xa,he=t;switch(t){case"keypress":if(kr(s)===0)break e;case"keydown":case"keyup":Y=Wc;break;case"focusin":he="focus",Y=jr;break;case"focusout":he="blur",Y=jr;break;case"beforeblur":case"afterblur":Y=jr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case xg:case wg:case Cg:Y=Kc;break;case Ng:Y=S;break;case"scroll":case"scrollend":Y=nl;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=Qc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Ka;break;case"toggle":case"beforetoggle":Y=Ne}var ve=(a&4)!==0,nt=!ve&&(t==="scroll"||t==="scrollend"),j=ve?F!==null?F+"Capture":null:F;ve=[];for(var P=H,z;P!==null;){var Z=P;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||j===null||(Z=ta(P,j),Z!=null&&ve.push(Ol(P,Z,z))),nt)break;P=P.return}0<ve.length&&(F=new Y(F,he,null,s,J),ne.push({event:F,listeners:ve}))}}if((a&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&s!==Wo&&(he=s.relatedTarget||s.fromElement)&&(_a(he)||he[ya]))break e;if((Y||F)&&(F=J.window===J?J:(F=J.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(he=s.relatedTarget||s.toElement,Y=H,he=he?_a(he):null,he!==null&&(nt=c(he),ve=he.tag,he!==nt||ve!==5&&ve!==27&&ve!==6)&&(he=null)):(Y=null,he=H),Y!==he)){if(ve=al,Z="onMouseLeave",j="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Ka,Z="onPointerLeave",j="onPointerEnter",P="pointer"),nt=Y==null?F:En(Y),z=he==null?F:En(he),F=new ve(Z,P+"leave",Y,s,J),F.target=nt,F.relatedTarget=z,Z=null,_a(J)===H&&(ve=new ve(j,P+"enter",he,s,J),ve.target=z,ve.relatedTarget=nt,Z=ve),nt=Z,Y&&he)t:{for(ve=bS,j=Y,P=he,z=0,Z=j;Z;Z=ve(Z))z++;Z=0;for(var pe=P;pe;pe=ve(pe))Z++;for(;0<z-Z;)j=ve(j),z--;for(;0<Z-z;)P=ve(P),Z--;for(;z--;){if(j===P||P!==null&&j===P.alternate){ve=j;break t}j=ve(j),P=ve(P)}ve=null}else ve=null;Y!==null&&Zv(ne,F,Y,ve,!1),he!==null&&nt!==null&&Zv(ne,nt,he,ve,!0)}}e:{if(F=H?En(H):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var Fe=pg;else if(fg(F))if(gg)Fe=MT;else{Fe=NT;var fe=CT}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&bs(H.elementType)&&(Fe=pg):Fe=IT;if(Fe&&(Fe=Fe(t,H))){mg(ne,Fe,s,J);break e}fe&&fe(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&$o(F,"number",F.value)}switch(fe=H?En(H):window,t){case"focusin":(fg(fe)||fe.contentEditable==="true")&&(Cs=fe,Rh=H,ll=null);break;case"focusout":ll=Rh=Cs=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,Sg(ne,s,J);break;case"selectionchange":if(OT)break;case"keydown":case"keyup":Sg(ne,s,J)}var Me;if(Ke)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else ws?Ur(t,s)&&(Ve="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ve="onCompositionStart");Ve&&(Na&&s.locale!=="ko"&&(ws||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&ws&&(Me=tl()):(Ra=J,el="value"in Ra?Ra.value:Ra.textContent,ws=!0)),fe=qu(H,Ve),0<fe.length&&(Ve=new Ca(Ve,t,null,s,J),ne.push({event:Ve,listeners:fe}),Me?Ve.data=Me:(Me=xs(s),Me!==null&&(Ve.data=Me)))),(Me=Ln?ST(t,s):RT(t,s))&&(Ve=qu(H,"onBeforeInput"),0<Ve.length&&(fe=new Ca("onBeforeInput","beforeinput",null,s,J),ne.push({event:fe,listeners:Ve}),fe.data=Me)),gS(ne,t,H,s,J)}$v(ne,a)})}function Ol(t,a,s){return{instance:t,listener:a,currentTarget:s}}function qu(t,a){for(var s=a+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=ta(t,s),d!=null&&l.unshift(Ol(t,d,f)),d=ta(t,a),d!=null&&l.push(Ol(t,d,f))),t.tag===3)return l;t=t.return}return[]}function bS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zv(t,a,s,l,d){for(var f=a._reactName,v=[];s!==null&&s!==l;){var T=s,I=T.alternate,H=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||H===null||(I=H,d?(H=ta(s,f),H!=null&&v.unshift(Ol(s,H,I))):d||(H=ta(s,f),H!=null&&v.push(Ol(s,H,I)))),s=s.return}v.length!==0&&t.push({event:a,listeners:v})}var ES=/\r\n?/g,AS=/\u0000|\uFFFD/g;function Wv(t){return(typeof t=="string"?t:""+t).replace(ES,`
`).replace(AS,"")}function e_(t,a){return a=Wv(a),Wv(t)===a}function tt(t,a,s,l,d,f){switch(s){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&dn(t,""+l);break;case"className":An(t,"class",l);break;case"tabIndex":An(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(t,s,l);break;case"style":Zo(t,l,f);break;case"data":if(a!=="object"){An(t,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Es(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(a!=="input"&&tt(t,a,"name",d.name,d,null),tt(t,a,"formEncType",d.formEncType,d,null),tt(t,a,"formMethod",d.formMethod,d,null),tt(t,a,"formTarget",d.formTarget,d,null)):(tt(t,a,"encType",d.encType,d,null),tt(t,a,"method",d.method,d,null),tt(t,a,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Es(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=ea);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Es(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),vs(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":vs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=qc.get(s)||s,vs(t,s,l))}}function Zf(t,a,s,l,d,f){switch(s){case"style":Zo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Go.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),a=s.slice(2,d?s.length-7:void 0),f=t[Ut]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(a,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,l,d);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):vs(t,s,l)}}}function Yt(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,d=!1,f;for(f in s)if(s.hasOwnProperty(f)){var v=s[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:tt(t,a,f,v,s,null)}}d&&tt(t,a,"srcSet",s.srcSet,s,null),l&&tt(t,a,"src",s.src,s,null);return;case"input":Oe("invalid",t);var T=f=v=d=null,I=null,H=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":d=J;break;case"type":v=J;break;case"checked":I=J;break;case"defaultChecked":H=J;break;case"value":f=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,a));break;default:tt(t,a,l,J,s,null)}}Bc(t,f,T,I,H,v,d,!1);return;case"select":Oe("invalid",t),l=v=f=null;for(d in s)if(s.hasOwnProperty(d)&&(T=s[d],T!=null))switch(d){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:tt(t,a,d,T,s,null)}a=f,s=v,t.multiple=!!l,a!=null?wi(t,!!l,a,!1):s!=null&&wi(t,!!l,s,!0);return;case"textarea":Oe("invalid",t),f=d=l=null;for(v in s)if(s.hasOwnProperty(v)&&(T=s[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":d=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:tt(t,a,v,T,s,null)}Ci(t,l,d,f);return;case"option":for(I in s)s.hasOwnProperty(I)&&(l=s[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":tt(t,a,I,l,s,null));return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Oe(Dl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(l=s[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:tt(t,a,H,l,s,null)}return;default:if(bs(a)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&Zf(t,a,J,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&tt(t,a,T,l,s,null))}function TS(t,a,s,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,T=null,I=null,H=null,J=null;for(Y in s){var ne=s[Y];if(s.hasOwnProperty(Y)&&ne!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=ne;default:l.hasOwnProperty(Y)||tt(t,a,Y,null,l,ne)}}for(var F in l){var Y=l[F];if(ne=s[F],l.hasOwnProperty(F)&&(Y!=null||ne!=null))switch(F){case"type":f=Y;break;case"name":d=Y;break;case"checked":H=Y;break;case"defaultChecked":J=Y;break;case"value":v=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,a));break;default:Y!==ne&&tt(t,a,F,Y,l,ne)}}_s(t,v,T,I,H,J,f,d);return;case"select":Y=v=T=F=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":Y=I;default:l.hasOwnProperty(f)||tt(t,a,f,null,l,I)}for(d in l)if(f=l[d],I=s[d],l.hasOwnProperty(d)&&(f!=null||I!=null))switch(d){case"value":F=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==I&&tt(t,a,d,f,l,I)}a=T,s=v,l=Y,F!=null?wi(t,!!s,F,!1):!!l!=!!s&&(a!=null?wi(t,!!s,a,!0):wi(t,!!s,s?[]:"",!1));return;case"textarea":Y=F=null;for(T in s)if(d=s[T],s.hasOwnProperty(T)&&d!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:tt(t,a,T,null,l,d)}for(v in l)if(d=l[v],f=s[v],l.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":F=d;break;case"defaultValue":Y=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==f&&tt(t,a,v,d,l,f)}zc(t,F,Y);return;case"option":for(var he in s)F=s[he],s.hasOwnProperty(he)&&F!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:tt(t,a,he,null,l,F));for(I in l)F=l[I],Y=s[I],l.hasOwnProperty(I)&&F!==Y&&(F!=null||Y!=null)&&(I==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":tt(t,a,I,F,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in s)F=s[ve],s.hasOwnProperty(ve)&&F!=null&&!l.hasOwnProperty(ve)&&tt(t,a,ve,null,l,F);for(H in l)if(F=l[H],Y=s[H],l.hasOwnProperty(H)&&F!==Y&&(F!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,a));break;default:tt(t,a,H,F,l,Y)}return;default:if(bs(a)){for(var nt in s)F=s[nt],s.hasOwnProperty(nt)&&F!==void 0&&!l.hasOwnProperty(nt)&&Zf(t,a,nt,void 0,l,F);for(J in l)F=l[J],Y=s[J],!l.hasOwnProperty(J)||F===Y||F===void 0&&Y===void 0||Zf(t,a,J,F,l,Y);return}}for(var j in s)F=s[j],s.hasOwnProperty(j)&&F!=null&&!l.hasOwnProperty(j)&&tt(t,a,j,null,l,F);for(ne in l)F=l[ne],Y=s[ne],!l.hasOwnProperty(ne)||F===Y||F==null&&Y==null||tt(t,a,ne,F,l,Y)}function t_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var d=s[l],f=d.transferSize,v=d.initiatorType,T=d.duration;if(f&&T&&t_(v)){for(v=0,T=d.responseEnd,l+=1;l<s.length;l++){var I=s[l],H=I.startTime;if(H>T)break;var J=I.transferSize,ne=I.initiatorType;J&&t_(ne)&&(I=I.responseEnd,v+=J*(I<T?1:(T-H)/(I-H)))}if(--l,a+=8*(f+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Wf=null,em=null;function Fu(t){return t.nodeType===9?t:t.ownerDocument}function n_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function tm(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var nm=null;function RS(){var t=window.event;return t&&t.type==="popstate"?t===nm?!1:(nm=t,!0):(nm=null,!1)}var i_=typeof setTimeout=="function"?setTimeout:void 0,xS=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,wS=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(t){return r_.resolve(null).then(t).catch(CS)}:i_;function CS(t){setTimeout(function(){throw t})}function Ji(t){return t==="head"}function s_(t,a){var s=a,l=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(d),to(a);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Pl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Pl(s);for(var f=s.firstChild;f;){var v=f.nextSibling,T=f.nodeName;f[va]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=v}}else s==="body"&&Pl(t.ownerDocument.body);s=d}while(s);to(a)}function o_(t,a){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function am(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":am(s),ys(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function NS(t,a,s,l){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[va])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function IS(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Fn(t.nextSibling),t===null))return null;return t}function l_(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function im(t){return t.data==="$?"||t.data==="$~"}function rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function MS(t,a){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||s.readyState!=="loading")a();else{var l=function(){a(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var sm=null;function c_(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(a===0)return Fn(t.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}t=t.nextSibling}return null}function u_(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return t;a--}else s!=="/$"&&s!=="/&"||a++}t=t.previousSibling}return null}function d_(t,a,s){switch(a=Fu(s),t){case"html":if(t=a.documentElement,!t)throw Error(r(452));return t;case"head":if(t=a.head,!t)throw Error(r(453));return t;case"body":if(t=a.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Pl(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ys(t)}var Gn=new Map,h_=new Set;function Gu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var oi=oe.d;oe.d={f:DS,r:OS,D:PS,C:VS,L:kS,m:LS,X:US,S:jS,M:BS};function DS(){var t=oi.f(),a=ku();return t||a}function OS(t){var a=Pn(t);a!==null&&a.tag===5&&a.type==="form"?Ny(a):oi.r(t)}var Zs=typeof document>"u"?null:document;function f_(t,a,s){var l=Zs;if(l&&typeof a=="string"&&a){var d=un(a);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),h_.has(d)||(h_.add(d),t={rel:t,crossOrigin:s,href:a},l.querySelector(d)===null&&(a=l.createElement("link"),Yt(a,"link",t),St(a),l.head.appendChild(a)))}}function PS(t){oi.D(t),f_("dns-prefetch",t,null)}function VS(t,a){oi.C(t,a),f_("preconnect",t,a)}function kS(t,a,s){oi.L(t,a,s);var l=Zs;if(l&&t&&a){var d='link[rel="preload"][as="'+un(a)+'"]';a==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+un(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+un(s.imageSizes)+'"]')):d+='[href="'+un(t)+'"]';var f=d;switch(a){case"style":f=Ws(t);break;case"script":f=eo(t)}Gn.has(f)||(t=A({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),Gn.set(f,t),l.querySelector(d)!==null||a==="style"&&l.querySelector(Vl(f))||a==="script"&&l.querySelector(kl(f))||(a=l.createElement("link"),Yt(a,"link",t),St(a),l.head.appendChild(a)))}}function LS(t,a){oi.m(t,a);var s=Zs;if(s&&t){var l=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=eo(t)}if(!Gn.has(f)&&(t=A({rel:"modulepreload",href:t},a),Gn.set(f,t),s.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(kl(f)))return}l=s.createElement("link"),Yt(l,"link",t),St(l),s.head.appendChild(l)}}}function jS(t,a,s){oi.S(t,a,s);var l=Zs;if(l&&t){var d=ba(l).hoistableStyles,f=Ws(t);a=a||"default";var v=d.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Vl(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":a},s),(s=Gn.get(f))&&om(t,s);var I=v=l.createElement("link");St(I),Yt(I,"link",t),I._p=new Promise(function(H,J){I.onload=H,I.onerror=J}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ku(v,a,l)}v={type:"stylesheet",instance:v,count:1,state:T},d.set(f,v)}}}function US(t,a){oi.X(t,a);var s=Zs;if(s&&t){var l=ba(s).hoistableScripts,d=eo(t),f=l.get(d);f||(f=s.querySelector(kl(d)),f||(t=A({src:t,async:!0},a),(a=Gn.get(d))&&lm(t,a),f=s.createElement("script"),St(f),Yt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function BS(t,a){oi.M(t,a);var s=Zs;if(s&&t){var l=ba(s).hoistableScripts,d=eo(t),f=l.get(d);f||(f=s.querySelector(kl(d)),f||(t=A({src:t,async:!0,type:"module"},a),(a=Gn.get(d))&&lm(t,a),f=s.createElement("script"),St(f),Yt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function m_(t,a,s,l){var d=(d=Ce.current)?Gu(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=Ws(s.href),s=ba(d).hoistableStyles,l=s.get(a),l||(l={type:"style",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ws(s.href);var f=ba(d).hoistableStyles,v=f.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=d.querySelector(Vl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Gn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Gn.set(t,s),f||zS(d,t,s,v.state))),a&&l===null)throw Error(r(528,""));return v}if(a&&l!==null)throw Error(r(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=eo(s),s=ba(d).hoistableScripts,l=s.get(a),l||(l={type:"script",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ws(t){return'href="'+un(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function p_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function zS(t,a,s,l){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=t.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),Yt(a,"link",s),St(a),t.head.appendChild(a))}function eo(t){return'[src="'+un(t)+'"]'}function kl(t){return"script[async]"+t}function g_(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var l=t.querySelector('style[data-href~="'+un(s.href)+'"]');if(l)return a.instance=l,St(l),l;var d=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Yt(l,"style",d),Ku(l,s.precedence,t),a.instance=l;case"stylesheet":d=Ws(s.href);var f=t.querySelector(Vl(d));if(f)return a.state.loading|=4,a.instance=f,St(f),f;l=p_(s),(d=Gn.get(d))&&om(l,d),f=(t.ownerDocument||t).createElement("link"),St(f);var v=f;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Yt(f,"link",l),a.state.loading|=4,Ku(f,s.precedence,t),a.instance=f;case"script":return f=eo(s.src),(d=t.querySelector(kl(f)))?(a.instance=d,St(d),d):(l=s,(d=Gn.get(f))&&(l=A({},s),lm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),St(d),Yt(d,"link",l),t.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,Ku(l,s.precedence,t));return a.instance}function Ku(t,a,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===a)f=T;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function om(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function lm(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Qu=null;function y_(t,a,s){if(Qu===null){var l=new Map,d=Qu=new Map;d.set(s,l)}else d=Qu,l=d.get(s),l||(l=new Map,d.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var f=s[d];if(!(f[va]||f[Tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(a)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function v_(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function HS(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(t=a.disabled,typeof a.precedence=="string"&&t==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function __(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function qS(t,a,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Ws(l.href),f=a.querySelector(Vl(d));if(f){a=f._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=Yu.bind(t),a.then(t,t)),s.state.loading|=4,s.instance=f,St(f);return}f=a.ownerDocument||a,l=p_(l),(d=Gn.get(d))&&om(l,d),f=f.createElement("link"),St(f);var v=f;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Yt(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Yu.bind(t),a.addEventListener("load",s),a.addEventListener("error",s))}}var cm=0;function FS(t,a){return t.stylesheets&&t.count===0&&$u(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&$u(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+a);0<t.imgBytes&&cm===0&&(cm=62500*SS());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&$u(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>cm?50:800)+a);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Yu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$u(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xu=null;function $u(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xu=new Map,a.forEach(GS,t),Xu=null,Yu.call(t))}function GS(t,a){if(!(a.state.loading&4)){var s=Xu.get(t);if(s)var l=s.get(null);else{s=new Map,Xu.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}d=a.instance,v=d.getAttribute("data-precedence"),f=s.get(v)||l,f===l&&s.set(null,d),s.set(v,d),this.count++,l=Yu.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),a.state.loading|=4}}var Ll={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function KS(t,a,s,l,d,f,v,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ga(0),this.hiddenUpdates=ga(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function b_(t,a,s,l,d,f,v,T,I,H,J,ne){return t=new KS(t,a,s,v,I,H,J,ne,T),a=1,f===!0&&(a|=24),f=Sn(3,null,null,a),t.current=f,f.stateNode=t,a=zh(),a.refCount++,t.pooledCache=a,a.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:a},Gh(f),t}function E_(t){return t?(t=Ms,t):Ms}function A_(t,a,s,l,d,f){d=E_(d),l.context===null?l.context=d:l.pendingContext=d,l=Bi(a),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=zi(t,l,a),s!==null&&(gn(s,t,a),pl(s,t,a))}function T_(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function um(t,a){T_(t,a),(t=t.alternate)&&T_(t,a)}function S_(t){if(t.tag===13||t.tag===31){var a=Hr(t,67108864);a!==null&&gn(a,t,67108864),um(t,67108864)}}function R_(t){if(t.tag===13||t.tag===31){var a=Nn();a=Ir(a);var s=Hr(t,a);s!==null&&gn(s,t,a),um(t,a)}}var Ju=!0;function QS(t,a,s,l){var d=X.T;X.T=null;var f=oe.p;try{oe.p=2,dm(t,a,s,l)}finally{oe.p=f,X.T=d}}function YS(t,a,s,l){var d=X.T;X.T=null;var f=oe.p;try{oe.p=8,dm(t,a,s,l)}finally{oe.p=f,X.T=d}}function dm(t,a,s,l){if(Ju){var d=hm(l);if(d===null)Jf(t,a,l,Zu,s),w_(t,l);else if($S(d,t,a,s,l))l.stopPropagation();else if(w_(t,l),a&4&&-1<XS.indexOf(t)){for(;d!==null;){var f=Pn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=ma(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-gt(v);T.entanglements[1]|=I,v&=~I}Oa(f),(Qe&6)===0&&(Pu=rn()+500,Ml(0))}}break;case 31:case 13:T=Hr(f,2),T!==null&&gn(T,f,2),ku(),um(f,2)}if(f=hm(l),f===null&&Jf(t,a,l,Zu,s),f===d)break;d=f}d!==null&&l.stopPropagation()}else Jf(t,a,l,null,s)}}function hm(t){return t=Vn(t),fm(t)}var Zu=null;function fm(t){if(Zu=null,t=_a(t),t!==null){var a=c(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=h(a),t!==null)return t;t=null}else if(s===31){if(t=m(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Zu=t,null}function x_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xr()){case Bo:return 2;case zo:return 8;case Ri:case vh:return 32;case Ic:return 268435456;default:return 32}default:return 32}}var mm=!1,Zi=null,Wi=null,er=null,jl=new Map,Ul=new Map,tr=[],XS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(t,a){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":jl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(a.pointerId)}}function Bl(t,a,s,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:a,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},a!==null&&(a=Pn(a),a!==null&&S_(a)),t):(t.eventSystemFlags|=l,a=t.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),t)}function $S(t,a,s,l,d){switch(a){case"focusin":return Zi=Bl(Zi,t,a,s,l,d),!0;case"dragenter":return Wi=Bl(Wi,t,a,s,l,d),!0;case"mouseover":return er=Bl(er,t,a,s,l,d),!0;case"pointerover":var f=d.pointerId;return jl.set(f,Bl(jl.get(f)||null,t,a,s,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Ul.set(f,Bl(Ul.get(f)||null,t,a,s,l,d)),!0}return!1}function C_(t){var a=_a(t.target);if(a!==null){var s=c(a);if(s!==null){if(a=s.tag,a===13){if(a=h(s),a!==null){t.blockedOn=a,Zn(t.priority,function(){R_(s)});return}}else if(a===31){if(a=m(s),a!==null){t.blockedOn=a,Zn(t.priority,function(){R_(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wu(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=hm(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Wo=l,s.target.dispatchEvent(l),Wo=null}else return a=Pn(s),a!==null&&S_(a),t.blockedOn=s,!1;a.shift()}return!0}function N_(t,a,s){Wu(t)&&s.delete(a)}function JS(){mm=!1,Zi!==null&&Wu(Zi)&&(Zi=null),Wi!==null&&Wu(Wi)&&(Wi=null),er!==null&&Wu(er)&&(er=null),jl.forEach(N_),Ul.forEach(N_)}function ed(t,a){t.blockedOn===a&&(t.blockedOn=null,mm||(mm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,JS)))}var td=null;function I_(t){td!==t&&(td=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){td===t&&(td=null);for(var a=0;a<t.length;a+=3){var s=t[a],l=t[a+1],d=t[a+2];if(typeof l!="function"){if(fm(l||s)===null)continue;break}var f=Pn(s);f!==null&&(t.splice(a,3),a-=3,hf(f,{pending:!0,data:d,method:s.method,action:l},l,d))}}))}function to(t){function a(I){return ed(I,t)}Zi!==null&&ed(Zi,t),Wi!==null&&ed(Wi,t),er!==null&&ed(er,t),jl.forEach(a),Ul.forEach(a);for(var s=0;s<tr.length;s++){var l=tr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<tr.length&&(s=tr[0],s.blockedOn===null);)C_(s),s.blockedOn===null&&tr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var d=s[l],f=s[l+1],v=d[Ut]||null;if(typeof f=="function")v||I_(s);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[Ut]||null)T=v.formAction;else if(fm(d)!==null)continue}else T=v.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),I_(s)}}}function M_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function a(){d!==null&&(d(),d=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),d!==null&&(d(),d=null)}}}function pm(t){this._internalRoot=t}nd.prototype.render=pm.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(r(409));var s=a.current,l=Nn();A_(s,l,t,a,null,null)},nd.prototype.unmount=pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;A_(t.current,2,null,t,null,null),ku(),a[ya]=null}};function nd(t){this._internalRoot=t}nd.prototype.unstable_scheduleHydration=function(t){if(t){var a=kc();t={blockedOn:null,target:t,priority:a};for(var s=0;s<tr.length&&a!==0&&a<tr[s].priority;s++);tr.splice(s,0,t),s===0&&C_(t)}};var D_=e.version;if(D_!=="19.2.4")throw Error(r(527,D_,"19.2.4"));oe.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(a),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var ZS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{$n=ad.inject(ZS),qt=ad}catch{}}return Hl.createRoot=function(t,a){if(!o(t))throw Error(r(299));var s=!1,l="",d=Uy,f=By,v=zy;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=b_(t,1,!1,null,null,s,l,null,d,f,v,M_),t[ya]=a.current,$f(t),new pm(a)},Hl.hydrateRoot=function(t,a,s){if(!o(t))throw Error(r(299));var l=!1,d="",f=Uy,v=By,T=zy,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),a=b_(t,1,!0,a,s??null,l,d,I,f,v,T,M_),a.context=E_(null),s=a.current,l=Nn(),l=Ir(l),d=Bi(l),d.callback=null,zi(s,d,l),s=l,a.current.lanes=s,Cr(a,s),Oa(a),t[ya]=a.current,$f(t),new nd(a)},Hl.version="19.2.4",Hl}var H_;function c1(){if(H_)return vm.exports;H_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),vm.exports=l1(),vm.exports}var u1=c1();const d1=xb(u1);var q_="popstate";function h1(i={}){function e(o,c){let{pathname:h="/",search:m="",hash:p=""}=hs(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Lm("",{pathname:h,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof c=="string"?c:ic(c))}function r(o,c){Xn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return m1(e,n,r,i)}function dt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Xn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function f1(){return Math.random().toString(36).substring(2,10)}function F_(i,e){return{usr:i.state,key:i.key,idx:e}}function Lm(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?hs(e):e,state:n,key:e&&e.key||r||f1()}}function ic({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function hs(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function m1(i,e,n,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function A(){m="POP";let G=E(),$=G==null?null:G-g;g=G,p&&p({action:m,location:B.location,delta:$})}function x(G,$){m="PUSH";let W=Lm(B.location,G,$);n&&n(W,G),g=E()+1;let re=F_(W,g),_e=B.createHref(W);try{h.pushState(re,"",_e)}catch(ye){if(ye instanceof DOMException&&ye.name==="DataCloneError")throw ye;o.location.assign(_e)}c&&p&&p({action:m,location:B.location,delta:1})}function k(G,$){m="REPLACE";let W=Lm(B.location,G,$);n&&n(W,G),g=E();let re=F_(W,g),_e=B.createHref(W);h.replaceState(re,"",_e),c&&p&&p({action:m,location:B.location,delta:0})}function q(G){return p1(G)}let B={get action(){return m},get location(){return i(o,h)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(q_,A),p=G,()=>{o.removeEventListener(q_,A),p=null}},createHref(G){return e(o,G)},createURL:q,encodeLocation(G){let $=q(G);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:x,replace:k,go(G){return h.go(G)}};return B}function p1(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:ic(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function wb(i,e,n="/"){return g1(i,e,n,!1)}function g1(i,e,n,r){let o=typeof e=="string"?hs(e):e,c=pi(o.pathname||"/",n);if(c==null)return null;let h=Cb(i);y1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=C1(c);m=x1(h[p],g,r)}return m}function Cb(i,e=[],n=[],r="",o=!1){let c=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(r)&&p)return;dt(E.relativePath.startsWith(r),`Absolute route path "${E.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(r.length)}let A=hi([r,E.relativePath]),x=n.concat(E);h.children&&h.children.length>0&&(dt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),Cb(h.children,e,x,A,p)),!(h.path==null&&!h.index)&&e.push({path:A,score:S1(A,h.index),routesMeta:x})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))c(h,m);else for(let p of Nb(h.path))c(h,m,!0,p)}),e}function Nb(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let h=Nb(r.join("/")),m=[];return m.push(...h.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function y1(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:R1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var v1=/^:[\w-]+$/,_1=3,b1=2,E1=1,A1=10,T1=-2,G_=i=>i==="*";function S1(i,e){let n=i.split("/"),r=n.length;return n.some(G_)&&(r+=T1),e&&(r+=b1),n.filter(o=>!G_(o)).reduce((o,c)=>o+(v1.test(c)?_1:c===""?E1:A1),r)}function R1(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function x1(i,e,n=!1){let{routesMeta:r}=i,o={},c="/",h=[];for(let m=0;m<r.length;++m){let p=r[m],g=m===r.length-1,E=c==="/"?e:e.slice(c.length)||"/",A=Td({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),x=p.route;if(!A&&g&&n&&!r[r.length-1].route.index&&(A=Td({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),h.push({params:o,pathname:hi([c,A.pathname]),pathnameBase:D1(hi([c,A.pathnameBase])),route:x}),A.pathnameBase!=="/"&&(c=hi([c,A.pathnameBase]))}return h}function Td(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=w1(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((g,{paramName:E,isOptional:A},x)=>{if(E==="*"){let q=m[x]||"";h=c.slice(0,c.length-q.length).replace(/(.)\/+$/,"$1")}const k=m[x];return A&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:h,pattern:i}}function w1(i,e=!1,n=!0){Xn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function C1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function pi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}var N1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function I1(i,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof i=="string"?hs(i):i,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=K_(n.substring(1),"/"):c=K_(n,e)):c=e,{pathname:c,search:O1(r),hash:P1(o)}}function K_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Am(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M1(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hp(i){let e=M1(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function fp(i,e,n,r=!1){let o;typeof i=="string"?o=hs(i):(o={...i},dt(!o.pathname||!o.pathname.includes("?"),Am("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),Am("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),Am("#","search","hash",o)));let c=i===""||o.pathname==="",h=c?"/":o.pathname,m;if(h==null)m=n;else{let A=e.length-1;if(!r&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),A-=1;o.pathname=x.join("/")}m=A>=0?e[A]:"/"}let p=I1(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(c||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var hi=i=>i.join("/").replace(/\/\/+/g,"/"),D1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),O1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,P1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,V1=class{constructor(i,e,n,r=!1){this.status=i,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function k1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function L1(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ib=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Mb(i,e){let n=i;if(typeof n!="string"||!N1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(Ib)try{let c=new URL(window.location.href),h=n.startsWith("//")?new URL(c.protocol+n):new URL(n),m=pi(h.pathname,e);h.origin===c.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Xn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Db=["POST","PUT","PATCH","DELETE"];new Set(Db);var j1=["GET",...Db];new Set(j1);var wo=L.createContext(null);wo.displayName="DataRouter";var Gd=L.createContext(null);Gd.displayName="DataRouterState";var U1=L.createContext(!1),Ob=L.createContext({isTransitioning:!1});Ob.displayName="ViewTransition";var B1=L.createContext(new Map);B1.displayName="Fetchers";var z1=L.createContext(null);z1.displayName="Await";var Dn=L.createContext(null);Dn.displayName="Navigation";var pc=L.createContext(null);pc.displayName="Location";var za=L.createContext({outlet:null,matches:[],isDataRoute:!1});za.displayName="Route";var mp=L.createContext(null);mp.displayName="RouteError";var Pb="REACT_ROUTER_ERROR",H1="REDIRECT",q1="ROUTE_ERROR_RESPONSE";function F1(i){if(i.startsWith(`${Pb}:${H1}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function G1(i){if(i.startsWith(`${Pb}:${q1}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new V1(e.status,e.statusText,e.data)}catch{}}function K1(i,{relative:e}={}){dt(Co(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(Dn),{hash:o,pathname:c,search:h}=gc(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:hi([n,c])),r.createHref({pathname:m,search:h,hash:o})}function Co(){return L.useContext(pc)!=null}function br(){return dt(Co(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(pc).location}var Vb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kb(i){L.useContext(Dn).static||L.useLayoutEffect(i)}function No(){let{isDataRoute:i}=L.useContext(za);return i?rR():Q1()}function Q1(){dt(Co(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(wo),{basename:e,navigator:n}=L.useContext(Dn),{matches:r}=L.useContext(za),{pathname:o}=br(),c=JSON.stringify(hp(r)),h=L.useRef(!1);return kb(()=>{h.current=!0}),L.useCallback((p,g={})=>{if(Xn(h.current,Vb),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=fp(p,JSON.parse(c),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:hi([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,c,o,i])}L.createContext(null);function gc(i,{relative:e}={}){let{matches:n}=L.useContext(za),{pathname:r}=br(),o=JSON.stringify(hp(n));return L.useMemo(()=>fp(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function Y1(i,e){return Lb(i,e)}function Lb(i,e,n,r,o){dt(Co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=L.useContext(Dn),{matches:h}=L.useContext(za),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let W=A&&A.path||"";Ub(g,!A||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let x=br(),k;if(e){let W=typeof e=="string"?hs(e):e;dt(E==="/"||W.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${W.pathname}" was given in the \`location\` prop.`),k=W}else k=x;let q=k.pathname||"/",B=q;if(E!=="/"){let W=E.replace(/^\//,"").split("/");B="/"+q.replace(/^\//,"").split("/").slice(W.length).join("/")}let G=wb(i,{pathname:B});Xn(A||G!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Xn(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=W1(G&&G.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:hi([E,c.encodeLocation?c.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?E:hi([E,c.encodeLocation?c.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),h,n,r,o);return e&&$?L.createElement(pc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},$):$}function X1(){let i=iR(),e=k1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:c},"ErrorBoundary")," or"," ",L.createElement("code",{style:c},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,h)}var $1=L.createElement(X1,null),jb=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=G1(i.digest);n&&(i=n)}let e=i!==void 0?L.createElement(za.Provider,{value:this.props.routeContext},L.createElement(mp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?L.createElement(J1,{error:i},e):e}};jb.contextType=U1;var Tm=new WeakMap;function J1({children:i,error:e}){let{basename:n}=L.useContext(Dn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=F1(e.digest);if(r){let o=Tm.get(e);if(o)throw o;let c=Mb(r.location,n);if(Ib&&!Tm.get(e))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw Tm.set(e,h),h}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return i}function Z1({routeContext:i,match:e,children:n}){let r=L.useContext(wo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(za.Provider,{value:i},n)}function W1(i,e=[],n=null,r=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,h=n?.errors;if(h!=null){let E=c.findIndex(A=>A.route.id&&h?.[A.route.id]!==void 0);dt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<c.length;E++){let A=c[E];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(p=E),A.route.id){let{loaderData:x,errors:k}=n,q=A.route.loader&&!x.hasOwnProperty(A.route.id)&&(!k||k[A.route.id]===void 0);if(A.route.lazy||q){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let g=n&&r?(E,A)=>{r(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:L1(n.matches),errorInfo:A})}:void 0;return c.reduceRight((E,A,x)=>{let k,q=!1,B=null,G=null;n&&(k=h&&A.route.id?h[A.route.id]:void 0,B=A.route.errorElement||$1,m&&(p<0&&x===0?(Ub("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,G=null):p===x&&(q=!0,G=A.route.hydrateFallbackElement||null)));let $=e.concat(c.slice(0,x+1)),W=()=>{let re;return k?re=B:q?re=G:A.route.Component?re=L.createElement(A.route.Component,null):A.route.element?re=A.route.element:re=E,L.createElement(Z1,{match:A,routeContext:{outlet:E,matches:$,isDataRoute:n!=null},children:re})};return n&&(A.route.ErrorBoundary||A.route.errorElement||x===0)?L.createElement(jb,{location:n.location,revalidation:n.revalidation,component:B,error:k,children:W(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:g}):W()},null)}function pp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eR(i){let e=L.useContext(wo);return dt(e,pp(i)),e}function tR(i){let e=L.useContext(Gd);return dt(e,pp(i)),e}function nR(i){let e=L.useContext(za);return dt(e,pp(i)),e}function gp(i){let e=nR(i),n=e.matches[e.matches.length-1];return dt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function aR(){return gp("useRouteId")}function iR(){let i=L.useContext(mp),e=tR("useRouteError"),n=gp("useRouteError");return i!==void 0?i:e.errors?.[n]}function rR(){let{router:i}=eR("useNavigate"),e=gp("useNavigate"),n=L.useRef(!1);return kb(()=>{n.current=!0}),L.useCallback(async(o,c={})=>{Xn(n.current,Vb),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var Q_={};function Ub(i,e,n){!e&&!Q_[i]&&(Q_[i]=!0,Xn(!1,n))}L.memo(sR);function sR({routes:i,future:e,state:n,onError:r}){return Lb(i,void 0,n,r,e)}function Bb({to:i,replace:e,state:n,relative:r}){dt(Co(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(Dn);Xn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=L.useContext(za),{pathname:h}=br(),m=No(),p=fp(i,hp(c),h,r==="path"),g=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:r})},[m,g,r,e,n]),null}function li(i){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oR({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:c=!1,unstable_useTransitions:h}){dt(!Co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:h,future:{}}),[m,o,c,h]);typeof n=="string"&&(n=hs(n));let{pathname:g="/",search:E="",hash:A="",state:x=null,key:k="default"}=n,q=L.useMemo(()=>{let B=pi(g,m);return B==null?null:{location:{pathname:B,search:E,hash:A,state:x,key:k},navigationType:r}},[m,g,E,A,x,k,r]);return Xn(q!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${A}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:L.createElement(Dn.Provider,{value:p},L.createElement(pc.Provider,{children:e,value:q}))}function lR({children:i,location:e}){return Y1(jm(i),e)}function jm(i,e=[]){let n=[];return L.Children.forEach(i,(r,o)=>{if(!L.isValidElement(r))return;let c=[...e,o];if(r.type===L.Fragment){n.push.apply(n,jm(r.props.children,c));return}dt(r.type===li,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=jm(r.props.children,c)),n.push(h)}),n}var dd="get",hd="application/x-www-form-urlencoded";function Kd(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function cR(i){return Kd(i)&&i.tagName.toLowerCase()==="button"}function uR(i){return Kd(i)&&i.tagName.toLowerCase()==="form"}function dR(i){return Kd(i)&&i.tagName.toLowerCase()==="input"}function hR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function fR(i,e){return i.button===0&&(!e||e==="_self")&&!hR(i)}var id=null;function mR(){if(id===null)try{new FormData(document.createElement("form"),0),id=!1}catch{id=!0}return id}var pR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sm(i){return i!=null&&!pR.has(i)?(Xn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hd}"`),null):i}function gR(i,e){let n,r,o,c,h;if(uR(i)){let m=i.getAttribute("action");r=m?pi(m,e):null,n=i.getAttribute("method")||dd,o=Sm(i.getAttribute("enctype"))||hd,c=new FormData(i)}else if(cR(i)||dR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(r=p?pi(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||dd,o=Sm(i.getAttribute("formenctype"))||Sm(m.getAttribute("enctype"))||hd,c=new FormData(m,i),!mR()){let{name:g,type:E,value:A}=i;if(E==="image"){let x=g?`${g}.`:"";c.append(`${x}x`,"0"),c.append(`${x}y`,"0")}else g&&c.append(g,A)}}else{if(Kd(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dd,r=null,o=hd,h=i}return c&&o==="text/plain"&&(h=c,c=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function yR(i,e,n,r){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&pi(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function vR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _R(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function bR(i,e,n){let r=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await vR(c,n);return h.links?h.links():[]}return[]}));return SR(r.flat(1).filter(_R).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Y_(i,e,n,r,o,c){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):c==="data"?e.filter((p,g)=>{let E=r.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function ER(i,e,{includeHydrateFallback:n}={}){return AR(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function AR(i){return[...new Set(i)]}function TR(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function SR(i,e){let n=new Set;return new Set(e),i.reduce((r,o)=>{let c=JSON.stringify(TR(o));return n.has(c)||(n.add(c),r.push({key:c,link:o})),r},[])}function zb(){let i=L.useContext(wo);return yp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function RR(){let i=L.useContext(Gd);return yp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var vp=L.createContext(void 0);vp.displayName="FrameworkContext";function Hb(){let i=L.useContext(vp);return yp(i,"You must render this element inside a <HydratedRouter> element"),i}function xR(i,e){let n=L.useContext(vp),[r,o]=L.useState(!1),[c,h]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,x=L.useRef(null);L.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let B=$=>{$.forEach(W=>{h(W.isIntersecting)})},G=new IntersectionObserver(B,{threshold:.5});return x.current&&G.observe(x.current),()=>{G.disconnect()}}},[i]),L.useEffect(()=>{if(r){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[r]);let k=()=>{o(!0)},q=()=>{o(!1),h(!1)};return n?i!=="intent"?[c,x,{}]:[c,x,{onFocus:ql(m,k),onBlur:ql(p,q),onMouseEnter:ql(g,k),onMouseLeave:ql(E,q),onTouchStart:ql(A,k)}]:[!1,x,{}]}function ql(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function wR({page:i,...e}){let{router:n}=zb(),r=L.useMemo(()=>wb(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?L.createElement(NR,{page:i,matches:r,...e}):null}function CR(i){let{manifest:e,routeModules:n}=Hb(),[r,o]=L.useState([]);return L.useEffect(()=>{let c=!1;return bR(i,e,n).then(h=>{c||o(h)}),()=>{c=!0}},[i,e,n]),r}function NR({page:i,matches:e,...n}){let r=br(),{future:o,manifest:c,routeModules:h}=Hb(),{basename:m}=zb(),{loaderData:p,matches:g}=RR(),E=L.useMemo(()=>Y_(i,e,g,c,r,"data"),[i,e,g,c,r]),A=L.useMemo(()=>Y_(i,e,g,c,r,"assets"),[i,e,g,c,r]),x=L.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let B=new Set,G=!1;if(e.forEach(W=>{let re=c.routes[W.route.id];!re||!re.hasLoader||(!E.some(_e=>_e.route.id===W.route.id)&&W.route.id in p&&h[W.route.id]?.shouldRevalidate||re.hasClientLoader?G=!0:B.add(W.route.id))}),B.size===0)return[];let $=yR(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return G&&B.size>0&&$.searchParams.set("_routes",e.filter(W=>B.has(W.route.id)).map(W=>W.route.id).join(",")),[$.pathname+$.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,r,c,E,e,i,h]),k=L.useMemo(()=>ER(A,c),[A,c]),q=CR(A);return L.createElement(L.Fragment,null,x.map(B=>L.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),k.map(B=>L.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),q.map(({key:B,link:G})=>L.createElement("link",{key:B,nonce:n.nonce,...G,crossOrigin:G.crossOrigin??n.crossOrigin})))}function IR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var MR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MR&&(window.__reactRouterVersion="7.13.0")}catch{}function DR({basename:i,children:e,unstable_useTransitions:n,window:r}){let o=L.useRef();o.current==null&&(o.current=h1({window:r,v5Compat:!0}));let c=o.current,[h,m]=L.useState({action:c.action,location:c.location}),p=L.useCallback(g=>{n===!1?m(g):L.startTransition(()=>m(g))},[n]);return L.useLayoutEffect(()=>c.listen(p),[c,p]),L.createElement(oR,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:n})}var qb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fb=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:c,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:x,...k},q){let{basename:B,unstable_useTransitions:G}=L.useContext(Dn),$=typeof g=="string"&&qb.test(g),W=Mb(g,B);g=W.to;let re=K1(g,{relative:o}),[_e,ye,ie]=xR(r,k),N=kR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A,unstable_defaultShouldRevalidate:x,unstable_useTransitions:G});function w(M){e&&e(M),M.defaultPrevented||N(M)}let R=L.createElement("a",{...k,...ie,href:W.absoluteURL||re,onClick:W.isExternal||c?e:w,ref:IR(q,ye),target:p,"data-discover":!$&&n==="render"?"true":void 0});return _e&&!$?L.createElement(L.Fragment,null,R,L.createElement(wR,{page:re})):R});Fb.displayName="Link";var OR=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:c,to:h,viewTransition:m,children:p,...g},E){let A=gc(h,{relative:g.relative}),x=br(),k=L.useContext(Gd),{navigator:q,basename:B}=L.useContext(Dn),G=k!=null&&zR(A)&&m===!0,$=q.encodeLocation?q.encodeLocation(A).pathname:A.pathname,W=x.pathname,re=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(W=W.toLowerCase(),re=re?re.toLowerCase():null,$=$.toLowerCase()),re&&B&&(re=pi(re,B)||re);const _e=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ye=W===$||!o&&W.startsWith($)&&W.charAt(_e)==="/",ie=re!=null&&(re===$||!o&&re.startsWith($)&&re.charAt($.length)==="/"),N={isActive:ye,isPending:ie,isTransitioning:G},w=ye?e:void 0,R;typeof r=="function"?R=r(N):R=[r,ye?"active":null,ie?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(N):c;return L.createElement(Fb,{...g,"aria-current":w,className:R,ref:E,style:M,to:h,viewTransition:m},typeof p=="function"?p(N):p)});OR.displayName="NavLink";var PR=L.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:c,method:h=dd,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:x,...k},q)=>{let{unstable_useTransitions:B}=L.useContext(Dn),G=UR(),$=BR(m,{relative:g}),W=h.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&qb.test(m),_e=ye=>{if(p&&p(ye),ye.defaultPrevented)return;ye.preventDefault();let ie=ye.nativeEvent.submitter,N=ie?.getAttribute("formmethod")||h,w=()=>G(ie||ye.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:c,relative:g,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:x});B&&n!==!1?L.startTransition(()=>w()):w()};return L.createElement("form",{ref:q,method:W,action:$,onSubmit:r?p:_e,...k,"data-discover":!re&&i==="render"?"true":void 0})});PR.displayName="Form";function VR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gb(i){let e=L.useContext(wo);return dt(e,VR(i)),e}function kR(i,{target:e,replace:n,state:r,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=No(),E=br(),A=gc(i,{relative:c});return L.useCallback(x=>{if(fR(x,e)){x.preventDefault();let k=n!==void 0?n:ic(E)===ic(A),q=()=>g(i,{replace:k,state:r,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:m});p?L.startTransition(()=>q()):q()}},[E,g,A,n,r,e,i,o,c,h,m,p])}var LR=0,jR=()=>`__${String(++LR)}__`;function UR(){let{router:i}=Gb("useSubmit"),{basename:e}=L.useContext(Dn),n=aR(),r=i.fetch,o=i.navigate;return L.useCallback(async(c,h={})=>{let{action:m,method:p,encType:g,formData:E,body:A}=gR(c,e);if(h.navigate===!1){let x=h.fetcherKey||jR();await r(x,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:A,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:A,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[r,o,e,n])}function BR(i,{relative:e}={}){let{basename:n}=L.useContext(Dn),r=L.useContext(za);dt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...gc(i||".",{relative:e})},h=br();if(i==null){c.search=h.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();c.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:hi([n,c.pathname])),ic(c)}function zR(i,{relative:e}={}){let n=L.useContext(Ob);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Gb("useViewTransitionState"),o=gc(i,{relative:e});if(!n.isTransitioning)return!1;let c=pi(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=pi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Td(o.pathname,h)!=null||Td(o.pathname,c)!=null}const HR=()=>{};var X_={};const Kb=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},qR=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const c=i[n++],h=i[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},Qb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const c=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=c>>2,A=(c&3)<<4|m>>4;let x=(m&15)<<2|g>>6,k=g&63;p||(k=64,h||(x=64)),r.push(n[E],n[A],n[x],n[k])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Kb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):qR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const A=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||m==null||g==null||A==null)throw new FR;const x=c<<2|m>>4;if(r.push(x),g!==64){const k=m<<4&240|g>>2;if(r.push(k),A!==64){const q=g<<6&192|A;r.push(q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class FR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GR=function(i){const e=Kb(i);return Qb.encodeByteArray(e,!0)},Sd=function(i){return GR(i).replace(/\./g,"")},Yb=function(i){try{return Qb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function KR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const QR=()=>KR().__FIREBASE_DEFAULTS__,YR=()=>{if(typeof process>"u"||typeof X_>"u")return;const i=X_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},XR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Yb(i[1]);return e&&JSON.parse(e)},Qd=()=>{try{return HR()||QR()||YR()||XR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Xb=i=>Qd()?.emulatorHosts?.[i],$R=i=>{const e=Xb(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$b=()=>Qd()?.config,Jb=i=>Qd()?.[`_${i}`];class JR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Io(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zb(i){return(await fetch(i,{credentials:"include"})).ok}function ZR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Sd(JSON.stringify(n)),Sd(JSON.stringify(h)),""].join(".")}const Zl={};function WR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?i.emulator.push(e):i.prod.push(e);return i}function ex(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let $_=!1;function Wb(i,e){if(typeof window>"u"||typeof document>"u"||!Io(window.location.host)||Zl[i]===e||Zl[i]||$_)return;Zl[i]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",c=WR().prod.length>0;function h(){const x=document.getElementById(r);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,k){x.setAttribute("width","24"),x.setAttribute("id",k),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{$_=!0,h()},x}function E(x,k){x.setAttribute("id",k),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=ex(r),k=n("text"),q=document.getElementById(k)||document.createElement("span"),B=n("learnmore"),G=document.getElementById(B)||document.createElement("a"),$=n("preprendIcon"),W=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const re=x.element;m(re),E(G,B);const _e=g();p(W,$),re.append(W,q,G,_e),document.body.appendChild(re)}c?(q.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function nx(){const i=Qd()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ax(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ix(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function rx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sx(){const i=an();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function ox(){return!nx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lx(){try{return typeof indexedDB=="object"}catch{return!1}}function cx(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const ux="FirebaseError";class Ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ux,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?dx(c,r):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Ei(o,m,r)}}function dx(i,e){return i.replace(hx,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const hx=/\{\$([^}]+)}/g;function fx(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function rs(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=i[o],h=e[o];if(J_(c)&&J_(h)){if(!rs(c,h))return!1}else if(c!==h)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function J_(i){return i!==null&&typeof i=="object"}function vc(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Kl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function mx(i,e){const n=new px(i,e);return n.subscribe.bind(n)}class px{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Rm),o.error===void 0&&(o.error=Rm),o.complete===void 0&&(o.complete=Rm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gx(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Rm(){}function Lt(i){return i&&i._delegate?i._delegate:i}class ss{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ts="[DEFAULT]";class yx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new JR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_x(e))try{this.getOrInitializeService({instanceIdentifier:ts})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ts){return this.instances.has(e)}getOptions(e=ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&h.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ts){return this.component?this.component.multipleInstances?e:ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vx(i){return i===ts?void 0:i}function _x(i){return i.instantiationMode==="EAGER"}class bx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const Ex={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},Ax=ke.INFO,Tx={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},Sx=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=Tx[e];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _p{constructor(e){this.name=e,this._logLevel=Ax,this._logHandler=Sx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ex[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const Rx=(i,e)=>e.some(n=>i instanceof n);let Z_,W_;function xx(){return Z_||(Z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wx(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eE=new WeakMap,Um=new WeakMap,tE=new WeakMap,xm=new WeakMap,bp=new WeakMap;function Cx(i){const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{n(cr(i.result)),o()},h=()=>{r(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&eE.set(n,i)}).catch(()=>{}),bp.set(e,i),e}function Nx(i){if(Um.has(i))return;const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});Um.set(i,e)}let Bm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Um.get(i);if(e==="objectStoreNames")return i.objectStoreNames||tE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Ix(i){Bm=i(Bm)}function Mx(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(wm(this),e,...n);return tE.set(r,e.sort?e.sort():[e]),cr(r)}:wx().includes(i)?function(...e){return i.apply(wm(this),e),cr(eE.get(this))}:function(...e){return cr(i.apply(wm(this),e))}}function Dx(i){return typeof i=="function"?Mx(i):(i instanceof IDBTransaction&&Nx(i),Rx(i,xx())?new Proxy(i,Bm):i)}function cr(i){if(i instanceof IDBRequest)return Cx(i);if(xm.has(i))return xm.get(i);const e=Dx(i);return e!==i&&(xm.set(i,e),bp.set(e,i)),e}const wm=i=>bp.get(i);function Ox(i,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const h=indexedDB.open(i,e),m=cr(h);return r&&h.addEventListener("upgradeneeded",p=>{r(cr(h.result),p.oldVersion,p.newVersion,cr(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Px=["get","getKey","getAll","getAllKeys","count"],Vx=["put","add","delete","clear"],Cm=new Map;function e0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=Vx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Px.includes(n)))return;const c=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Cm.set(e,c),c}Ix(i=>({...i,get:(e,n,r)=>e0(e,n)||i.get(e,n,r),has:(e,n)=>!!e0(e,n)||i.has(e,n)}));class kx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Lx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Lx(i){return i.getComponent()?.type==="VERSION"}const zm="@firebase/app",t0="0.14.7";const gi=new _p("@firebase/app"),jx="@firebase/app-compat",Ux="@firebase/analytics-compat",Bx="@firebase/analytics",zx="@firebase/app-check-compat",Hx="@firebase/app-check",qx="@firebase/auth",Fx="@firebase/auth-compat",Gx="@firebase/database",Kx="@firebase/data-connect",Qx="@firebase/database-compat",Yx="@firebase/functions",Xx="@firebase/functions-compat",$x="@firebase/installations",Jx="@firebase/installations-compat",Zx="@firebase/messaging",Wx="@firebase/messaging-compat",ew="@firebase/performance",tw="@firebase/performance-compat",nw="@firebase/remote-config",aw="@firebase/remote-config-compat",iw="@firebase/storage",rw="@firebase/storage-compat",sw="@firebase/firestore",ow="@firebase/ai",lw="@firebase/firestore-compat",cw="firebase",uw="12.8.0";const Hm="[DEFAULT]",dw={[zm]:"fire-core",[jx]:"fire-core-compat",[Bx]:"fire-analytics",[Ux]:"fire-analytics-compat",[Hx]:"fire-app-check",[zx]:"fire-app-check-compat",[qx]:"fire-auth",[Fx]:"fire-auth-compat",[Gx]:"fire-rtdb",[Kx]:"fire-data-connect",[Qx]:"fire-rtdb-compat",[Yx]:"fire-fn",[Xx]:"fire-fn-compat",[$x]:"fire-iid",[Jx]:"fire-iid-compat",[Zx]:"fire-fcm",[Wx]:"fire-fcm-compat",[ew]:"fire-perf",[tw]:"fire-perf-compat",[nw]:"fire-rc",[aw]:"fire-rc-compat",[iw]:"fire-gcs",[rw]:"fire-gcs-compat",[sw]:"fire-fst",[lw]:"fire-fst-compat",[ow]:"fire-vertex","fire-js":"fire-js",[cw]:"fire-js-all"};const Rd=new Map,hw=new Map,qm=new Map;function n0(i,e){try{i.container.addComponent(e)}catch(n){gi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function vo(i){const e=i.name;if(qm.has(e))return gi.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,i);for(const n of Rd.values())n0(n,i);for(const n of hw.values())n0(n,i);return!0}function Ep(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Kn(i){return i==null?!1:i.settings!==void 0}const fw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new yc("app","Firebase",fw);class mw{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const Mo=uw;function nE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:Hm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ur.create("bad-app-name",{appName:String(o)});if(n||(n=$b()),!n)throw ur.create("no-options");const c=Rd.get(o);if(c){if(rs(n,c.options)&&rs(r,c.config))return c;throw ur.create("duplicate-app",{appName:o})}const h=new bx(o);for(const p of qm.values())h.addComponent(p);const m=new mw(n,r,h);return Rd.set(o,m),m}function aE(i=Hm){const e=Rd.get(i);if(!e&&i===Hm&&$b())return nE();if(!e)throw ur.create("no-app",{appName:i});return e}function dr(i,e,n){let r=dw[i]??i;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gi.warn(h.join(" "));return}vo(new ss(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const pw="firebase-heartbeat-database",gw=1,rc="firebase-heartbeat-store";let Nm=null;function iE(){return Nm||(Nm=Ox(pw,gw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(rc)}catch(n){console.warn(n)}}}}).catch(i=>{throw ur.create("idb-open",{originalErrorMessage:i.message})})),Nm}async function yw(i){try{const n=(await iE()).transaction(rc),r=await n.objectStore(rc).get(rE(i));return await n.done,r}catch(e){if(e instanceof Ei)gi.warn(e.message);else{const n=ur.create("idb-get",{originalErrorMessage:e?.message});gi.warn(n.message)}}}async function a0(i,e){try{const r=(await iE()).transaction(rc,"readwrite");await r.objectStore(rc).put(e,rE(i)),await r.done}catch(n){if(n instanceof Ei)gi.warn(n.message);else{const r=ur.create("idb-set",{originalErrorMessage:n?.message});gi.warn(r.message)}}}function rE(i){return`${i.name}!${i.options.appId}`}const vw=1024,_w=30;class bw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Aw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=i0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>_w){const o=Tw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=i0(),{heartbeatsToSend:n,unsentEntries:r}=Ew(this._heartbeatsCache.heartbeats),o=Sd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return gi.warn(e),""}}}function i0(){return new Date().toISOString().substring(0,10)}function Ew(i,e=vw){const n=[];let r=i.slice();for(const o of i){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),r0(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),r0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Aw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lx()?cx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return a0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return a0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function r0(i){return Sd(JSON.stringify({version:2,heartbeats:i})).length}function Tw(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}function Sw(i){vo(new ss("platform-logger",e=>new kx(e),"PRIVATE")),vo(new ss("heartbeat",e=>new bw(e),"PRIVATE")),dr(zm,t0,i),dr(zm,t0,"esm2020"),dr("fire-js","")}Sw("");var Rw="firebase",xw="12.8.0";dr(Rw,xw,"app");function sE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ww=sE,oE=new yc("auth","Firebase",sE());const xd=new _p("@firebase/auth");function Cw(i,...e){xd.logLevel<=ke.WARN&&xd.warn(`Auth (${Mo}): ${i}`,...e)}function fd(i,...e){xd.logLevel<=ke.ERROR&&xd.error(`Auth (${Mo}): ${i}`,...e)}function ua(i,...e){throw Ap(i,...e)}function Va(i,...e){return Ap(i,...e)}function lE(i,e,n){const r={...ww(),[e]:n};return new yc("auth","Firebase",r).create(e,{appName:i.name})}function fi(i){return lE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ap(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return oE.create(i,...e)}function Ee(i,e,...n){if(!i)throw Ap(e,...n)}function ci(i){const e="INTERNAL ASSERTION FAILED: "+i;throw fd(e),new Error(e)}function yi(i,e){i||ci(e)}function Fm(){return typeof self<"u"&&self.location?.href||""}function Nw(){return s0()==="http:"||s0()==="https:"}function s0(){return typeof self<"u"&&self.location?.protocol||null}function Iw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Nw()||ix()||"connection"in navigator)?navigator.onLine:!0}function Mw(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class _c{constructor(e,n){this.shortDelay=e,this.longDelay=n,yi(n>e,"Short delay should be less than long delay!"),this.isMobile=tx()||rx()}get(){return Iw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tp(i,e){yi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class cE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Ow=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Pw=new _c(3e4,6e4);function Ai(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ha(i,e,n,r,o={}){return uE(i,o,async()=>{let c={},h={};r&&(e==="GET"?h=r:c={body:JSON.stringify(r)});const m=vc({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...c};return ax()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Io(i.emulatorConfig.host)&&(g.credentials="include"),cE.fetch()(await dE(i,i.config.apiHost,n,m),g)})}async function uE(i,e,n){i._canInitEmulator=!1;const r={...Dw,...e};try{const o=new kw(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw rd(i,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rd(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw rd(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw rd(i,"user-disabled",h);const E=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw lE(i,E,g);ua(i,E)}}catch(o){if(o instanceof Ei)throw o;ua(i,"network-request-failed",{message:String(o)})}}async function bc(i,e,n,r,o={}){const c=await Ha(i,e,n,r,o);return"mfaPendingCredential"in c&&ua(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function dE(i,e,n,r){const o=`${e}${n}?${r}`,c=i,h=c.config.emulator?Tp(i.config,o):`${i.config.apiScheme}://${o}`;return Ow.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function Vw(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Va(this.auth,"network-request-failed")),Pw.get())})}}function rd(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Va(i,e,r);return o.customData._tokenResponse=n,o}function o0(i){return i!==void 0&&i.enterprise!==void 0}class Lw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Vw(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jw(i,e){return Ha(i,"GET","/v2/recaptchaConfig",Ai(i,e))}async function Uw(i,e){return Ha(i,"POST","/v1/accounts:delete",e)}async function wd(i,e){return Ha(i,"POST","/v1/accounts:lookup",e)}function Wl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bw(i,e=!1){const n=Lt(i),r=await n.getIdToken(e),o=Sp(r);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:r,authTime:Wl(Im(o.auth_time)),issuedAtTime:Wl(Im(o.iat)),expirationTime:Wl(Im(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Im(i){return Number(i)*1e3}function Sp(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return fd("JWT malformed, contained fewer than 3 sections"),null;try{const o=Yb(n);return o?JSON.parse(o):(fd("Failed to decode base64 JWT payload"),null)}catch(o){return fd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function l0(i){const e=Sp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _o(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ei&&zw(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function zw({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class Hw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Cd(i){const e=i.auth,n=await i.getIdToken(),r=await _o(i,wd(e,{idToken:n}));Ee(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?hE(o.providerUserInfo):[],h=Fw(i.providerData,c),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function qw(i){const e=Lt(i);await Cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fw(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function hE(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Gw(i,e){const n=await uE(i,{},async()=>{const r=vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,h=await dE(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return i.emulatorConfig&&Io(i.emulatorConfig.host)&&(p.credentials="include"),cE.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Kw(i,e){return Ha(i,"POST","/v2/accounts:revokeToken",Ai(i,e))}class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=l0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await Gw(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,h=new oo;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return ci("not implemented")}}function ar(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class la{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Hw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _o(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Bw(this,e)}reload(){return qw(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new la({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(fi(this.auth));const e=await this.getIdToken();return await _o(this,Uw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:k,providerData:q,stsTokenManager:B}=n;Ee(A&&B,e,"internal-error");const G=oo.fromJSON(this.name,B);Ee(typeof A=="string",e,"internal-error"),ar(r,e.name),ar(o,e.name),Ee(typeof x=="boolean",e,"internal-error"),Ee(typeof k=="boolean",e,"internal-error"),ar(c,e.name),ar(h,e.name),ar(m,e.name),ar(p,e.name),ar(g,e.name),ar(E,e.name);const $=new la({uid:A,auth:e,email:o,emailVerified:x,displayName:r,isAnonymous:k,photoURL:h,phoneNumber:c,tenantId:m,stsTokenManager:G,createdAt:g,lastLoginAt:E});return q&&Array.isArray(q)&&($.providerData=q.map(W=>({...W}))),p&&($._redirectEventId=p),$}static async _fromIdTokenResponse(e,n,r=!1){const o=new oo;o.updateFromServerResponse(n);const c=new la({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Cd(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?hE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,m=new oo;m.updateFromIdToken(r);const p=new la({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,g),p}}const c0=new Map;function ui(i){yi(i instanceof Function,"Expected a class definition");let e=c0.get(i);return e?(yi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,c0.set(i,e),e)}class fE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fE.type="NONE";const u0=fE;function md(i,e,n){return`firebase:${i}:${e}:${n}`}class lo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=md(this.userKey,o.apiKey,c),this.fullPersistenceKey=md("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wd(this.auth,{idToken:e}).catch(()=>{});return n?la._fromGetAccountInfoResponse(this.auth,n,e):null}return la._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lo(ui(u0),e,r);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||ui(u0);const h=md(r,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let A;if(typeof E=="string"){const x=await wd(e,{idToken:E}).catch(()=>{});if(!x)break;A=await la._fromGetAccountInfoResponse(e,x,E)}else A=la._fromJSON(e,E);g!==c&&(m=A),c=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new lo(c,e,r):(c=p[0],m&&await c._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==c)try{await g._remove(h)}catch{}})),new lo(c,e,r))}}function d0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_E(e))return"Blackberry";if(bE(e))return"Webos";if(pE(e))return"Safari";if((e.includes("chrome/")||gE(e))&&!e.includes("edge/"))return"Chrome";if(vE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function mE(i=an()){return/firefox\//i.test(i)}function pE(i=an()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gE(i=an()){return/crios\//i.test(i)}function yE(i=an()){return/iemobile/i.test(i)}function vE(i=an()){return/android/i.test(i)}function _E(i=an()){return/blackberry/i.test(i)}function bE(i=an()){return/webos/i.test(i)}function Rp(i=an()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Qw(i=an()){return Rp(i)&&!!window.navigator?.standalone}function Yw(){return sx()&&document.documentMode===10}function EE(i=an()){return Rp(i)||vE(i)||bE(i)||_E(i)||/windows phone/i.test(i)||yE(i)}function AE(i,e=[]){let n;switch(i){case"Browser":n=d0(an());break;case"Worker":n=`${d0(an())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${r}`}class Xw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((h,m)=>{try{const p=e(c);h(p)}catch(p){m(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function $w(i,e={}){return Ha(i,"GET","/v2/passwordPolicy",Ai(i,e))}const Jw=6;class Zw{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Jw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class Ww{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h0(this),this.idTokenSubscription=new h0(this),this.beforeStateQueue=new Xw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wd(this,{idToken:e}),r=await la._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===h)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Mw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(fi(this));const n=e?Lt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $w(this),n=new Zw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Kw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ui(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Cw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Er(i){return Lt(i)}class h0{constructor(e){this.auth=e,this.observer=null,this.addObserver=mx(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eC(i){Yd=i}function TE(i){return Yd.loadJS(i)}function tC(){return Yd.recaptchaEnterpriseScript}function nC(){return Yd.gapiScript}function aC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class iC{constructor(){this.enterprise=new rC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class rC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const sC="recaptcha-enterprise",SE="NO_RECAPTCHA";class oC{constructor(e){this.type=sC,this.auth=Er(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,m)=>{jw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Lw(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(c,h,m){const p=window.grecaptcha;o0(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(g=>{h(g)}).catch(()=>{h(SE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iC().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{r(this.auth).then(m=>{if(!n&&o0(window.grecaptcha))o(m,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=tC();p.length!==0&&(p+=m),TE(p).then(()=>{o(m,c,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function f0(i,e,n,r=!1,o=!1){const c=new oC(i);let h;if(o)h=SE;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Nd(i,e,n,r,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await f0(i,e,n,n==="getOobCode");return r(i,c)}else return r(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await f0(i,e,n,n==="getOobCode");return r(i,h)}else return Promise.reject(c)})}function lC(i,e){const n=Ep(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(rs(c,e??{}))return o;ua(o,"already-initialized")}return n.initialize({options:e})}function cC(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ui);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function uC(i,e,n){const r=Er(i);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=RE(e),{host:h,port:m}=dC(e),p=m===null?"":`:${m}`,g={url:`${c}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(rs(g,r.config.emulator)&&rs(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,Io(h)?(Zb(`${c}//${h}${p}`),Wb("Auth",!0)):hC()}function RE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function dC(i){const e=RE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:m0(r.substr(c.length+1))}}else{const[c,h]=r.split(":");return{host:c,port:m0(h)}}}function m0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function hC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class xp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,n){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}}async function fC(i,e){return Ha(i,"POST","/v1/accounts:update",e)}async function mC(i,e){return Ha(i,"POST","/v1/accounts:signUp",e)}async function pC(i,e){return bc(i,"POST","/v1/accounts:signInWithPassword",Ai(i,e))}async function gC(i,e){return Ha(i,"POST","/v1/accounts:sendOobCode",Ai(i,e))}async function yC(i,e){return gC(i,e)}async function vC(i,e){return bc(i,"POST","/v1/accounts:signInWithEmailLink",Ai(i,e))}async function _C(i,e){return bc(i,"POST","/v1/accounts:signInWithEmailLink",Ai(i,e))}class sc extends xp{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new sc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nd(e,n,"signInWithPassword",pC);case"emailLink":return vC(e,{email:this._email,oobCode:this._password});default:ua(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nd(e,r,"signUpPassword",mC);case"emailLink":return _C(e,{idToken:n,email:this._email,oobCode:this._password});default:ua(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function co(i,e){return bc(i,"POST","/v1/accounts:signInWithIdp",Ai(i,e))}const bC="http://localhost";class os extends xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ua("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const h=new os(r,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,co(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:bC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vc(n)}return e}}function EC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AC(i){const e=Gl(Kl(i)).link,n=e?Gl(Kl(e)).deep_link_id:null,r=Gl(Kl(i)).deep_link_id;return(r?Gl(Kl(r)).link:null)||r||n||e||i}class wp{constructor(e){const n=Gl(Kl(e)),r=n.apiKey??null,o=n.oobCode??null,c=EC(n.mode??null);Ee(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=AC(e);try{return new wp(n)}catch{return null}}}class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(e,n){return sc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=wp.parseLink(n);return Ee(r,"argument-error"),sc._fromEmailAndCode(e,r.code,r.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class xE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ec extends xE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ir extends Ec{constructor(){super("facebook.com")}static credential(e){return os._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";class rr extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return os._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return rr.credential(n,r)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class sr extends Ec{constructor(){super("github.com")}static credential(e){return os._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com";sr.PROVIDER_ID="github.com";class or extends Ec{constructor(){super("twitter.com")}static credential(e,n){return os._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return or.credential(n,r)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";async function TC(i,e){return bc(i,"POST","/v1/accounts:signUp",Ai(i,e))}class ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await la._fromIdTokenResponse(e,r,o),h=p0(r);return new ls({user:c,providerId:h,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=p0(r);return new ls({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function p0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Id extends Ei{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Id.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Id(e,n,r,o)}}function wE(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Id._fromErrorAndOperation(i,c,e,r):c})}async function SC(i,e,n=!1){const r=await _o(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ls._forOperation(i,"link",r)}async function RC(i,e,n=!1){const{auth:r}=i;if(Kn(r.app))return Promise.reject(fi(r));const o="reauthenticate";try{const c=await _o(i,wE(r,o,e,i),n);Ee(c.idToken,r,"internal-error");const h=Sp(c.idToken);Ee(h,r,"internal-error");const{sub:m}=h;return Ee(i.uid===m,r,"user-mismatch"),ls._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ua(r,"user-mismatch"),c}}async function CE(i,e,n=!1){if(Kn(i.app))return Promise.reject(fi(i));const r="signIn",o=await wE(i,r,e),c=await ls._fromIdTokenResponse(i,r,o);return n||await i._updateCurrentUser(c.user),c}async function xC(i,e){return CE(Er(i),e)}async function NE(i){const e=Er(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wC(i,e,n){const r=Er(i);await Nd(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",yC)}async function CC(i,e,n){if(Kn(i.app))return Promise.reject(fi(i));const r=Er(i),h=await Nd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&NE(i),p}),m=await ls._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(m.user),m}function IE(i,e,n){return Kn(i.app)?Promise.reject(fi(i)):xC(Lt(i),Do.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&NE(i),r})}function NC(i,e){return IC(Lt(i),null,e)}async function IC(i,e,n){const{auth:r}=i,c={idToken:await i.getIdToken(),returnSecureToken:!0};n&&(c.password=n);const h=await _o(i,fC(r,c));await i._updateTokensIfNecessary(h,!0)}function MC(i,e,n,r){return Lt(i).onIdTokenChanged(e,n,r)}function DC(i,e,n){return Lt(i).beforeAuthStateChanged(e,n)}function OC(i,e,n,r){return Lt(i).onAuthStateChanged(e,n,r)}const Md="__sak";class ME{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Md,"1"),this.storage.removeItem(Md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const PC=1e3,VC=10;class DE extends ME{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!n&&this.localCache[r]===h||this.notifyListeners(r,h)},c=this.storage.getItem(r);Yw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,VC):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}DE.type="LOCAL";const kC=DE;class OE extends ME{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OE.type="SESSION";const PE=OE;function LC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Xd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,c)),p=await LC(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xd.receivers=[];function Cp(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}class jC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((m,p)=>{const g=Cp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(A){const x=A;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(x.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function ka(){return window}function UC(i){ka().location.href=i}function VE(){return typeof ka().WorkerGlobalScope<"u"&&typeof ka().importScripts=="function"}async function BC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zC(){return navigator?.serviceWorker?.controller||null}function HC(){return VE()?self:null}const kE="firebaseLocalStorageDb",qC=1,Dd="firebaseLocalStorage",LE="fbase_key";class Ac{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $d(i,e){return i.transaction([Dd],e?"readwrite":"readonly").objectStore(Dd)}function FC(){const i=indexedDB.deleteDatabase(kE);return new Ac(i).toPromise()}function Km(){const i=indexedDB.open(kE,qC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Dd,{keyPath:LE})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Dd)?e(r):(r.close(),await FC(),e(await Km()))})})}async function g0(i,e,n){const r=$d(i,!0).put({[LE]:e,value:n});return new Ac(r).toPromise()}async function GC(i,e){const n=$d(i,!1).get(e),r=await new Ac(n).toPromise();return r===void 0?null:r.value}function y0(i,e){const n=$d(i,!0).delete(e);return new Ac(n).toPromise()}const KC=800,QC=3;class jE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>QC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xd._getInstance(HC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await BC(),!this.activeServiceWorker)return;this.sender=new jC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await g0(e,Md,"1"),await y0(e,Md),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>g0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>y0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=$d(o,!1).getAll();return new Ac(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jE.type="LOCAL";const YC=jE;new _c(3e4,6e4);function XC(i,e){return e?ui(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Np extends xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $C(i){return CE(i.auth,new Np(i),i.bypassAuthState)}function JC(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),RC(n,new Np(i),i.bypassAuthState)}async function ZC(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),SC(n,new Np(i),i.bypassAuthState)}class UE{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $C;case"linkViaPopup":case"linkViaRedirect":return ZC;case"reauthViaPopup":case"reauthViaRedirect":return JC;default:ua(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const WC=new _c(2e3,1e4);class so extends UE{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const e=Cp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Va(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Va(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Va(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WC.get())};e()}}so.currentPopupAction=null;const eN="pendingRedirect",pd=new Map;class tN extends UE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pd.get(this.auth._key());if(!e){try{const r=await nN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pd.set(this.auth._key(),e)}return this.bypassAuthState||pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nN(i,e){const n=rN(e),r=iN(i);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function aN(i,e){pd.set(i._key(),e)}function iN(i){return ui(i._redirectPersistence)}function rN(i){return md(eN,i.config.apiKey,i.name)}async function sN(i,e,n=!1){if(Kn(i.app))return Promise.reject(fi(i));const r=Er(i),o=XC(r,e),h=await new tN(r,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}const oN=600*1e3;class lN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!BE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Va(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oN&&this.cachedEventUids.clear(),this.cachedEventUids.has(v0(e))}saveEventToCache(e){this.cachedEventUids.add(v0(e)),this.lastProcessedEventTime=Date.now()}}function v0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function BE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function cN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BE(i);default:return!1}}async function uN(i,e={}){return Ha(i,"GET","/v1/projects",e)}const dN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hN=/^https?/;async function fN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await uN(i);for(const n of e)try{if(mN(n))return}catch{}ua(i,"unauthorized-domain")}function mN(i){const e=Fm(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===r}if(!hN.test(n))return!1;if(dN.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const pN=new _c(3e4,6e4);function _0(){const i=ka().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function gN(i){return new Promise((e,n)=>{function r(){_0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_0(),n(Va(i,"network-request-failed"))},timeout:pN.get()})}if(ka().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ka().gapi?.load)r();else{const o=aC("iframefcb");return ka()[o]=()=>{gapi.load?r():n(Va(i,"network-request-failed"))},TE(`${nC()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw gd=null,e})}let gd=null;function yN(i){return gd=gd||gN(i),gd}const vN=new _c(5e3,15e3),_N="__/auth/iframe",bN="emulator/auth/iframe",EN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TN(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Tp(e,bN):`https://${i.config.authDomain}/${_N}`,r={apiKey:e.apiKey,appName:i.name,v:Mo},o=AN.get(i.config.apiHost);o&&(r.eid=o);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${vc(r).slice(1)}`}async function SN(i){const e=await yN(i),n=ka().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:TN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EN,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const h=Va(i,"network-request-failed"),m=ka().setTimeout(()=>{c(h)},vN.get());function p(){ka().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{c(h)})}))}const RN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xN=500,wN=600,CN="_blank",NN="http://localhost";class b0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IN(i,e,n,r=xN,o=wN){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...RN,width:r.toString(),height:o.toString(),top:c,left:h},g=an().toLowerCase();n&&(m=gE(g)?CN:n),mE(g)&&(e=e||NN,p.scrollbars="yes");const E=Object.entries(p).reduce((x,[k,q])=>`${x}${k}=${q},`,"");if(Qw(g)&&m!=="_self")return MN(e||"",m),new b0(null);const A=window.open(e||"",m,E);Ee(A,i,"popup-blocked");try{A.focus()}catch{}return new b0(A)}function MN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const DN="__/auth/handler",ON="emulator/auth/handler",PN=encodeURIComponent("fac");async function E0(i,e,n,r,o,c){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:Mo,eventId:o};if(e instanceof xE){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",fx(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))h[E]=A}if(e instanceof Ec){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${PN}=${encodeURIComponent(p)}`:"";return`${VN(i)}?${vc(m).slice(1)}${g}`}function VN({config:i}){return i.emulator?Tp(i,ON):`https://${i.authDomain}/${DN}`}const Mm="webStorageSupport";class kN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PE,this._completeRedirectFn=sN,this._overrideRedirectResult=aN}async _openPopup(e,n,r,o){yi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await E0(e,n,r,Fm(),o);return IN(e,c,Cp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await E0(e,n,r,Fm(),o);return UC(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(yi(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await SN(e),r=new lN(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mm,{type:Mm},o=>{const c=o?.[0]?.[Mm];c!==void 0&&n(!!c),ua(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return EE()||pE()||Rp()}}const LN=kN;var A0="@firebase/auth",T0="1.12.0";class jN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function UN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BN(i){vo(new ss("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=r.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AE(i)},g=new Ww(r,o,c,p);return cC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vo(new ss("auth-internal",e=>{const n=Er(e.getProvider("auth").getImmediate());return(r=>new jN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(A0,T0,UN(i)),dr(A0,T0,"esm2020")}const zN=300,HN=Jb("authIdTokenMaxAge")||zN;let S0=null;const qN=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>HN)return;const o=n?.token;S0!==o&&(S0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function FN(i=aE()){const e=Ep(i,"auth");if(e.isInitialized())return e.getImmediate();const n=lC(i,{popupRedirectResolver:LN,persistence:[YC,kC,PE]}),r=Jb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const h=qN(c.toString());DC(n,h,()=>h(n.currentUser)),MC(n,m=>h(m))}}const o=Xb("auth");return o&&uC(n,`http://${o}`),n}function GN(){return document.getElementsByTagName("head")?.[0]??document}eC({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const c=Va("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",GN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BN("Browser");var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hr,zE;(function(){var i;function e(N,w){function R(){}R.prototype=w.prototype,N.F=w.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(M,D,O){for(var C=Array(arguments.length-2),we=2;we<arguments.length;we++)C[we-2]=arguments[we];return w.prototype[D].apply(M,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,R){R||(R=0);const M=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)M[D]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(D=0;D<16;++D)M[D]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=N.g[0],R=N.g[1],D=N.g[2];let O=N.g[3],C;C=w+(O^R&(D^O))+M[0]+3614090360&4294967295,w=R+(C<<7&4294967295|C>>>25),C=O+(D^w&(R^D))+M[1]+3905402710&4294967295,O=w+(C<<12&4294967295|C>>>20),C=D+(R^O&(w^R))+M[2]+606105819&4294967295,D=O+(C<<17&4294967295|C>>>15),C=R+(w^D&(O^w))+M[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(O^R&(D^O))+M[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=O+(D^w&(R^D))+M[5]+1200080426&4294967295,O=w+(C<<12&4294967295|C>>>20),C=D+(R^O&(w^R))+M[6]+2821735955&4294967295,D=O+(C<<17&4294967295|C>>>15),C=R+(w^D&(O^w))+M[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(O^R&(D^O))+M[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=O+(D^w&(R^D))+M[9]+2336552879&4294967295,O=w+(C<<12&4294967295|C>>>20),C=D+(R^O&(w^R))+M[10]+4294925233&4294967295,D=O+(C<<17&4294967295|C>>>15),C=R+(w^D&(O^w))+M[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(O^R&(D^O))+M[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=O+(D^w&(R^D))+M[13]+4254626195&4294967295,O=w+(C<<12&4294967295|C>>>20),C=D+(R^O&(w^R))+M[14]+2792965006&4294967295,D=O+(C<<17&4294967295|C>>>15),C=R+(w^D&(O^w))+M[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(D^O&(R^D))+M[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=O+(R^D&(w^R))+M[6]+3225465664&4294967295,O=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(O^w))+M[11]+643717713&4294967295,D=O+(C<<14&4294967295|C>>>18),C=R+(O^w&(D^O))+M[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^O&(R^D))+M[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=O+(R^D&(w^R))+M[10]+38016083&4294967295,O=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(O^w))+M[15]+3634488961&4294967295,D=O+(C<<14&4294967295|C>>>18),C=R+(O^w&(D^O))+M[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^O&(R^D))+M[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=O+(R^D&(w^R))+M[14]+3275163606&4294967295,O=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(O^w))+M[3]+4107603335&4294967295,D=O+(C<<14&4294967295|C>>>18),C=R+(O^w&(D^O))+M[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^O&(R^D))+M[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=O+(R^D&(w^R))+M[2]+4243563512&4294967295,O=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(O^w))+M[7]+1735328473&4294967295,D=O+(C<<14&4294967295|C>>>18),C=R+(O^w&(D^O))+M[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(R^D^O)+M[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=O+(w^R^D)+M[8]+2272392833&4294967295,O=w+(C<<11&4294967295|C>>>21),C=D+(O^w^R)+M[11]+1839030562&4294967295,D=O+(C<<16&4294967295|C>>>16),C=R+(D^O^w)+M[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^O)+M[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=O+(w^R^D)+M[4]+1272893353&4294967295,O=w+(C<<11&4294967295|C>>>21),C=D+(O^w^R)+M[7]+4139469664&4294967295,D=O+(C<<16&4294967295|C>>>16),C=R+(D^O^w)+M[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^O)+M[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=O+(w^R^D)+M[0]+3936430074&4294967295,O=w+(C<<11&4294967295|C>>>21),C=D+(O^w^R)+M[3]+3572445317&4294967295,D=O+(C<<16&4294967295|C>>>16),C=R+(D^O^w)+M[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^O)+M[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=O+(w^R^D)+M[12]+3873151461&4294967295,O=w+(C<<11&4294967295|C>>>21),C=D+(O^w^R)+M[15]+530742520&4294967295,D=O+(C<<16&4294967295|C>>>16),C=R+(D^O^w)+M[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(D^(R|~O))+M[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=O+(R^(w|~D))+M[7]+1126891415&4294967295,O=w+(C<<10&4294967295|C>>>22),C=D+(w^(O|~R))+M[14]+2878612391&4294967295,D=O+(C<<15&4294967295|C>>>17),C=R+(O^(D|~w))+M[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~O))+M[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=O+(R^(w|~D))+M[3]+2399980690&4294967295,O=w+(C<<10&4294967295|C>>>22),C=D+(w^(O|~R))+M[10]+4293915773&4294967295,D=O+(C<<15&4294967295|C>>>17),C=R+(O^(D|~w))+M[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~O))+M[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=O+(R^(w|~D))+M[15]+4264355552&4294967295,O=w+(C<<10&4294967295|C>>>22),C=D+(w^(O|~R))+M[6]+2734768916&4294967295,D=O+(C<<15&4294967295|C>>>17),C=R+(O^(D|~w))+M[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~O))+M[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=O+(R^(w|~D))+M[11]+3174756917&4294967295,O=w+(C<<10&4294967295|C>>>22),C=D+(w^(O|~R))+M[2]+718787259&4294967295,D=O+(C<<15&4294967295|C>>>17),C=R+(O^(D|~w))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+O&4294967295}r.prototype.v=function(N,w){w===void 0&&(w=N.length);const R=w-this.blockSize,M=this.C;let D=this.h,O=0;for(;O<w;){if(D==0)for(;O<=R;)o(this,N,O),O+=this.blockSize;if(typeof N=="string"){for(;O<w;)if(M[D++]=N.charCodeAt(O++),D==this.blockSize){o(this,M),D=0;break}}else for(;O<w;)if(M[D++]=N[O++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)N[w++]=this.g[R]>>>M&255;return N};function c(N,w){var R=m;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=w(N)}function h(N,w){this.h=w;const R=[];let M=!0;for(let D=N.length-1;D>=0;D--){const O=N[D]|0;M&&O==w||(R[D]=O,M=!1)}this.g=R}var m={};function p(N){return-128<=N&&N<128?c(N,function(w){return new h([w|0],w<0?-1:0)}):new h([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return G(g(-N));const w=[];let R=1;for(let M=0;N>=R;M++)w[M]=N/R|0,R*=4294967296;return new h(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return G(E(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(w,8));let M=A;for(let O=0;O<N.length;O+=8){var D=Math.min(8,N.length-O);const C=parseInt(N.substring(O,O+D),w);D<8?(D=g(Math.pow(w,D)),M=M.j(D).add(g(C))):(M=M.j(R),M=M.add(g(C)))}return M}var A=p(0),x=p(1),k=p(16777216);i=h.prototype,i.m=function(){if(B(this))return-G(this).m();let N=0,w=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);N+=(M>=0?M:4294967296+M)*w,w*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(q(this))return"0";if(B(this))return"-"+G(this).toString(N);const w=g(Math.pow(N,6));var R=this;let M="";for(;;){const D=_e(R,w).g;R=$(R,D.j(w));let O=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,q(R))return O+M;for(;O.length<6;)O="0"+O;M=O+M}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function q(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function B(N){return N.h==-1}i.l=function(N){return N=$(this,N),B(N)?-1:q(N)?0:1};function G(N){const w=N.g.length,R=[];for(let M=0;M<w;M++)R[M]=~N.g[M];return new h(R,~N.h).add(x)}i.abs=function(){return B(this)?G(this):this},i.add=function(N){const w=Math.max(this.g.length,N.g.length),R=[];let M=0;for(let D=0;D<=w;D++){let O=M+(this.i(D)&65535)+(N.i(D)&65535),C=(O>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);M=C>>>16,O&=65535,C&=65535,R[D]=C<<16|O}return new h(R,R[R.length-1]&-2147483648?-1:0)};function $(N,w){return N.add(G(w))}i.j=function(N){if(q(this)||q(N))return A;if(B(this))return B(N)?G(this).j(G(N)):G(G(this).j(N));if(B(N))return G(this.j(G(N)));if(this.l(k)<0&&N.l(k)<0)return g(this.m()*N.m());const w=this.g.length+N.g.length,R=[];for(var M=0;M<2*w;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<N.g.length;D++){const O=this.i(M)>>>16,C=this.i(M)&65535,we=N.i(D)>>>16,Ye=N.i(D)&65535;R[2*M+2*D]+=C*Ye,W(R,2*M+2*D),R[2*M+2*D+1]+=O*Ye,W(R,2*M+2*D+1),R[2*M+2*D+1]+=C*we,W(R,2*M+2*D+1),R[2*M+2*D+2]+=O*we,W(R,2*M+2*D+2)}for(N=0;N<w;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=w;N<2*w;N++)R[N]=0;return new h(R,0)};function W(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function re(N,w){this.g=N,this.h=w}function _e(N,w){if(q(w))throw Error("division by zero");if(q(N))return new re(A,A);if(B(N))return w=_e(G(N),w),new re(G(w.g),G(w.h));if(B(w))return w=_e(N,G(w)),new re(G(w.g),w.h);if(N.g.length>30){if(B(N)||B(w))throw Error("slowDivide_ only works with positive integers.");for(var R=x,M=w;M.l(N)<=0;)R=ye(R),M=ye(M);var D=ie(R,1),O=ie(M,1);for(M=ie(M,2),R=ie(R,2);!q(M);){var C=O.add(M);C.l(N)<=0&&(D=D.add(R),O=C),M=ie(M,1),R=ie(R,1)}return w=$(N,D.j(w)),new re(D,w)}for(D=A;N.l(w)>=0;){for(R=Math.max(1,Math.floor(N.m()/w.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),O=g(R),C=O.j(w);B(C)||C.l(N)>0;)R-=M,O=g(R),C=O.j(w);q(O)&&(O=x),D=D.add(O),N=$(N,C)}return new re(D,N)}i.B=function(N){return _e(this,N).h},i.and=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)&N.i(M);return new h(R,this.h&N.h)},i.or=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)|N.i(M);return new h(R,this.h|N.h)},i.xor=function(N){const w=Math.max(this.g.length,N.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)^N.i(M);return new h(R,this.h^N.h)};function ye(N){const w=N.g.length+1,R=[];for(let M=0;M<w;M++)R[M]=N.i(M)<<1|N.i(M-1)>>>31;return new h(R,N.h)}function ie(N,w){const R=w>>5;w%=32;const M=N.g.length-R,D=[];for(let O=0;O<M;O++)D[O]=w>0?N.i(O+R)>>>w|N.i(O+R+1)<<32-w:N.i(O+R);return new h(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,zE=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,hr=h}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});var sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var HE,Ql,qE,yd,Qm,FE,GE,KE;(function(){var i,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof sd=="object"&&sd];for(var y=0;y<u.length;++y){var _=u[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(u,y){if(y)e:{var _=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in _))break e;_=_[U]}u=u[u.length-1],S=_[u],y=y(S),y!=S&&y!=null&&e(_,u,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(y){var _=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&_.push([S,y[S]]);return _}});var c=c||{},h=this||self;function m(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function p(u,y,_){return u.call.apply(u.bind,arguments)}function g(u,y,_){return g=p,g.apply(null,arguments)}function E(u,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,y){function _(){}_.prototype=y.prototype,u.Z=y.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(S,U,K){for(var se=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)se[Ne-2]=arguments[Ne];return y.prototype[U].apply(S,se)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function k(u){const y=u.length;if(y>0){const _=Array(y);for(let S=0;S<y;S++)_[S]=u[S];return _}return[]}function q(u,y){for(let S=1;S<arguments.length;S++){const U=arguments[S];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const K=U.length||0;u.length=_+K;for(let se=0;se<K;se++)u[_+se]=U[se]}else u.push(U)}}class B{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(u){h.setTimeout(()=>{throw u},0)}function $(){var u=N;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class W{constructor(){this.h=this.g=null}add(y,_){const S=re.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new B(()=>new _e,u=>u.reset());class _e{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,ie=!1,N=new W,w=()=>{const u=Promise.resolve(void 0);ye=()=>{u.then(R)}};function R(){for(var u;u=$();){try{u.h.call(u.g)}catch(_){G(_)}var y=re;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}ie=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,y),h.removeEventListener("test",_,y)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function we(u,y){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}A(we,D),we.prototype.init=function(u,y){const _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(_=="mouseover"?y=u.fromElement:_=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ye="closure_listenable_"+(Math.random()*1e6|0),X=0;function oe(u,y,_,S,U){this.listener=u,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=U,this.key=++X,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ue(u,y,_){for(const S in u)y.call(_,u[S],S,u)}function ze(u,y){for(const _ in u)y.call(void 0,u[_],_,u)}function V(u){const y={};for(const _ in u)y[_]=u[_];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(u,y){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)u[_]=S[_];for(let K=0;K<te.length;K++)_=te[K],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,y,_,S,U){const K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);const se=Ce(u,y,S,U);return se>-1?(y=u[se],_||(y.fa=!1)):(y=new oe(y,this.src,K,!!S,U),y.fa=_,u.push(y)),y};function Te(u,y){const _=y.type;if(_ in u.g){var S=u.g[_],U=Array.prototype.indexOf.call(S,y,void 0),K;(K=U>=0)&&Array.prototype.splice.call(S,U,1),K&&(me(y),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ce(u,y,_,S){for(let U=0;U<u.length;++U){const K=u[U];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==S)return U}return-1}var Q="closure_lm_"+(Math.random()*1e6|0),be={};function He(u,y,_,S,U){if(Array.isArray(y)){for(let K=0;K<y.length;K++)He(u,y[K],_,S,U);return null}return _=Uo(_),u&&u[Ye]?u.J(y,_,m(S)?!!S.capture:!1,U):bn(u,y,_,!1,S,U)}function bn(u,y,_,S,U,K){if(!y)throw Error("Invalid event type");const se=m(U)?!!U.capture:!!U;let Ne=ha(u);if(Ne||(u[Q]=Ne=new ue(u)),_=Ne.add(y,_,S,se,K),_.proxy)return _;if(S=cn(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)O||(U=se),U===void 0&&(U=!1),u.addEventListener(y.toString(),S,U);else if(u.attachEvent)u.attachEvent(jt(y.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function cn(){function u(_){return y.call(u.src,u.listener,_)}const y=Zt;return u}function Ti(u,y,_,S,U){if(Array.isArray(y))for(var K=0;K<y.length;K++)Ti(u,y[K],_,S,U);else S=m(S)?!!S.capture:!!S,_=Uo(_),u&&u[Ye]?(u=u.i,K=String(y).toString(),K in u.g&&(y=u.g[K],_=Ce(y,_,S,U),_>-1&&(me(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete u.g[K],u.h--)))):u&&(u=ha(u))&&(y=u.g[y.toString()],u=-1,y&&(u=Ce(y,_,S,U)),(_=u>-1?y[u]:null)&&Rr(_))}function Rr(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[Ye])Te(y.i,u);else{var _=u.type,S=u.proxy;y.removeEventListener?y.removeEventListener(_,S,u.capture):y.detachEvent?y.detachEvent(jt(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=ha(y))?(Te(_,u),_.h==0&&(_.src=null,y[Q]=null)):me(u)}}}function jt(u){return u in be?be[u]:be[u]="on"+u}function Zt(u,y){if(u.da)u=!0;else{y=new we(y,this);const _=u.listener,S=u.ha||u.src;u.fa&&Rr(u),u=_.call(S,y)}return u}function ha(u){return u=u[Q],u instanceof ue?u:null}var jo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Uo(u){return typeof u=="function"?u:(u[jo]||(u[jo]=function(y){return u.handleEvent(y)}),u[jo])}function Et(){M.call(this),this.i=new ue(this),this.M=this,this.G=null}A(Et,M),Et.prototype[Ye]=!0,Et.prototype.removeEventListener=function(u,y,_,S){Ti(this,u,y,_,S)};function Ot(u,y){var _,S=u.G;if(S)for(_=[];S;S=S.G)_.push(S);if(u=u.M,S=y.type||y,typeof y=="string")y=new D(y,u);else if(y instanceof D)y.target=y.target||u;else{var U=y;y=new D(S,u),le(y,U)}U=!0;let K,se;if(_)for(se=_.length-1;se>=0;se--)K=y.g=_[se],U=Si(K,S,!0,y)&&U;if(K=y.g=u,U=Si(K,S,!0,y)&&U,U=Si(K,S,!1,y)&&U,_)for(se=0;se<_.length;se++)K=y.g=_[se],U=Si(K,S,!1,y)&&U}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const _=u.g[y];for(let S=0;S<_.length;S++)me(_[S]);delete u.g[y],u.h--}}this.G=null},Et.prototype.J=function(u,y,_,S){return this.i.add(String(u),y,!1,_,S)},Et.prototype.K=function(u,y,_,S){return this.i.add(String(u),y,!0,_,S)};function Si(u,y,_,S){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let K=0;K<y.length;++K){const se=y[K];if(se&&!se.da&&se.capture==_){const Ne=se.listener,yt=se.ha||se.src;se.fa&&Te(u.i,se),U=Ne.call(yt,S)!==!1&&U}}return U&&!S.defaultPrevented}function yh(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(u,y||0)}function Nc(u){u.g=yh(()=>{u.g=null,u.i&&(u.i=!1,Nc(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class rn extends M{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Nc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(u){M.call(this),this.h=u,this.g={}}A(xr,M);var Bo=[];function zo(u){Ue(u.g,function(y,_){this.g.hasOwnProperty(_)&&Rr(y)},u),u.g={}}xr.prototype.N=function(){xr.Z.N.call(this),zo(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ri=h.JSON.stringify,vh=h.JSON.parse,Ic=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Mc(){}function Dc(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){D.call(this,"d")}A(qt,D);function On(){D.call(this,"c")}A(On,D);var gt={},Oc=null;function ps(){return Oc=Oc||new Et}gt.Ia="serverreachability";function Pc(u){D.call(this,gt.Ia,u)}A(Pc,D);function fa(u){const y=ps();Ot(y,new Pc(y))}gt.STAT_EVENT="statevent";function wr(u,y){D.call(this,gt.STAT_EVENT,u),this.stat=y}A(wr,D);function At(u){const y=ps();Ot(y,new wr(y,u))}gt.Ja="timingevent";function ma(u,y){D.call(this,gt.Ja,u),this.size=y}A(ma,D);function pa(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},y)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function _h(u,y,_,S,U,K){u.info(function(){if(u.g)if(K){var se="",Ne=K.split("&");for(let Ke=0;Ke<Ne.length;Ke++){var yt=Ne[Ke].split("=");if(yt.length>1){const ct=yt[0];yt=yt[1];const Ln=ct.split("_");se=Ln.length>=2&&Ln[1]=="type"?se+(ct+"="+yt+"&"):se+(ct+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+y+`
`+_+`
`+se})}function Vc(u,y,_,S,U,K,se){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+y+`
`+_+`
`+K+" "+se})}function ga(u,y,_,S){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+bh(u,_)+(S?" "+S:"")})}function Cr(u,y){u.info(function(){return"TIMEOUT: "+y})}Jn.prototype.info=function(){};function bh(u,y){if(!u.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(u=0;u<K.length;u++)if(Array.isArray(K[u])){var _=K[u];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return Ri(K)}catch{return y}}var Nr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qo;function Ir(){}A(Ir,Mc),Ir.prototype.g=function(){return new XMLHttpRequest},qo=new Ir;function qa(u){return encodeURIComponent(String(u))}function kc(u){var y=1;u=u.split(":");const _=[];for(;y>0&&u.length;)_.push(u.shift()),y--;return u.length&&_.push(u.join(":")),_}function Zn(u,y,_,S){this.j=u,this.i=y,this.l=_,this.S=S||1,this.V=new xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Tt={},Ut={};function ya(u,y,_){u.M=1,u.A=Mr(Rt(y)),u.u=_,u.R=!0,gs(u,null)}function gs(u,y){u.F=Date.now(),va(u),u.B=Rt(u.A);var _=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),bs(_.i,"t",S),u.C=0,_=u.j.L,u.h=new Wn,u.g=Jc(u.j,_?y:null,!u.u),u.P>0&&(u.O=new rn(g(u.Y,u,u.g),u.P)),y=u.V,_=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Bo[0]=U.toString()),U=Bo);for(let K=0;K<U.length;K++){const se=He(_,U[K],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),fa(),_h(u.i,u.v,u.B,u.l,u.S,u.u)}Zn.prototype.ba=function(u){u=u.target;const y=this.O;y&&na(u)==3?y.j():this.Y(u)},Zn.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=na(this.g),yt=this.g.ya(),Ke=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Ne!=4||yt==7||(yt==8||Ke<=0?fa(3):fa(2)),_a(this);var y=this.g.ca();this.X=y;var _=Eh(this);if(this.o=y==200,Vc(this.i,this.v,this.B,this.l,this.S,Ne,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var K=S;break t}}K=null}if(u=K)ga(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ba(this,u);else{this.o=!1,this.m=3,At(12),En(this),Pn(this);break e}}if(this.R){u=!0;let ct;for(;!this.K&&this.C<_.length;)if(ct=jc(this,_),ct==Ut){Ne==4&&(this.m=4,At(14),u=!1),ga(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Tt){this.m=4,At(15),ga(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ga(this.i,this.l,ct,null),ba(this,ct);if(Lc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||_.length!=0||this.h.h||(this.m=1,At(16),u=!1),this.o=this.o&&u,!u)ga(this.i,this.l,_,"[Invalid Chunked Response]"),En(this),Pn(this);else if(_.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),il(se),se.P=!0,At(11))}}else ga(this.i,this.l,_,null),ba(this,_);Ne==4&&En(this),this.o&&!this.K&&(Ne==4?Qc(this.j,this):(this.o=!1,va(this)))}else Ga(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),En(this),Pn(this)}}}catch{}};function Eh(u){if(!Lc(u))return u.g.la();const y=Ft(u.g);if(y==="")return"";let _="";const S=y.length,U=na(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),Pn(u),"";u.h.i=new h.TextDecoder}for(let K=0;K<S;K++)u.h.h=!0,_+=u.h.i.decode(y[K],{stream:!(U&&K==S-1)});return y.length=0,u.h.g+=_,u.C=0,u.h.g}function Lc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function jc(u,y){var _=u.C,S=y.indexOf(`
`,_);return S==-1?Ut:(_=Number(y.substring(_,S)),isNaN(_)?Tt:(S+=1,S+_>y.length?Ut:(y=y.slice(S,S+_),u.C=S+_,y)))}Zn.prototype.cancel=function(){this.K=!0,En(this)};function va(u){u.T=Date.now()+u.H,ys(u,u.H)}function ys(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=pa(g(u.aa,u),y)}function _a(u){u.D&&(h.clearTimeout(u.D),u.D=null)}Zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(fa(),At(17)),En(this),this.m=2,Pn(this)):ys(this,this.T-u)};function Pn(u){u.j.I==0||u.K||Qc(u.j,u)}function En(u){_a(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,zo(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function ba(u,y){try{var _=u.j;if(_.I!=0&&(_.g==u||Aa(_.h,u))){if(!u.L&&Aa(_.h,u)&&_.I==3){try{var S=_.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Rs(_),Oi(_);else break e;jr(_),At(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=pa(g(_.Va,_),6e3));Ea(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ca(_,11)}else if((u.L||_.g==u)&&Rs(_),!C(y))for(U=_.Ba.g.parse(y),y=0;y<U.length;y++){let Ke=U[y];const ct=Ke[0];if(!(ct<=_.K))if(_.K=ct,Ke=Ke[1],_.I==2)if(Ke[0]=="c"){_.M=Ke[1],_.ba=Ke[2];const Ln=Ke[3];Ln!=null&&(_.ka=Ln,_.j.info("VER="+_.ka));const Na=Ke[4];Na!=null&&(_.za=Na,_.j.info("SVER="+_.za));const aa=Ke[5];aa!=null&&typeof aa=="number"&&aa>0&&(S=1.5*aa,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const ia=u.g;if(ia){const Ur=ia.g?ia.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ur){var K=S.h;K.g||Ur.indexOf("spdy")==-1&&Ur.indexOf("quic")==-1&&Ur.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ko(K,K.h),K.h=null))}if(S.G){const xs=ia.g?ia.g.getResponseHeader("X-HTTP-Session-Id"):null;xs&&(S.wa=xs,$e(S.J,S.G,xs))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var se=u;if(S.na=$c(S,S.L?S.ba:null,S.W),se.L){Qo(S.h,se);var Ne=se,yt=S.O;yt&&(Ne.H=yt),Ne.D&&(_a(Ne),va(Ne)),S.g=se}else Gc(S);_.i.length>0&&wa(_)}else Ke[0]!="stop"&&Ke[0]!="close"||Ca(_,7);else _.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ca(_,7):nl(_):Ke[0]!="noop"&&_.l&&_.l.qa(Ke),_.A=0)}}fa(4)}catch{}}var St=class{constructor(u,y){this.g=u,this.map=y}};function Fo(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Go(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ea(u){return u.h?1:u.g?u.g.size:0}function Aa(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Ko(u,y){u.g?u.g.add(y):u.h=y}function Qo(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Fo.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Yo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const _ of u.g.values())y=y.concat(_.G);return y}return k(u.i)}var Uc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vs(u,y){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const S=u[_].indexOf("=");let U,K=null;S>=0?(U=u[_].substring(0,S),K=u[_].substring(S+1)):U=u[_],y(U,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof An?(this.l=u.l,Bt(this,u.j),this.o=u.o,this.g=u.g,xi(this,u.u),this.h=u.h,Xo(this,qc(u.i)),this.m=u.m):u&&(y=String(u).match(Uc))?(this.l=!1,Bt(this,y[1]||"",!0),this.o=Ta(y[2]||""),this.g=Ta(y[3]||"",!0),xi(this,y[4]),this.h=Ta(y[5]||"",!0),Xo(this,y[6]||"",!0),this.m=Ta(y[7]||"")):(this.l=!1,this.i=new Ci(null,this.l))}An.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(Dr(y,_s,!0),":");var _=this.g;return(_||y=="file")&&(u.push("//"),(y=this.o)&&u.push(Dr(y,_s,!0),"@"),u.push(qa(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Dr(_,_.charAt(0)=="/"?$o:Bc,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Dr(_,zc)),u.join("")},An.prototype.resolve=function(u){const y=Rt(this);let _=!!u.j;_?Bt(y,u.j):_=!!u.o,_?y.o=u.o:_=!!u.g,_?y.g=u.g:_=u.u!=null;var S=u.h;if(_)xi(y,u.u);else if(_=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=y.h.lastIndexOf("/");U!=-1&&(S=y.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const K=[];for(let se=0;se<U.length;){const Ne=U[se++];Ne=="."?S&&se==U.length&&K.push(""):Ne==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&se==U.length&&K.push("")):(K.push(Ne),S=!0)}S=K.join("/")}else S=U}return _?y.h=S:_=u.i.toString()!=="",_?Xo(y,qc(u.i)):_=!!u.m,_&&(y.m=u.m),y};function Rt(u){return new An(u)}function Bt(u,y,_){u.j=_?Ta(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function xi(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function Xo(u,y,_){y instanceof Ci?(u.i=y,Es(u.i,u.l)):(_||(y=Dr(y,wi)),u.i=new Ci(y,u.l))}function $e(u,y,_){u.i.set(y,_)}function Mr(u){return $e(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ta(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dr(u,y,_){return typeof u=="string"?(u=encodeURI(u).replace(y,un),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function un(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _s=/[#\/\?@]/g,Bc=/[#\?:]/g,$o=/[#\?]/g,wi=/[#\?@]/g,zc=/#/g;function Ci(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&vs(u.i,function(y,_){u.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Ci.prototype,i.add=function(u,y){dn(this),this.i=null,u=Ni(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(y),this.h+=1,this};function Hc(u,y){dn(u),y=Ni(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Jo(u,y){return dn(u),y=Ni(u,y),u.g.has(y)}i.forEach=function(u,y){dn(this),this.g.forEach(function(_,S){_.forEach(function(U){u.call(y,U,S,this)},this)},this)};function Zo(u,y){dn(u);let _=[];if(typeof y=="string")Jo(u,y)&&(_=_.concat(u.g.get(Ni(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)_=_.concat(u[y]);return _}i.set=function(u,y){return dn(this),this.i=null,u=Ni(this,u),Jo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},i.get=function(u,y){return u?(u=Zo(this,u),u.length>0?String(u[0]):y):y};function bs(u,y,_){Hc(u,y),_.length>0&&(u.i=null,u.g.set(Ni(u,y),k(_)),u.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var _=y[S];const U=qa(_);_=Zo(this,_);for(let K=0;K<_.length;K++){let se=U;_[K]!==""&&(se+="="+qa(_[K])),u.push(se)}}return this.i=u.join("&")};function qc(u){const y=new Ci;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Ni(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function Es(u,y){y&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(_,S){const U=S.toLowerCase();S!=U&&(Hc(this,S),bs(this,U,_))},u)),u.j=y}function ea(u,y){const _=new Jn;if(h.Image){const S=new Image;S.onload=E(Vn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=E(Vn,_,"TestLoadImage: error",!1,y,S),S.onabort=E(Vn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(Vn,_,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else y(!1)}function Wo(u,y){const _=new Jn,S=new AbortController,U=setTimeout(()=>{S.abort(),Vn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:S.signal}).then(K=>{clearTimeout(U),K.ok?Vn(_,"TestPingServer: ok",!0,y):Vn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Vn(_,"TestPingServer: error",!1,y)})}function Vn(u,y,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function Ii(){this.g=new Ic}function Sa(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Sa,Mc),Sa.prototype.g=function(){return new Or(this.i,this.h)};function Or(u,y){Et.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Or,Et),i=Or.prototype,i.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,ta(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Mi(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ta(this)),this.g&&(this.readyState=3,ta(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;As(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function As(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?Mi(this):ta(this),this.readyState==3&&As(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,Mi(this))},i.Na=function(u){this.g&&(this.response=u,Mi(this))},i.ga=function(){this.g&&Mi(this)};function Mi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ta(u)}i.setRequestHeader=function(u,y){this.A.append(u,y)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=y.next();return u.join(`\r
`)};function ta(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kn(u){let y="";return Ue(u,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Pr(u,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=kn(_),typeof u=="string"?_!=null&&qa(_):$e(u,y,_))}function We(u){Et.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(We,Et);var Ra=/^https?$/i,el=["POST","PUT"];i=We.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qo.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(K){Vr(this,K);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),U=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(el,y,void 0)>=0)||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of _)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(K){Vr(this,K)}};function Vr(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,tl(u),Fa(u)}function tl(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ot(this,"complete"),Ot(this,"abort"),Fa(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fa(this,!0)),We.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?kr(this):this.Xa())},i.Xa=function(){kr(this)};function kr(u){if(u.h&&typeof c<"u"){if(u.v&&na(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ot(u,"readystatechange"),na(u)==4){u.h=!1;try{const K=u.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=K===0){let se=String(u.D).match(Uc)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),S=!Ra.test(se?se.toLowerCase():"")}_=S}if(_)Ot(u,"complete"),Ot(u,"success");else{u.o=6;try{var U=na(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",tl(u)}}finally{Fa(u)}}}}function Fa(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,y||Ot(u,"ready");try{_.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function na(u){return u.g?u.g.readyState:0}i.ca=function(){try{return na(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),vh(y)}};function Ft(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ga(u){const y={};u=(u.g&&na(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var _=kc(u[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[U]||[];y[U]=K,K.push(_)}ze(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xa(u,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||y}function Di(u){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xa("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xa("baseRetryDelayMs",5e3,u),this.Za=xa("retryDelaySeedMs",1e4,u),this.Ta=xa("forwardChannelMaxRetries",2,u),this.va=xa("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Fo(u&&u.concurrentRequestLimit),this.Ba=new Ii,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Di.prototype,i.ka=8,i.I=1,i.connect=function(u,y,_,S){At(0),this.W=u,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=$c(this,null,this.W),wa(this)};function nl(u){if(Ts(u),u.I==3){var y=u.V++,_=Rt(u.J);if($e(_,"SID",u.M),$e(_,"RID",y),$e(_,"TYPE","terminate"),Lr(u,_),y=new Zn(u,u.j,y),y.M=2,y.A=Mr(Rt(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&h.Image&&(new Image().src=y.A,_=!0),_||(y.g=Jc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),va(y)}Xc(u)}function Oi(u){u.g&&(il(u),u.g.cancel(),u.g=null)}function Ts(u){Oi(u),u.v&&(h.clearTimeout(u.v),u.v=null),Rs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function wa(u){if(!Go(u.h)&&!u.m){u.m=!0;var y=u.Ea;ye||w(),ie||(ye(),ie=!0),N.add(y,u),u.D=0}}function Ss(u,y){return Ea(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=pa(g(u.Ea,u,y),Yc(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Zn(this,this.j,u);let K=this.o;if(this.U&&(K?(K=V(K),le(K,this.U)):K=this.U),this.u!==null||this.R||(U.J=K,K=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Fc(this,U,y),_=Rt(this.J),$e(_,"RID",u),$e(_,"CVER",22),this.G&&$e(_,"X-HTTP-Session-Id",this.G),Lr(this,_),K&&(this.R?y="headers="+qa(kn(K))+"&"+y:this.u&&Pr(_,this.u,K)),Ko(this.h,U),this.Ra&&$e(_,"TYPE","init"),this.S?($e(_,"$req",y),$e(_,"SID","null"),U.U=!0,ya(U,_,null)):ya(U,_,y),this.I=2}}else this.I==3&&(u?al(this,u):this.i.length==0||Go(this.h)||al(this))};function al(u,y){var _;y?_=y.l:_=u.V++;const S=Rt(u.J);$e(S,"SID",u.M),$e(S,"RID",_),$e(S,"AID",u.K),Lr(u,S),u.u&&u.o&&Pr(S,u.u,u.o),_=new Zn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Fc(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ko(u.h,_),ya(_,S,y)}function Lr(u,y){u.H&&Ue(u.H,function(_,S){$e(y,S,_)}),u.l&&Ue({},function(_,S){$e(y,S,_)})}function Fc(u,y,_){_=Math.min(u.i.length,_);const S=u.l?g(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ne=-1;for(;;){const yt=["count="+_];Ne==-1?_>0?(Ne=U[0].g,yt.push("ofs="+Ne)):Ne=0:yt.push("ofs="+Ne);let Ke=!0;for(let ct=0;ct<_;ct++){var K=U[ct].g;const Ln=U[ct].map;if(K-=Ne,K<0)Ne=Math.max(0,U[ct].g-100),Ke=!1;else try{K="req"+K+"_"||"";try{var se=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Na,aa]of se){let ia=aa;m(aa)&&(ia=Ri(aa)),yt.push(K+Na+"="+encodeURIComponent(ia))}}catch(Na){throw yt.push(K+"type="+encodeURIComponent("_badmap")),Na}}catch{S&&S(Ln)}}if(Ke){se=yt.join("&");break e}}se=void 0}return u=u.i.splice(0,_),y.G=u,se}function Gc(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;ye||w(),ie||(ye(),ie=!0),N.add(y,u),u.A=0}}function jr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=pa(g(u.Da,u),Yc(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Kc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=pa(g(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Oi(this),Kc(this))};function il(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function Kc(u){u.g=new Zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=Rt(u.na);$e(y,"RID","rpc"),$e(y,"SID",u.M),$e(y,"AID",u.K),$e(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&$e(y,"TO",u.ia),$e(y,"TYPE","xmlhttp"),Lr(u,y),u.u&&u.o&&Pr(y,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Mr(Rt(y)),_.u=null,_.R=!0,gs(_,u)}i.Va=function(){this.C!=null&&(this.C=null,Oi(this),jr(this),At(19))};function Rs(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Qc(u,y){var _=null;if(u.g==y){Rs(u),il(u),u.g=null;var S=2}else if(Aa(u.h,y))_=y.G,Qo(u.h,y),S=1;else return;if(u.I!=0){if(y.o)if(S==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var U=u.D;S=ps(),Ot(S,new ma(S,_)),wa(u)}else Gc(u);else if(U=y.m,U==3||U==0&&y.X>0||!(S==1&&Ss(u,y)||S==2&&jr(u)))switch(_&&_.length>0&&(y=u.h,y.i=y.i.concat(_)),U){case 1:Ca(u,5);break;case 4:Ca(u,10);break;case 3:Ca(u,6);break;default:Ca(u,2)}}}function Yc(u,y){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*y}function Ca(u,y){if(u.j.info("Error code "+y),y==2){var _=g(u.bb,u),S=u.Ua;const U=!S;S=new An(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Bt(S,"https"),Mr(S),U?ea(S.toString(),_):Wo(S.toString(),_)}else At(2);u.I=0,u.l&&u.l.pa(y),Xc(u),Ts(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Xc(u){if(u.I=0,u.ja=[],u.l){const y=Yo(u.h);(y.length!=0||u.i.length!=0)&&(q(u.ja,y),q(u.ja,u.i),u.h.i.length=0,k(u.i),u.i.length=0),u.l.oa()}}function $c(u,y,_){var S=_ instanceof An?Rt(_):new An(_);if(S.g!="")y&&(S.g=y+"."+S.g),xi(S,S.u);else{var U=h.location;S=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const K=new An(null);S&&Bt(K,S),y&&(K.g=y),U&&xi(K,U),_&&(K.h=_),S=K}return _=u.G,y=u.wa,_&&y&&$e(S,_,y),$e(S,"VER",u.ka),Lr(u,S),S}function Jc(u,y,_){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new We(new Sa({ab:_})):new We(u.ma),y.Fa(u.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zc(){}i=Zc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Pi(){}Pi.prototype.g=function(u,y){return new sn(u,y)};function sn(u,y){Et.call(this),this.g=new Di(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!C(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new Ka(this)}A(sn,Et),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){nl(this.g)},sn.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Ri(u),u=_);y.i.push(new St(y.Ya++,u)),y.I==3&&wa(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,sn.Z.N.call(this)};function Wc(u){qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const _ in y){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}A(Wc,qt);function eu(){On.call(this),this.status=1}A(eu,On);function Ka(u){this.g=u}A(Ka,Zc),Ka.prototype.ra=function(){Ot(this.g,"a")},Ka.prototype.qa=function(u){Ot(this.g,new Wc(u))},Ka.prototype.pa=function(u){Ot(this.g,new eu)},Ka.prototype.oa=function(){Ot(this.g,"b")},Pi.prototype.createWebChannel=Pi.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,KE=function(){return new Pi},GE=function(){return ps()},FE=gt,Qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nr.NO_ERROR=0,Nr.TIMEOUT=8,Nr.HTTP_ERROR=6,yd=Nr,Ho.COMPLETE="complete",qE=Ho,Dc.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Ql=Dc,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,HE=We}).apply(typeof sd<"u"?sd:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Oo="12.8.0";function KN(i){Oo=i}const cs=new _p("@firebase/firestore");function no(){return cs.logLevel}function de(i,...e){if(cs.logLevel<=ke.DEBUG){const n=e.map(Ip);cs.debug(`Firestore (${Oo}): ${i}`,...n)}}function vi(i,...e){if(cs.logLevel<=ke.ERROR){const n=e.map(Ip);cs.error(`Firestore (${Oo}): ${i}`,...n)}}function bo(i,...e){if(cs.logLevel<=ke.WARN){const n=e.map(Ip);cs.warn(`Firestore (${Oo}): ${i}`,...n)}}function Ip(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ae(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,QE(i,r,n)}function QE(i,e,n){let r=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw vi(r),new Error(r)}function Xe(i,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,i||QE(e,o,r)}function xe(i,e){return i}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class YE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class YN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class XN{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let c=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new mi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new mi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new YE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class $N{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class JN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $N(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const r=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new x0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new x0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function WN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}class Mp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=WN(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function Le(i,e){return i<e?-1:i>e?1:0}function Ym(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const o=i.charAt(r),c=e.charAt(r);if(o!==c)return Dm(o)===Dm(c)?Le(o,c):Dm(o)?1:-1}return Le(i.length,e.length)}const eI=55296,tI=57343;function Dm(i){const e=i.charCodeAt(0);return e>=eI&&e<=tI}function Eo(i,e,n){return i.length===e.length&&i.every(((r,o)=>n(r,e[o])))}const w0="__name__";class Pa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=Pa.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Le(e.length,n.length)}static compareSegments(e,n){const r=Pa.isNumericId(e),o=Pa.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Pa.extractNumericId(e).compare(Pa.extractNumericId(n)):Ym(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hr.fromString(e.substring(4,e.length-2))}}class rt extends Pa{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const nI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Pa{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return nI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new $t([w0])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(r+=m,o++):(c(),o++)}if(c(),h)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(rt.fromString(e))}static fromName(e){return new ge(rt.fromString(e).popFirst(5))}static empty(){return new ge(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new rt(e.slice()))}}function XE(i,e,n){if(!n)throw new ce(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function aI(i,e,n,r){if(e===!0&&r===!0)throw new ce(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function C0(i){if(!ge.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function N0(i){if(ge.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function $E(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Jd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ae(12329,{type:typeof i})}function _n(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jd(i);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Dt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Tc(i,e){if(!$E(i))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const h=i[r];if(o&&typeof h!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new ce(ee.INVALID_ARGUMENT,n);return!0}const I0=-62135596800,M0=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*M0);return new lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<I0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M0}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tc(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-I0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Dt("string",lt._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new lt(0,0))}static max(){return new Se(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const oc=-1;function iI(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new mr(o,ge.empty(),e)}function rI(i){return new mr(i.readTime,i.key,oc)}class mr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mr(Se.min(),ge.empty(),oc)}static max(){return new mr(Se.max(),ge.empty(),oc)}}function sI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Le(i.largestBatchId,e.largestBatchId))}const oI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Po(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==oI)throw i;de("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,r)=>{n(e)}))}static reject(e){return new ae(((n,r)=>{r(e)}))}static waitFor(e){return new ae(((n,r)=>{let o=0,c=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++c,h&&c===o&&n()}),(p=>r(p)))})),h=!0,c===o&&n()}))}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next((o=>o?ae.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new ae(((r,o)=>{const c=e.length,h=new Array(c);let m=0;for(let p=0;p<c;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===c&&r(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ae(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function cI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vo(i){return i.name==="IndexedDbTransactionError"}class Zd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zd.ce=-1;const Dp=-1;function Wd(i){return i==null}function Od(i){return i===0&&1/i==-1/0}function uI(i){return typeof i=="number"&&Number.isInteger(i)&&!Od(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const JE="";function dI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=D0(e)),e=hI(i.get(n),e);return D0(e)}function hI(i,e){let n=e;const r=i.length;for(let o=0;o<r;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case JE:n+="";break;default:n+=c}}return n}function D0(i){return i+JE+""}function O0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ar(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function ZE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??Xt.RED,this.left=o??Xt.EMPTY,this.right=c??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new Xt(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new P0(this.data.getIterator())}getIteratorFrom(e){return new P0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class P0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new kt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class WE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new WE("Invalid base64 string: "+c):c}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const fI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(i){if(Xe(!!i,39018),typeof i=="string"){let e=0;const n=fI.exec(i);if(Xe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(i.seconds),nanos:bt(i.nanos)}}function bt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function gr(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}const eA="server_timestamp",tA="__type__",nA="__previous_value__",aA="__local_write_time__";function Op(i){return(i?.mapValue?.fields||{})[tA]?.stringValue===eA}function eh(i){const e=i.mapValue.fields[nA];return Op(e)?eh(e):e}function lc(i){const e=pr(i.mapValue.fields[aA].timestampValue);return new lt(e.seconds,e.nanos)}class mI{constructor(e,n,r,o,c,h,m,p,g,E,A){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=A}}const Pd="(default)";class cc{constructor(e,n){this.projectId=e,this.database=n||Pd}static empty(){return new cc("","")}get isDefaultDatabase(){return this.database===Pd}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}function pI(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(i.options.projectId,e)}const iA="__type__",gI="__max__",ld={mapValue:{}},rA="__vector__",Vd="value";function yr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Op(i)?4:vI(i)?9007199254740991:yI(i)?10:11:Ae(28295,{value:i})}function Ba(i,e){if(i===e)return!0;const n=yr(i);if(n!==yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return lc(i).isEqual(lc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=pr(o.timestampValue),m=pr(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return gr(o.bytesValue).isEqual(gr(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return bt(o.geoPointValue.latitude)===bt(c.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return bt(o.integerValue)===bt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=bt(o.doubleValue),m=bt(c.doubleValue);return h===m?Od(h)===Od(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return Eo(i.arrayValue.values||[],e.arrayValue.values||[],Ba);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},m=c.mapValue.fields||{};if(O0(h)!==O0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Ba(h[p],m[p])))return!1;return!0})(i,e);default:return Ae(52216,{left:i})}}function uc(i,e){return(i.values||[]).find((n=>Ba(n,e)))!==void 0}function Ao(i,e){if(i===e)return 0;const n=yr(i),r=yr(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(i.booleanValue,e.booleanValue);case 2:return(function(c,h){const m=bt(c.integerValue||c.doubleValue),p=bt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return V0(i.timestampValue,e.timestampValue);case 4:return V0(lc(i),lc(e));case 5:return Ym(i.stringValue,e.stringValue);case 6:return(function(c,h){const m=gr(c),p=gr(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(c,h){const m=c.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Le(m[g],p[g]);if(E!==0)return E}return Le(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,h){const m=Le(bt(c.latitude),bt(h.latitude));return m!==0?m:Le(bt(c.longitude),bt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return k0(i.arrayValue,e.arrayValue);case 10:return(function(c,h){const m=c.fields||{},p=h.fields||{},g=m[Vd]?.arrayValue,E=p[Vd]?.arrayValue,A=Le(g?.values?.length||0,E?.values?.length||0);return A!==0?A:k0(g,E)})(i.mapValue,e.mapValue);case 11:return(function(c,h){if(c===ld.mapValue&&h===ld.mapValue)return 0;if(c===ld.mapValue)return 1;if(h===ld.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const x=Ym(p[A],E[A]);if(x!==0)return x;const k=Ao(m[p[A]],g[E[A]]);if(k!==0)return k}return Le(p.length,E.length)})(i.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function V0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Le(i,e);const n=pr(i),r=pr(e),o=Le(n.seconds,r.seconds);return o!==0?o:Le(n.nanos,r.nanos)}function k0(i,e){const n=i.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=Ao(n[o],r[o]);if(c)return c}return Le(n.length,r.length)}function To(i){return Xm(i)}function Xm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=pr(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return gr(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ge.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=Xm(c);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of r)c?c=!1:o+=",",o+=`${h}:${Xm(n.fields[h])}`;return o+"}"})(i.mapValue):Ae(61005,{value:i})}function vd(i){switch(yr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=eh(i);return e?16+vd(e):16;case 5:return 2*i.stringValue.length;case 6:return gr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+vd(c)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return Ar(r.fields,((c,h)=>{o+=c.length+vd(h)})),o})(i.mapValue);default:throw Ae(13486,{value:i})}}function L0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function $m(i){return!!i&&"integerValue"in i}function Pp(i){return!!i&&"arrayValue"in i}function j0(i){return!!i&&"nullValue"in i}function U0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function _d(i){return!!i&&"mapValue"in i}function yI(i){return(i?.mapValue?.fields||{})[iA]?.stringValue===rA}function ec(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ar(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ec(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ec(i.arrayValue.values[n]);return e}return{...i}}function vI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===gI}class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_d(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(n)}setAll(e){let n=$t.emptyPath(),r={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=m.popLast()}h?r[m.lastSegment()]=ec(h):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());_d(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ba(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];_d(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Ar(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new vn(ec(this.value))}}function sA(i){const e=[];return Ar(i.fields,((n,r)=>{const o=new $t([n]);if(_d(r)){const c=sA(r.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new Mn(e)}class nn{constructor(e,n,r,o,c,h,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Se.min(),Se.min(),Se.min(),vn.empty(),0)}static newFoundDocument(e,n,r,o){return new nn(e,1,n,Se.min(),r,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Se.min(),Se.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Se.min(),Se.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kd{constructor(e,n){this.position=e,this.inclusive=n}}function B0(i,e,n){let r=0;for(let o=0;o<i.position.length;o++){const c=e[o],h=i.position[o];if(c.field.isKeyField()?r=ge.comparator(ge.fromName(h.referenceValue),n.key):r=Ao(h,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function z0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ba(i.position[n],e.position[n]))return!1;return!0}class dc{constructor(e,n="asc"){this.field=e,this.dir=n}}function _I(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class oA{}class Mt extends oA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EI(e,n,r):n==="array-contains"?new SI(e,r):n==="in"?new RI(e,r):n==="not-in"?new xI(e,r):n==="array-contains-any"?new wI(e,r):new Mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AI(e,r):new TI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ao(n,this.value)):n!==null&&yr(this.value)===yr(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class da extends oA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new da(e,n)}matches(e){return lA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lA(i){return i.op==="and"}function cA(i){return bI(i)&&lA(i)}function bI(i){for(const e of i.filters)if(e instanceof da)return!1;return!0}function Jm(i){if(i instanceof Mt)return i.field.canonicalString()+i.op.toString()+To(i.value);if(cA(i))return i.filters.map((e=>Jm(e))).join(",");{const e=i.filters.map((n=>Jm(n))).join(",");return`${i.op}(${e})`}}function uA(i,e){return i instanceof Mt?(function(r,o){return o instanceof Mt&&r.op===o.op&&r.field.isEqual(o.field)&&Ba(r.value,o.value)})(i,e):i instanceof da?(function(r,o){return o instanceof da&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,h,m)=>c&&uA(h,o.filters[m])),!0):!1})(i,e):void Ae(19439)}function dA(i){return i instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`})(i):i instanceof da?(function(n){return n.op.toString()+" {"+n.getFilters().map(dA).join(" ,")+"}"})(i):"Filter"}class EI extends Mt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class AI extends Mt{constructor(e,n){super(e,"in",n),this.keys=hA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class TI extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=hA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function hA(i,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class SI extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pp(n)&&uc(n.arrayValue,this.value)}}class RI extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uc(this.value.arrayValue,n)}}class xI extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uc(this.value.arrayValue,n)}}class wI extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>uc(this.value.arrayValue,r)))}}class CI{constructor(e,n=null,r=[],o=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=h,this.endAt=m,this.Te=null}}function H0(i,e=null,n=[],r=[],o=null,c=null,h=null){return new CI(i,e,n,r,o,c,h)}function Vp(i){const e=xe(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Jm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Wd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>To(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>To(r))).join(",")),e.Te=n}return e.Te}function kp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!_I(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!uA(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!z0(i.startAt,e.startAt)&&z0(i.endAt,e.endAt)}function Zm(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class ko{constructor(e,n=null,r=[],o=[],c=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function NI(i,e,n,r,o,c,h,m){return new ko(i,e,n,r,o,c,h,m)}function th(i){return new ko(i)}function q0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function II(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function fA(i){return i.collectionGroup!==null}function tc(i){const e=xe(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new kt($t.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new dc(c,r))})),n.has($t.keyField().canonicalString())||e.Ie.push(new dc($t.keyField(),r))}return e.Ie}function La(i){const e=xe(i);return e.Ee||(e.Ee=MI(e,tc(i))),e.Ee}function MI(i,e){if(i.limitType==="F")return H0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new dc(o.field,c)}));const n=i.endAt?new kd(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new kd(i.startAt.position,i.startAt.inclusive):null;return H0(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function Wm(i,e){const n=i.filters.concat([e]);return new ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function DI(i,e){const n=i.explicitOrderBy.concat([e]);return new ko(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function ep(i,e,n){return new ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function nh(i,e){return kp(La(i),La(e))&&i.limitType===e.limitType}function mA(i){return`${Vp(La(i))}|lt:${i.limitType}`}function ao(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>dA(o))).join(", ")}]`),Wd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>To(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>To(o))).join(",")),`Target(${r})`})(La(i))}; limitType=${i.limitType})`}function ah(i,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ge.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(i,e)&&(function(r,o){for(const c of tc(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(h,m,p){const g=B0(h,m,p);return h.inclusive?g<=0:g<0})(r.startAt,tc(r),o)||r.endAt&&!(function(h,m,p){const g=B0(h,m,p);return h.inclusive?g>=0:g>0})(r.endAt,tc(r),o))})(i,e)}function OI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function pA(i){return(e,n)=>{let r=!1;for(const o of tc(i)){const c=PI(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function PI(i,e,n){const r=i.field.isKeyField()?ge.comparator(e.key,n.key):(function(c,h,m){const p=h.data.field(c),g=m.data.field(c);return p!==null&&g!==null?Ao(p,g):Ae(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:i.dir})}}class fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ar(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}const VI=new ht(ge.comparator);function _i(){return VI}const gA=new ht(ge.comparator);function Yl(...i){let e=gA;for(const n of i)e=e.insert(n.key,n);return e}function yA(i){let e=gA;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ns(){return nc()}function vA(){return nc()}function nc(){return new fs((i=>i.toString()),((i,e)=>i.isEqual(e)))}const kI=new ht(ge.comparator),LI=new kt(ge.comparator);function je(...i){let e=LI;for(const n of i)e=e.add(n);return e}const jI=new kt(Le);function UI(){return jI}function Lp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(e)?"-0":e}}function _A(i){return{integerValue:""+i}}function BI(i,e){return uI(e)?_A(e):Lp(i,e)}class ih{constructor(){this._=void 0}}function zI(i,e,n){return i instanceof hc?(function(o,c){const h={fields:{[tA]:{stringValue:eA},[aA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Op(c)&&(c=eh(c)),c&&(h.fields[nA]=c),{mapValue:h}})(n,e):i instanceof fc?EA(i,e):i instanceof mc?AA(i,e):(function(o,c){const h=bA(o,c),m=F0(h)+F0(o.Ae);return $m(h)&&$m(o.Ae)?_A(m):Lp(o.serializer,m)})(i,e)}function HI(i,e,n){return i instanceof fc?EA(i,e):i instanceof mc?AA(i,e):n}function bA(i,e){return i instanceof Ld?(function(r){return $m(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class hc extends ih{}class fc extends ih{constructor(e){super(),this.elements=e}}function EA(i,e){const n=TA(e);for(const r of i.elements)n.some((o=>Ba(o,r)))||n.push(r);return{arrayValue:{values:n}}}class mc extends ih{constructor(e){super(),this.elements=e}}function AA(i,e){let n=TA(e);for(const r of i.elements)n=n.filter((o=>!Ba(o,r)));return{arrayValue:{values:n}}}class Ld extends ih{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function F0(i){return bt(i.integerValue||i.doubleValue)}function TA(i){return Pp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class qI{constructor(e,n){this.field=e,this.transform=n}}function FI(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof fc&&o instanceof fc||r instanceof mc&&o instanceof mc?Eo(r.elements,o.elements,Ba):r instanceof Ld&&o instanceof Ld?Ba(r.Ae,o.Ae):r instanceof hc&&o instanceof hc})(i.transform,e.transform)}class GI{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bd(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class rh{}function SA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new jp(i.key,Yn.none()):new Sc(i.key,i.data,Yn.none());{const n=i.data,r=vn.empty();let o=new kt($t.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?r.delete(c):r.set(c,h),o=o.add(c)}return new Tr(i.key,r,new Mn(o.toArray()),Yn.none())}}function KI(i,e,n){i instanceof Sc?(function(o,c,h){const m=o.value.clone(),p=K0(o.fieldTransforms,c,h.transformResults);m.setAll(p),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Tr?(function(o,c,h){if(!bd(o.precondition,c))return void c.convertToUnknownDocument(h.version);const m=K0(o.fieldTransforms,c,h.transformResults),p=c.data;p.setAll(RA(o)),p.setAll(m),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function ac(i,e,n,r){return i instanceof Sc?(function(c,h,m,p){if(!bd(c.precondition,h))return m;const g=c.value.clone(),E=Q0(c.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,r):i instanceof Tr?(function(c,h,m,p){if(!bd(c.precondition,h))return m;const g=Q0(c.fieldTransforms,p,h),E=h.data;return E.setAll(RA(c)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(i,e,n,r):(function(c,h,m){return bd(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function QI(i,e){let n=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),c=bA(r.transform,o||null);c!=null&&(n===null&&(n=vn.empty()),n.set(r.field,c))}return n||null}function G0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Eo(r,o,((c,h)=>FI(c,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Sc extends rh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Tr extends rh{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function RA(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function K0(i,e,n){const r=new Map;Xe(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const c=i[o],h=c.transform,m=e.data.field(c.field);r.set(c.field,HI(h,m,n[o]))}return r}function Q0(i,e,n){const r=new Map;for(const o of i){const c=o.transform,h=n.data.field(o.field);r.set(o.field,zI(c,h,e))}return r}class jp extends rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YI extends rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class XI{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&KI(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vA();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(o.key)?null:m;const p=SA(h,m);p!==null&&r.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,((n,r)=>G0(n,r)))&&Eo(this.baseMutations,e.baseMutations,((n,r)=>G0(n,r)))}}class Up{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return kI})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,r[h].version);return new Up(e,n,r,o)}}class $I{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class JI{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,qe;function ZI(i){switch(i){case ee.OK:return Ae(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ae(15467,{code:i})}}function xA(i){if(i===void 0)return vi("GRPC error has no .code"),ee.UNKNOWN;switch(i){case It.OK:return ee.OK;case It.CANCELLED:return ee.CANCELLED;case It.UNKNOWN:return ee.UNKNOWN;case It.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case It.INTERNAL:return ee.INTERNAL;case It.UNAVAILABLE:return ee.UNAVAILABLE;case It.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case It.NOT_FOUND:return ee.NOT_FOUND;case It.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case It.ABORTED:return ee.ABORTED;case It.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case It.DATA_LOSS:return ee.DATA_LOSS;default:return Ae(39323,{code:i})}}(qe=It||(It={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function WI(){return new TextEncoder}const e2=new hr([4294967295,4294967295],0);function Y0(i){const e=WI().encode(i),n=new zE;return n.update(e),new Uint8Array(n.digest())}function X0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new hr([n,r],0),new hr([o,c],0)]}class Bp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=hr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(hr.fromNumber(r)));return o.compare(e2)===1&&(o=new hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Y0(e),[r,o]=X0(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(r,o,c);if(!this.we(h))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Bp(c,o,n);return r.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=Y0(e),[r,o]=X0(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(r,o,c);this.be(h)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sh{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sh(Se.min(),o,new ht(Le),_i(),je())}}class Rc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rc(r,n,je(),je(),je())}}class Ed{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class wA{constructor(e,n){this.targetId=e,this.Ce=n}}class CA{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class $0{constructor(){this.ve=0,this.Fe=J0(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),r=je();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ae(38017,{changeType:c})}})),new Rc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=J0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class t2{constructor(e){this.Ge=e,this.ze=new Map,this.je=_i(),this.He=cd(),this.Je=cd(),this.Ze=new ht(Le)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Zm(c))if(r===0){const h=new ge(c.path);this.et(n,h,nn.newNoDocument(h,Se.min()))}else Xe(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let h,m;try{h=gr(r).toUint8Array()}catch(p){if(p instanceof WE)return bo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Bp(h,o,c)}catch(p){return bo(p instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const m=this.ot(h);if(m){if(c.current&&Zm(m.target)){const p=new ge(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,nn.newNoDocument(p,e))}c.Be&&(n.set(h,c.ke()),c.Ke())}}));let r=je();this.Je.forEach(((c,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new sh(e,n,this.Ze,this.je,r);return this.je=_i(),this.He=cd(),this.Je=cd(),this.Ze=new ht(Le),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new $0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new kt(Le),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new kt(Le),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function cd(){return new ht(ge.comparator)}function J0(){return new ht(ge.comparator)}const n2={asc:"ASCENDING",desc:"DESCENDING"},a2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i2={and:"AND",or:"OR"};class r2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tp(i,e){return i.useProto3Json||Wd(e)?e:{value:e}}function jd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function s2(i,e){return jd(i,e.toTimestamp())}function ja(i){return Xe(!!i,49232),Se.fromTimestamp((function(n){const r=pr(n);return new lt(r.seconds,r.nanos)})(i))}function zp(i,e){return np(i,e).canonicalString()}function np(i,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function IA(i){const e=rt.fromString(i);return Xe(VA(e),10190,{key:e.toString()}),e}function ap(i,e){return zp(i.databaseId,e.path)}function Om(i,e){const n=IA(e);if(n.get(1)!==i.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(DA(n))}function MA(i,e){return zp(i.databaseId,e)}function o2(i){const e=IA(i);return e.length===4?rt.emptyPath():DA(e)}function ip(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function DA(i){return Xe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Z0(i,e,n){return{name:ap(i,e),fields:n.value.mapValue.fields}}function l2(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,E){return g.useProto3Json?(Xe(E===void 0||typeof E=="string",58123),Jt.fromBase64String(E||"")):(Xe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Jt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?ee.UNKNOWN:xA(g.code);return new ce(E,g.message||"")})(h);n=new CA(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Om(i,r.document.name),c=ja(r.document.updateTime),h=r.document.createTime?ja(r.document.createTime):Se.min(),m=new vn({mapValue:{fields:r.document.fields}}),p=nn.newFoundDocument(o,c,h,m),g=r.targetIds||[],E=r.removedTargetIds||[];n=new Ed(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Om(i,r.document),c=r.readTime?ja(r.readTime):Se.min(),h=nn.newNoDocument(o,c),m=r.removedTargetIds||[];n=new Ed([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Om(i,r.document),c=r.removedTargetIds||[];n=new Ed([],c,o,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,h=new JI(o,c),m=r.targetId;n=new wA(m,h)}}return n}function c2(i,e){let n;if(e instanceof Sc)n={update:Z0(i,e.key,e.value)};else if(e instanceof jp)n={delete:ap(i,e.key)};else if(e instanceof Tr)n={update:Z0(i,e.key,e.data),updateMask:v2(e.fieldMask)};else{if(!(e instanceof YI))return Ae(16599,{dt:e.type});n={verify:ap(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,h){const m=h.transform;if(m instanceof hc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof fc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof mc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ld)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ae(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:s2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ae(27497)})(i,e.precondition)),n}function u2(i,e){return i&&i.length>0?(Xe(e!==void 0,14353),i.map((n=>(function(o,c){let h=o.updateTime?ja(o.updateTime):ja(c);return h.isEqual(Se.min())&&(h=ja(c)),new GI(h,o.transformResults||[])})(n,e)))):[]}function d2(i,e){return{documents:[MA(i,e.path)]}}function h2(i,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MA(i,o);const c=(function(g){if(g.length!==0)return PA(da.create(g,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(g){if(g.length!==0)return g.map((E=>(function(x){return{field:io(x.field),direction:p2(x.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=tp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function f2(i){let e=o2(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Xe(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(A){const x=OA(A);return x instanceof da&&cA(x)?x.getFilters():[x]})(n.where));let h=[];n.orderBy&&(h=(function(A){return A.map((x=>(function(q){return new dc(ro(q.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(x)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let x;return x=typeof A=="object"?A.value:A,Wd(x)?null:x})(n.limit));let p=null;n.startAt&&(p=(function(A){const x=!!A.before,k=A.values||[];return new kd(k,x)})(n.startAt));let g=null;return n.endAt&&(g=(function(A){const x=!A.before,k=A.values||[];return new kd(k,x)})(n.endAt)),NI(e,o,h,c,m,"F",p,g)}function m2(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OA(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ro(n.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ro(n.unaryFilter.field);return Mt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ro(n.unaryFilter.field);return Mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Mt.create(ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return da.create(n.compositeFilter.filters.map((r=>OA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(i):Ae(30097,{filter:i})}function p2(i){return n2[i]}function g2(i){return a2[i]}function y2(i){return i2[i]}function io(i){return{fieldPath:i.canonicalString()}}function ro(i){return $t.fromServerFormat(i.fieldPath)}function PA(i){return i instanceof Mt?(function(n){if(n.op==="=="){if(U0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(j0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(U0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(j0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:g2(n.op),value:n.value}}})(i):i instanceof da?(function(n){const r=n.getFilters().map((o=>PA(o)));return r.length===1?r[0]:{compositeFilter:{op:y2(n.op),filters:r}}})(i):Ae(54877,{filter:i})}function v2(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function VA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function kA(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class lr{constructor(e,n,r,o,c=Se.min(),h=Se.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _2{constructor(e){this.yt=e}}function b2(i){const e=f2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ep(e,e.limit,"L"):e}class E2{constructor(){this.Sn=new A2}addToCollectionParentIndex(e,n){return this.Sn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(mr.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(mr.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class A2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new kt(rt.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new kt(rt.comparator)).toArray()}}const W0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LA=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(LA,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class So{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new So(0)}static ar(){return new So(-1)}}const eb="LruGarbageCollector",T2=1048576;function tb([i,e],[n,r]){const o=Le(i,n);return o===0?Le(e,r):o}class S2{constructor(e){this.Pr=e,this.buffer=new kt(tb),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class R2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){de(eb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vo(n)?de(eb,"Ignoring IndexedDB error during garbage collection: ",n):await Po(n)}await this.Ar(3e5)}))}}class x2{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Zd.ce);const r=new S2(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(W0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,c,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,m=Date.now(),this.removeTargets(e,r,n)))).next((A=>(c=A,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(g=Date.now(),no()<=ke.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function w2(i,e){return new x2(i,e)}class C2{constructor(){this.changes=new fs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class N2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class I2{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&ac(r.mutation,o,Mn.empty(),lt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=je()){const o=ns();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let h=Yl();return c.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=ns();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,je())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,r,o){let c=_i();const h=nc(),m=(function(){return nc()})();return n.forEach(((p,g)=>{const E=r.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Tr)?c=c.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),ac(E.mutation,g,E.mutation.getFieldMask(),lt.now())):h.set(g.key,Mn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new N2(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=nc();let o=new ht(((h,m)=>h-m)),c=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=r.get(p)||Mn.empty();E=m.applyToLocalView(g,E),r.set(p,E);const A=(o.get(m.batchId)||je()).add(p);o=o.insert(m.batchId,A)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=vA();E.forEach((x=>{if(!c.has(x)){const k=SA(n.get(x),r.get(x));k!==null&&A.set(x,k),c=c.add(x)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ae.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return II(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):ae.resolve(ns());let m=oc,p=c;return h.next((g=>ae.forEach(g,((E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),c.get(E)?ae.resolve():this.remoteDocumentCache.getEntry(e,E).next((x=>{p=p.insert(E,x)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,p,g,je()))).next((E=>({batchId:m,changes:yA(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((r=>{let o=Yl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let h=Yl();return this.indexManager.getCollectionParents(e,c).next((m=>ae.forEach(m,(p=>{const g=(function(A,x){return new ko(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next((E=>{E.forEach(((A,x)=>{h=h.insert(A,x)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((h=>{c.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,nn.newInvalidDocument(E)))}));let m=Yl();return h.forEach(((p,g)=>{const E=c.get(p);E!==void 0&&ac(E.mutation,g,Mn.empty(),lt.now()),ah(n,g)&&(m=m.insert(p,g))})),m}))}}class M2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ae.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ja(o.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:b2(o.bundledQuery),readTime:ja(o.readTime)}})(n)),ae.resolve()}}class D2{constructor(){this.overlays=new ht(ge.comparator),this.Lr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ns();return ae.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.bt(e,n,c)})),ae.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const o=ns(),c=n.length+1,h=new ge(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===c&&p.largestBatchId>r&&o.set(p.getKey(),p)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new ht(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let E=c.get(g.largestBatchId);E===null&&(E=ns(),c=c.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ns(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ae.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new $I(n,r));let c=this.Lr.get(n);c===void 0&&(c=je(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}class O2{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class Hp{constructor(){this.kr=new kt(Ht.Kr),this.qr=new kt(Ht.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Ht(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Ht(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ge(new rt([])),r=new Ht(n,e),o=new Ht(n,e+1),c=[];return this.qr.forEachInRange([r,o],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ge(new rt([])),r=new Ht(n,e),o=new Ht(n,e+1);let c=je();return this.qr.forEachInRange([r,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new Ht(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ht{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ge.comparator(e.key,n.key)||Le(e.Hr,n.Hr)}static Ur(e,n){return Le(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}class P2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new kt(Ht.Kr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new XI(c,n,r,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Ht(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(h)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),c=o<0?0:o;return ae.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Dp:this.Yn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ht(n,0),o=new Ht(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(h=>{const m=this.Zr(h.Hr);c.push(m)})),ae.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Le);return n.forEach((o=>{const c=new Ht(o,0),h=new Ht(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(m=>{r=r.add(m.Hr)}))})),ae.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;ge.isDocumentKey(c)||(c=c.child(""));const h=new Ht(new ge(c),0);let m=new kt(Le);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),h),ae.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Xe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ae.forEach(n.mutations,(o=>{const c=new Ht(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Ht(n,0),o=this.Jr.firstAfterOrEqual(r);return ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class V2{constructor(e){this.ti=e,this.docs=(function(){return new ht(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=_i();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():nn.newInvalidDocument(o))})),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=_i();const h=n.path,m=new ge(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||sI(rI(E),r)<=0||(o.has(E.key)||ah(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return ae.resolve(c)}getAllFromCollectionGroup(e,n,r,o){Ae(9500)}ni(e,n){return ae.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new k2(this)}getSize(e){return ae.resolve(this.size)}}class k2 extends C2{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),ae.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class L2{constructor(e){this.persistence=e,this.ri=new fs((n=>Vp(n)),kp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new Hp,this.targetCount=0,this.oi=So._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ae.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new So(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.lr(n),ae.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ae.waitFor(c).next((()=>o))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),ae.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this.si.containsKey(n))}}class jA{constructor(e,n){this._i={},this.overlays={},this.ai=new Zd(0),this.ui=!1,this.ui=!0,this.ci=new O2,this.referenceDelegate=e(this),this.li=new L2(this),this.indexManager=new E2,this.remoteDocumentCache=(function(o){return new V2(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new _2(n),this.Pi=new M2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new D2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new P2(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const o=new j2(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return ae.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class j2 extends lI{constructor(e){super(),this.currentSequenceNumber=e}}class qp{constructor(e){this.persistence=e,this.Ri=new Hp,this.Ai=null}static Vi(e){return new qp(e)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,(r=>{const o=ge.fromPath(r);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ud{constructor(e,n){this.persistence=e,this.fi=new fs((r=>dI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=w2(this,n)}static Vi(e,n){return new Ud(e,n)}Ti(){}Ii(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ae.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?ae.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(r++,c.removeEntry(h,Se.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vd(e.data.value)),n}wr(e,n,r){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ae.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Fp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=je(),o=je();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Fp(e,n.fromCache,r,o)}}class U2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class B2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ox()?8:cI(an())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.gs(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,n,o,r).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new U2;return this.ys(e,n,h).next((m=>{if(c.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>c.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(no()<=ke.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(no()<=ke.DEBUG&&de("QueryEngine","Query:",ao(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(no()<=ke.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,La(n))):ae.resolve())}gs(e,n){if(q0(n))return ae.resolve(null);let r=La(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ep(n,null,"F"),r=La(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const h=je(...c);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,r).next((p=>{const g=this.bs(n,m);return this.Ss(n,g,h,p.readTime)?this.gs(e,ep(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,r,o){return q0(n)||o.isEqual(Se.min())?ae.resolve(null):this.fs.getDocuments(e,r).next((c=>{const h=this.bs(n,c);return this.Ss(n,h,r,o)?ae.resolve(null):(no()<=ke.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.Ds(e,h,n,iI(o,oc)).next((m=>m)))}))}bs(e,n){let r=new kt(pA(e));return n.forEach(((o,c)=>{ah(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,r){return no()<=ke.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",ao(n)),this.fs.getDocumentsMatchingQuery(e,n,mr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const Gp="LocalStore",z2=3e8;class H2{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ht(Le),this.Fs=new fs((c=>Vp(c)),kp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function q2(i,e,n,r){return new H2(i,e,n,r)}async function UA(i,e){const n=xe(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const h=[],m=[];let p=je();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of c){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(r,p).next((g=>({Ns:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function F2(i,e){const n=xe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const A=g.batch,x=A.keys();let k=ae.resolve();return x.forEach((q=>{k=k.next((()=>E.getEntry(p,q))).next((B=>{const G=g.docVersions.get(q);Xe(G!==null,48541),B.version.compareTo(G)<0&&(A.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),E.addEntry(B)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,A)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=je();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function BA(i){const e=xe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function G2(i,e){const n=xe(i),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,A)=>{const x=o.get(A);if(!x)return;m.push(n.li.removeMatchingKeys(c,E.removedDocuments,A).next((()=>n.li.addMatchingKeys(c,E.addedDocuments,A))));let k=x.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?k=k.withResumeToken(Jt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,r)),o=o.insert(A,k),(function(B,G,$){return B.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=z2?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(x,k,E)&&m.push(n.li.updateTargetData(c,k))}));let p=_i(),g=je();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push(K2(c,h,e.documentUpdates).next((E=>{p=E.Bs,g=E.Ls}))),!r.isEqual(Se.min())){const E=n.li.getLastRemoteSnapshotVersion(c).next((A=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(E)}return ae.waitFor(m).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,g))).next((()=>p))})).then((c=>(n.vs=o,c)))}function K2(i,e,n){let r=je(),o=je();return n.forEach((c=>r=r.add(c))),e.getEntries(i,r).next((c=>{let h=_i();return n.forEach(((m,p)=>{const g=c.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):de(Gp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:h,Ls:o}}))}function Q2(i,e){const n=xe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Dp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Y2(i,e){const n=xe(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((c=>c?(o=c,ae.resolve(o)):n.li.allocateTargetId(r).next((h=>(o=new lr(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function rp(i,e,n){const r=xe(i),o=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Vo(h))throw h;de(Gp,`Failed to update sequence numbers for target ${e}: ${h}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function nb(i,e,n){const r=xe(i);let o=Se.min(),c=je();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const A=xe(p),x=A.Fs.get(E);return x!==void 0?ae.resolve(A.vs.get(x)):A.li.getTargetData(g,E)})(r,h,La(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(h,m.targetId).next((p=>{c=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(h,e,n?o:Se.min(),n?c:je()))).next((m=>(X2(r,OI(e),m),{documents:m,ks:c})))))}function X2(i,e,n){let r=i.Ms.get(e)||Se.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),i.Ms.set(e,r)}class ab{constructor(){this.activeTargetIds=UI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $2{constructor(){this.vo=new ab,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ab,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class J2{Mo(e){}shutdown(){}}const ib="ConnectivityMonitor";class rb{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){de(ib,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){de(ib,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ud=null;function sp(){return ud===null?ud=(function(){return 268435456+Math.round(2147483648*Math.random())})():ud++,"0x"+ud.toString(16)}const Pm="RestConnection",Z2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class W2{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Pd?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,c){const h=sp(),m=this.Qo(e,n.toUriEncodedString());de(Pm,`Sending RPC '${e}' ${h}:`,m,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,c);const{host:g}=new URL(m),E=Io(g);return this.zo(e,m,p,r,E).then((A=>(de(Pm,`Received RPC '${e}' ${h}: `,A),A)),(A=>{throw bo(Pm,`RPC '${e}' ${h} failed with error: `,A,"url: ",m,"request:",r),A}))}jo(e,n,r,o,c,h){return this.Wo(e,n,r,o,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Oo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const r=Z2[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class eM{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",Fl=(i,e,n)=>{i.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class uo extends W2{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!uo.c_){const e=GE();Fl(e,FE.STAT_EVENT,(n=>{n.stat===Qm.PROXY?de(en,"STAT_EVENT: detected buffering proxy"):n.stat===Qm.NOPROXY&&de(en,"STAT_EVENT: detected no buffering proxy")})),uo.c_=!0}}zo(e,n,r,o,c){const h=sp();return new Promise(((m,p)=>{const g=new HE;g.setWithCredentials(!0),g.listenOnce(qE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case yd.NO_ERROR:const A=g.getResponseJson();de(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),m(A);break;case yd.TIMEOUT:de(en,`RPC '${e}' ${h} timed out`),p(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case yd.HTTP_ERROR:const x=g.getStatus();if(de(en,`RPC '${e}' ${h} failed with status:`,x,"response text:",g.getResponseText()),x>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const q=k?.error;if(q&&q.status&&q.message){const B=(function($){const W=$.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(W)>=0?W:ee.UNKNOWN})(q.status);p(new ce(B,q.message))}else p(new ce(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(en,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);de(en,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,r,15)}))}T_(e,n,r){const o=sp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const g=c.join("");de(en,`Creating RPC '${e}' stream ${o}: ${g}`,m);const E=h.createWebChannel(g,m);this.I_(E);let A=!1,x=!1;const k=new eM({Ho:q=>{x?de(en,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(A||(de(en,`Opening RPC '${e}' stream ${o} transport.`),E.open(),A=!0),de(en,`RPC '${e}' stream ${o} sending:`,q),E.send(q))},Jo:()=>E.close()});return Fl(E,Ql.EventType.OPEN,(()=>{x||(de(en,`RPC '${e}' stream ${o} transport opened.`),k.i_())})),Fl(E,Ql.EventType.CLOSE,(()=>{x||(x=!0,de(en,`RPC '${e}' stream ${o} transport closed`),k.o_(),this.E_(E))})),Fl(E,Ql.EventType.ERROR,(q=>{x||(x=!0,bo(en,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),k.o_(new ce(ee.UNAVAILABLE,"The operation could not be completed")))})),Fl(E,Ql.EventType.MESSAGE,(q=>{if(!x){const B=q.data[0];Xe(!!B,16349);const G=B,$=G?.error||G[0]?.error;if($){de(en,`RPC '${e}' stream ${o} received error:`,$);const W=$.status;let re=(function(ie){const N=It[ie];if(N!==void 0)return xA(N)})(W),_e=$.message;re===void 0&&(re=ee.INTERNAL,_e="Unknown error status: "+W+" with message "+$.message),x=!0,k.o_(new ce(re,_e)),E.close()}else de(en,`RPC '${e}' stream ${o} received:`,B),k.__(B)}})),uo.u_(),setTimeout((()=>{k.s_()}),0),k}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return KE()}}function tM(i){return new uo(i)}function Vm(){return typeof document<"u"?document:null}function oh(i){return new r2(i,!0)}uo.c_=!1;class zA{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const sb="PersistentStream";class HA{constructor(e,n,r,o,c,h,m,p){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(vi(n.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(sb,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(de(sb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nM extends HA{constructor(e,n,r,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=l2(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Se.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?ja(h.readTime):Se.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=ip(this.serializer),n.addTarget=(function(c,h){let m;const p=h.target;if(m=Zm(p)?{documents:d2(c,p)}:{query:h2(c,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=NA(c,h.resumeToken);const g=tp(c,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=jd(c,h.snapshotVersion.toTimestamp());const g=tp(c,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const r=m2(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=ip(this.serializer),n.removeTarget=e,this.K_(n)}}class aM extends HA{constructor(e,n,r,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=u2(e.writeResults,e.commitTime),r=ja(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ip(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>c2(this.serializer,r)))};this.K_(n)}}class iM{}class rM extends iM{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,np(n,r),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(ee.UNKNOWN,c.toString())}))}jo(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,np(n,r),o,h,m,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(ee.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function sM(i,e,n,r){return new rM(i,e,n,r)}class oM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vi(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const us="RemoteStore";class lM{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{r.enqueueAndForget((async()=>{ms(this)&&(de(us,"Restarting streams for network reachability change."),await(async function(p){const g=xe(p);g.Ea.add(4),await xc(g),g.Va.set("Unknown"),g.Ea.delete(4),await lh(g)})(this))}))})),this.Va=new oM(r,o)}}async function lh(i){if(ms(i))for(const e of i.Ra)await e(!0)}async function xc(i){for(const e of i.Ra)await e(!1)}function qA(i,e){const n=xe(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Xp(n)?Yp(n):Lo(n).O_()&&Qp(n,e))}function Kp(i,e){const n=xe(i),r=Lo(n);n.Ia.delete(e),r.O_()&&FA(n,e),n.Ia.size===0&&(r.O_()?r.L_():ms(n)&&n.Va.set("Unknown"))}function Qp(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Lo(i).Z_(e)}function FA(i,e){i.da.$e(e),Lo(i).X_(e)}function Yp(i){i.da=new t2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Lo(i).start(),i.Va.ua()}function Xp(i){return ms(i)&&!Lo(i).x_()&&i.Ia.size>0}function ms(i){return xe(i).Ea.size===0}function GA(i){i.da=void 0}async function cM(i){i.Va.set("Online")}async function uM(i){i.Ia.forEach(((e,n)=>{Qp(i,e)}))}async function dM(i,e){GA(i),Xp(i)?(i.Va.ha(e),Yp(i)):i.Va.set("Unknown")}async function hM(i,e,n){if(i.Va.set("Online"),e instanceof CA&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(r){de(us,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bd(i,r)}else if(e instanceof Ed?i.da.Xe(e):e instanceof wA?i.da.st(e):i.da.tt(e),!n.isEqual(Se.min()))try{const r=await BA(i.localStore);n.compareTo(r)>=0&&await(function(c,h){const m=c.da.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.Ia.get(g);E&&c.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=c.Ia.get(p);if(!E)return;c.Ia.set(p,E.withResumeToken(Jt.EMPTY_BYTE_STRING,E.snapshotVersion)),FA(c,p);const A=new lr(E.target,p,g,E.sequenceNumber);Qp(c,A)})),c.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(r){de(us,"Failed to raise snapshot:",r),await Bd(i,r)}}async function Bd(i,e,n){if(!Vo(e))throw e;i.Ea.add(1),await xc(i),i.Va.set("Offline"),n||(n=()=>BA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{de(us,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await lh(i)}))}function KA(i,e){return e().catch((n=>Bd(i,n,e)))}async function ch(i){const e=xe(i),n=vr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dp;for(;fM(e);)try{const o=await Q2(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,mM(e,o)}catch(o){await Bd(e,o)}QA(e)&&YA(e)}function fM(i){return ms(i)&&i.Ta.length<10}function mM(i,e){i.Ta.push(e);const n=vr(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function QA(i){return ms(i)&&!vr(i).x_()&&i.Ta.length>0}function YA(i){vr(i).start()}async function pM(i){vr(i).ra()}async function gM(i){const e=vr(i);for(const n of i.Ta)e.ea(n.mutations)}async function yM(i,e,n){const r=i.Ta.shift(),o=Up.from(r,e,n);await KA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await ch(i)}async function vM(i,e){e&&vr(i).Y_&&await(async function(r,o){if((function(h){return ZI(h)&&h!==ee.ABORTED})(o.code)){const c=r.Ta.shift();vr(r).B_(),await KA(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await ch(r)}})(i,e),QA(i)&&YA(i)}async function ob(i,e){const n=xe(i);n.asyncQueue.verifyOperationInProgress(),de(us,"RemoteStore received new credentials");const r=ms(n);n.Ea.add(3),await xc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lh(n)}async function _M(i,e){const n=xe(i);e?(n.Ea.delete(2),await lh(n)):e||(n.Ea.add(2),await xc(n),n.Va.set("Unknown"))}function Lo(i){return i.ma||(i.ma=(function(n,r,o){const c=xe(n);return c.sa(),new nM(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:cM.bind(null,i),Yo:uM.bind(null,i),t_:dM.bind(null,i),J_:hM.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),Xp(i)?Yp(i):i.Va.set("Unknown")):(await i.ma.stop(),GA(i))}))),i.ma}function vr(i){return i.fa||(i.fa=(function(n,r,o){const c=xe(n);return c.sa(),new aM(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:pM.bind(null,i),t_:vM.bind(null,i),ta:gM.bind(null,i),na:yM.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await ch(i)):(await i.fa.stop(),i.Ta.length>0&&(de(us,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class $p{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const h=Date.now()+r,m=new $p(e,n,h,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jp(i,e){if(vi("AsyncQueue",`${e}: ${i}`),Vo(i))return new ce(ee.UNAVAILABLE,`${e}: ${i}`);throw i}class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Yl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class lb{constructor(){this.ga=new ht(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ro{constructor(e,n,r,o,c,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,o,c){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Ro(e,n,ho.emptySet(n),h,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class bM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class EM{constructor(){this.queries=cb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=xe(n),c=o.queries;o.queries=cb(),c.forEach(((h,m)=>{for(const p of m.ba)p.onError(r)}))})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function cb(){return new fs((i=>mA(i)),nh)}async function Zp(i,e){const n=xe(i);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new bM,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Jp(h,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&eg(n)}async function Wp(i,e){const n=xe(i),r=e.query;let o=3;const c=n.queries.get(r);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function AM(i,e){const n=xe(i);let r=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const m of h.ba)m.Fa(o)&&(r=!0);h.wa=o}}r&&eg(n)}function TM(i,e,n){const r=xe(i),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(n);r.queries.delete(e)}function eg(i){i.Ca.forEach((e=>{e.next()}))}var op,ub;(ub=op||(op={})).Ma="default",ub.Cache="cache";class tg{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==op.Cache}}class XA{constructor(e){this.key=e}}class $A{constructor(e){this.key=e}}class SM{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=pA(e),this.tu=new ho(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new lb,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const x=o.get(E),k=ah(this.query,A)?A:null,q=!!x&&this.mutatedKeys.has(x.key),B=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let G=!1;x&&k?x.data.isEqual(k.data)?q!==B&&(r.track({type:3,doc:k}),G=!0):this.su(x,k)||(r.track({type:2,doc:k}),G=!0,(p&&this.eu(k,p)>0||g&&this.eu(k,g)<0)&&(m=!0)):!x&&k?(r.track({type:0,doc:k}),G=!0):x&&!k&&(r.track({type:1,doc:x}),G=!0,(p||g)&&(m=!0)),G&&(k?(h=h.add(k),c=B?c.add(E):c.delete(E)):(h=h.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:h,iu:r,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,A)=>(function(k,q){const B=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:G})}};return B(k)-B(q)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,h.length!==0||g?{snapshot:new Ro(this.query,e.tu,c,h,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lb,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new $A(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new XA(r))})),n}cu(e){this.Za=e.ks,this.Ya=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ng="SyncEngine";class RM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xM{constructor(e){this.key=e,this.hu=!1}}class wM{constructor(e,n,r,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new fs((m=>mA(m)),nh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(ge.comparator),this.Au=new Map,this.Vu=new Hp,this.du={},this.mu=new Map,this.fu=So.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CM(i,e,n=!0){const r=nT(i);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await JA(r,e,n,!0),o}async function NM(i,e){const n=nT(i);await JA(n,e,!0,!1)}async function JA(i,e,n,r){const o=await Y2(i.localStore,La(e)),c=o.targetId,h=i.sharedClientState.addLocalQueryTarget(c,n);let m;return r&&(m=await IM(i,e,c,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&qA(i.remoteStore,o),m}async function IM(i,e,n,r,o){i.pu=(A,x,k)=>(async function(B,G,$,W){let re=G.view.ru($);re.Ss&&(re=await nb(B.localStore,G.query,!1).then((({documents:N})=>G.view.ru(N,re))));const _e=W&&W.targetChanges.get(G.targetId),ye=W&&W.targetMismatches.get(G.targetId)!=null,ie=G.view.applyChanges(re,B.isPrimaryClient,_e,ye);return hb(B,G.targetId,ie.au),ie.snapshot})(i,A,x,k);const c=await nb(i.localStore,e,!0),h=new SM(e,c.ks),m=h.ru(c.documents),p=Rc.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);hb(i,n,g.au);const E=new RM(e,n,h);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function MM(i,e,n){const r=xe(i),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((h=>!nh(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await rp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Kp(r.remoteStore,o.targetId),lp(r,o.targetId)})).catch(Po)):(lp(r,o.targetId),await rp(r.localStore,o.targetId,!0))}async function DM(i,e){const n=xe(i),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kp(n.remoteStore,r.targetId))}async function OM(i,e,n){const r=BM(i);try{const o=await(function(h,m){const p=xe(h),g=lt.now(),E=m.reduce(((k,q)=>k.add(q.key)),je());let A,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let q=_i(),B=je();return p.xs.getEntries(k,E).next((G=>{q=G,q.forEach((($,W)=>{W.isValidDocument()||(B=B.add($))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,q))).next((G=>{A=G;const $=[];for(const W of m){const re=QI(W,A.get(W.key).overlayedDocument);re!=null&&$.push(new Tr(W.key,re,sA(re.value.mapValue),Yn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,$,m)})).next((G=>{x=G;const $=G.applyToLocalDocumentSet(A,B);return p.documentOverlayCache.saveOverlays(k,G.batchId,$)}))})).then((()=>({batchId:x.batchId,changes:yA(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.du[h.currentUser.toKey()];g||(g=new ht(Le)),g=g.insert(m,p),h.du[h.currentUser.toKey()]=g})(r,o.batchId,n),await wc(r,o.changes),await ch(r.remoteStore)}catch(o){const c=Jp(o,"Failed to persist write");n.reject(c)}}async function ZA(i,e){const n=xe(i);try{const r=await G2(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Xe(h.hu,14607):o.removedDocuments.size>0&&(Xe(h.hu,42227),h.hu=!1))})),await wc(n,r,e)}catch(r){await Po(r)}}function db(i,e,n){const r=xe(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=xe(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,A)=>{for(const x of A.ba)x.va(m)&&(g=!0)})),g&&eg(p)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function PM(i,e,n){const r=xe(i);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let h=new ht(ge.comparator);h=h.insert(c,nn.newNoDocument(c,Se.min()));const m=je().add(c),p=new sh(Se.min(),new Map,new ht(Le),h,m);await ZA(r,p),r.Ru=r.Ru.remove(c),r.Au.delete(e),ag(r)}else await rp(r.localStore,e,!1).then((()=>lp(r,e,n))).catch(Po)}async function VM(i,e){const n=xe(i),r=e.batch.batchId;try{const o=await F2(n.localStore,e);eT(n,r,null),WA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wc(n,o)}catch(o){await Po(o)}}async function kM(i,e,n){const r=xe(i);try{const o=await(function(h,m){const p=xe(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((A=>(Xe(A!==null,37113),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(r.localStore,e);eT(r,e,n),WA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wc(r,o)}catch(o){await Po(o)}}function WA(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function eT(i,e,n){const r=xe(i);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function lp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((r=>{i.Vu.containsKey(r)||tT(i,r)}))}function tT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(Kp(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),ag(i))}function hb(i,e,n){for(const r of n)r instanceof XA?(i.Vu.addReference(r.key,e),LM(i,r)):r instanceof $A?(de(ng,"Document no longer in limbo: "+r.key),i.Vu.removeReference(r.key,e),i.Vu.containsKey(r.key)||tT(i,r.key)):Ae(19791,{wu:r})}function LM(i,e){const n=e.key,r=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(r)||(de(ng,"New document in limbo: "+n),i.Eu.add(r),ag(i))}function ag(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ge(rt.fromString(e)),r=i.fu.next();i.Au.set(r,new xM(n)),i.Ru=i.Ru.insert(n,r),qA(i.remoteStore,new lr(La(th(n.path)),r,"TargetPurposeLimboResolution",Zd.ce))}}async function wc(i,e,n){const r=xe(i),o=[],c=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{h.push(r.pu(p,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Fp.Es(p.targetId,g);c.push(E)}})))})),await Promise.all(h),r.Pu.J_(o),await(async function(p,g){const E=xe(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>ae.forEach(g,(x=>ae.forEach(x.Ts,(k=>E.persistence.referenceDelegate.addReference(A,x.targetId,k))).next((()=>ae.forEach(x.Is,(k=>E.persistence.referenceDelegate.removeReference(A,x.targetId,k)))))))))}catch(A){if(!Vo(A))throw A;de(Gp,"Failed to update sequence numbers: "+A)}for(const A of g){const x=A.targetId;if(!A.fromCache){const k=E.vs.get(x),q=k.snapshotVersion,B=k.withLastLimboFreeSnapshotVersion(q);E.vs=E.vs.insert(x,B)}}})(r.localStore,c))}async function jM(i,e){const n=xe(i);if(!n.currentUser.isEqual(e)){de(ng,"User change. New user:",e.toKey());const r=await UA(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((m=>{m.forEach((p=>{p.reject(new ce(ee.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wc(n,r.Ns)}}function UM(i,e){const n=xe(i),r=n.Au.get(e);if(r&&r.hu)return je().add(r.key);{let o=je();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function nT(i){const e=xe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PM.bind(null,e),e.Pu.J_=AM.bind(null,e.eventManager),e.Pu.yu=TM.bind(null,e.eventManager),e}function BM(i){const e=xe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kM.bind(null,e),e}class zd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return q2(this.persistence,new B2,e.initialUser,this.serializer)}Cu(e){return new jA(qp.Vi,this.serializer)}Du(e){return new $2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zd.provider={build:()=>new zd};class zM extends zd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof Ud,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new R2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new jA((r=>Ud.Vi(r,n)),this.serializer)}}class cp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>db(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jM.bind(null,this.syncEngine),await _M(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new EM})()}createDatastore(e){const n=oh(e.databaseInfo.databaseId),r=tM(e.databaseInfo);return sM(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,h,m){return new lM(r,o,c,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>db(this.syncEngine,n,0)),(function(){return rb.v()?new rb:new J2})())}createSyncEngine(e,n){return(function(o,c,h,m,p,g,E){const A=new wM(o,c,h,m,p,g);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=xe(n);de(us,"RemoteStore shutting down."),r.Ea.add(5),await xc(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cp.provider={build:()=>new cp};class ig{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const _r="FirestoreClient";class HM{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Mp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async h=>{de(_r,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(de(_r,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Jp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function km(i,e){i.asyncQueue.verifyOperationInProgress(),de(_r,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await UA(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function fb(i,e){i.asyncQueue.verifyOperationInProgress();const n=await qM(i);de(_r,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>ob(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>ob(e.remoteStore,o))),i._onlineComponents=e}async function qM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(_r,"Using user provided OfflineComponentProvider");try{await km(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await km(i,new zd)}}else de(_r,"Using default OfflineComponentProvider"),await km(i,new zM(void 0));return i._offlineComponents}async function aT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(_r,"Using user provided OnlineComponentProvider"),await fb(i,i._uninitializedComponentsProvider._online)):(de(_r,"Using default OnlineComponentProvider"),await fb(i,new cp))),i._onlineComponents}function FM(i){return aT(i).then((e=>e.syncEngine))}async function Hd(i){const e=await aT(i),n=e.eventManager;return n.onListen=CM.bind(null,e.syncEngine),n.onUnlisten=MM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=DM.bind(null,e.syncEngine),n}function GM(i,e,n,r){const o=new ig(r),c=new tg(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>Zp(await Hd(i),c))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>Wp(await Hd(i),c)))}}function KM(i,e,n={}){const r=new mi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,p,g){const E=new ig({next:x=>{E.Nu(),h.enqueueAndForget((()=>Wp(c,A)));const k=x.docs.has(m);!k&&x.fromCache?g.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&x.fromCache&&p&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),A=new tg(th(m.path),E,{includeMetadataChanges:!0,Ka:!0});return Zp(c,A)})(await Hd(i),i.asyncQueue,e,n,r))),r.promise}function QM(i,e,n={}){const r=new mi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,p,g){const E=new ig({next:x=>{E.Nu(),h.enqueueAndForget((()=>Wp(c,A))),x.fromCache&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),A=new tg(m,E,{includeMetadataChanges:!0,Ka:!0});return Zp(c,A)})(await Hd(i),i.asyncQueue,e,n,r))),r.promise}function YM(i,e){const n=new mi;return i.asyncQueue.enqueueAndForget((async()=>OM(await FM(i),e,n))),n.promise}function iT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const XM="ComponentProvider",mb=new Map;function $M(i,e,n,r,o){return new mI(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,iT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const rT="firestore.googleapis.com",pb=!0;class gb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rT,this.ssl=pb}else this.host=e.host,this.ssl=e.ssl??pb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T2)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new QN;switch(r.type){case"firstParty":return new JN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=mb.get(n);r&&(de(XM,"Removing Datastore"),mb.delete(n),r.terminate())})(this),Promise.resolve()}}function JM(i,e,n,r={}){i=_n(i,uh);const o=Io(e),c=i._getSettings(),h={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Zb(`https://${m}`),Wb("Firestore",!0)),c.host!==rT&&c.host!==m&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:o,emulatorOptions:r};if(!rs(p,h)&&(i._setSettings(p),r.mockUserToken)){let g,E;if(typeof r.mockUserToken=="string")g=r.mockUserToken,E=tn.MOCK_USER;else{g=ZR(r.mockUserToken,i._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(A)}i._authCredentials=new YN(new YE(g,E))}}class Sr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Sr(this.firestore,e,this._query)}}class pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Tc(n,pt._jsonSchema))return new pt(e,r||null,new ge(rt.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Dt("string",pt._jsonSchemaVersion),referencePath:Dt("string")};class fr extends Sr{constructor(e,n,r){super(e,n,th(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new ge(e))}withConverter(e){return new fr(this.firestore,e,this._path)}}function In(i,e,...n){if(i=Lt(i),XE("collection","path",e),i instanceof uh){const r=rt.fromString(e,...n);return N0(r),new fr(i,null,r)}{if(!(i instanceof pt||i instanceof fr))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(rt.fromString(e,...n));return N0(r),new fr(i.firestore,null,r)}}function ln(i,e,...n){if(i=Lt(i),arguments.length===1&&(e=Mp.newId()),XE("doc","path",e),i instanceof uh){const r=rt.fromString(e,...n);return C0(r),new pt(i,null,new ge(r))}{if(!(i instanceof pt||i instanceof fr))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(rt.fromString(e,...n));return C0(r),new pt(i.firestore,i instanceof fr?i.converter:null,new ge(r))}}const yb="AsyncQueue";class vb{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zA(this,"async_queue_retry"),this._c=()=>{const r=Vm();r&&de(yb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new mi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Vo(e))throw e;de(yb,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,vi("INTERNAL UNHANDLED ERROR: ",_b(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=$p.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:_b(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _b(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class bi extends uh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new vb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vb(e),this._firestoreClient=void 0,await e}}}function ZM(i,e){const n=typeof i=="object"?i:aE(),r=typeof i=="string"?i:Pd,o=Ep(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=$R("firestore");c&&JM(o,...c)}return o}function dh(i){if(i._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||WM(i),i._firestoreClient}function WM(i){const e=i._freezeSettings(),n=$M(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new HM(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(Jt.fromBase64String(e))}catch(n){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tc(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Dt("string",Qn._jsonSchemaVersion),bytes:Dt("string")};class rg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hh{constructor(e){this._methodName=e}}class Ua{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ua._jsonSchemaVersion}}static fromJSON(e){if(Tc(e,Ua._jsonSchema))return new Ua(e.latitude,e.longitude)}}Ua._jsonSchemaVersion="firestore/geoPoint/1.0",Ua._jsonSchema={type:Dt("string",Ua._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class ca{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ca._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tc(e,ca._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ca(e.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ca._jsonSchemaVersion="firestore/vectorValue/1.0",ca._jsonSchema={type:Dt("string",ca._jsonSchemaVersion),vectorValues:Dt("object")};const eD=/^__.*__$/;class tD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Tr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sc(e,this.data,n,this.fieldTransforms)}}class sT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Tr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:i})}}class sg{constructor(e,n,r,o,c,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new sg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return qd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(oT(this.dataSource)&&eD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class nD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||oh(e)}createContext(e,n,r,o=!1){return new sg({dataSource:e,methodName:n,targetDoc:r,path:$t.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fh(i){const e=i._freezeSettings(),n=oh(i._databaseId);return new nD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function lT(i,e,n,r,o,c={}){const h=i.createContext(c.merge||c.mergeFields?2:0,e,n,o);lg("Data must be an object, but it was:",h,r);const m=cT(r,h);let p,g;if(c.merge)p=new Mn(h.fieldMask),g=h.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const x=ds(e,A,n);if(!h.contains(x))throw new ce(ee.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);hT(E,x)||E.push(x)}p=new Mn(E),g=h.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,g=h.fieldTransforms;return new tD(new vn(m),p,g)}class mh extends hh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mh}}class og extends hh{_toFieldTransform(e){return new qI(e.path,new hc)}isEqual(e){return e instanceof og}}function aD(i,e,n,r){const o=i.createContext(1,e,n);lg("Data must be an object, but it was:",o,r);const c=[],h=vn.empty();Ar(r,((p,g)=>{const E=dT(e,p,n);g=Lt(g);const A=o.childContextForFieldPath(E);if(g instanceof mh)c.push(E);else{const x=Cc(g,A);x!=null&&(c.push(E),h.set(E,x))}}));const m=new Mn(c);return new sT(h,m,o.fieldTransforms)}function iD(i,e,n,r,o,c){const h=i.createContext(1,e,n),m=[ds(e,r,n)],p=[o];if(c.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)m.push(ds(e,c[x])),p.push(c[x+1]);const g=[],E=vn.empty();for(let x=m.length-1;x>=0;--x)if(!hT(g,m[x])){const k=m[x];let q=p[x];q=Lt(q);const B=h.childContextForFieldPath(k);if(q instanceof mh)g.push(k);else{const G=Cc(q,B);G!=null&&(g.push(k),E.set(k,G))}}const A=new Mn(g);return new sT(E,A,h.fieldTransforms)}function rD(i,e,n,r=!1){return Cc(n,i.createContext(r?4:3,e))}function Cc(i,e){if(uT(i=Lt(i)))return lg("Unsupported field value:",e,i),cT(i,e);if(i instanceof hh)return(function(r,o){if(!oT(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let h=0;for(const m of r){let p=Cc(m,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),h++}return{arrayValue:{values:c}}})(i,e)}return(function(r,o){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=lt.fromDate(r);return{timestampValue:jd(o.serializer,c)}}if(r instanceof lt){const c=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jd(o.serializer,c)}}if(r instanceof Ua)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qn)return{bytesValue:NA(o.serializer,r._byteString)};if(r instanceof pt){const c=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(c))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ca)return(function(h,m){const p=h instanceof ca?h.toArray():h;return{mapValue:{fields:{[iA]:{stringValue:rA},[Vd]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Lp(m.serializer,E)}))}}}}}})(r,o);if(kA(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Jd(r)}`)})(i,e)}function cT(i,e){const n={};return ZE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ar(i,((r,o)=>{const c=Cc(o,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function uT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof lt||i instanceof Ua||i instanceof Qn||i instanceof pt||i instanceof hh||i instanceof ca||kA(i))}function lg(i,e,n){if(!uT(n)||!$E(n)){const r=Jd(n);throw r==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+r)}}function ds(i,e,n){if((e=Lt(e))instanceof rg)return e._internalPath;if(typeof e=="string")return dT(i,e);throw qd("Field path arguments must be of type string or ",i,!1,void 0,n)}const sD=new RegExp("[~\\*/\\[\\]]");function dT(i,e,n){if(e.search(sD)>=0)throw qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new rg(...e.split("."))._internalPath}catch{throw qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function qd(i,e,n,r,o){const c=r&&!r.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||h)&&(p+=" (found",c&&(p+=` in field ${r}`),h&&(p+=` in document ${o}`),p+=")"),new ce(ee.INVALID_ARGUMENT,m+i+p)}function hT(i,e){return i.some((n=>n.isEqual(e)))}class oD{convertValue(e,n="none"){switch(yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ar(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[Vd].arrayValue?.values?.map((r=>bt(r.doubleValue)));return new ca(n)}convertGeoPoint(e){return new Ua(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=eh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lc(e));default:return null}}convertTimestamp(e){const n=pr(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);Xe(VA(r),9688,{name:e});const o=new cc(r.get(1),r.get(3)),c=new ge(r.popFirst(5));return o.isEqual(n)||vi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class cg extends oD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function di(){return new og("serverTimestamp")}const bb="@firebase/firestore",Eb="4.10.0";function Ab(i){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class fT{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ds("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lD extends fT{data(){return super.data()}}function mT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ug{}class pT extends ug{}function fo(i,e,...n){let r=[];e instanceof ug&&r.push(e),r=r.concat(n),(function(c){const h=c.filter((p=>p instanceof dg)).length,m=c.filter((p=>p instanceof ph)).length;if(h>1||h>0&&m>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class ph extends pT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ph(e,n,r)}_apply(e){const n=this._parse(e);return gT(e._query,n),new Sr(e.firestore,e.converter,Wm(e._query,n))}_parse(e){const n=fh(e.firestore);return(function(c,h,m,p,g,E,A){let x;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Sb(A,E);const q=[];for(const B of A)q.push(Tb(p,c,B));x={arrayValue:{values:q}}}else x=Tb(p,c,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Sb(A,E),x=rD(m,h,A,E==="in"||E==="not-in");return Mt.create(g,E,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function mo(i,e,n){const r=e,o=ds("where",i);return ph._create(o,r,n)}class dg extends ug{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:da.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let h=o;const m=c.getFlattenedFilters();for(const p of m)gT(h,p),h=Wm(h,p)})(e._query,n),new Sr(e.firestore,e.converter,Wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hg extends pT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new hg(e,n)}_apply(e){const n=(function(o,c,h){if(o.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dc(c,h)})(e._query,this._field,this._direction);return new Sr(e.firestore,e.converter,DI(e._query,n))}}function po(i,e="asc"){const n=e,r=ds("orderBy",i);return hg._create(r,n)}function Tb(i,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fA(e)&&n.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!ge.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return L0(i,new ge(r))}if(n instanceof pt)return L0(i,n._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jd(n)}.`)}function Sb(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gT(i,e){const n=(function(o,c){for(const h of o)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function yT(i,e,n){let r;return r=i?i.toFirestore(e):e,r}class $l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class as extends fT{constructor(e,n,r,o,c,h){super(e,n,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ds("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=as._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}as._jsonSchemaVersion="firestore/documentSnapshot/1.0",as._jsonSchema={type:Dt("string",as._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Ad extends as{data(e={}){return super.data(e)}}class is{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new $l(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ad(this._firestore,this._userDataWriter,r.key,r,new $l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Ad(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const p=new Ad(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:cD(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=is._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:i})}}is._jsonSchemaVersion="firestore/querySnapshot/1.0",is._jsonSchema={type:Dt("string",is._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};function uD(i){i=_n(i,pt);const e=_n(i.firestore,bi),n=dh(e);return KM(n,i._key).then((r=>_T(e,i,r)))}function up(i){i=_n(i,Sr);const e=_n(i.firestore,bi),n=dh(e),r=new cg(e);return mT(i._query),QM(n,i._query).then((o=>new is(e,r,i,o)))}function vT(i,e,n){i=_n(i,pt);const r=_n(i.firestore,bi),o=yT(i.converter,e),c=fh(r);return gh(r,[lT(c,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Yn.none())])}function Jl(i,e,n,...r){i=_n(i,pt);const o=_n(i.firestore,bi),c=fh(o);let h;return h=typeof(e=Lt(e))=="string"||e instanceof rg?iD(c,"updateDoc",i._key,e,n,r):aD(c,"updateDoc",i._key,e),gh(o,[h.toMutation(i._key,Yn.exists(!0))])}function go(i){return gh(_n(i.firestore,bi),[new jp(i._key,Yn.none())])}function Fd(i,e){const n=_n(i.firestore,bi),r=ln(i),o=yT(i.converter,e),c=fh(i.firestore);return gh(n,[lT(c,"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then((()=>r))}function yo(i,...e){i=Lt(i);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Ab(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Ab(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let c,h,m;if(i instanceof pt)h=_n(i.firestore,bi),m=th(i._key.path),c={next:g=>{e[r]&&e[r](_T(h,i,g))},error:e[r+1],complete:e[r+2]};else{const g=_n(i,Sr);h=_n(g.firestore,bi),m=g._query;const E=new cg(h);c={next:A=>{e[r]&&e[r](new is(h,E,g,A))},error:e[r+1],complete:e[r+2]},mT(i._query)}const p=dh(h);return GM(p,m,o,c)}function gh(i,e){const n=dh(i);return YM(n,e)}function _T(i,e,n){const r=n.docs.get(e._key),o=new cg(i);return new as(i,o,e._key,r,new $l(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){KN(Mo),vo(new ss("firestore",((r,{instanceIdentifier:o,options:c})=>{const h=r.getProvider("app").getImmediate(),m=new bi(new XN(r.getProvider("auth-internal")),new ZN(h,r.getProvider("app-check-internal")),pI(h,o),h);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),dr(bb,Eb,e),dr(bb,Eb,"esm2020")})();const dD={apiKey:"AIzaSyB3p9kAAb0TJXvJMKzUS6pummdlkbzlt6I",authDomain:"fft12l.firebaseapp.com",projectId:"fft12l",storageBucket:"fft12l.firebasestorage.app",messagingSenderId:"459190857682",appId:"1:459190857682:web:d857f4bf1fa2e5ec11220b"},bT=nE(dD),Vt=FN(bT),it=ZM(bT),ET=(i,e)=>IE(Vt,i,e),hD="/FF-12Liberation/assets/chocobo-loading-CZsGc2ZM.gif",AT="/FF-12Liberation/assets/musica-tema-78rqvj_H.mp3",fD="/FF-12Liberation/assets/fundo-rpg-BXz1tR4K.jpg",xo=new Audio(AT);xo.loop=!0;function mD(){const i=No(),e=()=>{xo.play().then(()=>{console.log("ter musical sintonizado.")}).catch(n=>{console.log("Aguardando interao para liberar udio: ",n)}),i("/login")};return b.jsxs("div",{className:"landing-container",onClick:e,children:[b.jsxs("div",{className:"content",children:[b.jsx("h1",{className:"game-title",children:"FINAL FANTASY"}),b.jsx("h2",{className:"sub-title",children:"12 Libertao"}),b.jsx("div",{className:"press-start",children:"PRESS START"})]}),b.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .landing-container {
          height: 100vh;
          width: 100vw;
          display: flex;
          align-items: center;
          justify-content: center;
          /* Gradiente FF clssico sobre a imagem de fundo */
          background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), 
                      url(${fD}) no-repeat center center;
          background-size: cover; 
          cursor: pointer;
          position: fixed;
          top: 0;
          left: 0;
          z-index: 1000;
        }

        .content {
          text-align: center;
          /* Animao de entrada suave com blur */
          animation: fadeInSuave 4s ease-in-out; 
        }

        .game-title {
          font-size: clamp(30px, 8vw, 60px);
          letter-spacing: 8px;
          color: #fff;
          text-shadow: 3px 3px 5px #000, 0 0 20px rgba(0, 242, 255, 0.5);
          font-family: 'serif';
        }

        .sub-title {
          font-size: clamp(14px, 4vw, 24px);
          color: #ffcc00;
          margin-top: 10px;
          text-shadow: 1px 1px 3px #000;
          font-family: 'serif';
        }

        .press-start {
          margin-top: 80px;
          font-size: 20px;
          color: #fff;
          letter-spacing: 5px;
          text-shadow: 0 0 10px #00f2ff;
          /* Efeito pulsante clssico de menu */
          animation: blink 1.5s infinite;
          font-family: 'sans-serif';
        }

        @keyframes blink {
          0%, 100% { opacity: 0; }
          50% { opacity: 1; }
        }

        @keyframes fadeInSuave {
          from { opacity: 0; filter: blur(15px); transform: scale(0.9); }
          to { opacity: 1; filter: blur(0); transform: scale(1); }
        }
      `}})]})}const TT="/FF-12Liberation/assets/video-fundo-B5LPnOg0.mp4",pD="/FF-12Liberation/assets/botao-admin-T-iaDg61.png";function gD(){const i=No(),e=L.useRef(null),[n,r]=L.useState(null),[o,c]=L.useState(""),[h,m]=L.useState(""),[p,g]=L.useState("");L.useEffect(()=>{e.current&&(e.current.volume=.2)},[]);const E=async A=>{A.preventDefault(),g("");try{const k=(await ET(o,h)).user,q=ln(it,"users",k.uid),B=await uD(q);if(B.exists()){const G=B.data();if(n==="master"&&G.role!=="mestre"){g("ACESSO NEGADO: VOC NO  UM MESTRE.");return}G.role==="mestre"?i("/mestre"):i("/create-character")}else i("/create-character")}catch(x){console.error(x),g("FALHA NA CONEXO COM O TER.")}};return b.jsxs("div",{className:"login-container",children:[b.jsx("audio",{ref:e,autoPlay:!0,loop:!0,children:b.jsx("source",{src:AT,type:"audio/mp3"})}),b.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:"background-video",children:b.jsx("source",{src:TT,type:"video/mp4"})}),b.jsx("div",{className:"content-overlay",children:n?b.jsxs("form",{className:"login-panel fade-in",onSubmit:E,children:[b.jsx("button",{type:"button",className:"ff-back",onClick:()=>r(null),children:" RETORNAR"}),b.jsx("h3",{className:"ff-subtitle",children:n==="master"?"NARRADOR":"JOGADOR"}),b.jsxs("div",{className:"ff-input-group",children:[b.jsx("input",{type:"email",placeholder:"E-MAIL",value:o,onChange:A=>c(A.target.value),required:!0}),b.jsx("input",{type:"password",placeholder:"SENHA",value:h,onChange:A=>m(A.target.value),required:!0})]}),p&&b.jsx("p",{className:"ff-error",children:p}),b.jsx("button",{type:"submit",className:"ff-submit",children:"ENTRAR"})]}):b.jsxs("div",{className:"selection-screen fade-in",children:[b.jsx("h2",{className:"ff-title",children:"ESCOLHA SUA JORNADA"}),b.jsxs("div",{className:"ff-button-group",children:[b.jsx("button",{className:"ff-btn",onClick:()=>r("player"),children:"JOGADOR"}),b.jsx("button",{className:"ff-btn",onClick:()=>r("master"),children:"NARRADOR"})]})]})}),b.jsx("button",{className:"admin-portal-btn",onClick:()=>i("/admin-login"),title:"Acesso ao Narrador",children:b.jsx("img",{src:pD,alt:"Portal Admin"})}),b.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .login-container {
          height: 100vh;
          width: 100vw;
          background: #000;
          display: flex;
          align-items: center;
          justify-content: center;
          overflow: hidden;
          position: relative;
        }

        .background-video {
          position: absolute;
          top: 50%;
          left: 50%;
          min-width: 100%;
          min-height: 100%;
          width: auto;
          height: auto;
          z-index: 1; 
          transform: translate(-50%, -50%);
          object-fit: cover;
          animation: quickLoopFade 0.5s ease-in-out;
        }

        @keyframes quickLoopFade {
          0% { opacity: 0; }
          100% { opacity: 1; }
        }

        .content-overlay {
          position: relative;
          z-index: 10;
          display: flex;
          align-items: center;
          justify-content: center;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.4);
        }

        .ff-title { 
          color: #fff; 
          font-size: 32px; 
          letter-spacing: 8px; 
          margin-bottom: 40px; 
          text-shadow: 0 0 15px rgba(255, 255, 255, 0.5); 
          text-align: center;
          font-family: 'serif'; 
        }

        .ff-subtitle { color: #ffcc00; letter-spacing: 4px; margin-bottom: 30px; text-align: center; }
        .ff-button-group { display: flex; flex-direction: column; gap: 20px; align-items: center; }
        
        /* Botes Iniciais */
        .ff-btn {
          background: rgba(0, 0, 30, 0.6); 
          border: 1px solid rgba(255, 255, 255, 0.6);
          color: #fff;
          padding: 15px 50px;
          letter-spacing: 3px;
          cursor: pointer;
          transition: 0.4s;
          width: 280px;
          backdrop-filter: blur(5px);
          font-weight: bold;
        }

        /* Boto de Entrar (Ajustado para igualar a largura dos inputs) */
        .ff-submit {
          background: rgba(0, 0, 30, 0.6); 
          border: 1px solid rgba(255, 255, 255, 0.6);
          color: #fff;
          padding: 15px 0; /* padding lateral removido para usar width */
          letter-spacing: 3px;
          cursor: pointer;
          transition: 0.4s;
          width: 326px; /* 300px input + 24px padding + 2px border */
          backdrop-filter: blur(5px);
          font-weight: bold;
          margin: 0 auto;
          display: block;
        }

        .ff-btn:hover, .ff-submit:hover { 
          background: #fff; 
          color: #000; 
          box-shadow: 0 0 20px #fff; 
        }

        .ff-input-group input {
          display: block; 
          width: 300px; 
          padding: 12px; 
          margin: 0 auto 20px auto;
          background: rgba(0, 0, 0, 0.7); 
          border: 1px solid #444;
          color: #fff; 
          text-align: center; 
          letter-spacing: 2px; 
          outline: none;
        }

        .ff-input-group input:focus { border-color: #ffcc00; }
        .ff-back { background: none; border: none; color: #ffcc00; cursor: pointer; margin-bottom: 15px; display: block; font-weight: bold; }
        .ff-error { color: #ff4444; font-size: 12px; margin-bottom: 15px; text-shadow: 0 0 5px #000; text-align: center; }

        .admin-portal-btn {
          position: absolute;
          bottom: 30px;
          right: 30px;
          z-index: 100;
          background: none;
          border: none;
          cursor: pointer;
          width: 70px;
          transition: 0.5s;
          filter: drop-shadow(0 0 8px rgba(0, 242, 255, 0.6));
        }

        .admin-portal-btn img { width: 100%; height: auto; }
        .admin-portal-btn:hover { transform: scale(1.2) rotate(-5deg); filter: drop-shadow(0 0 15px #00f2ff); }

        .fade-in { animation: fadeInFF 2s ease-out forwards; }

        @keyframes fadeInFF {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `}})]})}function yD(){const[i,e]=L.useState(""),[n,r]=L.useState(""),[o,c]=L.useState(""),h=No(),m=async p=>{if(p.preventDefault(),i!=="fffvtt10@gmail.com"){c("VOC NO TEM PERMISSO DE NARRADOR.");return}try{await IE(Vt,i,n),h("/admin")}catch{c("SENHA INCORRETA PARA O MESTRE.")}};return b.jsxs("div",{className:"login-container",children:[b.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"background-video",children:b.jsx("source",{src:TT,type:"video/mp4"})}),b.jsx("div",{className:"content-overlay",children:b.jsxs("form",{className:"login-panel fade-in",onSubmit:m,children:[b.jsx("button",{type:"button",className:"ff-back",onClick:()=>h("/"),children:" RETORNAR"}),b.jsx("h3",{className:"ff-subtitle",children:"PORTAL DO ADMINISTRADOR"}),b.jsxs("div",{className:"ff-input-group",children:[b.jsx("input",{type:"email",placeholder:"E-MAIL",value:i,onChange:p=>e(p.target.value),required:!0}),b.jsx("input",{type:"password",placeholder:"CHAVE DE ACESSO",value:n,onChange:p=>r(p.target.value),required:!0})]}),o&&b.jsx("p",{className:"ff-error",children:o}),b.jsx("button",{type:"submit",className:"ff-submit",children:"DESBLOQUEAR"})]})}),b.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .login-container { height: 100vh; width: 100vw; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; background: #000; }
        .background-video { position: absolute; top: 50%; left: 50%; min-width: 100%; min-height: 100%; transform: translate(-50%, -50%); object-fit: cover; z-index: 1; }
        .content-overlay { position: relative; z-index: 10; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.5); }
        .login-panel { 
          background: rgba(0, 0, 30, 0.7); 
          padding: 40px; 
          border: 1px solid #00f2ff; 
          backdrop-filter: blur(10px); 
          text-align: center;
          box-shadow: 0 0 20px rgba(0, 242, 255, 0.2);
        }
        .ff-subtitle { color: #ffcc00; letter-spacing: 4px; margin-bottom: 20px; }
        input { display: block; width: 280px; padding: 12px; margin: 10px auto; background: rgba(0,0,0,0.8); border: 1px solid #444; color: #fff; text-align: center; outline: none; }
        input:focus { border-color: #00f2ff; }
        .ff-submit { background: transparent; border: 1px solid #fff; color: #fff; padding: 12px 40px; cursor: pointer; transition: 0.3s; width: 100%; letter-spacing: 2px; }
        .ff-submit:hover { background: #fff; color: #000; box-shadow: 0 0 15px #fff; }
        .ff-back { background: none; border: none; color: #ffcc00; cursor: pointer; margin-bottom: 10px; }
        .fade-in { animation: fadeInFF 1.5s ease-out; }
        @keyframes fadeInFF { from { opacity: 0; } to { opacity: 1; } }
      `}})]})}function vD(){const[i,e]=L.useState([]),[n,r]=L.useState([]),[o,c]=L.useState(""),[h,m]=L.useState(""),[p,g]=L.useState("jogador"),[E,A]=L.useState("");L.useEffect(()=>{xo&&xo.pause()},[]),L.useEffect(()=>{x()},[]);const x=async()=>{try{const W=(await up(In(it,"users"))).docs.map(ye=>({id:ye.id,...ye.data()})).filter(ye=>ye.email!=="fffvtt10@gmail.com"),_e=(await up(In(it,"characters"))).docs.map(ye=>({id:ye.id,...ye.data()}));e(W),r(_e)}catch($){console.error("Erro ao carregar dados do ter: ",$)}},k=async $=>{$.preventDefault();const W="fffvtt10@gmail.com",re="SUA_SENHA_AQUI";try{const ye=(await CC(Vt,o,h)).user;await vT(ln(it,"users",ye.uid),{email:o,role:p,active:!0,createdAt:new Date}),alert("Usurio invocado! Reconectando Admin..."),await ET(W,re),c(""),m(""),x()}catch(_e){alert("Erro no processo: "+_e.message)}},q=async($,W)=>{if(window.confirm(`Deseja banir permanentemente ${W} do ter?`))try{await go(ln(it,"users",$)),await go(ln(it,"characters",$)),alert("Conta e personagem banidos com sucesso."),x()}catch(re){alert("Erro ao banir usurio: "+re.message)}},B=$=>{const W=n.find(re=>re.uid===$);return W?`Personagem: ${W.name} (${W.class})`:"Sem Personagem"},G=async()=>{if(E.length<6)return alert("A senha deve ter no mnimo 6 caracteres.");try{await NC(Vt.currentUser,E),alert("Sua chave de mestre foi alterada!"),A("")}catch{alert("Erro ao trocar senha. Tente fazer login novamente.")}};return b.jsxs("div",{className:"admin-dashboard",children:[b.jsx("div",{className:"ether-vortex"}),b.jsxs("div",{className:"admin-content",children:[b.jsx("h1",{className:"main-title",children:"GESTO DO TER SUPREMO"}),b.jsxs("div",{className:"cards-grid",children:[b.jsxs("div",{className:"ff-card fade-in",children:[b.jsx("h3",{children:"INVOCAR NOVA CONTA"}),b.jsxs("form",{onSubmit:k,children:[b.jsx("input",{type:"email",placeholder:"E-mail do Alvo",value:o,onChange:$=>c($.target.value),required:!0}),b.jsx("input",{type:"password",placeholder:"Definir Senha Inicial",value:h,onChange:$=>m($.target.value),required:!0}),b.jsxs("select",{value:p,onChange:$=>g($.target.value),children:[b.jsx("option",{value:"jogador",children:"JOGADOR"}),b.jsx("option",{value:"mestre",children:"MESTRE"})]}),b.jsx("button",{type:"submit",children:"CRIAR ACESSO"})]})]}),b.jsxs("div",{className:"ff-card fade-in",children:[b.jsx("h3",{children:"VIAJANTES E MESTRES"}),b.jsx("div",{className:"list-box",children:i.map($=>b.jsxs("div",{className:"item",children:[b.jsxs("div",{style:{flex:1},children:[b.jsx("span",{className:`badge ${$.role}`,children:$.role.toUpperCase()}),b.jsx("p",{className:"email-text",children:$.email}),b.jsx("p",{style:{fontSize:"10px",color:"#ffcc00",margin:"2px 10px"},children:B($.id)})]}),b.jsxs("div",{className:"btn-group",children:[b.jsx("button",{onClick:()=>{wC(Vt,$.email),alert("E-mail de reset enviado.")},children:"RESET"}),b.jsx("button",{className:"del",onClick:()=>q($.id,$.email),children:"BANIR"})]})]},$.id))})]}),b.jsxs("div",{className:"ff-card fade-in",children:[b.jsx("h3",{children:"MINHA CHAVE DE ADMIN"}),b.jsx("input",{type:"password",placeholder:"Nova Senha",value:E,onChange:$=>A($.target.value)}),b.jsx("button",{onClick:G,children:"TROCAR MINHA SENHA"})]})]})]}),b.jsx("style",{children:`
        .admin-dashboard { background: radial-gradient(circle at center, #001a33 0%, #000000 100%); min-height: 100vh; color: #fff; font-family: 'Segoe UI', sans-serif; position: relative; overflow: hidden; }
        .ether-vortex { content: ""; position: absolute; top: -100%; left: -100%; width: 300%; height: 300%; background: conic-gradient(from 0deg, transparent, rgba(0, 242, 255, 0.08), transparent); animation: rotateEther 30s linear infinite; z-index: 0; pointer-events: none; }
        @keyframes rotateEther { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .admin-content { position: relative; z-index: 1; padding: 40px; }
        .main-title { color: #ffcc00; text-align: center; letter-spacing: 5px; margin-bottom: 50px; text-shadow: 0 0 10px #ffcc00; }
        .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 30px; }
        .ff-card { background: rgba(0, 10, 30, 0.85); border: 1px solid rgba(0, 242, 255, 0.5); padding: 25px; border-radius: 8px; box-shadow: 0 0 20px rgba(0,242,255,0.1); backdrop-filter: blur(10px); }
        h3 { color: #00f2ff; font-size: 14px; border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 20px; }
        .item { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid #111; }
        .email-text { font-size: 11px; color: #ccc; margin: 0 10px; flex-grow: 1; overflow: hidden; text-overflow: ellipsis; }
        .badge { font-size: 9px; padding: 2px 6px; border-radius: 3px; font-weight: bold; color: #000; }
        .badge.mestre { background: #ffcc00; }
        .badge.jogador { background: #00f2ff; }
        .btn-group { display: flex; gap: 8px; }
        input, select { background: rgba(0,0,0,0.8); border: 1px solid #444; color: #fff; padding: 12px; width: 100%; margin-bottom: 15px; outline: none; transition: 0.3s; }
        input:focus { border-color: #ffcc00; }
        button { background: transparent; border: 1px solid #00f2ff; color: #fff; padding: 8px 15px; cursor: pointer; transition: 0.3s; font-size: 11px; }
        button:hover { background: #fff; color: #000; box-shadow: 0 0 10px #fff; }
        button.del { border-color: #ff4444; color: #ff4444; }
        button.del:hover { background: #ff4444; color: white; border-color: #ff4444; }
        .list-box { max-height: 250px; overflow-y: auto; }
        .list-box::-webkit-scrollbar { width: 4px; }
        .list-box::-webkit-scrollbar-thumb { background: #00f2ff; }
        .fade-in { animation: fadeIn 1.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
      `})]})}const _D="/FF-12Liberation/assets/fundo-mestre-OTxRyTTC.jpg",bD="/FF-12Liberation/assets/sanchez-1nilABmc.jpeg",ED="/FF-12Liberation/assets/papiro-CRka9pgw.png",AD="/FF-12Liberation/assets/bazar-DZ7p321B.png";function TD({isMestre:i}){const[e,n]=L.useState(!1),[r,o]=L.useState([]),[c,h]=L.useState([]),[m,p]=L.useState(""),[g,E]=L.useState(null),[A,x]=L.useState(""),[k,q]=L.useState({nome:"",descricao:"",imagem:"",valorGil:"",valorReal:""});L.useEffect(()=>{if(!e)return;const ie=fo(In(it,"game_items"),mo("status","==","bazar"),po("updatedAt","desc")),N=yo(ie,w=>{o(w.docs.map(R=>({id:R.id,...R.data()})))});return()=>N()},[e]),L.useEffect(()=>{if(!e||!i)return;const ie=fo(In(it,"game_items"),mo("status","==","vault"),po("nome","asc")),N=yo(ie,w=>{h(w.docs.map(R=>({id:R.id,...R.data()})))});return()=>N()},[e,i]);const B=ie=>{const N=ie.target.value;if(x(N),!N)return;const w=c.find(R=>R.id===N);w&&q({...k,nome:w.nome,descricao:w.descricao,imagem:w.imagem,valorGil:"",valorReal:""})},G=async ie=>{if(ie.preventDefault(),!k.nome||!k.valorGil)return alert("Preencha nome e valor em Gil!");try{const N={...k,updatedAt:di()};g?(await Jl(ln(it,"game_items",g),N),E(null)):A?(await Jl(ln(it,"game_items",A),{...N,status:"bazar"}),x("")):await Fd(In(it,"game_items"),{...N,status:"bazar",ownerId:null,createdAt:di()}),q({nome:"",descricao:"",imagem:"",valorGil:"",valorReal:""})}catch(N){alert("Erro ao salvar item no Bazar."),console.error(N)}},$=async ie=>{window.confirm("Remover do mercado? O item voltar para a Forja.")&&await Jl(ln(it,"game_items",ie),{status:"vault",updatedAt:di()})},W=async ie=>{if(!Vt.currentUser)return alert("Voc precisa estar logado.");if(window.confirm(`Comprar "${ie.nome}" por ${ie.valorGil} Gil?`))try{await Jl(ln(it,"game_items",ie.id),{status:"inventory",ownerId:Vt.currentUser.uid,updatedAt:di()}),alert(`Voc comprou ${ie.nome}! O item foi para seu inventrio.`)}catch(w){console.error(w),alert("Erro na transao.")}},re=ie=>{E(ie.id),x(""),q(ie)},_e=()=>{E(null),x(""),q({nome:"",descricao:"",imagem:"",valorGil:"",valorReal:""})},ye=r.filter(ie=>ie.nome.toLowerCase().includes(m.toLowerCase()));return b.jsxs(b.Fragment,{children:[b.jsx("button",{className:"bazar-trigger-btn",onClick:()=>n(!0),title:"Abrir Bazar",children:b.jsx("img",{src:AD,alt:"Bazar",onError:ie=>{ie.target.style.display="none",ie.target.parentNode.innerText="BAZAR"}})}),e&&b.jsx("div",{className:"bazar-overlay",onClick:()=>n(!1),children:b.jsxs("div",{className:"bazar-modal",onClick:ie=>ie.stopPropagation(),children:[b.jsxs("div",{className:"bazar-header",children:[b.jsx("h2",{children:"MERCADO NEGRO"}),b.jsx("button",{className:"close-btn",onClick:()=>n(!1),children:""})]}),i&&b.jsx("div",{className:"mestre-panel",children:b.jsxs("form",{onSubmit:G,className:"bazar-form",children:[!g&&b.jsx("div",{className:"row",style:{marginBottom:"10px"},children:b.jsxs("select",{className:"bazar-input",onChange:B,value:A,children:[b.jsx("option",{value:"",children:" Selecionar Item do Cofre (Forja)..."}),c.map(ie=>b.jsx("option",{value:ie.id,children:ie.nome},ie.id))]})}),b.jsxs("div",{className:"row",children:[b.jsx("input",{placeholder:"Nome do Item",value:k.nome,onChange:ie=>q({...k,nome:ie.target.value}),className:"bazar-input",readOnly:!!A&&!g}),b.jsx("input",{placeholder:"Link Imagem",value:k.imagem,onChange:ie=>q({...k,imagem:ie.target.value}),className:"bazar-input"})]}),b.jsxs("div",{className:"row",children:[b.jsx("input",{placeholder:"Valor Gil",type:"number",value:k.valorGil,onChange:ie=>q({...k,valorGil:ie.target.value}),className:"bazar-input",required:!0}),b.jsx("input",{placeholder:"Valor Real (R$)",type:"number",value:k.valorReal,onChange:ie=>q({...k,valorReal:ie.target.value}),className:"bazar-input"})]}),b.jsx("textarea",{placeholder:"Descrio do item...",value:k.descricao,onChange:ie=>q({...k,descricao:ie.target.value}),className:"bazar-input area"}),b.jsxs("div",{className:"form-actions",children:[b.jsx("button",{type:"submit",className:"btn-save",children:g?"SALVAR ALTERAES":A?"COLOCAR  VENDA":"CRIAR E VENDER"}),(g||A)&&b.jsx("button",{type:"button",onClick:_e,className:"btn-cancel",children:"CANCELAR"})]})]})}),b.jsx("div",{className:"search-bar-container",children:b.jsx("input",{type:"text",placeholder:" Procurar mercadoria...",value:m,onChange:ie=>p(ie.target.value),className:"search-input"})}),b.jsxs("div",{className:"bazar-grid",children:[ye.map(ie=>b.jsxs("div",{className:"bazar-item-card",children:[b.jsx("div",{className:"item-img",style:{backgroundImage:`url(${ie.imagem||"https://via.placeholder.com/150?text=Item"})`}}),b.jsxs("div",{className:"item-info",children:[b.jsx("h4",{children:ie.nome}),b.jsx("p",{className:"desc",children:ie.descricao}),b.jsxs("div",{className:"prices",children:[b.jsxs("span",{className:"price-tag gil",children:[" ",ie.valorGil," G"]}),ie.valorReal&&b.jsxs("span",{className:"price-tag real",children:[" R$ ",ie.valorReal]})]})]}),b.jsx("div",{className:"item-actions",children:i?b.jsxs(b.Fragment,{children:[b.jsx("button",{className:"btn-icon edit",onClick:()=>re(ie),title:"Editar Preo",children:""}),b.jsx("button",{className:"btn-icon delete",onClick:()=>$(ie.id),title:"Devolver para a Forja",children:""})]}):b.jsx("button",{className:"btn-buy",onClick:()=>W(ie),children:"COMPRAR"})})]},ie.id)),ye.length===0&&b.jsx("p",{className:"empty-msg",children:"Nenhum item  venda no momento."})]})]})}),b.jsx("style",{children:`
        .bazar-trigger-btn { position: fixed; bottom: 30px; right: 30px; width: 70px; height: 70px; border-radius: 50%; border: 2px solid #ffcc00; background: #000; cursor: pointer; z-index: 9999; transition: transform 0.2s, box-shadow 0.2s; padding: 0; display: flex; align-items: center; justify-content: center; color: #ffcc00; font-weight: bold; font-size: 10px; }
        .bazar-trigger-btn:hover { transform: scale(1.1); box-shadow: 0 0 20px #ffcc00; }
        .bazar-trigger-btn img { width: 100%; height: 100%; object-fit: cover; }

        .bazar-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); z-index: 100000; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
        .bazar-modal { width: 800px; height: 750px; max-height: 90vh; background: #0d0d15; border: 1px solid #ffcc00; display: flex; flex-direction: column; box-shadow: 0 0 50px rgba(0,0,0,0.8); border-radius: 8px; overflow: hidden; }

        .bazar-header { background: linear-gradient(90deg, #1a1a1a, #000); padding: 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #ffcc00; }
        .bazar-header h2 { margin: 0; color: #ffcc00; font-family: serif; letter-spacing: 2px; text-shadow: 0 0 10px #ffcc00; font-size: 24px; }
        .close-btn { background: transparent; border: none; color: #fff; font-size: 30px; cursor: pointer; }

        .mestre-panel { background: rgba(255, 204, 0, 0.05); padding: 15px; border-bottom: 1px solid #333; }
        .bazar-form { display: flex; flex-direction: column; gap: 10px; }
        .bazar-form .row { display: flex; gap: 10px; }
        .bazar-input { background: #000; border: 1px solid #444; color: #fff; padding: 10px; flex: 1; outline: none; font-family: serif; }
        .bazar-input.area { height: 60px; resize: none; }
        .form-actions { display: flex; gap: 10px; }
        .btn-save { flex: 1; background: #ffcc00; border: none; padding: 10px; font-weight: bold; cursor: pointer; color: #000; }
        .btn-cancel { background: #333; color: #fff; border: 1px solid #555; padding: 10px; cursor: pointer; }

        .search-bar-container { padding: 15px; background: #000; border-bottom: 1px solid #333; }
        .search-input { width: 100%; background: #111; border: 1px solid #444; color: #fff; padding: 12px; border-radius: 20px; text-align: center; outline: none; font-size: 16px; }

        .bazar-grid { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; scrollbar-width: none; -ms-overflow-style: none; }
        .bazar-grid::-webkit-scrollbar { display: none; }

        .bazar-item-card { background: linear-gradient(90deg, rgba(20,20,30,0.9), rgba(0,0,0,0.8)); border: 1px solid #444; display: flex; align-items: center; padding: 10px; border-radius: 4px; transition: 0.2s; }
        .bazar-item-card:hover { border-color: #00f2ff; box-shadow: 0 0 15px rgba(0, 242, 255, 0.1); }
        
        .item-img { width: 80px; height: 80px; background-size: cover; background-position: center; border: 1px solid #666; margin-right: 15px; border-radius: 4px; background-color: #000; }
        .item-info { flex: 1; }
        .item-info h4 { margin: 0 0 5px 0; color: #fff; font-size: 18px; letter-spacing: 1px; }
        .item-info .desc { margin: 0 0 10px 0; color: #aaa; font-size: 12px; font-style: italic; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        
        .prices { display: flex; gap: 10px; }
        .price-tag { padding: 4px 8px; border-radius: 3px; font-weight: bold; font-size: 12px; }
        .price-tag.gil { background: rgba(255,255,0,0.1); color: #ffcc00; border: 1px solid #ffcc00; }
        .price-tag.real { background: rgba(0, 242, 255, 0.1); color: #00f2ff; border: 1px solid #00f2ff; }

        .item-actions { display: flex; gap: 8px; align-items: center; margin-left: 15px; }
        .btn-buy { background: #00f2ff; color: #000; border: none; padding: 10px 20px; font-weight: bold; cursor: pointer; clip-path: polygon(10% 0, 100% 0, 100% 70%, 90% 100%, 0 100%, 0 30%); transition: 0.2s; }
        .btn-buy:hover { background: #fff; box-shadow: 0 0 15px #00f2ff; }
        
        .btn-icon { background: transparent; border: 1px solid #444; color: #fff; padding: 8px; cursor: pointer; border-radius: 4px; font-size: 16px; }
        .btn-icon:hover { background: #fff; color: #000; }
        .btn-icon.delete:hover { background: #f44; border-color: #f44; color: #fff; }
        .empty-msg { text-align: center; color: #666; margin-top: 50px; font-style: italic; }
      `})]})}const SD="/FF-12Liberation/assets/forja-Dr7AylP_.png";function RD(){const[i,e]=L.useState(!1),[n,r]=L.useState([]),[o,c]=L.useState(""),[h,m]=L.useState(null),[p,g]=L.useState({nome:"",descricao:"",imagem:""});L.useEffect(()=>{if(!i)return;const B=fo(In(it,"game_items"),mo("status","==","vault"),po("createdAt","desc")),G=yo(B,$=>{r($.docs.map(W=>({id:W.id,...W.data()})))});return()=>G()},[i]);const E=async B=>{if(B.preventDefault(),!p.nome)return alert("O item precisa de um nome!");try{const G={...p,updatedAt:di()};h?(await Jl(ln(it,"game_items",h),G),m(null)):await Fd(In(it,"game_items"),{...G,status:"vault",ownerId:null,valorGil:0,createdAt:di()}),g({nome:"",descricao:"",imagem:""})}catch(G){alert("Erro ao forjar item."),console.error(G)}},A=async B=>{window.confirm("ATENO: Isso destruir o item permanentemente. Deseja continuar?")&&await go(ln(it,"game_items",B))},x=B=>{m(B.id),g(B)},k=()=>{m(null),g({nome:"",descricao:"",imagem:""})},q=n.filter(B=>B.nome.toLowerCase().includes(o.toLowerCase()));return b.jsxs(b.Fragment,{children:[b.jsx("button",{className:"forja-trigger-btn",onClick:()=>e(!0),title:"Abrir Forja",children:b.jsx("img",{src:SD,alt:"Forja",onError:B=>{B.target.style.display="none",B.target.parentNode.innerText="FORJA"}})}),i&&b.jsx("div",{className:"forja-overlay",onClick:()=>e(!1),children:b.jsxs("div",{className:"forja-modal",onClick:B=>B.stopPropagation(),children:[b.jsxs("div",{className:"forja-header",children:[b.jsx("h2",{children:"A FORJA ANTIGA"}),b.jsx("button",{className:"close-btn",onClick:()=>e(!1),children:""})]}),b.jsxs("div",{className:"mestre-panel-forja",children:[b.jsx("h4",{style:{color:"#f44",margin:"0 0 10px 0"},children:"FORJAR NOVO ARTEFATO"}),b.jsxs("form",{onSubmit:E,className:"forja-form",children:[b.jsxs("div",{className:"row",children:[b.jsx("input",{placeholder:"Nome do Artefato",value:p.nome,onChange:B=>g({...p,nome:B.target.value}),className:"forja-input"}),b.jsx("input",{placeholder:"URL da Imagem (Imgur)",value:p.imagem,onChange:B=>g({...p,imagem:B.target.value}),className:"forja-input"})]}),b.jsx("textarea",{placeholder:"Descrio detalhada e lore do item...",value:p.descricao,onChange:B=>g({...p,descricao:B.target.value}),className:"forja-input area"}),b.jsxs("div",{className:"form-actions",children:[b.jsx("button",{type:"submit",className:"btn-forjar",children:h?"REFUNDIR (SALVAR)":"FORJAR ITEM"}),h&&b.jsx("button",{type:"button",onClick:k,className:"btn-cancel",children:"CANCELAR"})]})]})]}),b.jsx("div",{className:"search-bar-container-forja",children:b.jsx("input",{type:"text",placeholder:" Buscar nos arquivos da forja...",value:o,onChange:B=>c(B.target.value),className:"search-input-forja"})}),b.jsxs("div",{className:"forja-grid",children:[q.map(B=>b.jsxs("div",{className:"forja-item-card",children:[b.jsx("div",{className:"item-img",style:{backgroundImage:`url(${B.imagem||"https://via.placeholder.com/150?text=?"})`}}),b.jsxs("div",{className:"item-info",children:[b.jsx("h4",{children:B.nome}),b.jsx("p",{className:"desc",children:B.descricao}),b.jsx("small",{style:{color:"#666"},children:"Status: Cofre"})]}),b.jsxs("div",{className:"item-actions",children:[b.jsx("button",{className:"btn-icon edit",onClick:()=>x(B),title:"Editar",children:""}),b.jsx("button",{className:"btn-icon delete",onClick:()=>A(B.id),title:"Destruir",children:""})]})]},B.id)),q.length===0&&b.jsx("p",{className:"empty-msg",children:"A forja est fria. Nenhum item no cofre."})]})]})}),b.jsx("style",{children:`
        .forja-trigger-btn {
          position: fixed; bottom: 30px; right: 110px; width: 70px; height: 70px;
          border-radius: 50%; border: 2px solid #f44; background: #000; cursor: pointer; z-index: 9999;
          transition: transform 0.2s, box-shadow 0.2s; padding: 0; display: flex; align-items: center; justify-content: center;
          color: #f44; font-weight: bold; font-size: 10px;
        }
        .forja-trigger-btn:hover { transform: scale(1.1); box-shadow: 0 0 20px #f44; }
        .forja-trigger-btn img { width: 80%; height: 80%; object-fit: contain; }

        .forja-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.9); z-index: 100000; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
        .forja-modal { width: 800px; max-height: 90vh; background: #150a0a; border: 1px solid #f44; display: flex; flex-direction: column; box-shadow: 0 0 50px rgba(255, 68, 68, 0.2); border-radius: 8px; overflow: hidden; }

        .forja-header { background: linear-gradient(90deg, #2a0e0e, #000); padding: 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #f44; }
        .forja-header h2 { margin: 0; color: #f44; font-family: serif; letter-spacing: 2px; text-shadow: 0 0 10px #f44; font-size: 24px; }
        .close-btn { background: transparent; border: none; color: #fff; font-size: 30px; cursor: pointer; }

        .mestre-panel-forja { background: rgba(255, 68, 68, 0.05); padding: 20px; border-bottom: 1px solid #333; }
        .forja-form { display: flex; flex-direction: column; gap: 10px; }
        .forja-form .row { display: flex; gap: 10px; }
        .forja-input { background: #000; border: 1px solid #522; color: #fff; padding: 10px; flex: 1; outline: none; font-family: serif; }
        .forja-input:focus { border-color: #f44; }
        .forja-input.area { height: 80px; resize: none; }
        
        .btn-forjar { flex: 1; background: #f44; border: none; padding: 12px; font-weight: bold; cursor: pointer; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        .btn-forjar:hover { background: #d00; box-shadow: 0 0 10px #d00; }
        .btn-cancel { background: #333; color: #fff; border: 1px solid #555; padding: 10px; cursor: pointer; }

        .search-bar-container-forja { padding: 15px; background: #000; border-bottom: 1px solid #333; }
        .search-input-forja { width: 100%; background: #111; border: 1px solid #522; color: #fff; padding: 12px; border-radius: 20px; text-align: center; outline: none; font-size: 16px; }

        .forja-grid { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; scrollbar-width: none; -ms-overflow-style: none; }
        .forja-grid::-webkit-scrollbar { display: none; }

        .forja-item-card { background: linear-gradient(90deg, rgba(40,10,10,0.9), rgba(0,0,0,0.8)); border: 1px solid #522; display: flex; align-items: center; padding: 10px; border-radius: 4px; transition: 0.2s; }
        .forja-item-card:hover { border-color: #f44; }
        
        .item-img { width: 70px; height: 70px; background-size: cover; background-position: center; border: 1px solid #633; margin-right: 15px; border-radius: 4px; background-color: #000; }
        .item-info { flex: 1; }
        .item-info h4 { margin: 0 0 5px 0; color: #fff; font-size: 18px; }
        .item-info .desc { margin: 0; color: #aaa; font-size: 12px; font-style: italic; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }

        .item-actions { display: flex; gap: 8px; margin-left: 15px; }
        .btn-icon { background: transparent; border: 1px solid #444; color: #fff; padding: 8px; cursor: pointer; border-radius: 4px; }
        .btn-icon:hover { background: #fff; color: #000; }
        .btn-icon.delete:hover { background: #f44; border-color: #f44; color: #fff; }
        
        .empty-msg { text-align: center; color: #666; margin-top: 50px; font-style: italic; }
      `})]})}const Rb=({expiry:i})=>{const[e,n]=L.useState("");return L.useEffect(()=>{const r=setInterval(()=>{const o=new Date().getTime(),c=new Date(i).getTime()-o;if(c<0)n("EXPIRADA"),clearInterval(r);else{const h=Math.floor(c/864e5),m=Math.floor(c%(1e3*60*60*24)/(1e3*60*60)),p=Math.floor(c%(1e3*60*60)/(1e3*60));n(`${h}d ${m}h ${p}m`)}},1e3);return()=>clearInterval(r)},[i]),b.jsxs("span",{className:"mission-timer",children:[" ",e]})};function xD(){const[i,e]=L.useState([]),[n,r]=L.useState([]),[o,c]=L.useState([]),[h,m]=L.useState([]),[p,g]=L.useState(!1),[E,A]=L.useState(!1),[x,k]=L.useState(!1),[q,B]=L.useState(null),[G,$]=L.useState(null),[W,re]=L.useState(null),[_e,ye]=L.useState(""),[ie,N]=L.useState(""),[w,R]=L.useState([]),[M,D]=L.useState([]),[O,C]=L.useState({nome:"",local:"",contratante:"",descricaoMissao:"",objetivosMissao:"",requisitos:"",grupo:"",recompensa:"",rank:"E",imagem:"",duracao:"",gilRecompensa:""}),[we,Ye]=L.useState({missaoId:"",dataInicio:"",cenarios:[],tokens:[]}),[X,oe]=L.useState(""),[me,Ue]=L.useState("cenario"),[ze,V]=L.useState(()=>localStorage.getItem("mestreAssinatura")||Vt.currentUser?.email?.split("@")[0]||"Narrador");L.useEffect(()=>{localStorage.setItem("mestreAssinatura",ze)},[ze]),L.useEffect(()=>{if(xo&&xo.pause(),!Vt.currentUser)return;const Q=fo(In(it,"missoes"),mo("mestreId","==",Vt.currentUser.uid),po("createdAt","desc")),be=yo(Q,jt=>e(jt.docs.map(Zt=>({id:Zt.id,...Zt.data()})))),He=fo(In(it,"resenhas"),mo("mestreId","==",Vt.currentUser.uid),po("createdAt","desc")),bn=yo(He,jt=>r(jt.docs.map(Zt=>({id:Zt.id,...Zt.data()})))),cn=fo(In(it,"sessoes"),mo("mestreId","==",Vt.currentUser.uid),po("dataInicio","asc")),Ti=yo(cn,jt=>{const Zt=jt.docs.map(ha=>({id:ha.id,...ha.data()}));c(Zt)});return(async()=>{const jt=await up(In(it,"characters"));m(jt.docs.map(Zt=>({id:Zt.id,...Zt.data()})))})(),()=>{be(),bn(),Ti()}},[]);const te=async Q=>{Q.preventDefault();try{const be=(O.duracao.match(/(\d+)w/)||[0,0])[1]*6048e5+(O.duracao.match(/(\d+)d/)||[0,0])[1]*864e5+(O.duracao.match(/(\d+)h/)||[0,0])[1]*36e5;await Fd(In(it,"missoes"),{...O,mestreNome:ze,mestreId:Vt.currentUser.uid,createdAt:di(),expiraEm:new Date(Date.now()+(be||36e5)).toISOString()}),g(!1),C({nome:"",local:"",contratante:"",descricaoMissao:"",objetivosMissao:"",requisitos:"",grupo:"",recompensa:"",rank:"E",imagem:"",duracao:"",gilRecompensa:""})}catch{alert("Erro ao forjar cartaz.")}},le=()=>{X&&(Ye(me==="cenario"?Q=>({...Q,cenarios:[...Q.cenarios,X]}):Q=>({...Q,tokens:[...Q.tokens,X]})),oe(""))},ue=(Q,be)=>{Ye(Q==="cenario"?He=>({...He,cenarios:He.cenarios.filter((bn,cn)=>cn!==be)}):He=>({...He,tokens:He.tokens.filter((bn,cn)=>cn!==be)}))},Te=async Q=>{if(Q.preventDefault(),!we.missaoId||!we.dataInicio)return alert("Selecione a misso e o horrio!");try{const be=i.find(cn=>cn.id===we.missaoId),He=new Date(we.dataInicio),bn=new Date(He.getTime()+1440*60*1e3);await Fd(In(it,"sessoes"),{missaoId:we.missaoId,missaoNome:be?be.nome:"Misso Desconhecida",mestreId:Vt.currentUser.uid,dataInicio:we.dataInicio,expiraEm:bn.toISOString(),participantes:M,cenarios:we.cenarios,tokens:we.tokens,createdAt:di()}),k(!1),Ye({missaoId:"",dataInicio:"",cenarios:[],tokens:[]}),D([]),alert("Sesso criada com sucesso!")}catch(be){alert("Erro ao criar sesso: "+be.message),console.error(be)}},Ce=Q=>{alert(`Entrando no VTT do Mestre para a sesso: ${Q.missaoNome}
Carregando ${Q.cenarios?.length||0} cenrios e ${Q.tokens?.length||0} tokens...`)};return b.jsxs("div",{className:"mestre-container",children:[b.jsx("div",{className:"mestre-bg-image-full",style:{backgroundImage:`url(${_D})`}}),b.jsxs("div",{className:"mestre-content",children:[b.jsx("h1",{className:"ff-title",children:"HUB DO NARRADOR"}),b.jsxs("div",{className:"mestre-identity-box ff-card fade-in",children:[b.jsx("label",{children:"ASSINATURA DO MESTRE:"}),b.jsx("input",{type:"text",value:ze,onChange:Q=>V(Q.target.value)})]}),b.jsxs("div",{className:"mestre-grid",children:[b.jsxs("div",{className:"ff-card board-column",children:[b.jsxs("div",{className:"card-header no-border",children:[b.jsx("h3",{children:"QUADRO DE MISSES"}),b.jsxs("button",{className:"ff-add-btn",onClick:()=>g(!0),children:[b.jsx("span",{children:"+"})," ADICIONAR CARTAZ"]})]}),b.jsx("div",{className:"mission-scroll",children:i.map(Q=>b.jsxs("div",{className:`mission-poster rank-${Q.rank}`,children:[b.jsx("div",{className:"poster-rank-label-fixed",children:Q.rank}),b.jsxs("span",{className:"mestre-tag",children:["Narrador: ",Q.mestreNome]}),b.jsx("h4",{children:Q.nome}),b.jsxs("p",{className:"gil-recompensa",children:[" Recompensa: ",Q.gilRecompensa," Gil"]}),Q.candidatos&&Q.candidatos.length>0&&b.jsxs("div",{className:"candidates-mini-box",children:[b.jsx("strong",{children:"Candidatos:"}),Q.candidatos.map(be=>b.jsxs("div",{style:{fontSize:"10px",color:be.isLeader?"#ffcc00":"#ccc"},children:[be.isLeader&&""," ",be.nome," (",be.classe,")"]},be.uid))]}),b.jsx(Rb,{expiry:Q.expiraEm}),b.jsxs("div",{className:"poster-actions",children:[b.jsx("button",{className:"btn-cyan",onClick:()=>re(Q.imagem),children:"CARTAZ"}),b.jsx("button",{className:"btn-cyan",onClick:()=>B(Q),children:"DETALHES"}),b.jsx("button",{className:"btn-red",onClick:()=>go(ln(it,"missoes",Q.id)),children:"EXCLUIR"})]})]},Q.id))})]}),b.jsxs("div",{className:"ff-card sanchez-card board-column",children:[b.jsxs("div",{className:"sanchez-header-top no-border",children:[b.jsx("h3",{children:"RESENHA DO SANCHEZ"}),b.jsx("button",{className:"ff-add-btn-gold-small",onClick:()=>A(!0),children:"+ CRIAR NOVA RESENHA"})]}),b.jsx("div",{className:"mission-scroll",children:n.map(Q=>b.jsxs("div",{className:"resenha-item-card",children:[b.jsx("h4",{children:Q.titulo}),b.jsx(Rb,{expiry:Q.expiraEm}),b.jsxs("div",{className:"poster-actions",children:[b.jsx("button",{className:"btn-cyan",onClick:()=>$(Q),children:"VISUALIZAR"}),b.jsx("button",{className:"btn-red",onClick:()=>go(ln(it,"resenhas",Q.id)),children:"EXCLUIR"})]})]},Q.id))})]}),b.jsxs("div",{className:"ff-card board-column",children:[b.jsxs("div",{className:"card-header no-border",children:[b.jsx("h3",{children:"SESSES DE JOGO"}),b.jsx("button",{className:"ff-add-btn small-btn",onClick:()=>k(!0),children:"INICIAR NOVA SESSO"})]}),b.jsx("div",{className:"mission-scroll",children:o.length===0?b.jsx("div",{className:"empty-instancia",children:"NENHUMA INSTNCIA ATIVA"}):o.map(Q=>b.jsxs("div",{className:"sessao-card",children:[b.jsx("div",{className:"sessao-status",children:" AO VIVO / AGENDADA"}),b.jsx("h4",{className:"sessao-title",children:Q.missaoNome}),b.jsxs("div",{className:"sessao-info",children:[b.jsxs("span",{children:[" ",new Date(Q.dataInicio).toLocaleString()]}),b.jsxs("span",{className:"sessao-players",children:[" ",Q.participantes?.length||0," Jogadores"]})]}),b.jsxs("div",{className:"sessao-assets-count",children:[" ",Q.cenarios?.length||0," Cenrios   ",Q.tokens?.length||0," Tokens"]}),b.jsxs("div",{className:"poster-actions",style:{marginTop:"15px"},children:[b.jsx("button",{className:"btn-play-vtt",onClick:()=>Ce(Q),children:" ACESSAR VTT"}),b.jsx("button",{className:"btn-red",onClick:()=>go(ln(it,"sessoes",Q.id)),children:"CANCELAR"})]})]},Q.id))})]})]})]}),p&&b.jsx("div",{className:"ff-modal-overlay-fixed",children:b.jsxs("div",{className:"ff-modal-scrollable ff-card",children:[b.jsx("h3",{className:"modal-title-ff",children:"NOVA MISSO"}),b.jsxs("form",{onSubmit:te,children:[b.jsxs("div",{className:"modal-input-group",children:[b.jsx("label",{children:"NOME DA MISSO"}),b.jsx("input",{placeholder:"Ttulo...",value:O.nome,onChange:Q=>C({...O,nome:Q.target.value}),required:!0})]}),b.jsxs("div",{className:"modal-input-group",children:[b.jsx("label",{children:"LOCAL"}),b.jsx("input",{placeholder:"Onde ocorre...",value:O.local,onChange:Q=>C({...O,local:Q.target.value})})]}),b.jsxs("div",{className:"modal-input-group",children:[b.jsx("label",{children:"CONTRATANTE"}),b.jsx("input",{placeholder:"Quem paga...",value:O.contratante,onChange:Q=>C({...O,contratante:Q.target.value})})]}),b.jsxs("div",{className:"modal-input-group",children:[b.jsx("label",{children:"DESCRIO DA MISSO"}),b.jsx("textarea",{className:"tall-area-dark",placeholder:"Detalhes da histria e contexto...",value:O.descricaoMissao,onChange:Q=>C({...O,descricaoMissao:Q.target.value})})]}),b.jsxs("div",{className:"modal-input-group",children:[b.jsx("label",{children:"OBJETIVOS DA MISSO"}),b.jsx("textarea",{className:"tall-area-dark",placeholder:"O que deve ser feito passo a passo...",value:O.objetivosMissao,onChange:Q=>C({...O,objetivosMissao:Q.target.value})})]}),b.jsxs("div",{className:"modal-input-group",children:[b.jsx("label",{children:"REQUISITOS DA MISSO"}),b.jsx("textarea",{className:"tall-area-dark",placeholder:"O que  necessrio para aceitar...",value:O.requisitos,onChange:Q=>C({...O,requisitos:Q.target.value})})]}),b.jsxs("div",{className:"row-double-ff",children:[b.jsxs("div",{className:"field-group",children:[b.jsx("label",{children:"GRUPO MXIMO"}),b.jsx("input",{placeholder:"Ex: 6 jogadores",value:O.grupo,onChange:Q=>C({...O,grupo:Q.target.value})})]}),b.jsxs("div",{className:"field-group",children:[b.jsx("label",{children:"RANK"}),b.jsx("select",{value:O.rank,onChange:Q=>C({...O,rank:Q.target.value}),children:["E","D","C","B","A","S","SS","SC"].map(Q=>b.jsxs("option",{value:Q,children:["RANK ",Q]},Q))})]})]}),b.jsxs("div",{className:"modal-input-group",children:[b.jsx("label",{children:"RECOMPENSAS EXTRAS (TEXTO)"}),b.jsx("textarea",{className:"tall-area-dark",placeholder:"Itens, especiarias, equipamentos...",value:O.recompensa,onChange:Q=>C({...O,recompensa:Q.target.value})})]}),b.jsxs("div",{className:"row-double-ff",children:[b.jsxs("div",{className:"field-group",children:[b.jsx("label",{children:"GIL"}),b.jsx("input",{type:"text",className:"gil-input",placeholder:"Ex: 5000",value:O.gilRecompensa,onChange:Q=>C({...O,gilRecompensa:Q.target.value.replace(/\D/g,"")})})]}),b.jsxs("div",{className:"field-group",children:[b.jsx("label",{children:"DURAO DA MISSO"}),b.jsx("input",{placeholder:"Ex: 1d 10h",value:O.duracao,onChange:Q=>C({...O,duracao:Q.target.value}),required:!0})]})]}),b.jsxs("div",{className:"modal-input-group",children:[b.jsx("label",{children:"URL DA IMAGEM DO CARTAZ"}),b.jsx("input",{placeholder:"Link Imgur...",value:O.imagem,onChange:Q=>C({...O,imagem:Q.target.value})})]}),b.jsxs("div",{className:"btn-group-ff",children:[b.jsx("button",{type:"submit",className:"btn-forjar-main",children:"FORJAR MISSO"}),b.jsx("button",{type:"button",className:"btn-cancelar-main",onClick:()=>g(!1),children:"FECHAR"})]})]})]})}),x&&b.jsx("div",{className:"ff-modal-overlay-fixed",children:b.jsxs("div",{className:"ff-modal-scrollable ff-card",children:[b.jsx("h3",{className:"modal-title-ff",children:"CRIAR NOVA SESSO"}),b.jsxs("form",{onSubmit:Te,children:[b.jsxs("div",{className:"modal-input-group",children:[b.jsx("label",{children:"SELECIONAR MISSO (OBJETIVO)"}),b.jsxs("select",{className:"ff-select-dark",value:we.missaoId,onChange:Q=>Ye({...we,missaoId:Q.target.value}),required:!0,children:[b.jsx("option",{value:"",children:"-- Escolha uma misso --"}),i.map(Q=>b.jsxs("option",{value:Q.id,children:[Q.nome," (Rank ",Q.rank,")"]},Q.id))]})]}),b.jsxs("div",{className:"modal-input-group",children:[b.jsx("label",{children:"DATA E HORRIO DE INCIO"}),b.jsx("input",{type:"datetime-local",className:"ff-input-dark",value:we.dataInicio,onChange:Q=>Ye({...we,dataInicio:Q.target.value}),required:!0})]}),b.jsxs("div",{className:"player-selector-box-fixed",children:[b.jsx("label",{children:"SELECIONAR JOGADORES (PERSONAGENS):"}),b.jsx("div",{className:"destinatarios-grid-fixed",children:h.length>0?h.map(Q=>b.jsxs("label",{className:"chip-label-ff",children:[b.jsx("input",{type:"checkbox",checked:M.includes(Q.name),onChange:()=>M.includes(Q.name)?D(M.filter(be=>be!==Q.name)):D([...M,Q.name])}),Q.name," (",Q.class,")"]},Q.id)):b.jsx("p",{style:{color:"#666"},children:"Nenhum personagem encontrado no banco."})})]}),b.jsxs("div",{className:"upload-section-box",children:[b.jsx("h4",{className:"upload-section-title",children:"IMPORTAR IMAGENS (IMGUR)"}),b.jsxs("div",{className:"link-import-row",children:[b.jsx("input",{className:"ff-input-dark",placeholder:"Cole o link da imagem aqui...",value:X,onChange:Q=>oe(Q.target.value)}),b.jsxs("select",{className:"ff-select-dark small-select",value:me,onChange:Q=>Ue(Q.target.value),children:[b.jsx("option",{value:"cenario",children:"Cenrio"}),b.jsx("option",{value:"token",children:"Token"})]}),b.jsx("button",{type:"button",className:"btn-cyan",onClick:le,children:"+"})]}),b.jsxs("div",{className:"assets-lists",children:[we.cenarios.length>0&&b.jsxs("div",{className:"asset-group",children:[b.jsx("label",{children:"CENRIOS:"}),we.cenarios.map((Q,be)=>b.jsxs("div",{className:"asset-item",children:[b.jsx("span",{className:"truncate-link",children:Q}),b.jsx("button",{type:"button",className:"btn-remove-x",onClick:()=>ue("cenario",be),children:""})]},be))]}),we.tokens.length>0&&b.jsxs("div",{className:"asset-group",children:[b.jsx("label",{children:"TOKENS:"}),we.tokens.map((Q,be)=>b.jsxs("div",{className:"asset-item",children:[b.jsx("span",{className:"truncate-link",children:Q}),b.jsx("button",{type:"button",className:"btn-remove-x",onClick:()=>ue("token",be),children:""})]},be))]})]})]}),b.jsxs("div",{className:"btn-group-ff",children:[b.jsx("button",{type:"submit",className:"btn-forjar-main",children:"AGENDAR SESSO"}),b.jsx("button",{type:"button",className:"btn-cancelar-main",onClick:()=>k(!1),children:"CANCELAR"})]})]})]})}),q&&b.jsx("div",{className:"ff-modal-overlay-fixed",onClick:()=>B(null),children:b.jsxs("div",{className:"ff-modal ff-card detail-view-main",onClick:Q=>Q.stopPropagation(),children:[b.jsxs("div",{className:"detail-header-modern",children:[b.jsx("div",{className:`detail-rank-badge rank-${q.rank}`,children:q.rank}),b.jsxs("div",{className:"detail-title-col",children:[b.jsx("h2",{children:q.nome}),b.jsxs("span",{className:"detail-narrator",children:["Narrador: ",q.mestreNome]})]})]}),b.jsxs("div",{className:"detail-body-grid",children:[b.jsxs("div",{className:"detail-info-row",children:[b.jsxs("div",{className:"info-item",children:[b.jsx("label",{children:" LOCAL"}),b.jsx("span",{children:q.local||"Desconhecido"})]}),b.jsxs("div",{className:"info-item",children:[b.jsx("label",{children:" CONTRATANTE"}),b.jsx("span",{children:q.contratante||"Annimo"})]})]}),b.jsxs("div",{className:"detail-section",children:[b.jsx("label",{className:"section-label",children:" DESCRIO DA MISSO"}),b.jsx("p",{className:"section-text",children:q.descricaoMissao||"Sem descrio."})]}),b.jsxs("div",{className:"detail-section",children:[b.jsx("label",{className:"section-label",children:" OBJETIVOS DA MISSO"}),b.jsx("p",{className:"section-text",children:q.objetivosMissao||"Sem objetivos definidos."})]}),b.jsxs("div",{className:"detail-section",children:[b.jsx("label",{className:"section-label",children:" REQUISITOS"}),b.jsx("p",{className:"section-text",children:q.requisitos||"Sem requisitos especiais."})]}),b.jsxs("div",{className:"detail-section reward-section",children:[b.jsx("label",{className:"section-label",children:" RECOMPENSAS"}),b.jsxs("div",{className:"reward-content-box",children:[b.jsxs("div",{className:"gil-display-row",children:[b.jsx("span",{className:"gil-icon",children:""}),b.jsxs("span",{className:"gil-value",children:[q.gilRecompensa||0," GIL"]})]}),q.recompensa&&b.jsx("div",{className:"extra-rewards-list",children:q.recompensa.split(`
`).map((Q,be)=>b.jsxs("div",{className:"reward-item",children:[" ",Q]},be))})]})]})]}),b.jsx("button",{className:"ff-final-close-btn",onClick:()=>B(null),children:"FECHAR RELATRIO"})]})}),G&&b.jsx("div",{className:"papiro-overlay-full",onClick:()=>$(null),children:b.jsxs("div",{className:"papiro-real-container",style:{backgroundImage:`url(${ED})`},onClick:Q=>Q.stopPropagation(),children:[b.jsx("div",{className:"sanchez-oval-view-no-border",style:{backgroundImage:`url(${bD})`}}),b.jsx("h2",{className:"papiro-title-real",children:G.titulo}),b.jsxs("p",{className:"papiro-mestre-sub",children:["Narrador: ",G.mestre]}),b.jsx("div",{className:"papiro-body-real",dangerouslySetInnerHTML:{__html:G.conteudo.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br/>")}}),b.jsxs("div",{className:"papiro-dest-list",children:[b.jsx("strong",{children:"ENVIADO PARA:"})," ",G.destinatarios?.join(", ")]}),b.jsx("button",{className:"papiro-close-btn",onClick:()=>$(null),children:"FECHAR"})]})}),W&&b.jsx("div",{className:"ff-modal-overlay-fixed",onClick:()=>re(null),children:b.jsxs("div",{className:"lightbox-wrap",children:[b.jsx("button",{className:"close-lightbox",onClick:()=>re(null),children:""}),b.jsx("img",{src:W,alt:"Cartaz",className:"cartaz-full-view"})]})}),b.jsx(RD,{}),b.jsx(TD,{isMestre:!0}),b.jsx("style",{children:`
        .mestre-container { background: #000; min-height: 100vh; position: relative; color: #fff; font-family: 'serif'; overflow: hidden; }
        .mestre-bg-image-full { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center top; background-repeat: no-repeat; opacity: 0.35; z-index: 0; filter: contrast(125%) brightness(75%); }
        .mestre-content { position: relative; z-index: 1; padding: 30px; }
        .ff-title { color: #ffcc00; text-align: center; text-shadow: 0 0 10px #ffcc00; letter-spacing: 5px; margin-bottom: 30px; font-size: 2.5rem; }
        .mestre-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px; }
        
        .ff-card { background: rgba(0, 10, 30, 0.95); border: 1px solid #ffcc00; padding: 20px; border-radius: 4px; backdrop-filter: blur(10px); }
        .card-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 15px; }
        .card-header.no-border { border-bottom: none; }
        .board-column { height: 600px; display: flex; flex-direction: column; }

        .mestre-identity-box { display: flex; align-items: center; gap: 15px; margin-bottom: 30px; border: 1px solid #ffcc00; padding: 12px 20px; background: rgba(0, 10, 30, 0.9); width: fit-content; }
        .mestre-identity-box input { background: #fff; border: 1px solid #ffcc00; color: #000; padding: 5px 10px; font-weight: bold; font-family: 'serif'; outline: none; }

        .mission-scroll { flex: 1; overflow-y: auto; padding-right: 8px; }
        .mission-poster { background: rgba(255,255,255,0.04); border: 1px solid #444; margin-bottom: 15px; padding: 18px; border-left: 4px solid #00f2ff; position: relative; }
        .poster-rank-label-fixed { position: absolute; top: 12px; right: 18px; font-size: 32px; color: #ffcc00; opacity: 0.35; font-weight: bold; }
        .mestre-tag { color: #ffcc00; font-size: 10px; text-transform: uppercase; font-weight: bold; display: block; margin-bottom: 8px; }
        .candidates-mini-box { margin-top: 8px; background: rgba(0,0,0,0.3); padding: 5px; border-radius: 3px; }

        .sanchez-card { position: relative; overflow: hidden; }
        .sanchez-header-top { position: relative; z-index: 1; margin-bottom: 15px; border-bottom: 1px solid #333; padding-bottom: 10px; }
        .sanchez-header-top.no-border { border-bottom: none; }
        .resenha-item-card { background: rgba(255,255,255,0.05); border: 1px solid #333; padding: 15px; margin-top: 12px; border-radius: 4px; }

        .sessao-card { background: linear-gradient(135deg, rgba(20,20,50,0.9), rgba(0,0,20,0.9)); border: 1px solid #00f2ff; padding: 15px; margin-bottom: 15px; border-radius: 4px; box-shadow: 0 0 10px rgba(0,242,255,0.1); }
        .sessao-status { font-size: 10px; color: #f44; font-weight: bold; margin-bottom: 8px; animation: pulse 2s infinite; }
        .sessao-title { color: #fff; font-size: 18px; margin: 0 0 10px 0; border-bottom: 1px solid #333; padding-bottom: 8px; }
        .sessao-info { display: flex; justify-content: space-between; font-size: 12px; color: #aaa; margin-bottom: 10px; }
        .sessao-assets-count { font-size: 11px; color: #ffcc00; background: rgba(0,0,0,0.3); padding: 5px; border-radius: 3px; display: inline-block; }
        .btn-play-vtt { background: #00f2ff; color: #000; border: none; padding: 8px 15px; font-weight: bold; cursor: pointer; flex: 1; margin-right: 10px; transition: 0.3s; }
        .btn-play-vtt:hover { background: #fff; box-shadow: 0 0 15px #00f2ff; }
        
        @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }

        .upload-section-box { border: 1px dashed #444; padding: 15px; margin: 20px 0; background: rgba(0,0,0,0.3); }
        .upload-section-title { color: #00f2ff; font-size: 12px; margin-bottom: 15px; border-bottom: 1px solid #00f2ff; padding-bottom: 5px; display: inline-block; }
        .ff-select-dark { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; outline: none; font-family: 'serif'; }
        .ff-input-dark { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; outline: none; font-family: 'serif'; color-scheme: dark; }

        .link-import-row { display: flex; gap: 10px; margin-bottom: 15px; }
        .small-select { width: 120px; }
        .assets-lists { display: flex; flex-direction: column; gap: 10px; }
        .asset-group { background: rgba(255,255,255,0.05); padding: 10px; border-radius: 4px; }
        .asset-group label { display: block; color: #ffcc00; font-size: 10px; font-weight: bold; margin-bottom: 5px; border-bottom: 1px solid #333; }
        .asset-item { display: flex; justify-content: space-between; align-items: center; font-size: 11px; color: #ddd; margin-bottom: 4px; }
        .truncate-link { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 350px; }
        .btn-remove-x { background: transparent; border: none; color: #f44; font-weight: bold; cursor: pointer; font-size: 14px; }

        .ff-modal-overlay-fixed { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.94); z-index: 99999; display: flex; align-items: center; justify-content: center; }
        .ff-modal-scrollable { width: 550px; max-height: 90vh; overflow-y: auto; background: #000c1d; border: 2px solid #ffcc00; padding: 35px; box-shadow: 0 0 60px rgba(0,0,0,0.9); }
        .modal-title-ff { color: #fff; font-size: 22px; border-bottom: 1px solid #ffcc00; padding-bottom: 10px; margin-bottom: 20px; letter-spacing: 2px; }
        
        .modal-input-group { margin-bottom: 20px; }
        .modal-input-group label { color: #ffcc00; font-size: 11px; display: block; margin-bottom: 8px; font-weight: bold; letter-spacing: 1px; }
        .modal-input-group input { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; outline: none; font-family: 'serif'; font-size: 14px; }
        
        .row-double-ff { display: flex; gap: 20px; margin-bottom: 20px; }
        .field-group { flex: 1; display: flex; flex-direction: column; }
        .field-group label { color: #ffcc00; font-size: 11px; display: block; margin-bottom: 8px; font-weight: bold; }
        .field-group input, .field-group select { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; font-family: 'serif'; outline: none; }
        
        .tall-area-dark { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; height: 110px; resize: none; font-family: 'serif'; outline: none; }
        .tall-area-ff-dark { width: 100%; background: #000; border: 1px solid #ffcc00; color: #fff; padding: 15px; height: 250px; resize: none; font-family: 'serif'; outline: none; font-size: 16px; border-radius: 4px; }
        
        .detail-view-main { width: 600px; background: #000814; border: 1px solid #ffcc00; padding: 0; box-shadow: 0 0 40px rgba(255, 204, 0, 0.1); overflow: hidden; display: flex; flex-direction: column; }
        .detail-header-modern { background: linear-gradient(90deg, #1a1a1a 0%, #000 100%); padding: 25px 30px; display: flex; align-items: center; border-bottom: 1px solid #333; gap: 20px; }
        .detail-rank-badge { font-size: 32px; font-weight: bold; color: #ffcc00; text-shadow: 0 0 10px rgba(255,204,0,0.5); border: 2px solid #ffcc00; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background: rgba(0,0,0,0.5); }
        .detail-title-col h2 { margin: 0; font-size: 24px; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        .detail-narrator { color: #00f2ff; font-size: 12px; font-weight: bold; text-transform: uppercase; margin-top: 4px; display: block; }
        .detail-body-grid { padding: 30px; display: flex; flex-direction: column; gap: 20px; }
        .detail-info-row { display: flex; gap: 25px; margin-bottom: 10px; border-bottom: 1px solid #333; padding-bottom: 15px; }
        .info-item { flex: 1; }
        .info-item label { color: #ffcc00; font-size: 10px; display: block; margin-bottom: 5px; font-weight: bold; opacity: 0.8; }
        .info-item span { color: #fff; font-size: 14px; font-weight: bold; letter-spacing: 0.5px; }
        .detail-section { margin-bottom: 5px; }
        .section-label { color: #ffcc00; font-size: 11px; font-weight: bold; display: block; margin-bottom: 8px; letter-spacing: 1px; text-transform: uppercase; border-bottom: 1px solid #333; padding-bottom: 4px; }
        .section-text { font-size: 15px; line-height: 1.5; color: #ddd; margin: 0; white-space: pre-wrap; }
        .reward-section { margin-top: 10px; background: rgba(255,204,0,0.05); padding: 15px; border-radius: 4px; border: 1px solid rgba(255,204,0,0.2); }
        .gil-display-row { display: flex; align-items: center; gap: 10px; font-size: 18px; color: #ffcc00; font-weight: bold; margin-bottom: 8px; }
        .extra-rewards-list { margin-top: 8px; padding-left: 5px; }
        .reward-item { color: #aaa; font-size: 14px; margin-bottom: 4px; font-style: italic; }
        .ff-final-close-btn { width: 100%; background: #111; color: #fff; border: none; border-top: 1px solid #333; padding: 20px; font-weight: bold; cursor: pointer; font-size: 13px; text-transform: uppercase; transition: 0.2s; }
        .ff-final-close-btn:hover { background: #222; color: #ffcc00; }
        
        .papiro-overlay-full { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); z-index: 100000; display: flex; align-items: center; justify-content: center; }
        .papiro-real-container { width: 1000px; height: 800px; max-width: 95vw; max-height: 95vh; background-size: 100% 100%; background-repeat: no-repeat; padding: 110px 160px; color: #3b2b1a; position: relative; display: flex; flex-direction: column; }
        .sanchez-oval-view-no-border { width: 110px; height: 110px; float: right; border-radius: 50%; background-size: cover; margin-left: 20px; mask-image: radial-gradient(circle, black 60%, transparent 100%); -webkit-mask-image: radial-gradient(circle, black 60%, transparent 100%); opacity: 0.9; }
        .papiro-title-real { border-bottom: 2px solid #3b2b1a; padding-bottom: 5px; margin-top: 0; font-size: 32px; font-weight: bold; }
        .papiro-body-real { margin-top: 25px; flex: 1; overflow-y: auto; line-height: 1.6; font-size: 18px; padding-right: 10px; scrollbar-width: none; -ms-overflow-style: none; }
        .papiro-body-real::-webkit-scrollbar { display: none; }
        .papiro-dest-list { margin-top: 15px; font-size: 14px; border-top: 1px solid rgba(59, 43, 26, 0.3); padding-top: 10px; }
        .papiro-close-btn { position: absolute; bottom: 45px; right: 110px; background: #3b2b1a; color: #f4e4bc; border: none; padding: 8px 20px; cursor: pointer; font-weight: bold; font-size: 13px; border-radius: 2px; }

        .ff-add-btn { background: transparent; border: 1px solid #00f2ff; color: #00f2ff; padding: 10px 20px; cursor: pointer; font-weight: bold; font-size: 12px; }
        .ff-add-btn-gold-small { background: transparent; border: 1px solid #ffcc00; color: #ffcc00; padding: 8px 15px; cursor: pointer; font-weight: bold; font-size: 11px; transition: 0.3s; }
        .ff-add-btn-gold-small:hover { background: #ffcc00; color: #000; box-shadow: 0 0 15px #ffcc00; }
        .btn-cyan { border: 1px solid #00f2ff; color: #00f2ff; padding: 6px 15px; background: transparent; cursor: pointer; font-size: 11px; margin-right: 10px; font-weight: bold; }
        .btn-red { border: 1px solid #f44; color: #f44; padding: 6px 15px; background: transparent; cursor: pointer; font-size: 11px; font-weight: bold; }
        .btn-group-ff { display: flex; gap: 20px; margin-top: 25px; }
        .btn-forjar-main { flex: 1; background: #ffcc00; color: #000; border: none; padding: 14px; font-weight: bold; cursor: pointer; font-size: 14px; text-transform: uppercase; }
        .btn-cancelar-main { flex: 1; background: #000; color: #fff; border: 1px solid #fff; padding: 14px; cursor: pointer; text-align: center; font-size: 14px; text-transform: uppercase; }
        
        .player-selector-box-fixed { margin: 25px 0; border-top: 1px solid #333; padding-top: 15px; }
        .destinatarios-grid-fixed { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 12px; }
        .chip-label-ff { background: rgba(0, 10, 30, 0.8); border: 1px solid #ffcc00; color: #ffcc00; padding: 8px 18px; border-radius: 4px; font-size: 12px; cursor: pointer; display: inline-block; }

        .mission-timer { font-size: 12px; color: #00f2ff; display: block; margin-top: 10px; font-weight: bold; letter-spacing: 1px; }
        .fade-in { animation: fadeIn 1s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .lightbox-wrap { position: relative; max-width: 90vw; max-height: 90vh; }
        .cartaz-full-view { max-width: 100%; max-height: 90vh; border: 3px solid #ffcc00; box-shadow: 0 0 50px #000; }
        .close-lightbox { position: absolute; top: -40px; right: -40px; background: transparent; border: none; color: #fff; font-size: 40px; cursor: pointer; }
      `})]})}const wD=[{id:"humes",name:"Humes",image:"races/humes.png",description:"Os Humes so a raa mais comum e predominante em Ivalice. Adaptveis, curiosos e persistentes, habitam desde as grandes capitais at vilarejos fronteirios. Sua origem  antiga e pouco documentada, mas acredita-se que foram os primeiros a construir grandes cidades e fundar os cls atuais.",characteristics:"Sua maior qualidade  a versatilidade. No se destacam naturalmente em nenhum atributo especfico, mas aprendem qualquer funo rapidamente, prosperando em qualquer lugar que chamem de lar.",racial_bonus:{value:5,detail:"5 pontos extras para distribuir livremente entre os atributos durante a criao de personagem."},base_classes:["Soldado","Mago Branco","Qumico"]},{id:"viera",name:"Viera",image:"races/viera.png",description:"Uma raa graciosa e enigmtica, marcada por longas orelhas e aparncia esguia. Vivem em florestas profundas, isoladas do mundo exterior e conectadas aos espritos da natureza. A sociedade  matriarcal.",characteristics:"Conhecidas por sentidos aguados, velocidade impressionante e habilidades mgicas refinadas. Os machos so raros e exilados ao atingirem a maturidade.",racial_bonus:{female:{VEL:3,INT:2},male_exiled:{"pontos-livres":5}},base_classes:{female:["Arqueira","Esgrimista","Curandeira"],male:["Exilado"]}},{id:"moogles",name:"Moogles",image:"races/moogles.png",description:"Pequenos, adorveis e envoltos em mistrio. Possuem corpos peludos, antenas com pompons flutuantes e pequenas asas de morcego. No possuem gnero definido.",characteristics:"Extremamente inteligentes e obcecados por tecnologia e invenes, misturando cincia com feitiaria. Carregam um estranho 'magnetismo da sorte'.",racial_bonus:{SOR:5},base_classes:["Animista","Engenheiro"]},{id:"bangaa",name:"Bangaa",image:"races/bangaa.png",description:"Guerreiros reptilianos robustos, com pele escamosa e traos que lembram drages antigos. So temidos pela fora bruta e respeitados pela honra em combate.",characteristics:"Sua origem remonta a tempos ancestrais e acredita-se que possuam sangue dracnico. Valorizam a lealdade, a disciplina fsica e o dever.",racial_bonus:{FOR:3,CONS:2},base_classes:["Monge","Guerreiro"]},{id:"grias",name:"Grias",image:"races/grias.png",description:"Guerreiras aladas, exclusivamente femininas, nascidas para dominar os cus. Possuem corpos atlticos, chifres, caudas e asas fortes.",characteristics:"Mestres da caa alada e emboscadas areas. Usam a altura como vantagem ttica e seus ataques de mergulho so devastadores.",racial_bonus:{VEL:2},passive_ability:{name:"Imunidade a Dano de Queda",effect:"No sofrem dano ao cair de qualquer altura nem de impactos ascendentes."},base_classes:["Monge","Guerreiro"]},{id:"elvaan",name:"Elvaan",image:"races/elvaan.png",description:"Originrios de Valendia, so guerreiros altos, nobres e disciplinados, com orelhas alongadas. Simbolizam tradio e justia em Ivalice.",characteristics:"Treinados desde a infncia no manejo de lminas e estilos de combate ancestrais. Desprezam truques e valorizam o confronto direto.",racial_bonus:{FOR:2},passive_ability:{name:"Domnio de Reao",effect:"Aprendem habilidades de reao com o dobro de rapidez."},base_classes:["Soldado","Espadachim"]},{id:"mithra",name:"Mithra",image:"races/mithra.png",description:"Raa com traos felinos, gil e astuta. Compartilham uma origem ancestral com as Viera, mas se espalharam por matas tropicais e runas.",characteristics:"Especialistas em furtividade, espionagem e ladronagem. Possuem forte senso de honra ligado  astcia.",racial_bonus:{VEL:2},passive_ability:{name:"Bnus de Camuflagem",effect:"Recebem vantagem em testes de furtividade, infiltrao e disfarce."},base_classes:["Ladra","Rastreadora"]},{id:"nu_mou",name:"Nu Mou",image:"races/nu-mou.png",description:"Pequenos em estatura, com aparncia canina e pelagem espessa, mas imensos em conhecimento. So magos natos que vivem sculos acumulando sabedoria.",characteristics:"Frequentemente ocupam cargos de conselheiros. Possuem empatia natural com a vida selvagem, comunicando-se com monstros e animais.",racial_bonus:{INT:3,CAR:2},base_classes:["Mago Branco","Adestrador"]},{id:"hypello",name:"Hypello",image:"races/hypello.png",description:"Raa anfbia dos pntanos de Kerwon. Possuem grande estatura, corpos robustos e pele azulada ou esverdeada.",characteristics:"Herbalistas por excelncia, mestres em usar plantas para curas ou venenos. Sua maior fora  a vitalidade e a empatia.",racial_bonus:{CONS:5},base_classes:["Escudeiro","Curandeiro"]},{id:"umbros",name:"Umbros",image:"races/umbros.png",description:"Seres de pele negra e marcas brilhantes que reagem  lua. Descendentes dos seres tocados pelas Pedras Zodiacais.",characteristics:"Alta resistncia  corrupo e aptido mgica. Vistos como orculos ou andarilhos que carregam segredos esquecidos.",racial_bonus:{INT:2},passive_ability:{name:"Modo Luar",effect:"Sob luz direta da lua visvel, causam o dobro de dano final com qualquer magia."},base_classes:["Mago Negro","Ocultista"]}],CD={races:wD},ND=JSON.parse(`[{"id":"soldado","name":"Soldado","type":"Bsica","role":"Tanque / Suporte de status","description":"Guerreiros de linha de frente, treinados para resistir aos maiores impactos do campo de batalha e desestabilizar o inimigo com habilidades tticas conhecidas como 'Pausas'.","bonus_class":{"CONS":5},"requirements":[],"abilities":[{"name":"Primeiro Socorro","description":"Trata os prprios ferimentos, restaurando 25% do HP.","cost":"N/A","type":"HB"},{"name":"Quebra de Poder","description":"Reduz a FOR do alvo pela metade, por trs turnos.","cost":"N/A","type":"HB"},{"name":"Quebra Magia","description":"Reduz a INT do alvo pela metade, por trs turnos.","cost":"N/A","type":"HB"},{"name":"Quebra de Mana","description":"Reduz a MP do alvo pela metade por trs turnos.","cost":"N/A","type":"HB"},{"name":"Provocar","description":"Inflige FURIA a um alvo.","cost":"N/A","type":"HB"},{"name":"Shieldbearer","description":"Permite ao usurio equipar escudos, mesmo fora da classe Soldado.","cost":"N/A","type":"Passiva"}]},{"id":"mago_branco","name":"Mago Branco","type":"Bsica","role":"Suporte / Cura / Anti-morto-vivo","description":"Especialistas em suporte mgico, sua principal funo  manter o grupo de p com curas poderosas, proteo espiritual e magias de ressuscitao.","bonus_class":{"MP":5},"requirements":[],"abilities":[{"name":"Cure","description":"Cura magicamente os ferimentos do alvo. Restaura 10% do PV e causa dano a mortos-vivos.","cost":"8 MP","type":"Magia"},{"name":"Cura","description":"Restaura magicamente 25% de HP. Causa dano a mortos-vivos.","cost":"18 MP","type":"Magia"},{"name":"Curaga","description":"Restaura magicamente 75% de HP. Causa dano a mortos-vivos.","cost":"32 MP","type":"Magia"},{"name":"Esuna","description":"Remove magicamente os efeitos negativos do alvo.","cost":"10 MP","type":"Magia"},{"name":"Arise","description":"Revive magicamente o alvo, removendo o KO. Causa dano a mortos-vivos.","cost":"40 MP","type":"Magia"},{"name":"Turbo MP","description":"Os feitios custam o dobro de seus MP normais, e do o dobro de dano.","cost":"N/A","type":"Passiva"}]},{"id":"quimico","name":"Qumico","type":"Bsica","role":"Suporte / Manipulador de Itens","description":"Mestres do preparo e uso ttico de poes. Utilizam conhecimentos alqumicos para curar aliados e enfraquecer inimigos.","bonus_class":{"SOR":2,"CAR":3},"requirements":[],"abilities":[{"name":"Preparar Poo","description":"Cria uma poo bsica durante o turno.","cost":"N/A","type":"HB"},{"name":"Arremessar Poo","description":"Permite arremessar qualquer poo equipada em um aliado ou inimigo a at 3 quadrados.","cost":"N/A","type":"HB"},{"name":"Frasco Instvel","description":"Arremessa uma mistura explosiva improvisada que causa dano de elemento aleatrio.","cost":"N/A","type":"HB"},{"name":"Reao em Cadeia","description":"Permite usar duas poes diferentes ao mesmo tempo.","cost":"N/A","type":"HB"},{"name":"Reciclagem Alqumica","description":"Recupera uma poo gasta no combate.","cost":"N/A","type":"HB"},{"name":"Inventrio Estendido","description":"Bolsa exclusiva para poes que no ocupa espao no inventrio padro (at 8 poes).","cost":"N/A","type":"Passiva"}]},{"id":"arqueira","name":"Arqueira","type":"Bsica","role":"Atiradora / Controle de Campo","description":"Especialistas em combate  distncia, treinadas para derrubar inimigos com preciso e neutralizar alvos.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Foco","description":"Aumenta drasticamente a preciso e dobra o dano final do ataque.","cost":"N/A","type":"HB"},{"name":"Acerto na Perna","description":"Causa IMOBILIZAO, impedindo movimentos por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Acerto na Mo","description":"Causa DESARME por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Mira Precisa","description":"Adiciona o atributo SORTE ao dano final do ataque.","cost":"N/A","type":"HB"},{"name":"Apago","description":"Causa CEGUEIRA, reduzindo severamente a chance de acerto do alvo por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Concentrao","description":"Aumenta a chance de acerto em todos os disparos de longa distncia.","cost":"N/A","type":"Passiva"}]},{"id":"esgrimista","name":"Esgrimista","type":"Bsica","role":"Duelista / Assassina de preciso","description":"Combatentes graciosas e letais, treinadas no uso refinado da rapieira.","bonus_class":{"VEL":3,"FOR":2},"requirements":[],"abilities":[{"name":"Picada Venenosa","description":"Causa dano e aplica VENENO ao alvo.","cost":"N/A","type":"HB"},{"name":"Voo da Andorinha","description":"Ataca todos os inimigos ao redor, podendo derrub-los.","cost":"N/A","type":"HB"},{"name":"Golpe Perfurante","description":"Estocada que atravessa o primeiro alvo e atinge um segundo atrs dele.","cost":"N/A","type":"HB"},{"name":"Golpe de Mana","description":"Causa dano e reduz o MP do inimigo.","cost":"N/A","type":"HB"},{"name":"Xeque-mate","description":"Inflige CONDENAO (morte aps 3 turnos).","cost":"N/A","type":"HB"},{"name":"Passos Leves","description":"Pode atravessar reas de gua rasa sem perder mobilidade.","cost":"N/A","type":"Passiva"}]},{"id":"curandeira","name":"Curandeira","type":"Bsica","role":"Suporte / Cura Natural","description":"Guardis da vida e das florestas, conectadas  energia da natureza para curar e proteger.","bonus_class":{"HP":3,"MP":2},"requirements":[],"abilities":[{"name":"Folha Serena","description":"Cura um aliado em 10 de HP.","cost":"8 MP","type":"Magia"},{"name":"Broto Purificador","description":"Remove um status negativo de um aliado.","cost":"18 MP","type":"Magia"},{"name":"Conexo Natural","description":"25% do dano recebido pelo aliado  transferido para a Curandeira por 3 turnos.","cost":"20 MP","type":"Magia"},{"name":"Vinhas Enlaantes","description":"Prende at 3 inimigos, impedindo movimento por 2 turnos.","cost":"24 MP","type":"Magia"},{"name":"Nvoa Vigorosa","description":"Cura leve em todos os aliados prximos (rea 3 blocos).","cost":"35 MP","type":"Magia"},{"name":"Refrigrio da Floresta","description":"30% de chance de conceder Resistncia Natural (+5 ARM ou +5 RES) ao curar.","cost":"N/A","type":"Passiva"}]},{"id":"exilado","name":"Exilado","type":"Bsica","role":"Lutador Adaptvel / Sobrevivente","description":"Viera masculinos banidos que aprenderam a sobreviver por conta prpria, adaptando-se a qualquer arma.","bonus_class":{"Livre":5},"requirements":[],"abilities":[{"name":"Tiro Preciso","description":"Disparo com preciso perfeita (usa SOR).","cost":"N/A","type":"HB (Arco)"},{"name":"Golpe Silencioso","description":"Causa DANO CRTICO automtico se o alvo estiver de costas.","cost":"N/A","type":"HB (Adaga)"},{"name":"Finta Desarmante","description":"Reduz o ATAQUE do inimigo por 2 turnos.","cost":"N/A","type":"HB (Espada)"},{"name":"Ruptura Selvagem","description":"Ignora a DEFESA do inimigo e causa dano elevado.","cost":"N/A","type":"HB (Espado)"},{"name":"Primeiros Socorros","description":"Cura 20% do HP a si mesmo ou aliado.","cost":"N/A","type":"HB"},{"name":"Adaptao de Combate","description":"Pode trocar a arma equipada 1 vez por turno sem custo de ao.","cost":"N/A","type":"Passiva"}]},{"id":"guerreiro","name":"Guerreiro","type":"Bsica","role":"Linha de Frente / Espancador","description":"Muralhas de msculo treinados para esmagar o inimigo com pura fora fsica.","bonus_class":{"CONS":5},"requirements":[],"abilities":[{"name":"Primeiro Socorro","description":"Trata os prprios ferimentos, restaurando 20% do HP.","cost":"N/A","type":"HB"},{"name":"Poder de Rend","description":"Reduz o ATAQUE do alvo.","cost":"N/A","type":"HB"},{"name":"Rend Magick","description":"Reduz a MAGIA do alvo.","cost":"N/A","type":"HB"},{"name":"Batida Corporal","description":"Investida causando dano FOR+CONS, volta 40% do dano a si mesmo.","cost":"N/A","type":"HB"},{"name":"Grito de Guerra","description":"Imobiliza o inimigo por 2 turnos e pode causar medo.","cost":"N/A","type":"HB"},{"name":"Monkey Grip","description":"Permite empunhar armas de duas mos com uma mo s.","cost":"N/A","type":"Passiva"}]},{"id":"monge","name":"Monge","type":"Bsica","role":"Linha de Frente / Espancador","description":"Lutadores que usam o ki e seus prprios corpos como armas letais.","bonus_class":{"FOR":3,"CONS":2},"requirements":[],"abilities":[{"name":"Onda Giratria","description":"Ataque giratrio que atinge todos ao redor em 1 bloco.","cost":"N/A","type":"HB"},{"name":"Pulso de Ar","description":"Soco com ki que causa dano e empurra o alvo 2 blocos.","cost":"N/A","type":"HB"},{"name":"Pulso de Terra","description":"Dano terrestre em linha reta (at 3 blocos).","cost":"N/A","type":"HB"},{"name":"Exploso de Ki","description":"Dano em rea de 2 blocos ao redor do monge.","cost":"N/A","type":"HB"},{"name":"Meditao","description":"Restaura 20% de HP e remove status negativos.","cost":"N/A","type":"HB"},{"name":"Reflexo","description":"50% de chance de desviar de ataques bsicos fsicos.","cost":"N/A","type":"Reao"}]},{"id":"animista","name":"Animista","type":"Bsica","role":"Suporte / Manipulador de Status","description":"Moogles que usam instrumentos e talentos imprevisveis para causar efeitos absurdos no campo.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"L Fofa","description":"Garante status 'Proteo' e 'Shell' por 3 turnos.","cost":"8 MP","type":"Magia"},{"name":"Erva de Gato","description":"Aplica 'BERSERK' no inimigo.","cost":"8 MP","type":"HB"},{"name":"Canto do Sapo","description":"Transforma o alvo em SAPO por 2 turnos.","cost":"22 MP","type":"Magia"},{"name":"Cozinhar","description":"Restaura 50% do HP do Alvo.","cost":"22 MP","type":"HB"},{"name":"Conte Ovelhinhas","description":"Faz todos os inimigos em pequena rea adormecerem.","cost":"15 MP","type":"Magia"},{"name":"Abanar o Rabo","description":"20% de chance de ENCANTAR o atacante quando alvejado.","cost":"N/A","type":"Reao"}]},{"id":"engenheiro","name":"Engenheiro","type":"Bsica","role":"Suporte Aleatrio / Caos Tecnolgico","description":"Gnios insanos que usam aparatos e mecanismos imprevisveis.","bonus_class":{"SOR":3,"INT":2},"requirements":[],"abilities":[{"name":"Box Vermelha","description":"Lana 'Haste' em uma unidade aleatria.","cost":"8 MP","type":"HB"},{"name":"Kit Azul","description":"Lana 'Dissipar' ao colidir com alvo aleatrio.","cost":"8 MP","type":"HB"},{"name":"Chaves Negras","description":"Aplica 'Condenao' em quem for atingido.","cost":"20 MP","type":"HB"},{"name":"Bateria Dourada","description":"Restaura 50% HP em uma unidade aleatria.","cost":"16 MP","type":"HB"},{"name":"Borrifador Verde","description":"Aplica VENENO em uma unidade aleatria na rea.","cost":"8 MP","type":"HB"},{"name":"Ajuste Rpido","description":"Permite reutilizar habilidade que falhou no turno seguinte sem custo de MP.","cost":"N/A","type":"Passiva"}]},{"id":"raptora","name":"Raptora","type":"Bsica","role":"Lutadora de Linha de Frente / Alta Mobilidade","description":"Guerreiras aladas que usam velocidade e instintos aguados para ataques rpidos.","bonus_class":{"FOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Ciclone","description":"Causa dano de vento em rea pequena.","cost":"N/A","type":"HB"},{"name":"Poder de Rend","description":"Reduz o ATAQUE do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Rend Magick","description":"Reduz a MAGIA do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Rend MP","description":"Diminui MP do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Redemoinho","description":"Lminas de vento causam dano e CONFUSO.","cost":"N/A","type":"HB"},{"name":"Salvaguarda","description":"Impede que a arma seja roubada ou destruda.","cost":"N/A","type":"Passiva"}]},{"id":"rastreadora","name":"Rastreadora","type":"Bsica","role":"Caadora / Suporte de Rastreio e Preciso","description":"Mestres da observao que leem o terreno e perseguem presas.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Sonic Boom","description":"Dano sonoro impossvel de desviar.","cost":"N/A","type":"HB"},{"name":"Expulsar","description":"Fora um monstro a fugir do combate.","cost":"N/A","type":"HB"},{"name":"Rastrear","description":"Marca um Monstro como 'presa', causando DANO DOBRADO.","cost":"N/A","type":"HB"},{"name":"Investigar","description":"Revela todas as informaes do alvo.","cost":"N/A","type":"HB"},{"name":"ltimo Tiro","description":"Alto dano com chance de infligir CONDENAO.","cost":"N/A","type":"HB"},{"name":"Sobrevivente","description":"Recebe REGEN quando estiver com 20% de HP ou menos.","cost":"N/A","type":"Passiva"}]},{"id":"espadachim","name":"Espadachim","type":"Bsica","role":"Lutador Verstil / Duelo & Tcnica","description":"Guerreiros disciplinados que combinam preciso fsica e poder mgico na lmina.","bonus_class":{"FOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Corte Cruzado","description":"Dano em rea frontal (arco) em at 3 inimigos.","cost":"N/A","type":"HB"},{"name":"Olhos no Duelo","description":"+25% de dano se enfrentar apenas um inimigo.","cost":"N/A","type":"HB"},{"name":"Corte Etreo","description":"Golpe mgico  distncia (FOR+INT).","cost":"10 MP","type":"HB"},{"name":"Passo Veloz","description":"Move-se para trs do inimigo com +50% de chance de crtico.","cost":"N/A","type":"HB"},{"name":"Trifria","description":"Combo de 3 ataques com chance de Sangramento.","cost":"N/A","type":"HB"},{"name":"Corte Reflexivo","description":"30% de chance de aparar projteis fsicos.","cost":"N/A","type":"Reao"}]},{"id":"ladra","name":"Ladra","type":"Bsica","role":"Furtividade / Roubo","description":"Mestras do furto e agilidade que roubam itens e gil em combate.","bonus_class":{"SOR":3,"CAR":2},"requirements":[],"abilities":[{"name":"Roubar Gil","description":"Tenta roubar dinheiro.","cost":"N/A","type":"HB"},{"name":"Roubar Item","description":"Tenta roubar um item.","cost":"N/A","type":"HB"},{"name":"Roubar Equipamento","description":"Tenta roubar o Equipamento do alvo.","cost":"N/A","type":"HB"},{"name":"Destrancar","description":"Pode destrancar portas ou bas.","cost":"N/A","type":"HB"},{"name":"Golpe Furtivo","description":"Dobro de dano se estiver Escondida.","cost":"N/A","type":"HB"},{"name":"Instinto Possessivo","description":"Evita roubo e tenta roubar a arma do ladro.","cost":"N/A","type":"Reao"}]},{"id":"espreitadora","name":"Espreitadora","type":"Bsica","role":"Furtividade / Infiltrao","description":"Especialistas em camuflagem e eliminao silenciosa.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Ataque Surpresa","description":"Crtico automtico se fora do campo de viso.","cost":"N/A","type":"HB"},{"name":"Rpida e Escondida","description":"Velocidade dobrada quando camuflada.","cost":"N/A","type":"Passiva"},{"name":"Manto Noturno","description":"Aumenta chance de camuflagem  noite.","cost":"N/A","type":"Passiva"},{"name":"Silncio","description":"Aplica Silncio por 3 turnos (apenas camuflada).","cost":"N/A","type":"HB"},{"name":"Derrubada Mortal","description":"Elimina instantaneamente alvo pelas costas (apenas camuflada).","cost":"N/A","type":"HB"},{"name":"Morte Silenciosa","description":"50% de chance de permanecer camuflada aps eliminar alvo.","cost":"N/A","type":"Passiva"}]},{"id":"adestrador","name":"Adestrador","type":"Bsica","role":"Controle de Criaturas / Suporte Ttico","description":"Especialistas em lidar com a vida selvagem, controlando monstros temporariamente.","bonus_class":{"CAR":5},"requirements":[],"abilities":[{"name":"Adestrar","description":"Controla um monstro por 5 turnos.","cost":"N/A","type":"HB"},{"name":"Bater ou Correr","description":"Recebe Haste quando HP chega a 10%.","cost":"N/A","type":"Reao"}]},{"id":"escudeiro","name":"Escudeiro","type":"Bsica","role":"Defensor / Suporte com Itens","description":"Pilares de defesa que protegem aliados e usam itens de suporte.","bonus_class":{"CONS":5},"requirements":[],"abilities":[{"name":"Postura de Defesa","description":"Reduz pela metade o dano recebido at o prximo turno.","cost":"N/A","type":"HB"},{"name":"Apoio Vital","description":"Usa at 2 poes para curar aliados adjacentes.","cost":"N/A","type":"HB"},{"name":"Eu te Protejo!","description":"Salta no aliado que tomar dano e absorve o golpe.","cost":"N/A","type":"Reao"},{"name":"Lanamento Cuidadoso","description":"Arremessa item a at 3 blocos.","cost":"N/A","type":"HB"},{"name":"Grito Protetor","description":"Provoca inimigos forando ataque ao Escudeiro.","cost":"N/A","type":"HB"},{"name":"Reao Instintiva","description":"Usa poo automaticamente ao sofrer golpe com HP baixo.","cost":"N/A","type":"Reao"}]},{"id":"mago_negro","name":"Mago Negro","type":"Bsica","role":"Ofensivo Mgico / Controle Elemental","description":"Conjuradores que dominam a magia elemental destrutiva.","bonus_class":{"INT":3,"MP":2},"requirements":[],"abilities":[{"name":"Fire","description":"Esfera de fogo em rea (alvo + 1 casa cada lado).","cost":"10 MP","type":"Magia"},{"name":"Blizzard","description":"Fragmento congelante perfurante.","cost":"10 MP","type":"Magia"},{"name":"Thunder","description":"Raio direto sobre inimigo e adjacentes.","cost":"10 MP","type":"Magia"},{"name":"Aero","description":"Turbilho de vento em rea.","cost":"10 MP","type":"Magia"},{"name":"Telecinese","description":"Move objeto/unidade at 5 blocos.","cost":"10 MP","type":"Magia"},{"name":"Absorver Mana","description":"Absorve 20% do dano mgico recebido como Mana.","cost":"N/A","type":"Reao"}]},{"id":"ocultista","name":"Ocultista","type":"Bsica","role":"Mago das Sombras / Maldies","description":"Estudiosos do proibido que manipulam trevas e maldies.","bonus_class":{"MP":3,"INT":2},"requirements":[],"abilities":[{"name":"Escurido","description":"Dano mgico de trevas em rea.","cost":"10 MP","type":"Magia"},{"name":"Ritual da Condenao","description":"Aplica CONDENAO no alvo.","cost":"15 MP","type":"Magia"},{"name":"Barreira do Silncio","description":"Aplica SILNCIO no alvo.","cost":"15 MP","type":"Magia"},{"name":"Vu Cego","description":"Aplica CEGUEIRA no alvo.","cost":"15 MP","type":"Magia"},{"name":"Avada Mortis","description":"Tenta aplicar morte instantnea.","cost":"30 MP","type":"Magia"},{"name":"Olhar do Abismo","description":"Aumenta INT aps concluir maldio.","cost":"N/A","type":"Passiva"}]},{"id":"quimico_avancado","name":"Qumico Avanado","type":"Avanada","role":"Suporte / Manipulador de Itens","description":"Evoluo do Qumico, usa reaes elementares e poes ofensivas em rea.","bonus_class":{"SOR":4,"CAR":2},"requirements":["3 Habilidades Mestre em Qumico","+30 SOR"],"abilities":[{"name":"Criar Poo Avanada","description":"Cria poes de qualidade superior.","cost":"N/A","type":"HB"},{"name":"Arremesso Rpido","description":"Arremessa at 3 poes em um movimento.","cost":"N/A","type":"HB"},{"name":"Frasco Venenoso","description":"Libera veneno em rea.","cost":"N/A","type":"HB"},{"name":"Frasco Milagroso","description":"Remove todos status negativos.","cost":"N/A","type":"HB"},{"name":"Dose Grande","description":"Aumenta rea de efeito da poo.","cost":"N/A","type":"HB"},{"name":"Pr-Preparo","description":"Inicia combate com 2 poes prontas.","cost":"N/A","type":"Passiva"}]},{"id":"clerigo","name":"Clrigo","type":"Avanada","role":"Curandeiro de Linha de Frente","description":"Elo entre fora e f, luta na frente enquanto cura aliados.","bonus_class":{"CONS":4,"MANA":2},"requirements":["1 Habilidade Mestre em Soldado","2 Habilidades Mestre em Mago Branco","+20 FOR"],"abilities":[{"name":"Julgamento Divino","description":"Dano sagrado (FOR+Luz).","cost":"20 MP","type":"Magia"},{"name":"Palavras de F","description":"Concede Barreira e Shell.","cost":"15 MP","type":"Magia"},{"name":"Espurgar","description":"Expulsa monstros espirituais.","cost":"25 MP","type":"Magia"},{"name":"Martelo Giratrio","description":"Dano em rea ao redor (CONS+FOR+Luz).","cost":"30 MP","type":"HB"},{"name":"Ruptura Divina","description":"Exploso triangular de luz.","cost":"50 MP","type":"HB"},{"name":"Estou com Voc","description":"Cura auto 10% de aliado adjacente por turno.","cost":"N/A","type":"Passiva"}]},{"id":"alquimista","name":"Alquimista","type":"Avanada","role":"Suporte / Manipulador de Campo","description":"Molda o mundo convertendo solo e energia em poder.","bonus_class":{"INT":4,"MANA":2},"requirements":["2 Habilidades Mestre em Mago Branco","1 Habilidade Mestre em Qumico","+30 INT"],"abilities":[{"name":"Pilar de Pedra","description":"Pilar de rocha atinge inimigo (INT+Terra).","cost":"20 MP","type":"Magia"},{"name":"Canho de Pedra","description":"Projtil de rocha distante.","cost":"20 MP","type":"Magia"},{"name":"Correntes de Solo","description":"Imobiliza inimigo.","cost":"17 MP","type":"Magia"},{"name":"Transmutao Peridica","description":"Altera elemento natural de rea/objeto.","cost":"30 MP","type":"Magia"},{"name":"Golem de Pedra","description":"Cria golem controlvel.","cost":"50 MP","type":"Magia"},{"name":"Muro","description":"Bloqueia ataque com muro de pedra.","cost":"N/A","type":"Reao"}]},{"id":"duelista","name":"Duelista","type":"Avanada","role":"Lutador de Elite / Combate Singular","description":"pice do domnio da espada, focado em preciso e duelos.","bonus_class":{"FOR":4,"VEL":2},"requirements":["3 Habilidades Mestre em Espadachim","+30 FOR","+20 VEL"],"abilities":[{"name":"BackStep","description":"Salta 2 blocos para esquiva.","cost":"N/A","type":"HB"},{"name":"Eu Contra Voc","description":"+50% dano em alvo nico.","cost":"N/A","type":"HB"},{"name":"Chuva de Lminas","description":"Trs cortes de ar consecutivos.","cost":"N/A","type":"HB"},{"name":"Postura de Batalha","description":"Aumenta ataque fsico em 50%.","cost":"N/A","type":"HB"},{"name":"Grande Slash","description":"Golpe que percorre o campo todo.","cost":"N/A","type":"HB"},{"name":"Defesa Contnua","description":"Desvia golpe se FOR > inimigo.","cost":"N/A","type":"Reao"}]},{"id":"iluminista","name":"Iluminista","type":"Avanada","role":"Mago Supremo / Controlador Elemental Global","description":"Concentra energia para ataques globais ou curas totais.","bonus_class":{"INT":5,"MANA":5},"requirements":["5 Habilidades Mestre em Mago Branco","5 Habilidades Mestre em Mago Negro"],"abilities":[{"name":"Piromancia","description":"Dano global de Fogo aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Aquamancia","description":"Dano global de gua aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Raiomancia","description":"Dano global de Trovo aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Whitemancia","description":"Cura global 50% HP aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Tretamancia","description":"Plasma linear de ponta a ponta.","cost":"50 MP","type":"Magia"},{"name":"Ritual Seguro","description":"Ativa Barreira/Veloz ao ser alvejado conjurando.","cost":"N/A","type":"Reao"}]},{"id":"oppenheir","name":"Oppenheir","type":"Avanada","role":"Mestre Qumico / Manipulador da Destruio","description":"Alquimia levada ao limite de exploses e reaes em cadeia.","bonus_class":{"SOR":10},"requirements":["5 Habilidades Mestre em Qumico","5 Habilidades Mestre em Qumico Avanado"],"abilities":[{"name":"Reao Altrusta","description":"Exploso de cura e remoo de status.","cost":"N/A","type":"HB"},{"name":"Nuvem Txica","description":"Veneno em rea e reduz preciso.","cost":"N/A","type":"HB"},{"name":"Ignis Vitae","description":"Chamas conscientes perseguidoras.","cost":"N/A","type":"HB"},{"name":"Fragmento Celular","description":"Microexploso de dano massivo.","cost":"N/A","type":"HB"},{"name":"Bomba Atmica","description":"Exploso que elimina todos no campo (exceto cobertura).","cost":"N/A","type":"HB"},{"name":"Entropia Perfeita","description":"Chance de remover penalidades ao explodir.","cost":"N/A","type":"Passiva"}]},{"id":"eremita","name":"Eremita","type":"Avanada","role":"Tanque / Protetor Espiritual","description":"Sacerdote de batalha que converte dano em sacrifcio e proteo.","bonus_class":{"CONS":10},"requirements":["5 Habilidades Mestre em Clrigo","+100 CONS"],"abilities":[{"name":"F ao Meu Redor","description":"Aura cura 50% HP aliados prximos.","cost":"N/A","type":"HB"},{"name":"F do Sol","description":"Raio solar expurga mortos-vivos e queima.","cost":"N/A","type":"HB"},{"name":"F da Lua","description":"Cura 100% HP aliados prximos.","cost":"N/A","type":"HB"},{"name":"F do Ferro","description":"Concede Shell+ e Barreira+.","cost":"N/A","type":"HB"},{"name":"F do Brbaro","description":"Provoca inimigos e soma CONS ao dano.","cost":"N/A","type":"HB"},{"name":"Aquele que Me Protege","description":"Converte 20% do dano recebido em cura.","cost":"N/A","type":"Passiva"}]},{"id":"arquidenio","name":"Arquidnio","type":"Avanada","role":"Suporte / Manipulador de Probabilidades","description":"Mago matemtico que manipula valores e estatsticas de combate.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Alquimista","+100 INT"],"abilities":[{"name":"O Dobro","description":"Dobra qualquer valor por 1 turno.","cost":"50 MP","type":"Magia"},{"name":"Pela Metade","description":"Divide qualquer valor por 2.","cost":"50 MP","type":"Magia"},{"name":"100%","description":"Garante acerto absoluto.","cost":"70 MP","type":"Magia"},{"name":"0%","description":"Anula valor ou chance a 0.","cost":"70 MP","type":"Magia"},{"name":"Septania","description":"Multiplica valor por 7x.","cost":"100 MP","type":"Magia"},{"name":"Lgica Perfeita","description":"Resultado natural 20 uma vez por batalha.","cost":"N/A","type":"Passiva"}]},{"id":"samurai","name":"Samurai","type":"Avanada","role":"Ofensivo / Especialista em Duelo","description":"Guerreiro disciplinado que une velocidade e fora em cortes perfeitos.","bonus_class":{"FOR":5,"VEL":5},"requirements":["5 Habilidades Mestre em Espadachim","5 Habilidades Mestre em Duelista"],"abilities":[{"name":"Saque Rpido","description":"Duplica FOR e VEL por 1 turno.","cost":"N/A","type":"HB"},{"name":"Furaco da Folha","description":"Tornado de cortes em linha reta.","cost":"N/A","type":"HB"},{"name":"Olhos de Falco","description":"Soma FOR + SOR contra alvo.","cost":"N/A","type":"HB"},{"name":"Corte do Drago","description":"Golpe instantneo. 20 natural elimina alvo.","cost":"N/A","type":"HB"},{"name":"Cu Limpo","description":"Corte vertical colossal aps preparao.","cost":"N/A","type":"HB"},{"name":"Empunhadura Dupla","description":"Pode empunhar duas armas.","cost":"N/A","type":"Passiva"}]},{"id":"gladiador","name":"Gladiador","type":"Avanada","role":"Linha de Frente / Controle e Fora Bruta","description":"Colosso de arena que luta por glria e brutalidade.","bonus_class":{"FOR":4,"CONS":2},"requirements":["2 Habilidades Mestre em Guerreiro","+30 FOR"],"abilities":[{"name":"Grito Selvagem","description":"Aumenta FOR e provoca inimigos.","cost":"N/A","type":"HB"},{"name":"Investida de Escudo","description":"Dano de impacto com escudo.","cost":"N/A","type":"HB"},{"name":"Espancamento","description":"5 golpes consecutivos, pode imobilizar.","cost":"N/A","type":"HB"},{"name":"Espada Flamejante","description":"Causa Queimadura com ataques fsicos.","cost":"N/A","type":"HB"},{"name":"Postura de Luta","description":"Evita ataques e contra-ataca.","cost":"N/A","type":"HB"},{"name":"Escudeiro","description":"Pode usar escudos em qualquer classe.","cost":"N/A","type":"Passiva"}]},{"id":"artista_marcial","name":"Artista Marcial","type":"Avanada","role":"Linha de Frente / Especialista em Combos","description":"Especialista em golpes precisos e canalizao de fora vital.","bonus_class":{"VEL":4,"CONS":2},"requirements":["2 Habilidades Mestre em Monge","+30 VEL"],"abilities":[{"name":"Combo do Tigre","description":"3 golpes, dano aumenta a cada acerto.","cost":"N/A","type":"HB"},{"name":"Golpe Serpenteante","description":"Aproximao em zigue-zague e crtico.","cost":"N/A","type":"HB"},{"name":"Palma Sagrada","description":"Golpe de dano puro que ignora armadura.","cost":"N/A","type":"HB"},{"name":"Passo do Vento","description":"Teleporte curto e ataque surpresa.","cost":"N/A","type":"HB"},{"name":"Punhos do Drago","description":"5 golpes simultneos com chance de atordoar.","cost":"N/A","type":"HB"},{"name":"Esprito Indomvel","description":"Ganha FOR e VEL quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"lanceiro","name":"Lanceiro","type":"Avanada","role":"Ofensivo / Alcance e Preciso","description":"Predador de longo alcance com lanas.","bonus_class":{"VEL":4,"SOR":2},"requirements":["2 Habilidades Mestre em Guerreiro","+30 VEL"],"abilities":[{"name":"Ponta Longa","description":"Estende alcance para 4 blocos.","cost":"N/A","type":"HB"},{"name":"Dardo de Javali","description":"Arremessa a lana perfurando linha reta.","cost":"N/A","type":"HB"},{"name":"Jump","description":"Salta e cai sobre inimigo com dano alto.","cost":"N/A","type":"HB"},{"name":"Barreira de Cabo","description":"Empurra inimigos adjacentes.","cost":"N/A","type":"HB"},{"name":"Ponta Perfurante","description":"Golpe linear que perfura alvos.","cost":"N/A","type":"HB"},{"name":"Rpido como uma Lana","description":"Converte VEL em dano quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"lutador_de_rua","name":"Lutador de Rua","type":"Avanada","role":"Ofensivo / Anti-Honra","description":"Brigo desonesto que usa fora bruta e truques sujos.","bonus_class":{"Livre":6},"requirements":["2 Habilidades Mestre em Monge","1 Habilidade Mestre em outra classe"],"abilities":[{"name":"Vou te Arrebentar!","description":"+20% dano contra alvo marcado.","cost":"N/A","type":"HB"},{"name":"Lariat de Msculos","description":"Golpe de brao com chance de Atordoar.","cost":"N/A","type":"HB"},{"name":"Soco na Costela","description":"Finta e golpe crtico preciso.","cost":"N/A","type":"HB"},{"name":"Rasteira Malandra","description":"Aplica Imobilizado.","cost":"N/A","type":"HB"},{"name":"Sequncia de Raiva","description":"5 ataques e entra em Fria.","cost":"N/A","type":"HB"},{"name":"Covarde","description":"Dobra VEL para fugir quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"vinking","name":"Vinking","type":"Avanada","role":"Brbaro Mstico","description":"Guerreiro ancestral guiado por troves e fria divina.","bonus_class":{"FOR":4,"CONS":2},"requirements":["3 Habilidades Mestre em Gladiador","+50 FOR","+50 CONS"],"abilities":[{"name":"Marchar de Heimdall","description":"Dobra VEL prpria e de aliados.","cost":"N/A","type":"HB"},{"name":"Trovo de Thor","description":"Raio cai a distncia.","cost":"N/A","type":"HB"},{"name":"Confronto de Tyr","description":"Dobra FOR por 5 turnos.","cost":"N/A","type":"HB"},{"name":"Ma de Iduna","description":"Recupera 80% HP e remove status.","cost":"N/A","type":"HB"},{"name":"Por Odin!","description":"Aumenta todos atributos por 1 turno.","cost":"N/A","type":"HB"},{"name":"At Valhalla","description":"Converte CONS em FOR quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"templario","name":"Templrio","type":"Avanada","role":"Mobilidade Extrema / Linha de Frente","description":"Soldado perfeito que domina o campo com lana e velocidade.","bonus_class":{"VEL":4,"CONS":2},"requirements":["3 Habilidades Mestre em Lanceiro","+50 VEL","+50 FOR"],"abilities":[{"name":"Salto Rpido","description":"Teleporte para qualquer parte do mapa.","cost":"N/A","type":"HB"},{"name":"Avano Perfurante","description":"Avano linear perfurante.","cost":"N/A","type":"HB"},{"name":"Dardos Perfurantes","description":"5 ataques em sequncia.","cost":"N/A","type":"HB"},{"name":"Lana Flamejante","description":"Adiciona Fogo aos ataques.","cost":"N/A","type":"HB"},{"name":"Dardo do Drago","description":"Arremesso perfurante em linha reta.","cost":"N/A","type":"HB"},{"name":"Lana Giratria","description":"Evita ataques  distncia.","cost":"N/A","type":"Reao"}]},{"id":"mestre_artes_marciais","name":"Mestre das Artes Marciais","type":"Avanada","role":"Duelista / Manipulador de Ki","description":"Harmonia total entre corpo e Ki.","bonus_class":{"CONS":4,"Livre":2},"requirements":["5 Habilidades Mestre em Monge","5 Habilidades Mestre em Artista Marcial"],"abilities":[{"name":"Dana do Carvalho Vermelho","description":"Combo de 5 golpes de vento.","cost":"N/A","type":"HB"},{"name":"Palma do Drago","description":"Ondas de ar  distncia.","cost":"N/A","type":"HB"},{"name":"Teken","description":"Dobra ARM e RES por 5 turnos.","cost":"N/A","type":"HB"},{"name":"Dana do Sabugueiro Marrom","description":"Reduz ARM do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Dana do Esprito Branco","description":"Clone dobra aes por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Intuio de Ki","description":"Imune a surpresas.","cost":"N/A","type":"Passiva"}]},{"id":"brutamontes","name":"Brutamontes","type":"Avanada","role":"Tanque Ofensivo","description":"Muralha do submundo que protege e esmaga.","bonus_class":{"CAR":4,"SOR":2},"requirements":["5 Habilidades Mestre em Lutador de Rua","100 FOR"],"abilities":[{"name":"No Vai Passar","description":"Bloqueia avano inimigo e dobra defesa.","cost":"N/A","type":"HB"},{"name":"Lariat Duplo","description":"Arrasta inimigos adjacentes.","cost":"N/A","type":"HB"},{"name":"Emboscada","description":"Recupera HP e contra-ataca quem aproximar.","cost":"N/A","type":"HB"},{"name":"Pose do Brutamontes","description":"Salto esmagador com onda de choque.","cost":"N/A","type":"HB"},{"name":"Manda-Chuva","description":"Buffa aliados e debuffa inimigos em rea.","cost":"N/A","type":"HB"},{"name":"Fraco Demais","description":"Nega dano menor que sua FOR.","cost":"N/A","type":"Passiva"}]},{"id":"cavaleiro_dragao","name":"Cavaleiro Drago","type":"Avanada","role":"Caador de Drages / Ofensivo Elemental","description":"Guerreiros que usam poderes de drago.","bonus_class":{"CONS":5,"BonusDanoDragao":"20%"},"requirements":["Eliminar um Drago"],"abilities":[{"name":"Bafo do Drago Vermelho","description":"Fogo em rea triangular.","cost":"N/A","type":"HB"},{"name":"Garras do Drago Ciano","description":"Golpe de gelo com avano.","cost":"N/A","type":"HB"},{"name":"Salto do Drago Amarelo","description":"Salto eltrico (1 turno no ar).","cost":"N/A","type":"HB"},{"name":"Beno do Drago Azul","description":"Cura 50% HP.","cost":"N/A","type":"HB"},{"name":"Energia do Drago Branco","description":"Raio de luz linear.","cost":"N/A","type":"HB"},{"name":"Aura de Drago","description":"Monstros fracos sentem medo.","cost":"N/A","type":"Passiva"}]},{"id":"dragonslayer","name":"Dragonslayer","type":"Avanada","role":"Anti-Drago / Executador","description":"Arma final contra drages, capaz de subjugar feras colossais.","bonus_class":{"FOR":6,"BonusDanoDragao":"60%"},"requirements":["5 Habilidades Mestre em Cavaleiro Drago"],"abilities":[{"name":"Sopro do Drago Esmeralda","description":"Nuvem txica em rea.","cost":"N/A","type":"HB"},{"name":"Rasante do Drago Prateado","description":"Rasante de vento linear mapa todo.","cost":"N/A","type":"HB"},{"name":"Escamas do Drago Ouro","description":"Dobra ARM e RES.","cost":"N/A","type":"HB"},{"name":"Tremor do Drago de Bronze","description":"Estacas de pedra e tremor.","cost":"N/A","type":"HB"},{"name":"Ameaa do Drago Negro","description":"Miasma negra aplica Condenao.","cost":"N/A","type":"HB"},{"name":"Escamas Elementais","description":"Absorve dano elemental convertendo em CONS.","cost":"N/A","type":"Passiva"}]},{"id":"xama","name":"Xam","type":"Avanada","role":"Debuff / Manipulador de Caos","description":"Lida com foras ocultas e ancestrais dos pntanos.","bonus_class":{"MANA":3,"CONS":2},"requirements":["2 Habilidades Mestre em Curandeiro","+30 MANA"],"abilities":[{"name":"Xabala Cegaris","description":"Cega alvo por 5 turnos.","cost":"15 MP","type":"Magia"},{"name":"Ziriki Sileci","description":"Silencia alvo por 5 turnos.","cost":"15 MP","type":"Magia"},{"name":"Urucubaca","description":"Aplica Envenenamento.","cost":"20 MP","type":"Magia"},{"name":"Ianhamaj","description":"Imobiliza alvo por 5 turnos.","cost":"20 MP","type":"Magia"},{"name":"Zakarinhad","description":"Aplica Condenao.","cost":"30 MP","type":"Magia"},{"name":"Oshala","description":"Imune a status negativos.","cost":"N/A","type":"Passiva"}]},{"id":"monge_do_pantano","name":"Monge do Pntano","type":"Avanada","role":"Lutador de Terreno / Porradeiro","description":"Canaliza a densidade do pntano em golpes pesados.","bonus_class":{"CONS":3,"FOR":2},"requirements":["1 Habilidade Mestre em Curandeiro","1 Habilidade Mestre em Escudeiro","+20 FOR"],"abilities":[{"name":"Soco do Pntano","description":"Golpe aqutico carregado.","cost":"N/A","type":"HB"},{"name":"Barrigada","description":"Esmaga e empurra.","cost":"N/A","type":"HB"},{"name":"Vu do Pntano","description":"Dobra RES por 3 turnos.","cost":"N/A","type":"HB"},{"name":"Abrao do Pntano","description":"Agarro esmagador.","cost":"N/A","type":"HB"},{"name":"Boxe do Pntano","description":"3 golpes consecutivos pantanosos.","cost":"N/A","type":"HB"},{"name":"gua Est Comigo","description":"Dobra dano em terreno de gua.","cost":"N/A","type":"Passiva"}]},{"id":"glutao","name":"Gluto","type":"Avanada","role":"Tank / Absorvedor de Dano","description":"Foras da natureza famintas e indestrutveis.","bonus_class":{"CONS":5},"requirements":["1 Habilidade Mestre em Curandeiro","1 Habilidade Mestre em Escudeiro","+20 CONS"],"abilities":[{"name":"Investida do Sapo","description":"Atropela em linha reta.","cost":"N/A","type":"HB"},{"name":"Descanso do Sapo","description":"Cura e dobra defesa (imvel).","cost":"N/A","type":"HB"},{"name":"Arroto do Sapo","description":"Dano de impacto sonoro.","cost":"N/A","type":"HB"},{"name":"Pulo do Sapo","description":"Esmaga alvo com peso.","cost":"N/A","type":"HB"},{"name":"Vou Te Comer","description":"Devora inimigo com 25% HP ou menos.","cost":"N/A","type":"HB"},{"name":"Boca Sempre Mexendo","description":"Recupera 10% HP se no agir.","cost":"N/A","type":"Passiva"}]},{"id":"protetor","name":"Protetor","type":"Avanada","role":"Tank / Guardio de Campo","description":"Muralhas vivas dedicadas a proteger aliados.","bonus_class":{"CONS":5},"requirements":["2 Habilidades Mestre em Escudeiro","+30 CONS"],"abilities":[{"name":"Eu Tanko, Voc Mata","description":"Absorve 80% do dano de aliado e buffa FOR dele.","cost":"N/A","type":"HB"},{"name":"Investida do Escudo","description":"Corre com escudo e atordoa.","cost":"N/A","type":"HB"},{"name":"Reflexo do Escudo","description":"Escudo ricocheteia em inimigos.","cost":"N/A","type":"HB"},{"name":"Sapo Protetor","description":"Compartilha defesa com aliados ao redor.","cost":"N/A","type":"HB"},{"name":"Escudo de Proteo Areo","description":"Anula prximo dano em aliado.","cost":"N/A","type":"HB"},{"name":"Socorros Rpidos","description":"Salta para tomar golpe por aliado.","cost":"N/A","type":"Reao"}]},{"id":"pai_do_pantano","name":"Pai do Pntano","type":"Avanada","role":"Mago de Terreno / Controle","description":"Tornou-se um com o pntano, controlando razes e mars.","bonus_class":{"MANA":6},"requirements":["5 Habilidades Mestre em Xam","5 Habilidades Mestre em Curandeiro"],"abilities":[{"name":"Razes do Sabugueiro de Ihoa","description":"Imobiliza inimigos em rea.","cost":"50 MP","type":"Magia"},{"name":"Pico dos Pinheiros","description":"Pinheiros empalam inimigos.","cost":"50 MP","type":"Magia"},{"name":"Gota de Orvalho","description":"Cura 100% HP e remove status (rea).","cost":"50 MP","type":"Magia"},{"name":"Primavera Serena","description":"Dobra INT e RES de aliados.","cost":"40 MP","type":"Magia"},{"name":"Mar do Mangue","description":"Empurra inimigos, remove buffs e cura aliados (global).","cost":"100 MP","type":"Magia"},{"name":"Floresta Viva","description":"Razes prendem inimigos engajados.","cost":"N/A","type":"Passiva"}]},{"id":"sabio_do_pantano","name":"Sbio do Pntano","type":"Avanada","role":"Controle de gua / Contra-Golpe","description":"Domina a energia viva do pntano com constituio colossal.","bonus_class":{"CONS":6},"requirements":["5 Habilidades Mestre em Monge do Pntano","+100 CONS"],"abilities":[{"name":"Punho do Pntano","description":"Ataques ganham elemento gua.","cost":"N/A","type":"Passiva"},{"name":"Serpente do Pntano","description":"Ataque linear de gua.","cost":"N/A","type":"HB"},{"name":"AquaReflete","description":"Esfera de gua empurra alvo.","cost":"N/A","type":"HB"},{"name":"Pantanogan","description":"Esfera de gua empurra alvo.","cost":"N/A","type":"HB"},{"name":"Bola de Canho","description":"Projtil vivo de dano massivo.","cost":"N/A","type":"HB"},{"name":"Contra-Corpo","description":"Contra-ataca fsico e empurra.","cost":"N/A","type":"Reao"}]},{"id":"burgues_do_pantano","name":"Burgus do Pntano","type":"Avanada","role":"Tanque / Controle","description":"Suprema ganncia, usa corpo colossal e autoridade.","bonus_class":{"CONS":6},"requirements":["5 Habilidades Mestre em Gluto","+100 CONS"],"abilities":[{"name":"Imposto do Pntano","description":"Rouba 20% HP do alvo e remove buff.","cost":"N/A","type":"HB"},{"name":"Barriga Monrquica","description":"Dobra defesa e bloqueia passagem.","cost":"N/A","type":"HB"},{"name":"Banquete Exclusivo","description":"Cura 100% HP e ganha Fria.","cost":"N/A","type":"HB"},{"name":"Tesouro do Pntano","description":"Exploso de cofre.","cost":"N/A","type":"HB"},{"name":"Decreto de Propriedade","description":"Debuffa inimigos e buffa aliados em rea.","cost":"N/A","type":"HB"},{"name":"Soberania do Pntano","description":"Cura ao aproximar inimigo e aplica Lentido.","cost":"N/A","type":"Passiva"}]},{"id":"guardiao_do_pantano","name":"Guardio do Pntano","type":"Avanada","role":"Tanque / Suporte Supremo","description":"Monlito vivo que ergue muralhas de escudos.","bonus_class":{"CONS":10},"requirements":["5 Habilidades Mestre em Escudeiro","5 Habilidades Mestre em Protetor"],"abilities":[{"name":"Priso de Escudo","description":"Prende alvo em 4 escudos.","cost":"N/A","type":"HB"},{"name":"Dobro de Escudo","description":"Dobra qualquer escudo em jogo.","cost":"N/A","type":"HB"},{"name":"Grande Escudo","description":"Protege rea enorme atrs dele.","cost":"N/A","type":"HB"},{"name":"Escudo Revitalizador","description":"Cura 100% HP rea.","cost":"N/A","type":"HB"},{"name":"Proteo em Grande Escala","description":"Anula prximo dano em TODOS aliados.","cost":"N/A","type":"HB"},{"name":"Proteo Mgica","description":"Usa habilidade de proteo em aliado alvejado.","cost":"N/A","type":"Reao"}]},{"id":"cantor_das_mares","name":"Cantor das Mars","type":"Avanada","role":"Suporte / Buffer Musical","description":"Bardos que usam melodias espirituais.","bonus_class":{"CAR":5},"requirements":["+50 CAR"],"abilities":[{"name":"Cantar","description":"Executa msica do repertrio (efeitos variados).","cost":"N/A","type":"HB"},{"name":"Palco Improvisado","description":"Dobro de efeito se estiver em terreno elevado.","cost":"N/A","type":"Passiva"}]},{"id":"astro_do_pantano","name":"Astro do Pntano","type":"Avanada","role":"Suporte Musical / Manipulador de Moral","description":"cone musical que move multides.","bonus_class":{"CAR":10},"requirements":["Ttulo musical com Cantor das Mars"],"abilities":[{"name":"Mashup","description":"Combina duas msicas simultneas.","cost":"N/A","type":"HB"},{"name":"Charme Musical","description":"Enfeitia atacante.","cost":"N/A","type":"Reao"}]},{"id":"sutileira","name":"Sutileira","type":"Avanada","role":"Roubo de Elite / Suporte Social","description":"Ladras de alta classe, elegantes e imperceptveis.","bonus_class":{"CAR":3,"SOR":2},"requirements":["2 Habilidades Mestre em Ladra","+20 SOR"],"abilities":[{"name":"Roubar Arma Principal","description":"Furta a arma equipada do alvo.","cost":"N/A","type":"HB"},{"name":"Roubar Acessrios","description":"Furta anis/colares.","cost":"N/A","type":"HB"},{"name":"Roubar Item de Luxo","description":"Furta item mais raro.","cost":"N/A","type":"HB"},{"name":"Detectar Armadilhas","description":"Percebe armadilhas em raio de 5 blocos.","cost":"N/A","type":"HB"},{"name":"Famme Fatale","description":"Encanta alvo e pode aplicar Condenao.","cost":"N/A","type":"HB"},{"name":"Mestre dos Assaltos","description":"No ativa armadilhas.","cost":"N/A","type":"Passiva"}]},{"id":"rastreadora_avancada","name":"Rastreadora (Avanada)","type":"Avanada","role":"Dano / Furtividade / Controle","description":"Felinas letais que unem furtividade com caa predatria.","bonus_class":{"SOR":3,"VEL":2},"requirements":["2 Habilidades Mestre em Espreitadora","+20 VEL"],"abilities":[{"name":"Cheiro do Medo","description":"Dobra MOV na direo do alvo.","cost":"N/A","type":"HB"},{"name":"Detectar Fraqueza","description":"Prximo ataque soma SOR ao dano.","cost":"N/A","type":"HB"},{"name":"Colocar Armadilhas","description":"Instala armadilha no campo.","cost":"N/A","type":"HB"},{"name":"Salto da Morte","description":"Ataque de cima com bnus de SOR.","cost":"N/A","type":"HB"},{"name":"Morte em Sequncia","description":"Golpe linear em todos no trajeto.","cost":"N/A","type":"HB"},{"name":"Contra Ataque","description":"Contra-ataca fsico adjacente.","cost":"N/A","type":"Reao"}]},{"id":"kunoichi","name":"Kunoichi","type":"Avanada","role":"Ninjutsu / Controle Elemental","description":"Assassinas discretas que usam iluses e ninjutsu.","bonus_class":{"INT":3,"SOR":2},"requirements":["2 Habilidades Mestre em Ladra","2 Habilidades Mestre em Espreitadora"],"abilities":[{"name":"Arremesso de Kunai","description":"Kunai amplificada com INT.","cost":"N/A","type":"HB"},{"name":"Bomba de Fumaa","description":"Fica camuflada instantaneamente.","cost":"N/A","type":"HB"},{"name":"Genjutsu","description":"Iluso causa Confuso.","cost":"25 MP","type":"Magia"},{"name":"Suiton","description":"Vrtice de gua (INT+gua).","cost":"30 MP","type":"Magia"},{"name":"Doton","description":"Pilar de terra (INT+Terra).","cost":"30 MP","type":"Magia"},{"name":"Clone das Sombras","description":"Clone repete ninjutsu.","cost":"N/A","type":"Passiva"}]},{"id":"chefona","name":"Chefona","type":"Avanada","role":"DPS / Suporte Criminoso","description":"Mandachuva do crime que usa pistolas e capangas.","bonus_class":{"SOR":6},"requirements":["5 Habilidades Mestre em Ladra","5 Habilidades Mestre em Sutileira","+100 SOR"],"abilities":[{"name":"Paredo","description":"Saraivada de balas em alvo.","cost":"N/A","type":"HB"},{"name":"Tiroteio","description":"Tiros em rea ao redor.","cost":"N/A","type":"HB"},{"name":"Estragar o Velrio","description":"Tiro na cabea (morte instantnea) se camuflada.","cost":"N/A","type":"HB"},{"name":"Bora Rapaziada","description":"Buffa MOV e VEL de aliados.","cost":"N/A","type":"HB"},{"name":"Meus Capangas","description":"Invoca 2 capangas.","cost":"N/A","type":"HB"},{"name":"Dois Ferros","description":"Pode usar duas armas de fogo.","cost":"N/A","type":"Passiva"}]},{"id":"assassina","name":"Assassina","type":"Avanada","role":"Eliminadora de Alvos","description":"Lenda das sombras, elimina alvos silenciosamente.","bonus_class":{"SOR":10},"requirements":["5 Habilidades Mestre em Espreitadora","5 Habilidades Mestre em Rastreadora","+100 SOR"],"abilities":[{"name":"Lmina de Veneno","description":"Ataques causam Envenenamento.","cost":"N/A","type":"HB"},{"name":"Sombras Caminhantes","description":"Teleporte via sombras.","cost":"N/A","type":"HB"},{"name":"Tendes Frgeis","description":"Aplica Imobilizado.","cost":"N/A","type":"HB"},{"name":"Instinto Assassino","description":"Causa Medo em alvos com <20% HP.","cost":"N/A","type":"Passiva"},{"name":"Frenesi das Sombras","description":"Fria de sombra, dobra VEL.","cost":"N/A","type":"HB"},{"name":"Minha Garrucha","description":"Finaliza alvo com <15% HP.","cost":"N/A","type":"Reao"}]},{"id":"jounin","name":"Jounin","type":"Avanada","role":"Mestre Elemental / Ttico","description":"Elite ninja que domina ninjutsu avanado.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Kunoichi","+100 INT"],"abilities":[{"name":"Futon","description":"5 lminas de ar em alvos diversos.","cost":"50 MP","type":"Magia"},{"name":"Raiton","description":"5 troves em alvos diversos.","cost":"50 MP","type":"Magia"},{"name":"Katon","description":"Esfera de fogo linear larga.","cost":"50 MP","type":"Magia"},{"name":"Embuir Arma","description":"Infunde arma com elemento.","cost":"30 MP","type":"Magia"},{"name":"Invocao","description":"Invoca animal ninja (D20).","cost":"N/A","type":"HB"},{"name":"Substituio","description":"Troca com tronco ao ser alvejada.","cost":"N/A","type":"Reao"}]},{"id":"dancarina","name":"Danarina","type":"Avanada","role":"Performer Mstica","description":"Transforma o campo em palco com performances mgicas.","bonus_class":{"CAR":5},"requirements":["+50 CAR"],"abilities":[{"name":"Danar","description":"Executa performance ligada ao equipamento.","cost":"N/A","type":"HB"},{"name":"Pirueta Defensiva","description":"Chance de esquivar de ataque fsico.","cost":"N/A","type":"Reao"}]},{"id":"odalisca_de_batalha","name":"Odalisca de Batalha","type":"Avanada","role":"Suporte Supremo / DPS Elegante","description":"Danarina de elite com armas exticas e danas agressivas.","bonus_class":{"CAR":10},"requirements":["4 Performances de Danarina"],"abilities":[{"name":"Swicth","description":"Troca equipamento de dana sem gastar ao.","cost":"N/A","type":"HB"},{"name":"Mestre da Dana","description":"Equipa dois instrumentos simultneos.","cost":"N/A","type":"Passiva"}]},{"id":"cavaleira_alada","name":"Cavaleira Alada","type":"Avanada","role":"Duelista Area","description":"Elite militar do cu, mergulha com velocidade devastadora.","bonus_class":{"FOR":3,"VEL":2},"requirements":["3 Habilidades Mestre em Raptora","+30 FOR"],"abilities":[{"name":"Por Glria","description":"Buffa FOR de aliados.","cost":"N/A","type":"HB"},{"name":"Redemoinho de Lmina","description":"Corte circular de vento.","cost":"N/A","type":"HB"},{"name":"Brisa da Guerra","description":"Ataques ganham lmina de vento extra.","cost":"N/A","type":"HB"},{"name":"Slash de Vento","description":"Lmina de ar  distncia.","cost":"N/A","type":"HB"},{"name":"Suplex Aero","description":"Agarra e arremessa inimigo do cu.","cost":"N/A","type":"HB"},{"name":"Escudo Meu","description":"Pode usar escudos.","cost":"N/A","type":"Passiva"}]},{"id":"cacadora_alada","name":"Caadora Alada","type":"Avanada","role":"DPS / Rastreio","description":"Predadora do cu com viso aguada e arco.","bonus_class":{"VEL":3,"SOR":2},"requirements":["3 Habilidades Mestre em Ranged","+30 VEL"],"abilities":[{"name":"Animal Guia","description":"Invoca esprito animal companheiro.","cost":"N/A","type":"HB"},{"name":"Camuflagem","description":"Entra em camuflagem.","cost":"N/A","type":"HB"},{"name":"Saraivada Area","description":"Chuva de flechas em rea.","cost":"N/A","type":"HB"},{"name":"Colocar Armadilhas","description":"Posiciona armadilha.","cost":"N/A","type":"HB"},{"name":"Tiro Avanado","description":"Flecha colossal linear (Arco Grande).","cost":"N/A","type":"HB"},{"name":"Tiro Duplo","description":"Dispara duas flechas por ataque.","cost":"N/A","type":"Passiva"}]},{"id":"terrana","name":"Terrana","type":"Avanada","role":"Lutadora Arcana / Terra","description":"Devotada  fora bruta da terra, usa martelos e magia.","bonus_class":{"INT":3,"MANA":2},"requirements":["1 Habilidade Mestre em Raptora","1 Habilidade Mestre em Ranged","+30 INT"],"abilities":[{"name":"Me Terra","description":"Cura em rea ao bater martelo.","cost":"20 MP","type":"Magia"},{"name":"Fissura Terrana","description":"Cria fissura no solo.","cost":"30 MP","type":"Magia"},{"name":"A Terra Sobre Mim","description":"Armadura de rocha (dobra AMR/RES).","cost":"20 MP","type":"Magia"},{"name":"Pilar do Martelo","description":"Ataque  distncia com pilar.","cost":"40 MP","type":"Magia"},{"name":"Terremoto Aero","description":"Impacto ssmico ao saltar.","cost":"50 MP","type":"Magia"},{"name":"Vibrao do Solo","description":"Detecta inimigos no solo.","cost":"N/A","type":"Passiva"}]},{"id":"devastadora","name":"Devastadora","type":"Avanada","role":"Dano Areo / Linha de Frente","description":"Especialista em combate areo com espades colossais.","bonus_class":{"FOR":4,"VEL":2},"requirements":["5 Habilidades Mestre em Raptora","5 Habilidades Mestre em Cavaleira Alada","+100 FOR"],"abilities":[{"name":"Ventania do Espado","description":"Empurra alvos com vento.","cost":"N/A","type":"HB"},{"name":"Arrasante Cortante","description":"Corte em alta velocidade.","cost":"N/A","type":"HB"},{"name":"Furaco de Lminas","description":"Tornado de lminas em rea.","cost":"N/A","type":"HB"},{"name":"Rpida e Veloz","description":"Dobra VEL.","cost":"N/A","type":"HB"},{"name":"Corte da Montanha","description":"Corte colossal de vento.","cost":"N/A","type":"HB"},{"name":"Contra-ataque do Vento","description":"Rebate fsico e empurra.","cost":"N/A","type":"Reao"}]},{"id":"atiradora_dos_ceus","name":"Atiradora dos Cus","type":"Avanada","role":"DPS Area","description":"Caadora suprema que domina territrios do ar.","bonus_class":{"VEL":4,"SOR":2},"requirements":["5 Habilidades Mestre em Ranged","5 Habilidades Mestre em Caadora Alada","+100 VEL"],"abilities":[{"name":"Ataque Areo","description":"Disparo vertical preciso.","cost":"N/A","type":"HB"},{"name":"Reposicionamento Areo","description":"Voo rpido e ataque.","cost":"N/A","type":"HB"},{"name":"Bombardeio Areo","description":"Atinge inimigos no trajeto de voo.","cost":"N/A","type":"HB"},{"name":"Alvo Marcado","description":"Marca alvo adicionando SOR ao dano.","cost":"N/A","type":"HB"},{"name":"Alvos Certeiros","description":"Tiros perfeitos em 5 alvos.","cost":"N/A","type":"HB"},{"name":"Minha Flecha  Melhor","description":"Desvia de projtil e contra-ataca.","cost":"N/A","type":"Reao"}]},{"id":"geomancer","name":"Geomancer","type":"Avanada","role":"Maga Elemental / Joias","description":"Maga que desperta poder oculto de joias antigas.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Terrana","+100 INT"],"abilities":[{"name":"Ressonncia","description":"Disparo elemental da joia.","cost":"30 MP","type":"Magia"},{"name":"Jia Equipada","description":"Engata joia na arma (dano elemental).","cost":"N/A","type":"HB"},{"name":"Joia Astral","description":"Buff poderoso da joia.","cost":"30 MP","type":"Magia"},{"name":"Sacrifcio da Jia","description":"Destri joia para duplicar efeito.","cost":"40 MP","type":"Magia"},{"name":"Triplo Gen","description":"Feixe combinado de 3 joias.","cost":"70 MP","type":"Magia"},{"name":"Joalheira","description":"Troca de joias sem gastar ao.","cost":"N/A","type":"Passiva"}]},{"id":"demon","name":"Demon","type":"Avanada","role":"Ameaa / Controle","description":"Guerreiras marcadas pela morte, brutais e imprevisveis.","bonus_class":{"Livre":5},"requirements":["Voltar da morte 10 vezes"],"abilities":[{"name":"Rugido do Demnio","description":"Aplica Medo em rea.","cost":"N/A","type":"HB"},{"name":"Vampirismo","description":"Rouba HP do alvo.","cost":"N/A","type":"HB"},{"name":"Consumir Arma","description":"Destri arma para ganhar status.","cost":"N/A","type":"HB"},{"name":"Embuir Demon","description":"Infunde arma com escurido.","cost":"N/A","type":"HB"},{"name":"Demon Ark","description":"Aplica Medo/Condenao/Morte.","cost":"N/A","type":"HB"},{"name":"Mestre de Armas","description":"Equipa arma instantaneamente.","cost":"N/A","type":"Passiva"}]},{"id":"lord_demon","name":"Lord Demon","type":"Avanada","role":"Senhora da Morte","description":"pice da linhagem demonaca, comanda almas.","bonus_class":{"Livre":10},"requirements":["5 Habilidades Mestre em Demon","Colher 100 almas"],"abilities":[{"name":"Dark Esfera","description":"Absorve alma de inimigos com Medo.","cost":"N/A","type":"HB"},{"name":"Colheita","description":"Suga alma de alvo com Medo (Morte).","cost":"N/A","type":"HB"},{"name":"Aura da Lord","description":"Dobra RES e fora Medo.","cost":"N/A","type":"HB"},{"name":"Dark Arma","description":"Lana armas sacrificadas.","cost":"N/A","type":"HB"},{"name":"ltimo Rugido","description":"Medo global e morte em quem j tem.","cost":"N/A","type":"HB"},{"name":"Tenha Medo de Mim","description":"Chance de aplicar Medo ao receber dano.","cost":"N/A","type":"Reao"}]},{"id":"magos_elementais","name":"Magos Elementais","type":"Avanada","role":"DPS Mgico de rea","description":"Umbros que transformam magia em cataclismos.","bonus_class":{"INT":3,"MANA":2},"requirements":["3 Habilidades Mestre em Mago Negro","+30 INT"],"abilities":[{"name":"Fire+","description":"Exploso de fogo grande rea.","cost":"20 MP","type":"Magia"},{"name":"Blizzard+","description":"Estilhaos de gelo grande rea.","cost":"20 MP","type":"Magia"},{"name":"Thunder+","description":"Trovo colossal em rea.","cost":"20 MP","type":"Magia"},{"name":"Maremoto","description":"Onda empurra inimigos.","cost":"40 MP","type":"Magia"},{"name":"Trifsico","description":"Combina 3 elementos em exploso.","cost":"50 MP","type":"Magia"},{"name":"Manto Refletor","description":"Reflete magia com 50% dano.","cost":"N/A","type":"Reao"}]},{"id":"arcanistas","name":"Arcanistas","type":"Avanada","role":"Maldies / Invocador","description":"Preservam artes proibidas e invocam demnios.","bonus_class":{"MANA":3,"INT":2},"requirements":["3 Habilidades Mestre em Ocultista","+50 MANA"],"abilities":[{"name":"Escurido+","description":"Exploso de trevas.","cost":"25 MP","type":"Magia"},{"name":"Cruz Mana","description":"Drena Mana.","cost":"30 MP","type":"Magia"},{"name":"Sentidus Mortis","description":"Remove sentidos (Silncio/Cegueira).","cost":"40 MP","type":"Magia"},{"name":"Petrificatis","description":"Petrifica alvo.","cost":"40 MP","type":"Magia"},{"name":"Invocar Demnio Menor","description":"Invoca demnio (D20).","cost":"50 MP","type":"Magia"},{"name":"Pacto","description":"Dobra VEL e RES com demnio ativo.","cost":"N/A","type":"Passiva"}]},{"id":"malandro","name":"Malandro","type":"Avanada","role":"Suporte Social / Manipulao","description":"Usa lbia e cartas para manipular o campo.","bonus_class":{"CAR":3,"SOR":2},"requirements":["+20 CAR"],"abilities":[{"name":"Fala Positiva","description":"Dobra atributo de alvo.","cost":"N/A","type":"HB"},{"name":"Fala Negativa","description":"Reduz atributo pela metade.","cost":"N/A","type":"HB"},{"name":"Carta Voadora","description":"Carta ricocheteia em alvos.","cost":"N/A","type":"HB"},{"name":"Carta Marcada","description":"Dobra dano recebido pelo alvo.","cost":"N/A","type":"HB"},{"name":"Malabarismo de Cartas","description":"Impede movimentos em rea.","cost":"N/A","type":"HB"},{"name":"Fala Mansa","description":"Chance de convencer atacante a desistir.","cost":"N/A","type":"Reao"}]},{"id":"arquimagos","name":"Arquimagos","type":"Avanada","role":"DPS Mgico Supremo","description":"Moldam elementos, invocando meteoros e tempestades.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Mago Negro","5 Habilidades Mestre em Mago Elemental","+100 INT"],"abilities":[{"name":"Meteoro","description":"Destruio massiva em rea.","cost":"100 MP","type":"Magia"},{"name":"Vrtex de Fogo","description":"Vrtex que queima rea por turnos.","cost":"50 MP","type":"Magia"},{"name":"Chuva de Raios","description":"Atinge inimigos aleatrios por turnos.","cost":"50 MP","type":"Magia"},{"name":"Nevasca Afiada","description":"Estalactites aleatrias por turnos.","cost":"50 MP","type":"Magia"},{"name":"Super Lua","description":"Lua cura aliados e permanece.","cost":"80 MP","type":"Magia"},{"name":"OVER LUNA","description":"Ignora RES sob efeito da Lua.","cost":"N/A","type":"Passiva"}]},{"id":"necromago","name":"Necromago","type":"Avanada","role":"Controle Absoluto / Necromancia","description":"Traz mortos e usa rituais profanos.","bonus_class":{"MANA":10},"requirements":["5 Habilidades Mestre em Ocultista","5 Habilidades Mestre em Arcanista","+100 INT"],"abilities":[{"name":"Necromancia","description":"Controla alma cada.","cost":"70 MP","type":"Magia"},{"name":"Mortis Dorner","description":"Tenta Morte Instantnea.","cost":"40 MP","type":"Magia"},{"name":"Redoma Sentis","description":"Cega e Silencia rea ao redor.","cost":"50 MP","type":"Magia"},{"name":"Invocar Demnio Superior","description":"Invoca demnio brutal (D20).","cost":"90 MP","type":"Magia"},{"name":"Buraco Negro","description":"Remove todos do campo.","cost":"200 MP","type":"Magia"},{"name":"Toque da Morte","description":"Chance de Condenao ao ser atacado.","cost":"N/A","type":"Reao"}]},{"id":"king_street","name":"King Street","type":"Avanada","role":"Controle Mental / Dominao Social","description":"Rei das ruas que controla vontades com a voz.","bonus_class":{"CAR":10},"requirements":["5 Habilidades Mestre em Malandro","+100 CAR"],"abilities":[{"name":"Corra!","description":"Impulsiona mobilidade de alvo.","cost":"N/A","type":"HB"},{"name":"Beleza Sedutora","description":"Encanta alvos em rea.","cost":"N/A","type":"HB"},{"name":"Ajoelhe-se","description":"Obriga inimigos a se ajoelharem.","cost":"N/A","type":"HB"},{"name":" Sua Vez de Novo","description":"Concede ao extra a aliado.","cost":"N/A","type":"HB"},{"name":"Charme do Malandro","description":"Transforma inimigo em aliado.","cost":"N/A","type":"HB"},{"name":"Estrondo Vocal","description":"Atinge todos atributos do alvo.","cost":"N/A","type":"Passiva"}]},{"id":"apostador","name":"Apostador","type":"Avanada","role":"Manipulador de Probabilidades","description":"Usa baralho especial para efeitos aleatrios poderosos.","bonus_class":{"SOR":10},"requirements":["5 Habilidades Mestre em Malandro","+100 SOR"],"abilities":[{"name":"Escolha uma Carta","description":"Puxa carta (D80) com efeito contnuo.","cost":"N/A","type":"HB"},{"name":"Valete Rpido","description":"Dobra status fsicos (Carta Valete).","cost":"N/A","type":"HB"},{"name":"Dama Salvadora","description":"Cura e remove status (Carta Dama).","cost":"N/A","type":"HB"},{"name":"Rei do Poder","description":"Exploso em rea (Carta Rei).","cost":"N/A","type":"HB"},{"name":"s da Sorte","description":"Puxa todas cartas (Carta s).","cost":"N/A","type":"HB"},{"name":"Carta na Manga","description":"Troca carta guardada instantaneamente.","cost":"N/A","type":"Passiva"}]},{"id":"shadow_hunters","name":"Shadow Hunters","type":"Avanada","role":"Invocador Sombrio","description":"Extrai sombras de mortos para lutar.","bonus_class":{"Livre":10},"requirements":["Chegar a 1 HP em batalha 100 vezes"],"abilities":[{"name":"Erga-se","description":"Extrai sombra de cadver como soldado.","cost":"N/A","type":"HB"},{"name":"Sombra Salvadora","description":"Sombra absorve dano fatal.","cost":"N/A","type":"Reao"}]},{"id":"monarca_das_sombras","name":"Monarca das Sombras","type":"Avanada","role":"Exrcito Vivo","description":"Comanda exrcito sombrio sozinho.","bonus_class":{"Livre":10},"requirements":["Possuir 4 sombras no nvel 10"],"abilities":[{"name":"Troca de Sombra","description":"Troca de lugar com sombra.","cost":"N/A","type":"HB"},{"name":"Retorno das Sombras","description":"Cura ao perder sombra.","cost":"N/A","type":"Passiva"}]}]`),ID={classes:ND},MD=()=>{const i=No(),e=L.useRef(null),[n,r]=L.useState("carousel"),[o,c]=L.useState(0),[h,m]=L.useState(null),[p,g]=L.useState("female"),[E,A]=L.useState(null),[x,k]=L.useState(!1),[q,B]=L.useState(""),G=CD.races;L.useEffect(()=>{const R=()=>{document.querySelectorAll("audio, video").forEach(O=>{if(!(O.tagName==="VIDEO"&&O.classList.contains("background-video")))try{O.pause(),O.currentTime=0}catch(C){console.error("Erro ao pausar audio:",C)}})};R();const M=setTimeout(R,500);return()=>clearTimeout(M)},[]),L.useEffect(()=>{if(n==="carousel"&&e.current){const M=window.innerWidth/2-130,D=o*300-M+130;e.current.scrollTo({left:D,behavior:"smooth"})}},[o,n]);const $=R=>{e.current&&(e.current.scrollLeft+=R.deltaY*4)},W=R=>{if(!R)return"Nenhum";const M={value:"Valor",detail:"Detalhes",details:"Detalhes",free_points:"Pontos Livres",female:"Feminino",male:"Masculino",male_exiled:"Masculino (Exilado)"};return typeof R=="object"?Object.entries(R).map(([D,O],C)=>{if(D==="type")return null;const we=M[D]||D.toUpperCase().replace(/_/g," ");let Ye=O;return typeof O=="object"&&(Ye=JSON.stringify(O).replace(/["{}]/g,"").replace(/:/g,": ").replace(/,/g,", ")),b.jsxs("div",{className:"mb-1",children:[b.jsxs("span",{className:"text-gray-400 font-bold",children:[we,":"]})," ",b.jsx("span",{className:"text-gray-200",children:Ye})]},C)}):R},re=()=>h?typeof h.base_classes=="object"&&!Array.isArray(h.base_classes)?h.id==="viera"?p==="female"?h.base_classes.female:h.base_classes.male||h.base_classes.male_exiled:[]:h.base_classes||[]:[],_e=R=>ID.classes.find(M=>M.name===R),ye=()=>{m(G[o]),A(null),r("details")},ie=()=>{r("carousel"),A(null)},N=async()=>{if(!(!q.trim()||!Vt.currentUser))try{await vT(ln(it,"characters",Vt.currentUser.uid),{uid:Vt.currentUser.uid,email:Vt.currentUser.email,name:q,race:h.name,class:E,gender:p,createdAt:di()}),console.log(`Personagem Criado e Salvo: ${q}`),i("/jogador-vtt")}catch(R){console.error("Erro ao salvar personagem:",R),alert("Falha ao invocar personagem no banco de dados.")}},w=G[o];return b.jsxs("div",{className:"relative w-full h-screen overflow-hidden",children:[b.jsx("style",{children:`
        @keyframes scaleIn { 0% { transform: scale(0.8); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
        .rpg-modal-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-color: rgba(0, 0, 0, 0.85); backdrop-filter: blur(8px); z-index: 9999; display: flex; align-items: center; justify-content: center; }
        .rpg-modal-box { position: relative; width: 500px; max-width: 90%; background: #1a120b; border: 2px solid #b45309; box-shadow: 0 0 50px rgba(234, 179, 8, 0.4); padding: 6px; border-radius: 8px; animation: scaleIn 0.3s ease-out forwards; }
        .rpg-modal-inner { background: linear-gradient(to bottom, #f3e6d5, #e7cba8); border: 1px solid #78350f; padding: 40px 20px; border-radius: 4px; text-align: center; display: flex; flex-direction: column; align-items: center; gap: 20px; }
        .rpg-modal-title { font-family: 'Cinzel', serif; font-size: 32px; color: #78350f; font-weight: bold; text-transform: uppercase; text-shadow: 0px 1px 0px rgba(255,255,255,0.6); margin-bottom: 5px; }
        .rpg-modal-subtitle { font-family: 'Cinzel', serif; font-size: 14px; color: #92400e; font-style: italic; border-top: 1px solid rgba(146, 64, 14, 0.3); padding-top: 10px; width: 100%; }
        .rpg-input { width: 100%; padding: 12px; background: #fff8ed; border: 2px solid #854d0e; font-family: 'Cinzel', serif; font-size: 18px; color: #451a03; outline: none; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1); border-radius: 4px; }
        .rpg-input:focus { border-color: #d97706; background: #ffffff; }
        .rpg-btn-go { background: linear-gradient(to bottom, #fcd34d, #d97706); border: 1px solid #92400e; padding: 10px 30px; font-family: 'Cinzel', serif; font-weight: bold; font-size: 18px; color: #451a03; text-transform: uppercase; cursor: pointer; border-radius: 4px; box-shadow: 0 4px 0 #92400e; transition: transform 0.1s; }
        .rpg-btn-go:active { transform: translateY(4px); box-shadow: 0 0 0 #92400e; }
        .rpg-btn-go:disabled { filter: grayscale(1); opacity: 0.6; cursor: not-allowed; }
        .rpg-close-btn { position: absolute; top: 10px; right: 15px; background: none; border: none; font-size: 20px; color: #92400e; cursor: pointer; font-weight: bold; }
        .rpg-close-btn:hover { color: #ff0000; }
        .corner { position: absolute; width: 20px; height: 20px; border-color: #fcd34d; border-style: solid; }
        .tl { top: -2px; left: -2px; border-width: 3px 0 0 3px; }
        .tr { top: -2px; right: -2px; border-width: 3px 3px 0 0; }
        .bl { bottom: -2px; left: -2px; border-width: 0 0 3px 3px; }
        .br { bottom: -2px; right: -2px; border-width: 0 3px 3px 0; }
      `}),b.jsxs("div",{className:"ether-container",children:[b.jsx("div",{className:"ether-vortex"}),b.jsx("div",{className:"ether-particles"})]}),b.jsxs("header",{className:"absolute top-0 w-full p-6 z-50 flex justify-between items-center bg-gradient-to-b from-black/90 to-transparent",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"rpg-title text-3xl",children:"Gnese da Alma"}),b.jsx("p",{className:"rpg-subtitle-styled mt-2",children:n==="carousel"?"Determine sua Linhagem Ancestral":`${h?.name} // Customizao`})]}),n==="details"&&b.jsxs("button",{onClick:ie,className:"nav-back-btn",children:[b.jsx("span",{children:""})," Seleo"]})]}),n==="carousel"&&b.jsxs("div",{className:"w-full h-full flex flex-col justify-center animate-[fadeIn_1s]",children:[b.jsx("div",{className:"text-center mb-4 z-10",children:b.jsx("h2",{className:"rpg-title text-5xl text-yellow-500 drop-shadow-lg",children:w.name})}),b.jsx("div",{ref:e,onWheel:$,className:"carousel-viewport",children:G.map((R,M)=>b.jsxs("div",{onClick:()=>c(M),className:`race-card-frame ${M===o?"active":""}`,children:[b.jsx("img",{src:R.image,alt:R.name}),b.jsx("div",{className:"card-label",children:R.name})]},R.id))}),b.jsx("div",{className:"text-center mt-10 z-10",children:b.jsxs("button",{onClick:ye,className:"confirm-btn w-64 mx-auto",children:["Escolher ",w.name]})})]}),n==="details"&&h&&b.jsxs("div",{className:"details-grid",children:[b.jsx("div",{className:"char-portrait-container",children:b.jsx("img",{src:h.image,alt:h.name,className:"char-portrait"})}),b.jsxs("div",{className:"info-scroll-area custom-scrollbar",children:[b.jsxs("div",{className:"glass-panel mt-8 border-l-4 border-yellow-600",children:[b.jsx("h3",{className:"section-header !border-none !mb-2 text-yellow-500",children:"Descrio"}),b.jsxs("p",{className:"description-text",children:['"',h.description,'"']}),b.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-[10px] uppercase text-blue-400 font-bold",children:"Caractersticas"}),b.jsx("p",{className:"text-xs text-gray-400 mt-1",children:h.characteristics})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-[10px] uppercase text-green-400 font-bold",children:"Bnus Racial"}),b.jsx("div",{className:"text-xs text-gray-300 font-mono mt-1",children:W(h.racial_bonus)})]})]})]}),b.jsxs("div",{className:"glass-panel flex flex-col gap-2",children:[b.jsx("span",{className:"text-xs text-gray-400 uppercase font-bold tracking-widest",children:"Gnero"}),b.jsxs("div",{className:"flex w-full",children:[b.jsx("div",{onClick:()=>{g("female"),A(null)},className:`gender-option ${p==="female"?"active":""}`,children:"Feminino"}),b.jsx("div",{onClick:()=>{g("male"),A(null)},className:`gender-option ${p==="male"?"active":""}`,children:"Masculino"})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"rpg-title text-xl mb-4 text-white",children:"Vocao"}),b.jsx("div",{className:"class-selector-grid",children:re().map(R=>{const M=_e(R);return b.jsxs("div",{onClick:()=>A(R),className:`class-btn ${E===R?"selected":""}`,children:[b.jsx("span",{className:"class-btn-title",children:R}),b.jsx("span",{className:"class-btn-role",children:M?.role||"Bsico"})]},R)})}),E&&(()=>{const R=_e(E);return R?b.jsxs("div",{className:"class-detail-container",children:[b.jsxs("div",{className:"cd-header",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"cd-title rpg-title",children:R.name}),b.jsxs("div",{className:"cd-meta text-blue-400",children:[R.type," // ",R.role]})]}),b.jsxs("div",{className:"cd-req",children:[b.jsx("span",{className:"cd-req-label",children:"Requisitos"}),b.jsx("div",{className:"cd-req-val",children:R.requirements?.length?R.requirements.join(", "):"Nenhum"})]})]}),b.jsxs("div",{className:"cd-desc",children:['"',R.description,'"']}),b.jsxs("div",{className:"cd-bonus-box",children:[b.jsx("span",{className:"text-xs uppercase font-bold text-blue-300",children:"Bnus de Classe"}),b.jsx("span",{className:"font-mono text-sm text-white",children:W(R.bonus_class)})]}),b.jsxs("div",{children:[b.jsx("h5",{className:"text-xs uppercase text-yellow-500 font-bold mb-3 tracking-wider border-b border-white/10 pb-1 inline-block",children:"Habilidades Iniciais"}),b.jsx("div",{className:"cd-abilities-grid",children:R.abilities?.map((M,D)=>b.jsxs("div",{className:"cd-ability-card",children:[b.jsxs("div",{className:"cd-ab-header",children:[b.jsx("span",{className:"cd-ab-name",children:M.name}),b.jsx("span",{className:"cd-ab-cost",children:M.cost})]}),b.jsx("p",{className:"cd-ab-desc",children:M.description})]},D))})]})]}):b.jsx("div",{className:"p-4 text-center",children:"Carregando..."})})()]}),b.jsx("div",{className:"mt-8 mb-10",children:b.jsx("button",{disabled:!E,onClick:()=>k(!0),className:"confirm-btn",children:E?"Finalizar Criao":"Selecione uma Vocao"})})]})]}),x&&b.jsx("div",{className:"rpg-modal-overlay",children:b.jsxs("div",{className:"rpg-modal-box",children:[b.jsx("div",{className:"corner tl"}),b.jsx("div",{className:"corner tr"}),b.jsx("div",{className:"corner bl"}),b.jsx("div",{className:"corner br"}),b.jsxs("div",{className:"rpg-modal-inner",children:[b.jsxs("div",{className:"w-full",children:[b.jsx("h3",{className:"rpg-modal-title",children:"Identidade"}),b.jsx("p",{className:"rpg-modal-subtitle",children:"Como a histria o conhecer?"})]}),b.jsxs("div",{className:"w-full flex gap-2",children:[b.jsx("input",{type:"text",value:q,onChange:R=>B(R.target.value),placeholder:"Nome do Aventureiro",className:"rpg-input",autoFocus:!0}),b.jsx("button",{onClick:N,disabled:!q.trim(),className:"rpg-btn-go",children:"GO"})]}),b.jsx("button",{className:"rpg-close-btn",onClick:()=>k(!1),children:""})]})]})})]})},DD=()=>b.jsx("div",{style:{color:"white",padding:"50px"},children:"PGINA DO JOGADOR EM CONSTRUO"}),OD=({user:i,children:e})=>i&&i.email==="fffvtt10@gmail.com"?e:b.jsx(Bb,{to:"/admin-login"});function PD(){const[i,e]=L.useState(!0),[n,r]=L.useState(null);return L.useEffect(()=>{const o=OC(Vt,c=>{r(c);const h=setTimeout(()=>{e(!1)},1e3);return()=>clearTimeout(h)});return()=>o()},[]),i?b.jsxs("div",{className:"ether-loading",children:[b.jsx("div",{className:"loading-blur-bg"}),b.jsxs("div",{className:"loading-content",children:[b.jsx("img",{src:hD,alt:"Carregando...",className:"chocobo-anim"}),b.jsx("div",{className:"loading-bar",children:b.jsx("div",{className:"loading-fill"})}),b.jsx("p",{children:"SINTONIZANDO COM O TER..."})]}),b.jsx("style",{children:`
          .ether-loading {
            height: 100vh; width: 100vw; background: #000;
            display: flex; align-items: center; justify-content: center;
            position: fixed; top: 0; left: 0; z-index: 9999;
          }
          .loading-blur-bg {
            position: absolute; width: 100%; height: 100%;
            background: radial-gradient(circle, #001a33 0%, #000 100%);
            filter: blur(40px);
            animation: pulseBlur 2s infinite alternate;
          }
          .loading-content { position: relative; z-index: 10; text-align: center; }
          .chocobo-anim { width: 120px; filter: drop-shadow(0 0 10px #ffcc00); margin-bottom: 20px; }
          
          .loading-bar {
            width: 200px; height: 2px; background: rgba(255, 255, 255, 0.1);
            margin: 0 auto 15px auto; border-radius: 10px; overflow: hidden;
          }
          .loading-fill {
            height: 100%; width: 0%; background: #ffcc00;
            box-shadow: 0 0 10px #ffcc00;
            animation: fillProgress 1s ease-in-out forwards;
          }
          
          p { color: #ffcc00; font-family: 'serif'; font-size: 10px; letter-spacing: 3px; animation: fadeText 1s infinite alternate; }
          
          @keyframes fillProgress { from { width: 0%; } to { width: 100%; } }
          @keyframes pulseBlur { from { opacity: 0.5; } to { opacity: 0.8; } }
          @keyframes fadeText { from { opacity: 0.4; } to { opacity: 1; } }
        `})]}):b.jsxs(lR,{children:[b.jsx(li,{path:"/",element:b.jsx(mD,{})}),b.jsx(li,{path:"/login",element:b.jsx(gD,{})}),b.jsx(li,{path:"/mestre",element:b.jsx(xD,{})}),b.jsx(li,{path:"/jogador",element:b.jsx(DD,{})}),b.jsx(li,{path:"/create-character",element:b.jsx(MD,{})}),b.jsx(li,{path:"/admin-login",element:b.jsx(yD,{})}),b.jsx(li,{path:"/admin",element:b.jsx(OD,{user:n,children:b.jsx(vD,{})})}),b.jsx(li,{path:"*",element:b.jsx(Bb,{to:"/"})})]})}d1.createRoot(document.getElementById("root")).render(b.jsx(a1.StrictMode,{children:b.jsx(DR,{children:b.jsx(PD,{})})}));
