(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function kE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var zd={exports:{}},Al={};var K_;function YA(){if(K_)return Al;K_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:u}}return Al.Fragment=t,Al.jsx=n,Al.jsxs=n,Al}var Y_;function QA(){return Y_||(Y_=1,zd.exports=YA()),zd.exports}var ut=QA(),Bd={exports:{}},Et={};var Q_;function XA(){if(Q_)return Et;Q_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function z(M){return M===null||typeof M!="object"?null:(M=D&&M[D]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,K={};function et(M,X,st){this.props=M,this.context=X,this.refs=K,this.updater=st||Z}et.prototype.isReactComponent={},et.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},et.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function tt(){}tt.prototype=et.prototype;function it(M,X,st){this.props=M,this.context=X,this.refs=K,this.updater=st||Z}var Ct=it.prototype=new tt;Ct.constructor=it,$(Ct,et.prototype),Ct.isPureReactComponent=!0;var It=Array.isArray;function wt(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(M,X,st){var ot=st.ref;return{$$typeof:r,type:M,key:X,ref:ot!==void 0?ot:null,props:st}}function V(M,X){return R(M.type,X,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function L(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(st){return X[st]})}var w=/\/+/g;function ie(M,X){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):X.toString(36)}function Ie(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(wt,wt):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,X,st,ot,_t){var bt=typeof M;(bt==="undefined"||bt==="boolean")&&(M=null);var kt=!1;if(M===null)kt=!0;else switch(bt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(M.$$typeof){case r:case t:kt=!0;break;case E:return kt=M._init,G(kt(M._payload),X,st,ot,_t)}}if(kt)return _t=_t(M),kt=ot===""?"."+ie(M,0):ot,It(_t)?(st="",kt!=null&&(st=kt.replace(w,"$&/")+"/"),G(_t,X,st,"",function(os){return os})):_t!=null&&(N(_t)&&(_t=V(_t,st+(_t.key==null||M&&M.key===_t.key?"":(""+_t.key).replace(w,"$&/")+"/")+kt)),X.push(_t)),1;kt=0;var De=ot===""?".":ot+":";if(It(M))for(var re=0;re<M.length;re++)ot=M[re],bt=De+ie(ot,re),kt+=G(ot,X,st,bt,_t);else if(re=z(M),typeof re=="function")for(M=re.call(M),re=0;!(ot=M.next()).done;)ot=ot.value,bt=De+ie(ot,re++),kt+=G(ot,X,st,bt,_t);else if(bt==="object"){if(typeof M.then=="function")return G(Ie(M),X,st,ot,_t);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return kt}function rt(M,X,st){if(M==null)return M;var ot=[],_t=0;return G(M,ot,"","",function(bt){return X.call(st,bt,_t++)}),ot}function dt(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(st){(M._status===0||M._status===-1)&&(M._status=1,M._result=st)},function(st){(M._status===0||M._status===-1)&&(M._status=2,M._result=st)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var zt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Gt={map:rt,forEach:function(M,X,st){rt(M,function(){X.apply(this,arguments)},st)},count:function(M){var X=0;return rt(M,function(){X++}),X},toArray:function(M){return rt(M,function(X){return X})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Et.Activity=S,Et.Children=Gt,Et.Component=et,Et.Fragment=n,Et.Profiler=l,Et.PureComponent=it,Et.StrictMode=s,Et.Suspense=g,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Et.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Et.cache=function(M){return function(){return M.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(M,X,st){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ot=$({},M.props),_t=M.key;if(X!=null)for(bt in X.key!==void 0&&(_t=""+X.key),X)!b.call(X,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&X.ref===void 0||(ot[bt]=X[bt]);var bt=arguments.length-2;if(bt===1)ot.children=st;else if(1<bt){for(var kt=Array(bt),De=0;De<bt;De++)kt[De]=arguments[De+2];ot.children=kt}return R(M.type,_t,ot)},Et.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Et.createElement=function(M,X,st){var ot,_t={},bt=null;if(X!=null)for(ot in X.key!==void 0&&(bt=""+X.key),X)b.call(X,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(_t[ot]=X[ot]);var kt=arguments.length-2;if(kt===1)_t.children=st;else if(1<kt){for(var De=Array(kt),re=0;re<kt;re++)De[re]=arguments[re+2];_t.children=De}if(M&&M.defaultProps)for(ot in kt=M.defaultProps,kt)_t[ot]===void 0&&(_t[ot]=kt[ot]);return R(M,bt,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(M){return{$$typeof:m,render:M}},Et.isValidElement=N,Et.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:dt}},Et.memo=function(M,X){return{$$typeof:y,type:M,compare:X===void 0?null:X}},Et.startTransition=function(M){var X=I.T,st={};I.T=st;try{var ot=M(),_t=I.S;_t!==null&&_t(st,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(wt,zt)}catch(bt){zt(bt)}finally{X!==null&&st.types!==null&&(X.types=st.types),I.T=X}},Et.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Et.use=function(M){return I.H.use(M)},Et.useActionState=function(M,X,st){return I.H.useActionState(M,X,st)},Et.useCallback=function(M,X){return I.H.useCallback(M,X)},Et.useContext=function(M){return I.H.useContext(M)},Et.useDebugValue=function(){},Et.useDeferredValue=function(M,X){return I.H.useDeferredValue(M,X)},Et.useEffect=function(M,X){return I.H.useEffect(M,X)},Et.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Et.useId=function(){return I.H.useId()},Et.useImperativeHandle=function(M,X,st){return I.H.useImperativeHandle(M,X,st)},Et.useInsertionEffect=function(M,X){return I.H.useInsertionEffect(M,X)},Et.useLayoutEffect=function(M,X){return I.H.useLayoutEffect(M,X)},Et.useMemo=function(M,X){return I.H.useMemo(M,X)},Et.useOptimistic=function(M,X){return I.H.useOptimistic(M,X)},Et.useReducer=function(M,X,st){return I.H.useReducer(M,X,st)},Et.useRef=function(M){return I.H.useRef(M)},Et.useState=function(M){return I.H.useState(M)},Et.useSyncExternalStore=function(M,X,st){return I.H.useSyncExternalStore(M,X,st)},Et.useTransition=function(){return I.H.useTransition()},Et.version="19.2.3",Et}var X_;function Pm(){return X_||(X_=1,Bd.exports=XA()),Bd.exports}var q=Pm();const $A=kE(q);var jd={exports:{}},bl={},Hd={exports:{}},qd={};var $_;function JA(){return $_||($_=1,(function(r){function t(G,rt){var dt=G.length;G.push(rt);t:for(;0<dt;){var zt=dt-1>>>1,Gt=G[zt];if(0<l(Gt,rt))G[zt]=rt,G[dt]=Gt,dt=zt;else break t}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var rt=G[0],dt=G.pop();if(dt!==rt){G[0]=dt;t:for(var zt=0,Gt=G.length,M=Gt>>>1;zt<M;){var X=2*(zt+1)-1,st=G[X],ot=X+1,_t=G[ot];if(0>l(st,dt))ot<Gt&&0>l(_t,st)?(G[zt]=_t,G[ot]=dt,zt=ot):(G[zt]=st,G[X]=dt,zt=X);else if(ot<Gt&&0>l(_t,dt))G[zt]=_t,G[ot]=dt,zt=ot;else break t}}return rt}function l(G,rt){var dt=G.sortIndex-rt.sortIndex;return dt!==0?dt:G.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,D=3,z=!1,Z=!1,$=!1,K=!1,et=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function Ct(G){for(var rt=n(y);rt!==null;){if(rt.callback===null)s(y);else if(rt.startTime<=G)s(y),rt.sortIndex=rt.expirationTime,t(g,rt);else break;rt=n(y)}}function It(G){if($=!1,Ct(G),!Z)if(n(g)!==null)Z=!0,wt||(wt=!0,L());else{var rt=n(y);rt!==null&&Ie(It,rt.startTime-G)}}var wt=!1,I=-1,b=5,R=-1;function V(){return K?!0:!(r.unstable_now()-R<b)}function N(){if(K=!1,wt){var G=r.unstable_now();R=G;var rt=!0;try{t:{Z=!1,$&&($=!1,tt(I),I=-1),z=!0;var dt=D;try{e:{for(Ct(G),S=n(g);S!==null&&!(S.expirationTime>G&&V());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,D=S.priorityLevel;var Gt=zt(S.expirationTime<=G);if(G=r.unstable_now(),typeof Gt=="function"){S.callback=Gt,Ct(G),rt=!0;break e}S===n(g)&&s(g),Ct(G)}else s(g);S=n(g)}if(S!==null)rt=!0;else{var M=n(y);M!==null&&Ie(It,M.startTime-G),rt=!1}}break t}finally{S=null,D=dt,z=!1}rt=void 0}}finally{rt?L():wt=!1}}}var L;if(typeof it=="function")L=function(){it(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=N,L=function(){ie.postMessage(null)}}else L=function(){et(N,0)};function Ie(G,rt){I=et(function(){G(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(G){switch(D){case 1:case 2:case 3:var rt=3;break;default:rt=D}var dt=D;D=rt;try{return G()}finally{D=dt}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(G,rt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var dt=D;D=G;try{return rt()}finally{D=dt}},r.unstable_scheduleCallback=function(G,rt,dt){var zt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?zt+dt:zt):dt=zt,G){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=dt+Gt,G={id:E++,callback:rt,priorityLevel:G,startTime:dt,expirationTime:Gt,sortIndex:-1},dt>zt?(G.sortIndex=dt,t(y,G),n(g)===null&&G===n(y)&&($?(tt(I),I=-1):$=!0,Ie(It,dt-zt))):(G.sortIndex=Gt,t(g,G),Z||z||(Z=!0,wt||(wt=!0,L()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var rt=D;return function(){var dt=D;D=rt;try{return G.apply(this,arguments)}finally{D=dt}}}})(qd)),qd}var J_;function ZA(){return J_||(J_=1,Hd.exports=JA()),Hd.exports}var Fd={exports:{}},Ke={};var Z_;function WA(){if(Z_)return Ke;Z_=1;var r=Pm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},Ke.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Ke.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Ke.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Ke.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:z}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:D,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Ke.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Ke.requestFormReset=function(g){s.d.r(g)},Ke.unstable_batchedUpdates=function(g,y){return g(y)},Ke.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var W_;function tb(){if(W_)return Fd.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Fd.exports=WA(),Fd.exports}var tv;function eb(){if(tv)return bl;tv=1;var r=ZA(),t=Pm(),n=tb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===o)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,o=d;break}if(T===o){_=!0,o=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,o=h;break}if(T===o){_=!0,o=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),it=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),It=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case et:return"Profiler";case K:return"StrictMode";case It:return"Suspense";case wt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case it:return e.displayName||"Context";case tt:return(e._context.displayName||"Context")+".Consumer";case Ct:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return i=e.displayName||null,i!==null?i:ie(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return ie(e(i))}catch{}}return null}var Ie=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function M(e){return{current:e}}function X(e){0>Gt||(e.current=zt[Gt],zt[Gt]=null,Gt--)}function st(e,i){Gt++,zt[Gt]=e.current,e.current=i}var ot=M(null),_t=M(null),bt=M(null),kt=M(null);function De(e,i){switch(st(bt,i),st(_t,e),st(ot,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?p_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=p_(i),e=g_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(ot),st(ot,e)}function re(){X(ot),X(_t),X(bt)}function os(e){e.memoizedState!==null&&st(kt,e);var i=ot.current,a=g_(i,e.type);i!==a&&(st(_t,e),st(ot,a))}function Xs(e){_t.current===e&&(X(ot),X(_t)),kt.current===e&&(X(kt),vl._currentValue=dt)}var $s,Js;function Zn(e){if($s===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);$s=i&&i[1]||"",Js=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$s+e+Js}var vo=!1;function ls(e,i){if(!e||vo)return"";vo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var B=H}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(H){B=H}e.call(Q.prototype)}}else{try{throw Error()}catch(H){B=H}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),U=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===U.length)for(o=C.length-1,h=U.length-1;1<=o&&0<=h&&C[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==U[h]){var F=`
`+C[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{vo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Zn(a):""}function Eo(e,i){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return e.child!==i&&i!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return ls(e.type,!1);case 11:return ls(e.type.render,!1);case 1:return ls(e.type,!0);case 31:return Zn("Activity");default:return""}}function To(e){try{var i="",a=null;do i+=Eo(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,sr=r.unstable_cancelCallback,Bh=r.unstable_shouldYield,au=r.unstable_requestPaint,Ze=r.unstable_now,us=r.unstable_getCurrentPriorityLevel,So=r.unstable_ImmediatePriority,Ao=r.unstable_UserBlockingPriority,ar=r.unstable_NormalPriority,jh=r.unstable_LowPriority,ou=r.unstable_IdlePriority,lu=r.log,uu=r.unstable_setDisableYieldValue,Ln=null,Ue=null;function Tn(e){if(typeof lu=="function"&&uu(e),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Ln,e)}catch{}}var he=Math.clz32?Math.clz32:hu,cu=Math.log,Zs=Math.LN2;function hu(e){return e>>>=0,e===0?32:31-(cu(e)/Zs|0)|0}var Wn=256,cs=262144,_e=4194304;function ti(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=ti(o):(_&=T,_!==0?h=ti(_):a||(a=T&~e,a!==0&&(h=ti(a))))):(T=o&~d,T!==0?h=ti(T):_!==0?h=ti(_):a||(a=o&~e,a!==0&&(h=ti(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Pn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Hh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ni(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function hs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qh(e,i,a,o,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,U=e.hiddenUpdates;for(a=_&~a;0<a;){var F=31-he(a),Q=1<<F;T[F]=0,C[F]=-1;var B=U[F];if(B!==null)for(U[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}a&=~Q}o!==0&&fs(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function fs(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-he(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function bo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-he(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Ro(e,i){var a=i&-i;return a=(a&42)!==0?1:ds(a),(a&(e.suspendedLanes|i))!==0?0:a}function ds(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function du(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:z_(e.type))}function kn(e,i){var a=rt.p;try{return rt.p=e,i()}finally{rt.p=a}}var Un=Math.random().toString(36).slice(2),ve="__reactFiber$"+Un,xe="__reactProps$"+Un,ii="__reactContainer$"+Un,Ws="__reactEvents$"+Un,Fh="__reactListeners$"+Un,mu="__reactHandles$"+Un,pu="__reactResources$"+Un,ri="__reactMarker$"+Un;function ta(e){delete e[ve],delete e[xe],delete e[Ws],delete e[Fh],delete e[mu]}function si(e){var i=e[ve];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ii]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=A_(e);e!==null;){if(a=e[ve])return a;e=A_(e)}return i}e=a,a=e.parentNode}return null}function Sn(e){if(e=e[ve]||e[ii]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function hn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function ai(e){var i=e[pu];return i||(i=e[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ee(e){e[ri]=!0}var wo=new Set,Co={};function oi(e,i){li(e,i),li(e+"Capture",i)}function li(e,i){for(Co[e]=i,e=0;e<i.length;e++)wo.add(i[e])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Oo={};function gu(e){return ye.call(Oo,e)?!0:ye.call(Do,e)?!1:Io.test(e)?Oo[e]=!0:(Do[e]=!0,!1)}function ea(e,i,a){if(gu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function fn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Te(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function or(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function No(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Kt(e){if(!e._valueTracker){var i=or(e)?"checked":"value";e._valueTracker=No(e,i,""+e[i])}}function ms(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=or(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ps=/[\n"\\]/g;function nn(e){return e.replace(ps,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function na(e,i,a,o,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Le(i)):e.value!==""+Le(i)&&(e.value=""+Le(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Mo(e,_,Le(i)):a!=null?Mo(e,_,Le(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Le(T):e.removeAttribute("name")}function yu(e,i,a,o,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Kt(e);return}a=a!=null?""+Le(a):"",i=i!=null?""+Le(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Kt(e)}function Mo(e,i,a){i==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function lr(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function _u(e,i,a){if(i!=null&&(i=""+Le(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Le(a):""}function ur(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(Ie(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Le(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Kt(e)}function rn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||vu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function xo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Vo(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&Vo(e,d,i[d])}function ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(e){return cr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var Lo=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hr=null,ci=null;function gs(e){var i=Sn(e);if(i&&(e=i.stateNode)){var a=e[xe]||null;t:switch(e=i.stateNode,i.type){case"input":if(na(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[xe]||null;if(!h)throw Error(s(90));na(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&ms(o)}break t;case"textarea":_u(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&lr(e,!!a.multiple,i,!1)}}}var sa=!1;function fr(e,i,a){if(sa)return e(i,a);sa=!0;try{var o=e(i);return o}finally{if(sa=!1,(hr!==null||ci!==null)&&(dc(),hr&&(i=hr,e=ci,ci=hr=null,gs(i),e)))for(i=0;i<e.length;i++)gs(e[i])}}function Bn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[xe]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ys=!1;if(bn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){ys=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{ys=!1}var hi=null,Po=null,_s=null;function ko(){if(_s)return _s;var e,i=Po,a=i.length,o,h="value"in hi?hi.value:hi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(o=1;o<=_&&i[a-o]===h[d-o];o++);return _s=h.slice(e,1<o?1-o:void 0)}function vs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function jn(){return!1}function ze(e){function i(a,o,h,d,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Oi:jn,this.isPropagationStopped=jn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),i}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=ze(Ni),dr=S({},Ni,{view:0,detail:0}),Uo=ze(dr),mr,aa,di,oa=S({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(mr=e.screenX-di.screenX,aa=e.screenY-di.screenY):aa=mr=0,di=e),mr)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),zo=ze(oa),Es=S({},oa,{dataTransfer:0}),Tu=ze(Es),Su=S({},dr,{relatedTarget:0}),Ts=ze(Su),Bo=S({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=ze(Bo),la=S({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bu=ze(la),Ru=S({},Ni,{data:0}),mi=ze(Ru),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Iu[e])?!!i[e]:!1}function pr(){return Du}var We=S({},dr,{key:function(e){if(e.key){var i=wu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(e){return e.type==="keypress"?vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ou=ze(We),Nu=S({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=ze(Nu),c=S({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr}),p=ze(c),v=S({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=ze(v),P=S({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=ze(P),nt=S({},Ni,{newState:0,oldState:0}),St=ze(nt),fe=[9,13,27,32],Ht=bn&&"CompositionEvent"in window,se=null;bn&&"documentMode"in document&&(se=document.documentMode);var Rn=bn&&"TextEvent"in window&&!se,pi=bn&&(!Ht||se&&8<se&&11>=se),Hn=" ",qn=!1;function Ss(e,i){switch(e){case"keyup":return fe.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function yS(e,i){switch(e){case"compositionend":return ua(i);case"keypress":return i.which!==32?null:(qn=!0,Hn);case"textInput":return e=i.data,e===Hn&&qn?null:e;default:return null}}function _S(e,i){if(ca)return e==="compositionend"||!Ht&&Ss(e,i)?(e=ko(),_s=Po=hi=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return pi&&i.locale!=="ko"?null:i.data;default:return null}}var vS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!vS[e.type]:i==="textarea"}function Cp(e,i,a,o){hr?ci?ci.push(o):ci=[o]:hr=o,i=Ec(i,"onChange"),0<i.length&&(a=new fi("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var jo=null,Ho=null;function ES(e){u_(e,0)}function Mu(e){var i=hn(e);if(ms(i))return e}function Ip(e,i){if(e==="change")return i}var Dp=!1;if(bn){var Gh;if(bn){var Kh="oninput"in document;if(!Kh){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),Kh=typeof Op.oninput=="function"}Gh=Kh}else Gh=!1;Dp=Gh&&(!document.documentMode||9<document.documentMode)}function Np(){jo&&(jo.detachEvent("onpropertychange",Mp),Ho=jo=null)}function Mp(e){if(e.propertyName==="value"&&Mu(Ho)){var i=[];Cp(i,Ho,e,An(e)),fr(ES,i)}}function TS(e,i,a){e==="focusin"?(Np(),jo=i,Ho=a,jo.attachEvent("onpropertychange",Mp)):e==="focusout"&&Np()}function SS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mu(Ho)}function AS(e,i){if(e==="click")return Mu(i)}function bS(e,i){if(e==="input"||e==="change")return Mu(i)}function RS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var dn=typeof Object.is=="function"?Object.is:RS;function qo(e,i){if(dn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ye.call(i,h)||!dn(e[h],i[h]))return!1}return!0}function Vp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xp(e,i){var a=Vp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Vp(a)}}function Lp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Lp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Pp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ui(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ui(e.document)}return i}function Yh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var wS=bn&&"documentMode"in document&&11>=document.documentMode,ha=null,Qh=null,Fo=null,Xh=!1;function kp(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xh||ha==null||ha!==ui(o)||(o=ha,"selectionStart"in o&&Yh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Fo&&qo(Fo,o)||(Fo=o,o=Ec(Qh,"onSelect"),0<o.length&&(i=new fi("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ha)))}function As(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var fa={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},$h={},Up={};bn&&(Up=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function bs(e){if($h[e])return $h[e];if(!fa[e])return e;var i=fa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Up)return $h[e]=i[a];return e}var zp=bs("animationend"),Bp=bs("animationiteration"),jp=bs("animationstart"),CS=bs("transitionrun"),IS=bs("transitionstart"),DS=bs("transitioncancel"),Hp=bs("transitionend"),qp=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function Fn(e,i){qp.set(e,i),oi(i,[e])}var Vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],da=0,Zh=0;function xu(){for(var e=da,i=Zh=da=0;i<e;){var a=wn[i];wn[i++]=null;var o=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var d=wn[i];if(wn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}d!==0&&Fp(a,h,d)}}function Lu(e,i,a,o){wn[da++]=e,wn[da++]=i,wn[da++]=a,wn[da++]=o,Zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Wh(e,i,a,o){return Lu(e,i,a,o),Pu(e)}function Rs(e,i){return Lu(e,null,null,i),Pu(e)}function Fp(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-he(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function Pu(e){if(50<fl)throw fl=0,ud=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ma={};function OS(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,i,a,o){return new OS(e,i,a,o)}function tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,i){var a=e.alternate;return a===null?(a=mn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Gp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function ku(e,i,a,o,h,d){var _=0;if(o=e,typeof e=="function")tf(e)&&(_=1);else if(typeof e=="string")_=LA(e,a,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=mn(31,a,i,h),e.elementType=R,e.lanes=d,e;case $:return ws(a.children,h,d,i);case K:_=8,h|=24;break;case et:return e=mn(12,a,i,h|2),e.elementType=et,e.lanes=d,e;case It:return e=mn(13,a,i,h),e.elementType=It,e.lanes=d,e;case wt:return e=mn(19,a,i,h),e.elementType=wt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:_=10;break t;case tt:_=9;break t;case Ct:_=11;break t;case I:_=14;break t;case b:_=16,o=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=mn(_,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function ws(e,i,a,o){return e=mn(7,e,o,i),e.lanes=a,e}function ef(e,i,a){return e=mn(6,e,null,i),e.lanes=a,e}function Kp(e){var i=mn(18,null,null,0);return i.stateNode=e,i}function nf(e,i,a){return i=mn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Yp=new WeakMap;function Cn(e,i){if(typeof e=="object"&&e!==null){var a=Yp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:To(i)},Yp.set(e,i),i)}return{value:e,source:i,stack:To(i)}}var pa=[],ga=0,Uu=null,Go=0,In=[],Dn=0,gr=null,gi=1,yi="";function xi(e,i){pa[ga++]=Go,pa[ga++]=Uu,Uu=e,Go=i}function Qp(e,i,a){In[Dn++]=gi,In[Dn++]=yi,In[Dn++]=gr,gr=e;var o=gi;e=yi;var h=32-he(o)-1;o&=~(1<<h),a+=1;var d=32-he(i)+h;if(30<d){var _=h-h%5;d=(o&(1<<_)-1).toString(32),o>>=_,h-=_,gi=1<<32-he(i)+h|a<<h|o,yi=d+e}else gi=1<<d|a<<h|o,yi=e}function rf(e){e.return!==null&&(xi(e,1),Qp(e,1,0))}function sf(e){for(;e===Uu;)Uu=pa[--ga],pa[ga]=null,Go=pa[--ga],pa[ga]=null;for(;e===gr;)gr=In[--Dn],In[Dn]=null,yi=In[--Dn],In[Dn]=null,gi=In[--Dn],In[Dn]=null}function Xp(e,i){In[Dn++]=gi,In[Dn++]=yi,In[Dn++]=gr,gi=i.id,yi=i.overflow,gr=e}var Be=null,te=null,Pt=!1,yr=null,On=!1,af=Error(s(519));function _r(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(Cn(i,e)),af}function $p(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[ve]=e,i[xe]=o,a){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(a=0;a<ml.length;a++)Ot(ml[a],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),yu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),ur(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||d_(i.textContent,a)?(o.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),o.onScroll!=null&&Ot("scroll",i),o.onScrollEnd!=null&&Ot("scrollend",i),o.onClick!=null&&(i.onclick=zn),i=!0):i=!1,i||_r(e,!0)}function Jp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Be=Be.return}}function ya(e){if(e!==Be)return!1;if(!Pt)return Jp(e),Pt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||bd(e.type,e.memoizedProps)),a=!a),a&&te&&_r(e),Jp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=S_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=S_(e)}else i===27?(i=te,Mr(e.type)?(e=Dd,Dd=null,te=e):te=i):te=Be?Mn(e.stateNode.nextSibling):null;return!0}function Cs(){te=Be=null,Pt=!1}function of(){var e=yr;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),yr=null),e}function Ko(e){yr===null?yr=[e]:yr.push(e)}var lf=M(null),Is=null,Li=null;function vr(e,i,a){st(lf,i._currentValue),i._currentValue=a}function Pi(e){e._currentValue=lf.current,X(lf)}function uf(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function cf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),uf(d.return,a,e),o||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),uf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function _a(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;dn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===kt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(vl):e=[vl])}h=h.return}e!==null&&cf(i,e,a,o),i.flags|=262144}function zu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ds(e){Is=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return Zp(Is,e)}function Bu(e,i){return Is===null&&Ds(e),Zp(e,i)}function Zp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Li===null){if(e===null)throw Error(s(308));Li=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Li=Li.next=i;return a}var NS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},MS=r.unstable_scheduleCallback,VS=r.unstable_NormalPriority,Se={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new NS,data:new Map,refCount:0}}function Yo(e){e.refCount--,e.refCount===0&&MS(VS,function(){e.controller.abort()})}var Qo=null,ff=0,va=0,Ea=null;function xS(e,i){if(Qo===null){var a=Qo=[];ff=0,va=pd(),Ea={status:"pending",value:void 0,then:function(o){a.push(o)}}}return ff++,i.then(Wp,Wp),i}function Wp(){if(--ff===0&&Qo!==null){Ea!==null&&(Ea.status="fulfilled");var e=Qo;Qo=null,va=0,Ea=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function LS(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var tg=G.S;G.S=function(e,i){ky=Ze(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&xS(e,i),tg!==null&&tg(e,i)};var Os=M(null);function df(){var e=Os.current;return e!==null?e:Wt.pooledCache}function ju(e,i){i===null?st(Os,Os.current):st(Os,i.pool)}function eg(){var e=df();return e===null?null:{parent:Se._currentValue,pool:e}}var Ta=Error(s(460)),mf=Error(s(474)),Hu=Error(s(542)),qu={then:function(){}};function ng(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ig(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(zn,zn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,sg(e),e;default:if(typeof i.status=="string")i.then(zn,zn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,sg(e),e}throw Ms=i,Ta}}function Ns(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ms=a,Ta):a}}var Ms=null;function rg(){if(Ms===null)throw Error(s(459));var e=Ms;return Ms=null,e}function sg(e){if(e===Ta||e===Hu)throw Error(s(483))}var Sa=null,Xo=0;function Fu(e){var i=Xo;return Xo+=1,Sa===null&&(Sa=[]),ig(Sa,e,i)}function $o(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Gu(e,i){throw i.$$typeof===D?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function ag(e){function i(x,O){if(e){var k=x.deletions;k===null?(x.deletions=[O],x.flags|=16):k.push(O)}}function a(x,O){if(!e)return null;for(;O!==null;)i(x,O),O=O.sibling;return null}function o(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function h(x,O){return x=Vi(x,O),x.index=0,x.sibling=null,x}function d(x,O,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<O?(x.flags|=67108866,O):k):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function _(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function T(x,O,k,Y){return O===null||O.tag!==6?(O=ef(k,x.mode,Y),O.return=x,O):(O=h(O,k),O.return=x,O)}function C(x,O,k,Y){var ft=k.type;return ft===$?F(x,O,k.props.children,Y,k.key):O!==null&&(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Ns(ft)===O.type)?(O=h(O,k.props),$o(O,k),O.return=x,O):(O=ku(k.type,k.key,k.props,null,x.mode,Y),$o(O,k),O.return=x,O)}function U(x,O,k,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=nf(k,x.mode,Y),O.return=x,O):(O=h(O,k.children||[]),O.return=x,O)}function F(x,O,k,Y,ft){return O===null||O.tag!==7?(O=ws(k,x.mode,Y,ft),O.return=x,O):(O=h(O,k),O.return=x,O)}function Q(x,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ef(""+O,x.mode,k),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case z:return k=ku(O.type,O.key,O.props,null,x.mode,k),$o(k,O),k.return=x,k;case Z:return O=nf(O,x.mode,k),O.return=x,O;case b:return O=Ns(O),Q(x,O,k)}if(Ie(O)||L(O))return O=ws(O,x.mode,k,null),O.return=x,O;if(typeof O.then=="function")return Q(x,Fu(O),k);if(O.$$typeof===it)return Q(x,Bu(x,O),k);Gu(x,O)}return null}function B(x,O,k,Y){var ft=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ft!==null?null:T(x,O,""+k,Y);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case z:return k.key===ft?C(x,O,k,Y):null;case Z:return k.key===ft?U(x,O,k,Y):null;case b:return k=Ns(k),B(x,O,k,Y)}if(Ie(k)||L(k))return ft!==null?null:F(x,O,k,Y,null);if(typeof k.then=="function")return B(x,O,Fu(k),Y);if(k.$$typeof===it)return B(x,O,Bu(x,k),Y);Gu(x,k)}return null}function H(x,O,k,Y,ft){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(k)||null,T(O,x,""+Y,ft);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case z:return x=x.get(Y.key===null?k:Y.key)||null,C(O,x,Y,ft);case Z:return x=x.get(Y.key===null?k:Y.key)||null,U(O,x,Y,ft);case b:return Y=Ns(Y),H(x,O,k,Y,ft)}if(Ie(Y)||L(Y))return x=x.get(k)||null,F(O,x,Y,ft,null);if(typeof Y.then=="function")return H(x,O,k,Fu(Y),ft);if(Y.$$typeof===it)return H(x,O,k,Bu(O,Y),ft);Gu(O,Y)}return null}function lt(x,O,k,Y){for(var ft=null,Bt=null,ct=O,Rt=O=0,Mt=null;ct!==null&&Rt<k.length;Rt++){ct.index>Rt?(Mt=ct,ct=null):Mt=ct.sibling;var jt=B(x,ct,k[Rt],Y);if(jt===null){ct===null&&(ct=Mt);break}e&&ct&&jt.alternate===null&&i(x,ct),O=d(jt,O,Rt),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt,ct=Mt}if(Rt===k.length)return a(x,ct),Pt&&xi(x,Rt),ft;if(ct===null){for(;Rt<k.length;Rt++)ct=Q(x,k[Rt],Y),ct!==null&&(O=d(ct,O,Rt),Bt===null?ft=ct:Bt.sibling=ct,Bt=ct);return Pt&&xi(x,Rt),ft}for(ct=o(ct);Rt<k.length;Rt++)Mt=H(ct,x,Rt,k[Rt],Y),Mt!==null&&(e&&Mt.alternate!==null&&ct.delete(Mt.key===null?Rt:Mt.key),O=d(Mt,O,Rt),Bt===null?ft=Mt:Bt.sibling=Mt,Bt=Mt);return e&&ct.forEach(function(kr){return i(x,kr)}),Pt&&xi(x,Rt),ft}function pt(x,O,k,Y){if(k==null)throw Error(s(151));for(var ft=null,Bt=null,ct=O,Rt=O=0,Mt=null,jt=k.next();ct!==null&&!jt.done;Rt++,jt=k.next()){ct.index>Rt?(Mt=ct,ct=null):Mt=ct.sibling;var kr=B(x,ct,jt.value,Y);if(kr===null){ct===null&&(ct=Mt);break}e&&ct&&kr.alternate===null&&i(x,ct),O=d(kr,O,Rt),Bt===null?ft=kr:Bt.sibling=kr,Bt=kr,ct=Mt}if(jt.done)return a(x,ct),Pt&&xi(x,Rt),ft;if(ct===null){for(;!jt.done;Rt++,jt=k.next())jt=Q(x,jt.value,Y),jt!==null&&(O=d(jt,O,Rt),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt);return Pt&&xi(x,Rt),ft}for(ct=o(ct);!jt.done;Rt++,jt=k.next())jt=H(ct,x,Rt,jt.value,Y),jt!==null&&(e&&jt.alternate!==null&&ct.delete(jt.key===null?Rt:jt.key),O=d(jt,O,Rt),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt);return e&&ct.forEach(function(KA){return i(x,KA)}),Pt&&xi(x,Rt),ft}function Zt(x,O,k,Y){if(typeof k=="object"&&k!==null&&k.type===$&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case z:t:{for(var ft=k.key;O!==null;){if(O.key===ft){if(ft=k.type,ft===$){if(O.tag===7){a(x,O.sibling),Y=h(O,k.props.children),Y.return=x,x=Y;break t}}else if(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Ns(ft)===O.type){a(x,O.sibling),Y=h(O,k.props),$o(Y,k),Y.return=x,x=Y;break t}a(x,O);break}else i(x,O);O=O.sibling}k.type===$?(Y=ws(k.props.children,x.mode,Y,k.key),Y.return=x,x=Y):(Y=ku(k.type,k.key,k.props,null,x.mode,Y),$o(Y,k),Y.return=x,x=Y)}return _(x);case Z:t:{for(ft=k.key;O!==null;){if(O.key===ft)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){a(x,O.sibling),Y=h(O,k.children||[]),Y.return=x,x=Y;break t}else{a(x,O);break}else i(x,O);O=O.sibling}Y=nf(k,x.mode,Y),Y.return=x,x=Y}return _(x);case b:return k=Ns(k),Zt(x,O,k,Y)}if(Ie(k))return lt(x,O,k,Y);if(L(k)){if(ft=L(k),typeof ft!="function")throw Error(s(150));return k=ft.call(k),pt(x,O,k,Y)}if(typeof k.then=="function")return Zt(x,O,Fu(k),Y);if(k.$$typeof===it)return Zt(x,O,Bu(x,k),Y);Gu(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(a(x,O.sibling),Y=h(O,k),Y.return=x,x=Y):(a(x,O),Y=ef(k,x.mode,Y),Y.return=x,x=Y),_(x)):a(x,O)}return function(x,O,k,Y){try{Xo=0;var ft=Zt(x,O,k,Y);return Sa=null,ft}catch(ct){if(ct===Ta||ct===Hu)throw ct;var Bt=mn(29,ct,null,x.mode);return Bt.lanes=Y,Bt.return=x,Bt}}}var Vs=ag(!0),og=ag(!1),Er=!1;function pf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Sr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Pu(e),Fp(e,null,a),i}return Lu(e,o,i,a),Pu(e)}function Jo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,bo(e,a)}}function yf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var _f=!1;function Zo(){if(_f){var e=Ea;if(e!==null)throw e}}function Wo(e,i,a,o){_f=!1;var h=e.updateQueue;Er=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,U=C.next;C.next=null,_===null?d=U:_.next=U,_=C;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==_&&(T===null?F.firstBaseUpdate=U:T.next=U,F.lastBaseUpdate=C))}if(d!==null){var Q=h.baseState;_=0,F=U=C=null,T=d;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Nt&B)===B:(o&B)===B){B!==0&&B===va&&(_f=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var lt=e,pt=T;B=i;var Zt=a;switch(pt.tag){case 1:if(lt=pt.payload,typeof lt=="function"){Q=lt.call(Zt,Q,B);break t}Q=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=pt.payload,B=typeof lt=="function"?lt.call(Zt,Q,B):lt,B==null)break t;Q=S({},Q,B);break t;case 2:Er=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(U=F=H,C=Q):F=F.next=H,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(C=Q),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),Cr|=_,e.lanes=_,e.memoizedState=Q}}function lg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function ug(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)lg(a[e],i)}var Aa=M(null),Ku=M(0);function cg(e,i){e=Gi,st(Ku,e),st(Aa,i),Gi=e|i.baseLanes}function vf(){st(Ku,Gi),st(Aa,Aa.current)}function Ef(){Gi=Ku.current,X(Aa),X(Ku)}var pn=M(null),Nn=null;function Ar(e){var i=e.alternate;st(de,de.current&1),st(pn,e),Nn===null&&(i===null||Aa.current!==null||i.memoizedState!==null)&&(Nn=e)}function Tf(e){st(de,de.current),st(pn,e),Nn===null&&(Nn=e)}function hg(e){e.tag===22?(st(de,de.current),st(pn,e),Nn===null&&(Nn=e)):br()}function br(){st(de,de.current),st(pn,pn.current)}function gn(e){X(pn),Nn===e&&(Nn=null),X(de)}var de=M(0);function Yu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Cd(a)||Id(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ki=0,At=null,$t=null,Ae=null,Qu=!1,ba=!1,xs=!1,Xu=0,tl=0,Ra=null,PS=0;function ue(){throw Error(s(321))}function Sf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!dn(e[a],i[a]))return!1;return!0}function Af(e,i,a,o,h,d){return ki=d,At=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?Qg:Uf,xs=!1,d=a(o,h),xs=!1,ba&&(d=dg(i,a,o,h)),fg(e),d}function fg(e){G.H=il;var i=$t!==null&&$t.next!==null;if(ki=0,Ae=$t=At=null,Qu=!1,tl=0,Ra=null,i)throw Error(s(300));e===null||be||(e=e.dependencies,e!==null&&zu(e)&&(be=!0))}function dg(e,i,a,o){At=e;var h=0;do{if(ba&&(Ra=null),tl=0,ba=!1,25<=h)throw Error(s(301));if(h+=1,Ae=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=Xg,d=i(a,o)}while(ba);return d}function kS(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?el(i):i,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(At.flags|=1024),i}function bf(){var e=Xu!==0;return Xu=0,e}function Rf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function wf(e){if(Qu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Qu=!1}ki=0,Ae=$t=At=null,ba=!1,tl=Xu=0,Ra=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function me(){if($t===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var i=Ae===null?At.memoizedState:Ae.next;if(i!==null)Ae=i,$t=e;else{if(e===null)throw At.alternate===null?Error(s(467)):Error(s(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(e){var i=tl;return tl+=1,Ra===null&&(Ra=[]),e=ig(Ra,e,i),i=At,(Ae===null?i.memoizedState:Ae.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Qg:Uf),e}function Ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return el(e);if(e.$$typeof===it)return je(e)}throw Error(s(438,String(e)))}function Cf(e){var i=null,a=At.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=$u(),At.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=V;return i.index++,a}function Ui(e,i){return typeof i=="function"?i(e):i}function Zu(e){var i=me();return If(i,$t,e)}function If(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,C=null,U=i,F=!1;do{var Q=U.lane&-536870913;if(Q!==U.lane?(Nt&Q)===Q:(ki&Q)===Q){var B=U.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Q===va&&(F=!0);else if((ki&B)===B){U=U.next,B===va&&(F=!0);continue}else Q={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=Q,_=d):C=C.next=Q,At.lanes|=B,Cr|=B;Q=U.action,xs&&a(d,Q),d=U.hasEagerState?U.eagerState:a(d,Q)}else B={lane:Q,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=B,_=d):C=C.next=B,At.lanes|=Q,Cr|=Q;U=U.next}while(U!==null&&U!==i);if(C===null?_=d:C.next=T,!dn(d,e.memoizedState)&&(be=!0,F&&(a=Ea,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=C,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Df(e){var i=me(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);dn(d,i.memoizedState)||(be=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function mg(e,i,a){var o=At,h=me(),d=Pt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!dn(($t||h).memoizedState,a);if(_&&(h.memoizedState=a,be=!0),h=h.queue,Mf(yg.bind(null,o,h,e),[e]),h.getSnapshot!==i||_||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,wa(9,{destroy:void 0},gg.bind(null,o,h,a,i),null),Wt===null)throw Error(s(349));d||(ki&127)!==0||pg(o,i,a)}return a}function pg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=At.updateQueue,i===null?(i=$u(),At.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function gg(e,i,a,o){i.value=a,i.getSnapshot=o,_g(i)&&vg(e)}function yg(e,i,a){return a(function(){_g(i)&&vg(e)})}function _g(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!dn(e,a)}catch{return!0}}function vg(e){var i=Rs(e,2);i!==null&&un(i,e,2)}function Of(e){var i=tn();if(typeof e=="function"){var a=e;if(e=a(),xs){Tn(!0);try{a()}finally{Tn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},i}function Eg(e,i,a,o){return e.baseState=a,If(e,$t,typeof o=="function"?o:Ui)}function US(e,i,a,o,h){if(ec(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Tg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Tg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=G.T,_={};G.T=_;try{var T=a(h,o),C=G.S;C!==null&&C(_,T),Sg(e,i,T)}catch(U){Nf(e,i,U)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=a(h,o),Sg(e,i,d)}catch(U){Nf(e,i,U)}}function Sg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ag(e,i,o)},function(o){return Nf(e,i,o)}):Ag(e,i,a)}function Ag(e,i,a){i.status="fulfilled",i.value=a,bg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Tg(e,a)))}function Nf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,bg(i),i=i.next;while(i!==o)}e.action=null}function bg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Rg(e,i){return i}function wg(e,i){if(Pt){var a=Wt.formState;if(a!==null){t:{var o=At;if(Pt){if(te){e:{for(var h=te,d=On;h.nodeType!==8;){if(!d){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){te=Mn(h.nextSibling),o=h.data==="F!";break t}}_r(o)}o=!1}o&&(i=a[0])}}return a=tn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rg,lastRenderedState:i},a.queue=o,a=Gg.bind(null,At,o),o.dispatch=a,o=Of(!1),d=kf.bind(null,At,!1,o.queue),o=tn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=US.bind(null,At,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Cg(e){var i=me();return Ig(i,$t,e)}function Ig(e,i,a){if(i=If(e,i,Rg)[0],e=Zu(Ui)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=el(i)}catch(_){throw _===Ta?Hu:_}else o=i;i=me();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(At.flags|=2048,wa(9,{destroy:void 0},zS.bind(null,h,a),null)),[o,d,e]}function zS(e,i){e.action=i}function Dg(e){var i=me(),a=$t;if(a!==null)return Ig(i,a,e);me(),i=i.memoizedState,a=me();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function wa(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=At.updateQueue,i===null&&(i=$u(),At.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Og(){return me().memoizedState}function Wu(e,i,a,o){var h=tn();At.flags|=e,h.memoizedState=wa(1|i,{destroy:void 0},a,o===void 0?null:o)}function tc(e,i,a,o){var h=me();o=o===void 0?null:o;var d=h.memoizedState.inst;$t!==null&&o!==null&&Sf(o,$t.memoizedState.deps)?h.memoizedState=wa(i,d,a,o):(At.flags|=e,h.memoizedState=wa(1|i,d,a,o))}function Ng(e,i){Wu(8390656,8,e,i)}function Mf(e,i){tc(2048,8,e,i)}function BS(e){At.flags|=4;var i=At.updateQueue;if(i===null)i=$u(),At.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Mg(e){var i=me().memoizedState;return BS({ref:i,nextImpl:e}),function(){if((qt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Vg(e,i){return tc(4,2,e,i)}function xg(e,i){return tc(4,4,e,i)}function Lg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Pg(e,i,a){a=a!=null?a.concat([e]):null,tc(4,4,Lg.bind(null,i,e),a)}function Vf(){}function kg(e,i){var a=me();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Sf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Ug(e,i){var a=me();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Sf(i,o[1]))return o[0];if(o=e(),xs){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[o,i],o}function xf(e,i,a){return a===void 0||(ki&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=zy(),At.lanes|=e,Cr|=e,a)}function zg(e,i,a,o){return dn(a,i)?a:Aa.current!==null?(e=xf(e,a,o),dn(e,i)||(be=!0),e):(ki&42)===0||(ki&1073741824)!==0&&(Nt&261930)===0?(be=!0,e.memoizedState=a):(e=zy(),At.lanes|=e,Cr|=e,i)}function Bg(e,i,a,o,h){var d=rt.p;rt.p=d!==0&&8>d?d:8;var _=G.T,T={};G.T=T,kf(e,!1,i,a);try{var C=h(),U=G.S;if(U!==null&&U(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=LS(C,o);nl(e,i,F,vn(e))}else nl(e,i,o,vn(e))}catch(Q){nl(e,i,{then:function(){},status:"rejected",reason:Q},vn())}finally{rt.p=d,_!==null&&T.types!==null&&(_.types=T.types),G.T=_}}function jS(){}function Lf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=jg(e).queue;Bg(e,h,i,dt,a===null?jS:function(){return Hg(e),a(o)})}function jg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:dt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Hg(e){var i=jg(e);i.next===null&&(i=e.alternate.memoizedState),nl(e,i.next.queue,{},vn())}function Pf(){return je(vl)}function qg(){return me().memoizedState}function Fg(){return me().memoizedState}function HS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=vn();e=Tr(a);var o=Sr(i,e,a);o!==null&&(un(o,i,a),Jo(o,i,a)),i={cache:hf()},e.payload=i;return}i=i.return}}function qS(e,i,a){var o=vn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ec(e)?Kg(i,a):(a=Wh(e,i,a,o),a!==null&&(un(a,e,o),Yg(a,i,o)))}function Gg(e,i,a){var o=vn();nl(e,i,a,o)}function nl(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ec(e))Kg(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,dn(T,_))return Lu(e,i,h,0),Wt===null&&xu(),!1}catch{}if(a=Wh(e,i,h,o),a!==null)return un(a,e,o),Yg(a,i,o),!0}return!1}function kf(e,i,a,o){if(o={lane:2,revertLane:pd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ec(e)){if(i)throw Error(s(479))}else i=Wh(e,a,o,2),i!==null&&un(i,e,2)}function ec(e){var i=e.alternate;return e===At||i!==null&&i===At}function Kg(e,i){ba=Qu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Yg(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,bo(e,a)}}var il={readContext:je,use:Ju,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};il.useEffectEvent=ue;var Qg={readContext:je,use:Ju,useCallback:function(e,i){return tn().memoizedState=[e,i===void 0?null:i],e},useContext:je,useEffect:Ng,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Wu(4194308,4,Lg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Wu(4194308,4,e,i)},useInsertionEffect:function(e,i){Wu(4,2,e,i)},useMemo:function(e,i){var a=tn();i=i===void 0?null:i;var o=e();if(xs){Tn(!0);try{e()}finally{Tn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=tn();if(a!==void 0){var h=a(i);if(xs){Tn(!0);try{a(i)}finally{Tn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=qS.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var i=tn();return e={current:e},i.memoizedState=e},useState:function(e){e=Of(e);var i=e.queue,a=Gg.bind(null,At,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Vf,useDeferredValue:function(e,i){var a=tn();return xf(a,e,i)},useTransition:function(){var e=Of(!1);return e=Bg.bind(null,At,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=At,h=tn();if(Pt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(Nt&127)!==0||pg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ng(yg.bind(null,o,d,e),[e]),o.flags|=2048,wa(9,{destroy:void 0},gg.bind(null,o,d,a,i),null),a},useId:function(){var e=tn(),i=Wt.identifierPrefix;if(Pt){var a=yi,o=gi;a=(o&~(1<<32-he(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Xu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=PS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Pf,useFormState:wg,useActionState:wg,useOptimistic:function(e){var i=tn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=kf.bind(null,At,!0,a),a.dispatch=i,[e,i]},useMemoCache:Cf,useCacheRefresh:function(){return tn().memoizedState=HS.bind(null,At)},useEffectEvent:function(e){var i=tn(),a={impl:e};return i.memoizedState=a,function(){if((qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Uf={readContext:je,use:Ju,useCallback:kg,useContext:je,useEffect:Mf,useImperativeHandle:Pg,useInsertionEffect:Vg,useLayoutEffect:xg,useMemo:Ug,useReducer:Zu,useRef:Og,useState:function(){return Zu(Ui)},useDebugValue:Vf,useDeferredValue:function(e,i){var a=me();return zg(a,$t.memoizedState,e,i)},useTransition:function(){var e=Zu(Ui)[0],i=me().memoizedState;return[typeof e=="boolean"?e:el(e),i]},useSyncExternalStore:mg,useId:qg,useHostTransitionStatus:Pf,useFormState:Cg,useActionState:Cg,useOptimistic:function(e,i){var a=me();return Eg(a,$t,e,i)},useMemoCache:Cf,useCacheRefresh:Fg};Uf.useEffectEvent=Mg;var Xg={readContext:je,use:Ju,useCallback:kg,useContext:je,useEffect:Mf,useImperativeHandle:Pg,useInsertionEffect:Vg,useLayoutEffect:xg,useMemo:Ug,useReducer:Df,useRef:Og,useState:function(){return Df(Ui)},useDebugValue:Vf,useDeferredValue:function(e,i){var a=me();return $t===null?xf(a,e,i):zg(a,$t.memoizedState,e,i)},useTransition:function(){var e=Df(Ui)[0],i=me().memoizedState;return[typeof e=="boolean"?e:el(e),i]},useSyncExternalStore:mg,useId:qg,useHostTransitionStatus:Pf,useFormState:Dg,useActionState:Dg,useOptimistic:function(e,i){var a=me();return $t!==null?Eg(a,$t,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Cf,useCacheRefresh:Fg};Xg.useEffectEvent=Mg;function zf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=vn(),h=Tr(o);h.payload=i,a!=null&&(h.callback=a),i=Sr(e,h,o),i!==null&&(un(i,e,o),Jo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=vn(),h=Tr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Sr(e,h,o),i!==null&&(un(i,e,o),Jo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=vn(),o=Tr(a);o.tag=2,i!=null&&(o.callback=i),i=Sr(e,o,a),i!==null&&(un(i,e,a),Jo(i,e,a))}};function $g(e,i,a,o,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,_):i.prototype&&i.prototype.isPureReactComponent?!qo(a,o)||!qo(h,d):!0}function Jg(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Bf.enqueueReplaceState(i,i.state,null)}function Ls(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Zg(e){Vu(e)}function Wg(e){console.error(e)}function ty(e){Vu(e)}function nc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function ey(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(e,i,a){return a=Tr(a),a.tag=3,a.payload={element:null},a.callback=function(){nc(e,i)},a}function ny(e){return e=Tr(e),e.tag=3,e}function iy(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){ey(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){ey(i,a,o),typeof h!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function FS(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&_a(i,a,h,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return Nn===null?mc():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===qu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),fd(e,o,h)),!1;case 22:return a.flags|=65536,o===qu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),fd(e,o,h)),!1}throw Error(s(435,a.tag))}return fd(e,o,h),mc(),!1}if(Pt)return i=pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==af&&(e=Error(s(422),{cause:o}),Ko(Cn(e,a)))):(o!==af&&(i=Error(s(423),{cause:o}),Ko(Cn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Cn(o,a),h=jf(e.stateNode,o,h),yf(e,h),ce!==4&&(ce=2)),!1;var d=Error(s(520),{cause:o});if(d=Cn(d,a),hl===null?hl=[d]:hl.push(d),ce!==4&&(ce=2),i===null)return!0;o=Cn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=jf(a.stateNode,o,e),yf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ir===null||!Ir.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ny(h),iy(h,e,a,o),yf(a,h),!1}a=a.return}while(a!==null);return!1}var Hf=Error(s(461)),be=!1;function He(e,i,a,o){i.child=e===null?og(i,null,a,o):Vs(i,e.child,a,o)}function ry(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return Ds(i),o=Af(e,i,a,_,d,h),T=bf(),e!==null&&!be?(Rf(e,i,h),zi(e,i,h)):(Pt&&T&&rf(i),i.flags|=1,He(e,i,o,h),i.child)}function sy(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!tf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ay(e,i,d,o,h)):(e=ku(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!$f(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:qo,a(_,o)&&e.ref===i.ref)return zi(e,i,h)}return i.flags|=1,e=Vi(d,o),e.ref=i.ref,e.return=i,i.child=e}function ay(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(qo(d,o)&&e.ref===i.ref)if(be=!1,i.pendingProps=o=d,$f(e,h))(e.flags&131072)!==0&&(be=!0);else return i.lanes=e.lanes,zi(e,i,h)}return qf(e,i,a,o,h)}function oy(e,i,a,o){var h=o.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return ly(e,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&ju(i,d!==null?d.cachePool:null),d!==null?cg(i,d):vf(),hg(i);else return o=i.lanes=536870912,ly(e,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(ju(i,d.cachePool),cg(i,d),br(),i.memoizedState=null):(e!==null&&ju(i,null),vf(),br());return He(e,i,h,a),i.child}function rl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function ly(e,i,a,o,h){var d=df();return d=d===null?null:{parent:Se._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&ju(i,null),vf(),hg(i),e!==null&&_a(e,i,o,!0),i.childLanes=h,null}function ic(e,i){return i=sc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function uy(e,i,a){return Vs(i,e.child,null,a),e=ic(i,i.pendingProps),e.flags|=2,gn(i),i.memoizedState=null,e}function GS(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Pt){if(o.mode==="hidden")return e=ic(i,o),i.lanes=536870912,rl(null,e);if(Tf(i),(e=te)?(e=T_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:gr!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},a=Kp(e),a.return=i,i.child=a,Be=i,te=null)):e=null,e===null)throw _r(i);return i.lanes=536870912,null}return ic(i,o)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Tf(i),h)if(i.flags&256)i.flags&=-257,i=uy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(be||_a(e,i,a,!1),h=(a&e.childLanes)!==0,be||h){if(o=Wt,o!==null&&(_=Ro(o,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Rs(e,_),un(o,e,_),Hf;mc(),i=uy(e,i,a)}else e=d.treeContext,te=Mn(_.nextSibling),Be=i,Pt=!0,yr=null,On=!1,e!==null&&Xp(i,e),i=ic(i,o),i.flags|=4096;return i}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function rc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function qf(e,i,a,o,h){return Ds(i),a=Af(e,i,a,o,void 0,h),o=bf(),e!==null&&!be?(Rf(e,i,h),zi(e,i,h)):(Pt&&o&&rf(i),i.flags|=1,He(e,i,a,h),i.child)}function cy(e,i,a,o,h,d){return Ds(i),i.updateQueue=null,a=dg(i,o,a,h),fg(e),o=bf(),e!==null&&!be?(Rf(e,i,d),zi(e,i,d)):(Pt&&o&&rf(i),i.flags|=1,He(e,i,a,d),i.child)}function hy(e,i,a,o,h){if(Ds(i),i.stateNode===null){var d=ma,_=a.contextType;typeof _=="object"&&_!==null&&(d=je(_)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},pf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?je(_):ma,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(zf(i,a,_,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Bf.enqueueReplaceState(d,d.state,null),Wo(i,o,d,h),Zo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,C=Ls(a,T);d.props=C;var U=d.context,F=a.contextType;_=ma,typeof F=="object"&&F!==null&&(_=je(F));var Q=a.getDerivedStateFromProps;F=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||U!==_)&&Jg(i,d,o,_),Er=!1;var B=i.memoizedState;d.state=B,Wo(i,o,d,h),Zo(),U=i.memoizedState,T||B!==U||Er?(typeof Q=="function"&&(zf(i,a,Q,o),U=i.memoizedState),(C=Er||$g(i,a,C,o,B,U,_))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=U),d.props=o,d.state=U,d.context=_,o=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,gf(e,i),_=i.memoizedProps,F=Ls(a,_),d.props=F,Q=i.pendingProps,B=d.context,U=a.contextType,C=ma,typeof U=="object"&&U!==null&&(C=je(U)),T=a.getDerivedStateFromProps,(U=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Q||B!==C)&&Jg(i,d,o,C),Er=!1,B=i.memoizedState,d.state=B,Wo(i,o,d,h),Zo();var H=i.memoizedState;_!==Q||B!==H||Er||e!==null&&e.dependencies!==null&&zu(e.dependencies)?(typeof T=="function"&&(zf(i,a,T,o),H=i.memoizedState),(F=Er||$g(i,a,F,o,B,H,C)||e!==null&&e.dependencies!==null&&zu(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,H,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),d.props=o,d.state=H,d.context=C,o=F):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,rc(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=Vs(i,e.child,null,h),i.child=Vs(i,null,a,h)):He(e,i,a,h),i.memoizedState=d.state,e=i.child):e=zi(e,i,h),e}function fy(e,i,a,o){return Cs(),i.flags|=256,He(e,i,a,o),i.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(e){return{baseLanes:e,cachePool:eg()}}function Kf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=_n),e}function dy(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Pt){if(h?Ar(i):br(),(e=te)?(e=T_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:gr!==null?{id:gi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},a=Kp(e),a.return=i,i.child=a,Be=i,te=null)):e=null,e===null)throw _r(i);return Id(e)?i.lanes=32:i.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(br(),h=i.mode,T=sc({mode:"hidden",children:T},h),o=ws(o,h,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,o=i.child,o.memoizedState=Gf(a),o.childLanes=Kf(e,_,a),i.memoizedState=Ff,rl(null,o)):(Ar(i),Yf(i,T))}var C=e.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(Ar(i),i.flags&=-257,i=Qf(e,i,a)):i.memoizedState!==null?(br(),i.child=e.child,i.flags|=128,i=null):(br(),T=o.fallback,h=i.mode,o=sc({mode:"visible",children:o.children},h),T=ws(T,h,a,null),T.flags|=2,o.return=i,T.return=i,o.sibling=T,i.child=o,Vs(i,e.child,null,a),o=i.child,o.memoizedState=Gf(a),o.childLanes=Kf(e,_,a),i.memoizedState=Ff,i=rl(null,o));else if(Ar(i),Id(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var U=_.dgst;_=U,o=Error(s(419)),o.stack="",o.digest=_,Ko({value:o,source:null,stack:null}),i=Qf(e,i,a)}else if(be||_a(e,i,a,!1),_=(a&e.childLanes)!==0,be||_){if(_=Wt,_!==null&&(o=Ro(_,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Rs(e,o),un(_,e,o),Hf;Cd(T)||mc(),i=Qf(e,i,a)}else Cd(T)?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,te=Mn(T.nextSibling),Be=i,Pt=!0,yr=null,On=!1,e!==null&&Xp(i,e),i=Yf(i,o.children),i.flags|=4096);return i}return h?(br(),T=o.fallback,h=i.mode,C=e.child,U=C.sibling,o=Vi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,U!==null?T=Vi(U,T):(T=ws(T,h,a,null),T.flags|=2),T.return=i,o.return=i,o.sibling=T,i.child=o,rl(null,o),o=i.child,T=e.child.memoizedState,T===null?T=Gf(a):(h=T.cachePool,h!==null?(C=Se._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=eg(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Kf(e,_,a),i.memoizedState=Ff,rl(e.child,o)):(Ar(i),a=e.child,e=a.sibling,a=Vi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Yf(e,i){return i=sc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function sc(e,i){return e=mn(22,e,null,i),e.lanes=0,e}function Qf(e,i,a){return Vs(i,e.child,null,a),e=Yf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function my(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),uf(e.return,i,a)}function Xf(e,i,a,o,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function py(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var _=de.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,st(de,_),He(e,i,o,a),o=Pt?Go:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&my(e,a,i);else if(e.tag===19)my(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Yu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Xf(i,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Yu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Xf(i,!0,a,null,d,o);break;case"together":Xf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function zi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Cr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(_a(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Vi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Vi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function $f(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&zu(e)))}function KS(e,i,a){switch(i.tag){case 3:De(i,i.stateNode.containerInfo),vr(i,Se,e.memoizedState.cache),Cs();break;case 27:case 5:os(i);break;case 4:De(i,i.stateNode.containerInfo);break;case 10:vr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Tf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ar(i),i.flags|=128,null):(a&i.child.childLanes)!==0?dy(e,i,a):(Ar(i),e=zi(e,i,a),e!==null?e.sibling:null);Ar(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(_a(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return py(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(de,de.current),o)break;return null;case 22:return i.lanes=0,oy(e,i,a,i.pendingProps);case 24:vr(i,Se,e.memoizedState.cache)}return zi(e,i,a)}function gy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)be=!0;else{if(!$f(e,a)&&(i.flags&128)===0)return be=!1,KS(e,i,a);be=(e.flags&131072)!==0}else be=!1,Pt&&(i.flags&1048576)!==0&&Qp(i,Go,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=Ns(i.elementType),i.type=e,typeof e=="function")tf(e)?(o=Ls(e,o),i.tag=1,i=hy(null,i,e,o,a)):(i.tag=0,i=qf(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Ct){i.tag=11,i=ry(null,i,e,o,a);break t}else if(h===I){i.tag=14,i=sy(null,i,e,o,a);break t}}throw i=ie(e)||e,Error(s(306,i,""))}}return i;case 0:return qf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Ls(o,i.pendingProps),hy(e,i,o,h,a);case 3:t:{if(De(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,gf(e,i),Wo(i,o,null,a);var _=i.memoizedState;if(o=_.cache,vr(i,Se,o),o!==d.cache&&cf(i,[Se],a,!0),Zo(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=fy(e,i,o,a);break t}else if(o!==h){h=Cn(Error(s(424)),i),Ko(h),i=fy(e,i,o,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=Mn(e.firstChild),Be=i,Pt=!0,yr=null,On=!0,a=og(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Cs(),o===h){i=zi(e,i,a);break t}He(e,i,o,a)}i=i.child}return i;case 26:return rc(e,i),e===null?(a=C_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pt||(a=i.type,e=i.pendingProps,o=Tc(bt.current).createElement(a),o[ve]=i,o[xe]=e,qe(o,a,e),Ee(o),i.stateNode=o):i.memoizedState=C_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return os(i),e===null&&Pt&&(o=i.stateNode=b_(i.type,i.pendingProps,bt.current),Be=i,On=!0,h=te,Mr(i.type)?(Dd=h,te=Mn(o.firstChild)):te=h),He(e,i,i.pendingProps.children,a),rc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Pt&&((h=o=te)&&(o=SA(o,i.type,i.pendingProps,On),o!==null?(i.stateNode=o,Be=i,te=Mn(o.firstChild),On=!1,h=!0):h=!1),h||_r(i)),os(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,o=d.children,bd(h,d)?o=null:_!==null&&bd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Af(e,i,kS,null,null,a),vl._currentValue=h),rc(e,i),He(e,i,o,a),i.child;case 6:return e===null&&Pt&&((e=a=te)&&(a=AA(a,i.pendingProps,On),a!==null?(i.stateNode=a,Be=i,te=null,e=!0):e=!1),e||_r(i)),null;case 13:return dy(e,i,a);case 4:return De(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Vs(i,null,o,a):He(e,i,o,a),i.child;case 11:return ry(e,i,i.type,i.pendingProps,a);case 7:return He(e,i,i.pendingProps,a),i.child;case 8:return He(e,i,i.pendingProps.children,a),i.child;case 12:return He(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,vr(i,i.type,o.value),He(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ds(i),h=je(h),o=o(h),i.flags|=1,He(e,i,o,a),i.child;case 14:return sy(e,i,i.type,i.pendingProps,a);case 15:return ay(e,i,i.type,i.pendingProps,a);case 19:return py(e,i,a);case 31:return GS(e,i,a);case 22:return oy(e,i,a,i.pendingProps);case 24:return Ds(i),o=je(Se),e===null?(h=df(),h===null&&(h=Wt,d=hf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},pf(i),vr(i,Se,h)):((e.lanes&a)!==0&&(gf(e,i),Wo(i,null,null,a),Zo()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),vr(i,Se,o)):(o=d.cache,vr(i,Se,o),o!==h.cache&&cf(i,[Se],a,!0))),He(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Bi(e){e.flags|=4}function Jf(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(qy())e.flags|=8192;else throw Ms=qu,mf}else e.flags&=-16777217}function yy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!M_(i))if(qy())e.flags|=8192;else throw Ms=qu,mf}function ac(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?fu():536870912,e.lanes|=i,Oa|=i)}function sl(e,i){if(!Pt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function YS(e,i,a){var o=i.pendingProps;switch(sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(i),null;case 1:return ee(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Pi(Se),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ya(i)?Bi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,of())),ee(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Bi(i),d!==null?(ee(i),yy(i,d)):(ee(i),Jf(i,h,null,o,a))):d?d!==e.memoizedState?(Bi(i),ee(i),yy(i,d)):(ee(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(i),ee(i),Jf(i,h,e,o,a)),null;case 27:if(Xs(i),a=bt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Bi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ee(i),null}e=ot.current,ya(i)?$p(i):(e=b_(h,o,a),i.stateNode=e,Bi(i))}return ee(i),null;case 5:if(Xs(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Bi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ee(i),null}if(d=ot.current,ya(i))$p(i);else{var _=Tc(bt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}d[ve]=i,d[xe]=o;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(qe(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(i)}}return ee(i),Jf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Bi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=bt.current,ya(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||d_(e.nodeValue,a)),e||_r(i,!0)}else e=Tc(e).createTextNode(o),e[ve]=i,i.stateNode=e}return ee(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=ya(i),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ve]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ee(i),e=!1}else a=of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(gn(i),i):(gn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ee(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ya(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ee(i),h=!1}else h=of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(gn(i),i):(gn(i),null)}return gn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),ac(i,i.updateQueue),ee(i),null);case 4:return re(),e===null&&vd(i.stateNode.containerInfo),ee(i),null;case 10:return Pi(i.type),ee(i),null;case 19:if(X(de),o=i.memoizedState,o===null)return ee(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)sl(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Yu(e),d!==null){for(i.flags|=128,sl(o,!1),e=d.updateQueue,i.updateQueue=e,ac(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Gp(a,e),a=a.sibling;return st(de,de.current&1|2),Pt&&xi(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&Ze()>hc&&(i.flags|=128,h=!0,sl(o,!1),i.lanes=4194304)}else{if(!h)if(e=Yu(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,ac(i,e),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Pt)return ee(i),null}else 2*Ze()-o.renderingStartTime>hc&&a!==536870912&&(i.flags|=128,h=!0,sl(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(e=o.last,e!==null?e.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ze(),e.sibling=null,a=de.current,st(de,h?a&1|2:a&1),Pt&&xi(i,o.treeForkCount),e):(ee(i),null);case 22:case 23:return gn(i),Ef(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ee(i),i.subtreeFlags&6&&(i.flags|=8192)):ee(i),a=i.updateQueue,a!==null&&ac(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&X(Os),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Pi(Se),ee(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function QS(e,i){switch(sf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Pi(Se),re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Xs(i),null;case 31:if(i.memoizedState!==null){if(gn(i),i.alternate===null)throw Error(s(340));Cs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(gn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Cs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return X(de),null;case 4:return re(),null;case 10:return Pi(i.type),null;case 22:case 23:return gn(i),Ef(),e!==null&&X(Os),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Pi(Se),null;case 25:return null;default:return null}}function _y(e,i){switch(sf(i),i.tag){case 3:Pi(Se),re();break;case 26:case 27:case 5:Xs(i);break;case 4:re();break;case 31:i.memoizedState!==null&&gn(i);break;case 13:gn(i);break;case 19:X(de);break;case 10:Pi(i.type);break;case 22:case 23:gn(i),Ef(),e!==null&&X(Os);break;case 24:Pi(Se)}}function al(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,_=a.inst;o=d(),_.destroy=o}a=a.next}while(a!==h)}}catch(T){Qt(i,i.return,T)}}function Rr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var C=a,U=T;try{U()}catch(F){Qt(h,C,F)}}}o=o.next}while(o!==d)}}catch(F){Qt(i,i.return,F)}}function vy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{ug(i,a)}catch(o){Qt(e,e.return,o)}}}function Ey(e,i,a){a.props=Ls(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Qt(e,i,o)}}function ol(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Qt(e,i,h)}}function _i(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Qt(e,i,h)}else a.current=null}function Ty(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Qt(e,e.return,h)}}function Zf(e,i,a){try{var o=e.stateNode;gA(o,e.type,a,i),o[xe]=i}catch(h){Qt(e,e.return,h)}}function Sy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Mr(e.type)||e.tag===4}function Wf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Mr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function td(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=zn));else if(o!==4&&(o===27&&Mr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(td(e,i,a),e=e.sibling;e!==null;)td(e,i,a),e=e.sibling}function oc(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Mr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(oc(e,i,a),e=e.sibling;e!==null;)oc(e,i,a),e=e.sibling}function Ay(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);qe(i,o,a),i[ve]=e,i[xe]=a}catch(d){Qt(e,e.return,d)}}var ji=!1,Re=!1,ed=!1,by=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function XS(e,i){if(e=e.containerInfo,Sd=Ic,e=Pp(e),Yh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,C=-1,U=0,F=0,Q=e,B=null;e:for(;;){for(var H;Q!==a||h!==0&&Q.nodeType!==3||(T=_+h),Q!==d||o!==0&&Q.nodeType!==3||(C=_+o),Q.nodeType===3&&(_+=Q.nodeValue.length),(H=Q.firstChild)!==null;)B=Q,Q=H;for(;;){if(Q===e)break e;if(B===a&&++U===h&&(T=_),B===d&&++F===o&&(C=_),(H=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=H}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ad={focusedElem:e,selectionRange:a},Ic=!1,Pe=i;Pe!==null;)if(i=Pe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Pe=e;else for(;Pe!==null;){switch(i=Pe,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var lt=Ls(a.type,h);e=o.getSnapshotBeforeUpdate(lt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Qt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)wd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Pe=e;break}Pe=i.return}}function Ry(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:qi(e,a),o&4&&al(5,a);break;case 1:if(qi(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Qt(a,a.return,_)}else{var h=Ls(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Qt(a,a.return,_)}}o&64&&vy(a),o&512&&ol(a,a.return);break;case 3:if(qi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ug(e,i)}catch(_){Qt(a,a.return,_)}}break;case 27:i===null&&o&4&&Ay(a);case 26:case 5:qi(e,a),i===null&&o&4&&Ty(a),o&512&&ol(a,a.return);break;case 12:qi(e,a);break;case 31:qi(e,a),o&4&&Iy(e,a);break;case 13:qi(e,a),o&4&&Dy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=rA.bind(null,a),bA(e,a))));break;case 22:if(o=a.memoizedState!==null||ji,!o){i=i!==null&&i.memoizedState!==null||Re,h=ji;var d=Re;ji=o,(Re=i)&&!d?Fi(e,a,(a.subtreeFlags&8772)!==0):qi(e,a),ji=h,Re=d}break;case 30:break;default:qi(e,a)}}function wy(e){var i=e.alternate;i!==null&&(e.alternate=null,wy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ta(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,sn=!1;function Hi(e,i,a){for(a=a.child;a!==null;)Cy(e,i,a),a=a.sibling}function Cy(e,i,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Ln,a)}catch{}switch(a.tag){case 26:Re||_i(a,i),Hi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||_i(a,i);var o=ae,h=sn;Mr(a.type)&&(ae=a.stateNode,sn=!1),Hi(e,i,a),gl(a.stateNode),ae=o,sn=h;break;case 5:Re||_i(a,i);case 6:if(o=ae,h=sn,ae=null,Hi(e,i,a),ae=o,sn=h,ae!==null)if(sn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(d){Qt(a,i,d)}else try{ae.removeChild(a.stateNode)}catch(d){Qt(a,i,d)}break;case 18:ae!==null&&(sn?(e=ae,v_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ua(e)):v_(ae,a.stateNode));break;case 4:o=ae,h=sn,ae=a.stateNode.containerInfo,sn=!0,Hi(e,i,a),ae=o,sn=h;break;case 0:case 11:case 14:case 15:Rr(2,a,i),Re||Rr(4,a,i),Hi(e,i,a);break;case 1:Re||(_i(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Ey(a,i,o)),Hi(e,i,a);break;case 21:Hi(e,i,a);break;case 22:Re=(o=Re)||a.memoizedState!==null,Hi(e,i,a),Re=o;break;default:Hi(e,i,a)}}function Iy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(a){Qt(i,i.return,a)}}}function Dy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(a){Qt(i,i.return,a)}}function $S(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new by),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new by),i;default:throw Error(s(435,e.tag))}}function lc(e,i){var a=$S(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=sA.bind(null,e,o);o.then(h,h)}})}function an(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Mr(T.type)){ae=T.stateNode,sn=!1;break t}break;case 5:ae=T.stateNode,sn=!1;break t;case 3:case 4:ae=T.stateNode.containerInfo,sn=!0;break t}T=T.return}if(ae===null)throw Error(s(160));Cy(d,_,h),ae=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Oy(i,e),i=i.sibling}var Gn=null;function Oy(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(i,e),on(e),o&4&&(Rr(3,e,e.return),al(3,e),Rr(5,e,e.return));break;case 1:an(i,e),on(e),o&512&&(Re||a===null||_i(a,a.return)),o&64&&ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Gn;if(an(i,e),on(e),o&512&&(Re||a===null||_i(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ri]||d[ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),qe(d,o,a),d[ve]=e,Ee(d),o=d;break t;case"link":var _=O_("link","href",h).get(o+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(o),qe(d,o,a),h.head.appendChild(d);break;case"meta":if(_=O_("meta","content",h).get(o+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(o),qe(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[ve]=e,Ee(d),o=d}e.stateNode=o}else N_(h,e.type,e.stateNode);else e.stateNode=D_(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?N_(h,e.type,e.stateNode):D_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Zf(e,e.memoizedProps,a.memoizedProps)}break;case 27:an(i,e),on(e),o&512&&(Re||a===null||_i(a,a.return)),a!==null&&o&4&&Zf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(an(i,e),on(e),o&512&&(Re||a===null||_i(a,a.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(lt){Qt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Zf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(ed=!0);break;case 6:if(an(i,e),on(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(lt){Qt(e,e.return,lt)}}break;case 3:if(bc=null,h=Gn,Gn=Sc(i.containerInfo),an(i,e),Gn=h,on(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ua(i.containerInfo)}catch(lt){Qt(e,e.return,lt)}ed&&(ed=!1,Ny(e));break;case 4:o=Gn,Gn=Sc(e.stateNode.containerInfo),an(i,e),on(e),Gn=o;break;case 12:an(i,e),on(e);break;case 31:an(i,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lc(e,o)));break;case 13:an(i,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cc=Ze()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lc(e,o)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,U=ji,F=Re;if(ji=U||h,Re=F||C,an(i,e),Re=F,ji=U,on(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||ji||Re||Ps(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var Q=C.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(lt){Qt(C,C.return,lt)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(lt){Qt(C,C.return,lt)}}}else if(i.tag===18){if(a===null){C=i;try{var H=C.stateNode;h?E_(H,!0):E_(C.stateNode,!1)}catch(lt){Qt(C,C.return,lt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,lc(e,a))));break;case 19:an(i,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,lc(e,o)));break;case 30:break;case 21:break;default:an(i,e),on(e)}}function on(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Sy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Wf(e);oc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(rn(_,""),a.flags&=-33);var T=Wf(e);oc(e,T,_);break;case 3:case 4:var C=a.stateNode.containerInfo,U=Wf(e);td(e,U,C);break;default:throw Error(s(161))}}catch(F){Qt(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Ny(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function qi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ry(e,i.alternate,i),i=i.sibling}function Ps(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Rr(4,i,i.return),Ps(i);break;case 1:_i(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ey(i,i.return,a),Ps(i);break;case 27:gl(i.stateNode);case 26:case 5:_i(i,i.return),Ps(i);break;case 22:i.memoizedState===null&&Ps(i);break;case 30:Ps(i);break;default:Ps(i)}e=e.sibling}}function Fi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Fi(h,d,a),al(4,d);break;case 1:if(Fi(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Qt(o,o.return,U)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)lg(C[h],T)}catch(U){Qt(o,o.return,U)}}a&&_&64&&vy(d),ol(d,d.return);break;case 27:Ay(d);case 26:case 5:Fi(h,d,a),a&&o===null&&_&4&&Ty(d),ol(d,d.return);break;case 12:Fi(h,d,a);break;case 31:Fi(h,d,a),a&&_&4&&Iy(h,d);break;case 13:Fi(h,d,a),a&&_&4&&Dy(h,d);break;case 22:d.memoizedState===null&&Fi(h,d,a),ol(d,d.return);break;case 30:break;default:Fi(h,d,a)}i=i.sibling}}function nd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Yo(a))}function id(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Yo(e))}function Kn(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)My(e,i,a,o),i=i.sibling}function My(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Kn(e,i,a,o),h&2048&&al(9,i);break;case 1:Kn(e,i,a,o);break;case 3:Kn(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Yo(e)));break;case 12:if(h&2048){Kn(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Qt(i,i.return,C)}}else Kn(e,i,a,o);break;case 31:Kn(e,i,a,o);break;case 13:Kn(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Kn(e,i,a,o):ll(e,i):d._visibility&2?Kn(e,i,a,o):(d._visibility|=2,Ca(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&nd(_,i);break;case 24:Kn(e,i,a,o),h&2048&&id(i.alternate,i);break;default:Kn(e,i,a,o)}}function Ca(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,C=o,U=_.flags;switch(_.tag){case 0:case 11:case 15:Ca(d,_,T,C,h),al(8,_);break;case 23:break;case 22:var F=_.stateNode;_.memoizedState!==null?F._visibility&2?Ca(d,_,T,C,h):ll(d,_):(F._visibility|=2,Ca(d,_,T,C,h)),h&&U&2048&&nd(_.alternate,_);break;case 24:Ca(d,_,T,C,h),h&&U&2048&&id(_.alternate,_);break;default:Ca(d,_,T,C,h)}i=i.sibling}}function ll(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:ll(a,o),h&2048&&nd(o.alternate,o);break;case 24:ll(a,o),h&2048&&id(o.alternate,o);break;default:ll(a,o)}i=i.sibling}}var ul=8192;function Ia(e,i,a){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)Vy(e,i,a),e=e.sibling}function Vy(e,i,a){switch(e.tag){case 26:Ia(e,i,a),e.flags&ul&&e.memoizedState!==null&&PA(a,Gn,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,i,a);break;case 3:case 4:var o=Gn;Gn=Sc(e.stateNode.containerInfo),Ia(e,i,a),Gn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ul,ul=16777216,Ia(e,i,a),ul=o):Ia(e,i,a));break;default:Ia(e,i,a)}}function xy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function cl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Pe=o,Py(o,e)}xy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ly(e),e=e.sibling}function Ly(e){switch(e.tag){case 0:case 11:case 15:cl(e),e.flags&2048&&Rr(9,e,e.return);break;case 3:cl(e);break;case 12:cl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,uc(e)):cl(e);break;default:cl(e)}}function uc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Pe=o,Py(o,e)}xy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Rr(8,i,i.return),uc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,uc(i));break;default:uc(i)}e=e.sibling}}function Py(e,i){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Rr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Pe=o;else t:for(a=e;Pe!==null;){o=Pe;var h=o.sibling,d=o.return;if(wy(o),o===a){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}var JS={getCacheForType:function(e){var i=je(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return je(Se).controller.signal}},ZS=typeof WeakMap=="function"?WeakMap:Map,qt=0,Wt=null,Dt=null,Nt=0,Yt=0,yn=null,wr=!1,Da=!1,rd=!1,Gi=0,ce=0,Cr=0,ks=0,sd=0,_n=0,Oa=0,hl=null,ln=null,ad=!1,cc=0,ky=0,hc=1/0,fc=null,Ir=null,Ne=0,Dr=null,Na=null,Ki=0,od=0,ld=null,Uy=null,fl=0,ud=null;function vn(){return(qt&2)!==0&&Nt!==0?Nt&-Nt:G.T!==null?pd():du()}function zy(){if(_n===0)if((Nt&536870912)===0||Pt){var e=cs;cs<<=1,(cs&3932160)===0&&(cs=262144),_n=e}else _n=536870912;return e=pn.current,e!==null&&(e.flags|=32),_n}function un(e,i,a){(e===Wt&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),Or(e,Nt,_n,!1)),hs(e,a),((qt&2)===0||e!==Wt)&&(e===Wt&&((qt&2)===0&&(ks|=a),ce===4&&Or(e,Nt,_n,!1)),vi(e))}function By(e,i,a){if((qt&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Pn(e,i),h=o?eA(e,i):hd(e,i,!0),d=o;do{if(h===0){Da&&!o&&Or(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!WS(a)){h=hd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=hl;var C=T.current.memoizedState.isDehydrated;if(C&&(Ma(T,_).flags|=256),_=hd(T,_,!1),_!==2){if(rd&&!C){T.errorRecoveryDisabledLanes|=d,ks|=d,h=4;break t}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ma(e,0),Or(e,i,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Or(o,i,_n,!wr);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=cc+300-Ze(),10<h)){if(Or(o,i,_n,!wr),ei(o,0,!0)!==0)break t;Ki=i,o.timeoutHandle=y_(jy.bind(null,o,a,ln,fc,ad,i,_n,ks,Oa,wr,d,"Throttled",-0,0),h);break t}jy(o,a,ln,fc,ad,i,_n,ks,Oa,wr,d,null,-0,0)}}break}while(!0);vi(e)}function jy(e,i,a,o,h,d,_,T,C,U,F,Q,B,H){if(e.timeoutHandle=-1,Q=i.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},Vy(i,d,Q);var lt=(d&62914560)===d?cc-Ze():(d&4194048)===d?ky-Ze():0;if(lt=kA(Q,lt),lt!==null){Ki=d,e.cancelPendingCommit=lt(Xy.bind(null,e,i,d,a,o,h,_,T,C,F,Q,null,B,H)),Or(e,d,_,!U);return}}Xy(e,i,d,a,o,h,_,T,C)}function WS(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Or(e,i,a,o){i&=~sd,i&=~ks,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-he(h),_=1<<d;o[d]=-1,h&=~_}a!==0&&fs(e,a,i)}function dc(){return(qt&6)===0?(dl(0),!1):!0}function cd(){if(Dt!==null){if(Yt===0)var e=Dt.return;else e=Dt,Li=Is=null,wf(e),Sa=null,Xo=0,e=Dt;for(;e!==null;)_y(e.alternate,e),e=e.return;Dt=null}}function Ma(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,vA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ki=0,cd(),Wt=e,Dt=a=Vi(e.current,null),Nt=i,Yt=0,yn=null,wr=!1,Da=Pn(e,i),rd=!1,Oa=_n=sd=ks=Cr=ce=0,ln=hl=null,ad=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-he(o),d=1<<h;i|=e[h],o&=~d}return Gi=i,xu(),a}function Hy(e,i){At=null,G.H=il,i===Ta||i===Hu?(i=rg(),Yt=3):i===mf?(i=rg(),Yt=4):Yt=i===Hf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,Dt===null&&(ce=1,nc(e,Cn(i,e.current)))}function qy(){var e=pn.current;return e===null?!0:(Nt&4194048)===Nt?Nn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Nn:!1}function Fy(){var e=G.H;return G.H=il,e===null?il:e}function Gy(){var e=G.A;return G.A=JS,e}function mc(){ce=4,wr||(Nt&4194048)!==Nt&&pn.current!==null||(Da=!0),(Cr&134217727)===0&&(ks&134217727)===0||Wt===null||Or(Wt,Nt,_n,!1)}function hd(e,i,a){var o=qt;qt|=2;var h=Fy(),d=Gy();(Wt!==e||Nt!==i)&&(fc=null,Ma(e,i)),i=!1;var _=ce;t:do try{if(Yt!==0&&Dt!==null){var T=Dt,C=yn;switch(Yt){case 8:cd(),_=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(i=!0);var U=Yt;if(Yt=0,yn=null,Va(e,T,C,U),a&&Da){_=0;break t}break;default:U=Yt,Yt=0,yn=null,Va(e,T,C,U)}}tA(),_=ce;break}catch(F){Hy(e,F)}while(!0);return i&&e.shellSuspendCounter++,Li=Is=null,qt=o,G.H=h,G.A=d,Dt===null&&(Wt=null,Nt=0,xu()),_}function tA(){for(;Dt!==null;)Ky(Dt)}function eA(e,i){var a=qt;qt|=2;var o=Fy(),h=Gy();Wt!==e||Nt!==i?(fc=null,hc=Ze()+500,Ma(e,i)):Da=Pn(e,i);t:do try{if(Yt!==0&&Dt!==null){i=Dt;var d=yn;e:switch(Yt){case 1:Yt=0,yn=null,Va(e,i,d,1);break;case 2:case 9:if(ng(d)){Yt=0,yn=null,Yy(i);break}i=function(){Yt!==2&&Yt!==9||Wt!==e||(Yt=7),vi(e)},d.then(i,i);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:ng(d)?(Yt=0,yn=null,Yy(i)):(Yt=0,yn=null,Va(e,i,d,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var T=Dt;if(_?M_(_):T.stateNode.complete){Yt=0,yn=null;var C=T.sibling;if(C!==null)Dt=C;else{var U=T.return;U!==null?(Dt=U,pc(U)):Dt=null}break e}}Yt=0,yn=null,Va(e,i,d,5);break;case 6:Yt=0,yn=null,Va(e,i,d,6);break;case 8:cd(),ce=6;break t;default:throw Error(s(462))}}nA();break}catch(F){Hy(e,F)}while(!0);return Li=Is=null,G.H=o,G.A=h,qt=a,Dt!==null?0:(Wt=null,Nt=0,xu(),ce)}function nA(){for(;Dt!==null&&!Bh();)Ky(Dt)}function Ky(e){var i=gy(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,i===null?pc(e):Dt=i}function Yy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=cy(a,i,i.pendingProps,i.type,void 0,Nt);break;case 11:i=cy(a,i,i.pendingProps,i.type.render,i.ref,Nt);break;case 5:wf(i);default:_y(a,i),i=Dt=Gp(i,Gi),i=gy(a,i,Gi)}e.memoizedProps=e.pendingProps,i===null?pc(e):Dt=i}function Va(e,i,a,o){Li=Is=null,wf(i),Sa=null,Xo=0;var h=i.return;try{if(FS(e,h,i,a,Nt)){ce=1,nc(e,Cn(a,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;ce=1,nc(e,Cn(a,e.current)),Dt=null;return}i.flags&32768?(Pt||o===1?e=!0:Da||(Nt&536870912)!==0?e=!1:(wr=e=!0,(o===2||o===9||o===3||o===6)&&(o=pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Qy(i,e)):pc(i)}function pc(e){var i=e;do{if((i.flags&32768)!==0){Qy(i,wr);return}e=i.return;var a=YS(i.alternate,i,Gi);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);ce===0&&(ce=5)}function Qy(e,i){do{var a=QS(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);ce=6,Dt=null}function Xy(e,i,a,o,h,d,_,T,C){e.cancelPendingCommit=null;do gc();while(Ne!==0);if((qt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Zh,qh(e,a,d,_,T,C),e===Wt&&(Dt=Wt=null,Nt=0),Na=i,Dr=e,Ki=a,od=d,ld=h,Uy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,aA(ar,function(){return t_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=rt.p,rt.p=2,_=qt,qt|=4;try{XS(e,i,a)}finally{qt=_,rt.p=h,G.T=o}}Ne=1,$y(),Jy(),Zy()}}function $y(){if(Ne===1){Ne=0;var e=Dr,i=Na,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=rt.p;rt.p=2;var h=qt;qt|=4;try{Oy(i,e);var d=Ad,_=Pp(e.containerInfo),T=d.focusedElem,C=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Lp(T.ownerDocument.documentElement,T)){if(C!==null&&Yh(T)){var U=C.start,F=C.end;if(F===void 0&&(F=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(F,T.value.length);else{var Q=T.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var H=B.getSelection(),lt=T.textContent.length,pt=Math.min(C.start,lt),Zt=C.end===void 0?pt:Math.min(C.end,lt);!H.extend&&pt>Zt&&(_=Zt,Zt=pt,pt=_);var x=xp(T,pt),O=xp(T,Zt);if(x&&O&&(H.rangeCount!==1||H.anchorNode!==x.node||H.anchorOffset!==x.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var k=Q.createRange();k.setStart(x.node,x.offset),H.removeAllRanges(),pt>Zt?(H.addRange(k),H.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),H.addRange(k))}}}}for(Q=[],H=T;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var Y=Q[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ic=!!Sd,Ad=Sd=null}finally{qt=h,rt.p=o,G.T=a}}e.current=i,Ne=2}}function Jy(){if(Ne===2){Ne=0;var e=Dr,i=Na,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=rt.p;rt.p=2;var h=qt;qt|=4;try{Ry(e,i.alternate,i)}finally{qt=h,rt.p=o,G.T=a}}Ne=3}}function Zy(){if(Ne===4||Ne===3){Ne=0,au();var e=Dr,i=Na,a=Ki,o=Uy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ne=5:(Ne=0,Na=Dr=null,Wy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ir=null),Di(a),i=i.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Ln,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=G.T,h=rt.p,rt.p=2,G.T=null;try{for(var d=e.onRecoverableError,_=0;_<o.length;_++){var T=o[_];d(T.value,{componentStack:T.stack})}}finally{G.T=i,rt.p=h}}(Ki&3)!==0&&gc(),vi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ud?fl++:(fl=0,ud=e):fl=0,dl(0)}}function Wy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Yo(i)))}function gc(){return $y(),Jy(),Zy(),t_()}function t_(){if(Ne!==5)return!1;var e=Dr,i=od;od=0;var a=Di(Ki),o=G.T,h=rt.p;try{rt.p=32>a?32:a,G.T=null,a=ld,ld=null;var d=Dr,_=Ki;if(Ne=0,Na=Dr=null,Ki=0,(qt&6)!==0)throw Error(s(331));var T=qt;if(qt|=4,Ly(d.current),My(d,d.current,_,a),qt=T,dl(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Ln,d)}catch{}return!0}finally{rt.p=h,G.T=o,Wy(e,i)}}function e_(e,i,a){i=Cn(a,i),i=jf(e.stateNode,i,2),e=Sr(e,i,2),e!==null&&(hs(e,2),vi(e))}function Qt(e,i,a){if(e.tag===3)e_(e,e,a);else for(;i!==null;){if(i.tag===3){e_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ir===null||!Ir.has(o))){e=Cn(a,e),a=ny(2),o=Sr(i,a,2),o!==null&&(iy(a,o,i,e),hs(o,2),vi(o));break}}i=i.return}}function fd(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new ZS;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(rd=!0,h.add(a),e=iA.bind(null,e,i,a),i.then(e,e))}function iA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Nt&a)===a&&(ce===4||ce===3&&(Nt&62914560)===Nt&&300>Ze()-cc?(qt&2)===0&&Ma(e,0):sd|=a,Oa===Nt&&(Oa=0)),vi(e)}function n_(e,i){i===0&&(i=fu()),e=Rs(e,i),e!==null&&(hs(e,i),vi(e))}function rA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),n_(e,a)}function sA(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),n_(e,a)}function aA(e,i){return Oe(e,i)}var yc=null,xa=null,dd=!1,_c=!1,md=!1,Nr=0;function vi(e){e!==xa&&e.next===null&&(xa===null?yc=xa=e:xa=xa.next=e),_c=!0,dd||(dd=!0,lA())}function dl(e,i){if(!md&&_c){md=!0;do for(var a=!1,o=yc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var _=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-he(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,a_(o,d))}else d=Nt,d=ei(o,o===Wt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Pn(o,d)||(a=!0,a_(o,d));o=o.next}while(a);md=!1}}function oA(){i_()}function i_(){_c=dd=!1;var e=0;Nr!==0&&_A()&&(e=Nr);for(var i=Ze(),a=null,o=yc;o!==null;){var h=o.next,d=r_(o,i);d===0?(o.next=null,a===null?yc=h:a.next=h,h===null&&(xa=a)):(a=o,(e!==0||(d&3)!==0)&&(_c=!0)),o=h}Ne!==0&&Ne!==5||dl(e),Nr!==0&&(Nr=0)}function r_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-he(d),T=1<<_,C=h[_];C===-1?((T&a)===0||(T&o)!==0)&&(h[_]=Hh(T,i)):C<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,a=Nt,a=ei(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&sr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Pn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&sr(o),Di(a)){case 2:case 8:a=Ao;break;case 32:a=ar;break;case 268435456:a=ou;break;default:a=ar}return o=s_.bind(null,e),a=Oe(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&sr(o),e.callbackPriority=2,e.callbackNode=null,2}function s_(e,i){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(gc()&&e.callbackNode!==a)return null;var o=Nt;return o=ei(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(By(e,o,i),r_(e,Ze()),e.callbackNode!=null&&e.callbackNode===a?s_.bind(null,e):null)}function a_(e,i){if(gc())return null;By(e,i,!0)}function lA(){EA(function(){(qt&6)!==0?Oe(So,oA):i_()})}function pd(){if(Nr===0){var e=va;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Nr=e}return Nr}function o_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ra(""+e)}function l_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function uA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=o_((h[xe]||null).action),_=o.submitter;_&&(i=(i=_[xe]||null)?o_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new fi("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Nr!==0){var C=_?l_(h,_):new FormData(h);Lf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?l_(h,_):new FormData(h),Lf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var gd=0;gd<Jh.length;gd++){var yd=Jh[gd],cA=yd.toLowerCase(),hA=yd[0].toUpperCase()+yd.slice(1);Fn(cA,"on"+hA)}Fn(zp,"onAnimationEnd"),Fn(Bp,"onAnimationIteration"),Fn(jp,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(CS,"onTransitionRun"),Fn(IS,"onTransitionStart"),Fn(DS,"onTransitionCancel"),Fn(Hp,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function u_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var _=o.length-1;0<=_;_--){var T=o[_],C=T.instance,U=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=U;try{d(h)}catch(F){Vu(F)}h.currentTarget=null,d=C}else for(_=0;_<o.length;_++){if(T=o[_],C=T.instance,U=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=U;try{d(h)}catch(F){Vu(F)}h.currentTarget=null,d=C}}}}function Ot(e,i){var a=i[Ws];a===void 0&&(a=i[Ws]=new Set);var o=e+"__bubble";a.has(o)||(c_(i,e,2,!1),a.add(o))}function _d(e,i,a){var o=0;i&&(o|=4),c_(a,e,o,i)}var vc="_reactListening"+Math.random().toString(36).slice(2);function vd(e){if(!e[vc]){e[vc]=!0,wo.forEach(function(a){a!=="selectionchange"&&(fA.has(a)||_d(a,!1,e),_d(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[vc]||(i[vc]=!0,_d("selectionchange",!1,i))}}function c_(e,i,a,o){switch(z_(i)){case 2:var h=BA;break;case 8:h=jA;break;default:h=xd}a=h.bind(null,i,a,e),h=void 0,!ys||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Ed(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=o.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=si(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){o=d=_;continue t}T=T.parentNode}}o=o.return}fr(function(){var U=d,F=An(a),Q=[];t:{var B=qp.get(e);if(B!==void 0){var H=fi,lt=e;switch(e){case"keypress":if(vs(a)===0)break t;case"keydown":case"keyup":H=Ou;break;case"focusin":lt="focus",H=Ts;break;case"focusout":lt="blur",H=Ts;break;case"beforeblur":case"afterblur":H=Ts;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=p;break;case zp:case Bp:case jp:H=Au;break;case Hp:H=A;break;case"scroll":case"scrollend":H=Uo;break;case"wheel":H=j;break;case"copy":case"cut":case"paste":H=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Mi;break;case"toggle":case"beforetoggle":H=St}var pt=(i&4)!==0,Zt=!pt&&(e==="scroll"||e==="scrollend"),x=pt?B!==null?B+"Capture":null:B;pt=[];for(var O=U,k;O!==null;){var Y=O;if(k=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||k===null||x===null||(Y=Bn(O,x),Y!=null&&pt.push(pl(O,Y,k))),Zt)break;O=O.return}0<pt.length&&(B=new H(B,lt,null,a,F),Q.push({event:B,listeners:pt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==Lo&&(lt=a.relatedTarget||a.fromElement)&&(si(lt)||lt[ii]))break t;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(lt=a.relatedTarget||a.toElement,H=U,lt=lt?si(lt):null,lt!==null&&(Zt=u(lt),pt=lt.tag,lt!==Zt||pt!==5&&pt!==27&&pt!==6)&&(lt=null)):(H=null,lt=U),H!==lt)){if(pt=zo,Y="onMouseLeave",x="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Mi,Y="onPointerLeave",x="onPointerEnter",O="pointer"),Zt=H==null?B:hn(H),k=lt==null?B:hn(lt),B=new pt(Y,O+"leave",H,a,F),B.target=Zt,B.relatedTarget=k,Y=null,si(F)===U&&(pt=new pt(x,O+"enter",lt,a,F),pt.target=k,pt.relatedTarget=Zt,Y=pt),Zt=Y,H&&lt)e:{for(pt=dA,x=H,O=lt,k=0,Y=x;Y;Y=pt(Y))k++;Y=0;for(var ft=O;ft;ft=pt(ft))Y++;for(;0<k-Y;)x=pt(x),k--;for(;0<Y-k;)O=pt(O),Y--;for(;k--;){if(x===O||O!==null&&x===O.alternate){pt=x;break e}x=pt(x),O=pt(O)}pt=null}else pt=null;H!==null&&h_(Q,B,H,pt,!1),lt!==null&&Zt!==null&&h_(Q,Zt,lt,pt,!0)}}t:{if(B=U?hn(U):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Bt=Ip;else if(wp(B))if(Dp)Bt=bS;else{Bt=SS;var ct=TS}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?U&&ia(U.elementType)&&(Bt=Ip):Bt=AS;if(Bt&&(Bt=Bt(e,U))){Cp(Q,Bt,a,F);break t}ct&&ct(e,B,U),e==="focusout"&&U&&B.type==="number"&&U.memoizedProps.value!=null&&Mo(B,"number",B.value)}switch(ct=U?hn(U):window,e){case"focusin":(wp(ct)||ct.contentEditable==="true")&&(ha=ct,Qh=U,Fo=null);break;case"focusout":Fo=Qh=ha=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,kp(Q,a,F);break;case"selectionchange":if(wS)break;case"keydown":case"keyup":kp(Q,a,F)}var Rt;if(Ht)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else ca?Ss(e,a)&&(Mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(pi&&a.locale!=="ko"&&(ca||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&ca&&(Rt=ko()):(hi=F,Po="value"in hi?hi.value:hi.textContent,ca=!0)),ct=Ec(U,Mt),0<ct.length&&(Mt=new mi(Mt,e,null,a,F),Q.push({event:Mt,listeners:ct}),Rt?Mt.data=Rt:(Rt=ua(a),Rt!==null&&(Mt.data=Rt)))),(Rt=Rn?yS(e,a):_S(e,a))&&(Mt=Ec(U,"onBeforeInput"),0<Mt.length&&(ct=new mi("onBeforeInput","beforeinput",null,a,F),Q.push({event:ct,listeners:Mt}),ct.data=Rt)),uA(Q,e,U,a,F)}u_(Q,i)})}function pl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Ec(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Bn(e,a),h!=null&&o.unshift(pl(e,h,d)),h=Bn(e,i),h!=null&&o.push(pl(e,h,d))),e.tag===3)return o;e=e.return}return[]}function dA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function h_(e,i,a,o,h){for(var d=i._reactName,_=[];a!==null&&a!==o;){var T=a,C=T.alternate,U=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||U===null||(C=U,h?(U=Bn(a,d),U!=null&&_.unshift(pl(a,U,C))):h||(U=Bn(a,d),U!=null&&_.push(pl(a,U,C)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var mA=/\r\n?/g,pA=/\u0000|\uFFFD/g;function f_(e){return(typeof e=="string"?e:""+e).replace(mA,`
`).replace(pA,"")}function d_(e,i){return i=f_(i),f_(e)===i}function Jt(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&rn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,a,o);break;case"style":xo(e,o,d);break;case"data":if(i!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ra(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Jt(e,i,"name",h.name,h,null),Jt(e,i,"formEncType",h.formEncType,h,null),Jt(e,i,"formMethod",h.formMethod,h,null),Jt(e,i,"formTarget",h.formTarget,h,null)):(Jt(e,i,"encType",h.encType,h,null),Jt(e,i,"method",h.method,h,null),Jt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ra(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=zn);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ra(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),ea(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ea(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eu.get(a)||a,ea(e,a,o))}}function Td(e,i,a,o,h,d){switch(a){case"style":xo(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[xe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ea(e,a,o)}}}function qe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,d,_,a,null)}}h&&Jt(e,i,"srcSet",a.srcSet,a,null),o&&Jt(e,i,"src",a.src,a,null);return;case"input":Ot("invalid",e);var T=d=_=h=null,C=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":_=F;break;case"checked":C=F;break;case"defaultChecked":U=F;break;case"value":d=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Jt(e,i,o,F,a,null)}}yu(e,d,T,C,U,_,h,!1);return;case"select":Ot("invalid",e),o=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:Jt(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!o,i!=null?lr(e,!!o,i,!1):a!=null&&lr(e,!!o,a,!0);return;case"textarea":Ot("invalid",e),d=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Jt(e,i,_,T,a,null)}ur(e,o,h,d);return;case"option":for(C in a)a.hasOwnProperty(C)&&(o=a[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Jt(e,i,C,o,a,null));return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<ml.length;o++)Ot(ml[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,U,o,a,null)}return;default:if(ia(i)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&Td(e,i,F,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Jt(e,i,T,o,a,null))}function gA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,U=null,F=null;for(H in a){var Q=a[H];if(a.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Q;default:o.hasOwnProperty(H)||Jt(e,i,H,null,o,Q)}}for(var B in o){var H=o[B];if(Q=a[B],o.hasOwnProperty(B)&&(H!=null||Q!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":U=H;break;case"defaultChecked":F=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==Q&&Jt(e,i,B,H,o,Q)}}na(e,_,T,C,U,F,d,h);return;case"select":H=_=T=B=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(d)||Jt(e,i,d,null,o,C)}for(h in o)if(d=o[h],C=a[h],o.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&Jt(e,i,h,d,o,C)}i=T,a=_,o=H,B!=null?lr(e,!!a,B,!1):!!o!=!!a&&(i!=null?lr(e,!!a,i,!0):lr(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Jt(e,i,T,null,o,h)}for(_ in o)if(h=o[_],d=a[_],o.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Jt(e,i,_,h,o,d)}_u(e,B,H);return;case"option":for(var lt in a)B=a[lt],a.hasOwnProperty(lt)&&B!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Jt(e,i,lt,null,o,B));for(C in o)B=o[C],H=a[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Jt(e,i,C,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)B=a[pt],a.hasOwnProperty(pt)&&B!=null&&!o.hasOwnProperty(pt)&&Jt(e,i,pt,null,o,B);for(U in o)if(B=o[U],H=a[U],o.hasOwnProperty(U)&&B!==H&&(B!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Jt(e,i,U,B,o,H)}return;default:if(ia(i)){for(var Zt in a)B=a[Zt],a.hasOwnProperty(Zt)&&B!==void 0&&!o.hasOwnProperty(Zt)&&Td(e,i,Zt,void 0,o,B);for(F in o)B=o[F],H=a[F],!o.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||Td(e,i,F,B,o,H);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!o.hasOwnProperty(x)&&Jt(e,i,x,null,o,B);for(Q in o)B=o[Q],H=a[Q],!o.hasOwnProperty(Q)||B===H||B==null&&H==null||Jt(e,i,Q,B,o,H)}function m_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&m_(_)){for(_=0,T=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],U=C.startTime;if(U>T)break;var F=C.transferSize,Q=C.initiatorType;F&&m_(Q)&&(C=C.responseEnd,_+=F*(C<T?1:(T-U)/(C-U)))}if(--o,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Sd=null,Ad=null;function Tc(e){return e.nodeType===9?e:e.ownerDocument}function p_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function bd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rd=null;function _A(){var e=window.event;return e&&e.type==="popstate"?e===Rd?!1:(Rd=e,!0):(Rd=null,!1)}var y_=typeof setTimeout=="function"?setTimeout:void 0,vA=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,EA=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(e){return __.resolve(null).then(e).catch(TA)}:y_;function TA(e){setTimeout(function(){throw e})}function Mr(e){return e==="head"}function v_(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ua(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")gl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,gl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[ri]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&gl(e.ownerDocument.body);a=h}while(a);Ua(i)}function E_(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function wd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wd(a),ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function SA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ri])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function AA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Mn(e.nextSibling),e===null))return null;return e}function T_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Mn(e.nextSibling),e===null))return null;return e}function Cd(e){return e.data==="$?"||e.data==="$~"}function Id(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function bA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Dd=null;function S_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Mn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function A_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function b_(e,i,a){switch(i=Tc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function gl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ta(e)}var Vn=new Map,R_=new Set;function Sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=rt.d;rt.d={f:RA,r:wA,D:CA,C:IA,L:DA,m:OA,X:MA,S:NA,M:VA};function RA(){var e=Yi.f(),i=dc();return e||i}function wA(e){var i=Sn(e);i!==null&&i.tag===5&&i.type==="form"?Hg(i):Yi.r(e)}var La=typeof document>"u"?null:document;function w_(e,i,a){var o=La;if(o&&typeof i=="string"&&i){var h=nn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),R_.has(h)||(R_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),qe(i,"link",e),Ee(i),o.head.appendChild(i)))}}function CA(e){Yi.D(e),w_("dns-prefetch",e,null)}function IA(e,i){Yi.C(e,i),w_("preconnect",e,i)}function DA(e,i,a){Yi.L(e,i,a);var o=La;if(o&&e&&i){var h='link[rel="preload"][as="'+nn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+nn(a.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var d=h;switch(i){case"style":d=Pa(e);break;case"script":d=ka(e)}Vn.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Vn.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(yl(d))||i==="script"&&o.querySelector(_l(d))||(i=o.createElement("link"),qe(i,"link",e),Ee(i),o.head.appendChild(i)))}}function OA(e,i){Yi.m(e,i);var a=La;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ka(e)}if(!Vn.has(d)&&(e=S({rel:"modulepreload",href:e},i),Vn.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_l(d)))return}o=a.createElement("link"),qe(o,"link",e),Ee(o),a.head.appendChild(o)}}}function NA(e,i,a){Yi.S(e,i,a);var o=La;if(o&&e){var h=ai(o).hoistableStyles,d=Pa(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(yl(d)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Vn.get(d))&&Od(e,a);var C=_=o.createElement("link");Ee(C),qe(C,"link",e),C._p=new Promise(function(U,F){C.onload=U,C.onerror=F}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ac(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function MA(e,i){Yi.X(e,i);var a=La;if(a&&e){var o=ai(a).hoistableScripts,h=ka(e),d=o.get(h);d||(d=a.querySelector(_l(h)),d||(e=S({src:e,async:!0},i),(i=Vn.get(h))&&Nd(e,i),d=a.createElement("script"),Ee(d),qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function VA(e,i){Yi.M(e,i);var a=La;if(a&&e){var o=ai(a).hoistableScripts,h=ka(e),d=o.get(h);d||(d=a.querySelector(_l(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=Vn.get(h))&&Nd(e,i),d=a.createElement("script"),Ee(d),qe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function C_(e,i,a,o){var h=(h=bt.current)?Sc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Pa(a.href),a=ai(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Pa(a.href);var d=ai(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(yl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Vn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(e,a),d||xA(h,e,a,_.state))),i&&o===null)throw Error(s(528,""));return _}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ka(a),a=ai(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Pa(e){return'href="'+nn(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function I_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function xA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),qe(i,"link",a),Ee(i),e.head.appendChild(i))}function ka(e){return'[src="'+nn(e)+'"]'}function _l(e){return"script[async]"+e}function D_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+nn(a.href)+'"]');if(o)return i.instance=o,Ee(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),qe(o,"style",h),Ac(o,a.precedence,e),i.instance=o;case"stylesheet":h=Pa(a.href);var d=e.querySelector(yl(h));if(d)return i.state.loading|=4,i.instance=d,Ee(d),d;o=I_(a),(h=Vn.get(h))&&Od(o,h),d=(e.ownerDocument||e).createElement("link"),Ee(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),qe(d,"link",o),i.state.loading|=4,Ac(d,a.precedence,e),i.instance=d;case"script":return d=ka(a.src),(h=e.querySelector(_l(d)))?(i.instance=h,Ee(h),h):(o=a,(h=Vn.get(d))&&(o=S({},a),Nd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),qe(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Ac(o,a.precedence,e));return i.instance}function Ac(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Od(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Nd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var bc=null;function O_(e,i,a){if(bc===null){var o=new Map,h=bc=new Map;h.set(a,o)}else h=bc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ri]||d[ve]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=o.get(_);T?T.push(d):o.set(_,[d])}}return o}function N_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function LA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function M_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function PA(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Pa(o.href),d=i.querySelector(yl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Rc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ee(d);return}d=i.ownerDocument||i,o=I_(o),(h=Vn.get(h))&&Od(o,h),d=d.createElement("link"),Ee(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),qe(d,"link",o),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Rc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Md=0;function kA(e,i){return e.stylesheets&&e.count===0&&Cc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Md===0&&(Md=62500*yA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Md?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wc=null;function Cc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wc=new Map,i.forEach(UA,e),wc=null,Rc.call(e))}function UA(e,i){if(!(i.state.loading&4)){var a=wc.get(e);if(a)var o=a.get(null);else{a=new Map,wc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||o,d===o&&a.set(null,h),a.set(_,h),this.count++,o=Rc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var vl={$$typeof:it,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function zA(e,i,a,o,h,d,_,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function V_(e,i,a,o,h,d,_,T,C,U,F,Q){return e=new zA(e,i,a,_,C,U,F,Q,T),i=1,d===!0&&(i|=24),d=mn(3,null,null,i),e.current=d,d.stateNode=e,i=hf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},pf(d),e}function x_(e){return e?(e=ma,e):ma}function L_(e,i,a,o,h,d){h=x_(h),o.context===null?o.context=h:o.pendingContext=h,o=Tr(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Sr(e,o,i),a!==null&&(un(a,e,i),Jo(a,e,i))}function P_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Vd(e,i){P_(e,i),(e=e.alternate)&&P_(e,i)}function k_(e){if(e.tag===13||e.tag===31){var i=Rs(e,67108864);i!==null&&un(i,e,67108864),Vd(e,67108864)}}function U_(e){if(e.tag===13||e.tag===31){var i=vn();i=ds(i);var a=Rs(e,i);a!==null&&un(a,e,i),Vd(e,i)}}var Ic=!0;function BA(e,i,a,o){var h=G.T;G.T=null;var d=rt.p;try{rt.p=2,xd(e,i,a,o)}finally{rt.p=d,G.T=h}}function jA(e,i,a,o){var h=G.T;G.T=null;var d=rt.p;try{rt.p=8,xd(e,i,a,o)}finally{rt.p=d,G.T=h}}function xd(e,i,a,o){if(Ic){var h=Ld(o);if(h===null)Ed(e,i,o,Dc,a),B_(e,o);else if(qA(h,e,i,a,o))o.stopPropagation();else if(B_(e,o),i&4&&-1<HA.indexOf(e)){for(;h!==null;){var d=Sn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ti(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-he(_);T.entanglements[1]|=C,_&=~C}vi(d),(qt&6)===0&&(hc=Ze()+500,dl(0))}}break;case 31:case 13:T=Rs(d,2),T!==null&&un(T,d,2),dc(),Vd(d,2)}if(d=Ld(o),d===null&&Ed(e,i,o,Dc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Ed(e,i,o,null,a)}}function Ld(e){return e=An(e),Pd(e)}var Dc=null;function Pd(e){if(Dc=null,e=si(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Dc=e,null}function z_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(us()){case So:return 2;case Ao:return 8;case ar:case jh:return 32;case ou:return 268435456;default:return 32}default:return 32}}var kd=!1,Vr=null,xr=null,Lr=null,El=new Map,Tl=new Map,Pr=[],HA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(e,i){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":El.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(i.pointerId)}}function Sl(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Sn(i),i!==null&&k_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function qA(e,i,a,o,h){switch(i){case"focusin":return Vr=Sl(Vr,e,i,a,o,h),!0;case"dragenter":return xr=Sl(xr,e,i,a,o,h),!0;case"mouseover":return Lr=Sl(Lr,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return El.set(d,Sl(El.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,Tl.set(d,Sl(Tl.get(d)||null,e,i,a,o,h)),!0}return!1}function j_(e){var i=si(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,kn(e.priority,function(){U_(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,kn(e.priority,function(){U_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Ld(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Lo=o,a.target.dispatchEvent(o),Lo=null}else return i=Sn(a),i!==null&&k_(i),e.blockedOn=a,!1;i.shift()}return!0}function H_(e,i,a){Oc(e)&&a.delete(i)}function FA(){kd=!1,Vr!==null&&Oc(Vr)&&(Vr=null),xr!==null&&Oc(xr)&&(xr=null),Lr!==null&&Oc(Lr)&&(Lr=null),El.forEach(H_),Tl.forEach(H_)}function Nc(e,i){e.blockedOn===i&&(e.blockedOn=null,kd||(kd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,FA)))}var Mc=null;function q_(e){Mc!==e&&(Mc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mc===e&&(Mc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Pd(o||a)===null)continue;break}var d=Sn(a);d!==null&&(e.splice(i,3),i-=3,Lf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ua(e){function i(C){return Nc(C,e)}Vr!==null&&Nc(Vr,e),xr!==null&&Nc(xr,e),Lr!==null&&Nc(Lr,e),El.forEach(i),Tl.forEach(i);for(var a=0;a<Pr.length;a++){var o=Pr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Pr.length&&(a=Pr[0],a.blockedOn===null);)j_(a),a.blockedOn===null&&Pr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],_=h[xe]||null;if(typeof d=="function")_||q_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[xe]||null)T=_.formAction;else if(Pd(h)!==null)continue}else T=_.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),q_(a)}}}function F_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Ud(e){this._internalRoot=e}Vc.prototype.render=Ud.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=vn();L_(a,o,e,i,null,null)},Vc.prototype.unmount=Ud.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;L_(e.current,2,null,e,null,null),dc(),i[ii]=null}};function Vc(e){this._internalRoot=e}Vc.prototype.unstable_scheduleHydration=function(e){if(e){var i=du();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Pr.length&&i!==0&&i<Pr[a].priority;a++);Pr.splice(a,0,e),a===0&&j_(e)}};var G_=t.version;if(G_!=="19.2.3")throw Error(s(527,G_,"19.2.3"));rt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var GA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Ln=xc.inject(GA),Ue=xc}catch{}}return bl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=Zg,d=Wg,_=ty;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=V_(e,1,!1,null,null,a,o,null,h,d,_,F_),e[ii]=i.current,vd(e),new Ud(i)},bl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=Zg,_=Wg,T=ty,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=V_(e,1,!0,i,a??null,o,h,C,d,_,T,F_),i.context=x_(null),a=i.current,o=vn(),o=ds(o),h=Tr(o),h.callback=null,Sr(a,h,o),a=o,i.current.lanes=a,hs(i,a),vi(i),e[ii]=i.current,vd(e),new Vc(i)},bl.version="19.2.3",bl}var ev;function nb(){if(ev)return jd.exports;ev=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),jd.exports=eb(),jd.exports}var ib=nb();const rb=kE(ib);var nv="popstate";function sb(r={}){function t(l,u){let{pathname:f="/",search:m="",hash:g=""}=Gs(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),om("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let f=l.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=l.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:Ul(u))}function s(l,u){xn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return ob(t,n,s,r)}function oe(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function xn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ab(){return Math.random().toString(36).substring(2,10)}function iv(r,t){return{usr:r.state,key:r.key,idx:t}}function om(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Gs(t):t,state:n,key:t&&t.key||s||ab()}}function Ul({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Gs(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function ob(r,t,n,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let K=E(),et=K==null?null:K-y;y=K,g&&g({action:m,location:$.location,delta:et})}function D(K,et){m="PUSH";let tt=om($.location,K,et);n&&n(tt,K),y=E()+1;let it=iv(tt,y),Ct=$.createHref(tt);try{f.pushState(it,"",Ct)}catch(It){if(It instanceof DOMException&&It.name==="DataCloneError")throw It;l.location.assign(Ct)}u&&g&&g({action:m,location:$.location,delta:1})}function z(K,et){m="REPLACE";let tt=om($.location,K,et);n&&n(tt,K),y=E();let it=iv(tt,y),Ct=$.createHref(tt);f.replaceState(it,"",Ct),u&&g&&g({action:m,location:$.location,delta:0})}function Z(K){return lb(K)}let $={get action(){return m},get location(){return r(l,f)},listen(K){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(nv,S),g=K,()=>{l.removeEventListener(nv,S),g=null}},createHref(K){return t(l,K)},createURL:Z,encodeLocation(K){let et=Z(K);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:D,replace:z,go(K){return f.go(K)}};return $}function lb(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),oe(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ul(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function UE(r,t,n="/"){return ub(r,t,n,!1)}function ub(r,t,n,s){let l=typeof t=="string"?Gs(t):t,u=Wi(l.pathname||"/",n);if(u==null)return null;let f=zE(r);cb(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=Tb(u);m=vb(f[g],y,s)}return m}function zE(r,t=[],n=[],s="",l=!1){let u=(f,m,g=l,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;oe(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=Ji([s,E.relativePath]),D=n.concat(E);f.children&&f.children.length>0&&(oe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),zE(f.children,t,D,S,g)),!(f.path==null&&!f.index)&&t.push({path:S,score:yb(S,f.index),routesMeta:D})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of BE(f.path))u(f,m,!0,g)}),t}function BE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=BE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),l&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function cb(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:_b(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var hb=/^:[\w-]+$/,fb=3,db=2,mb=1,pb=10,gb=-2,rv=r=>r==="*";function yb(r,t){let n=r.split("/"),s=n.length;return n.some(rv)&&(s+=gb),t&&(s+=db),n.filter(l=>!rv(l)).reduce((l,u)=>l+(hb.test(u)?fb:u===""?mb:pb),s)}function _b(r,t){return r.length===t.length&&r.slice(0,-1).every((s,l)=>s===t[l])?r[r.length-1]-t[t.length-1]:0}function vb(r,t,n=!1){let{routesMeta:s}=r,l={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=eh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),D=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=eh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(l,S.params),f.push({params:l,pathname:Ji([u,S.pathname]),pathnameBase:Rb(Ji([u,S.pathnameBase])),route:D}),S.pathnameBase!=="/"&&(u=Ji([u,S.pathnameBase]))}return f}function eh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Eb(r.path,r.caseSensitive,r.end),l=t.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},D)=>{if(E==="*"){let Z=m[D]||"";f=u.slice(0,u.length-Z.length).replace(/(.)\/+$/,"$1")}const z=m[D];return S&&!z?y[E]=void 0:y[E]=(z||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function Eb(r,t=!1,n=!0){xn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function Tb(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Wi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var Sb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Ab(r,t="/"){let{pathname:n,search:s="",hash:l=""}=typeof r=="string"?Gs(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=sv(n.substring(1),"/"):u=sv(n,t)):u=t,{pathname:u,search:wb(s),hash:Cb(l)}}function sv(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Gd(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bb(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function km(r){let t=bb(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Um(r,t,n,s=!1){let l;typeof r=="string"?l=Gs(r):(l={...r},oe(!l.pathname||!l.pathname.includes("?"),Gd("?","pathname","search",l)),oe(!l.pathname||!l.pathname.includes("#"),Gd("#","pathname","hash",l)),oe(!l.search||!l.search.includes("#"),Gd("#","search","hash",l)));let u=r===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=n;else{let S=t.length-1;if(!s&&f.startsWith("..")){let D=f.split("/");for(;D[0]==="..";)D.shift(),S-=1;l.pathname=D.join("/")}m=S>=0?t[S]:"/"}let g=Ab(l,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Ji=r=>r.join("/").replace(/\/\/+/g,"/"),Rb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),wb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Cb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Ib=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Db(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Ob(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var jE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function HE(r,t){let n=r;if(typeof n!="string"||!Sb.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,l=!1;if(jE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Wi(f.pathname,t);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:l=!0}catch{xn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qE=["POST","PUT","PATCH","DELETE"];new Set(qE);var Nb=["GET",...qE];new Set(Nb);var ao=q.createContext(null);ao.displayName="DataRouter";var vh=q.createContext(null);vh.displayName="DataRouterState";var Mb=q.createContext(!1),FE=q.createContext({isTransitioning:!1});FE.displayName="ViewTransition";var Vb=q.createContext(new Map);Vb.displayName="Fetchers";var xb=q.createContext(null);xb.displayName="Await";var En=q.createContext(null);En.displayName="Navigation";var Ql=q.createContext(null);Ql.displayName="Location";var Ii=q.createContext({outlet:null,matches:[],isDataRoute:!1});Ii.displayName="Route";var zm=q.createContext(null);zm.displayName="RouteError";var GE="REACT_ROUTER_ERROR",Lb="REDIRECT",Pb="ROUTE_ERROR_RESPONSE";function kb(r){if(r.startsWith(`${GE}:${Lb}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Ub(r){if(r.startsWith(`${GE}:${Pb}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Ib(t.status,t.statusText,t.data)}catch{}}function zb(r,{relative:t}={}){oe(oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(En),{hash:l,pathname:u,search:f}=$l(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Ji([n,u])),s.createHref({pathname:m,search:f,hash:l})}function oo(){return q.useContext(Ql)!=null}function ss(){return oe(oo(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Ql).location}var KE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YE(r){q.useContext(En).static||q.useLayoutEffect(r)}function Xl(){let{isDataRoute:r}=q.useContext(Ii);return r?Zb():Bb()}function Bb(){oe(oo(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(ao),{basename:t,navigator:n}=q.useContext(En),{matches:s}=q.useContext(Ii),{pathname:l}=ss(),u=JSON.stringify(km(s)),f=q.useRef(!1);return YE(()=>{f.current=!0}),q.useCallback((g,y={})=>{if(xn(f.current,KE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=Um(g,JSON.parse(u),l,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Ji([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,l,r])}q.createContext(null);function $l(r,{relative:t}={}){let{matches:n}=q.useContext(Ii),{pathname:s}=ss(),l=JSON.stringify(km(n));return q.useMemo(()=>Um(r,JSON.parse(l),s,t==="path"),[r,l,s,t])}function jb(r,t){return QE(r,t)}function QE(r,t,n,s,l){oe(oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext(En),{matches:f}=q.useContext(Ii),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let tt=S&&S.path||"";$E(y,!S||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let D=ss(),z;if(t){let tt=typeof t=="string"?Gs(t):t;oe(E==="/"||tt.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),z=tt}else z=D;let Z=z.pathname||"/",$=Z;if(E!=="/"){let tt=E.replace(/^\//,"").split("/");$="/"+Z.replace(/^\//,"").split("/").slice(tt.length).join("/")}let K=UE(r,{pathname:$});xn(S||K!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),xn(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=Kb(K&&K.map(tt=>Object.assign({},tt,{params:Object.assign({},g,tt.params),pathname:Ji([E,u.encodeLocation?u.encodeLocation(tt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?E:Ji([E,u.encodeLocation?u.encodeLocation(tt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:tt.pathnameBase])})),f,n,s,l);return t&&et?q.createElement(Ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...z},navigationType:"POP"}},et):et}function Hb(){let r=Jb(),t=Db(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),n?q.createElement("pre",{style:l},n):null,f)}var qb=q.createElement(Hb,null),XE=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=Ub(r.digest);n&&(r=n)}let t=r!==void 0?q.createElement(Ii.Provider,{value:this.props.routeContext},q.createElement(zm.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?q.createElement(Fb,{error:r},t):t}};XE.contextType=Mb;var Kd=new WeakMap;function Fb({children:r,error:t}){let{basename:n}=q.useContext(En);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=kb(t.digest);if(s){let l=Kd.get(t);if(l)throw l;let u=HE(s.location,n);if(jE&&!Kd.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Kd.set(t,f),f}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Gb({routeContext:r,match:t,children:n}){let s=q.useContext(ao);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(Ii.Provider,{value:r},n)}function Kb(r,t=[],n=null,s=null,l=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);oe(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=E),S.route.id){let{loaderData:D,errors:z}=n,Z=S.route.loader&&!D.hasOwnProperty(S.route.id)&&(!z||z[S.route.id]===void 0);if(S.route.lazy||Z){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&s?(E,S)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Ob(n.matches),errorInfo:S})}:void 0;return u.reduceRight((E,S,D)=>{let z,Z=!1,$=null,K=null;n&&(z=f&&S.route.id?f[S.route.id]:void 0,$=S.route.errorElement||qb,m&&(g<0&&D===0?($E("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Z=!0,K=null):g===D&&(Z=!0,K=S.route.hydrateFallbackElement||null)));let et=t.concat(u.slice(0,D+1)),tt=()=>{let it;return z?it=$:Z?it=K:S.route.Component?it=q.createElement(S.route.Component,null):S.route.element?it=S.route.element:it=E,q.createElement(Gb,{match:S,routeContext:{outlet:E,matches:et,isDataRoute:n!=null},children:it})};return n&&(S.route.ErrorBoundary||S.route.errorElement||D===0)?q.createElement(XE,{location:n.location,revalidation:n.revalidation,component:$,error:z,children:tt(),routeContext:{outlet:null,matches:et,isDataRoute:!0},onError:y}):tt()},null)}function Bm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yb(r){let t=q.useContext(ao);return oe(t,Bm(r)),t}function Qb(r){let t=q.useContext(vh);return oe(t,Bm(r)),t}function Xb(r){let t=q.useContext(Ii);return oe(t,Bm(r)),t}function jm(r){let t=Xb(r),n=t.matches[t.matches.length-1];return oe(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function $b(){return jm("useRouteId")}function Jb(){let r=q.useContext(zm),t=Qb("useRouteError"),n=jm("useRouteError");return r!==void 0?r:t.errors?.[n]}function Zb(){let{router:r}=Yb("useNavigate"),t=jm("useNavigate"),n=q.useRef(!1);return YE(()=>{n.current=!0}),q.useCallback(async(l,u={})=>{xn(n.current,KE),n.current&&(typeof l=="number"?await r.navigate(l):await r.navigate(l,{fromRouteId:t,...u}))},[r,t])}var av={};function $E(r,t,n){!t&&!av[r]&&(av[r]=!0,xn(!1,n))}q.memo(Wb);function Wb({routes:r,future:t,state:n,onError:s}){return QE(r,void 0,n,s,t)}function JE({to:r,replace:t,state:n,relative:s}){oe(oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=q.useContext(En);xn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(Ii),{pathname:f}=ss(),m=Xl(),g=Um(r,km(u),f,s==="path"),y=JSON.stringify(g);return q.useEffect(()=>{m(JSON.parse(y),{replace:t,state:n,relative:s})},[m,y,s,t,n]),null}function za(r){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t1({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:l,static:u=!1,unstable_useTransitions:f}){oe(!oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=q.useMemo(()=>({basename:m,navigator:l,static:u,unstable_useTransitions:f,future:{}}),[m,l,u,f]);typeof n=="string"&&(n=Gs(n));let{pathname:y="/",search:E="",hash:S="",state:D=null,key:z="default"}=n,Z=q.useMemo(()=>{let $=Wi(y,m);return $==null?null:{location:{pathname:$,search:E,hash:S,state:D,key:z},navigationType:s}},[m,y,E,S,D,z,s]);return xn(Z!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),Z==null?null:q.createElement(En.Provider,{value:g},q.createElement(Ql.Provider,{children:t,value:Z}))}function e1({children:r,location:t}){return jb(lm(r),t)}function lm(r,t=[]){let n=[];return q.Children.forEach(r,(s,l)=>{if(!q.isValidElement(s))return;let u=[...t,l];if(s.type===q.Fragment){n.push.apply(n,lm(s.props.children,u));return}oe(s.type===za,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=lm(s.props.children,u)),n.push(f)}),n}var qc="get",Fc="application/x-www-form-urlencoded";function Eh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function n1(r){return Eh(r)&&r.tagName.toLowerCase()==="button"}function i1(r){return Eh(r)&&r.tagName.toLowerCase()==="form"}function r1(r){return Eh(r)&&r.tagName.toLowerCase()==="input"}function s1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function a1(r,t){return r.button===0&&(!t||t==="_self")&&!s1(r)}var Lc=null;function o1(){if(Lc===null)try{new FormData(document.createElement("form"),0),Lc=!1}catch{Lc=!0}return Lc}var l1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yd(r){return r!=null&&!l1.has(r)?(xn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fc}"`),null):r}function u1(r,t){let n,s,l,u,f;if(i1(r)){let m=r.getAttribute("action");s=m?Wi(m,t):null,n=r.getAttribute("method")||qc,l=Yd(r.getAttribute("enctype"))||Fc,u=new FormData(r)}else if(n1(r)||r1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?Wi(g,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||qc,l=Yd(r.getAttribute("formenctype"))||Yd(m.getAttribute("enctype"))||Fc,u=new FormData(m,r),!o1()){let{name:y,type:E,value:S}=r;if(E==="image"){let D=y?`${y}.`:"";u.append(`${D}x`,"0"),u.append(`${D}y`,"0")}else y&&u.append(y,S)}}else{if(Eh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qc,s=null,l=Fc,f=r}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function c1(r,t,n,s){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${s}`:l.pathname=`${l.pathname}.${s}`:l.pathname==="/"?l.pathname=`_root.${s}`:t&&Wi(l.pathname,t)==="/"?l.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function h1(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function d1(r,t,n){let s=await Promise.all(r.map(async l=>{let u=t.routes[l.route.id];if(u){let f=await h1(u,n);return f.links?f.links():[]}return[]}));return y1(s.flat(1).filter(f1).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function ov(r,t,n,s,l,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function m1(r,t,{includeHydrateFallback:n}={}){return p1(r.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function p1(r){return[...new Set(r)]}function g1(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function y1(r,t){let n=new Set;return new Set(t),r.reduce((s,l)=>{let u=JSON.stringify(g1(l));return n.has(u)||(n.add(u),s.push({key:u,link:l})),s},[])}function ZE(){let r=q.useContext(ao);return Hm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function _1(){let r=q.useContext(vh);return Hm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var qm=q.createContext(void 0);qm.displayName="FrameworkContext";function WE(){let r=q.useContext(qm);return Hm(r,"You must render this element inside a <HydratedRouter> element"),r}function v1(r,t){let n=q.useContext(qm),[s,l]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=t,D=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=et=>{et.forEach(tt=>{f(tt.isIntersecting)})},K=new IntersectionObserver($,{threshold:.5});return D.current&&K.observe(D.current),()=>{K.disconnect()}}},[r]),q.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let z=()=>{l(!0)},Z=()=>{l(!1),f(!1)};return n?r!=="intent"?[u,D,{}]:[u,D,{onFocus:Rl(m,z),onBlur:Rl(g,Z),onMouseEnter:Rl(y,z),onMouseLeave:Rl(E,Z),onTouchStart:Rl(S,z)}]:[!1,D,{}]}function Rl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function E1({page:r,...t}){let{router:n}=ZE(),s=q.useMemo(()=>UE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement(S1,{page:r,matches:s,...t}):null}function T1(r){let{manifest:t,routeModules:n}=WE(),[s,l]=q.useState([]);return q.useEffect(()=>{let u=!1;return d1(r,t,n).then(f=>{u||l(f)}),()=>{u=!0}},[r,t,n]),s}function S1({page:r,matches:t,...n}){let s=ss(),{future:l,manifest:u,routeModules:f}=WE(),{basename:m}=ZE(),{loaderData:g,matches:y}=_1(),E=q.useMemo(()=>ov(r,t,y,u,s,"data"),[r,t,y,u,s]),S=q.useMemo(()=>ov(r,t,y,u,s,"assets"),[r,t,y,u,s]),D=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let $=new Set,K=!1;if(t.forEach(tt=>{let it=u.routes[tt.route.id];!it||!it.hasLoader||(!E.some(Ct=>Ct.route.id===tt.route.id)&&tt.route.id in g&&f[tt.route.id]?.shouldRevalidate||it.hasClientLoader?K=!0:$.add(tt.route.id))}),$.size===0)return[];let et=c1(r,m,l.unstable_trailingSlashAwareDataRequests,"data");return K&&$.size>0&&et.searchParams.set("_routes",t.filter(tt=>$.has(tt.route.id)).map(tt=>tt.route.id).join(",")),[et.pathname+et.search]},[m,l.unstable_trailingSlashAwareDataRequests,g,s,u,E,t,r,f]),z=q.useMemo(()=>m1(S,u),[S,u]),Z=T1(S);return q.createElement(q.Fragment,null,D.map($=>q.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...n})),z.map($=>q.createElement("link",{key:$,rel:"modulepreload",href:$,...n})),Z.map(({key:$,link:K})=>q.createElement("link",{key:$,nonce:n.nonce,...K,crossOrigin:K.crossOrigin??n.crossOrigin})))}function A1(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var b1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{b1&&(window.__reactRouterVersion="7.13.0")}catch{}function R1({basename:r,children:t,unstable_useTransitions:n,window:s}){let l=q.useRef();l.current==null&&(l.current=sb({window:s,v5Compat:!0}));let u=l.current,[f,m]=q.useState({action:u.action,location:u.location}),g=q.useCallback(y=>{n===!1?m(y):q.startTransition(()=>m(y))},[n]);return q.useLayoutEffect(()=>u.listen(g),[u,g]),q.createElement(t1,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var tT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eT=q.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:D,...z},Z){let{basename:$,unstable_useTransitions:K}=q.useContext(En),et=typeof y=="string"&&tT.test(y),tt=HE(y,$);y=tt.to;let it=zb(y,{relative:l}),[Ct,It,wt]=v1(s,z),I=D1(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:l,viewTransition:S,unstable_defaultShouldRevalidate:D,unstable_useTransitions:K});function b(V){t&&t(V),V.defaultPrevented||I(V)}let R=q.createElement("a",{...z,...wt,href:tt.absoluteURL||it,onClick:tt.isExternal||u?t:b,ref:A1(Z,It),target:g,"data-discover":!et&&n==="render"?"true":void 0});return Ct&&!et?q.createElement(q.Fragment,null,R,q.createElement(E1,{page:it})):R});eT.displayName="Link";var w1=q.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=$l(f,{relative:y.relative}),D=ss(),z=q.useContext(vh),{navigator:Z,basename:$}=q.useContext(En),K=z!=null&&x1(S)&&m===!0,et=Z.encodeLocation?Z.encodeLocation(S).pathname:S.pathname,tt=D.pathname,it=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;n||(tt=tt.toLowerCase(),it=it?it.toLowerCase():null,et=et.toLowerCase()),it&&$&&(it=Wi(it,$)||it);const Ct=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let It=tt===et||!l&&tt.startsWith(et)&&tt.charAt(Ct)==="/",wt=it!=null&&(it===et||!l&&it.startsWith(et)&&it.charAt(et.length)==="/"),I={isActive:It,isPending:wt,isTransitioning:K},b=It?t:void 0,R;typeof s=="function"?R=s(I):R=[s,It?"active":null,wt?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(I):u;return q.createElement(eT,{...y,"aria-current":b,className:R,ref:E,style:V,to:f,viewTransition:m},typeof g=="function"?g(I):g)});w1.displayName="NavLink";var C1=q.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:l,state:u,method:f=qc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:D,...z},Z)=>{let{unstable_useTransitions:$}=q.useContext(En),K=M1(),et=V1(m,{relative:y}),tt=f.toLowerCase()==="get"?"get":"post",it=typeof m=="string"&&tT.test(m),Ct=It=>{if(g&&g(It),It.defaultPrevented)return;It.preventDefault();let wt=It.nativeEvent.submitter,I=wt?.getAttribute("formmethod")||f,b=()=>K(wt||It.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:l,state:u,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:D});$&&n!==!1?q.startTransition(()=>b()):b()};return q.createElement("form",{ref:Z,method:tt,action:et,onSubmit:s?g:Ct,...z,"data-discover":!it&&r==="render"?"true":void 0})});C1.displayName="Form";function I1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nT(r){let t=q.useContext(ao);return oe(t,I1(r)),t}function D1(r,{target:t,replace:n,state:s,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=Xl(),E=ss(),S=$l(r,{relative:u});return q.useCallback(D=>{if(a1(D,t)){D.preventDefault();let z=n!==void 0?n:Ul(E)===Ul(S),Z=()=>y(r,{replace:z,state:s,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?q.startTransition(()=>Z()):Z()}},[E,y,S,n,s,t,r,l,u,f,m,g])}var O1=0,N1=()=>`__${String(++O1)}__`;function M1(){let{router:r}=nT("useSubmit"),{basename:t}=q.useContext(En),n=$b(),s=r.fetch,l=r.navigate;return q.useCallback(async(u,f={})=>{let{action:m,method:g,encType:y,formData:E,body:S}=u1(u,t);if(f.navigate===!1){let D=f.fetcherKey||N1();await s(D,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await l(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,l,t,n])}function V1(r,{relative:t}={}){let{basename:n}=q.useContext(En),s=q.useContext(Ii);oe(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...$l(r||".",{relative:t})},f=ss();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ji([n,u.pathname])),Ul(u)}function x1(r,{relative:t}={}){let n=q.useContext(FE);oe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=nT("useViewTransitionState"),l=$l(r,{relative:t});if(!n.isTransitioning)return!1;let u=Wi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Wi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return eh(l.pathname,f)!=null||eh(l.pathname,u)!=null}const L1=()=>{};var lv={};const iT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},P1=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],f=r[n++],m=r[n++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return t.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],f=l+1<r.length,m=f?r[l+1]:0,g=l+2<r.length,y=g?r[l+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let D=(m&15)<<2|y>>6,z=y&63;g||(z=64,f||(D=64)),s.push(n[E],n[S],n[D],n[z])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(iT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):P1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],m=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const S=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||m==null||y==null||S==null)throw new k1;const D=u<<2|m>>4;if(s.push(D),y!==64){const z=m<<4&240|y>>2;if(s.push(z),S!==64){const Z=y<<6&192|S;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class k1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U1=function(r){const t=iT(r);return rT.encodeByteArray(t,!0)},nh=function(r){return U1(r).replace(/\./g,"")},sT=function(r){try{return rT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function z1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const B1=()=>z1().__FIREBASE_DEFAULTS__,j1=()=>{if(typeof process>"u"||typeof lv>"u")return;const r=lv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},H1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&sT(r[1]);return t&&JSON.parse(t)},Th=()=>{try{return L1()||B1()||j1()||H1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},aT=r=>Th()?.emulatorHosts?.[r],q1=r=>{const t=aT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},oT=()=>Th()?.config,lT=r=>Th()?.[`_${r}`];class F1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function lo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uT(r){return(await fetch(r,{credentials:"include"})).ok}function G1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[nh(JSON.stringify(n)),nh(JSON.stringify(f)),""].join(".")}const Ml={};function K1(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ml))Ml[t]?r.emulator.push(t):r.prod.push(t);return r}function Y1(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let uv=!1;function cT(r,t){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||Ml[r]===t||Ml[r]||uv)return;Ml[r]=t;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",u=K1().prod.length>0;function f(){const D=document.getElementById(s);D&&D.remove()}function m(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function g(D,z){D.setAttribute("width","24"),D.setAttribute("id",z),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{uv=!0,f()},D}function E(D,z){D.setAttribute("id",z),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=Y1(s),z=n("text"),Z=document.getElementById(z)||document.createElement("span"),$=n("learnmore"),K=document.getElementById($)||document.createElement("a"),et=n("preprendIcon"),tt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const it=D.element;m(it),E(K,$);const Ct=y();g(tt,et),it.append(tt,Z,K,Ct),document.body.appendChild(it)}u?(Z.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function X1(){const r=Th()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function J1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Z1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W1(){const r=Je();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function tR(){return!X1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eR(){try{return typeof indexedDB=="object"}catch{return!1}}function nR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const iR="FirebaseError";class rr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=iR,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],f=u?rR(u,s):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new rr(l,m,s)}}function rR(r,t){return r.replace(sR,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const sR=/\{\$([^}]+)}/g;function aR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Bs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const u=r[l],f=t[l];if(cv(u)&&cv(f)){if(!Bs(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function cv(r){return r!==null&&typeof r=="object"}function Zl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Cl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function Il(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function oR(r,t){const n=new lR(r,t);return n.subscribe.bind(n)}class lR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");uR(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=Qd),l.error===void 0&&(l.error=Qd),l.complete===void 0&&(l.complete=Qd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Qd(){}function Jn(r){return r&&r._delegate?r._delegate:r}class js{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Us="[DEFAULT]";class cR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new F1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(fR(t))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=Us){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Us){return this.instances.has(t)}getOptions(t=Us){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&t(u,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:hR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Us){return this.component?this.component.multipleInstances?t:Us:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hR(r){return r===Us?void 0:r}function fR(r){return r.instantiationMode==="EAGER"}class dR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new cR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const mR={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},pR=Vt.INFO,gR={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},yR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=gR[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Fm{constructor(t){this.name=t,this._logLevel=pR,this._logHandler=yR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?mR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const _R=(r,t)=>t.some(n=>r instanceof n);let hv,fv;function vR(){return hv||(hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ER(){return fv||(fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hT=new WeakMap,um=new WeakMap,fT=new WeakMap,Xd=new WeakMap,Gm=new WeakMap;function TR(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Fr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&hT.set(n,r)}).catch(()=>{}),Gm.set(t,r),t}function SR(r){if(um.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});um.set(r,t)}let cm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return um.get(r);if(t==="objectStoreNames")return r.objectStoreNames||fT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function AR(r){cm=r(cm)}function bR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call($d(this),t,...n);return fT.set(s,t.sort?t.sort():[t]),Fr(s)}:ER().includes(r)?function(...t){return r.apply($d(this),t),Fr(hT.get(this))}:function(...t){return Fr(r.apply($d(this),t))}}function RR(r){return typeof r=="function"?bR(r):(r instanceof IDBTransaction&&SR(r),_R(r,vR())?new Proxy(r,cm):r)}function Fr(r){if(r instanceof IDBRequest)return TR(r);if(Xd.has(r))return Xd.get(r);const t=RR(r);return t!==r&&(Xd.set(r,t),Gm.set(t,r)),t}const $d=r=>Gm.get(r);function wR(r,t,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(r,t),m=Fr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Fr(f.result),g.oldVersion,g.newVersion,Fr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const CR=["get","getKey","getAll","getAllKeys","count"],IR=["put","add","delete","clear"],Jd=new Map;function dv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Jd.get(t))return Jd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=IR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||CR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,l?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),l&&g.done]))[0]};return Jd.set(t,u),u}AR(r=>({...r,get:(t,n,s)=>dv(t,n)||r.get(t,n,s),has:(t,n)=>!!dv(t,n)||r.has(t,n)}));class DR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function OR(r){return r.getComponent()?.type==="VERSION"}const hm="@firebase/app",mv="0.14.7";const tr=new Fm("@firebase/app"),NR="@firebase/app-compat",MR="@firebase/analytics-compat",VR="@firebase/analytics",xR="@firebase/app-check-compat",LR="@firebase/app-check",PR="@firebase/auth",kR="@firebase/auth-compat",UR="@firebase/database",zR="@firebase/data-connect",BR="@firebase/database-compat",jR="@firebase/functions",HR="@firebase/functions-compat",qR="@firebase/installations",FR="@firebase/installations-compat",GR="@firebase/messaging",KR="@firebase/messaging-compat",YR="@firebase/performance",QR="@firebase/performance-compat",XR="@firebase/remote-config",$R="@firebase/remote-config-compat",JR="@firebase/storage",ZR="@firebase/storage-compat",WR="@firebase/firestore",tw="@firebase/ai",ew="@firebase/firestore-compat",nw="firebase",iw="12.8.0";const fm="[DEFAULT]",rw={[hm]:"fire-core",[NR]:"fire-core-compat",[VR]:"fire-analytics",[MR]:"fire-analytics-compat",[LR]:"fire-app-check",[xR]:"fire-app-check-compat",[PR]:"fire-auth",[kR]:"fire-auth-compat",[UR]:"fire-rtdb",[zR]:"fire-data-connect",[BR]:"fire-rtdb-compat",[jR]:"fire-fn",[HR]:"fire-fn-compat",[qR]:"fire-iid",[FR]:"fire-iid-compat",[GR]:"fire-fcm",[KR]:"fire-fcm-compat",[YR]:"fire-perf",[QR]:"fire-perf-compat",[XR]:"fire-rc",[$R]:"fire-rc-compat",[JR]:"fire-gcs",[ZR]:"fire-gcs-compat",[WR]:"fire-fst",[ew]:"fire-fst-compat",[tw]:"fire-vertex","fire-js":"fire-js",[nw]:"fire-js-all"};const ih=new Map,sw=new Map,dm=new Map;function pv(r,t){try{r.container.addComponent(t)}catch(n){tr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Za(r){const t=r.name;if(dm.has(t))return tr.debug(`There were multiple attempts to register component ${t}.`),!1;dm.set(t,r);for(const n of ih.values())pv(n,r);for(const n of sw.values())pv(n,r);return!0}function Km(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Yn(r){return r==null?!1:r.settings!==void 0}const aw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new Jl("app","Firebase",aw);class ow{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}const uo=iw;function dT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:fm,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Gr.create("bad-app-name",{appName:String(l)});if(n||(n=oT()),!n)throw Gr.create("no-options");const u=ih.get(l);if(u){if(Bs(n,u.options)&&Bs(s,u.config))return u;throw Gr.create("duplicate-app",{appName:l})}const f=new dR(l);for(const g of dm.values())f.addComponent(g);const m=new ow(n,s,f);return ih.set(l,m),m}function mT(r=fm){const t=ih.get(r);if(!t&&r===fm&&oT())return dT();if(!t)throw Gr.create("no-app",{appName:r});return t}function Kr(r,t,n){let s=rw[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const f=[`Unable to register library "${s}" with version "${t}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),tr.warn(f.join(" "));return}Za(new js(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const lw="firebase-heartbeat-database",uw=1,zl="firebase-heartbeat-store";let Zd=null;function pT(){return Zd||(Zd=wR(lw,uw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Gr.create("idb-open",{originalErrorMessage:r.message})})),Zd}async function cw(r){try{const n=(await pT()).transaction(zl),s=await n.objectStore(zl).get(gT(r));return await n.done,s}catch(t){if(t instanceof rr)tr.warn(t.message);else{const n=Gr.create("idb-get",{originalErrorMessage:t?.message});tr.warn(n.message)}}}async function gv(r,t){try{const s=(await pT()).transaction(zl,"readwrite");await s.objectStore(zl).put(t,gT(r)),await s.done}catch(n){if(n instanceof rr)tr.warn(n.message);else{const s=Gr.create("idb-set",{originalErrorMessage:n?.message});tr.warn(s.message)}}}function gT(r){return`${r.name}!${r.options.appId}`}const hw=1024,fw=30;class dw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>fw){const l=gw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){tr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yv(),{heartbeatsToSend:n,unsentEntries:s}=mw(this._heartbeatsCache.heartbeats),l=nh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return tr.warn(t),""}}}function yv(){return new Date().toISOString().substring(0,10)}function mw(r,t=hw){const n=[];let s=r.slice();for(const l of r){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),_v(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),_v(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class pw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eR()?nR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function _v(r){return nh(JSON.stringify({version:2,heartbeats:r})).length}function gw(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function yw(r){Za(new js("platform-logger",t=>new DR(t),"PRIVATE")),Za(new js("heartbeat",t=>new dw(t),"PRIVATE")),Kr(hm,mv,r),Kr(hm,mv,"esm2020"),Kr("fire-js","")}yw("");var _w="firebase",vw="12.8.0";Kr(_w,vw,"app");function yT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ew=yT,_T=new Jl("auth","Firebase",yT());const rh=new Fm("@firebase/auth");function Tw(r,...t){rh.logLevel<=Vt.WARN&&rh.warn(`Auth (${uo}): ${r}`,...t)}function Gc(r,...t){rh.logLevel<=Vt.ERROR&&rh.error(`Auth (${uo}): ${r}`,...t)}function $n(r,...t){throw Ym(r,...t)}function Si(r,...t){return Ym(r,...t)}function vT(r,t,n){const s={...Ew(),[t]:n};return new Jl("auth","Firebase",s).create(t,{appName:r.name})}function Yr(r){return vT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ym(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return _T.create(r,...t)}function gt(r,t,...n){if(!r)throw Ym(t,...n)}function Qi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Gc(t),new Error(t)}function er(r,t){r||Qi(t)}function mm(){return typeof self<"u"&&self.location?.href||""}function Sw(){return vv()==="http:"||vv()==="https:"}function vv(){return typeof self<"u"&&self.location?.protocol||null}function Aw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Sw()||J1()||"connection"in navigator)?navigator.onLine:!0}function bw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Wl{constructor(t,n){this.shortDelay=t,this.longDelay=n,er(n>t,"Short delay should be less than long delay!"),this.isMobile=Q1()||Z1()}get(){return Aw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qm(r,t){er(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class ET{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ww=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Cw=new Wl(3e4,6e4);function Ks(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function as(r,t,n,s,l={}){return TT(r,l,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Zl({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return $1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&lo(r.emulatorConfig.host)&&(y.credentials="include"),ET.fetch()(await ST(r,r.config.apiHost,n,m),y)})}async function TT(r,t,n){r._canInitEmulator=!1;const s={...Rw,...t};try{const l=new Dw(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Pc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Pc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Pc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw vT(r,E,y);$n(r,E)}}catch(l){if(l instanceof rr)throw l;$n(r,"network-request-failed",{message:String(l)})}}async function Sh(r,t,n,s,l={}){const u=await as(r,t,n,s,l);return"mfaPendingCredential"in u&&$n(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function ST(r,t,n,s){const l=`${t}${n}?${s}`,u=r,f=u.config.emulator?Qm(r.config,l):`${r.config.apiScheme}://${l}`;return ww.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Iw(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Si(this.auth,"network-request-failed")),Cw.get())})}}function Pc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Si(r,t,s);return l.customData._tokenResponse=n,l}function Ev(r){return r!==void 0&&r.enterprise!==void 0}class Ow{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return Iw(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Nw(r,t){return as(r,"GET","/v2/recaptchaConfig",Ks(r,t))}async function Mw(r,t){return as(r,"POST","/v1/accounts:delete",t)}async function sh(r,t){return as(r,"POST","/v1/accounts:lookup",t)}function Vl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Vw(r,t=!1){const n=Jn(r),s=await n.getIdToken(t),l=Xm(s);gt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u?.sign_in_provider;return{claims:l,token:s,authTime:Vl(Wd(l.auth_time)),issuedAtTime:Vl(Wd(l.iat)),expirationTime:Vl(Wd(l.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Wd(r){return Number(r)*1e3}function Xm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=sT(n);return l?JSON.parse(l):(Gc("Failed to decode base64 JWT payload"),null)}catch(l){return Gc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Tv(r){const t=Xm(r);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Bl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof rr&&xw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function xw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Lw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class pm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ah(r){const t=r.auth,n=await r.getIdToken(),s=await Bl(r,sh(t,{idToken:n}));gt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?AT(l.providerUserInfo):[],f=kw(r.providerData,u),m=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!f?.length,y=m?g:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new pm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function Pw(r){const t=Jn(r);await ah(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kw(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function AT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Uw(r,t){const n=await TT(r,{},async()=>{const s=Zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,f=await ST(r,l,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&lo(r.emulatorConfig.host)&&(g.credentials="include"),ET.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zw(r,t){return as(r,"POST","/v2/accounts:revokeToken",Ks(r,t))}class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Tv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const n=Tv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await Uw(t,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new Ga;return s&&(gt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),l&&(gt(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),u&&(gt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return Qi("not implemented")}}function Ur(r,t){gt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Lw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new pm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Bl(this,this.stsTokenManager.getToken(this.auth,t));return gt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Vw(this,t)}reload(){return Pw(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Yr(this.auth));const t=await this.getIdToken();return await Bl(this,Mw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:z,providerData:Z,stsTokenManager:$}=n;gt(S&&$,t,"internal-error");const K=Ga.fromJSON(this.name,$);gt(typeof S=="string",t,"internal-error"),Ur(s,t.name),Ur(l,t.name),gt(typeof D=="boolean",t,"internal-error"),gt(typeof z=="boolean",t,"internal-error"),Ur(u,t.name),Ur(f,t.name),Ur(m,t.name),Ur(g,t.name),Ur(y,t.name),Ur(E,t.name);const et=new Xn({uid:S,auth:t,email:l,emailVerified:D,displayName:s,isAnonymous:z,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:K,createdAt:y,lastLoginAt:E});return Z&&Array.isArray(Z)&&(et.providerData=Z.map(tt=>({...tt}))),g&&(et._redirectEventId=g),et}static async _fromIdTokenResponse(t,n,s=!1){const l=new Ga;l.updateFromServerResponse(n);const u=new Xn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await ah(u),u}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];gt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?AT(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!u?.length,m=new Ga;m.updateFromIdToken(s);const g=new Xn({uid:l.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new pm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const Sv=new Map;function Xi(r){er(r instanceof Function,"Expected a class definition");let t=Sv.get(r);return t?(er(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Sv.set(r,t),t)}class bT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}bT.type="NONE";const Av=bT;function Kc(r,t,n){return`firebase:${r}:${t}:${n}`}class Ka{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=Kc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Kc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await sh(this.auth,{idToken:t}).catch(()=>{});return n?Xn._fromGetAccountInfoResponse(this.auth,n,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ka(Xi(Av),t,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||Xi(Av);const f=Kc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const D=await sh(t,{idToken:E}).catch(()=>{});if(!D)break;S=await Xn._fromGetAccountInfoResponse(t,D,E)}else S=Xn._fromJSON(t,E);y!==u&&(m=S),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ka(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ka(u,t,s))}}function bv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(IT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(RT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(OT(t))return"Blackberry";if(NT(t))return"Webos";if(wT(t))return"Safari";if((t.includes("chrome/")||CT(t))&&!t.includes("edge/"))return"Chrome";if(DT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function RT(r=Je()){return/firefox\//i.test(r)}function wT(r=Je()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function CT(r=Je()){return/crios\//i.test(r)}function IT(r=Je()){return/iemobile/i.test(r)}function DT(r=Je()){return/android/i.test(r)}function OT(r=Je()){return/blackberry/i.test(r)}function NT(r=Je()){return/webos/i.test(r)}function $m(r=Je()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Bw(r=Je()){return $m(r)&&!!window.navigator?.standalone}function jw(){return W1()&&document.documentMode===10}function MT(r=Je()){return $m(r)||DT(r)||NT(r)||OT(r)||/windows phone/i.test(r)||IT(r)}function VT(r,t=[]){let n;switch(r){case"Browser":n=bv(Je());break;case"Worker":n=`${bv(Je())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${s}`}class Hw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function qw(r,t={}){return as(r,"GET","/v2/passwordPolicy",Ks(r,t))}const Fw=6;class Gw{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Fw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class Kw{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rv(this),this.idTokenSubscription=new Rv(this),this.beforeStateQueue=new Hw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await sh(this,{idToken:t}),s=await Xn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ah(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=bw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(Yr(this));const n=t?Jn(t):null;return n&&gt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(Yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await qw(this),n=new Gw(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Jl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await zw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Xi(t)||this._popupRedirectResolver;gt(n,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,l);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=VT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Tw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function co(r){return Jn(r)}class Rv{constructor(t){this.auth=t,this.observer=null,this.addObserver=oR(n=>this.observer=n)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Yw(r){Ah=r}function xT(r){return Ah.loadJS(r)}function Qw(){return Ah.recaptchaEnterpriseScript}function Xw(){return Ah.gapiScript}function $w(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Jw{constructor(){this.enterprise=new Zw}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class Zw{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const Ww="recaptcha-enterprise",LT="NO_RECAPTCHA";class tC{constructor(t){this.type=Ww,this.auth=co(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{Nw(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new Ow(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function l(u,f,m){const g=window.grecaptcha;Ev(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(LT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Jw().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Ev(window.grecaptcha))l(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Qw();g.length!==0&&(g+=m),xT(g).then(()=>{l(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function wv(r,t,n,s=!1,l=!1){const u=new tC(r);let f;if(l)f=LT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Cv(r,t,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await wv(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await wv(r,t,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function eC(r,t){const n=Km(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Bs(u,t??{}))return l;$n(l,"already-initialized")}return n.initialize({options:t})}function nC(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Xi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function iC(r,t,n){const s=co(r);gt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,u=PT(t),{host:f,port:m}=rC(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){gt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),gt(Bs(y,s.config.emulator)&&Bs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,lo(f)?(uT(`${u}//${f}${g}`),cT("Auth",!0)):sC()}function PT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function rC(r){const t=PT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:Iv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Iv(f)}}}function Iv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function sC(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Jm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Qi("not implemented")}_getIdTokenResponse(t){return Qi("not implemented")}_linkToIdToken(t,n){return Qi("not implemented")}_getReauthenticationResolver(t){return Qi("not implemented")}}async function aC(r,t){return as(r,"POST","/v1/accounts:signUp",t)}async function oC(r,t){return Sh(r,"POST","/v1/accounts:signInWithPassword",Ks(r,t))}async function lC(r,t){return Sh(r,"POST","/v1/accounts:signInWithEmailLink",Ks(r,t))}async function uC(r,t){return Sh(r,"POST","/v1/accounts:signInWithEmailLink",Ks(r,t))}class jl extends Jm{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new jl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new jl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cv(t,n,"signInWithPassword",oC);case"emailLink":return lC(t,{email:this._email,oobCode:this._password});default:$n(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cv(t,s,"signUpPassword",aC);case"emailLink":return uC(t,{idToken:n,email:this._email,oobCode:this._password});default:$n(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ya(r,t){return Sh(r,"POST","/v1/accounts:signInWithIdp",Ks(r,t))}const cC="http://localhost";class Hs extends Jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Hs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const f=new Hs(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ya(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ya(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ya(t,n)}buildRequest(){const t={requestUri:cC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Zl(n)}return t}}function hC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fC(r){const t=Cl(Il(r)).link,n=t?Cl(Il(t)).deep_link_id:null,s=Cl(Il(r)).deep_link_id;return(s?Cl(Il(s)).link:null)||s||n||t||r}class Zm{constructor(t){const n=Cl(Il(t)),s=n.apiKey??null,l=n.oobCode??null,u=hC(n.mode??null);gt(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=fC(t);try{return new Zm(n)}catch{return null}}}class ho{constructor(){this.providerId=ho.PROVIDER_ID}static credential(t,n){return jl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Zm.parseLink(n);return gt(s,"argument-error"),jl._fromEmailAndCode(t,s.code,s.tenantId)}}ho.PROVIDER_ID="password";ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class kT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class tu extends kT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class zr extends tu{constructor(){super("facebook.com")}static credential(t){return Hs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";class Br extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Hs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Br.credential(n,s)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";class jr extends tu{constructor(){super("github.com")}static credential(t){return Hs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";class Hr extends tu{constructor(){super("twitter.com")}static credential(t,n){return Hs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Hr.credential(n,s)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";class Wa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const u=await Xn._fromIdTokenResponse(t,s,l),f=Dv(s);return new Wa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=Dv(s);return new Wa({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function Dv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class oh extends rr{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new oh(t,n,s,l)}}function UT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(r,u,t,s):u})}async function dC(r,t,n=!1){const s=await Bl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Wa._forOperation(r,"link",s)}async function mC(r,t,n=!1){const{auth:s}=r;if(Yn(s.app))return Promise.reject(Yr(s));const l="reauthenticate";try{const u=await Bl(r,UT(s,l,t,r),n);gt(u.idToken,s,"internal-error");const f=Xm(u.idToken);gt(f,s,"internal-error");const{sub:m}=f;return gt(r.uid===m,s,"user-mismatch"),Wa._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&$n(s,"user-mismatch"),u}}async function zT(r,t,n=!1){if(Yn(r.app))return Promise.reject(Yr(r));const s="signIn",l=await UT(r,s,t),u=await Wa._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}async function pC(r,t){return zT(co(r),t)}async function gC(r){const t=co(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function BT(r,t,n){return Yn(r.app)?Promise.reject(Yr(r)):pC(Jn(r),ho.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&gC(r),s})}function yC(r,t,n,s){return Jn(r).onIdTokenChanged(t,n,s)}function _C(r,t,n){return Jn(r).beforeAuthStateChanged(t,n)}function vC(r,t,n,s){return Jn(r).onAuthStateChanged(t,n,s)}const lh="__sak";class jT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const EC=1e3,TC=10;class HT extends jT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);jw()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,TC):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},EC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}HT.type="LOCAL";const SC=HT;class qT extends jT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}qT.type="SESSION";const FT=qT;function AC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class bh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new bh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await AC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];function Wm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class bC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Wm("",20);l.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(S){const D=S;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(D.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ai(){return window}function RC(r){Ai().location.href=r}function GT(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function wC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CC(){return navigator?.serviceWorker?.controller||null}function IC(){return GT()?self:null}const KT="firebaseLocalStorageDb",DC=1,uh="firebaseLocalStorage",YT="fbase_key";class eu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rh(r,t){return r.transaction([uh],t?"readwrite":"readonly").objectStore(uh)}function OC(){const r=indexedDB.deleteDatabase(KT);return new eu(r).toPromise()}function gm(){const r=indexedDB.open(KT,DC);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(uh,{keyPath:YT})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(uh)?t(s):(s.close(),await OC(),t(await gm()))})})}async function Ov(r,t,n){const s=Rh(r,!0).put({[YT]:t,value:n});return new eu(s).toPromise()}async function NC(r,t){const n=Rh(r,!1).get(t),s=await new eu(n).toPromise();return s===void 0?null:s.value}function Nv(r,t){const n=Rh(r,!0).delete(t);return new eu(n).toPromise()}const MC=800,VC=3;class QT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>VC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(IC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wC(),!this.activeServiceWorker)return;this.sender=new bC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||CC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gm();return await Ov(t,lh,"1"),await Nv(t,lh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ov(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>NC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Nv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=Rh(l,!1).getAll();return new eu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QT.type="LOCAL";const xC=QT;new Wl(3e4,6e4);function LC(r,t){return t?Xi(t):(gt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class tp extends Jm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ya(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function PC(r){return zT(r.auth,new tp(r),r.bypassAuthState)}function kC(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),mC(n,new tp(r),r.bypassAuthState)}async function UC(r){const{auth:t,user:n}=r;return gt(n,t,"internal-error"),dC(n,new tp(r),r.bypassAuthState)}class XT{constructor(t,n,s,l,u=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return PC;case"linkViaPopup":case"linkViaRedirect":return UC;case"reauthViaPopup":case"reauthViaRedirect":return kC;default:$n(this.auth,"internal-error")}}resolve(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zC=new Wl(2e3,1e4);class Fa extends XT{constructor(t,n,s,l,u){super(t,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const t=Wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zC.get())};t()}}Fa.currentPopupAction=null;const BC="pendingRedirect",Yc=new Map;class jC extends XT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Yc.get(this.auth._key());if(!t){try{const s=await HC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Yc.set(this.auth._key(),t)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HC(r,t){const n=GC(t),s=FC(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function qC(r,t){Yc.set(r._key(),t)}function FC(r){return Xi(r._redirectPersistence)}function GC(r){return Kc(BC,r.config.apiKey,r.name)}async function KC(r,t,n=!1){if(Yn(r.app))return Promise.reject(Yr(r));const s=co(r),l=LC(s,t),f=await new jC(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const YC=600*1e3;class QC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!XC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!$T(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Si(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=YC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mv(t))}saveEventToCache(t){this.cachedEventUids.add(Mv(t)),this.lastProcessedEventTime=Date.now()}}function Mv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function $T({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function XC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $T(r);default:return!1}}async function $C(r,t={}){return as(r,"GET","/v1/projects",t)}const JC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZC=/^https?/;async function WC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await $C(r);for(const n of t)try{if(tI(n))return}catch{}$n(r,"unauthorized-domain")}function tI(r){const t=mm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!ZC.test(n))return!1;if(JC.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const eI=new Wl(3e4,6e4);function Vv(){const r=Ai().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function nI(r){return new Promise((t,n)=>{function s(){Vv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Vv(),n(Si(r,"network-request-failed"))},timeout:eI.get()})}if(Ai().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ai().gapi?.load)s();else{const l=$w("iframefcb");return Ai()[l]=()=>{gapi.load?s():n(Si(r,"network-request-failed"))},xT(`${Xw()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw Qc=null,t})}let Qc=null;function iI(r){return Qc=Qc||nI(r),Qc}const rI=new Wl(5e3,15e3),sI="__/auth/iframe",aI="emulator/auth/iframe",oI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uI(r){const t=r.config;gt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Qm(t,aI):`https://${r.config.authDomain}/${sI}`,s={apiKey:t.apiKey,appName:r.name,v:uo},l=lI.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Zl(s).slice(1)}`}async function cI(r){const t=await iI(r),n=Ai().gapi;return gt(n,r,"internal-error"),t.open({where:document.body,url:uI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oI,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=Si(r,"network-request-failed"),m=Ai().setTimeout(()=>{u(f)},rI.get());function g(){Ai().clearTimeout(m),l(s)}s.ping(g).then(g,()=>{u(f)})}))}const hI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fI=500,dI=600,mI="_blank",pI="http://localhost";class xv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gI(r,t,n,s=fI,l=dI){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...hI,width:s.toString(),height:l.toString(),top:u,left:f},y=Je().toLowerCase();n&&(m=CT(y)?mI:n),RT(y)&&(t=t||pI,g.scrollbars="yes");const E=Object.entries(g).reduce((D,[z,Z])=>`${D}${z}=${Z},`,"");if(Bw(y)&&m!=="_self")return yI(t||"",m),new xv(null);const S=window.open(t||"",m,E);gt(S,r,"popup-blocked");try{S.focus()}catch{}return new xv(S)}function yI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const _I="__/auth/handler",vI="emulator/auth/handler",EI=encodeURIComponent("fac");async function Lv(r,t,n,s,l,u){gt(r.config.authDomain,r,"auth-domain-config-required"),gt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:uo,eventId:l};if(t instanceof kT){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",aR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof tu){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${EI}=${encodeURIComponent(g)}`:"";return`${TI(r)}?${Zl(m).slice(1)}${y}`}function TI({config:r}){return r.emulator?Qm(r,vI):`https://${r.authDomain}/${_I}`}const tm="webStorageSupport";class SI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FT,this._completeRedirectFn=KC,this._overrideRedirectResult=qC}async _openPopup(t,n,s,l){er(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Lv(t,n,s,mm(),l);return gI(t,u,Wm())}async _openRedirect(t,n,s,l){await this._originValidation(t);const u=await Lv(t,n,s,mm(),l);return RC(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await cI(t),s=new QC(t);return n.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(tm,{type:tm},l=>{const u=l?.[0]?.[tm];u!==void 0&&n(!!u),$n(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return MT()||wT()||$m()}}const AI=SI;var Pv="@firebase/auth",kv="1.12.0";class bI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function RI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wI(r){Za(new js("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;gt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VT(r)},y=new Kw(s,l,u,g);return nC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Za(new js("auth-internal",t=>{const n=co(t.getProvider("auth").getImmediate());return(s=>new bI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(Pv,kv,RI(r)),Kr(Pv,kv,"esm2020")}const CI=300,II=lT("authIdTokenMaxAge")||CI;let Uv=null;const DI=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>II)return;const l=n?.token;Uv!==l&&(Uv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function OI(r=mT()){const t=Km(r,"auth");if(t.isInitialized())return t.getImmediate();const n=eC(r,{popupRedirectResolver:AI,persistence:[xC,SC,FT]}),s=lT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=DI(u.toString());_C(n,f,()=>f(n.currentUser)),yC(n,m=>f(m))}}const l=aT("auth");return l&&iC(n,`http://${l}`),n}function NI(){return document.getElementsByTagName("head")?.[0]??document}Yw({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const u=Si("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",NI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wI("Browser");var zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qr,JT;(function(){var r;function t(I,b){function R(){}R.prototype=b.prototype,I.F=b.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(V,N,L){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return b.prototype[N].apply(V,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,b,R){R||(R=0);const V=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)V[N]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(N=0;N<16;++N)V[N]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=I.g[0],R=I.g[1],N=I.g[2];let L=I.g[3],w;w=b+(L^R&(N^L))+V[0]+3614090360&4294967295,b=R+(w<<7&4294967295|w>>>25),w=L+(N^b&(R^N))+V[1]+3905402710&4294967295,L=b+(w<<12&4294967295|w>>>20),w=N+(R^L&(b^R))+V[2]+606105819&4294967295,N=L+(w<<17&4294967295|w>>>15),w=R+(b^N&(L^b))+V[3]+3250441966&4294967295,R=N+(w<<22&4294967295|w>>>10),w=b+(L^R&(N^L))+V[4]+4118548399&4294967295,b=R+(w<<7&4294967295|w>>>25),w=L+(N^b&(R^N))+V[5]+1200080426&4294967295,L=b+(w<<12&4294967295|w>>>20),w=N+(R^L&(b^R))+V[6]+2821735955&4294967295,N=L+(w<<17&4294967295|w>>>15),w=R+(b^N&(L^b))+V[7]+4249261313&4294967295,R=N+(w<<22&4294967295|w>>>10),w=b+(L^R&(N^L))+V[8]+1770035416&4294967295,b=R+(w<<7&4294967295|w>>>25),w=L+(N^b&(R^N))+V[9]+2336552879&4294967295,L=b+(w<<12&4294967295|w>>>20),w=N+(R^L&(b^R))+V[10]+4294925233&4294967295,N=L+(w<<17&4294967295|w>>>15),w=R+(b^N&(L^b))+V[11]+2304563134&4294967295,R=N+(w<<22&4294967295|w>>>10),w=b+(L^R&(N^L))+V[12]+1804603682&4294967295,b=R+(w<<7&4294967295|w>>>25),w=L+(N^b&(R^N))+V[13]+4254626195&4294967295,L=b+(w<<12&4294967295|w>>>20),w=N+(R^L&(b^R))+V[14]+2792965006&4294967295,N=L+(w<<17&4294967295|w>>>15),w=R+(b^N&(L^b))+V[15]+1236535329&4294967295,R=N+(w<<22&4294967295|w>>>10),w=b+(N^L&(R^N))+V[1]+4129170786&4294967295,b=R+(w<<5&4294967295|w>>>27),w=L+(R^N&(b^R))+V[6]+3225465664&4294967295,L=b+(w<<9&4294967295|w>>>23),w=N+(b^R&(L^b))+V[11]+643717713&4294967295,N=L+(w<<14&4294967295|w>>>18),w=R+(L^b&(N^L))+V[0]+3921069994&4294967295,R=N+(w<<20&4294967295|w>>>12),w=b+(N^L&(R^N))+V[5]+3593408605&4294967295,b=R+(w<<5&4294967295|w>>>27),w=L+(R^N&(b^R))+V[10]+38016083&4294967295,L=b+(w<<9&4294967295|w>>>23),w=N+(b^R&(L^b))+V[15]+3634488961&4294967295,N=L+(w<<14&4294967295|w>>>18),w=R+(L^b&(N^L))+V[4]+3889429448&4294967295,R=N+(w<<20&4294967295|w>>>12),w=b+(N^L&(R^N))+V[9]+568446438&4294967295,b=R+(w<<5&4294967295|w>>>27),w=L+(R^N&(b^R))+V[14]+3275163606&4294967295,L=b+(w<<9&4294967295|w>>>23),w=N+(b^R&(L^b))+V[3]+4107603335&4294967295,N=L+(w<<14&4294967295|w>>>18),w=R+(L^b&(N^L))+V[8]+1163531501&4294967295,R=N+(w<<20&4294967295|w>>>12),w=b+(N^L&(R^N))+V[13]+2850285829&4294967295,b=R+(w<<5&4294967295|w>>>27),w=L+(R^N&(b^R))+V[2]+4243563512&4294967295,L=b+(w<<9&4294967295|w>>>23),w=N+(b^R&(L^b))+V[7]+1735328473&4294967295,N=L+(w<<14&4294967295|w>>>18),w=R+(L^b&(N^L))+V[12]+2368359562&4294967295,R=N+(w<<20&4294967295|w>>>12),w=b+(R^N^L)+V[5]+4294588738&4294967295,b=R+(w<<4&4294967295|w>>>28),w=L+(b^R^N)+V[8]+2272392833&4294967295,L=b+(w<<11&4294967295|w>>>21),w=N+(L^b^R)+V[11]+1839030562&4294967295,N=L+(w<<16&4294967295|w>>>16),w=R+(N^L^b)+V[14]+4259657740&4294967295,R=N+(w<<23&4294967295|w>>>9),w=b+(R^N^L)+V[1]+2763975236&4294967295,b=R+(w<<4&4294967295|w>>>28),w=L+(b^R^N)+V[4]+1272893353&4294967295,L=b+(w<<11&4294967295|w>>>21),w=N+(L^b^R)+V[7]+4139469664&4294967295,N=L+(w<<16&4294967295|w>>>16),w=R+(N^L^b)+V[10]+3200236656&4294967295,R=N+(w<<23&4294967295|w>>>9),w=b+(R^N^L)+V[13]+681279174&4294967295,b=R+(w<<4&4294967295|w>>>28),w=L+(b^R^N)+V[0]+3936430074&4294967295,L=b+(w<<11&4294967295|w>>>21),w=N+(L^b^R)+V[3]+3572445317&4294967295,N=L+(w<<16&4294967295|w>>>16),w=R+(N^L^b)+V[6]+76029189&4294967295,R=N+(w<<23&4294967295|w>>>9),w=b+(R^N^L)+V[9]+3654602809&4294967295,b=R+(w<<4&4294967295|w>>>28),w=L+(b^R^N)+V[12]+3873151461&4294967295,L=b+(w<<11&4294967295|w>>>21),w=N+(L^b^R)+V[15]+530742520&4294967295,N=L+(w<<16&4294967295|w>>>16),w=R+(N^L^b)+V[2]+3299628645&4294967295,R=N+(w<<23&4294967295|w>>>9),w=b+(N^(R|~L))+V[0]+4096336452&4294967295,b=R+(w<<6&4294967295|w>>>26),w=L+(R^(b|~N))+V[7]+1126891415&4294967295,L=b+(w<<10&4294967295|w>>>22),w=N+(b^(L|~R))+V[14]+2878612391&4294967295,N=L+(w<<15&4294967295|w>>>17),w=R+(L^(N|~b))+V[5]+4237533241&4294967295,R=N+(w<<21&4294967295|w>>>11),w=b+(N^(R|~L))+V[12]+1700485571&4294967295,b=R+(w<<6&4294967295|w>>>26),w=L+(R^(b|~N))+V[3]+2399980690&4294967295,L=b+(w<<10&4294967295|w>>>22),w=N+(b^(L|~R))+V[10]+4293915773&4294967295,N=L+(w<<15&4294967295|w>>>17),w=R+(L^(N|~b))+V[1]+2240044497&4294967295,R=N+(w<<21&4294967295|w>>>11),w=b+(N^(R|~L))+V[8]+1873313359&4294967295,b=R+(w<<6&4294967295|w>>>26),w=L+(R^(b|~N))+V[15]+4264355552&4294967295,L=b+(w<<10&4294967295|w>>>22),w=N+(b^(L|~R))+V[6]+2734768916&4294967295,N=L+(w<<15&4294967295|w>>>17),w=R+(L^(N|~b))+V[13]+1309151649&4294967295,R=N+(w<<21&4294967295|w>>>11),w=b+(N^(R|~L))+V[4]+4149444226&4294967295,b=R+(w<<6&4294967295|w>>>26),w=L+(R^(b|~N))+V[11]+3174756917&4294967295,L=b+(w<<10&4294967295|w>>>22),w=N+(b^(L|~R))+V[2]+718787259&4294967295,N=L+(w<<15&4294967295|w>>>17),w=R+(L^(N|~b))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+L&4294967295}s.prototype.v=function(I,b){b===void 0&&(b=I.length);const R=b-this.blockSize,V=this.C;let N=this.h,L=0;for(;L<b;){if(N==0)for(;L<=R;)l(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<b;)if(V[N++]=I.charCodeAt(L++),N==this.blockSize){l(this,V),N=0;break}}else for(;L<b;)if(V[N++]=I[L++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=b},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)I[b++]=this.g[R]>>>V&255;return I};function u(I,b){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=b(I)}function f(I,b){this.h=b;const R=[];let V=!0;for(let N=I.length-1;N>=0;N--){const L=I[N]|0;V&&L==b||(R[N]=L,V=!1)}this.g=R}var m={};function g(I){return-128<=I&&I<128?u(I,function(b){return new f([b|0],b<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return K(y(-I));const b=[];let R=1;for(let V=0;I>=R;V++)b[V]=I/R|0,R*=4294967296;return new f(b,0)}function E(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return K(E(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(b,8));let V=S;for(let L=0;L<I.length;L+=8){var N=Math.min(8,I.length-L);const w=parseInt(I.substring(L,L+N),b);N<8?(N=y(Math.pow(b,N)),V=V.j(N).add(y(w))):(V=V.j(R),V=V.add(y(w)))}return V}var S=g(0),D=g(1),z=g(16777216);r=f.prototype,r.m=function(){if($(this))return-K(this).m();let I=0,b=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);I+=(V>=0?V:4294967296+V)*b,b*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if($(this))return"-"+K(this).toString(I);const b=y(Math.pow(I,6));var R=this;let V="";for(;;){const N=Ct(R,b).g;R=et(R,N.j(b));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=N,Z(R))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function $(I){return I.h==-1}r.l=function(I){return I=et(this,I),$(I)?-1:Z(I)?0:1};function K(I){const b=I.g.length,R=[];for(let V=0;V<b;V++)R[V]=~I.g[V];return new f(R,~I.h).add(D)}r.abs=function(){return $(this)?K(this):this},r.add=function(I){const b=Math.max(this.g.length,I.g.length),R=[];let V=0;for(let N=0;N<=b;N++){let L=V+(this.i(N)&65535)+(I.i(N)&65535),w=(L>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=w>>>16,L&=65535,w&=65535,R[N]=w<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function et(I,b){return I.add(K(b))}r.j=function(I){if(Z(this)||Z(I))return S;if($(this))return $(I)?K(this).j(K(I)):K(K(this).j(I));if($(I))return K(this.j(K(I)));if(this.l(z)<0&&I.l(z)<0)return y(this.m()*I.m());const b=this.g.length+I.g.length,R=[];for(var V=0;V<2*b;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const L=this.i(V)>>>16,w=this.i(V)&65535,ie=I.i(N)>>>16,Ie=I.i(N)&65535;R[2*V+2*N]+=w*Ie,tt(R,2*V+2*N),R[2*V+2*N+1]+=L*Ie,tt(R,2*V+2*N+1),R[2*V+2*N+1]+=w*ie,tt(R,2*V+2*N+1),R[2*V+2*N+2]+=L*ie,tt(R,2*V+2*N+2)}for(I=0;I<b;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=b;I<2*b;I++)R[I]=0;return new f(R,0)};function tt(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function it(I,b){this.g=I,this.h=b}function Ct(I,b){if(Z(b))throw Error("division by zero");if(Z(I))return new it(S,S);if($(I))return b=Ct(K(I),b),new it(K(b.g),K(b.h));if($(b))return b=Ct(I,K(b)),new it(K(b.g),b.h);if(I.g.length>30){if($(I)||$(b))throw Error("slowDivide_ only works with positive integers.");for(var R=D,V=b;V.l(I)<=0;)R=It(R),V=It(V);var N=wt(R,1),L=wt(V,1);for(V=wt(V,2),R=wt(R,2);!Z(V);){var w=L.add(V);w.l(I)<=0&&(N=N.add(R),L=w),V=wt(V,1),R=wt(R,1)}return b=et(I,N.j(b)),new it(N,b)}for(N=S;I.l(b)>=0;){for(R=Math.max(1,Math.floor(I.m()/b.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(R),w=L.j(b);$(w)||w.l(I)>0;)R-=V,L=y(R),w=L.j(b);Z(L)&&(L=D),N=N.add(L),I=et(I,w)}return new it(N,I)}r.B=function(I){return Ct(this,I).h},r.and=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)&I.i(V);return new f(R,this.h&I.h)},r.or=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)|I.i(V);return new f(R,this.h|I.h)},r.xor=function(I){const b=Math.max(this.g.length,I.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)^I.i(V);return new f(R,this.h^I.h)};function It(I){const b=I.g.length+1,R=[];for(let V=0;V<b;V++)R[V]=I.i(V)<<1|I.i(V-1)>>>31;return new f(R,I.h)}function wt(I,b){const R=b>>5;b%=32;const V=I.g.length-R,N=[];for(let L=0;L<V;L++)N[L]=b>0?I.i(L+R)>>>b|I.i(L+R+1)<<32-b:I.i(L+R);return new f(N,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,JT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Qr=f}).apply(typeof zv<"u"?zv:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ZT,Dl,WT,Xc,ym,t0,e0,n0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(c,p){if(p)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var P=c[A];if(!(P in v))break t;v=v[P]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(p){var v=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&v.push([A,p[A]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,P,j){for(var nt=Array(arguments.length-2),St=2;St<arguments.length;St++)nt[St-2]=arguments[St];return p.prototype[P].apply(A,nt)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function z(c){const p=c.length;if(p>0){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function Z(c,p){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const j=P.length||0;c.length=v+j;for(let nt=0;nt<j;nt++)c[v+nt]=P[nt]}else c.push(P)}}class ${constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function K(c){f.setTimeout(()=>{throw c},0)}function et(){var c=I;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class tt{constructor(){this.h=this.g=null}add(p,v){const A=it.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var it=new $(()=>new Ct,c=>c.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let It,wt=!1,I=new tt,b=()=>{const c=Promise.resolve(void 0);It=()=>{c.then(R)}};function R(){for(var c;c=et();){try{c.h.call(c.g)}catch(v){K(v)}var p=it;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}wt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function ie(c,p){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(ie,N),ie.prototype.init=function(c,p){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),G=0;function rt(c,p,v,A,P){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=P,this.key=++G,this.da=this.fa=!1}function dt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function Gt(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function M(c){const p={};for(const v in c)p[v]=c[v];return p}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(c,p){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)c[v]=A[v];for(let j=0;j<X.length;j++)v=X[j],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ot(c){this.src=c,this.g={},this.h=0}ot.prototype.add=function(c,p,v,A,P){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const nt=bt(c,p,A,P);return nt>-1?(p=c[nt],v||(p.fa=!1)):(p=new rt(p,this.src,j,!!A,P),p.fa=v,c.push(p)),p};function _t(c,p){const v=p.type;if(v in c.g){var A=c.g[v],P=Array.prototype.indexOf.call(A,p,void 0),j;(j=P>=0)&&Array.prototype.splice.call(A,P,1),j&&(dt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function bt(c,p,v,A){for(let P=0;P<c.length;++P){const j=c[P];if(!j.da&&j.listener==p&&j.capture==!!v&&j.ha==A)return P}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),De={};function re(c,p,v,A,P){if(Array.isArray(p)){for(let j=0;j<p.length;j++)re(c,p[j],v,A,P);return null}return v=To(v),c&&c[Ie]?c.J(p,v,m(A)?!!A.capture:!1,P):os(c,p,v,!1,A,P)}function os(c,p,v,A,P,j){if(!p)throw Error("Invalid event type");const nt=m(P)?!!P.capture:!!P;let St=ls(c);if(St||(c[kt]=St=new ot(c)),v=St.add(p,v,A,nt,j),v.proxy)return v;if(A=Xs(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(P=nt),P===void 0&&(P=!1),c.addEventListener(p.toString(),A,P);else if(c.attachEvent)c.attachEvent(Zn(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Xs(){function c(v){return p.call(c.src,c.listener,v)}const p=vo;return c}function $s(c,p,v,A,P){if(Array.isArray(p))for(var j=0;j<p.length;j++)$s(c,p[j],v,A,P);else A=m(A)?!!A.capture:!!A,v=To(v),c&&c[Ie]?(c=c.i,j=String(p).toString(),j in c.g&&(p=c.g[j],v=bt(p,v,A,P),v>-1&&(dt(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[j],c.h--)))):c&&(c=ls(c))&&(p=c.g[p.toString()],c=-1,p&&(c=bt(p,v,A,P)),(v=c>-1?p[c]:null)&&Js(v))}function Js(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Ie])_t(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(Zn(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=ls(p))?(_t(v,c),v.h==0&&(v.src=null,p[kt]=null)):dt(c)}}}function Zn(c){return c in De?De[c]:De[c]="on"+c}function vo(c,p){if(c.da)c=!0;else{p=new ie(p,this);const v=c.listener,A=c.ha||c.src;c.fa&&Js(c),c=v.call(A,p)}return c}function ls(c){return c=c[kt],c instanceof ot?c:null}var Eo="__closure_events_fn_"+(Math.random()*1e9>>>0);function To(c){return typeof c=="function"?c:(c[Eo]||(c[Eo]=function(p){return c.handleEvent(p)}),c[Eo])}function ye(){V.call(this),this.i=new ot(this),this.M=this,this.G=null}S(ye,V),ye.prototype[Ie]=!0,ye.prototype.removeEventListener=function(c,p,v,A){$s(this,c,p,v,A)};function Oe(c,p){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new N(p,c);else if(p instanceof N)p.target=p.target||c;else{var P=p;p=new N(A,c),st(p,P)}P=!0;let j,nt;if(v)for(nt=v.length-1;nt>=0;nt--)j=p.g=v[nt],P=sr(j,A,!0,p)&&P;if(j=p.g=c,P=sr(j,A,!0,p)&&P,P=sr(j,A,!1,p)&&P,v)for(nt=0;nt<v.length;nt++)j=p.g=v[nt],P=sr(j,A,!1,p)&&P}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let A=0;A<v.length;A++)dt(v[A]);delete c.g[p],c.h--}}this.G=null},ye.prototype.J=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},ye.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function sr(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let P=!0;for(let j=0;j<p.length;++j){const nt=p[j];if(nt&&!nt.da&&nt.capture==v){const St=nt.listener,fe=nt.ha||nt.src;nt.fa&&_t(c.i,nt),P=St.call(fe,A)!==!1&&P}}return P&&!A.defaultPrevented}function Bh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function au(c){c.g=Bh(()=>{c.g=null,c.i&&(c.i=!1,au(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Ze extends V{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){V.call(this),this.h=c,this.g={}}S(us,V);var So=[];function Ao(c){zt(c.g,function(p,v){this.g.hasOwnProperty(v)&&Js(p)},c),c.g={}}us.prototype.N=function(){us.Z.N.call(this),Ao(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=f.JSON.stringify,jh=f.JSON.parse,ou=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function lu(){}function uu(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ue(){N.call(this,"d")}S(Ue,N);function Tn(){N.call(this,"c")}S(Tn,N);var he={},cu=null;function Zs(){return cu=cu||new ye}he.Ia="serverreachability";function hu(c){N.call(this,he.Ia,c)}S(hu,N);function Wn(c){const p=Zs();Oe(p,new hu(p))}he.STAT_EVENT="statevent";function cs(c,p){N.call(this,he.STAT_EVENT,c),this.stat=p}S(cs,N);function _e(c){const p=Zs();Oe(p,new cs(p,c))}he.Ja="timingevent";function ti(c,p){N.call(this,he.Ja,c),this.size=p}S(ti,N);function ei(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Hh(c,p,v,A,P,j){c.info(function(){if(c.g)if(j){var nt="",St=j.split("&");for(let Ht=0;Ht<St.length;Ht++){var fe=St[Ht].split("=");if(fe.length>1){const se=fe[0];fe=fe[1];const Rn=se.split("_");nt=Rn.length>=2&&Rn[1]=="type"?nt+(se+"="+fe+"&"):nt+(se+"=redacted&")}}}else nt=null;else nt=j;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+p+`
`+v+`
`+nt})}function fu(c,p,v,A,P,j,nt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+p+`
`+v+`
`+j+" "+nt})}function ni(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+qh(c,v)+(A?" "+A:"")})}function hs(c,p){c.info(function(){return"TIMEOUT: "+p})}Pn.prototype.info=function(){};function qh(c,p){if(!c.g)return p;if(!p)return null;try{const j=JSON.parse(p);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var v=j[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let nt=1;nt<A.length;nt++)A[nt]=""}}}}return ar(j)}catch{return p}}var fs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function ds(){}S(ds,lu),ds.prototype.g=function(){return new XMLHttpRequest},Ro=new ds;function Di(c){return encodeURIComponent(String(c))}function du(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function kn(c,p,v,A){this.j=c,this.i=p,this.l=v,this.S=A||1,this.V=new us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var ve={},xe={};function ii(c,p,v){c.M=1,c.A=ms(Te(p)),c.u=v,c.R=!0,Ws(c,null)}function Ws(c,p){c.F=Date.now(),ri(c),c.B=Te(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ia(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Un,c.g=Iu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new Ze(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,A=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(So[0]=P.toString()),P=So);for(let j=0;j<P.length;j++){const nt=re(v,P[j],A||p.handleEvent,!1,p.h||p);if(!nt)break;p.g[nt.key]=nt}p=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),Wn(),Hh(c.i,c.v,c.B,c.l,c.S,c.u)}kn.prototype.ba=function(c){c=c.target;const p=this.O;p&&jn(c)==3?p.j():this.Y(c)},kn.prototype.Y=function(c){try{if(c==this.g)t:{const St=jn(this.g),fe=this.g.ya(),Ht=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||St!=4||fe==7||(fe==8||Ht<=0?Wn(3):Wn(2)),si(this);var p=this.g.ca();this.X=p;var v=Fh(this);if(this.o=p==200,fu(this.i,this.v,this.B,this.l,this.S,St,p),this.o){if(this.U&&!this.L){e:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var j=A;break e}}j=null}if(c=j)ni(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,c);else{this.o=!1,this.m=3,_e(12),hn(this),Sn(this);break t}}if(this.R){c=!0;let se;for(;!this.K&&this.C<v.length;)if(se=pu(this,v),se==xe){St==4&&(this.m=4,_e(14),c=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ve){this.m=4,_e(15),ni(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ni(this.i,this.l,se,null),ai(this,se);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,_e(16),c=!1),this.o=this.o&&c,!c)ni(this.i,this.l,v,"[Invalid Chunked Response]"),hn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Bo(nt),nt.P=!0,_e(11))}}else ni(this.i,this.l,v,null),ai(this,v);St==4&&hn(this),this.o&&!this.K&&(St==4?bu(this.j,this):(this.o=!1,ri(this)))}else Ni(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),hn(this),Sn(this)}}}catch{}};function Fh(c){if(!mu(c))return c.g.la();const p=ze(c.g);if(p==="")return"";let v="";const A=p.length,P=jn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return hn(c),Sn(c),"";c.h.i=new f.TextDecoder}for(let j=0;j<A;j++)c.h.h=!0,v+=c.h.i.decode(p[j],{stream:!(P&&j==A-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function mu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function pu(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?xe:(v=Number(p.substring(v,A)),isNaN(v)?ve:(A+=1,A+v>p.length?xe:(p=p.slice(A,A+v),c.C=A+v,p)))}kn.prototype.cancel=function(){this.K=!0,hn(this)};function ri(c){c.T=Date.now()+c.H,ta(c,c.H)}function ta(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ei(y(c.aa,c),p)}function si(c){c.D&&(f.clearTimeout(c.D),c.D=null)}kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(hs(this.i,this.B),this.M!=2&&(Wn(),_e(17)),hn(this),this.m=2,Sn(this)):ta(this,this.T-c)};function Sn(c){c.j.I==0||c.K||bu(c.j,c)}function hn(c){si(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Ao(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function ai(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||li(v.h,c))){if(!c.L&&li(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)la(v),mr(v);else break t;Ts(v),_e(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ei(y(v.Va,v),6e3));oi(v.h)<=1&&v.ta&&(v.ta=void 0)}else mi(v,11)}else if((c.L||v.g==c)&&la(v),!w(p))for(P=v.Ba.g.parse(p),p=0;p<P.length;p++){let Ht=P[p];const se=Ht[0];if(!(se<=v.K))if(v.K=se,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const Rn=Ht[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const pi=Ht[4];pi!=null&&(v.za=pi,v.j.info("SVER="+v.za));const Hn=Ht[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(A=1.5*Hn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const qn=c.g;if(qn){const Ss=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var j=A.h;j.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Io(j,j.h),j.h=null))}if(A.G){const ua=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(A.wa=ua,Kt(A.J,A.G,ua))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var nt=c;if(A.na=Cu(A,A.L?A.ba:null,A.W),nt.L){Do(A.h,nt);var St=nt,fe=A.O;fe&&(St.H=fe),St.D&&(si(St),ri(St)),A.g=nt}else Su(A);v.i.length>0&&di(v)}else Ht[0]!="stop"&&Ht[0]!="close"||mi(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?mi(v,7):Uo(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}Wn(4)}catch{}}var Ee=class{constructor(c,p){this.g=c,this.map=p}};function wo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function oi(c){return c.h?1:c.g?c.g.size:0}function li(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Io(c,p){c.g?c.g.add(p):c.h=p}function Do(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}wo.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return z(c.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let P,j=null;A>=0?(P=c[v].substring(0,A),j=c[v].substring(A+1)):P=c[v],p(P,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function fn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof fn?(this.l=c.l,Le(this,c.j),this.o=c.o,this.g=c.g,or(this,c.u),this.h=c.h,No(this,Eu(c.i)),this.m=c.m):c&&(p=String(c).match(gu))?(this.l=!1,Le(this,p[1]||"",!0),this.o=ui(p[2]||""),this.g=ui(p[3]||"",!0),or(this,p[4]),this.h=ui(p[5]||"",!0),No(this,p[6]||"",!0),this.m=ui(p[7]||"")):(this.l=!1,this.i=new ur(null,this.l))}fn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(ps(p,na,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ps(p,na,!0),"@"),c.push(Di(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ps(v,v.charAt(0)=="/"?Mo:yu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ps(v,_u)),c.join("")},fn.prototype.resolve=function(c){const p=Te(this);let v=!!c.j;v?Le(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var A=c.h;if(v)or(p,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=p.h.lastIndexOf("/");P!=-1&&(A=p.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const j=[];for(let nt=0;nt<P.length;){const St=P[nt++];St=="."?A&&nt==P.length&&j.push(""):St==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),A&&nt==P.length&&j.push("")):(j.push(St),A=!0)}A=j.join("/")}else A=P}return v?p.h=A:v=c.i.toString()!=="",v?No(p,Eu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Te(c){return new fn(c)}function Le(c,p,v){c.j=v?ui(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function or(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function No(c,p,v){p instanceof ur?(c.i=p,ra(c.i,c.l)):(v||(p=ps(p,lr)),c.i=new ur(p,c.l))}function Kt(c,p,v){c.i.set(p,v)}function ms(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ui(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ps(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,nn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var na=/[#\/\?@]/g,yu=/[#\?:]/g,Mo=/[#\?]/g,lr=/[#\?@]/g,_u=/#/g;function ur(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&ea(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=ur.prototype,r.add=function(c,p){rn(this),this.i=null,c=cr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function vu(c,p){rn(c),p=cr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Vo(c,p){return rn(c),p=cr(c,p),c.g.has(p)}r.forEach=function(c,p){rn(this),this.g.forEach(function(v,A){v.forEach(function(P){c.call(p,P,A,this)},this)},this)};function xo(c,p){rn(c);let v=[];if(typeof p=="string")Vo(c,p)&&(v=v.concat(c.g.get(cr(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return rn(this),this.i=null,c=cr(this,c),Vo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=xo(this,c),c.length>0?String(c[0]):p):p};function ia(c,p,v){vu(c,p),v.length>0&&(c.i=null,c.g.set(cr(c,p),z(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var v=p[A];const P=Di(v);v=xo(this,v);for(let j=0;j<v.length;j++){let nt=P;v[j]!==""&&(nt+="="+Di(v[j])),c.push(nt)}}return this.i=c.join("&")};function Eu(c){const p=new ur;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function cr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ra(c,p){p&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(vu(this,A),ia(this,P,v))},c)),c.j=p}function zn(c,p){const v=new Pn;if(f.Image){const A=new Image;A.onload=E(An,v,"TestLoadImage: loaded",!0,p,A),A.onerror=E(An,v,"TestLoadImage: error",!1,p,A),A.onabort=E(An,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=E(An,v,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Lo(c,p){const v=new Pn,A=new AbortController,P=setTimeout(()=>{A.abort(),An(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(j=>{clearTimeout(P),j.ok?An(v,"TestPingServer: ok",!0,p):An(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),An(v,"TestPingServer: error",!1,p)})}function An(c,p,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function hr(){this.g=new ou}function ci(c){this.i=c.Sb||null,this.h=c.ab||!1}S(ci,lu),ci.prototype.g=function(){return new gs(this.i,this.h)};function gs(c,p){ye.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(gs,ye),r=gs.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Bn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function sa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?fr(this):Bn(this),this.readyState==3&&sa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,fr(this))},r.Na=function(c){this.g&&(this.response=c,fr(this))},r.ga=function(){this.g&&fr(this)};function fr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Bn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Bn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bn(c){let p="";return zt(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function ys(c,p,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=bn(v),typeof c=="string"?v!=null&&Di(v):Kt(c,p,v))}function Xt(c){ye.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,ye);var hi=/^https?$/i,Po=["POST","PUT"];r=Xt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(j){_s(this,j);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())v.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Po,p,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,nt]of v)this.g.setRequestHeader(j,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){_s(this,j)}};function _s(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,ko(c),Oi(c)}function ko(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Oe(this,"complete"),Oe(this,"abort"),Oi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?vs(this):this.Xa())},r.Xa=function(){vs(this)};function vs(c){if(c.h&&typeof u<"u"){if(c.v&&jn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Oe(c,"readystatechange"),jn(c)==4){c.h=!1;try{const j=c.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var A;if(A=j===0){let nt=String(c.D).match(gu)[1]||null;!nt&&f.self&&f.self.location&&(nt=f.self.location.protocol.slice(0,-1)),A=!hi.test(nt?nt.toLowerCase():"")}v=A}if(v)Oe(c,"complete"),Oe(c,"success");else{c.o=6;try{var P=jn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",ko(c)}}finally{Oi(c)}}}}function Oi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Oe(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function jn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),jh(p)}};function ze(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(c){const p={};c=(c.g&&jn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(w(c[A]))continue;var v=du(c[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=p[P]||[];p[P]=j,j.push(v)}Gt(p,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function dr(c){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,c),this.Za=fi("retryDelaySeedMs",1e4,c),this.Ta=fi("forwardChannelMaxRetries",2,c),this.va=fi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(c&&c.concurrentRequestLimit),this.Ba=new hr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=dr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,A){_e(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Cu(this,null,this.W),di(this)};function Uo(c){if(aa(c),c.I==3){var p=c.V++,v=Te(c.J);if(Kt(v,"SID",c.M),Kt(v,"RID",p),Kt(v,"TYPE","terminate"),Es(c,v),p=new kn(c,c.j,p),p.M=2,p.A=ms(Te(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Iu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ri(p)}wu(c)}function mr(c){c.g&&(Bo(c),c.g.cancel(),c.g=null)}function aa(c){mr(c),c.v&&(f.clearTimeout(c.v),c.v=null),la(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function di(c){if(!Co(c.h)&&!c.m){c.m=!0;var p=c.Ea;It||b(),wt||(It(),wt=!0),I.add(p,c),c.D=0}}function oa(c,p){return oi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ei(y(c.Ea,c,p),Ru(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new kn(this,this.j,c);let j=this.o;if(this.U&&(j?(j=M(j),st(j,this.U)):j=this.U),this.u!==null||this.R||(P.J=j,j=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=Tu(this,P,p),v=Te(this.J),Kt(v,"RID",c),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Es(this,v),j&&(this.R?p="headers="+Di(bn(j))+"&"+p:this.u&&ys(v,this.u,j)),Io(this.h,P),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",p),Kt(v,"SID","null"),P.U=!0,ii(P,v,null)):ii(P,v,p),this.I=2}}else this.I==3&&(c?zo(this,c):this.i.length==0||Co(this.h)||zo(this))};function zo(c,p){var v;p?v=p.l:v=c.V++;const A=Te(c.J);Kt(A,"SID",c.M),Kt(A,"RID",v),Kt(A,"AID",c.K),Es(c,A),c.u&&c.o&&ys(A,c.u,c.o),v=new kn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Tu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Io(c.h,v),ii(v,A,p)}function Es(c,p){c.H&&zt(c.H,function(v,A){Kt(p,A,v)}),c.l&&zt({},function(v,A){Kt(p,A,v)})}function Tu(c,p,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var P=c.i;let St=-1;for(;;){const fe=["count="+v];St==-1?v>0?(St=P[0].g,fe.push("ofs="+St)):St=0:fe.push("ofs="+St);let Ht=!0;for(let se=0;se<v;se++){var j=P[se].g;const Rn=P[se].map;if(j-=St,j<0)St=Math.max(0,P[se].g-100),Ht=!1;else try{j="req"+j+"_"||"";try{var nt=Rn instanceof Map?Rn:Object.entries(Rn);for(const[pi,Hn]of nt){let qn=Hn;m(Hn)&&(qn=ar(Hn)),fe.push(j+pi+"="+encodeURIComponent(qn))}}catch(pi){throw fe.push(j+"type="+encodeURIComponent("_badmap")),pi}}catch{A&&A(Rn)}}if(Ht){nt=fe.join("&");break t}}nt=void 0}return c=c.i.splice(0,v),p.G=c,nt}function Su(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;It||b(),wt||(It(),wt=!0),I.add(p,c),c.A=0}}function Ts(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ei(y(c.Da,c),Ru(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ei(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),mr(this),Au(this))};function Bo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Au(c){c.g=new kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Te(c.na);Kt(p,"RID","rpc"),Kt(p,"SID",c.M),Kt(p,"AID",c.K),Kt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(p,"TO",c.ia),Kt(p,"TYPE","xmlhttp"),Es(c,p),c.u&&c.o&&ys(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ms(Te(p)),v.u=null,v.R=!0,Ws(v,c)}r.Va=function(){this.C!=null&&(this.C=null,mr(this),Ts(this),_e(19))};function la(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function bu(c,p){var v=null;if(c.g==p){la(c),Bo(c),c.g=null;var A=2}else if(li(c.h,p))v=p.G,Do(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var P=c.D;A=Zs(),Oe(A,new ti(A,v)),di(c)}else Su(c);else if(P=p.m,P==3||P==0&&p.X>0||!(A==1&&oa(c,p)||A==2&&Ts(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),P){case 1:mi(c,5);break;case 4:mi(c,10);break;case 3:mi(c,6);break;default:mi(c,2)}}}function Ru(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function mi(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),A=c.Ua;const P=!A;A=new fn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Le(A,"https"),ms(A),P?zn(A.toString(),v):Lo(A.toString(),v)}else _e(2);c.I=0,c.l&&c.l.pa(p),wu(c),aa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function wu(c){if(c.I=0,c.ja=[],c.l){const p=Oo(c.h);(p.length!=0||c.i.length!=0)&&(Z(c.ja,p),Z(c.ja,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.oa()}}function Cu(c,p,v){var A=v instanceof fn?Te(v):new fn(v);if(A.g!="")p&&(A.g=p+"."+A.g),or(A,A.u);else{var P=f.location;A=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;const j=new fn(null);A&&Le(j,A),p&&(j.g=p),P&&or(j,P),v&&(j.h=v),A=j}return v=c.G,p=c.wa,v&&p&&Kt(A,v,p),Kt(A,"VER",c.ka),Es(c,A),A}function Iu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Xt(new ci({ab:v})):new Xt(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}r=Du.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function pr(){}pr.prototype.g=function(c,p){return new We(c,p)};function We(c,p){ye.call(this),this.g=new dr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!w(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Mi(this)}S(We,ye),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Uo(this.g)},We.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ar(c),c=v);p.i.push(new Ee(p.Ya++,c)),p.I==3&&di(p)},We.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,We.Z.N.call(this)};function Ou(c){Ue.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(Ou,Ue);function Nu(){Tn.call(this),this.status=1}S(Nu,Tn);function Mi(c){this.g=c}S(Mi,Du),Mi.prototype.ra=function(){Oe(this.g,"a")},Mi.prototype.qa=function(c){Oe(this.g,new Ou(c))},Mi.prototype.pa=function(c){Oe(this.g,new Nu)},Mi.prototype.oa=function(){Oe(this.g,"b")},pr.prototype.createWebChannel=pr.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,n0=function(){return new pr},e0=function(){return Zs()},t0=he,ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fs.NO_ERROR=0,fs.TIMEOUT=8,fs.HTTP_ERROR=6,Xc=fs,bo.COMPLETE="complete",WT=bo,uu.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Dl=uu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,ZT=Xt}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});class Qe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");let fo="12.8.0";function MI(r){fo=r}const qs=new Fm("@firebase/firestore");function Ba(){return qs.logLevel}function at(r,...t){if(qs.logLevel<=Vt.DEBUG){const n=t.map(ep);qs.debug(`Firestore (${fo}): ${r}`,...n)}}function nr(r,...t){if(qs.logLevel<=Vt.ERROR){const n=t.map(ep);qs.error(`Firestore (${fo}): ${r}`,...n)}}function to(r,...t){if(qs.logLevel<=Vt.WARN){const n=t.map(ep);qs.warn(`Firestore (${fo}): ${r}`,...n)}}function ep(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function yt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,i0(r,s,n)}function i0(r,t,n){let s=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw nr(s),new Error(s)}function Ft(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||i0(t,l,s)}function Tt(r,t){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends rr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class r0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class VI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Qe.UNAUTHENTICATED)))}shutdown(){}}class xI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class LI{constructor(t){this.t=t,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const l=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xr,t.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},m=g=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new r0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Qe(t)}}class PI{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class kI{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new PI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Qe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Bv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,at("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const l=u=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Bv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class np{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=zI(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=t.charAt(l[u]%62))}return s}}function xt(r,t){return r<t?-1:r>t?1:0}function _m(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=t.charAt(s);if(l!==u)return em(l)===em(u)?xt(l,u):em(l)?1:-1}return xt(r.length,t.length)}const BI=55296,jI=57343;function em(r){const t=r.charCodeAt(0);return t>=BI&&t<=jI}function eo(r,t,n){return r.length===t.length&&r.every(((s,l)=>n(s,t[l])))}const jv="__name__";class Ei{constructor(t,n,s){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&yt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const u=Ei.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return xt(t.length,n.length)}static compareSegments(t,n){const s=Ei.isNumericId(t),l=Ei.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Ei.extractNumericId(t).compare(Ei.extractNumericId(n)):_m(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qr.fromString(t.substring(4,t.length-2))}}class ne extends Ei{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new ne(n)}static emptyPath(){return new ne([])}}const HI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Ei{construct(t,n,s){return new $e(t,n,s)}static isValidIdentifier(t){return HI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jv}static keyField(){return new $e([jv])}static fromServerFormat(t){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new ht(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new ht(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ht(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(s+=m,l++):(u(),l++)}if(u(),f)throw new ht(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(n)}static emptyPath(){return new $e([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ne.fromString(t))}static fromName(t){return new mt(ne.fromString(t).popFirst(5))}static empty(){return new mt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ne(t.slice()))}}function s0(r,t,n){if(!n)throw new ht(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function qI(r,t,n,s){if(t===!0&&s===!0)throw new ht(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Hv(r){if(!mt.isDocumentKey(r))throw new ht(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function qv(r){if(mt.isDocumentKey(r))throw new ht(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function FI(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function GI(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function ch(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=GI(r);throw new ht(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Ce(r,t){const n={typeString:r};return t&&(n.value=t),n}function nu(r,t){if(!FI(r))throw new ht(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(l&&typeof f!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ht(W.INVALID_ARGUMENT,n);return!0}const Fv=-62135596800,Gv=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(t){return ge.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Gv);return new ge(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Fv)throw new ht(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(nu(t,ge._jsonSchema))return new ge(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Fv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:Ce("string",ge._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ge(0,0))}static max(){return new vt(new ge(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Hl=-1;function KI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(s===1e9?new ge(n+1,0):new ge(n,s));return new Wr(l,mt.empty(),t)}function YI(r){return new Wr(r.readTime,r.key,Hl)}class Wr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Wr(vt.min(),mt.empty(),Hl)}static max(){return new Wr(vt.max(),mt.empty(),Hl)}}function QI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(r.documentKey,t.documentKey),n!==0?n:xt(r.largestBatchId,t.largestBatchId))}const XI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $I{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function mo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==XI)throw r;at("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):J.reject(n)}static resolve(t){return new J(((n,s)=>{n(t)}))}static reject(t){return new J(((n,s)=>{s(t)}))}static waitFor(t){return new J(((n,s)=>{let l=0,u=0,f=!1;t.forEach((m=>{++l,m.next((()=>{++u,f&&u===l&&n()}),(g=>s(g)))})),f=!0,u===l&&n()}))}static or(t){let n=J.resolve(!1);for(const s of t)n=n.next((l=>l?J.resolve(l):s()));return n}static forEach(t,n){const s=[];return t.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(t,n){return new J(((s,l)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>l(E)))}}))}static doWhile(t,n){return new J(((s,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):s()};u()}))}}function JI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function po(r){return r.name==="IndexedDbTransactionError"}class wh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}wh.ce=-1;const ip=-1;function Ch(r){return r==null}function vm(r){return r===0&&1/r==-1/0}const a0="";function ZI(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Kv(t)),t=WI(r.get(n),t);return Kv(t)}function WI(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case a0:n+="";break;default:n+=u}}return n}function Kv(r){return r+a0+""}function Yv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function go(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function t2(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,n){this.comparator=t,this.root=n||Fe.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Uc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Uc(this.root,t,this.comparator,!0)}}class Uc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,n,s,l,u){this.key=t,this.value=n,this.color=s??Fe.RED,this.left=l??Fe.EMPTY,this.right=u??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,u){return new Fe(t??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,s,l,u){return this}insert(t,n,s){return new Fe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qv(this.data.getIterator())}getIteratorFrom(t){return new Qv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ve(this.comparator);return n.data=t,n}}class Qv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $i{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new $i([])}unionWith(t){let n=new Ve($e.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new $i(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class o0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new o0("Invalid base64 string: "+u):u}})(t);return new Ge(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(t);return new Ge(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const e2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=e2.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function es(r){return typeof r=="string"?Ge.fromBase64String(r):Ge.fromUint8Array(r)}const l0="server_timestamp",u0="__type__",c0="__previous_value__",h0="__local_write_time__";function rp(r){return(r?.mapValue?.fields||{})[u0]?.stringValue===l0}function Ih(r){const t=r.mapValue.fields[c0];return rp(t)?Ih(t):t}function ql(r){const t=ts(r.mapValue.fields[h0].timestampValue);return new ge(t.seconds,t.nanos)}class n2{constructor(t,n,s,l,u,f,m,g,y,E,S){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=S}}const hh="(default)";class Fl{constructor(t,n){this.projectId=t,this.database=n||hh}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===hh}isEqual(t){return t instanceof Fl&&t.projectId===this.projectId&&t.database===this.database}}function i2(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ht(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(r.options.projectId,t)}const r2="__type__",s2="__max__",zc={mapValue:{}},a2="__vector__",Em="value";function ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?rp(r)?4:l2(r)?9007199254740991:o2(r)?10:11:yt(28295,{value:r})}function wi(r,t){if(r===t)return!0;const n=ns(r);if(n!==ns(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return ql(r).isEqual(ql(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=ts(l.timestampValue),m=ts(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,u){return es(l.bytesValue).isEqual(es(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,u){return pe(l.geoPointValue.latitude)===pe(u.geoPointValue.latitude)&&pe(l.geoPointValue.longitude)===pe(u.geoPointValue.longitude)})(r,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return pe(l.integerValue)===pe(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=pe(l.doubleValue),m=pe(u.doubleValue);return f===m?vm(f)===vm(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return eo(r.arrayValue.values||[],t.arrayValue.values||[],wi);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(Yv(f)!==Yv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!wi(f[g],m[g])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Gl(r,t){return(r.values||[]).find((n=>wi(n,t)))!==void 0}function no(r,t){if(r===t)return 0;const n=ns(r),s=ns(t);if(n!==s)return xt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=pe(u.integerValue||u.doubleValue),g=pe(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,t);case 3:return Xv(r.timestampValue,t.timestampValue);case 4:return Xv(ql(r),ql(t));case 5:return _m(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=es(u),g=es(f);return m.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=xt(m[y],g[y]);if(E!==0)return E}return xt(m.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=xt(pe(u.latitude),pe(f.latitude));return m!==0?m:xt(pe(u.longitude),pe(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return $v(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[Em]?.arrayValue,E=g[Em]?.arrayValue,S=xt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:$v(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===zc.mapValue&&f===zc.mapValue)return 0;if(u===zc.mapValue)return 1;if(f===zc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const D=_m(g[S],E[S]);if(D!==0)return D;const z=no(m[g[S]],y[E[S]]);if(z!==0)return z}return xt(g.length,E.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function Xv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const n=ts(r),s=ts(t),l=xt(n.seconds,s.seconds);return l!==0?l:xt(n.nanos,s.nanos)}function $v(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=no(n[l],s[l]);if(u)return u}return xt(n.length,s.length)}function io(r){return Tm(r)}function Tm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ts(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return es(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return mt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=Tm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${Tm(n.fields[f])}`;return l+"}"})(r.mapValue):yt(61005,{value:r})}function $c(r){switch(ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ih(r);return t?16+$c(t):16;case 5:return 2*r.stringValue.length;case 6:return es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+$c(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return go(s.fields,((u,f)=>{l+=u.length+$c(f)})),l})(r.mapValue);default:throw yt(13486,{value:r})}}function Sm(r){return!!r&&"integerValue"in r}function sp(r){return!!r&&"arrayValue"in r}function Jv(r){return!!r&&"nullValue"in r}function Zv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Jc(r){return!!r&&"mapValue"in r}function o2(r){return(r?.mapValue?.fields||{})[r2]?.stringValue===a2}function xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return go(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=xl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=xl(r.arrayValue.values[n]);return t}return{...r}}function l2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===s2}class Qn{constructor(t){this.value=t}static empty(){return new Qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Jc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=xl(n)}setAll(t){let n=$e.emptyPath(),s={},l=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,l),s={},l=[],n=m.popLast()}f?s[m.lastSegment()]=xl(f):l.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(t){const n=this.field(t.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return wi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){go(n,((l,u)=>t[l]=u));for(const l of s)delete t[l]}clone(){return new Qn(xl(this.value))}}function f0(r){const t=[];return go(r.fields,((n,s)=>{const l=new $e([n]);if(Jc(s)){const u=f0(s.mapValue).fields;if(u.length===0)t.push(l);else for(const f of u)t.push(l.child(f))}else t.push(l)})),new $i(t)}class Xe{constructor(t,n,s,l,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Xe(t,0,vt.min(),vt.min(),vt.min(),Qn.empty(),0)}static newFoundDocument(t,n,s,l){return new Xe(t,1,n,vt.min(),s,l,0)}static newNoDocument(t,n){return new Xe(t,2,n,vt.min(),vt.min(),Qn.empty(),0)}static newUnknownDocument(t,n){return new Xe(t,3,n,vt.min(),vt.min(),Qn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fh{constructor(t,n){this.position=t,this.inclusive=n}}function Wv(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const u=t[l],f=r.position[l];if(u.field.isKeyField()?s=mt.comparator(mt.fromName(f.referenceValue),n.key):s=no(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function tE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!wi(r.position[n],t.position[n]))return!1;return!0}class dh{constructor(t,n="asc"){this.field=t,this.dir=n}}function u2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class d0{}class Me extends d0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new h2(t,n,s):n==="array-contains"?new m2(t,s):n==="in"?new p2(t,s):n==="not-in"?new g2(t,s):n==="array-contains-any"?new y2(t,s):new Me(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new f2(t,s):new d2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(no(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends d0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ci(t,n)}matches(t){return m0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function m0(r){return r.op==="and"}function p0(r){return c2(r)&&m0(r)}function c2(r){for(const t of r.filters)if(t instanceof Ci)return!1;return!0}function Am(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+io(r.value);if(p0(r))return r.filters.map((t=>Am(t))).join(",");{const t=r.filters.map((n=>Am(n))).join(",");return`${r.op}(${t})`}}function g0(r,t){return r instanceof Me?(function(s,l){return l instanceof Me&&s.op===l.op&&s.field.isEqual(l.field)&&wi(s.value,l.value)})(r,t):r instanceof Ci?(function(s,l){return l instanceof Ci&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,f,m)=>u&&g0(f,l.filters[m])),!0):!1})(r,t):void yt(19439)}function y0(r){return r instanceof Me?(function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`})(r):r instanceof Ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(y0).join(" ,")+"}"})(r):"Filter"}class h2 extends Me{constructor(t,n,s){super(t,n,s),this.key=mt.fromName(s.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class f2 extends Me{constructor(t,n){super(t,"in",n),this.keys=_0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class d2 extends Me{constructor(t,n){super(t,"not-in",n),this.keys=_0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function _0(r,t){return(t.arrayValue?.values||[]).map((n=>mt.fromName(n.referenceValue)))}class m2 extends Me{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return sp(n)&&Gl(n.arrayValue,this.value)}}class p2 extends Me{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Gl(this.value.arrayValue,n)}}class g2 extends Me{constructor(t,n){super(t,"not-in",n)}matches(t){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gl(this.value.arrayValue,n)}}class y2 extends Me{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Gl(this.value.arrayValue,s)))}}class _2{constructor(t,n=null,s=[],l=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function eE(r,t=null,n=[],s=[],l=null,u=null,f=null){return new _2(r,t,n,s,l,u,f)}function ap(r){const t=Tt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Am(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ch(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>io(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>io(s))).join(",")),t.Te=n}return t.Te}function op(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!u2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!g0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!tE(r.startAt,t.startAt)&&tE(r.endAt,t.endAt)}function bm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Dh{constructor(t,n=null,s=[],l=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function v2(r,t,n,s,l,u,f,m){return new Dh(r,t,n,s,l,u,f,m)}function v0(r){return new Dh(r)}function nE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function E2(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function T2(r){return r.collectionGroup!==null}function Ll(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ve($e.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new dh(u,s))})),n.has($e.keyField().canonicalString())||t.Ie.push(new dh($e.keyField(),s))}return t.Ie}function bi(r){const t=Tt(r);return t.Ee||(t.Ee=S2(t,Ll(r))),t.Ee}function S2(r,t){if(r.limitType==="F")return eE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new dh(l.field,u)}));const n=r.endAt?new fh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new fh(r.startAt.position,r.startAt.inclusive):null;return eE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Rm(r,t,n){return new Dh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Oh(r,t){return op(bi(r),bi(t))&&r.limitType===t.limitType}function E0(r){return`${ap(bi(r))}|lt:${r.limitType}`}function ja(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>y0(l))).join(", ")}]`),Ch(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>io(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>io(l))).join(",")),`Target(${s})`})(bi(r))}; limitType=${r.limitType})`}function Nh(r,t){return t.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):mt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,l){for(const u of Ll(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(f,m,g){const y=Wv(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,Ll(s),l)||s.endAt&&!(function(f,m,g){const y=Wv(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,Ll(s),l))})(r,t)}function A2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function T0(r){return(t,n)=>{let s=!1;for(const l of Ll(r)){const u=b2(l,t,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function b2(r,t,n){const s=r.field.isKeyField()?mt.comparator(t.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?no(g,y):yt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}class Ys{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){go(this.inner,((n,s)=>{for(const[l,u]of s)t(l,u)}))}isEmpty(){return t2(this.inner)}size(){return this.innerSize}}const R2=new le(mt.comparator);function ir(){return R2}const S0=new le(mt.comparator);function Ol(...r){let t=S0;for(const n of r)t=t.insert(n.key,n);return t}function A0(r){let t=S0;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function zs(){return Pl()}function b0(){return Pl()}function Pl(){return new Ys((r=>r.toString()),((r,t)=>r.isEqual(t)))}const w2=new le(mt.comparator),C2=new Ve(mt.comparator);function Lt(...r){let t=C2;for(const n of r)t=t.add(n);return t}const I2=new Ve(xt);function D2(){return I2}function O2(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vm(t)?"-0":t}}function N2(r){return{integerValue:""+r}}class Mh{constructor(){this._=void 0}}function M2(r,t,n){return r instanceof mh?(function(l,u){const f={fields:{[u0]:{stringValue:l0},[h0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&rp(u)&&(u=Ih(u)),u&&(f.fields[c0]=u),{mapValue:f}})(n,t):r instanceof Kl?w0(r,t):r instanceof Yl?C0(r,t):(function(l,u){const f=R0(l,u),m=iE(f)+iE(l.Ae);return Sm(f)&&Sm(l.Ae)?N2(m):O2(l.serializer,m)})(r,t)}function V2(r,t,n){return r instanceof Kl?w0(r,t):r instanceof Yl?C0(r,t):n}function R0(r,t){return r instanceof ph?(function(s){return Sm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class mh extends Mh{}class Kl extends Mh{constructor(t){super(),this.elements=t}}function w0(r,t){const n=I0(t);for(const s of r.elements)n.some((l=>wi(l,s)))||n.push(s);return{arrayValue:{values:n}}}class Yl extends Mh{constructor(t){super(),this.elements=t}}function C0(r,t){let n=I0(t);for(const s of r.elements)n=n.filter((l=>!wi(l,s)));return{arrayValue:{values:n}}}class ph extends Mh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function iE(r){return pe(r.integerValue||r.doubleValue)}function I0(r){return sp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function x2(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Kl&&l instanceof Kl||s instanceof Yl&&l instanceof Yl?eo(s.elements,l.elements,wi):s instanceof ph&&l instanceof ph?wi(s.Ae,l.Ae):s instanceof mh&&l instanceof mh})(r.transform,t.transform)}class L2{constructor(t,n){this.version=t,this.transformResults=n}}class Zi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Zi}static exists(t){return new Zi(void 0,t)}static updateTime(t){return new Zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Zc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Vh{}function D0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new lp(r.key,Zi.none()):new xh(r.key,r.data,Zi.none());{const n=r.data,s=Qn.empty();let l=new Ve($e.comparator);for(let u of t.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new yo(r.key,s,new $i(l.toArray()),Zi.none())}}function P2(r,t,n){r instanceof xh?(function(l,u,f){const m=l.value.clone(),g=sE(l.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof yo?(function(l,u,f){if(!Zc(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=sE(l.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(O0(l)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function kl(r,t,n,s){return r instanceof xh?(function(u,f,m,g){if(!Zc(u.precondition,f))return m;const y=u.value.clone(),E=aE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof yo?(function(u,f,m,g){if(!Zc(u.precondition,f))return m;const y=aE(u.fieldTransforms,g,f),E=f.data;return E.setAll(O0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,f,m){return Zc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function k2(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),u=R0(s.transform,l||null);u!=null&&(n===null&&(n=Qn.empty()),n.set(s.field,u))}return n||null}function rE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&eo(s,l,((u,f)=>x2(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class xh extends Vh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class yo extends Vh{constructor(t,n,s,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function O0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function sE(r,t,n){const s=new Map;Ft(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let l=0;l<n.length;l++){const u=r[l],f=u.transform,m=t.data.field(u.field);s.set(u.field,V2(f,m,n[l]))}return s}function aE(r,t,n){const s=new Map;for(const l of r){const u=l.transform,f=n.data.field(l.field);s.set(l.field,M2(u,f,t))}return s}class lp extends Vh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U2 extends Vh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class z2{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&P2(u,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=kl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=kl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=b0();return this.mutations.forEach((l=>{const u=t.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(l.key)?null:m;const g=D0(f,m);g!==null&&s.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(vt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,((n,s)=>rE(n,s)))&&eo(this.baseMutations,t.baseMutations,((n,s)=>rE(n,s)))}}class up{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return w2})();const u=t.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new up(t,n,s,l)}}class B2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class j2{constructor(t,n){this.count=t,this.unchangedNames=n}}var we,Ut;function H2(r){switch(r){case W.OK:return yt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function N0(r){if(r===void 0)return nr("GRPC error has no .code"),W.UNKNOWN;switch(r){case we.OK:return W.OK;case we.CANCELLED:return W.CANCELLED;case we.UNKNOWN:return W.UNKNOWN;case we.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case we.INTERNAL:return W.INTERNAL;case we.UNAVAILABLE:return W.UNAVAILABLE;case we.UNAUTHENTICATED:return W.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case we.NOT_FOUND:return W.NOT_FOUND;case we.ALREADY_EXISTS:return W.ALREADY_EXISTS;case we.PERMISSION_DENIED:return W.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case we.ABORTED:return W.ABORTED;case we.OUT_OF_RANGE:return W.OUT_OF_RANGE;case we.UNIMPLEMENTED:return W.UNIMPLEMENTED;case we.DATA_LOSS:return W.DATA_LOSS;default:return yt(39323,{code:r})}}(Ut=we||(we={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function q2(){return new TextEncoder}const F2=new Qr([4294967295,4294967295],0);function oE(r){const t=q2().encode(r),n=new JT;return n.update(t),new Uint8Array(n.digest())}function lE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Qr([n,s],0),new Qr([l,u],0)]}class cp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(s<0)throw new Nl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Qr.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply(Qr.fromNumber(s)));return l.compare(F2)===1&&(l=new Qr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=oE(t),[s,l]=lE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new cp(u,l,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=oE(t),[s,l]=lE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);this.be(f)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lh{constructor(t,n,s,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,iu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Lh(vt.min(),l,new le(xt),ir(),Lt())}}class iu{constructor(t,n,s,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new iu(s,n,Lt(),Lt(),Lt())}}class Wc{constructor(t,n,s,l){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=l}}class M0{constructor(t,n){this.targetId=t,this.Ce=n}}class V0{constructor(t,n,s=Ge.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class uE{constructor(){this.ve=0,this.Fe=cE(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:yt(38017,{changeType:u})}})),new iu(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=cE()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class G2{constructor(t){this.Ge=t,this.ze=new Map,this.je=ir(),this.He=Bc(),this.Je=Bc(),this.Ze=new le(xt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(bm(u))if(s===0){const f=new mt(u.path);this.et(n,f,Xe.newNoDocument(f,vt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let f,m;try{f=es(s).toUint8Array()}catch(g){if(g instanceof o0)return to("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new cp(f,l,u)}catch(g){return to(g instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&bm(m.target)){const g=new mt(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Xe.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=Lt();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const l=new Lh(t,n,this.Ze,this.je,s);return this.je=ir(),this.He=Bc(),this.Je=Bc(),this.Ze=new le(xt),l}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new uE,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Ve(xt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Ve(xt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||at("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new uE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Bc(){return new le(mt.comparator)}function cE(){return new le(mt.comparator)}const K2={asc:"ASCENDING",desc:"DESCENDING"},Y2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q2={and:"AND",or:"OR"};class X2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function wm(r,t){return r.useProto3Json||Ch(t)?t:{value:t}}function x0(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $2(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function J2(r,t){return x0(r,t.toTimestamp())}function Ri(r){return Ft(!!r,49232),vt.fromTimestamp((function(n){const s=ts(n);return new ge(s.seconds,s.nanos)})(r))}function L0(r,t){return Cm(r,t).canonicalString()}function Cm(r,t){const n=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function P0(r){const t=ne.fromString(r);return Ft(j0(t),10190,{key:t.toString()}),t}function Im(r,t){return L0(r.databaseId,t.path)}function nm(r,t){const n=P0(t);if(n.get(1)!==r.databaseId.projectId)throw new ht(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ht(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new mt(U0(n))}function k0(r,t){return L0(r.databaseId,t)}function Z2(r){const t=P0(r);return t.length===4?ne.emptyPath():U0(t)}function Dm(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function U0(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function hE(r,t,n){return{name:Im(r,t),fields:n.value.mapValue.fields}}function W2(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),Ge.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ge.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?W.UNKNOWN:N0(y.code);return new ht(E,y.message||"")})(f);n=new V0(s,l,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=nm(r,s.document.name),u=Ri(s.document.updateTime),f=s.document.createTime?Ri(s.document.createTime):vt.min(),m=new Qn({mapValue:{fields:s.document.fields}}),g=Xe.newFoundDocument(l,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Wc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=nm(r,s.document),u=s.readTime?Ri(s.readTime):vt.min(),f=Xe.newNoDocument(l,u),m=s.removedTargetIds||[];n=new Wc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=nm(r,s.document),u=s.removedTargetIds||[];n=new Wc([],u,l,null)}else{if(!("filter"in t))return yt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new j2(l,u),m=s.targetId;n=new M0(m,f)}}return n}function tD(r,t){let n;if(t instanceof xh)n={update:hE(r,t.key,t.value)};else if(t instanceof lp)n={delete:Im(r,t.key)};else if(t instanceof yo)n={update:hE(r,t.key,t.data),updateMask:uD(t.fieldMask)};else{if(!(t instanceof U2))return yt(16599,{dt:t.type});n={verify:Im(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof mh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Kl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Yl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ph)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw yt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:J2(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:yt(27497)})(r,t.precondition)),n}function eD(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((n=>(function(l,u){let f=l.updateTime?Ri(l.updateTime):Ri(u);return f.isEqual(vt.min())&&(f=Ri(u)),new L2(f,l.transformResults||[])})(n,t)))):[]}function nD(r,t){return{documents:[k0(r,t.path)]}}function iD(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=k0(r,l);const u=(function(y){if(y.length!==0)return B0(Ci.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(D){return{field:Ha(D.field),direction:aD(D.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=wm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:l}}function rD(r){let t=Z2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ft(s===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const D=z0(S);return D instanceof Ci&&p0(D)?D.getFilters():[D]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((D=>(function(Z){return new dh(qa(Z.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(D)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let D;return D=typeof S=="object"?S.value:S,Ch(D)?null:D})(n.limit));let g=null;n.startAt&&(g=(function(S){const D=!!S.before,z=S.values||[];return new fh(z,D)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const D=!S.before,z=S.values||[];return new fh(z,D)})(n.endAt)),v2(t,l,f,u,m,"F",g,y)}function sD(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function z0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=qa(n.unaryFilter.field);return Me.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=qa(n.unaryFilter.field);return Me.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qa(n.unaryFilter.field);return Me.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=qa(n.unaryFilter.field);return Me.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Me.create(qa(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ci.create(n.compositeFilter.filters.map((s=>z0(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(n.compositeFilter.op))})(r):yt(30097,{filter:r})}function aD(r){return K2[r]}function oD(r){return Y2[r]}function lD(r){return Q2[r]}function Ha(r){return{fieldPath:r.canonicalString()}}function qa(r){return $e.fromServerFormat(r.fieldPath)}function B0(r){return r instanceof Me?(function(n){if(n.op==="=="){if(Zv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NAN"}};if(Jv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NAN"}};if(Jv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(n.field),op:oD(n.op),value:n.value}}})(r):r instanceof Ci?(function(n){const s=n.getFilters().map((l=>B0(l)));return s.length===1?s[0]:{compositeFilter:{op:lD(n.op),filters:s}}})(r):yt(54877,{filter:r})}function uD(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function j0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class qr{constructor(t,n,s,l,u=vt.min(),f=vt.min(),m=Ge.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class cD{constructor(t){this.yt=t}}function hD(r){const t=rD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Rm(t,t.limit,"L"):t}class fD{constructor(){this.Sn=new dD}addToCollectionParentIndex(t,n){return this.Sn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(Wr.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(Wr.min())}updateCollectionGroup(t,n,s){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class dD{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Ve(ne.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ve(ne.comparator)).toArray()}}const fE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H0=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(H0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class ro{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ro(0)}static ar(){return new ro(-1)}}const dE="LruGarbageCollector",mD=1048576;function mE([r,t],[n,s]){const l=xt(r,n);return l===0?xt(t,s):l}class pD{constructor(t){this.Pr=t,this.buffer=new Ve(mE),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();mE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gD{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(dE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){po(n)?at(dE,"Ignoring IndexedDB error during garbage collection: ",n):await mo(n)}await this.Ar(3e5)}))}}class yD{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return J.resolve(wh.ce);const s=new pD(n);return this.Vr.forEachTarget(t,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(fE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fE):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,l,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,f=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,m=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),Ba()<=Vt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function _D(r,t){return new yD(r,t)}class vD{constructor(){this.changes=new Ys((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ED{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class TD{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(s!==null&&kl(s.mutation,l,$i.empty(),ge.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Lt()){const l=zs();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,s).next((u=>{let f=Ol();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=zs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Lt())))}populateOverlays(t,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,l){let u=ir();const f=Pl(),m=(function(){return Pl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof yo)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),kl(E.mutation,y,E.mutation.getFieldMask(),ge.now())):f.set(y.key,$i.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new ED(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Pl();let l=new le(((f,m)=>f-m)),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||$i.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(l.get(m.batchId)||Lt()).add(g);l=l.insert(m.batchId,S)}))})).next((()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=b0();E.forEach((D=>{if(!u.has(D)){const z=D0(n.get(D),s.get(D));z!==null&&S.set(D,z),u=u.add(D)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return J.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,l){return E2(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):T2(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-u.size):J.resolve(zs());let m=Hl,g=u;return f.next((y=>J.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(t,E).next((D=>{g=g.insert(E,D)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Lt()))).next((E=>({batchId:m,changes:A0(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next((s=>{let l=Ol();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const u=n.collectionGroup;let f=Ol();return this.indexManager.getCollectionParents(t,u).next((m=>J.forEach(m,(g=>{const y=(function(S,D){return new Dh(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next((E=>{E.forEach(((S,D)=>{f=f.insert(S,D)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,l)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Xe.newInvalidDocument(E)))}));let m=Ol();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&kl(E.mutation,y,$i.empty(),ge.now()),Nh(n,y)&&(m=m.insert(g,y))})),m}))}}class SD{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return J.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Ri(l.createTime)}})(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:hD(l.bundledQuery),readTime:Ri(l.readTime)}})(n)),J.resolve()}}class AD{constructor(){this.overlays=new le(mt.comparator),this.Lr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const s=zs();return J.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((l,u)=>{this.bt(t,n,u)})),J.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),J.resolve()}getOverlaysForCollection(t,n,s){const l=zs(),u=n.length+1,f=new mt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&l.set(g.getKey(),g)}return J.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let u=new le(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=zs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=zs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=l)););return J.resolve(m)}bt(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new B2(n,s));let u=this.Lr.get(n);u===void 0&&(u=Lt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class bD{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}class hp{constructor(){this.kr=new Ve(ke.Kr),this.qr=new Ve(ke.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new ke(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new ke(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new mt(new ne([])),s=new ke(n,t),l=new ke(n,t+1),u=[];return this.qr.forEachInRange([s,l],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new mt(new ne([])),s=new ke(n,t),l=new ke(n,t+1);let u=Lt();return this.qr.forEachInRange([s,l],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new ke(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ke{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return mt.comparator(t.key,n.key)||xt(t.Hr,n.Hr)}static Ur(t,n){return xt(t.Hr,n.Hr)||mt.comparator(t.key,n.key)}}class RD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ve(ke.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new z2(u,n,s,l);this.mutationQueue.push(f);for(const m of l)this.Jr=this.Jr.add(new ke(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(t,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.Xr(s),u=l<0?0:l;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?ip:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ke(n,0),l=new ke(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,l],(f=>{const m=this.Zr(f.Hr);u.push(m)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ve(xt);return n.forEach((l=>{const u=new ke(l,0),f=new ke(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),J.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let u=s;mt.isDocumentKey(u)||(u=u.child(""));const f=new ke(new mt(u),0);let m=new Ve(xt);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(m=m.add(g.Hr)),!0)}),f),J.resolve(this.Yr(m))}Yr(t){const n=[];return t.forEach((s=>{const l=this.Zr(s);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Ft(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return J.forEach(n.mutations,(l=>{const u=new ke(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new ke(n,0),l=this.Jr.firstAfterOrEqual(s);return J.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class wD{constructor(t){this.ti=t,this.docs=(function(){return new le(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(t,n){let s=ir();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():Xe.newInvalidDocument(l))})),J.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let u=ir();const f=n.path,m=new mt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||QI(YI(E),s)<=0||(l.has(E.key)||Nh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,n,s,l){yt(9500)}ni(t,n){return J.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new CD(this)}getSize(t){return J.resolve(this.size)}}class CD extends vD{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(s)})),J.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class ID{constructor(t){this.persistence=t,this.ri=new Ys((n=>ap(n)),op),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new hp,this.targetCount=0,this.oi=ro._r()}forEachTarget(t,n){return this.ri.forEach(((s,l)=>n(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),J.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new ro(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.lr(n),J.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,s){let l=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)})),J.waitFor(u).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return J.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),J.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(t,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),J.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return J.resolve(s)}containsKey(t,n){return J.resolve(this.si.containsKey(n))}}class q0{constructor(t,n){this._i={},this.overlays={},this.ai=new wh(0),this.ui=!1,this.ui=!0,this.ci=new bD,this.referenceDelegate=t(this),this.li=new ID(this),this.indexManager=new fD,this.remoteDocumentCache=(function(l){return new wD(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new cD(n),this.Pi=new SD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new AD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new RD(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){at("MemoryPersistence","Starting transaction:",t);const l=new DD(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(t,n){return J.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class DD extends $I{constructor(t){super(),this.currentSequenceNumber=t}}class fp{constructor(t){this.persistence=t,this.Ri=new hp,this.Ai=null}static Vi(t){return new fp(t)}get di(){if(this.Ai)return this.Ai;throw yt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),J.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),J.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(s=>{const l=mt.fromPath(s);return this.mi(t,l).next((u=>{u||n.removeEntry(l,vt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class gh{constructor(t,n){this.persistence=t,this.fi=new Ys((s=>ZI(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=_D(this,n)}static Vi(t,n){return new gh(t,n)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((l=>s+l))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return J.forEach(this.fi,((s,l)=>this.wr(t,s,l).next((u=>u?J.resolve():n(l)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(t,(f=>this.wr(t,f,n).next((m=>{m||(s++,u.removeEntry(f,vt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),J.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=$c(t.data.value)),n}wr(t,n,s){return J.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.fi.get(n);return J.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class dp{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=l}static Es(t,n){let s=Lt(),l=Lt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new dp(t,n.fromCache,s,l)}}class OD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class ND{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return tR()?8:JI(Je())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const u={result:null};return this.gs(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(t,n,l,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new OD;return this.ys(t,n,f).next((m=>{if(u.result=m,this.As)return this.ws(t,n,f,m.size)}))})).next((()=>u.result))}ws(t,n,s,l){return s.documentReadCount<this.Vs?(Ba()<=Vt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Ba()<=Vt.DEBUG&&at("QueryEngine","Query:",ja(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Ba()<=Vt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(n))):J.resolve())}gs(t,n){if(nE(n))return J.resolve(null);let s=bi(n);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Rm(n,null,"F"),s=bi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Lt(...u);return this.fs.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,f,g.readTime)?this.gs(t,Rm(n,null,"F")):this.Ds(t,y,n,g)}))))})))))}ps(t,n,s,l){return nE(n)||l.isEqual(vt.min())?J.resolve(null):this.fs.getDocuments(t,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,l)?J.resolve(null):(Ba()<=Vt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ja(n)),this.Ds(t,f,n,KI(l,Hl)).next((m=>m)))}))}bs(t,n){let s=new Ve(T0(t));return n.forEach(((l,u)=>{Nh(t,u)&&(s=s.add(u))})),s}Ss(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(t,n,s){return Ba()<=Vt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",ja(n)),this.fs.getDocumentsMatchingQuery(t,n,Wr.min(),s)}Ds(t,n,s,l){return this.fs.getDocumentsMatchingQuery(t,s,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const mp="LocalStore",MD=3e8;class VD{constructor(t,n,s,l){this.persistence=t,this.Cs=n,this.serializer=l,this.vs=new le(xt),this.Fs=new Ys((u=>ap(u)),op),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new TD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function xD(r,t,n,s){return new VD(r,t,n,s)}async function F0(r,t){const n=Tt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Lt();for(const y of l){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function LD(r,t){const n=Tt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const S=y.batch,D=S.keys();let z=J.resolve();return D.forEach((Z=>{z=z.next((()=>E.getEntry(g,Z))).next(($=>{const K=y.docVersions.get(Z);Ft(K!==null,48541),$.version.compareTo(K)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),E.addEntry($)))}))})),z.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Lt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function G0(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function PD(r,t){const n=Tt(r),s=t.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const m=[];t.targetChanges.forEach(((E,S)=>{const D=l.get(S);if(!D)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,S))));let z=D.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?z=z.withResumeToken(Ge.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):E.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(E.resumeToken,s)),l=l.insert(S,z),(function($,K,et){return $.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=MD?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(D,z,E)&&m.push(n.li.updateTargetData(u,z))}));let g=ir(),y=Lt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(kD(u,f,t.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!s.isEqual(vt.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return J.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=l,u)))}function kD(r,t,n){let s=Lt(),l=Lt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=ir();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(vt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):at(mp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:l}}))}function UD(r,t){const n=Tt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=ip),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function zD(r,t){const n=Tt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.li.getTargetData(s,t).next((u=>u?(l=u,J.resolve(l)):n.li.allocateTargetId(s).next((f=>(l=new qr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function Om(r,t,n){const s=Tt(r),l=s.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!po(f))throw f;at(mp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.vs=s.vs.remove(t),s.Fs.delete(l.target)}function pE(r,t,n){const s=Tt(r);let l=vt.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=Tt(g),D=S.Fs.get(E);return D!==void 0?J.resolve(S.vs.get(D)):S.li.getTargetData(y,E)})(s,f,bi(t)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,t,n?l:vt.min(),n?u:Lt()))).next((m=>(BD(s,A2(t),m),{documents:m,ks:u})))))}function BD(r,t,n){let s=r.Ms.get(t)||vt.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(t,s)}class gE{constructor(){this.activeTargetIds=D2()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jD{constructor(){this.vo=new gE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new gE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class HD{Mo(t){}shutdown(){}}const yE="ConnectivityMonitor";class _E{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(yE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(yE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function Nm(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const im="RestConnection",qD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class FD{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===hh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,n,s,l,u){const f=Nm(),m=this.Qo(t,n.toUriEncodedString());at(im,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,l,u);const{host:y}=new URL(m),E=lo(y);return this.zo(t,m,g,s,E).then((S=>(at(im,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw to(im,`RPC '${t}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}jo(t,n,s,l,u,f){return this.Wo(t,n,s,l,u)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),s&&s.headers.forEach(((l,u)=>t[u]=l))}Qo(t,n){const s=qD[t];let l=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class GD{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Ye="WebChannelConnection",wl=(r,t,n)=>{r.listen(t,(s=>{try{n(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Qa extends FD{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Qa.c_){const t=e0();wl(t,t0.STAT_EVENT,(n=>{n.stat===ym.PROXY?at(Ye,"STAT_EVENT: detected buffering proxy"):n.stat===ym.NOPROXY&&at(Ye,"STAT_EVENT: detected no buffering proxy")})),Qa.c_=!0}}zo(t,n,s,l,u){const f=Nm();return new Promise(((m,g)=>{const y=new ZT;y.setWithCredentials(!0),y.listenOnce(WT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Xc.NO_ERROR:const S=y.getResponseJson();at(Ye,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),m(S);break;case Xc.TIMEOUT:at(Ye,`RPC '${t}' ${f} timed out`),g(new ht(W.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const D=y.getStatus();if(at(Ye,`RPC '${t}' ${f} failed with status:`,D,"response text:",y.getResponseText()),D>0){let z=y.getResponseJson();Array.isArray(z)&&(z=z[0]);const Z=z?.error;if(Z&&Z.status&&Z.message){const $=(function(et){const tt=et.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(tt)>=0?tt:W.UNKNOWN})(Z.status);g(new ht($,Z.message))}else g(new ht(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ht(W.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(Ye,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(l);at(Ye,`RPC '${t}' ${f} sending request:`,l),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const l=Nm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");at(Ye,`Creating RPC '${t}' stream ${l}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let S=!1,D=!1;const z=new GD({Ho:Z=>{D?at(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(S||(at(Ye,`Opening RPC '${t}' stream ${l} transport.`),E.open(),S=!0),at(Ye,`RPC '${t}' stream ${l} sending:`,Z),E.send(Z))},Jo:()=>E.close()});return wl(E,Dl.EventType.OPEN,(()=>{D||(at(Ye,`RPC '${t}' stream ${l} transport opened.`),z.i_())})),wl(E,Dl.EventType.CLOSE,(()=>{D||(D=!0,at(Ye,`RPC '${t}' stream ${l} transport closed`),z.o_(),this.E_(E))})),wl(E,Dl.EventType.ERROR,(Z=>{D||(D=!0,to(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),z.o_(new ht(W.UNAVAILABLE,"The operation could not be completed")))})),wl(E,Dl.EventType.MESSAGE,(Z=>{if(!D){const $=Z.data[0];Ft(!!$,16349);const K=$,et=K?.error||K[0]?.error;if(et){at(Ye,`RPC '${t}' stream ${l} received error:`,et);const tt=et.status;let it=(function(wt){const I=we[wt];if(I!==void 0)return N0(I)})(tt),Ct=et.message;it===void 0&&(it=W.INTERNAL,Ct="Unknown error status: "+tt+" with message "+et.message),D=!0,z.o_(new ht(it,Ct)),E.close()}else at(Ye,`RPC '${t}' stream ${l} received:`,$),z.__($)}})),Qa.u_(),setTimeout((()=>{z.s_()}),0),z}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return n0()}}function KD(r){return new Qa(r)}function rm(){return typeof document<"u"?document:null}function K0(r){return new X2(r,!0)}Qa.c_=!1;class Y0{constructor(t,n,s=1e3,l=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const vE="PersistentStream";class Q0{constructor(t,n,s,l,u,f,m,g){this.Ci=t,this.b_=s,this.S_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{t((()=>{const l=new ht(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(vE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(at(vE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YD extends Q0{constructor(t,n,s,l,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=W2(this.serializer,t),s=(function(u){if(!("targetChange"in u))return vt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?vt.min():f.readTime?Ri(f.readTime):vt.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=Dm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=bm(g)?{documents:nD(u,g)}:{query:iD(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=$2(u,f.resumeToken);const y=wm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(vt.min())>0){m.readTime=x0(u,f.snapshotVersion.toTimestamp());const y=wm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=sD(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=Dm(this.serializer),n.removeTarget=t,this.K_(n)}}class QD extends Q0{constructor(t,n,s,l,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=eD(t.writeResults,t.commitTime),s=Ri(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Dm(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>tD(this.serializer,s)))};this.K_(n)}}class XD{}class $D extends XD{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ht(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,Cm(n,s),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(W.UNKNOWN,u.toString())}))}jo(t,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(t,Cm(n,s),l,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ht(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function JD(r,t,n,s){return new $D(r,t,n,s)}class ZD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nr(n),this.aa=!1):at("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fs="RemoteStore";class WD{constructor(t,n,s,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{Qs(this)&&(at(Fs,"Restarting streams for network reachability change."),await(async function(g){const y=Tt(g);y.Ea.add(4),await ru(y),y.Va.set("Unknown"),y.Ea.delete(4),await Ph(y)})(this))}))})),this.Va=new ZD(s,l)}}async function Ph(r){if(Qs(r))for(const t of r.Ra)await t(!0)}async function ru(r){for(const t of r.Ra)await t(!1)}function X0(r,t){const n=Tt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),_p(n)?yp(n):_o(n).O_()&&gp(n,t))}function pp(r,t){const n=Tt(r),s=_o(n);n.Ia.delete(t),s.O_()&&$0(n,t),n.Ia.size===0&&(s.O_()?s.L_():Qs(n)&&n.Va.set("Unknown"))}function gp(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_o(r).Z_(t)}function $0(r,t){r.da.$e(t),_o(r).X_(t)}function yp(r){r.da=new G2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),_o(r).start(),r.Va.ua()}function _p(r){return Qs(r)&&!_o(r).x_()&&r.Ia.size>0}function Qs(r){return Tt(r).Ea.size===0}function J0(r){r.da=void 0}async function tO(r){r.Va.set("Online")}async function eO(r){r.Ia.forEach(((t,n)=>{gp(r,t)}))}async function nO(r,t){J0(r),_p(r)?(r.Va.ha(t),yp(r)):r.Va.set("Unknown")}async function iO(r,t,n){if(r.Va.set("Online"),t instanceof V0&&t.state===2&&t.cause)try{await(async function(l,u){const f=u.cause;for(const m of u.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.Ia.delete(m),l.da.removeTarget(m))})(r,t)}catch(s){at(Fs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await yh(r,s)}else if(t instanceof Wc?r.da.Xe(t):t instanceof M0?r.da.st(t):r.da.tt(t),!n.isEqual(vt.min()))try{const s=await G0(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Ge.EMPTY_BYTE_STRING,E.snapshotVersion)),$0(u,g);const S=new qr(E.target,g,y,E.sequenceNumber);gp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){at(Fs,"Failed to raise snapshot:",s),await yh(r,s)}}async function yh(r,t,n){if(!po(t))throw t;r.Ea.add(1),await ru(r),r.Va.set("Offline"),n||(n=()=>G0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Fs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Ph(r)}))}function Z0(r,t){return t().catch((n=>yh(r,n,t)))}async function kh(r){const t=Tt(r),n=is(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ip;for(;rO(t);)try{const l=await UD(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,sO(t,l)}catch(l){await yh(t,l)}W0(t)&&tS(t)}function rO(r){return Qs(r)&&r.Ta.length<10}function sO(r,t){r.Ta.push(t);const n=is(r);n.O_()&&n.Y_&&n.ea(t.mutations)}function W0(r){return Qs(r)&&!is(r).x_()&&r.Ta.length>0}function tS(r){is(r).start()}async function aO(r){is(r).ra()}async function oO(r){const t=is(r);for(const n of r.Ta)t.ea(n.mutations)}async function lO(r,t,n){const s=r.Ta.shift(),l=up.from(s,t,n);await Z0(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await kh(r)}async function uO(r,t){t&&is(r).Y_&&await(async function(s,l){if((function(f){return H2(f)&&f!==W.ABORTED})(l.code)){const u=s.Ta.shift();is(s).B_(),await Z0(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await kh(s)}})(r,t),W0(r)&&tS(r)}async function EE(r,t){const n=Tt(r);n.asyncQueue.verifyOperationInProgress(),at(Fs,"RemoteStore received new credentials");const s=Qs(n);n.Ea.add(3),await ru(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ph(n)}async function cO(r,t){const n=Tt(r);t?(n.Ea.delete(2),await Ph(n)):t||(n.Ea.add(2),await ru(n),n.Va.set("Unknown"))}function _o(r){return r.ma||(r.ma=(function(n,s,l){const u=Tt(n);return u.sa(),new YD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Zo:tO.bind(null,r),Yo:eO.bind(null,r),t_:nO.bind(null,r),J_:iO.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),_p(r)?yp(r):r.Va.set("Unknown")):(await r.ma.stop(),J0(r))}))),r.ma}function is(r){return r.fa||(r.fa=(function(n,s,l){const u=Tt(n);return u.sa(),new QD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:aO.bind(null,r),t_:uO.bind(null,r),ta:oO.bind(null,r),na:lO.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await kh(r)):(await r.fa.stop(),r.Ta.length>0&&(at(Fs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class vp{constructor(t,n,s,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,u){const f=Date.now()+s,m=new vp(t,n,f,l,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ep(r,t){if(nr("AsyncQueue",`${t}: ${r}`),po(r))return new ht(W.UNAVAILABLE,`${t}: ${r}`);throw r}class Xa{static emptySet(t){return new Xa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||mt.comparator(n.key,s.key):(n,s)=>mt.comparator(n.key,s.key),this.keyedMap=Ol(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Xa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class TE{constructor(){this.ga=new le(mt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class so{constructor(t,n,s,l,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,l,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new so(t,n,Xa.emptySet(n),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class hO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class fO{constructor(){this.queries=SE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Tt(n),u=l.queries;l.queries=SE(),u.forEach(((f,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new ht(W.ABORTED,"Firestore shutting down"))}}function SE(){return new Ys((r=>E0(r)),Oh)}async function dO(r,t){const n=Tt(r);let s=3;const l=t.query;let u=n.queries.get(l);u?!u.Sa()&&t.Da()&&(s=2):(u=new hO,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const m=Ep(f,`Initialization of query '${ja(t.query)}' failed`);return void t.onError(m)}n.queries.set(l,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Tp(n)}async function mO(r,t){const n=Tt(r),s=t.query;let l=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(t);f>=0&&(u.ba.splice(f,1),u.ba.length===0?l=t.Da()?0:1:!u.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function pO(r,t){const n=Tt(r);let s=!1;for(const l of t){const u=l.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(l)&&(s=!0);f.wa=l}}s&&Tp(n)}function gO(r,t,n){const s=Tt(r),l=s.queries.get(t);if(l)for(const u of l.ba)u.onError(n);s.queries.delete(t)}function Tp(r){r.Ca.forEach((t=>{t.next()}))}var Mm,AE;(AE=Mm||(Mm={})).Ma="default",AE.Cache="cache";class yO{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new so(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=so.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Mm.Cache}}class eS{constructor(t){this.key=t}}class nS{constructor(t){this.key=t}}class _O{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Lt(),this.mutatedKeys=Lt(),this.eu=T0(t),this.tu=new Xa(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new TE,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,S)=>{const D=l.get(E),z=Nh(this.query,S)?S:null,Z=!!D&&this.mutatedKeys.has(D.key),$=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let K=!1;D&&z?D.data.isEqual(z.data)?Z!==$&&(s.track({type:3,doc:z}),K=!0):this.su(D,z)||(s.track({type:2,doc:z}),K=!0,(g&&this.eu(z,g)>0||y&&this.eu(z,y)<0)&&(m=!0)):!D&&z?(s.track({type:0,doc:z}),K=!0):D&&!z&&(s.track({type:1,doc:D}),K=!0,(g||y)&&(m=!0)),K&&(z?(f=f.add(z),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,S)=>(function(z,Z){const $=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:K})}};return $(z)-$(Z)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),l=l??!1;const m=n&&!l?this._u():[],g=this.Ya.size===0&&this.current&&!l?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new so(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new TE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new nS(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new eS(s))})),n}cu(t){this.Za=t.ks,this.Ya=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Sp="SyncEngine";class vO{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class EO{constructor(t){this.key=t,this.hu=!1}}class TO{constructor(t,n,s,l,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ys((m=>E0(m)),Oh),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(mt.comparator),this.Au=new Map,this.Vu=new hp,this.du={},this.mu=new Map,this.fu=ro.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SO(r,t,n=!0){const s=lS(r);let l;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await iS(s,t,n,!0),l}async function AO(r,t){const n=lS(r);await iS(n,t,!0,!1)}async function iS(r,t,n,s){const l=await zD(r.localStore,bi(t)),u=l.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await bO(r,t,u,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&X0(r.remoteStore,l),m}async function bO(r,t,n,s,l){r.pu=(S,D,z)=>(async function($,K,et,tt){let it=K.view.ru(et);it.Ss&&(it=await pE($.localStore,K.query,!1).then((({documents:I})=>K.view.ru(I,it))));const Ct=tt&&tt.targetChanges.get(K.targetId),It=tt&&tt.targetMismatches.get(K.targetId)!=null,wt=K.view.applyChanges(it,$.isPrimaryClient,Ct,It);return RE($,K.targetId,wt.au),wt.snapshot})(r,S,D,z);const u=await pE(r.localStore,t,!0),f=new _O(t,u.ks),m=f.ru(u.documents),g=iu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=f.applyChanges(m,r.isPrimaryClient,g);RE(r,n,y.au);const E=new vO(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function RO(r,t,n){const s=Tt(r),l=s.Tu.get(t),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((f=>!Oh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Om(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&pp(s.remoteStore,l.targetId),Vm(s,l.targetId)})).catch(mo)):(Vm(s,l.targetId),await Om(s.localStore,l.targetId,!0))}async function wO(r,t){const n=Tt(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),pp(n.remoteStore,s.targetId))}async function CO(r,t,n){const s=xO(r);try{const l=await(function(f,m){const g=Tt(f),y=ge.now(),E=m.reduce(((z,Z)=>z.add(Z.key)),Lt());let S,D;return g.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let Z=ir(),$=Lt();return g.xs.getEntries(z,E).next((K=>{Z=K,Z.forEach(((et,tt)=>{tt.isValidDocument()||($=$.add(et))}))})).next((()=>g.localDocuments.getOverlayedDocuments(z,Z))).next((K=>{S=K;const et=[];for(const tt of m){const it=k2(tt,S.get(tt.key).overlayedDocument);it!=null&&et.push(new yo(tt.key,it,f0(it.value.mapValue),Zi.exists(!0)))}return g.mutationQueue.addMutationBatch(z,y,et,m)})).next((K=>{D=K;const et=K.applyToLocalDocumentSet(S,$);return g.documentOverlayCache.saveOverlays(z,K.batchId,et)}))})).then((()=>({batchId:D.batchId,changes:A0(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(f,m,g){let y=f.du[f.currentUser.toKey()];y||(y=new le(xt)),y=y.insert(m,g),f.du[f.currentUser.toKey()]=y})(s,l.batchId,n),await su(s,l.changes),await kh(s.remoteStore)}catch(l){const u=Ep(l,"Failed to persist write");n.reject(u)}}async function rS(r,t){const n=Tt(r);try{const s=await PD(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Ft(f.hu,14607):l.removedDocuments.size>0&&(Ft(f.hu,42227),f.hu=!1))})),await su(n,s,t)}catch(s){await mo(s)}}function bE(r,t,n){const s=Tt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&l.push(m.snapshot)})),(function(f,m){const g=Tt(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,S)=>{for(const D of S.ba)D.va(m)&&(y=!0)})),y&&Tp(g)})(s.eventManager,t),l.length&&s.Pu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function IO(r,t,n){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),u=l&&l.key;if(u){let f=new le(mt.comparator);f=f.insert(u,Xe.newNoDocument(u,vt.min()));const m=Lt().add(u),g=new Lh(vt.min(),new Map,new le(xt),f,m);await rS(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(t),Ap(s)}else await Om(s.localStore,t,!1).then((()=>Vm(s,t,n))).catch(mo)}async function DO(r,t){const n=Tt(r),s=t.batch.batchId;try{const l=await LD(n.localStore,t);aS(n,s,null),sS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await su(n,l)}catch(l){await mo(l)}}async function OO(r,t,n){const s=Tt(r);try{const l=await(function(f,m){const g=Tt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(Ft(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);aS(s,t,n),sS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await su(s,l)}catch(l){await mo(l)}}function sS(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function aS(r,t,n){const s=Tt(r);let l=s.du[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),s.du[s.currentUser.toKey()]=l}}function Vm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||oS(r,s)}))}function oS(r,t){r.Eu.delete(t.path.canonicalString());const n=r.Ru.get(t);n!==null&&(pp(r.remoteStore,n),r.Ru=r.Ru.remove(t),r.Au.delete(n),Ap(r))}function RE(r,t,n){for(const s of n)s instanceof eS?(r.Vu.addReference(s.key,t),NO(r,s)):s instanceof nS?(at(Sp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||oS(r,s.key)):yt(19791,{wu:s})}function NO(r,t){const n=t.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(at(Sp,"New document in limbo: "+n),r.Eu.add(s),Ap(r))}function Ap(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new mt(ne.fromString(t)),s=r.fu.next();r.Au.set(s,new EO(n)),r.Ru=r.Ru.insert(n,s),X0(r.remoteStore,new qr(bi(v0(n.path)),s,"TargetPurposeLimboResolution",wh.ce))}}async function su(r,t,n){const s=Tt(r),l=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){l.push(y);const E=dp.Es(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(l),await(async function(g,y){const E=Tt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(y,(D=>J.forEach(D.Ts,(z=>E.persistence.referenceDelegate.addReference(S,D.targetId,z))).next((()=>J.forEach(D.Is,(z=>E.persistence.referenceDelegate.removeReference(S,D.targetId,z)))))))))}catch(S){if(!po(S))throw S;at(mp,"Failed to update sequence numbers: "+S)}for(const S of y){const D=S.targetId;if(!S.fromCache){const z=E.vs.get(D),Z=z.snapshotVersion,$=z.withLastLimboFreeSnapshotVersion(Z);E.vs=E.vs.insert(D,$)}}})(s.localStore,u))}async function MO(r,t){const n=Tt(r);if(!n.currentUser.isEqual(t)){at(Sp,"User change. New user:",t.toKey());const s=await F0(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ht(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await su(n,s.Ns)}}function VO(r,t){const n=Tt(r),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let l=Lt();const u=n.Iu.get(t);if(!u)return l;for(const f of u){const m=n.Tu.get(f);l=l.unionWith(m.view.nu)}return l}}function lS(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=rS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=IO.bind(null,t),t.Pu.J_=pO.bind(null,t.eventManager),t.Pu.yu=gO.bind(null,t.eventManager),t}function xO(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OO.bind(null,t),t}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=K0(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return xD(this.persistence,new ND,t.initialUser,this.serializer)}Cu(t){return new q0(fp.Vi,this.serializer)}Du(t){return new jD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class LO extends _h{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof gh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gD(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new q0((s=>gh.Vi(s,n)),this.serializer)}}class xm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>bE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=MO.bind(null,this.syncEngine),await cO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new fO})()}createDatastore(t){const n=K0(t.databaseInfo.databaseId),s=KD(t.databaseInfo);return JD(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,l,u,f,m){return new WD(s,l,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>bE(this.syncEngine,n,0)),(function(){return _E.v()?new _E:new HD})())}createSyncEngine(t,n){return(function(l,u,f,m,g,y,E){const S=new TO(l,u,f,m,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Tt(n);at(Fs,"RemoteStore shutting down."),s.Ea.add(5),await ru(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xm.provider={build:()=>new xm};class PO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):nr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const rs="FirestoreClient";class kO{constructor(t,n,s,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=l,this.user=Qe.UNAUTHENTICATED,this.clientId=np.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{at(rs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(at(rs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Ep(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function sm(r,t){r.asyncQueue.verifyOperationInProgress(),at(rs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await F0(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function wE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await UO(r);at(rs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>EE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>EE(t.remoteStore,l))),r._onlineComponents=t}async function UO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(rs,"Using user provided OfflineComponentProvider");try{await sm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===W.FAILED_PRECONDITION||l.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),await sm(r,new _h)}}else at(rs,"Using default OfflineComponentProvider"),await sm(r,new LO(void 0));return r._offlineComponents}async function uS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(rs,"Using user provided OnlineComponentProvider"),await wE(r,r._uninitializedComponentsProvider._online)):(at(rs,"Using default OnlineComponentProvider"),await wE(r,new xm))),r._onlineComponents}function zO(r){return uS(r).then((t=>t.syncEngine))}async function BO(r){const t=await uS(r),n=t.eventManager;return n.onListen=SO.bind(null,t.syncEngine),n.onUnlisten=RO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=AO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=wO.bind(null,t.syncEngine),n}function jO(r,t,n={}){const s=new Xr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new PO({next:D=>{E.Nu(),f.enqueueAndForget((()=>mO(u,S))),D.fromCache&&g.source==="server"?y.reject(new ht(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new yO(m,E,{includeMetadataChanges:!0,Ka:!0});return dO(u,S)})(await BO(r),r.asyncQueue,t,n,s))),s.promise}function HO(r,t){const n=new Xr;return r.asyncQueue.enqueueAndForget((async()=>CO(await zO(r),t,n))),n.promise}function cS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const qO="ComponentProvider",CE=new Map;function FO(r,t,n,s,l){return new n2(r,t,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,cS(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const hS="firestore.googleapis.com",IE=!0;class DE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hS,this.ssl=IE}else this.host=t.host,this.ssl=t.ssl??IE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=H0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<mD)throw new ht(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Uh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new VI;switch(s.type){case"firstParty":return new kI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=CE.get(n);s&&(at(qO,"Removing Datastore"),CE.delete(n),s.terminate())})(this),Promise.resolve()}}function GO(r,t,n,s={}){r=ch(r,Uh);const l=lo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;l&&(uT(`https://${m}`),cT("Firestore",!0)),u.host!==hS&&u.host!==m&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:l,emulatorOptions:s};if(!Bs(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Qe.MOCK_USER;else{y=G1(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ht(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Qe(S)}r._authCredentials=new xI(new r0(y,E))}}class zh{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new zh(this.firestore,t,this._query)}}class en{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new en(this.firestore,t,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(nu(n,en._jsonSchema))return new en(t,s||null,new mt(ne.fromString(n.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:Ce("string",en._jsonSchemaVersion),referencePath:Ce("string")};class $r extends zh{constructor(t,n,s){super(t,n,v0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new en(this.firestore,null,new mt(t))}withConverter(t){return new $r(this.firestore,t,this._path)}}function OE(r,t,...n){if(r=Jn(r),s0("collection","path",t),r instanceof Uh){const s=ne.fromString(t,...n);return qv(s),new $r(r,null,s)}{if(!(r instanceof en||r instanceof $r))throw new ht(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return qv(s),new $r(r.firestore,null,s)}}function KO(r,t,...n){if(r=Jn(r),arguments.length===1&&(t=np.newId()),s0("doc","path",t),r instanceof Uh){const s=ne.fromString(t,...n);return Hv(s),new en(r,null,new mt(s))}{if(!(r instanceof en||r instanceof $r))throw new ht(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return Hv(s),new en(r.firestore,r instanceof $r?r.converter:null,new mt(s))}}const NE="AsyncQueue";class ME{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y0(this,"async_queue_retry"),this._c=()=>{const s=rm();s&&at(NE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!po(t))throw t;at(NE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,nr("INTERNAL UNHANDLED ERROR: ",VE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=vp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:VE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function VE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class bp extends Uh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new ME,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ME(t),this._firestoreClient=void 0,await t}}}function YO(r,t){const n=typeof r=="object"?r:mT(),s=typeof r=="string"?r:hh,l=Km(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=q1("firestore");u&&GO(l,...u)}return l}function fS(r){if(r._terminated)throw new ht(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||QO(r),r._firestoreClient}function QO(r){const t=r._freezeSettings(),n=FO(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new kO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(r._componentsProvider))}class Ti{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ti(Ge.fromBase64String(t))}catch(n){throw new ht(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ti(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(nu(t,Ti._jsonSchema))return Ti.fromBase64String(t.bytes)}}Ti._jsonSchemaVersion="firestore/bytes/1.0",Ti._jsonSchema={type:Ce("string",Ti._jsonSchemaVersion),bytes:Ce("string")};class dS{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Jr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jr._jsonSchemaVersion}}static fromJSON(t){if(nu(t,Jr._jsonSchema))return new Jr(t.latitude,t.longitude)}}Jr._jsonSchemaVersion="firestore/geoPoint/1.0",Jr._jsonSchema={type:Ce("string",Jr._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Zr{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(nu(t,Zr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Zr(t.vectorValues);throw new ht(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zr._jsonSchemaVersion="firestore/vectorValue/1.0",Zr._jsonSchema={type:Ce("string",Zr._jsonSchemaVersion),vectorValues:Ce("object")};function mS(r,t,n){if((t=Jn(t))instanceof dS)return t._internalPath;if(typeof t=="string")return $O(r,t);throw Lm("Field path arguments must be of type string or ",r)}const XO=new RegExp("[~\\*/\\[\\]]");function $O(r,t,n){if(t.search(XO)>=0)throw Lm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r);try{return new dS(...t.split("."))._internalPath}catch{throw Lm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r)}}function Lm(r,t,n,s,l){let u=`Function ${t}() called with invalid data`;u+=". ";let f="";return new ht(W.INVALID_ARGUMENT,u+r+f)}class JO{convertValue(t,n="none"){switch(ns(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(es(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return go(t,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Em].arrayValue?.values?.map((s=>pe(s.doubleValue)));return new Zr(n)}convertGeoPoint(t){return new Jr(pe(t.latitude),pe(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Ih(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ql(t));default:return null}}convertTimestamp(t){const n=ts(t);return new ge(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);Ft(j0(s),9688,{name:t});const l=new Fl(s.get(1),s.get(3)),u=new mt(s.popFirst(5));return l.isEqual(n)||nr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class ZO extends JO{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ti(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new en(this.firestore,null,n)}}const xE="@firebase/firestore",LE="4.10.0";class pS{constructor(t,n,s,l,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new WO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(mS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WO extends pS{data(){return super.data()}}function tN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $a extends pS{constructor(t,n,s,l,u,f){super(t,n,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(mS("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=$a._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$a._jsonSchemaVersion="firestore/documentSnapshot/1.0",$a._jsonSchema={type:Ce("string",$a._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class th extends $a{data(t={}){return super.data(t)}}class Ja{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Hc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new th(this._firestore,this._userDataWriter,s.key,s,new Hc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((m=>{const g=new th(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Hc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new th(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Hc(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:eN(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=np.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function eN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:Ce("string",Ja._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function PE(r){r=ch(r,zh);const t=ch(r.firestore,bp),n=fS(t),s=new ZO(t);return tN(r._query),jO(n,r._query).then((l=>new Ja(t,s,r,l)))}function nN(r){return iN(ch(r.firestore,bp),[new lp(r._key,Zi.none())])}function iN(r,t){const n=fS(r);return HO(n,t)}(function(t,n=!0){MI(uo),Za(new js("firestore",((s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new bp(new LI(s.getProvider("auth-internal")),new UI(f,s.getProvider("app-check-internal")),i2(f,l),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Kr(xE,LE,t),Kr(xE,LE,"esm2020")})();const rN={apiKey:"AIzaSyB3p9kAAb0TJXvJMKzUS6pummdlkbzlt6I",authDomain:"fft12l.firebaseapp.com",projectId:"fft12l",storageBucket:"fft12l.firebasestorage.app",messagingSenderId:"459190857682",appId:"1:459190857682:web:d857f4bf1fa2e5ec11220b"},gS=dT(rN),Rp=OI(gS),am=YO(gS),sN=(r,t)=>BT(Rp,r,t),aN="/FF-12Liberation/assets/fundo-rpg-BXz1tR4K.jpg";function oN(){const r=Xl();return ut.jsxs("div",{className:"landing-container",onClick:()=>r("/login"),children:[ut.jsxs("div",{className:"content",children:[ut.jsx("h1",{className:"game-title",children:"FINAL FANTASY"}),ut.jsx("h2",{className:"sub-title",children:"12 Libertao"}),ut.jsx("div",{className:"press-start",children:"PRESS START"})]}),ut.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .landing-container {
          height: 100vh;
          width: 100vw;
          display: flex;
          align-items: center;
          justify-content: center;
          background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), 
                      url(${aN}) no-repeat center center;
          background-size: cover; 
          cursor: pointer;
          position: fixed;
          top: 0;
          left: 0;
        }

        .content {
          text-align: center;
          animation: fadeInSuave 4s ease-in-out; 
        }

        .game-title {
          font-size: clamp(30px, 8vw, 60px);
          letter-spacing: 8px;
          color: #fff;
          text-shadow: 3px 3px 5px #000, 0 0 20px rgba(0, 242, 255, 0.5);
        }

        .sub-title {
          font-size: clamp(14px, 4vw, 24px);
          color: #ffcc00;
          margin-top: 10px;
          text-shadow: 1px 1px 3px #000;
        }

        .press-start {
          margin-top: 80px;
          font-size: 20px;
          color: #fff;
          letter-spacing: 5px;
          text-shadow: 0 0 10px #00f2ff;
          animation: blink 1.5s infinite;
        }

        @keyframes blink {
          0%, 100% { opacity: 0; }
          50% { opacity: 1; }
        }

        @keyframes fadeInSuave {
          from { opacity: 0; filter: blur(15px); transform: scale(0.9); }
          to { opacity: 1; filter: blur(0); transform: scale(1); }
        }
      `}})]})}const lN="/FF-12Liberation/assets/video-fundo-B5LPnOg0.mp4",uN="/FF-12Liberation/assets/botao-admin-T-iaDg61.png";function cN(){const r=Xl(),[t,n]=q.useState(null),[s,l]=q.useState(""),[u,f]=q.useState(""),[m,g]=q.useState(""),y=async E=>{E.preventDefault();try{await sN(s,u)}catch{g("FALHA NA CONEXO COM O TER.")}};return ut.jsxs("div",{className:"login-container",children:[ut.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:"background-video",children:ut.jsx("source",{src:lN,type:"video/mp4"})}),ut.jsx("div",{className:"content-overlay",children:t?ut.jsxs("form",{className:"login-panel fade-in",onSubmit:y,children:[ut.jsx("button",{type:"button",className:"ff-back",onClick:()=>n(null),children:" RETORNAR"}),ut.jsx("h3",{className:"ff-subtitle",children:t==="master"?"NARRADOR":"JOGADOR"}),ut.jsxs("div",{className:"ff-input-group",children:[ut.jsx("input",{type:"email",placeholder:"E-MAIL",value:s,onChange:E=>l(E.target.value),required:!0}),ut.jsx("input",{type:"password",placeholder:"SENHA",value:u,onChange:E=>f(E.target.value),required:!0})]}),m&&ut.jsx("p",{className:"ff-error",children:m}),ut.jsx("button",{type:"submit",className:"ff-submit",children:"ENTRAR"})]}):ut.jsxs("div",{className:"selection-screen fade-in",children:[ut.jsx("h2",{className:"ff-title",children:"ESCOLHA SUA CLASSE"}),ut.jsxs("div",{className:"ff-button-group",children:[ut.jsx("button",{className:"ff-btn",onClick:()=>n("player"),children:"JOGADOR"}),ut.jsx("button",{className:"ff-btn",onClick:()=>n("master"),children:"NARRADOR"})]})]})}),ut.jsx("button",{className:"admin-portal-btn",onClick:()=>r("/admin-login"),title:"Acesso ao Narrador",children:ut.jsx("img",{src:uN,alt:"Portal Admin"})}),ut.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .login-container {
          height: 100vh;
          width: 100vw;
          background: #000;
          display: flex;
          align-items: center;
          justify-content: center;
          overflow: hidden;
          position: relative;
        }

        .background-video {
          position: absolute;
          top: 50%;
          left: 50%;
          min-width: 100%;
          min-height: 100%;
          width: auto;
          height: auto;
          z-index: 1;
          transform: translate(-50%, -50%);
          object-fit: cover;
          animation: quickLoopFade 0.5s ease-in-out;
        }

        @keyframes quickLoopFade {
          0% { opacity: 0; }
          100% { opacity: 1; }
        }

        .content-overlay {
          position: relative;
          z-index: 10;
          display: flex;
          align-items: center;
          justify-content: center;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.4); /* Transparncia do overlay */
        }

        .ff-title { 
          color: #fff; 
          font-size: 32px; 
          letter-spacing: 8px; 
          margin-bottom: 40px; 
          text-shadow: 0 0 15px rgba(255, 255, 255, 0.5); 
          text-align: center;
        }

        .ff-subtitle { color: #ffcc00; letter-spacing: 4px; margin-bottom: 30px; text-align: center; }
        .ff-button-group { display: flex; flex-direction: column; gap: 20px; align-items: center; }
        
        .ff-btn, .ff-submit {
          background: rgba(0, 0, 30, 0.6); /* Painel transparente */
          border: 1px solid rgba(255, 255, 255, 0.6);
          color: #fff;
          padding: 15px 50px;
          letter-spacing: 3px;
          cursor: pointer;
          transition: 0.4s;
          width: 280px;
          backdrop-filter: blur(5px);
        }

        .ff-btn:hover, .ff-submit:hover { 
          background: #fff; 
          color: #000; 
          box-shadow: 0 0 20px #fff; 
        }

        .ff-input-group input {
          display: block; width: 300px; padding: 12px; margin-bottom: 20px;
          background: rgba(0, 0, 0, 0.7); border: 1px solid #444;
          color: #fff; text-align: center; letter-spacing: 2px; outline: none;
        }

        .ff-input-group input:focus { border-color: #ffcc00; }
        .ff-back { background: none; border: none; color: #ffcc00; cursor: pointer; margin-bottom: 10px; }
        .ff-error { color: #ff4444; font-size: 12px; margin-bottom: 15px; }

        /* ESTILO DO BOTO DE LEO (ADMIN) */
        .admin-portal-btn {
          position: absolute;
          bottom: 30px;
          right: 30px;
          z-index: 100;
          background: none;
          border: none;
          cursor: pointer;
          width: 70px;
          transition: 0.5s;
          filter: drop-shadow(0 0 8px rgba(0, 242, 255, 0.6));
        }

        .admin-portal-btn img { width: 100%; height: auto; }
        .admin-portal-btn:hover { transform: scale(1.2) rotate(-5deg); }

        .fade-in { animation: fadeInFF 2s ease-out forwards; }

        @keyframes fadeInFF {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `}})]})}function hN(){const[r,t]=q.useState(""),[n,s]=q.useState(""),[l,u]=q.useState(""),f=Xl(),m=async g=>{if(g.preventDefault(),r!=="fffvtt10@gmail.com"){u("VOC NO TEM PERMISSO DE NARRADOR.");return}try{await BT(Rp,r,n),f("/admin")}catch{u("SENHA INCORRETA PARA O MESTRE.")}};return ut.jsxs("div",{className:"admin-login-screen",children:[ut.jsxs("form",{className:"admin-box fade-in",onSubmit:m,children:[ut.jsx("h2",{className:"title-gold",children:"PORTAL DO MESTRE"}),l&&ut.jsx("p",{style:{color:"red",fontSize:"12px"},children:l}),ut.jsx("div",{className:"input-field",children:ut.jsx("input",{type:"email",placeholder:"E-MAIL",value:r,onChange:g=>t(g.target.value),required:!0})}),ut.jsx("div",{className:"input-field",children:ut.jsx("input",{type:"password",placeholder:"SENHA",value:n,onChange:g=>s(g.target.value),required:!0})}),ut.jsx("button",{type:"submit",className:"btn-enter",children:"ENTRAR"}),ut.jsx("button",{type:"button",className:"btn-back",onClick:()=>f("/"),children:"RETORNAR"})]}),ut.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .admin-login-screen { height: 100vh; width: 100vw; background: #000; display: flex; align-items: center; justify-content: center; }
        .admin-box { background: rgba(0,0,30,0.95); border: 2px solid #ffcc00; padding: 40px; text-align: center; }
        .title-gold { color: #ffcc00; margin-bottom: 20px; }
        input { width: 100%; padding: 10px; margin-bottom: 10px; background: #111; border: 1px solid #444; color: #fff; }
        .btn-enter { width: 100%; padding: 10px; background: #ffcc00; border: none; cursor: pointer; font-weight: bold; }
        .btn-back { background: none; border: none; color: #666; margin-top: 15px; cursor: pointer; }
      `}})]})}function fN(){const[r,t]=q.useState([]),[n,s]=q.useState([]);q.useEffect(()=>{l(),u()},[]);const l=async()=>{const m=await PE(OE(am,"users"));t(m.docs.map(g=>({id:g.id,...g.data()})))},u=async()=>{const m=await PE(OE(am,"characters"));s(m.docs.map(g=>({id:g.id,...g.data()})))},f=async m=>{window.confirm("Banir este personagem permanentemente?")&&(await nN(KO(am,"characters",m)),u())};return ut.jsxs("div",{className:"admin-container",children:[ut.jsx("h1",{children:"PAINEL SUPREMO"}),ut.jsx("div",{className:"admin-sections",children:ut.jsxs("section",{className:"card",children:[ut.jsx("h2",{children:"PERSONAGENS ATIVOS"}),n.map(m=>ut.jsxs("div",{className:"item",children:[ut.jsx("span",{children:m.name}),ut.jsx("button",{onClick:()=>f(m.id),children:"APAGAR"})]},m.id))]})}),ut.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .admin-container { background: #050510; min-height: 100vh; color: #fff; padding: 40px; }
        .card { background: rgba(0,0,40,0.8); border: 1px solid #00f2ff; padding: 20px; border-radius: 4px; }
        .item { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #222; }
        button { background: #ff4444; color: #fff; border: none; padding: 5px 10px; cursor: pointer; }
      `}})]})}const dN=({children:r})=>{const[t,n]=q.useState(!0),[s,l]=q.useState(null);return q.useEffect(()=>{const u=vC(Rp,f=>{l(f),n(!1)});return()=>u()},[]),t?ut.jsx("div",{style:{background:"#000",height:"100vh"}}):s&&s.email==="fffvtt10@gmail.com"?r:ut.jsx(JE,{to:"/admin-login"})};function mN(){return ut.jsx(R1,{children:ut.jsxs(e1,{children:[ut.jsx(za,{path:"/",element:ut.jsx(oN,{})}),ut.jsx(za,{path:"/login",element:ut.jsx(cN,{})}),ut.jsx(za,{path:"/admin-login",element:ut.jsx(hN,{})}),ut.jsx(za,{path:"/admin",element:ut.jsx(dN,{children:ut.jsx(fN,{})})}),ut.jsx(za,{path:"*",element:ut.jsx(JE,{to:"/"})})]})})}rb.createRoot(document.getElementById("root")).render(ut.jsx($A.StrictMode,{children:ut.jsx(mN,{})}));
