(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function wE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var mm={exports:{}},kl={};var Dv;function JA(){if(Dv)return kl;Dv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return kl.Fragment=e,kl.jsx=n,kl.jsxs=n,kl}var Ov;function ZA(){return Ov||(Ov=1,mm.exports=JA()),mm.exports}var T=ZA(),pm={exports:{}},Ae={};var Mv;function WA(){if(Mv)return Ae;Mv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.iterator;function P(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,U={};function Q(M,ee,oe){this.props=M,this.context=ee,this.refs=U,this.updater=oe||Y}Q.prototype.isReactComponent={},Q.prototype.setState=function(M,ee){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ee,"setState")},Q.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ie(){}ie.prototype=Q.prototype;function re(M,ee,oe){this.props=M,this.context=ee,this.refs=U,this.updater=oe||Y}var Ee=re.prototype=new ie;Ee.constructor=re,X(Ee,Q.prototype),Ee.isPureReactComponent=!0;var Re=Array.isArray;function be(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(M,ee,oe){var ue=oe.ref;return{$$typeof:r,type:M,key:ee,ref:ue!==void 0?ue:null,props:oe}}function V(M,ee){return C(M.type,ee,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function k(M){var ee={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return ee[oe]})}var x=/\/+/g;function qe(M,ee){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):ee.toString(36)}function ot(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(be,be):(M.status="pending",M.then(function(ee){M.status==="pending"&&(M.status="fulfilled",M.value=ee)},function(ee){M.status==="pending"&&(M.status="rejected",M.reason=ee)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function $(M,ee,oe,ue,ve){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var H=!1;if(M===null)H=!0;else switch(xe){case"bigint":case"string":case"number":H=!0;break;case"object":switch(M.$$typeof){case r:case e:H=!0;break;case E:return H=M._init,$(H(M._payload),ee,oe,ue,ve)}}if(H)return ve=ve(M),H=ue===""?"."+qe(M,0):ue,Re(ve)?(oe="",H!=null&&(oe=H.replace(x,"$&/")+"/"),$(ve,ee,oe,"",function(_n){return _n})):ve!=null&&(N(ve)&&(ve=V(ve,oe+(ve.key==null||M&&M.key===ve.key?"":(""+ve.key).replace(x,"$&/")+"/")+H)),ee.push(ve)),1;H=0;var Te=ue===""?".":ue+":";if(Re(M))for(var je=0;je<M.length;je++)ue=M[je],xe=Te+qe(ue,je),H+=$(ue,ee,oe,xe,ve);else if(je=P(M),typeof je=="function")for(M=je.call(M),je=0;!(ue=M.next()).done;)ue=ue.value,xe=Te+qe(ue,je++),H+=$(ue,ee,oe,xe,ve);else if(xe==="object"){if(typeof M.then=="function")return $(ot(M),ee,oe,ue,ve);throw ee=String(M),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return H}function se(M,ee,oe){if(M==null)return M;var ue=[],ve=0;return $(M,ue,"","",function(xe){return ee.call(oe,xe,ve++)}),ue}function de(M){if(M._status===-1){var ee=M._result;ee=ee(),ee.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=ee)}if(M._status===1)return M._result.default;throw M._result}var De=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:se,forEach:function(M,ee,oe){se(M,function(){ee.apply(this,arguments)},oe)},count:function(M){var ee=0;return se(M,function(){ee++}),ee},toArray:function(M){return se(M,function(ee){return ee})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ae.Activity=S,Ae.Children=Ge,Ae.Component=Q,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=re,Ae.StrictMode=a,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Ae.cache=function(M){return function(){return M.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(M,ee,oe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ue=X({},M.props),ve=M.key;if(ee!=null)for(xe in ee.key!==void 0&&(ve=""+ee.key),ee)!R.call(ee,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ee.ref===void 0||(ue[xe]=ee[xe]);var xe=arguments.length-2;if(xe===1)ue.children=oe;else if(1<xe){for(var H=Array(xe),Te=0;Te<xe;Te++)H[Te]=arguments[Te+2];ue.children=H}return C(M.type,ve,ue)},Ae.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ae.createElement=function(M,ee,oe){var ue,ve={},xe=null;if(ee!=null)for(ue in ee.key!==void 0&&(xe=""+ee.key),ee)R.call(ee,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=ee[ue]);var H=arguments.length-2;if(H===1)ve.children=oe;else if(1<H){for(var Te=Array(H),je=0;je<H;je++)Te[je]=arguments[je+2];ve.children=Te}if(M&&M.defaultProps)for(ue in H=M.defaultProps,H)ve[ue]===void 0&&(ve[ue]=H[ue]);return C(M,xe,ve)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:m,render:M}},Ae.isValidElement=N,Ae.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:de}},Ae.memo=function(M,ee){return{$$typeof:g,type:M,compare:ee===void 0?null:ee}},Ae.startTransition=function(M){var ee=I.T,oe={};I.T=oe;try{var ue=M(),ve=I.S;ve!==null&&ve(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(be,De)}catch(xe){De(xe)}finally{ee!==null&&oe.types!==null&&(ee.types=oe.types),I.T=ee}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(M){return I.H.use(M)},Ae.useActionState=function(M,ee,oe){return I.H.useActionState(M,ee,oe)},Ae.useCallback=function(M,ee){return I.H.useCallback(M,ee)},Ae.useContext=function(M){return I.H.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M,ee){return I.H.useDeferredValue(M,ee)},Ae.useEffect=function(M,ee){return I.H.useEffect(M,ee)},Ae.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(M,ee,oe){return I.H.useImperativeHandle(M,ee,oe)},Ae.useInsertionEffect=function(M,ee){return I.H.useInsertionEffect(M,ee)},Ae.useLayoutEffect=function(M,ee){return I.H.useLayoutEffect(M,ee)},Ae.useMemo=function(M,ee){return I.H.useMemo(M,ee)},Ae.useOptimistic=function(M,ee){return I.H.useOptimistic(M,ee)},Ae.useReducer=function(M,ee,oe){return I.H.useReducer(M,ee,oe)},Ae.useRef=function(M){return I.H.useRef(M)},Ae.useState=function(M){return I.H.useState(M)},Ae.useSyncExternalStore=function(M,ee,oe){return I.H.useSyncExternalStore(M,ee,oe)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.4",Ae}var Vv;function up(){return Vv||(Vv=1,pm.exports=WA()),pm.exports}var z=up();const e1=wE(z);var gm={exports:{}},Ll={},ym={exports:{}},_m={};var kv;function t1(){return kv||(kv=1,(function(r){function e($,se){var de=$.length;$.push(se);e:for(;0<de;){var De=de-1>>>1,Ge=$[De];if(0<o(Ge,se))$[De]=se,$[de]=Ge,de=De;else break e}}function n($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var se=$[0],de=$.pop();if(de!==se){$[0]=de;e:for(var De=0,Ge=$.length,M=Ge>>>1;De<M;){var ee=2*(De+1)-1,oe=$[ee],ue=ee+1,ve=$[ue];if(0>o(oe,de))ue<Ge&&0>o(ve,oe)?($[De]=ve,$[ue]=de,De=ue):($[De]=oe,$[ee]=de,De=ee);else if(ue<Ge&&0>o(ve,de))$[De]=ve,$[ue]=de,De=ue;else break e}}return se}function o($,se){var de=$.sortIndex-se.sortIndex;return de!==0?de:$.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,S=null,w=3,P=!1,Y=!1,X=!1,U=!1,Q=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function Ee($){for(var se=n(g);se!==null;){if(se.callback===null)a(g);else if(se.startTime<=$)a(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function Re($){if(X=!1,Ee($),!Y)if(n(p)!==null)Y=!0,be||(be=!0,k());else{var se=n(g);se!==null&&ot(Re,se.startTime-$)}}var be=!1,I=-1,R=5,C=-1;function V(){return U?!0:!(r.unstable_now()-C<R)}function N(){if(U=!1,be){var $=r.unstable_now();C=$;var se=!0;try{e:{Y=!1,X&&(X=!1,ie(I),I=-1),P=!0;var de=w;try{t:{for(Ee($),S=n(p);S!==null&&!(S.expirationTime>$&&V());){var De=S.callback;if(typeof De=="function"){S.callback=null,w=S.priorityLevel;var Ge=De(S.expirationTime<=$);if($=r.unstable_now(),typeof Ge=="function"){S.callback=Ge,Ee($),se=!0;break t}S===n(p)&&a(p),Ee($)}else a(p);S=n(p)}if(S!==null)se=!0;else{var M=n(g);M!==null&&ot(Re,M.startTime-$),se=!1}}break e}finally{S=null,w=de,P=!1}se=void 0}}finally{se?k():be=!1}}}var k;if(typeof re=="function")k=function(){re(N)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,qe=x.port2;x.port1.onmessage=N,k=function(){qe.postMessage(null)}}else k=function(){Q(N,0)};function ot($,se){I=Q(function(){$(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function($){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var de=w;w=se;try{return $()}finally{w=de}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function($,se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var de=w;w=$;try{return se()}finally{w=de}},r.unstable_scheduleCallback=function($,se,de){var De=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?De+de:De):de=De,$){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=de+Ge,$={id:E++,callback:se,priorityLevel:$,startTime:de,expirationTime:Ge,sortIndex:-1},de>De?($.sortIndex=de,e(g,$),n(p)===null&&$===n(g)&&(X?(ie(I),I=-1):X=!0,ot(Re,de-De))):($.sortIndex=Ge,e(p,$),Y||P||(Y=!0,be||(be=!0,k()))),$},r.unstable_shouldYield=V,r.unstable_wrapCallback=function($){var se=w;return function(){var de=w;w=se;try{return $.apply(this,arguments)}finally{w=de}}}})(_m)),_m}var Lv;function n1(){return Lv||(Lv=1,ym.exports=t1()),ym.exports}var vm={exports:{}},Jt={};var Pv;function i1(){if(Pv)return Jt;Pv=1;var r=up();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Jt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Jt.flushSync=function(p){var g=f.T,E=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=g,a.p=E,a.d.f()}},Jt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},Jt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Jt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:P}):E==="script"&&a.d.X(p,{crossOrigin:S,integrity:w,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},Jt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);a.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},Jt.requestFormReset=function(p){a.d.r(p)},Jt.unstable_batchedUpdates=function(p,g){return p(g)},Jt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Jt.version="19.2.4",Jt}var Uv;function r1(){if(Uv)return vm.exports;Uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vm.exports=i1(),vm.exports}var zv;function a1(){if(zv)return Ll;zv=1;var r=n1(),e=up(),n=r1();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(a(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===s){_=!0,s=h,l=d;break}if(b===l){_=!0,l=h,s=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===s){_=!0,s=d,l=h;break}if(b===l){_=!0,l=d,s=h;break}b=b.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,w=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),re=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case Q:return"Profiler";case U:return"StrictMode";case Re:return"Suspense";case be:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case re:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case Ee:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:qe(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return qe(t(i))}catch{}}return null}var ot=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},De=[],Ge=-1;function M(t){return{current:t}}function ee(t){0>Ge||(t.current=De[Ge],De[Ge]=null,Ge--)}function oe(t,i){Ge++,De[Ge]=t.current,t.current=i}var ue=M(null),ve=M(null),xe=M(null),H=M(null);function Te(t,i){switch(oe(xe,i),oe(ve,t),oe(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?ev(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=ev(i),t=tv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(ue),oe(ue,t)}function je(){ee(ue),ee(ve),ee(xe)}function _n(t){t.memoizedState!==null&&oe(H,t);var i=ue.current,s=tv(i,t.type);i!==s&&(oe(ve,t),oe(ue,s))}function sn(t){ve.current===t&&(ee(ue),ee(ve)),H.current===t&&(ee(H),Dl._currentValue=de)}var Er,Nn;function Pt(t){if(Er===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Er=i&&i[1]||"",Nn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Er+t+Nn}var br=!1;function Aa(t,i){if(!t||br)return"";br=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var F=K}Reflect.construct(t,[],te)}else{try{te.call()}catch(K){F=K}t.call(te.prototype)}}else{try{throw Error()}catch(K){F=K}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var D=_.split(`
`),q=b.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===q.length)for(l=D.length-1,h=q.length-1;1<=l&&0<=h&&D[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==q[h]){var J=`
`+D[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{br=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Pt(s):""}function Oo(t,i){switch(t.tag){case 26:case 27:case 5:return Pt(t.type);case 16:return Pt("Lazy");case 13:return t.child!==i&&i!==null?Pt("Suspense Fallback"):Pt("Suspense");case 19:return Pt("SuspenseList");case 0:case 15:return Aa(t.type,!1);case 11:return Aa(t.type.render,!1);case 1:return Aa(t.type,!0);case 31:return Pt("Activity");default:return""}}function Mo(t){try{var i="",s=null;do i+=Oo(t,s),s=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,Tr=r.unstable_cancelCallback,gf=r.unstable_shouldYield,Au=r.unstable_requestPaint,nn=r.unstable_now,wa=r.unstable_getCurrentPriorityLevel,Vo=r.unstable_ImmediatePriority,ko=r.unstable_UserBlockingPriority,Sr=r.unstable_NormalPriority,yf=r.unstable_LowPriority,wu=r.unstable_IdlePriority,Ru=r.log,xu=r.unstable_setDisableYieldValue,Yn=null,qt=null;function Dn(t){if(typeof Ru=="function"&&xu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Yn,t)}catch{}}var pt=Math.clz32?Math.clz32:Iu,Cu=Math.log,ms=Math.LN2;function Iu(t){return t>>>=0,t===0?32:31-(Cu(t)/ms|0)|0}var ci=256,Ra=262144,bt=4194304;function hi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fi(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=hi(l):(_&=b,_!==0?h=hi(_):s||(s=b&~t,s!==0&&(h=hi(s))))):(b=l&~d,b!==0?h=hi(b):_!==0?h=hi(_):s||(s=l&~t,s!==0&&(h=hi(s)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:h}function Xn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function _f(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nu(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function di(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function xa(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function vf(t,i,s,l,h,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,q=t.hiddenUpdates;for(s=_&~s;0<s;){var J=31-pt(s),te=1<<J;b[J]=0,D[J]=-1;var F=q[J];if(F!==null)for(q[J]=null,J=0;J<F.length;J++){var K=F[J];K!==null&&(K.lane&=-536870913)}s&=~te}l!==0&&Ca(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ca(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Lo(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-pt(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function Po(t,i){var s=i&-i;return s=(s&42)!==0?1:Ia(s),(s&(t.suspendedLanes|i))!==0?0:s}function Ia(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Du(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Av(t.type))}function $n(t,i){var s=se.p;try{return se.p=t,i()}finally{se.p=s}}var Jn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Jn,Ut="__reactProps$"+Jn,mi="__reactContainer$"+Jn,ps="__reactEvents$"+Jn,Ef="__reactListeners$"+Jn,Ou="__reactHandles$"+Jn,Mu="__reactResources$"+Jn,pi="__reactMarker$"+Jn;function gs(t){delete t[Tt],delete t[Ut],delete t[ps],delete t[Ef],delete t[Ou]}function gi(t){var i=t[Tt];if(i)return i;for(var s=t.parentNode;s;){if(i=s[mi]||s[Tt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=lv(t);t!==null;){if(s=t[Tt])return s;t=lv(t)}return i}t=s,s=t.parentNode}return null}function On(t){if(t=t[Tt]||t[mi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function vn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function yi(t){var i=t[Mu];return i||(i=t[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[pi]=!0}var Uo=new Set,zo={};function _i(t,i){vi(t,i),vi(t+"Capture",i)}function vi(t,i){for(zo[t]=i,t=0;t<i.length;t++)Uo.add(i[t])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bo={},qo={};function Vu(t){return Et.call(qo,t)?!0:Et.call(Bo,t)?!1:jo.test(t)?qo[t]=!0:(Bo[t]=!0,!1)}function ys(t,i,s){if(Vu(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function En(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function At(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ar(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ho(t,i,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){s=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=Ar(t)?"checked":"value";t._valueTracker=Ho(t,i,""+t[i])}}function Na(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Ar(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function Ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Da=/[\n"\\]/g;function on(t){return t.replace(Da,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _s(t,i,s,l,h,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+zt(i)):t.value!==""+zt(i)&&(t.value=""+zt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Fo(t,_,zt(i)):s!=null?Fo(t,_,zt(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+zt(b):t.removeAttribute("name")}function ku(t,i,s,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}s=s!=null?""+zt(s):"",i=i!=null?""+zt(i):s,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function Fo(t,i,s){i==="number"&&Ei(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function wr(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+zt(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Lu(t,i,s){if(i!=null&&(i=""+zt(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+zt(s):""}function Rr(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(ot(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=zt(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Xe(t)}function ln(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||Pu.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Ko(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Go(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Go(t,d,i[d])}function vs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Es(t){return xr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zn(){}var Qo=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,bi=null;function Oa(t){var i=On(t);if(i&&(t=i.stateNode)){var s=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(_s(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[Ut]||null;if(!h)throw Error(a(90));_s(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&Na(l)}break e;case"textarea":Lu(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&wr(t,!!s.multiple,i,!1)}}}var bs=!1;function Ir(t,i,s){if(bs)return t(i,s);bs=!0;try{var l=t(i);return l}finally{if(bs=!1,(Cr!==null||bi!==null)&&(Dc(),Cr&&(i=Cr,t=bi,bi=Cr=null,Oa(i),t)))for(i=0;i<t.length;i++)Oa(t[i])}}function Wn(t,i){var s=t.stateNode;if(s===null)return null;var l=s[Ut]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ma=!1;if(Vn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Ma=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Ma=!1}var Ti=null,Yo=null,Va=null;function Xo(){if(Va)return Va;var t,i=Yo,s=i.length,l,h="value"in Ti?Ti.value:Ti.textContent,d=h.length;for(t=0;t<s&&i[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&i[s-l]===h[d-l];l++);return Va=h.slice(t,1<l?1-l:void 0)}function ka(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Hi(){return!0}function ei(){return!1}function Ht(t){function i(s,l,h,d,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Hi:ei,this.isPropagationStopped=ei,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),i}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Ht(Fi),Nr=S({},Fi,{view:0,detail:0}),$o=Ht(Nr),Dr,Ts,Ai,Ss=S({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(Dr=t.screenX-Ai.screenX,Ts=t.screenY-Ai.screenY):Ts=Dr=0,Ai=t),Dr)},movementY:function(t){return"movementY"in t?t.movementY:Ts}}),Jo=Ht(Ss),La=S({},Ss,{dataTransfer:0}),zu=Ht(La),ju=S({},Nr,{relatedTarget:0}),Pa=Ht(ju),Zo=S({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Bu=Ht(Zo),As=S({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qu=Ht(As),Hu=S({},Fi,{data:0}),wi=Ht(Hu),Fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ku[t])?!!i[t]:!1}function Or(){return Qu}var rn=S({},Nr,{key:function(t){if(t.key){var i=Fu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ka(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(t){return t.type==="keypress"?ka(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ka(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yu=Ht(rn),Xu=S({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Ht(Xu),c=S({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),y=Ht(c),v=S({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ht(v),j=S({},Ss,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ht(j),ae=S({},Fi,{newState:0,oldState:0}),Ce=Ht(ae),gt=[9,13,27,32],Ke=Vn&&"CompositionEvent"in window,lt=null;Vn&&"documentMode"in document&&(lt=document.documentMode);var kn=Vn&&"TextEvent"in window&&!lt,Ri=Vn&&(!Ke||lt&&8<lt&&11>=lt),ti=" ",ni=!1;function Ua(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ws(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rs=!1;function bS(t,i){switch(t){case"compositionend":return ws(i);case"keypress":return i.which!==32?null:(ni=!0,ti);case"textInput":return t=i.data,t===ti&&ni?null:t;default:return null}}function TS(t,i){if(Rs)return t==="compositionend"||!Ke&&Ua(t,i)?(t=Xo(),Va=Yo=Ti=null,Rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ri&&i.locale!=="ko"?null:i.data;default:return null}}var SS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!SS[t.type]:i==="textarea"}function fg(t,i,s,l){Cr?bi?bi.push(l):bi=[l]:Cr=l,i=Uc(i,"onChange"),0<i.length&&(s=new Si("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Wo=null,el=null;function AS(t){Y_(t,0)}function $u(t){var i=vn(t);if(Na(i))return t}function dg(t,i){if(t==="change")return i}var mg=!1;if(Vn){var bf;if(Vn){var Tf="oninput"in document;if(!Tf){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),Tf=typeof pg.oninput=="function"}bf=Tf}else bf=!1;mg=bf&&(!document.documentMode||9<document.documentMode)}function gg(){Wo&&(Wo.detachEvent("onpropertychange",yg),el=Wo=null)}function yg(t){if(t.propertyName==="value"&&$u(el)){var i=[];fg(i,el,t,Mn(t)),Ir(AS,i)}}function wS(t,i,s){t==="focusin"?(gg(),Wo=i,el=s,Wo.attachEvent("onpropertychange",yg)):t==="focusout"&&gg()}function RS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(el)}function xS(t,i){if(t==="click")return $u(i)}function CS(t,i){if(t==="input"||t==="change")return $u(i)}function IS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var bn=typeof Object.is=="function"?Object.is:IS;function tl(t,i){if(bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Et.call(i,h)||!bn(t[h],i[h]))return!1}return!0}function _g(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vg(t,i){var s=_g(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=_g(s)}}function Eg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Eg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ei(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Ei(t.document)}return i}function Sf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var NS=Vn&&"documentMode"in document&&11>=document.documentMode,xs=null,Af=null,nl=null,wf=!1;function Tg(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;wf||xs==null||xs!==Ei(l)||(l=xs,"selectionStart"in l&&Sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=Uc(Af,"onSelect"),0<l.length&&(i=new Si("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=xs)))}function za(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Cs={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},Rf={},Sg={};Vn&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function ja(t){if(Rf[t])return Rf[t];if(!Cs[t])return t;var i=Cs[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Sg)return Rf[t]=i[s];return t}var Ag=ja("animationend"),wg=ja("animationiteration"),Rg=ja("animationstart"),DS=ja("transitionrun"),OS=ja("transitionstart"),MS=ja("transitioncancel"),xg=ja("transitionend"),Cg=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function ii(t,i){Cg.set(t,i),_i(i,[t])}var Ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ln=[],Is=0,Cf=0;function Zu(){for(var t=Is,i=Cf=Is=0;i<t;){var s=Ln[i];Ln[i++]=null;var l=Ln[i];Ln[i++]=null;var h=Ln[i];Ln[i++]=null;var d=Ln[i];if(Ln[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Ig(s,h,d)}}function Wu(t,i,s,l){Ln[Is++]=t,Ln[Is++]=i,Ln[Is++]=s,Ln[Is++]=l,Cf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function If(t,i,s,l){return Wu(t,i,s,l),ec(t)}function Ba(t,i){return Wu(t,null,null,i),ec(t)}function Ig(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(s),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=s|536870912),d):null}function ec(t){if(50<Al)throw Al=0,Ud=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ns={};function VS(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,i,s,l){return new VS(t,i,s,l)}function Nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,i){var s=t.alternate;return s===null?(s=Tn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ng(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function tc(t,i,s,l,h,d){var _=0;if(l=t,typeof t=="function")Nf(t)&&(_=1);else if(typeof t=="string")_=zA(t,s,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Tn(31,s,i,h),t.elementType=C,t.lanes=d,t;case X:return qa(s.children,h,d,i);case U:_=8,h|=24;break;case Q:return t=Tn(12,s,i,h|2),t.elementType=Q,t.lanes=d,t;case Re:return t=Tn(13,s,i,h),t.elementType=Re,t.lanes=d,t;case be:return t=Tn(19,s,i,h),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case ie:_=9;break e;case Ee:_=11;break e;case I:_=14;break e;case R:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=Tn(_,s,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function qa(t,i,s,l){return t=Tn(7,t,l,i),t.lanes=s,t}function Df(t,i,s){return t=Tn(6,t,null,i),t.lanes=s,t}function Dg(t){var i=Tn(18,null,null,0);return i.stateNode=t,i}function Of(t,i,s){return i=Tn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Og=new WeakMap;function Pn(t,i){if(typeof t=="object"&&t!==null){var s=Og.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Mo(i)},Og.set(t,i),i)}return{value:t,source:i,stack:Mo(i)}}var Ds=[],Os=0,nc=null,il=0,Un=[],zn=0,Mr=null,xi=1,Ci="";function Qi(t,i){Ds[Os++]=il,Ds[Os++]=nc,nc=t,il=i}function Mg(t,i,s){Un[zn++]=xi,Un[zn++]=Ci,Un[zn++]=Mr,Mr=t;var l=xi;t=Ci;var h=32-pt(l)-1;l&=~(1<<h),s+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,xi=1<<32-pt(i)+h|s<<h|l,Ci=d+t}else xi=1<<d|s<<h|l,Ci=t}function Mf(t){t.return!==null&&(Qi(t,1),Mg(t,1,0))}function Vf(t){for(;t===nc;)nc=Ds[--Os],Ds[Os]=null,il=Ds[--Os],Ds[Os]=null;for(;t===Mr;)Mr=Un[--zn],Un[zn]=null,Ci=Un[--zn],Un[zn]=null,xi=Un[--zn],Un[zn]=null}function Vg(t,i){Un[zn++]=xi,Un[zn++]=Ci,Un[zn++]=Mr,xi=i.id,Ci=i.overflow,Mr=t}var Ft=null,rt=null,ze=!1,Vr=null,jn=!1,kf=Error(a(519));function kr(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(Pn(i,t)),kf}function kg(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[Ut]=l,s){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(s=0;s<Rl.length;s++)Me(Rl[s],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),ku(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Rr(i,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||Z_(i.textContent,s)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Zn),i=!0):i=!1,i||kr(t,!0)}function Lg(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Ft=Ft.return}}function Ms(t){if(t!==Ft)return!1;if(!ze)return Lg(t),ze=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Wd(t.type,t.memoizedProps)),s=!s),s&&rt&&kr(t),Lg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));rt=ov(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));rt=ov(t)}else i===27?(i=rt,Xr(t.type)?(t=rm,rm=null,rt=t):rt=i):rt=Ft?qn(t.stateNode.nextSibling):null;return!0}function Ha(){rt=Ft=null,ze=!1}function Lf(){var t=Vr;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Vr=null),t}function rl(t){Vr===null?Vr=[t]:Vr.push(t)}var Pf=M(null),Fa=null,Yi=null;function Lr(t,i,s){oe(Pf,i._currentValue),i._currentValue=s}function Xi(t){t._currentValue=Pf.current,ee(Pf)}function Uf(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function zf(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var D=0;D<i.length;D++)if(b.context===i[D]){d.lanes|=s,b=d.alternate,b!==null&&(b.lanes|=s),Uf(d.return,s,t),l||(_=null);break e}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),Uf(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Vs(t,i,s,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var b=h.type;bn(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===H.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}h=h.return}t!==null&&zf(i,t,s,l),i.flags|=262144}function ic(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ga(t){Fa=t,Yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Pg(Fa,t)}function rc(t,i){return Fa===null&&Ga(t),Pg(t,i)}function Pg(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Yi===null){if(t===null)throw Error(a(308));Yi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Yi=Yi.next=i;return s}var kS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},LS=r.unstable_scheduleCallback,PS=r.unstable_NormalPriority,wt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new kS,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&LS(PS,function(){t.controller.abort()})}var sl=null,Bf=0,ks=0,Ls=null;function US(t,i){if(sl===null){var s=sl=[];Bf=0,ks=Fd(),Ls={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Bf++,i.then(Ug,Ug),i}function Ug(){if(--Bf===0&&sl!==null){Ls!==null&&(Ls.status="fulfilled");var t=sl;sl=null,ks=0,Ls=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function zS(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var zg=$.S;$.S=function(t,i){T_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&US(t,i),zg!==null&&zg(t,i)};var Ka=M(null);function qf(){var t=Ka.current;return t!==null?t:nt.pooledCache}function ac(t,i){i===null?oe(Ka,Ka.current):oe(Ka,i.pool)}function jg(){var t=qf();return t===null?null:{parent:wt._currentValue,pool:t}}var Ps=Error(a(460)),Hf=Error(a(474)),sc=Error(a(542)),oc={then:function(){}};function Bg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Zn,Zn),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Fg(t),t;default:if(typeof i.status=="string")i.then(Zn,Zn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Fg(t),t}throw Ya=i,Ps}}function Qa(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ya=s,Ps):s}}var Ya=null;function Hg(){if(Ya===null)throw Error(a(459));var t=Ya;return Ya=null,t}function Fg(t){if(t===Ps||t===sc)throw Error(a(483))}var Us=null,ol=0;function lc(t){var i=ol;return ol+=1,Us===null&&(Us=[]),qg(Us,t,i)}function ll(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function uc(t,i){throw i.$$typeof===w?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Gg(t){function i(L,O){if(t){var B=L.deletions;B===null?(L.deletions=[O],L.flags|=16):B.push(O)}}function s(L,O){if(!t)return null;for(;O!==null;)i(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=Ki(L,O),L.index=0,L.sibling=null,L}function d(L,O,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<O?(L.flags|=67108866,O):B):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function b(L,O,B,Z){return O===null||O.tag!==6?(O=Df(B,L.mode,Z),O.return=L,O):(O=h(O,B),O.return=L,O)}function D(L,O,B,Z){var me=B.type;return me===X?J(L,O,B.props.children,Z,B.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Qa(me)===O.type)?(O=h(O,B.props),ll(O,B),O.return=L,O):(O=tc(B.type,B.key,B.props,null,L.mode,Z),ll(O,B),O.return=L,O)}function q(L,O,B,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Of(B,L.mode,Z),O.return=L,O):(O=h(O,B.children||[]),O.return=L,O)}function J(L,O,B,Z,me){return O===null||O.tag!==7?(O=qa(B,L.mode,Z,me),O.return=L,O):(O=h(O,B),O.return=L,O)}function te(L,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Df(""+O,L.mode,B),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return B=tc(O.type,O.key,O.props,null,L.mode,B),ll(B,O),B.return=L,B;case Y:return O=Of(O,L.mode,B),O.return=L,O;case R:return O=Qa(O),te(L,O,B)}if(ot(O)||k(O))return O=qa(O,L.mode,B,null),O.return=L,O;if(typeof O.then=="function")return te(L,lc(O),B);if(O.$$typeof===re)return te(L,rc(L,O),B);uc(L,O)}return null}function F(L,O,B,Z){var me=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return me!==null?null:b(L,O,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case P:return B.key===me?D(L,O,B,Z):null;case Y:return B.key===me?q(L,O,B,Z):null;case R:return B=Qa(B),F(L,O,B,Z)}if(ot(B)||k(B))return me!==null?null:J(L,O,B,Z,null);if(typeof B.then=="function")return F(L,O,lc(B),Z);if(B.$$typeof===re)return F(L,O,rc(L,B),Z);uc(L,B)}return null}function K(L,O,B,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(B)||null,b(O,L,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case P:return L=L.get(Z.key===null?B:Z.key)||null,D(O,L,Z,me);case Y:return L=L.get(Z.key===null?B:Z.key)||null,q(O,L,Z,me);case R:return Z=Qa(Z),K(L,O,B,Z,me)}if(ot(Z)||k(Z))return L=L.get(B)||null,J(O,L,Z,me,null);if(typeof Z.then=="function")return K(L,O,B,lc(Z),me);if(Z.$$typeof===re)return K(L,O,B,rc(O,Z),me);uc(O,Z)}return null}function he(L,O,B,Z){for(var me=null,He=null,fe=O,Ne=O=0,ke=null;fe!==null&&Ne<B.length;Ne++){fe.index>Ne?(ke=fe,fe=null):ke=fe.sibling;var Fe=F(L,fe,B[Ne],Z);if(Fe===null){fe===null&&(fe=ke);break}t&&fe&&Fe.alternate===null&&i(L,fe),O=d(Fe,O,Ne),He===null?me=Fe:He.sibling=Fe,He=Fe,fe=ke}if(Ne===B.length)return s(L,fe),ze&&Qi(L,Ne),me;if(fe===null){for(;Ne<B.length;Ne++)fe=te(L,B[Ne],Z),fe!==null&&(O=d(fe,O,Ne),He===null?me=fe:He.sibling=fe,He=fe);return ze&&Qi(L,Ne),me}for(fe=l(fe);Ne<B.length;Ne++)ke=K(fe,L,Ne,B[Ne],Z),ke!==null&&(t&&ke.alternate!==null&&fe.delete(ke.key===null?Ne:ke.key),O=d(ke,O,Ne),He===null?me=ke:He.sibling=ke,He=ke);return t&&fe.forEach(function(ea){return i(L,ea)}),ze&&Qi(L,Ne),me}function ge(L,O,B,Z){if(B==null)throw Error(a(151));for(var me=null,He=null,fe=O,Ne=O=0,ke=null,Fe=B.next();fe!==null&&!Fe.done;Ne++,Fe=B.next()){fe.index>Ne?(ke=fe,fe=null):ke=fe.sibling;var ea=F(L,fe,Fe.value,Z);if(ea===null){fe===null&&(fe=ke);break}t&&fe&&ea.alternate===null&&i(L,fe),O=d(ea,O,Ne),He===null?me=ea:He.sibling=ea,He=ea,fe=ke}if(Fe.done)return s(L,fe),ze&&Qi(L,Ne),me;if(fe===null){for(;!Fe.done;Ne++,Fe=B.next())Fe=te(L,Fe.value,Z),Fe!==null&&(O=d(Fe,O,Ne),He===null?me=Fe:He.sibling=Fe,He=Fe);return ze&&Qi(L,Ne),me}for(fe=l(fe);!Fe.done;Ne++,Fe=B.next())Fe=K(fe,L,Ne,Fe.value,Z),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?Ne:Fe.key),O=d(Fe,O,Ne),He===null?me=Fe:He.sibling=Fe,He=Fe);return t&&fe.forEach(function($A){return i(L,$A)}),ze&&Qi(L,Ne),me}function tt(L,O,B,Z){if(typeof B=="object"&&B!==null&&B.type===X&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case P:e:{for(var me=B.key;O!==null;){if(O.key===me){if(me=B.type,me===X){if(O.tag===7){s(L,O.sibling),Z=h(O,B.props.children),Z.return=L,L=Z;break e}}else if(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Qa(me)===O.type){s(L,O.sibling),Z=h(O,B.props),ll(Z,B),Z.return=L,L=Z;break e}s(L,O);break}else i(L,O);O=O.sibling}B.type===X?(Z=qa(B.props.children,L.mode,Z,B.key),Z.return=L,L=Z):(Z=tc(B.type,B.key,B.props,null,L.mode,Z),ll(Z,B),Z.return=L,L=Z)}return _(L);case Y:e:{for(me=B.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){s(L,O.sibling),Z=h(O,B.children||[]),Z.return=L,L=Z;break e}else{s(L,O);break}else i(L,O);O=O.sibling}Z=Of(B,L.mode,Z),Z.return=L,L=Z}return _(L);case R:return B=Qa(B),tt(L,O,B,Z)}if(ot(B))return he(L,O,B,Z);if(k(B)){if(me=k(B),typeof me!="function")throw Error(a(150));return B=me.call(B),ge(L,O,B,Z)}if(typeof B.then=="function")return tt(L,O,lc(B),Z);if(B.$$typeof===re)return tt(L,O,rc(L,B),Z);uc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(s(L,O.sibling),Z=h(O,B),Z.return=L,L=Z):(s(L,O),Z=Df(B,L.mode,Z),Z.return=L,L=Z),_(L)):s(L,O)}return function(L,O,B,Z){try{ol=0;var me=tt(L,O,B,Z);return Us=null,me}catch(fe){if(fe===Ps||fe===sc)throw fe;var He=Tn(29,fe,null,L.mode);return He.lanes=Z,He.return=L,He}}}var Xa=Gg(!0),Kg=Gg(!1),Pr=!1;function Ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ur(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zr(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ec(t),Ig(t,null,s),i}return Wu(t,l,i,s),ec(t)}function ul(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Lo(t,s)}}function Kf(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Qf=!1;function cl(){if(Qf){var t=Ls;if(t!==null)throw t}}function hl(t,i,s,l){Qf=!1;var h=t.updateQueue;Pr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var D=b,q=D.next;D.next=null,_===null?d=q:_.next=q,_=D;var J=t.alternate;J!==null&&(J=J.updateQueue,b=J.lastBaseUpdate,b!==_&&(b===null?J.firstBaseUpdate=q:b.next=q,J.lastBaseUpdate=D))}if(d!==null){var te=h.baseState;_=0,J=q=D=null,b=d;do{var F=b.lane&-536870913,K=F!==b.lane;if(K?(Ve&F)===F:(l&F)===F){F!==0&&F===ks&&(Qf=!0),J!==null&&(J=J.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var he=t,ge=b;F=i;var tt=s;switch(ge.tag){case 1:if(he=ge.payload,typeof he=="function"){te=he.call(tt,te,F);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ge.payload,F=typeof he=="function"?he.call(tt,te,F):he,F==null)break e;te=S({},te,F);break e;case 2:Pr=!0}}F=b.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},J===null?(q=J=K,D=te):J=J.next=K,_|=F;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;K=b,b=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);J===null&&(D=te),h.baseState=D,h.firstBaseUpdate=q,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),Fr|=_,t.lanes=_,t.memoizedState=te}}function Qg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Yg(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Qg(s[t],i)}var zs=M(null),cc=M(0);function Xg(t,i){t=rr,oe(cc,t),oe(zs,i),rr=t|i.baseLanes}function Yf(){oe(cc,rr),oe(zs,zs.current)}function Xf(){rr=cc.current,ee(zs),ee(cc)}var Sn=M(null),Bn=null;function jr(t){var i=t.alternate;oe(yt,yt.current&1),oe(Sn,t),Bn===null&&(i===null||zs.current!==null||i.memoizedState!==null)&&(Bn=t)}function $f(t){oe(yt,yt.current),oe(Sn,t),Bn===null&&(Bn=t)}function $g(t){t.tag===22?(oe(yt,yt.current),oe(Sn,t),Bn===null&&(Bn=t)):Br()}function Br(){oe(yt,yt.current),oe(Sn,Sn.current)}function An(t){ee(Sn),Bn===t&&(Bn=null),ee(yt)}var yt=M(0);function hc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||nm(s)||im(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var $i=0,Ie=null,We=null,Rt=null,fc=!1,js=!1,$a=!1,dc=0,fl=0,Bs=null,jS=0;function ft(){throw Error(a(321))}function Jf(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!bn(t[s],i[s]))return!1;return!0}function Zf(t,i,s,l,h,d){return $i=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?My:dd,$a=!1,d=s(l,h),$a=!1,js&&(d=Zg(i,s,l,h)),Jg(t),d}function Jg(t){$.H=pl;var i=We!==null&&We.next!==null;if($i=0,Rt=We=Ie=null,fc=!1,fl=0,Bs=null,i)throw Error(a(300));t===null||xt||(t=t.dependencies,t!==null&&ic(t)&&(xt=!0))}function Zg(t,i,s,l){Ie=t;var h=0;do{if(js&&(Bs=null),fl=0,js=!1,25<=h)throw Error(a(301));if(h+=1,Rt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=Vy,d=i(s,l)}while(js);return d}function BS(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?dl(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Wf(){var t=dc!==0;return dc=0,t}function ed(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function td(t){if(fc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}fc=!1}$i=0,Rt=We=Ie=null,js=!1,fl=dc=0,Bs=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ie.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function _t(){if(We===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=Rt===null?Ie.memoizedState:Rt.next;if(i!==null)Rt=i,We=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Rt===null?Ie.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var i=fl;return fl+=1,Bs===null&&(Bs=[]),t=qg(Bs,t,i),i=Ie,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?My:dd),t}function pc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===re)return Gt(t)}throw Error(a(438,String(t)))}function nd(t){var i=null,s=Ie.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=mc(),Ie.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=V;return i.index++,s}function Ji(t,i){return typeof i=="function"?i(t):i}function gc(t){var i=_t();return id(i,We,t)}function id(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=_=null,D=null,q=i,J=!1;do{var te=q.lane&-536870913;if(te!==q.lane?(Ve&te)===te:($i&te)===te){var F=q.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),te===ks&&(J=!0);else if(($i&F)===F){q=q.next,F===ks&&(J=!0);continue}else te={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(b=D=te,_=d):D=D.next=te,Ie.lanes|=F,Fr|=F;te=q.action,$a&&s(d,te),d=q.hasEagerState?q.eagerState:s(d,te)}else F={lane:te,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(b=D=F,_=d):D=D.next=F,Ie.lanes|=te,Fr|=te;q=q.next}while(q!==null&&q!==i);if(D===null?_=d:D.next=b,!bn(d,t.memoizedState)&&(xt=!0,J&&(s=Ls,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function rd(t){var i=_t(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);bn(d,i.memoizedState)||(xt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function Wg(t,i,s){var l=Ie,h=_t(),d=ze;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var _=!bn((We||h).memoizedState,s);if(_&&(h.memoizedState=s,xt=!0),h=h.queue,od(ny.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,qs(9,{destroy:void 0},ty.bind(null,l,h,s,i),null),nt===null)throw Error(a(349));d||($i&127)!==0||ey(l,i,s)}return s}function ey(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ie.updateQueue,i===null?(i=mc(),Ie.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function ty(t,i,s,l){i.value=s,i.getSnapshot=l,iy(i)&&ry(t)}function ny(t,i,s){return s(function(){iy(i)&&ry(t)})}function iy(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!bn(t,s)}catch{return!0}}function ry(t){var i=Ba(t,2);i!==null&&dn(i,t,2)}function ad(t){var i=an();if(typeof t=="function"){var s=t;if(t=s(),$a){Dn(!0);try{s()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},i}function ay(t,i,s,l){return t.baseState=s,id(t,We,typeof l=="function"?l:Ji)}function qS(t,i,s,l,h){if(vc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,sy(i,d)):(d.next=s.next,i.pending=s.next=d)}}function sy(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=$.T,_={};$.T=_;try{var b=s(h,l),D=$.S;D!==null&&D(_,b),oy(t,i,b)}catch(q){sd(t,i,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=s(h,l),oy(t,i,d)}catch(q){sd(t,i,q)}}function oy(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ly(t,i,l)},function(l){return sd(t,i,l)}):ly(t,i,s)}function ly(t,i,s){i.status="fulfilled",i.value=s,uy(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,sy(t,s)))}function sd(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,uy(i),i=i.next;while(i!==l)}t.action=null}function uy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function cy(t,i){return i}function hy(t,i){if(ze){var s=nt.formState;if(s!==null){e:{var l=Ie;if(ze){if(rt){t:{for(var h=rt,d=jn;h.nodeType!==8;){if(!d){h=null;break t}if(h=qn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){rt=qn(h.nextSibling),l=h.data==="F!";break e}}kr(l)}l=!1}l&&(i=s[0])}}return s=an(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cy,lastRenderedState:i},s.queue=l,s=Ny.bind(null,Ie,l),l.dispatch=s,l=ad(!1),d=fd.bind(null,Ie,!1,l.queue),l=an(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=qS.bind(null,Ie,h,d,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function fy(t){var i=_t();return dy(i,We,t)}function dy(t,i,s){if(i=id(t,i,cy)[0],t=gc(Ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=dl(i)}catch(_){throw _===Ps?sc:_}else l=i;i=_t();var h=i.queue,d=h.dispatch;return s!==i.memoizedState&&(Ie.flags|=2048,qs(9,{destroy:void 0},HS.bind(null,h,s),null)),[l,d,t]}function HS(t,i){t.action=i}function my(t){var i=_t(),s=We;if(s!==null)return dy(i,s,t);_t(),i=i.memoizedState,s=_t();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function qs(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=mc(),Ie.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function py(){return _t().memoizedState}function yc(t,i,s,l){var h=an();Ie.flags|=t,h.memoizedState=qs(1|i,{destroy:void 0},s,l===void 0?null:l)}function _c(t,i,s,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;We!==null&&l!==null&&Jf(l,We.memoizedState.deps)?h.memoizedState=qs(i,d,s,l):(Ie.flags|=t,h.memoizedState=qs(1|i,d,s,l))}function gy(t,i){yc(8390656,8,t,i)}function od(t,i){_c(2048,8,t,i)}function FS(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=mc(),Ie.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function yy(t){var i=_t().memoizedState;return FS({ref:i,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function _y(t,i){return _c(4,2,t,i)}function vy(t,i){return _c(4,4,t,i)}function Ey(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function by(t,i,s){s=s!=null?s.concat([t]):null,_c(4,4,Ey.bind(null,i,t),s)}function ld(){}function Ty(t,i){var s=_t();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Jf(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function Sy(t,i){var s=_t();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Jf(i,l[1]))return l[0];if(l=t(),$a){Dn(!0);try{t()}finally{Dn(!1)}}return s.memoizedState=[l,i],l}function ud(t,i,s){return s===void 0||($i&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=A_(),Ie.lanes|=t,Fr|=t,s)}function Ay(t,i,s,l){return bn(s,i)?s:zs.current!==null?(t=ud(t,s,l),bn(t,i)||(xt=!0),t):($i&42)===0||($i&1073741824)!==0&&(Ve&261930)===0?(xt=!0,t.memoizedState=s):(t=A_(),Ie.lanes|=t,Fr|=t,i)}function wy(t,i,s,l,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=$.T,b={};$.T=b,fd(t,!1,i,s);try{var D=h(),q=$.S;if(q!==null&&q(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=zS(D,l);ml(t,i,J,xn(t))}else ml(t,i,l,xn(t))}catch(te){ml(t,i,{then:function(){},status:"rejected",reason:te},xn())}finally{se.p=d,_!==null&&b.types!==null&&(_.types=b.types),$.T=_}}function GS(){}function cd(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=Ry(t).queue;wy(t,h,i,de,s===null?GS:function(){return xy(t),s(l)})}function Ry(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:de},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function xy(t){var i=Ry(t);i.next===null&&(i=t.alternate.memoizedState),ml(t,i.next.queue,{},xn())}function hd(){return Gt(Dl)}function Cy(){return _t().memoizedState}function Iy(){return _t().memoizedState}function KS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=xn();t=Ur(s);var l=zr(i,t,s);l!==null&&(dn(l,i,s),ul(l,i,s)),i={cache:jf()},t.payload=i;return}i=i.return}}function QS(t,i,s){var l=xn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},vc(t)?Dy(i,s):(s=If(t,i,s,l),s!==null&&(dn(s,t,l),Oy(s,i,l)))}function Ny(t,i,s){var l=xn();ml(t,i,s,l)}function ml(t,i,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(vc(t))Dy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,s);if(h.hasEagerState=!0,h.eagerState=b,bn(b,_))return Wu(t,i,h,0),nt===null&&Zu(),!1}catch{}if(s=If(t,i,h,l),s!==null)return dn(s,t,l),Oy(s,i,l),!0}return!1}function fd(t,i,s,l){if(l={lane:2,revertLane:Fd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vc(t)){if(i)throw Error(a(479))}else i=If(t,s,l,2),i!==null&&dn(i,t,2)}function vc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Dy(t,i){js=fc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Oy(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,Lo(t,s)}}var pl={readContext:Gt,use:pc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};pl.useEffectEvent=ft;var My={readContext:Gt,use:pc,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:gy,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,yc(4194308,4,Ey.bind(null,i,t),s)},useLayoutEffect:function(t,i){return yc(4194308,4,t,i)},useInsertionEffect:function(t,i){yc(4,2,t,i)},useMemo:function(t,i){var s=an();i=i===void 0?null:i;var l=t();if($a){Dn(!0);try{t()}finally{Dn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=an();if(s!==void 0){var h=s(i);if($a){Dn(!0);try{s(i)}finally{Dn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=QS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:function(t){t=ad(t);var i=t.queue,s=Ny.bind(null,Ie,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:ld,useDeferredValue:function(t,i){var s=an();return ud(s,t,i)},useTransition:function(){var t=ad(!1);return t=wy.bind(null,Ie,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ie,h=an();if(ze){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),nt===null)throw Error(a(349));(Ve&127)!==0||ey(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,gy(ny.bind(null,l,d,t),[t]),l.flags|=2048,qs(9,{destroy:void 0},ty.bind(null,l,d,s,i),null),s},useId:function(){var t=an(),i=nt.identifierPrefix;if(ze){var s=Ci,l=xi;s=(l&~(1<<32-pt(l)-1)).toString(32)+s,i="_"+i+"R_"+s,s=dc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=jS++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:hd,useFormState:hy,useActionState:hy,useOptimistic:function(t){var i=an();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=fd.bind(null,Ie,!0,s),s.dispatch=i,[t,i]},useMemoCache:nd,useCacheRefresh:function(){return an().memoizedState=KS.bind(null,Ie)},useEffectEvent:function(t){var i=an(),s={impl:t};return i.memoizedState=s,function(){if((Qe&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},dd={readContext:Gt,use:pc,useCallback:Ty,useContext:Gt,useEffect:od,useImperativeHandle:by,useInsertionEffect:_y,useLayoutEffect:vy,useMemo:Sy,useReducer:gc,useRef:py,useState:function(){return gc(Ji)},useDebugValue:ld,useDeferredValue:function(t,i){var s=_t();return Ay(s,We.memoizedState,t,i)},useTransition:function(){var t=gc(Ji)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:Wg,useId:Cy,useHostTransitionStatus:hd,useFormState:fy,useActionState:fy,useOptimistic:function(t,i){var s=_t();return ay(s,We,t,i)},useMemoCache:nd,useCacheRefresh:Iy};dd.useEffectEvent=yy;var Vy={readContext:Gt,use:pc,useCallback:Ty,useContext:Gt,useEffect:od,useImperativeHandle:by,useInsertionEffect:_y,useLayoutEffect:vy,useMemo:Sy,useReducer:rd,useRef:py,useState:function(){return rd(Ji)},useDebugValue:ld,useDeferredValue:function(t,i){var s=_t();return We===null?ud(s,t,i):Ay(s,We.memoizedState,t,i)},useTransition:function(){var t=rd(Ji)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:Wg,useId:Cy,useHostTransitionStatus:hd,useFormState:my,useActionState:my,useOptimistic:function(t,i){var s=_t();return We!==null?ay(s,We,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:nd,useCacheRefresh:Iy};Vy.useEffectEvent=yy;function md(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:S({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var pd={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=xn(),h=Ur(l);h.payload=i,s!=null&&(h.callback=s),i=zr(t,h,l),i!==null&&(dn(i,t,l),ul(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=xn(),h=Ur(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=zr(t,h,l),i!==null&&(dn(i,t,l),ul(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=xn(),l=Ur(s);l.tag=2,i!=null&&(l.callback=i),i=zr(t,l,s),i!==null&&(dn(i,t,s),ul(i,t,s))}};function ky(t,i,s,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!tl(s,l)||!tl(h,d):!0}function Ly(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&pd.enqueueReplaceState(i,i.state,null)}function Ja(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=S({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Py(t){Ju(t)}function Uy(t){console.error(t)}function zy(t){Ju(t)}function Ec(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function jy(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function gd(t,i,s){return s=Ur(s),s.tag=3,s.payload={element:null},s.callback=function(){Ec(t,i)},s}function By(t){return t=Ur(t),t.tag=3,t}function qy(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){jy(i,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){jy(i,s,l),typeof h!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function YS(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Vs(i,s,h,!0),s=Sn.current,s!==null){switch(s.tag){case 31:case 13:return Bn===null?Oc():s.alternate===null&&dt===0&&(dt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===oc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Bd(t,l,h)),!1;case 22:return s.flags|=65536,l===oc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Bd(t,l,h)),!1}throw Error(a(435,s.tag))}return Bd(t,l,h),Oc(),!1}if(ze)return i=Sn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==kf&&(t=Error(a(422),{cause:l}),rl(Pn(t,s)))):(l!==kf&&(i=Error(a(423),{cause:l}),rl(Pn(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Pn(l,s),h=gd(t.stateNode,l,h),Kf(t,h),dt!==4&&(dt=2)),!1;var d=Error(a(520),{cause:l});if(d=Pn(d,s),Sl===null?Sl=[d]:Sl.push(d),dt!==4&&(dt=2),i===null)return!0;l=Pn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=gd(s.stateNode,l,t),Kf(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gr===null||!Gr.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=By(h),qy(h,t,s,l),Kf(s,h),!1}s=s.return}while(s!==null);return!1}var yd=Error(a(461)),xt=!1;function Kt(t,i,s,l){i.child=t===null?Kg(i,null,s,l):Xa(i,t.child,s,l)}function Hy(t,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Ga(i),l=Zf(t,i,s,_,d,h),b=Wf(),t!==null&&!xt?(ed(t,i,h),Zi(t,i,h)):(ze&&b&&Mf(i),i.flags|=1,Kt(t,i,l,h),i.child)}function Fy(t,i,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!Nf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Gy(t,i,d,l,h)):(t=tc(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!wd(t,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:tl,s(_,l)&&t.ref===i.ref)return Zi(t,i,h)}return i.flags|=1,t=Ki(d,l),t.ref=i.ref,t.return=i,i.child=t}function Gy(t,i,s,l,h){if(t!==null){var d=t.memoizedProps;if(tl(d,l)&&t.ref===i.ref)if(xt=!1,i.pendingProps=l=d,wd(t,h))(t.flags&131072)!==0&&(xt=!0);else return i.lanes=t.lanes,Zi(t,i,h)}return _d(t,i,s,l,h)}function Ky(t,i,s,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Qy(t,i,d,s,l)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ac(i,d!==null?d.cachePool:null),d!==null?Xg(i,d):Yf(),$g(i);else return l=i.lanes=536870912,Qy(t,i,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(ac(i,d.cachePool),Xg(i,d),Br(),i.memoizedState=null):(t!==null&&ac(i,null),Yf(),Br());return Kt(t,i,h,s),i.child}function gl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Qy(t,i,s,l,h){var d=qf();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},t!==null&&ac(i,null),Yf(),$g(i),t!==null&&Vs(t,i,l,!0),i.childLanes=h,null}function bc(t,i){return i=Sc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Yy(t,i,s){return Xa(i,t.child,null,s),t=bc(i,i.pendingProps),t.flags|=2,An(i),i.memoizedState=null,t}function XS(t,i,s){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=bc(i,l),i.lanes=536870912,gl(null,t);if($f(i),(t=rt)?(t=sv(t,jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:xi,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},s=Dg(t),s.return=i,i.child=s,Ft=i,rt=null)):t=null,t===null)throw kr(i);return i.lanes=536870912,null}return bc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if($f(i),h)if(i.flags&256)i.flags&=-257,i=Yy(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(xt||Vs(t,i,s,!1),h=(s&t.childLanes)!==0,xt||h){if(l=nt,l!==null&&(_=Po(l,s),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ba(t,_),dn(l,t,_),yd;Oc(),i=Yy(t,i,s)}else t=d.treeContext,rt=qn(_.nextSibling),Ft=i,ze=!0,Vr=null,jn=!1,t!==null&&Vg(i,t),i=bc(i,l),i.flags|=4096;return i}return t=Ki(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Tc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function _d(t,i,s,l,h){return Ga(i),s=Zf(t,i,s,l,void 0,h),l=Wf(),t!==null&&!xt?(ed(t,i,h),Zi(t,i,h)):(ze&&l&&Mf(i),i.flags|=1,Kt(t,i,s,h),i.child)}function Xy(t,i,s,l,h,d){return Ga(i),i.updateQueue=null,s=Zg(i,l,s,h),Jg(t),l=Wf(),t!==null&&!xt?(ed(t,i,d),Zi(t,i,d)):(ze&&l&&Mf(i),i.flags|=1,Kt(t,i,s,d),i.child)}function $y(t,i,s,l,h){if(Ga(i),i.stateNode===null){var d=Ns,_=s.contextType;typeof _=="object"&&_!==null&&(d=Gt(_)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=pd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Ff(i),_=s.contextType,d.context=typeof _=="object"&&_!==null?Gt(_):Ns,d.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(md(i,s,_,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&pd.enqueueReplaceState(d,d.state,null),hl(i,l,d,h),cl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,D=Ja(s,b);d.props=D;var q=d.context,J=s.contextType;_=Ns,typeof J=="object"&&J!==null&&(_=Gt(J));var te=s.getDerivedStateFromProps;J=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||q!==_)&&Ly(i,d,l,_),Pr=!1;var F=i.memoizedState;d.state=F,hl(i,l,d,h),cl(),q=i.memoizedState,b||F!==q||Pr?(typeof te=="function"&&(md(i,s,te,l),q=i.memoizedState),(D=Pr||ky(i,s,D,l,F,q,_))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Gf(t,i),_=i.memoizedProps,J=Ja(s,_),d.props=J,te=i.pendingProps,F=d.context,q=s.contextType,D=Ns,typeof q=="object"&&q!==null&&(D=Gt(q)),b=s.getDerivedStateFromProps,(q=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||F!==D)&&Ly(i,d,l,D),Pr=!1,F=i.memoizedState,d.state=F,hl(i,l,d,h),cl();var K=i.memoizedState;_!==te||F!==K||Pr||t!==null&&t.dependencies!==null&&ic(t.dependencies)?(typeof b=="function"&&(md(i,s,b,l),K=i.memoizedState),(J=Pr||ky(i,s,J,l,F,K,D)||t!==null&&t.dependencies!==null&&ic(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=D,l=J):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Tc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Xa(i,t.child,null,h),i.child=Xa(i,null,s,h)):Kt(t,i,s,h),i.memoizedState=d.state,t=i.child):t=Zi(t,i,h),t}function Jy(t,i,s,l){return Ha(),i.flags|=256,Kt(t,i,s,l),i.child}var vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(t){return{baseLanes:t,cachePool:jg()}}function bd(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Rn),t}function Zy(t,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ze){if(h?jr(i):Br(),(t=rt)?(t=sv(t,jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:xi,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},s=Dg(t),s.return=i,i.child=s,Ft=i,rt=null)):t=null,t===null)throw kr(i);return im(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(Br(),h=i.mode,b=Sc({mode:"hidden",children:b},h),l=qa(l,h,s,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Ed(s),l.childLanes=bd(t,_,s),i.memoizedState=vd,gl(null,l)):(jr(i),Td(i,b))}var D=t.memoizedState;if(D!==null&&(b=D.dehydrated,b!==null)){if(d)i.flags&256?(jr(i),i.flags&=-257,i=Sd(t,i,s)):i.memoizedState!==null?(Br(),i.child=t.child,i.flags|=128,i=null):(Br(),b=l.fallback,h=i.mode,l=Sc({mode:"visible",children:l.children},h),b=qa(b,h,s,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,Xa(i,t.child,null,s),l=i.child,l.memoizedState=Ed(s),l.childLanes=bd(t,_,s),i.memoizedState=vd,i=gl(null,l));else if(jr(i),im(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(a(419)),l.stack="",l.digest=_,rl({value:l,source:null,stack:null}),i=Sd(t,i,s)}else if(xt||Vs(t,i,s,!1),_=(s&t.childLanes)!==0,xt||_){if(_=nt,_!==null&&(l=Po(_,s),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ba(t,l),dn(_,t,l),yd;nm(b)||Oc(),i=Sd(t,i,s)}else nm(b)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,rt=qn(b.nextSibling),Ft=i,ze=!0,Vr=null,jn=!1,t!==null&&Vg(i,t),i=Td(i,l.children),i.flags|=4096);return i}return h?(Br(),b=l.fallback,h=i.mode,D=t.child,q=D.sibling,l=Ki(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?b=Ki(q,b):(b=qa(b,h,s,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,gl(null,l),l=i.child,b=t.child.memoizedState,b===null?b=Ed(s):(h=b.cachePool,h!==null?(D=wt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=jg(),b={baseLanes:b.baseLanes|s,cachePool:h}),l.memoizedState=b,l.childLanes=bd(t,_,s),i.memoizedState=vd,gl(t.child,l)):(jr(i),s=t.child,t=s.sibling,s=Ki(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=s,i.memoizedState=null,s)}function Td(t,i){return i=Sc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Sc(t,i){return t=Tn(22,t,null,i),t.lanes=0,t}function Sd(t,i,s){return Xa(i,t.child,null,s),t=Td(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Wy(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Uf(t.return,i,s)}function Ad(t,i,s,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=s,_.tailMode=h,_.treeForkCount=d)}function e_(t,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,oe(yt,_),Kt(t,i,l,s),l=ze?il:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wy(t,s,i);else if(t.tag===19)Wy(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&hc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Ad(i,!1,h,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&hc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Ad(i,!0,s,null,d,l);break;case"together":Ad(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Zi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Fr|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(Vs(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Ki(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Ki(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function wd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ic(t)))}function $S(t,i,s){switch(i.tag){case 3:Te(i,i.stateNode.containerInfo),Lr(i,wt,t.memoizedState.cache),Ha();break;case 27:case 5:_n(i);break;case 4:Te(i,i.stateNode.containerInfo);break;case 10:Lr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,$f(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(jr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Zy(t,i,s):(jr(i),t=Zi(t,i,s),t!==null?t.sibling:null);jr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Vs(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return e_(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(yt,yt.current),l)break;return null;case 22:return i.lanes=0,Ky(t,i,s,i.pendingProps);case 24:Lr(i,wt,t.memoizedState.cache)}return Zi(t,i,s)}function t_(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)xt=!0;else{if(!wd(t,s)&&(i.flags&128)===0)return xt=!1,$S(t,i,s);xt=(t.flags&131072)!==0}else xt=!1,ze&&(i.flags&1048576)!==0&&Mg(i,il,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Qa(i.elementType),i.type=t,typeof t=="function")Nf(t)?(l=Ja(t,l),i.tag=1,i=$y(null,i,t,l,s)):(i.tag=0,i=_d(null,i,t,l,s));else{if(t!=null){var h=t.$$typeof;if(h===Ee){i.tag=11,i=Hy(null,i,t,l,s);break e}else if(h===I){i.tag=14,i=Fy(null,i,t,l,s);break e}}throw i=qe(t)||t,Error(a(306,i,""))}}return i;case 0:return _d(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=Ja(l,i.pendingProps),$y(t,i,l,h,s);case 3:e:{if(Te(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Gf(t,i),hl(i,l,null,s);var _=i.memoizedState;if(l=_.cache,Lr(i,wt,l),l!==d.cache&&zf(i,[wt],s,!0),cl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Jy(t,i,l,s);break e}else if(l!==h){h=Pn(Error(a(424)),i),rl(h),i=Jy(t,i,l,s);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=qn(t.firstChild),Ft=i,ze=!0,Vr=null,jn=!0,s=Kg(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ha(),l===h){i=Zi(t,i,s);break e}Kt(t,i,l,s)}i=i.child}return i;case 26:return Tc(t,i),t===null?(s=fv(i.type,null,i.pendingProps,null))?i.memoizedState=s:ze||(s=i.type,t=i.pendingProps,l=zc(xe.current).createElement(s),l[Tt]=i,l[Ut]=t,Qt(l,s,t),St(l),i.stateNode=l):i.memoizedState=fv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return _n(i),t===null&&ze&&(l=i.stateNode=uv(i.type,i.pendingProps,xe.current),Ft=i,jn=!0,h=rt,Xr(i.type)?(rm=h,rt=qn(l.firstChild)):rt=h),Kt(t,i,i.pendingProps.children,s),Tc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ze&&((h=l=rt)&&(l=RA(l,i.type,i.pendingProps,jn),l!==null?(i.stateNode=l,Ft=i,rt=qn(l.firstChild),jn=!1,h=!0):h=!1),h||kr(i)),_n(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Wd(h,d)?l=null:_!==null&&Wd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Zf(t,i,BS,null,null,s),Dl._currentValue=h),Tc(t,i),Kt(t,i,l,s),i.child;case 6:return t===null&&ze&&((t=s=rt)&&(s=xA(s,i.pendingProps,jn),s!==null?(i.stateNode=s,Ft=i,rt=null,t=!0):t=!1),t||kr(i)),null;case 13:return Zy(t,i,s);case 4:return Te(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Xa(i,null,l,s):Kt(t,i,l,s),i.child;case 11:return Hy(t,i,i.type,i.pendingProps,s);case 7:return Kt(t,i,i.pendingProps,s),i.child;case 8:return Kt(t,i,i.pendingProps.children,s),i.child;case 12:return Kt(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Lr(i,i.type,l.value),Kt(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ga(i),h=Gt(h),l=l(h),i.flags|=1,Kt(t,i,l,s),i.child;case 14:return Fy(t,i,i.type,i.pendingProps,s);case 15:return Gy(t,i,i.type,i.pendingProps,s);case 19:return e_(t,i,s);case 31:return XS(t,i,s);case 22:return Ky(t,i,s,i.pendingProps);case 24:return Ga(i),l=Gt(wt),t===null?(h=qf(),h===null&&(h=nt,d=jf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},Ff(i),Lr(i,wt,h)):((t.lanes&s)!==0&&(Gf(t,i),hl(i,null,null,s),cl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Lr(i,wt,l)):(l=d.cache,Lr(i,wt,l),l!==h.cache&&zf(i,[wt],s,!0))),Kt(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Wi(t){t.flags|=4}function Rd(t,i,s,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(C_())t.flags|=8192;else throw Ya=oc,Hf}else t.flags&=-16777217}function n_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yv(i))if(C_())t.flags|=8192;else throw Ya=oc,Hf}function Ac(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Nu():536870912,t.lanes|=i,Ks|=i)}function yl(t,i){if(!ze)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function JS(t,i,s){var l=i.pendingProps;switch(Vf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Xi(wt),je(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ms(i)?Wi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Lf())),at(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Wi(i),d!==null?(at(i),n_(i,d)):(at(i),Rd(i,h,null,l,s))):d?d!==t.memoizedState?(Wi(i),at(i),n_(i,d)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Wi(i),at(i),Rd(i,h,t,l,s)),null;case 27:if(sn(i),s=xe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return at(i),null}t=ue.current,Ms(i)?kg(i):(t=uv(h,l,s),i.stateNode=t,Wi(i))}return at(i),null;case 5:if(sn(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return at(i),null}if(d=ue.current,Ms(i))kg(i);else{var _=zc(xe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Tt]=i,d[Ut]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Wi(i)}}return at(i),Rd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=xe.current,Ms(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Z_(t.nodeValue,s)),t||kr(i,!0)}else t=zc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return at(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ms(i),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Tt]=i}else Ha(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else s=Lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(An(i),i):(An(i),null);if((i.flags&128)!==0)throw Error(a(558))}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ms(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Tt]=i}else Ha(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=Lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(An(i),i):(An(i),null)}return An(i),(i.flags&128)!==0?(i.lanes=s,i):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),Ac(i,i.updateQueue),at(i),null);case 4:return je(),t===null&&Yd(i.stateNode.containerInfo),at(i),null;case 10:return Xi(i.type),at(i),null;case 19:if(ee(yt),l=i.memoizedState,l===null)return at(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)yl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=hc(t),d!==null){for(i.flags|=128,yl(l,!1),t=d.updateQueue,i.updateQueue=t,Ac(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Ng(s,t),s=s.sibling;return oe(yt,yt.current&1|2),ze&&Qi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>Ic&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304)}else{if(!h)if(t=hc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Ac(i,t),yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ze)return at(i),null}else 2*nn()-l.renderingStartTime>Ic&&s!==536870912&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,s=yt.current,oe(yt,h?s&1|2:s&1),ze&&Qi(i,l.treeForkCount),t):(at(i),null);case 22:case 23:return An(i),Xf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),s=i.updateQueue,s!==null&&Ac(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&ee(Ka),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Xi(wt),at(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function ZS(t,i){switch(Vf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Xi(wt),je(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return sn(i),null;case 31:if(i.memoizedState!==null){if(An(i),i.alternate===null)throw Error(a(340));Ha()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(An(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Ha()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(yt),null;case 4:return je(),null;case 10:return Xi(i.type),null;case 22:case 23:return An(i),Xf(),t!==null&&ee(Ka),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Xi(wt),null;case 25:return null;default:return null}}function i_(t,i){switch(Vf(i),i.tag){case 3:Xi(wt),je();break;case 26:case 27:case 5:sn(i);break;case 4:je();break;case 31:i.memoizedState!==null&&An(i);break;case 13:An(i);break;case 19:ee(yt);break;case 10:Xi(i.type);break;case 22:case 23:An(i),Xf(),t!==null&&ee(Ka);break;case 24:Xi(wt)}}function _l(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==h)}}catch(b){Je(i,i.return,b)}}function qr(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=i;var D=s,q=b;try{q()}catch(J){Je(h,D,J)}}}l=l.next}while(l!==d)}}catch(J){Je(i,i.return,J)}}function r_(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Yg(i,s)}catch(l){Je(t,t.return,l)}}}function a_(t,i,s){s.props=Ja(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Je(t,i,l)}}function vl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Je(t,i,h)}}function Ii(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Je(t,i,h)}else s.current=null}function s_(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Je(t,t.return,h)}}function xd(t,i,s){try{var l=t.stateNode;EA(l,t.type,s,i),l[Ut]=i}catch(h){Je(t,t.return,h)}}function o_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xr(t.type)||t.tag===4}function Cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||o_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Id(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Zn));else if(l!==4&&(l===27&&Xr(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Id(t,i,s),t=t.sibling;t!==null;)Id(t,i,s),t=t.sibling}function wc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&Xr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(wc(t,i,s),t=t.sibling;t!==null;)wc(t,i,s),t=t.sibling}function l_(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qt(i,l,s),i[Tt]=t,i[Ut]=s}catch(d){Je(t,t.return,d)}}var er=!1,Ct=!1,Nd=!1,u_=typeof WeakSet=="function"?WeakSet:Set,jt=null;function WS(t,i){if(t=t.containerInfo,Jd=Kc,t=bg(t),Sf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,b=-1,D=-1,q=0,J=0,te=t,F=null;t:for(;;){for(var K;te!==s||h!==0&&te.nodeType!==3||(b=_+h),te!==d||l!==0&&te.nodeType!==3||(D=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(K=te.firstChild)!==null;)F=te,te=K;for(;;){if(te===t)break t;if(F===s&&++q===h&&(b=_),F===d&&++J===l&&(D=_),(K=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=K}s=b===-1||D===-1?null:{start:b,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(Zd={focusedElem:t,selectionRange:s},Kc=!1,jt=i;jt!==null;)if(i=jt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,jt=t;else for(;jt!==null;){switch(i=jt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var he=Ja(s.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Je(s,s.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)tm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,jt=t;break}jt=i.return}}function c_(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:nr(t,s),l&4&&_l(5,s);break;case 1:if(nr(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(_){Je(s,s.return,_)}else{var h=Ja(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(s,s.return,_)}}l&64&&r_(s),l&512&&vl(s,s.return);break;case 3:if(nr(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Yg(t,i)}catch(_){Je(s,s.return,_)}}break;case 27:i===null&&l&4&&l_(s);case 26:case 5:nr(t,s),i===null&&l&4&&s_(s),l&512&&vl(s,s.return);break;case 12:nr(t,s);break;case 31:nr(t,s),l&4&&d_(t,s);break;case 13:nr(t,s),l&4&&m_(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=lA.bind(null,s),CA(t,s))));break;case 22:if(l=s.memoizedState!==null||er,!l){i=i!==null&&i.memoizedState!==null||Ct,h=er;var d=Ct;er=l,(Ct=i)&&!d?ir(t,s,(s.subtreeFlags&8772)!==0):nr(t,s),er=h,Ct=d}break;case 30:break;default:nr(t,s)}}function h_(t){var i=t.alternate;i!==null&&(t.alternate=null,h_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&gs(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,un=!1;function tr(t,i,s){for(s=s.child;s!==null;)f_(t,i,s),s=s.sibling}function f_(t,i,s){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Yn,s)}catch{}switch(s.tag){case 26:Ct||Ii(s,i),tr(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ct||Ii(s,i);var l=ut,h=un;Xr(s.type)&&(ut=s.stateNode,un=!1),tr(t,i,s),Cl(s.stateNode),ut=l,un=h;break;case 5:Ct||Ii(s,i);case 6:if(l=ut,h=un,ut=null,tr(t,i,s),ut=l,un=h,ut!==null)if(un)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(s.stateNode)}catch(d){Je(s,i,d)}else try{ut.removeChild(s.stateNode)}catch(d){Je(s,i,d)}break;case 18:ut!==null&&(un?(t=ut,rv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),eo(t)):rv(ut,s.stateNode));break;case 4:l=ut,h=un,ut=s.stateNode.containerInfo,un=!0,tr(t,i,s),ut=l,un=h;break;case 0:case 11:case 14:case 15:qr(2,s,i),Ct||qr(4,s,i),tr(t,i,s);break;case 1:Ct||(Ii(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&a_(s,i,l)),tr(t,i,s);break;case 21:tr(t,i,s);break;case 22:Ct=(l=Ct)||s.memoizedState!==null,tr(t,i,s),Ct=l;break;default:tr(t,i,s)}}function d_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{eo(t)}catch(s){Je(i,i.return,s)}}}function m_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eo(t)}catch(s){Je(i,i.return,s)}}function eA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new u_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new u_),i;default:throw Error(a(435,t.tag))}}function Rc(t,i){var s=eA(t);i.forEach(function(l){if(!s.has(l)){s.add(l);var h=uA.bind(null,t,l);l.then(h,h)}})}function cn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Xr(b.type)){ut=b.stateNode,un=!1;break e}break;case 5:ut=b.stateNode,un=!1;break e;case 3:case 4:ut=b.stateNode.containerInfo,un=!0;break e}b=b.return}if(ut===null)throw Error(a(160));f_(d,_,h),ut=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)p_(i,t),i=i.sibling}var ri=null;function p_(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),l&4&&(qr(3,t,t.return),_l(3,t),qr(5,t,t.return));break;case 1:cn(i,t),hn(t),l&512&&(Ct||s===null||Ii(s,s.return)),l&64&&er&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=ri;if(cn(i,t),hn(t),l&512&&(Ct||s===null||Ii(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[pi]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,s),d[Tt]=t,St(d),l=d;break e;case"link":var _=pv("link","href",h).get(l+(s.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(b,1);break t}}d=h.createElement(l),Qt(d,l,s),h.head.appendChild(d);break;case"meta":if(_=pv("meta","content",h).get(l+(s.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(b,1);break t}}d=h.createElement(l),Qt(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[Tt]=t,St(d),l=d}t.stateNode=l}else gv(h,t.type,t.stateNode);else t.stateNode=mv(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?gv(h,t.type,t.stateNode):mv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&xd(t,t.memoizedProps,s.memoizedProps)}break;case 27:cn(i,t),hn(t),l&512&&(Ct||s===null||Ii(s,s.return)),s!==null&&l&4&&xd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(cn(i,t),hn(t),l&512&&(Ct||s===null||Ii(s,s.return)),t.flags&32){h=t.stateNode;try{ln(h,"")}catch(he){Je(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,xd(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Nd=!0);break;case 6:if(cn(i,t),hn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(he){Je(t,t.return,he)}}break;case 3:if(qc=null,h=ri,ri=jc(i.containerInfo),cn(i,t),ri=h,hn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{eo(i.containerInfo)}catch(he){Je(t,t.return,he)}Nd&&(Nd=!1,g_(t));break;case 4:l=ri,ri=jc(t.stateNode.containerInfo),cn(i,t),hn(t),ri=l;break;case 12:cn(i,t),hn(t);break;case 31:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Cc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 22:h=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,q=er,J=Ct;if(er=q||h,Ct=J||D,cn(i,t),Ct=J,er=q,hn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||D||er||Ct||Za(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){D=s=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=D.stateNode;var te=D.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(he){Je(D,D.return,he)}}}else if(i.tag===6){if(s===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(he){Je(D,D.return,he)}}}else if(i.tag===18){if(s===null){D=i;try{var K=D.stateNode;h?av(K,!0):av(D.stateNode,!1)}catch(he){Je(D,D.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Rc(t,s))));break;case 19:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(o_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=Cd(t);wc(t,d,h);break;case 5:var _=s.stateNode;s.flags&32&&(ln(_,""),s.flags&=-33);var b=Cd(t);wc(t,b,_);break;case 3:case 4:var D=s.stateNode.containerInfo,q=Cd(t);Id(t,q,D);break;default:throw Error(a(161))}}catch(J){Je(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function g_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;g_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function nr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)c_(t,i.alternate,i),i=i.sibling}function Za(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:qr(4,i,i.return),Za(i);break;case 1:Ii(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&a_(i,i.return,s),Za(i);break;case 27:Cl(i.stateNode);case 26:case 5:Ii(i,i.return),Za(i);break;case 22:i.memoizedState===null&&Za(i);break;case 30:Za(i);break;default:Za(i)}t=t.sibling}}function ir(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ir(h,d,s),_l(4,d);break;case 1:if(ir(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Je(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Qg(D[h],b)}catch(q){Je(l,l.return,q)}}s&&_&64&&r_(d),vl(d,d.return);break;case 27:l_(d);case 26:case 5:ir(h,d,s),s&&l===null&&_&4&&s_(d),vl(d,d.return);break;case 12:ir(h,d,s);break;case 31:ir(h,d,s),s&&_&4&&d_(h,d);break;case 13:ir(h,d,s),s&&_&4&&m_(h,d);break;case 22:d.memoizedState===null&&ir(h,d,s),vl(d,d.return);break;case 30:break;default:ir(h,d,s)}i=i.sibling}}function Dd(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&al(s))}function Od(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t))}function ai(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)y_(t,i,s,l),i=i.sibling}function y_(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ai(t,i,s,l),h&2048&&_l(9,i);break;case 1:ai(t,i,s,l);break;case 3:ai(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t)));break;case 12:if(h&2048){ai(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Je(i,i.return,D)}}else ai(t,i,s,l);break;case 31:ai(t,i,s,l);break;case 13:ai(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ai(t,i,s,l):El(t,i):d._visibility&2?ai(t,i,s,l):(d._visibility|=2,Hs(t,i,s,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Dd(_,i);break;case 24:ai(t,i,s,l),h&2048&&Od(i.alternate,i);break;default:ai(t,i,s,l)}}function Hs(t,i,s,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,b=s,D=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:Hs(d,_,b,D,h),_l(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?Hs(d,_,b,D,h):El(d,_):(J._visibility|=2,Hs(d,_,b,D,h)),h&&q&2048&&Dd(_.alternate,_);break;case 24:Hs(d,_,b,D,h),h&&q&2048&&Od(_.alternate,_);break;default:Hs(d,_,b,D,h)}i=i.sibling}}function El(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:El(s,l),h&2048&&Dd(l.alternate,l);break;case 24:El(s,l),h&2048&&Od(l.alternate,l);break;default:El(s,l)}i=i.sibling}}var bl=8192;function Fs(t,i,s){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)__(t,i,s),t=t.sibling}function __(t,i,s){switch(t.tag){case 26:Fs(t,i,s),t.flags&bl&&t.memoizedState!==null&&jA(s,ri,t.memoizedState,t.memoizedProps);break;case 5:Fs(t,i,s);break;case 3:case 4:var l=ri;ri=jc(t.stateNode.containerInfo),Fs(t,i,s),ri=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=bl,bl=16777216,Fs(t,i,s),bl=l):Fs(t,i,s));break;default:Fs(t,i,s)}}function v_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Tl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];jt=l,b_(l,t)}v_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)E_(t),t=t.sibling}function E_(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&qr(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,xc(t)):Tl(t);break;default:Tl(t)}}function xc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];jt=l,b_(l,t)}v_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:qr(8,i,i.return),xc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,xc(i));break;default:xc(i)}t=t.sibling}}function b_(t,i){for(;jt!==null;){var s=jt;switch(s.tag){case 0:case 11:case 15:qr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,jt=l;else e:for(s=t;jt!==null;){l=jt;var h=l.sibling,d=l.return;if(h_(l),l===s){jt=null;break e}if(h!==null){h.return=d,jt=h;break e}jt=d}}}var tA={getCacheForType:function(t){var i=Gt(wt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return Gt(wt).controller.signal}},nA=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,Oe=null,Ve=0,$e=0,wn=null,Hr=!1,Gs=!1,Md=!1,rr=0,dt=0,Fr=0,Wa=0,Vd=0,Rn=0,Ks=0,Sl=null,fn=null,kd=!1,Cc=0,T_=0,Ic=1/0,Nc=null,Gr=null,Mt=0,Kr=null,Qs=null,ar=0,Ld=0,Pd=null,S_=null,Al=0,Ud=null;function xn(){return(Qe&2)!==0&&Ve!==0?Ve&-Ve:$.T!==null?Fd():Du()}function A_(){if(Rn===0)if((Ve&536870912)===0||ze){var t=Ra;Ra<<=1,(Ra&3932160)===0&&(Ra=262144),Rn=t}else Rn=536870912;return t=Sn.current,t!==null&&(t.flags|=32),Rn}function dn(t,i,s){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&(Ys(t,0),Qr(t,Ve,Rn,!1)),xa(t,s),((Qe&2)===0||t!==nt)&&(t===nt&&((Qe&2)===0&&(Wa|=s),dt===4&&Qr(t,Ve,Rn,!1)),Ni(t))}function w_(t,i,s){if((Qe&6)!==0)throw Error(a(327));var l=!s&&(i&127)===0&&(i&t.expiredLanes)===0||Xn(t,i),h=l?aA(t,i):jd(t,i,!0),d=l;do{if(h===0){Gs&&!l&&Qr(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!iA(s)){h=jd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;h=Sl;var D=b.current.memoizedState.isDehydrated;if(D&&(Ys(b,_).flags|=256),_=jd(b,_,!1),_!==2){if(Md&&!D){b.errorRecoveryDisabledLanes|=d,Wa|=d,h=4;break e}d=fn,fn=h,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ys(t,0),Qr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Qr(l,i,Rn,!Hr);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Cc+300-nn(),10<h)){if(Qr(l,i,Rn,!Hr),fi(l,0,!0)!==0)break e;ar=i,l.timeoutHandle=nv(R_.bind(null,l,s,fn,Nc,kd,i,Rn,Wa,Ks,Hr,d,"Throttled",-0,0),h);break e}R_(l,s,fn,Nc,kd,i,Rn,Wa,Ks,Hr,d,null,-0,0)}}break}while(!0);Ni(t)}function R_(t,i,s,l,h,d,_,b,D,q,J,te,F,K){if(t.timeoutHandle=-1,te=i.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},__(i,d,te);var he=(d&62914560)===d?Cc-nn():(d&4194048)===d?T_-nn():0;if(he=BA(te,he),he!==null){ar=d,t.cancelPendingCommit=he(V_.bind(null,t,i,d,s,l,h,_,b,D,J,te,null,F,K)),Qr(t,d,_,!q);return}}V_(t,i,d,s,l,h,_,b,D)}function iA(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!bn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qr(t,i,s,l){i&=~Vd,i&=~Wa,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}s!==0&&Ca(t,s,i)}function Dc(){return(Qe&6)===0?(wl(0),!1):!0}function zd(){if(Oe!==null){if($e===0)var t=Oe.return;else t=Oe,Yi=Fa=null,td(t),Us=null,ol=0,t=Oe;for(;t!==null;)i_(t.alternate,t),t=t.return;Oe=null}}function Ys(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,SA(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ar=0,zd(),nt=t,Oe=s=Ki(t.current,null),Ve=i,$e=0,wn=null,Hr=!1,Gs=Xn(t,i),Md=!1,Ks=Rn=Vd=Wa=Fr=dt=0,fn=Sl=null,kd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return rr=i,Zu(),s}function x_(t,i){Ie=null,$.H=pl,i===Ps||i===sc?(i=Hg(),$e=3):i===Hf?(i=Hg(),$e=4):$e=i===yd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wn=i,Oe===null&&(dt=1,Ec(t,Pn(i,t.current)))}function C_(){var t=Sn.current;return t===null?!0:(Ve&4194048)===Ve?Bn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Bn:!1}function I_(){var t=$.H;return $.H=pl,t===null?pl:t}function N_(){var t=$.A;return $.A=tA,t}function Oc(){dt=4,Hr||(Ve&4194048)!==Ve&&Sn.current!==null||(Gs=!0),(Fr&134217727)===0&&(Wa&134217727)===0||nt===null||Qr(nt,Ve,Rn,!1)}function jd(t,i,s){var l=Qe;Qe|=2;var h=I_(),d=N_();(nt!==t||Ve!==i)&&(Nc=null,Ys(t,i)),i=!1;var _=dt;e:do try{if($e!==0&&Oe!==null){var b=Oe,D=wn;switch($e){case 8:zd(),_=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(i=!0);var q=$e;if($e=0,wn=null,Xs(t,b,D,q),s&&Gs){_=0;break e}break;default:q=$e,$e=0,wn=null,Xs(t,b,D,q)}}rA(),_=dt;break}catch(J){x_(t,J)}while(!0);return i&&t.shellSuspendCounter++,Yi=Fa=null,Qe=l,$.H=h,$.A=d,Oe===null&&(nt=null,Ve=0,Zu()),_}function rA(){for(;Oe!==null;)D_(Oe)}function aA(t,i){var s=Qe;Qe|=2;var l=I_(),h=N_();nt!==t||Ve!==i?(Nc=null,Ic=nn()+500,Ys(t,i)):Gs=Xn(t,i);e:do try{if($e!==0&&Oe!==null){i=Oe;var d=wn;t:switch($e){case 1:$e=0,wn=null,Xs(t,i,d,1);break;case 2:case 9:if(Bg(d)){$e=0,wn=null,O_(i);break}i=function(){$e!==2&&$e!==9||nt!==t||($e=7),Ni(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Bg(d)?($e=0,wn=null,O_(i)):($e=0,wn=null,Xs(t,i,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var b=Oe;if(_?yv(_):b.stateNode.complete){$e=0,wn=null;var D=b.sibling;if(D!==null)Oe=D;else{var q=b.return;q!==null?(Oe=q,Mc(q)):Oe=null}break t}}$e=0,wn=null,Xs(t,i,d,5);break;case 6:$e=0,wn=null,Xs(t,i,d,6);break;case 8:zd(),dt=6;break e;default:throw Error(a(462))}}sA();break}catch(J){x_(t,J)}while(!0);return Yi=Fa=null,$.H=l,$.A=h,Qe=s,Oe!==null?0:(nt=null,Ve=0,Zu(),dt)}function sA(){for(;Oe!==null&&!gf();)D_(Oe)}function D_(t){var i=t_(t.alternate,t,rr);t.memoizedProps=t.pendingProps,i===null?Mc(t):Oe=i}function O_(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Xy(s,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=Xy(s,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:td(i);default:i_(s,i),i=Oe=Ng(i,rr),i=t_(s,i,rr)}t.memoizedProps=t.pendingProps,i===null?Mc(t):Oe=i}function Xs(t,i,s,l){Yi=Fa=null,td(i),Us=null,ol=0;var h=i.return;try{if(YS(t,h,i,s,Ve)){dt=1,Ec(t,Pn(s,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;dt=1,Ec(t,Pn(s,t.current)),Oe=null;return}i.flags&32768?(ze||l===1?t=!0:Gs||(Ve&536870912)!==0?t=!1:(Hr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),M_(i,t)):Mc(i)}function Mc(t){var i=t;do{if((i.flags&32768)!==0){M_(i,Hr);return}t=i.return;var s=JS(i.alternate,i,rr);if(s!==null){Oe=s;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);dt===0&&(dt=5)}function M_(t,i){do{var s=ZS(t.alternate,t);if(s!==null){s.flags&=32767,Oe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=s}while(t!==null);dt=6,Oe=null}function V_(t,i,s,l,h,d,_,b,D){t.cancelPendingCommit=null;do Vc();while(Mt!==0);if((Qe&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=Cf,vf(t,s,d,_,b,D),t===nt&&(Oe=nt=null,Ve=0),Qs=i,Kr=t,ar=s,Ld=d,Pd=h,S_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,cA(Sr,function(){return z_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=se.p,se.p=2,_=Qe,Qe|=4;try{WS(t,i,s)}finally{Qe=_,se.p=h,$.T=l}}Mt=1,k_(),L_(),P_()}}function k_(){if(Mt===1){Mt=0;var t=Kr,i=Qs,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=$.T,$.T=null;var l=se.p;se.p=2;var h=Qe;Qe|=4;try{p_(i,t);var d=Zd,_=bg(t.containerInfo),b=d.focusedElem,D=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Eg(b.ownerDocument.documentElement,b)){if(D!==null&&Sf(b)){var q=D.start,J=D.end;if(J===void 0&&(J=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(J,b.value.length);else{var te=b.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var K=F.getSelection(),he=b.textContent.length,ge=Math.min(D.start,he),tt=D.end===void 0?ge:Math.min(D.end,he);!K.extend&&ge>tt&&(_=tt,tt=ge,ge=_);var L=vg(b,ge),O=vg(b,tt);if(L&&O&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var B=te.createRange();B.setStart(L.node,L.offset),K.removeAllRanges(),ge>tt?(K.addRange(B),K.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),K.addRange(B))}}}}for(te=[],K=b;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var Z=te[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Kc=!!Jd,Zd=Jd=null}finally{Qe=h,se.p=l,$.T=s}}t.current=i,Mt=2}}function L_(){if(Mt===2){Mt=0;var t=Kr,i=Qs,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=$.T,$.T=null;var l=se.p;se.p=2;var h=Qe;Qe|=4;try{c_(t,i.alternate,i)}finally{Qe=h,se.p=l,$.T=s}}Mt=3}}function P_(){if(Mt===4||Mt===3){Mt=0,Au();var t=Kr,i=Qs,s=ar,l=S_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Qs=Kr=null,U_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gr=null),qi(s),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Yn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=se.p,se.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{$.T=i,se.p=h}}(ar&3)!==0&&Vc(),Ni(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Ud?Al++:(Al=0,Ud=t):Al=0,wl(0)}}function U_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,al(i)))}function Vc(){return k_(),L_(),P_(),z_()}function z_(){if(Mt!==5)return!1;var t=Kr,i=Ld;Ld=0;var s=qi(ar),l=$.T,h=se.p;try{se.p=32>s?32:s,$.T=null,s=Pd,Pd=null;var d=Kr,_=ar;if(Mt=0,Qs=Kr=null,ar=0,(Qe&6)!==0)throw Error(a(331));var b=Qe;if(Qe|=4,E_(d.current),y_(d,d.current,_,s),Qe=b,wl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Yn,d)}catch{}return!0}finally{se.p=h,$.T=l,U_(t,i)}}function j_(t,i,s){i=Pn(s,i),i=gd(t.stateNode,i,2),t=zr(t,i,2),t!==null&&(xa(t,2),Ni(t))}function Je(t,i,s){if(t.tag===3)j_(t,t,s);else for(;i!==null;){if(i.tag===3){j_(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){t=Pn(s,t),s=By(2),l=zr(i,s,2),l!==null&&(qy(s,l,i,t),xa(l,2),Ni(l));break}}i=i.return}}function Bd(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new nA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(Md=!0,h.add(s),t=oA.bind(null,t,i,s),i.then(t,t))}function oA(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,nt===t&&(Ve&s)===s&&(dt===4||dt===3&&(Ve&62914560)===Ve&&300>nn()-Cc?(Qe&2)===0&&Ys(t,0):Vd|=s,Ks===Ve&&(Ks=0)),Ni(t)}function B_(t,i){i===0&&(i=Nu()),t=Ba(t,i),t!==null&&(xa(t,i),Ni(t))}function lA(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),B_(t,s)}function uA(t,i){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),B_(t,s)}function cA(t,i){return Ot(t,i)}var kc=null,$s=null,qd=!1,Lc=!1,Hd=!1,Yr=0;function Ni(t){t!==$s&&t.next===null&&($s===null?kc=$s=t:$s=$s.next=t),Lc=!0,qd||(qd=!0,fA())}function wl(t,i){if(!Hd&&Lc){Hd=!0;do for(var s=!1,l=kc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,G_(l,d))}else d=Ve,d=fi(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Xn(l,d)||(s=!0,G_(l,d));l=l.next}while(s);Hd=!1}}function hA(){q_()}function q_(){Lc=qd=!1;var t=0;Yr!==0&&TA()&&(t=Yr);for(var i=nn(),s=null,l=kc;l!==null;){var h=l.next,d=H_(l,i);d===0?(l.next=null,s===null?kc=h:s.next=h,h===null&&($s=s)):(s=l,(t!==0||(d&3)!==0)&&(Lc=!0)),l=h}Mt!==0&&Mt!==5||wl(t),Yr!==0&&(Yr=0)}function H_(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),b=1<<_,D=h[_];D===-1?((b&s)===0||(b&l)!==0)&&(h[_]=_f(b,i)):D<=i&&(t.expiredLanes|=b),d&=~b}if(i=nt,s=Ve,s=fi(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Tr(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Xn(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&Tr(l),qi(s)){case 2:case 8:s=ko;break;case 32:s=Sr;break;case 268435456:s=wu;break;default:s=Sr}return l=F_.bind(null,t),s=Ot(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&Tr(l),t.callbackPriority=2,t.callbackNode=null,2}function F_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Vc()&&t.callbackNode!==s)return null;var l=Ve;return l=fi(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(w_(t,l,i),H_(t,nn()),t.callbackNode!=null&&t.callbackNode===s?F_.bind(null,t):null)}function G_(t,i){if(Vc())return null;w_(t,i,!0)}function fA(){AA(function(){(Qe&6)!==0?Ot(Vo,hA):q_()})}function Fd(){if(Yr===0){var t=ks;t===0&&(t=ci,ci<<=1,(ci&261888)===0&&(ci=256)),Yr=t}return Yr}function K_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Es(""+t)}function Q_(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function dA(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=K_((h[Ut]||null).action),_=l.submitter;_&&(i=(i=_[Ut]||null)?K_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new Si("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yr!==0){var D=_?Q_(h,_):new FormData(h);cd(s,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(b.preventDefault(),D=_?Q_(h,_):new FormData(h),cd(s,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Gd=0;Gd<xf.length;Gd++){var Kd=xf[Gd],mA=Kd.toLowerCase(),pA=Kd[0].toUpperCase()+Kd.slice(1);ii(mA,"on"+pA)}ii(Ag,"onAnimationEnd"),ii(wg,"onAnimationIteration"),ii(Rg,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(DS,"onTransitionRun"),ii(OS,"onTransitionStart"),ii(MS,"onTransitionCancel"),ii(xg,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function Y_(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],D=b.instance,q=b.currentTarget;if(b=b.listener,D!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch(J){Ju(J)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(b=l[_],D=b.instance,q=b.currentTarget,b=b.listener,D!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch(J){Ju(J)}h.currentTarget=null,d=D}}}}function Me(t,i){var s=i[ps];s===void 0&&(s=i[ps]=new Set);var l=t+"__bubble";s.has(l)||(X_(i,t,2,!1),s.add(l))}function Qd(t,i,s){var l=0;i&&(l|=4),X_(s,t,l,i)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Yd(t){if(!t[Pc]){t[Pc]=!0,Uo.forEach(function(s){s!=="selectionchange"&&(gA.has(s)||Qd(s,!1,t),Qd(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Pc]||(i[Pc]=!0,Qd("selectionchange",!1,i))}}function X_(t,i,s,l){switch(Av(i)){case 2:var h=FA;break;case 8:h=GA;break;default:h=um}s=h.bind(null,i,s,t),h=void 0,!Ma||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Xd(t,i,s,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=gi(b),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Ir(function(){var q=d,J=Mn(s),te=[];e:{var F=Cg.get(t);if(F!==void 0){var K=Si,he=t;switch(t){case"keypress":if(ka(s)===0)break e;case"keydown":case"keyup":K=Yu;break;case"focusin":he="focus",K=Pa;break;case"focusout":he="blur",K=Pa;break;case"beforeblur":case"afterblur":K=Pa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case Ag:case wg:case Rg:K=Bu;break;case xg:K=A;break;case"scroll":case"scrollend":K=$o;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Gi;break;case"toggle":case"beforetoggle":K=Ce}var ge=(i&4)!==0,tt=!ge&&(t==="scroll"||t==="scrollend"),L=ge?F!==null?F+"Capture":null:F;ge=[];for(var O=q,B;O!==null;){var Z=O;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||L===null||(Z=Wn(O,L),Z!=null&&ge.push(xl(O,Z,B))),tt)break;O=O.return}0<ge.length&&(F=new K(F,he,null,s,J),te.push({event:F,listeners:ge}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&s!==Qo&&(he=s.relatedTarget||s.fromElement)&&(gi(he)||he[mi]))break e;if((K||F)&&(F=J.window===J?J:(F=J.ownerDocument)?F.defaultView||F.parentWindow:window,K?(he=s.relatedTarget||s.toElement,K=q,he=he?gi(he):null,he!==null&&(tt=u(he),ge=he.tag,he!==tt||ge!==5&&ge!==27&&ge!==6)&&(he=null)):(K=null,he=q),K!==he)){if(ge=Jo,Z="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Gi,Z="onPointerLeave",L="onPointerEnter",O="pointer"),tt=K==null?F:vn(K),B=he==null?F:vn(he),F=new ge(Z,O+"leave",K,s,J),F.target=tt,F.relatedTarget=B,Z=null,gi(J)===q&&(ge=new ge(L,O+"enter",he,s,J),ge.target=B,ge.relatedTarget=tt,Z=ge),tt=Z,K&&he)t:{for(ge=yA,L=K,O=he,B=0,Z=L;Z;Z=ge(Z))B++;Z=0;for(var me=O;me;me=ge(me))Z++;for(;0<B-Z;)L=ge(L),B--;for(;0<Z-B;)O=ge(O),Z--;for(;B--;){if(L===O||O!==null&&L===O.alternate){ge=L;break t}L=ge(L),O=ge(O)}ge=null}else ge=null;K!==null&&$_(te,F,K,ge,!1),he!==null&&tt!==null&&$_(te,tt,he,ge,!0)}}e:{if(F=q?vn(q):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var He=dg;else if(hg(F))if(mg)He=CS;else{He=RS;var fe=wS}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&vs(q.elementType)&&(He=dg):He=xS;if(He&&(He=He(t,q))){fg(te,He,s,J);break e}fe&&fe(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Fo(F,"number",F.value)}switch(fe=q?vn(q):window,t){case"focusin":(hg(fe)||fe.contentEditable==="true")&&(xs=fe,Af=q,nl=null);break;case"focusout":nl=Af=xs=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Tg(te,s,J);break;case"selectionchange":if(NS)break;case"keydown":case"keyup":Tg(te,s,J)}var Ne;if(Ke)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Rs?Ua(t,s)&&(ke="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ke="onCompositionStart");ke&&(Ri&&s.locale!=="ko"&&(Rs||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Rs&&(Ne=Xo()):(Ti=J,Yo="value"in Ti?Ti.value:Ti.textContent,Rs=!0)),fe=Uc(q,ke),0<fe.length&&(ke=new wi(ke,t,null,s,J),te.push({event:ke,listeners:fe}),Ne?ke.data=Ne:(Ne=ws(s),Ne!==null&&(ke.data=Ne)))),(Ne=kn?bS(t,s):TS(t,s))&&(ke=Uc(q,"onBeforeInput"),0<ke.length&&(fe=new wi("onBeforeInput","beforeinput",null,s,J),te.push({event:fe,listeners:ke}),fe.data=Ne)),dA(te,t,q,s,J)}Y_(te,i)})}function xl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Uc(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Wn(t,s),h!=null&&l.unshift(xl(t,h,d)),h=Wn(t,i),h!=null&&l.push(xl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function yA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $_(t,i,s,l,h){for(var d=i._reactName,_=[];s!==null&&s!==l;){var b=s,D=b.alternate,q=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||q===null||(D=q,h?(q=Wn(s,d),q!=null&&_.unshift(xl(s,q,D))):h||(q=Wn(s,d),q!=null&&_.push(xl(s,q,D)))),s=s.return}_.length!==0&&t.push({event:i,listeners:_})}var _A=/\r\n?/g,vA=/\u0000|\uFFFD/g;function J_(t){return(typeof t=="string"?t:""+t).replace(_A,`
`).replace(vA,"")}function Z_(t,i){return i=J_(i),J_(t)===i}function et(t,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ln(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,s,l);break;case"style":Ko(t,l,d);break;case"data":if(i!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Es(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&et(t,i,"name",h.name,h,null),et(t,i,"formEncType",h.formEncType,h,null),et(t,i,"formMethod",h.formMethod,h,null),et(t,i,"formTarget",h.formTarget,h,null)):(et(t,i,"encType",h.encType,h,null),et(t,i,"method",h.method,h,null),et(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Es(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Es(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),ys(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ys(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Uu.get(s)||s,ys(t,s,l))}}function $d(t,i,s,l,h,d){switch(s){case"style":Ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=t[Ut]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):ys(t,s,l)}}}function Qt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:et(t,i,d,_,s,null)}}h&&et(t,i,"srcSet",s.srcSet,s,null),l&&et(t,i,"src",s.src,s,null);return;case"input":Me("invalid",t);var b=d=_=h=null,D=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":h=J;break;case"type":_=J;break;case"checked":D=J;break;case"defaultChecked":q=J;break;case"value":d=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:et(t,i,l,J,s,null)}}ku(t,d,b,D,q,_,h,!1);return;case"select":Me("invalid",t),l=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(b=s[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:et(t,i,h,b,s,null)}i=d,s=_,t.multiple=!!l,i!=null?wr(t,!!l,i,!1):s!=null&&wr(t,!!l,s,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(b=s[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:et(t,i,_,b,s,null)}Rr(t,l,h,d);return;case"option":for(D in s)s.hasOwnProperty(D)&&(l=s[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":et(t,i,D,l,s,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Me(Rl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:et(t,i,q,l,s,null)}return;default:if(vs(i)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&$d(t,i,J,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&et(t,i,b,l,s,null))}function EA(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,D=null,q=null,J=null;for(K in s){var te=s[K];if(s.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=te;default:l.hasOwnProperty(K)||et(t,i,K,null,l,te)}}for(var F in l){var K=l[F];if(te=s[F],l.hasOwnProperty(F)&&(K!=null||te!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":q=K;break;case"defaultChecked":J=K;break;case"value":_=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:K!==te&&et(t,i,F,K,l,te)}}_s(t,_,b,D,q,J,d,h);return;case"select":K=_=b=F=null;for(d in s)if(D=s[d],s.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(d)||et(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=s[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==D&&et(t,i,h,d,l,D)}i=b,s=_,l=K,F!=null?wr(t,!!s,F,!1):!!l!=!!s&&(i!=null?wr(t,!!s,i,!0):wr(t,!!s,s?[]:"",!1));return;case"textarea":K=F=null;for(b in s)if(h=s[b],s.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:et(t,i,b,null,l,h)}for(_ in l)if(h=l[_],d=s[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&et(t,i,_,h,l,d)}Lu(t,F,K);return;case"option":for(var he in s)F=s[he],s.hasOwnProperty(he)&&F!=null&&!l.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:et(t,i,he,null,l,F));for(D in l)F=l[D],K=s[D],l.hasOwnProperty(D)&&F!==K&&(F!=null||K!=null)&&(D==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":et(t,i,D,F,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in s)F=s[ge],s.hasOwnProperty(ge)&&F!=null&&!l.hasOwnProperty(ge)&&et(t,i,ge,null,l,F);for(q in l)if(F=l[q],K=s[q],l.hasOwnProperty(q)&&F!==K&&(F!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,i));break;default:et(t,i,q,F,l,K)}return;default:if(vs(i)){for(var tt in s)F=s[tt],s.hasOwnProperty(tt)&&F!==void 0&&!l.hasOwnProperty(tt)&&$d(t,i,tt,void 0,l,F);for(J in l)F=l[J],K=s[J],!l.hasOwnProperty(J)||F===K||F===void 0&&K===void 0||$d(t,i,J,F,l,K);return}}for(var L in s)F=s[L],s.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&et(t,i,L,null,l,F);for(te in l)F=l[te],K=s[te],!l.hasOwnProperty(te)||F===K||F==null&&K==null||et(t,i,te,F,l,K)}function W_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],d=h.transferSize,_=h.initiatorType,b=h.duration;if(d&&b&&W_(_)){for(_=0,b=h.responseEnd,l+=1;l<s.length;l++){var D=s[l],q=D.startTime;if(q>b)break;var J=D.transferSize,te=D.initiatorType;J&&W_(te)&&(D=D.responseEnd,_+=J*(D<b?1:(b-q)/(D-q)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Jd=null,Zd=null;function zc(t){return t.nodeType===9?t:t.ownerDocument}function ev(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Wd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var em=null;function TA(){var t=window.event;return t&&t.type==="popstate"?t===em?!1:(em=t,!0):(em=null,!1)}var nv=typeof setTimeout=="function"?setTimeout:void 0,SA=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,AA=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(t){return iv.resolve(null).then(t).catch(wA)}:nv;function wA(t){setTimeout(function(){throw t})}function Xr(t){return t==="head"}function rv(t,i){var s=i,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(h),eo(i);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Cl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Cl(s);for(var d=s.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[pi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=_}}else s==="body"&&Cl(t.ownerDocument.body);s=h}while(s);eo(i)}function av(t,i){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function tm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":tm(s),gs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function RA(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[pi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function xA(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=qn(t.nextSibling),t===null))return null;return t}function sv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=qn(t.nextSibling),t===null))return null;return t}function nm(t){return t.data==="$?"||t.data==="$~"}function im(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function CA(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var rm=null;function ov(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return qn(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function lv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function uv(t,i,s){switch(i=zc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Cl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);gs(t)}var Hn=new Map,cv=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var sr=se.d;se.d={f:IA,r:NA,D:DA,C:OA,L:MA,m:VA,X:LA,S:kA,M:PA};function IA(){var t=sr.f(),i=Dc();return t||i}function NA(t){var i=On(t);i!==null&&i.tag===5&&i.type==="form"?xy(i):sr.r(t)}var Js=typeof document>"u"?null:document;function hv(t,i,s){var l=Js;if(l&&typeof i=="string"&&i){var h=on(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),cv.has(h)||(cv.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qt(i,"link",t),St(i),l.head.appendChild(i)))}}function DA(t){sr.D(t),hv("dns-prefetch",t,null)}function OA(t,i){sr.C(t,i),hv("preconnect",t,i)}function MA(t,i,s){sr.L(t,i,s);var l=Js;if(l&&t&&i){var h='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+on(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+on(s.imageSizes)+'"]')):h+='[href="'+on(t)+'"]';var d=h;switch(i){case"style":d=Zs(t);break;case"script":d=Ws(t)}Hn.has(d)||(t=S({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Hn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Il(d))||i==="script"&&l.querySelector(Nl(d))||(i=l.createElement("link"),Qt(i,"link",t),St(i),l.head.appendChild(i)))}}function VA(t,i){sr.m(t,i);var s=Js;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ws(t)}if(!Hn.has(d)&&(t=S({rel:"modulepreload",href:t},i),Hn.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Nl(d)))return}l=s.createElement("link"),Qt(l,"link",t),St(l),s.head.appendChild(l)}}}function kA(t,i,s){sr.S(t,i,s);var l=Js;if(l&&t){var h=yi(l).hoistableStyles,d=Zs(t);i=i||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Il(d)))b.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Hn.get(d))&&am(t,s);var D=_=l.createElement("link");St(D),Qt(D,"link",t),D._p=new Promise(function(q,J){D.onload=q,D.onerror=J}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Bc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function LA(t,i){sr.X(t,i);var s=Js;if(s&&t){var l=yi(s).hoistableScripts,h=Ws(t),d=l.get(h);d||(d=s.querySelector(Nl(h)),d||(t=S({src:t,async:!0},i),(i=Hn.get(h))&&sm(t,i),d=s.createElement("script"),St(d),Qt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function PA(t,i){sr.M(t,i);var s=Js;if(s&&t){var l=yi(s).hoistableScripts,h=Ws(t),d=l.get(h);d||(d=s.querySelector(Nl(h)),d||(t=S({src:t,async:!0,type:"module"},i),(i=Hn.get(h))&&sm(t,i),d=s.createElement("script"),St(d),Qt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function fv(t,i,s,l){var h=(h=xe.current)?jc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Zs(s.href),s=yi(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Zs(s.href);var d=yi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Il(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Hn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Hn.set(t,s),d||UA(h,t,s,_.state))),i&&l===null)throw Error(a(528,""));return _}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ws(s),s=yi(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Zs(t){return'href="'+on(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function dv(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function UA(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",s),St(i),t.head.appendChild(i))}function Ws(t){return'[src="'+on(t)+'"]'}function Nl(t){return"script[async]"+t}function mv(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+on(s.href)+'"]');if(l)return i.instance=l,St(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Qt(l,"style",h),Bc(l,s.precedence,t),i.instance=l;case"stylesheet":h=Zs(s.href);var d=t.querySelector(Il(h));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=dv(s),(h=Hn.get(h))&&am(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),Qt(d,"link",l),i.state.loading|=4,Bc(d,s.precedence,t),i.instance=d;case"script":return d=Ws(s.src),(h=t.querySelector(Nl(d)))?(i.instance=h,St(h),h):(l=s,(h=Hn.get(d))&&(l=S({},s),sm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Bc(l,s.precedence,t));return i.instance}function Bc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function sm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var qc=null;function pv(t,i,s){if(qc===null){var l=new Map,h=qc=new Map;h.set(s,l)}else h=qc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[pi]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function gv(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function zA(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function yv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function jA(t,i,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Zs(l.href),d=i.querySelector(Il(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Hc.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=d,St(d);return}d=i.ownerDocument||i,l=dv(l),(h=Hn.get(h))&&am(l,h),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),Qt(d,"link",l),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Hc.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var om=0;function BA(t,i){return t.stylesheets&&t.count===0&&Gc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&om===0&&(om=62500*bA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>om?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fc=null;function Gc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fc=new Map,i.forEach(qA,t),Fc=null,Hc.call(t))}function qA(t,i){if(!(i.state.loading&4)){var s=Fc.get(t);if(s)var l=s.get(null);else{s=new Map,Fc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,h),s.set(_,h),this.count++,l=Hc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Dl={$$typeof:re,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function HA(t,i,s,l,h,d,_,b,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function _v(t,i,s,l,h,d,_,b,D,q,J,te){return t=new HA(t,i,s,_,D,q,J,te,b),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),t.current=d,d.stateNode=t,i=jf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},Ff(d),t}function vv(t){return t?(t=Ns,t):Ns}function Ev(t,i,s,l,h,d){h=vv(h),l.context===null?l.context=h:l.pendingContext=h,l=Ur(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=zr(t,l,i),s!==null&&(dn(s,t,i),ul(s,t,i))}function bv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function lm(t,i){bv(t,i),(t=t.alternate)&&bv(t,i)}function Tv(t){if(t.tag===13||t.tag===31){var i=Ba(t,67108864);i!==null&&dn(i,t,67108864),lm(t,67108864)}}function Sv(t){if(t.tag===13||t.tag===31){var i=xn();i=Ia(i);var s=Ba(t,i);s!==null&&dn(s,t,i),lm(t,i)}}var Kc=!0;function FA(t,i,s,l){var h=$.T;$.T=null;var d=se.p;try{se.p=2,um(t,i,s,l)}finally{se.p=d,$.T=h}}function GA(t,i,s,l){var h=$.T;$.T=null;var d=se.p;try{se.p=8,um(t,i,s,l)}finally{se.p=d,$.T=h}}function um(t,i,s,l){if(Kc){var h=cm(l);if(h===null)Xd(t,i,l,Qc,s),wv(t,l);else if(QA(h,t,i,s,l))l.stopPropagation();else if(wv(t,l),i&4&&-1<KA.indexOf(t)){for(;h!==null;){var d=On(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=hi(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var D=1<<31-pt(_);b.entanglements[1]|=D,_&=~D}Ni(d),(Qe&6)===0&&(Ic=nn()+500,wl(0))}}break;case 31:case 13:b=Ba(d,2),b!==null&&dn(b,d,2),Dc(),lm(d,2)}if(d=cm(l),d===null&&Xd(t,i,l,Qc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Xd(t,i,l,null,s)}}function cm(t){return t=Mn(t),hm(t)}var Qc=null;function hm(t){if(Qc=null,t=gi(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=f(i),t!==null)return t;t=null}else if(s===31){if(t=m(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Qc=t,null}function Av(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wa()){case Vo:return 2;case ko:return 8;case Sr:case yf:return 32;case wu:return 268435456;default:return 32}default:return 32}}var fm=!1,$r=null,Jr=null,Zr=null,Ol=new Map,Ml=new Map,Wr=[],KA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wv(t,i){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(i.pointerId)}}function Vl(t,i,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=On(i),i!==null&&Tv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function QA(t,i,s,l,h){switch(i){case"focusin":return $r=Vl($r,t,i,s,l,h),!0;case"dragenter":return Jr=Vl(Jr,t,i,s,l,h),!0;case"mouseover":return Zr=Vl(Zr,t,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return Ol.set(d,Vl(Ol.get(d)||null,t,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ml.set(d,Vl(Ml.get(d)||null,t,i,s,l,h)),!0}return!1}function Rv(t){var i=gi(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=f(s),i!==null){t.blockedOn=i,$n(t.priority,function(){Sv(s)});return}}else if(i===31){if(i=m(s),i!==null){t.blockedOn=i,$n(t.priority,function(){Sv(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=cm(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Qo=l,s.target.dispatchEvent(l),Qo=null}else return i=On(s),i!==null&&Tv(i),t.blockedOn=s,!1;i.shift()}return!0}function xv(t,i,s){Yc(t)&&s.delete(i)}function YA(){fm=!1,$r!==null&&Yc($r)&&($r=null),Jr!==null&&Yc(Jr)&&(Jr=null),Zr!==null&&Yc(Zr)&&(Zr=null),Ol.forEach(xv),Ml.forEach(xv)}function Xc(t,i){t.blockedOn===i&&(t.blockedOn=null,fm||(fm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,YA)))}var $c=null;function Cv(t){$c!==t&&($c=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$c===t&&($c=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(hm(l||s)===null)continue;break}var d=On(s);d!==null&&(t.splice(i,3),i-=3,cd(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function eo(t){function i(D){return Xc(D,t)}$r!==null&&Xc($r,t),Jr!==null&&Xc(Jr,t),Zr!==null&&Xc(Zr,t),Ol.forEach(i),Ml.forEach(i);for(var s=0;s<Wr.length;s++){var l=Wr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wr.length&&(s=Wr[0],s.blockedOn===null);)Rv(s),s.blockedOn===null&&Wr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],_=h[Ut]||null;if(typeof d=="function")_||Cv(s);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ut]||null)b=_.formAction;else if(hm(h)!==null)continue}else b=_.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),Cv(s)}}}function Iv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function dm(t){this._internalRoot=t}Jc.prototype.render=dm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=xn();Ev(s,l,t,i,null,null)},Jc.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Ev(t.current,2,null,t,null,null),Dc(),i[mi]=null}};function Jc(t){this._internalRoot=t}Jc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Du();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Wr.length&&i!==0&&i<Wr[s].priority;s++);Wr.splice(s,0,t),s===0&&Rv(t)}};var Nv=e.version;if(Nv!=="19.2.4")throw Error(a(527,Nv,"19.2.4"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var XA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{Yn=Zc.inject(XA),qt=Zc}catch{}}return Ll.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=Py,d=Uy,_=zy;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=_v(t,1,!1,null,null,s,l,null,h,d,_,Iv),t[mi]=i.current,Yd(t),new dm(i)},Ll.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=Py,_=Uy,b=zy,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),i=_v(t,1,!0,i,s??null,l,h,D,d,_,b,Iv),i.context=vv(null),s=i.current,l=xn(),l=Ia(l),h=Ur(l),h.callback=null,zr(s,h,l),s=l,i.current.lanes=s,xa(i,s),Ni(i),t[mi]=i.current,Yd(t),new Jc(i)},Ll.version="19.2.4",Ll}var jv;function s1(){if(jv)return gm.exports;jv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=a1(),gm.exports}var o1=s1();const l1=wE(o1);var Bv="popstate";function u1(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=hs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Lm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Zl(u))}function a(o,u){Qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return h1(e,n,a,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Qn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c1(){return Math.random().toString(36).substring(2,10)}function qv(r,e){return{usr:r.state,key:r.key,idx:e}}function Lm(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?hs(e):e,state:n,key:e&&e.key||a||c1()}}function Zl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function hs(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function h1(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let U=E(),Q=U==null?null:U-g;g=U,p&&p({action:m,location:X.location,delta:Q})}function w(U,Q){m="PUSH";let ie=Lm(X.location,U,Q);n&&n(ie,U),g=E()+1;let re=qv(ie,g),Ee=X.createHref(ie);try{f.pushState(re,"",Ee)}catch(Re){if(Re instanceof DOMException&&Re.name==="DataCloneError")throw Re;o.location.assign(Ee)}u&&p&&p({action:m,location:X.location,delta:1})}function P(U,Q){m="REPLACE";let ie=Lm(X.location,U,Q);n&&n(ie,U),g=E();let re=qv(ie,g),Ee=X.createHref(ie);f.replaceState(re,"",Ee),u&&p&&p({action:m,location:X.location,delta:0})}function Y(U){return f1(U)}let X={get action(){return m},get location(){return r(o,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Bv,S),p=U,()=>{o.removeEventListener(Bv,S),p=null}},createHref(U){return e(o,U)},createURL:Y,encodeLocation(U){let Q=Y(U);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:w,replace:P,go(U){return f.go(U)}};return X}function f1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Zl(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function RE(r,e,n="/"){return d1(r,e,n,!1)}function d1(r,e,n,a){let o=typeof e=="string"?hs(e):e,u=fr(o.pathname||"/",n);if(u==null)return null;let f=xE(r);m1(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=w1(u);m=S1(f[p],g,a)}return m}function xE(r,e=[],n=[],a="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(a)&&p)return;ct(E.relativePath.startsWith(a),`Absolute route path "${E.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(a.length)}let S=ur([a,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(ct(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),xE(f.children,e,w,S,p)),!(f.path==null&&!f.index)&&e.push({path:S,score:b1(S,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of CE(f.path))u(f,m,!0,p)}),e}function CE(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=CE(a.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function m1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:T1(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var p1=/^:[\w-]+$/,g1=3,y1=2,_1=1,v1=10,E1=-2,Hv=r=>r==="*";function b1(r,e){let n=r.split("/"),a=n.length;return n.some(Hv)&&(a+=E1),e&&(a+=y1),n.filter(o=>!Hv(o)).reduce((o,u)=>o+(p1.test(u)?g1:u===""?_1:v1),a)}function T1(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function S1(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",f=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!S&&g&&n&&!a[a.length-1].route.index&&(S=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:ur([u,S.pathname]),pathnameBase:I1(ur([u,S.pathnameBase])),route:w}),S.pathnameBase!=="/"&&(u=ur([u,S.pathnameBase]))}return f}function Th(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=A1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:E,isOptional:S},w)=>{if(E==="*"){let Y=m[w]||"";f=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const P=m[w];return S&&!P?g[E]=void 0:g[E]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function A1(r,e=!1,n=!0){Qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function w1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function fr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}var R1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function x1(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?hs(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Fv(n.substring(1),"/"):u=Fv(n,e)):u=e,{pathname:u,search:N1(a),hash:D1(o)}}function Fv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Em(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cp(r){let e=C1(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function hp(r,e,n,a=!1){let o;typeof r=="string"?o=hs(r):(o={...r},ct(!o.pathname||!o.pathname.includes("?"),Em("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Em("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Em("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!a&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),S-=1;o.pathname=w.join("/")}m=S>=0?e[S]:"/"}let p=x1(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var ur=r=>r.join("/").replace(/\/\/+/g,"/"),I1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),N1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,D1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,O1=class{constructor(r,e,n,a=!1){this.status=r,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function M1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function V1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var IE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function NE(r,e){let n=r;if(typeof n!="string"||!R1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,o=!1;if(IE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=fr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{Qn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DE=["POST","PUT","PATCH","DELETE"];new Set(DE);var k1=["GET",...DE];new Set(k1);var To=z.createContext(null);To.displayName="DataRouter";var Hh=z.createContext(null);Hh.displayName="DataRouterState";var L1=z.createContext(!1),OE=z.createContext({isTransitioning:!1});OE.displayName="ViewTransition";var P1=z.createContext(new Map);P1.displayName="Fetchers";var U1=z.createContext(null);U1.displayName="Await";var In=z.createContext(null);In.displayName="Navigation";var uu=z.createContext(null);uu.displayName="Location";var ji=z.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var fp=z.createContext(null);fp.displayName="RouteError";var ME="REACT_ROUTER_ERROR",z1="REDIRECT",j1="ROUTE_ERROR_RESPONSE";function B1(r){if(r.startsWith(`${ME}:${z1}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function q1(r){if(r.startsWith(`${ME}:${j1}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new O1(e.status,e.statusText,e.data)}catch{}}function H1(r,{relative:e}={}){ct(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=z.useContext(In),{hash:o,pathname:u,search:f}=hu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ur([n,u])),a.createHref({pathname:m,search:f,hash:o})}function So(){return z.useContext(uu)!=null}function va(){return ct(So(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(uu).location}var VE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kE(r){z.useContext(In).static||z.useLayoutEffect(r)}function cu(){let{isDataRoute:r}=z.useContext(ji);return r?nw():F1()}function F1(){ct(So(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(To),{basename:e,navigator:n}=z.useContext(In),{matches:a}=z.useContext(ji),{pathname:o}=va(),u=JSON.stringify(cp(a)),f=z.useRef(!1);return kE(()=>{f.current=!0}),z.useCallback((p,g={})=>{if(Qn(f.current,VE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=hp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ur([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}z.createContext(null);function hu(r,{relative:e}={}){let{matches:n}=z.useContext(ji),{pathname:a}=va(),o=JSON.stringify(cp(n));return z.useMemo(()=>hp(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function G1(r,e){return LE(r,e)}function LE(r,e,n,a,o){ct(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=z.useContext(In),{matches:f}=z.useContext(ji),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let ie=S&&S.path||"";UE(g,!S||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let w=va(),P;if(e){let ie=typeof e=="string"?hs(e):e;ct(E==="/"||ie.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),P=ie}else P=w;let Y=P.pathname||"/",X=Y;if(E!=="/"){let ie=E.replace(/^\//,"").split("/");X="/"+Y.replace(/^\//,"").split("/").slice(ie.length).join("/")}let U=RE(r,{pathname:X});Qn(S||U!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Qn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=$1(U&&U.map(ie=>Object.assign({},ie,{params:Object.assign({},p,ie.params),pathname:ur([E,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?E:ur([E,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),f,n,a,o);return e&&Q?z.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},Q):Q}function K1(){let r=tw(),e=M1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,f)}var Q1=z.createElement(K1,null),PE=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=q1(r.digest);n&&(r=n)}let e=r!==void 0?z.createElement(ji.Provider,{value:this.props.routeContext},z.createElement(fp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?z.createElement(Y1,{error:r},e):e}};PE.contextType=L1;var bm=new WeakMap;function Y1({children:r,error:e}){let{basename:n}=z.useContext(In);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=B1(e.digest);if(a){let o=bm.get(e);if(o)throw o;let u=NE(a.location,n);if(IE&&!bm.get(e))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw bm.set(e,f),f}return z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function X1({routeContext:r,match:e,children:n}){let a=z.useContext(To);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(ji.Provider,{value:r},n)}function $1(r,e=[],n=null,a=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);ct(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(p=E),S.route.id){let{loaderData:w,errors:P}=n,Y=S.route.loader&&!w.hasOwnProperty(S.route.id)&&(!P||P[S.route.id]===void 0);if(S.route.lazy||Y){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&a?(E,S)=>{a(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:V1(n.matches),errorInfo:S})}:void 0;return u.reduceRight((E,S,w)=>{let P,Y=!1,X=null,U=null;n&&(P=f&&S.route.id?f[S.route.id]:void 0,X=S.route.errorElement||Q1,m&&(p<0&&w===0?(UE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,U=null):p===w&&(Y=!0,U=S.route.hydrateFallbackElement||null)));let Q=e.concat(u.slice(0,w+1)),ie=()=>{let re;return P?re=X:Y?re=U:S.route.Component?re=z.createElement(S.route.Component,null):S.route.element?re=S.route.element:re=E,z.createElement(X1,{match:S,routeContext:{outlet:E,matches:Q,isDataRoute:n!=null},children:re})};return n&&(S.route.ErrorBoundary||S.route.errorElement||w===0)?z.createElement(PE,{location:n.location,revalidation:n.revalidation,component:X,error:P,children:ie(),routeContext:{outlet:null,matches:Q,isDataRoute:!0},onError:g}):ie()},null)}function dp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J1(r){let e=z.useContext(To);return ct(e,dp(r)),e}function Z1(r){let e=z.useContext(Hh);return ct(e,dp(r)),e}function W1(r){let e=z.useContext(ji);return ct(e,dp(r)),e}function mp(r){let e=W1(r),n=e.matches[e.matches.length-1];return ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function ew(){return mp("useRouteId")}function tw(){let r=z.useContext(fp),e=Z1("useRouteError"),n=mp("useRouteError");return r!==void 0?r:e.errors?.[n]}function nw(){let{router:r}=J1("useNavigate"),e=mp("useNavigate"),n=z.useRef(!1);return kE(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{Qn(n.current,VE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Gv={};function UE(r,e,n){!e&&!Gv[r]&&(Gv[r]=!0,Qn(!1,n))}z.memo(iw);function iw({routes:r,future:e,state:n,onError:a}){return LE(r,void 0,n,a,e)}function zE({to:r,replace:e,state:n,relative:a}){ct(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(In);Qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(ji),{pathname:f}=va(),m=cu(),p=hp(r,cp(u),f,a==="path"),g=JSON.stringify(p);return z.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:a})},[m,g,a,e,n]),null}function na(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rw({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ct(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=z.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=hs(n));let{pathname:g="/",search:E="",hash:S="",state:w=null,key:P="default"}=n,Y=z.useMemo(()=>{let X=fr(g,m);return X==null?null:{location:{pathname:X,search:E,hash:S,state:w,key:P},navigationType:a}},[m,g,E,S,w,P,a]);return Qn(Y!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),Y==null?null:z.createElement(In.Provider,{value:p},z.createElement(uu.Provider,{children:e,value:Y}))}function aw({children:r,location:e}){return G1(Pm(r),e)}function Pm(r,e=[]){let n=[];return z.Children.forEach(r,(a,o)=>{if(!z.isValidElement(a))return;let u=[...e,o];if(a.type===z.Fragment){n.push.apply(n,Pm(a.props.children,u));return}ct(a.type===na,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=Pm(a.props.children,u)),n.push(f)}),n}var sh="get",oh="application/x-www-form-urlencoded";function Fh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function sw(r){return Fh(r)&&r.tagName.toLowerCase()==="button"}function ow(r){return Fh(r)&&r.tagName.toLowerCase()==="form"}function lw(r){return Fh(r)&&r.tagName.toLowerCase()==="input"}function uw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function cw(r,e){return r.button===0&&(!e||e==="_self")&&!uw(r)}var Wc=null;function hw(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}var fw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(r){return r!=null&&!fw.has(r)?(Qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):r}function dw(r,e){let n,a,o,u,f;if(ow(r)){let m=r.getAttribute("action");a=m?fr(m,e):null,n=r.getAttribute("method")||sh,o=Tm(r.getAttribute("enctype"))||oh,u=new FormData(r)}else if(sw(r)||lw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?fr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||sh,o=Tm(r.getAttribute("formenctype"))||Tm(m.getAttribute("enctype"))||oh,u=new FormData(m,r),!hw()){let{name:g,type:E,value:S}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,S)}}else{if(Fh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,a=null,o=oh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function mw(r,e,n,a){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:e&&fr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function pw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function yw(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await pw(u,n);return f.links?f.links():[]}return[]}));return bw(a.flat(1).filter(gw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Kv(r,e,n,a,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function _w(r,e,{includeHydrateFallback:n}={}){return vw(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function vw(r){return[...new Set(r)]}function Ew(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function bw(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(Ew(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function jE(){let r=z.useContext(To);return pp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Tw(){let r=z.useContext(Hh);return pp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var gp=z.createContext(void 0);gp.displayName="FrameworkContext";function BE(){let r=z.useContext(gp);return pp(r,"You must render this element inside a <HydratedRouter> element"),r}function Sw(r,e){let n=z.useContext(gp),[a,o]=z.useState(!1),[u,f]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,w=z.useRef(null);z.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=Q=>{Q.forEach(ie=>{f(ie.isIntersecting)})},U=new IntersectionObserver(X,{threshold:.5});return w.current&&U.observe(w.current),()=>{U.disconnect()}}},[r]),z.useEffect(()=>{if(a){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[a]);let P=()=>{o(!0)},Y=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Pl(m,P),onBlur:Pl(p,Y),onMouseEnter:Pl(g,P),onMouseLeave:Pl(E,Y),onTouchStart:Pl(S,P)}]:[!1,w,{}]}function Pl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Aw({page:r,...e}){let{router:n}=jE(),a=z.useMemo(()=>RE(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?z.createElement(Rw,{page:r,matches:a,...e}):null}function ww(r){let{manifest:e,routeModules:n}=BE(),[a,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return yw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),a}function Rw({page:r,matches:e,...n}){let a=va(),{future:o,manifest:u,routeModules:f}=BE(),{basename:m}=jE(),{loaderData:p,matches:g}=Tw(),E=z.useMemo(()=>Kv(r,e,g,u,a,"data"),[r,e,g,u,a]),S=z.useMemo(()=>Kv(r,e,g,u,a,"assets"),[r,e,g,u,a]),w=z.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let X=new Set,U=!1;if(e.forEach(ie=>{let re=u.routes[ie.route.id];!re||!re.hasLoader||(!E.some(Ee=>Ee.route.id===ie.route.id)&&ie.route.id in p&&f[ie.route.id]?.shouldRevalidate||re.hasClientLoader?U=!0:X.add(ie.route.id))}),X.size===0)return[];let Q=mw(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return U&&X.size>0&&Q.searchParams.set("_routes",e.filter(ie=>X.has(ie.route.id)).map(ie=>ie.route.id).join(",")),[Q.pathname+Q.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,a,u,E,e,r,f]),P=z.useMemo(()=>_w(S,u),[S,u]),Y=ww(S);return z.createElement(z.Fragment,null,w.map(X=>z.createElement("link",{key:X,rel:"prefetch",as:"fetch",href:X,...n})),P.map(X=>z.createElement("link",{key:X,rel:"modulepreload",href:X,...n})),Y.map(({key:X,link:U})=>z.createElement("link",{key:X,nonce:n.nonce,...U,crossOrigin:U.crossOrigin??n.crossOrigin})))}function xw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Cw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cw&&(window.__reactRouterVersion="7.13.0")}catch{}function Iw({basename:r,children:e,unstable_useTransitions:n,window:a}){let o=z.useRef();o.current==null&&(o.current=u1({window:a,v5Compat:!0}));let u=o.current,[f,m]=z.useState({action:u.action,location:u.location}),p=z.useCallback(g=>{n===!1?m(g):z.startTransition(()=>m(g))},[n]);return z.useLayoutEffect(()=>u.listen(p),[u,p]),z.createElement(rw,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var qE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HE=z.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w,...P},Y){let{basename:X,unstable_useTransitions:U}=z.useContext(In),Q=typeof g=="string"&&qE.test(g),ie=NE(g,X);g=ie.to;let re=H1(g,{relative:o}),[Ee,Re,be]=Sw(a,P),I=Mw(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:w,unstable_useTransitions:U});function R(V){e&&e(V),V.defaultPrevented||I(V)}let C=z.createElement("a",{...P,...be,href:ie.absoluteURL||re,onClick:ie.isExternal||u?e:R,ref:xw(Y,Re),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return Ee&&!Q?z.createElement(z.Fragment,null,C,z.createElement(Aw,{page:re})):C});HE.displayName="Link";var Nw=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let S=hu(f,{relative:g.relative}),w=va(),P=z.useContext(Hh),{navigator:Y,basename:X}=z.useContext(In),U=P!=null&&Uw(S)&&m===!0,Q=Y.encodeLocation?Y.encodeLocation(S).pathname:S.pathname,ie=w.pathname,re=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),re=re?re.toLowerCase():null,Q=Q.toLowerCase()),re&&X&&(re=fr(re,X)||re);const Ee=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let Re=ie===Q||!o&&ie.startsWith(Q)&&ie.charAt(Ee)==="/",be=re!=null&&(re===Q||!o&&re.startsWith(Q)&&re.charAt(Q.length)==="/"),I={isActive:Re,isPending:be,isTransitioning:U},R=Re?e:void 0,C;typeof a=="function"?C=a(I):C=[a,Re?"active":null,be?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(I):u;return z.createElement(HE,{...g,"aria-current":R,className:C,ref:E,style:V,to:f,viewTransition:m},typeof p=="function"?p(I):p)});Nw.displayName="NavLink";var Dw=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=sh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w,...P},Y)=>{let{unstable_useTransitions:X}=z.useContext(In),U=Lw(),Q=Pw(m,{relative:g}),ie=f.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&qE.test(m),Ee=Re=>{if(p&&p(Re),Re.defaultPrevented)return;Re.preventDefault();let be=Re.nativeEvent.submitter,I=be?.getAttribute("formmethod")||f,R=()=>U(be||Re.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:w});X&&n!==!1?z.startTransition(()=>R()):R()};return z.createElement("form",{ref:Y,method:ie,action:Q,onSubmit:a?p:Ee,...P,"data-discover":!re&&r==="render"?"true":void 0})});Dw.displayName="Form";function Ow(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FE(r){let e=z.useContext(To);return ct(e,Ow(r)),e}function Mw(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=cu(),E=va(),S=hu(r,{relative:u});return z.useCallback(w=>{if(cw(w,e)){w.preventDefault();let P=n!==void 0?n:Zl(E)===Zl(S),Y=()=>g(r,{replace:P,state:a,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?z.startTransition(()=>Y()):Y()}},[E,g,S,n,a,e,r,o,u,f,m,p])}var Vw=0,kw=()=>`__${String(++Vw)}__`;function Lw(){let{router:r}=FE("useSubmit"),{basename:e}=z.useContext(In),n=ew(),a=r.fetch,o=r.navigate;return z.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:S}=dw(u,e);if(f.navigate===!1){let w=f.fetcherKey||kw();await a(w,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[a,o,e,n])}function Pw(r,{relative:e}={}){let{basename:n}=z.useContext(In),a=z.useContext(ji);ct(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...hu(r||".",{relative:e})},f=va();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ur([n,u.pathname])),Zl(u)}function Uw(r,{relative:e}={}){let n=z.useContext(OE);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=FE("useViewTransitionState"),o=hu(r,{relative:e});if(!n.isTransitioning)return!1;let u=fr(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=fr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Th(o.pathname,f)!=null||Th(o.pathname,u)!=null}const zw=()=>{};var Qv={};const GE=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},jw=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},KE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,P=g&63;p||(P=64,f||(w=64)),a.push(n[E],n[S],n[w],n[P])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(GE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):jw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new Bw;const w=u<<2|m>>4;if(a.push(w),g!==64){const P=m<<4&240|g>>2;if(a.push(P),S!==64){const Y=g<<6&192|S;a.push(Y)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Bw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qw=function(r){const e=GE(r);return KE.encodeByteArray(e,!0)},Sh=function(r){return qw(r).replace(/\./g,"")},QE=function(r){try{return KE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Hw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Fw=()=>Hw().__FIREBASE_DEFAULTS__,Gw=()=>{if(typeof process>"u"||typeof Qv>"u")return;const r=Qv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Kw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&QE(r[1]);return e&&JSON.parse(e)},Gh=()=>{try{return zw()||Fw()||Gw()||Kw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},YE=r=>Gh()?.emulatorHosts?.[r],Qw=r=>{const e=YE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},XE=()=>Gh()?.config,$E=r=>Gh()?.[`_${r}`];class Yw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function Ao(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JE(r){return(await fetch(r,{credentials:"include"})).ok}function Xw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Sh(JSON.stringify(n)),Sh(JSON.stringify(f)),""].join(".")}const Gl={};function $w(){const r={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?r.emulator.push(e):r.prod.push(e);return r}function Jw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Yv=!1;function ZE(r,e){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||Gl[r]===e||Gl[r]||Yv)return;Gl[r]=e;function n(w){return`__firebase__banner__${w}`}const a="__firebase__banner",u=$w().prod.length>0;function f(){const w=document.getElementById(a);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,P){w.setAttribute("width","24"),w.setAttribute("id",P),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Yv=!0,f()},w}function E(w,P){w.setAttribute("id",P),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function S(){const w=Jw(a),P=n("text"),Y=document.getElementById(P)||document.createElement("span"),X=n("learnmore"),U=document.getElementById(X)||document.createElement("a"),Q=n("preprendIcon"),ie=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;m(re),E(U,X);const Ee=g();p(ie,Q),re.append(ie,Y,U,Ee),document.body.appendChild(re)}u?(Y.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Ww(){const r=Gh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iR(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function rR(){return!Ww()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aR(){try{return typeof indexedDB=="object"}catch{return!1}}function sR(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const oR="FirebaseError";class _r extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=oR,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?lR(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new _r(o,m,a)}}function lR(r,e){return r.replace(uR,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const uR=/\{\$([^}]+)}/g;function cR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function rs(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=e[o];if(Xv(u)&&Xv(f)){if(!rs(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function Xv(r){return r!==null&&typeof r=="object"}function du(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function zl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function jl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function hR(r,e){const n=new fR(r,e);return n.subscribe.bind(n)}class fR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");dR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Sm),o.error===void 0&&(o.error=Sm),o.complete===void 0&&(o.complete=Sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Sm(){}function Lt(r){return r&&r._delegate?r._delegate:r}class as{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const es="[DEFAULT]";class mR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new Yw;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gR(e))try{this.getOrInitializeService({instanceIdentifier:es})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=es){return this.instances.has(e)}getOptions(e=es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:pR(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=es){return this.component?this.component.multipleInstances?e:es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pR(r){return r===es?void 0:r}function gR(r){return r.instantiationMode==="EAGER"}class yR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const _R={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},vR=Le.INFO,ER={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},bR=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=ER[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yp{constructor(e){this.name=e,this._logLevel=vR,this._logHandler=bR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const TR=(r,e)=>e.some(n=>r instanceof n);let $v,Jv;function SR(){return $v||($v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AR(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WE=new WeakMap,Um=new WeakMap,eb=new WeakMap,Am=new WeakMap,_p=new WeakMap;function wR(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(la(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&WE.set(n,r)}).catch(()=>{}),_p.set(e,r),e}function RR(r){if(Um.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Um.set(r,e)}let zm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Um.get(r);if(e==="objectStoreNames")return r.objectStoreNames||eb.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return la(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function xR(r){zm=r(zm)}function CR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(wm(this),e,...n);return eb.set(a,e.sort?e.sort():[e]),la(a)}:AR().includes(r)?function(...e){return r.apply(wm(this),e),la(WE.get(this))}:function(...e){return la(r.apply(wm(this),e))}}function IR(r){return typeof r=="function"?CR(r):(r instanceof IDBTransaction&&RR(r),TR(r,SR())?new Proxy(r,zm):r)}function la(r){if(r instanceof IDBRequest)return wR(r);if(Am.has(r))return Am.get(r);const e=IR(r);return e!==r&&(Am.set(r,e),_p.set(e,r)),e}const wm=r=>_p.get(r);function NR(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=la(f);return a&&f.addEventListener("upgradeneeded",p=>{a(la(f.result),p.oldVersion,p.newVersion,la(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const DR=["get","getKey","getAll","getAllKeys","count"],OR=["put","add","delete","clear"],Rm=new Map;function Zv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=OR.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||DR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Rm.set(e,u),u}xR(r=>({...r,get:(e,n,a)=>Zv(e,n)||r.get(e,n,a),has:(e,n)=>!!Zv(e,n)||r.has(e,n)}));class MR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function VR(r){return r.getComponent()?.type==="VERSION"}const jm="@firebase/app",Wv="0.14.7";const dr=new yp("@firebase/app"),kR="@firebase/app-compat",LR="@firebase/analytics-compat",PR="@firebase/analytics",UR="@firebase/app-check-compat",zR="@firebase/app-check",jR="@firebase/auth",BR="@firebase/auth-compat",qR="@firebase/database",HR="@firebase/data-connect",FR="@firebase/database-compat",GR="@firebase/functions",KR="@firebase/functions-compat",QR="@firebase/installations",YR="@firebase/installations-compat",XR="@firebase/messaging",$R="@firebase/messaging-compat",JR="@firebase/performance",ZR="@firebase/performance-compat",WR="@firebase/remote-config",ex="@firebase/remote-config-compat",tx="@firebase/storage",nx="@firebase/storage-compat",ix="@firebase/firestore",rx="@firebase/ai",ax="@firebase/firestore-compat",sx="firebase",ox="12.8.0";const Bm="[DEFAULT]",lx={[jm]:"fire-core",[kR]:"fire-core-compat",[PR]:"fire-analytics",[LR]:"fire-analytics-compat",[zR]:"fire-app-check",[UR]:"fire-app-check-compat",[jR]:"fire-auth",[BR]:"fire-auth-compat",[qR]:"fire-rtdb",[HR]:"fire-data-connect",[FR]:"fire-rtdb-compat",[GR]:"fire-fn",[KR]:"fire-fn-compat",[QR]:"fire-iid",[YR]:"fire-iid-compat",[XR]:"fire-fcm",[$R]:"fire-fcm-compat",[JR]:"fire-perf",[ZR]:"fire-perf-compat",[WR]:"fire-rc",[ex]:"fire-rc-compat",[tx]:"fire-gcs",[nx]:"fire-gcs-compat",[ix]:"fire-fst",[ax]:"fire-fst-compat",[rx]:"fire-vertex","fire-js":"fire-js",[sx]:"fire-js-all"};const Ah=new Map,ux=new Map,qm=new Map;function e0(r,e){try{r.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function fo(r){const e=r.name;if(qm.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,r);for(const n of Ah.values())e0(n,r);for(const n of ux.values())e0(n,r);return!0}function vp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Fn(r){return r==null?!1:r.settings!==void 0}const cx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ua=new fu("app","Firebase",cx);class hx{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ua.create("app-deleted",{appName:this._name})}}const wo=ox;function tb(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:Bm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw ua.create("bad-app-name",{appName:String(o)});if(n||(n=XE()),!n)throw ua.create("no-options");const u=Ah.get(o);if(u){if(rs(n,u.options)&&rs(a,u.config))return u;throw ua.create("duplicate-app",{appName:o})}const f=new yR(o);for(const p of qm.values())f.addComponent(p);const m=new hx(n,a,f);return Ah.set(o,m),m}function nb(r=Bm){const e=Ah.get(r);if(!e&&r===Bm&&XE())return tb();if(!e)throw ua.create("no-app",{appName:r});return e}function ca(r,e,n){let a=lx[r]??r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(f.join(" "));return}fo(new as(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const fx="firebase-heartbeat-database",dx=1,Wl="firebase-heartbeat-store";let xm=null;function ib(){return xm||(xm=NR(fx,dx,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ua.create("idb-open",{originalErrorMessage:r.message})})),xm}async function mx(r){try{const n=(await ib()).transaction(Wl),a=await n.objectStore(Wl).get(rb(r));return await n.done,a}catch(e){if(e instanceof _r)dr.warn(e.message);else{const n=ua.create("idb-get",{originalErrorMessage:e?.message});dr.warn(n.message)}}}async function t0(r,e){try{const a=(await ib()).transaction(Wl,"readwrite");await a.objectStore(Wl).put(e,rb(r)),await a.done}catch(n){if(n instanceof _r)dr.warn(n.message);else{const a=ua.create("idb-set",{originalErrorMessage:n?.message});dr.warn(a.message)}}}function rb(r){return`${r.name}!${r.options.appId}`}const px=1024,gx=30;class yx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vx(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=n0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>gx){const o=Ex(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=n0(),{heartbeatsToSend:n,unsentEntries:a}=_x(this._heartbeatsCache.heartbeats),o=Sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return dr.warn(e),""}}}function n0(){return new Date().toISOString().substring(0,10)}function _x(r,e=px){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),i0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),i0(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class vx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aR()?sR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return t0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return t0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function i0(r){return Sh(JSON.stringify({version:2,heartbeats:r})).length}function Ex(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}function bx(r){fo(new as("platform-logger",e=>new MR(e),"PRIVATE")),fo(new as("heartbeat",e=>new yx(e),"PRIVATE")),ca(jm,Wv,r),ca(jm,Wv,"esm2020"),ca("fire-js","")}bx("");var Tx="firebase",Sx="12.8.0";ca(Tx,Sx,"app");function ab(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ax=ab,sb=new fu("auth","Firebase",ab());const wh=new yp("@firebase/auth");function wx(r,...e){wh.logLevel<=Le.WARN&&wh.warn(`Auth (${wo}): ${r}`,...e)}function lh(r,...e){wh.logLevel<=Le.ERROR&&wh.error(`Auth (${wo}): ${r}`,...e)}function li(r,...e){throw Ep(r,...e)}function Mi(r,...e){return Ep(r,...e)}function ob(r,e,n){const a={...Ax(),[e]:n};return new fu("auth","Firebase",a).create(e,{appName:r.name})}function cr(r){return ob(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ep(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return sb.create(r,...e)}function ye(r,e,...n){if(!r)throw Ep(e,...n)}function or(r){const e="INTERNAL ASSERTION FAILED: "+r;throw lh(e),new Error(e)}function mr(r,e){r||or(e)}function Hm(){return typeof self<"u"&&self.location?.href||""}function Rx(){return r0()==="http:"||r0()==="https:"}function r0(){return typeof self<"u"&&self.location?.protocol||null}function xx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Rx()||tR()||"connection"in navigator)?navigator.onLine:!0}function Cx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=Zw()||nR()}get(){return xx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bp(r,e){mr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class lb{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ix={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Nx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Dx=new mu(3e4,6e4);function vr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Bi(r,e,n,a,o={}){return ub(r,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=du({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return eR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ao(r.emulatorConfig.host)&&(g.credentials="include"),lb.fetch()(await cb(r,r.config.apiHost,n,m),g)})}async function ub(r,e,n){r._canInitEmulator=!1;const a={...Ix,...e};try{const o=new Mx(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw eh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw eh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw eh(r,"user-disabled",f);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ob(r,E,g);li(r,E)}}catch(o){if(o instanceof _r)throw o;li(r,"network-request-failed",{message:String(o)})}}async function pu(r,e,n,a,o={}){const u=await Bi(r,e,n,a,o);return"mfaPendingCredential"in u&&li(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function cb(r,e,n,a){const o=`${e}${n}?${a}`,u=r,f=u.config.emulator?bp(r.config,o):`${r.config.apiScheme}://${o}`;return Nx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Ox(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Mi(this.auth,"network-request-failed")),Dx.get())})}}function eh(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Mi(r,e,a);return o.customData._tokenResponse=n,o}function a0(r){return r!==void 0&&r.enterprise!==void 0}class Vx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Ox(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kx(r,e){return Bi(r,"GET","/v2/recaptchaConfig",vr(r,e))}async function Lx(r,e){return Bi(r,"POST","/v1/accounts:delete",e)}async function Rh(r,e){return Bi(r,"POST","/v1/accounts:lookup",e)}function Kl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Px(r,e=!1){const n=Lt(r),a=await n.getIdToken(e),o=Tp(a);ye(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:a,authTime:Kl(Cm(o.auth_time)),issuedAtTime:Kl(Cm(o.iat)),expirationTime:Kl(Cm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Cm(r){return Number(r)*1e3}function Tp(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const o=QE(n);return o?JSON.parse(o):(lh("Failed to decode base64 JWT payload"),null)}catch(o){return lh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function s0(r){const e=Tp(r);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function mo(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof _r&&Ux(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Ux({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class zx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Fm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xh(r){const e=r.auth,n=await r.getIdToken(),a=await mo(r,Rh(e,{idToken:n}));ye(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?hb(o.providerUserInfo):[],f=Bx(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Fm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function jx(r){const e=Lt(r);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Bx(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function hb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function qx(r,e){const n=await ub(r,{},async()=>{const a=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await cb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return r.emulatorConfig&&Ao(r.emulatorConfig.host)&&(p.credentials="include"),lb.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Hx(r,e){return Bi(r,"POST","/v2/accounts:revokeToken",vr(r,e))}class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=s0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await qx(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new so;return a&&(ye(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(ye(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ye(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return or("not implemented")}}function ta(r,e){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class si{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new zx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await mo(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Px(this,e)}reload(){return jx(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(cr(this.auth));const e=await this.getIdToken();return await mo(this,Lx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:w,isAnonymous:P,providerData:Y,stsTokenManager:X}=n;ye(S&&X,e,"internal-error");const U=so.fromJSON(this.name,X);ye(typeof S=="string",e,"internal-error"),ta(a,e.name),ta(o,e.name),ye(typeof w=="boolean",e,"internal-error"),ye(typeof P=="boolean",e,"internal-error"),ta(u,e.name),ta(f,e.name),ta(m,e.name),ta(p,e.name),ta(g,e.name),ta(E,e.name);const Q=new si({uid:S,auth:e,email:o,emailVerified:w,displayName:a,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:E});return Y&&Array.isArray(Y)&&(Q.providerData=Y.map(ie=>({...ie}))),p&&(Q._redirectEventId=p),Q}static async _fromIdTokenResponse(e,n,a=!1){const o=new so;o.updateFromServerResponse(n);const u=new si({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await xh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];ye(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?hb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new so;m.updateFromIdToken(a);const p=new si({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Fm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const o0=new Map;function lr(r){mr(r instanceof Function,"Expected a class definition");let e=o0.get(r);return e?(mr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,o0.set(r,e),e)}class fb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fb.type="NONE";const l0=fb;function uh(r,e,n){return`firebase:${r}:${e}:${n}`}class oo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=uh(this.userKey,o.apiKey,u),this.fullPersistenceKey=uh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rh(this.auth,{idToken:e}).catch(()=>{});return n?si._fromGetAccountInfoResponse(this.auth,n,e):null}return si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new oo(lr(l0),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||lr(l0);const f=uh(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let S;if(typeof E=="string"){const w=await Rh(e,{idToken:E}).catch(()=>{});if(!w)break;S=await si._fromGetAccountInfoResponse(e,w,E)}else S=si._fromJSON(e,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new oo(u,e,a):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new oo(u,e,a))}}function u0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(db(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_b(e))return"Blackberry";if(vb(e))return"Webos";if(mb(e))return"Safari";if((e.includes("chrome/")||pb(e))&&!e.includes("edge/"))return"Chrome";if(yb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function db(r=tn()){return/firefox\//i.test(r)}function mb(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pb(r=tn()){return/crios\//i.test(r)}function gb(r=tn()){return/iemobile/i.test(r)}function yb(r=tn()){return/android/i.test(r)}function _b(r=tn()){return/blackberry/i.test(r)}function vb(r=tn()){return/webos/i.test(r)}function Sp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Fx(r=tn()){return Sp(r)&&!!window.navigator?.standalone}function Gx(){return iR()&&document.documentMode===10}function Eb(r=tn()){return Sp(r)||yb(r)||vb(r)||_b(r)||/windows phone/i.test(r)||gb(r)}function bb(r,e=[]){let n;switch(r){case"Browser":n=u0(tn());break;case"Worker":n=`${u0(tn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wo}/${a}`}class Kx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Qx(r,e={}){return Bi(r,"GET","/v2/passwordPolicy",vr(r,e))}const Yx=6;class Xx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Yx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class $x{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c0(this),this.idTokenSubscription=new c0(this),this.beforeStateQueue=new Kx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rh(this,{idToken:e}),a=await si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Fn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Cx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(cr(this));const n=e?Lt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Qx(this),n=new Xx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await Hx(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ea(r){return Lt(r)}class c0{constructor(e){this.auth=e,this.observer=null,this.addObserver=hR(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jx(r){Kh=r}function Tb(r){return Kh.loadJS(r)}function Zx(){return Kh.recaptchaEnterpriseScript}function Wx(){return Kh.gapiScript}function eC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class tC{constructor(){this.enterprise=new nC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iC="recaptcha-enterprise",Sb="NO_RECAPTCHA";class rC{constructor(e){this.type=iC,this.auth=Ea(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{kx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Vx(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;a0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(Sb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(m=>{if(!n&&a0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Zx();p.length!==0&&(p+=m),Tb(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function h0(r,e,n,a=!1,o=!1){const u=new rC(r);let f;if(o)f=Sb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Ch(r,e,n,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await h0(r,e,n,n==="getOobCode");return a(r,u)}else return a(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await h0(r,e,n,n==="getOobCode");return a(r,f)}else return Promise.reject(u)})}function aC(r,e){const n=vp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(rs(u,e??{}))return o;li(o,"already-initialized")}return n.initialize({options:e})}function sC(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(lr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function oC(r,e,n){const a=Ea(r);ye(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=Ab(e),{host:f,port:m}=lC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ye(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ye(rs(g,a.config.emulator)&&rs(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,Ao(f)?(JE(`${u}//${f}${p}`),ZE("Auth",!0)):uC()}function Ab(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function lC(r){const e=Ab(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:f0(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:f0(f)}}}function f0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function uC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Ap{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function cC(r,e){return Bi(r,"POST","/v1/accounts:update",e)}async function hC(r,e){return Bi(r,"POST","/v1/accounts:signUp",e)}async function fC(r,e){return pu(r,"POST","/v1/accounts:signInWithPassword",vr(r,e))}async function dC(r,e){return Bi(r,"POST","/v1/accounts:sendOobCode",vr(r,e))}async function mC(r,e){return dC(r,e)}async function pC(r,e){return pu(r,"POST","/v1/accounts:signInWithEmailLink",vr(r,e))}async function gC(r,e){return pu(r,"POST","/v1/accounts:signInWithEmailLink",vr(r,e))}class eu extends Ap{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new eu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ch(e,n,"signInWithPassword",fC);case"emailLink":return pC(e,{email:this._email,oobCode:this._password});default:li(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ch(e,a,"signUpPassword",hC);case"emailLink":return gC(e,{idToken:n,email:this._email,oobCode:this._password});default:li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function lo(r,e){return pu(r,"POST","/v1/accounts:signInWithIdp",vr(r,e))}const yC="http://localhost";class ss extends Ap{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const f=new ss(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,lo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:yC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}function _C(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vC(r){const e=zl(jl(r)).link,n=e?zl(jl(e)).deep_link_id:null,a=zl(jl(r)).deep_link_id;return(a?zl(jl(a)).link:null)||a||n||e||r}class wp{constructor(e){const n=zl(jl(e)),a=n.apiKey??null,o=n.oobCode??null,u=_C(n.mode??null);ye(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=vC(e);try{return new wp(n)}catch{return null}}}class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=wp.parseLink(n);return ye(a,"argument-error"),eu._fromEmailAndCode(e,a.code,a.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class wb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends wb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ia extends gu{constructor(){super("facebook.com")}static credential(e){return ss._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";class ra extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ss._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return ra.credential(n,a)}catch{return null}}}ra.GOOGLE_SIGN_IN_METHOD="google.com";ra.PROVIDER_ID="google.com";class aa extends gu{constructor(){super("github.com")}static credential(e){return ss._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";class sa extends gu{constructor(){super("twitter.com")}static credential(e,n){return ss._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return sa.credential(n,a)}catch{return null}}}sa.TWITTER_SIGN_IN_METHOD="twitter.com";sa.PROVIDER_ID="twitter.com";async function EC(r,e){return pu(r,"POST","/v1/accounts:signUp",vr(r,e))}class os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await si._fromIdTokenResponse(e,a,o),f=d0(a);return new os({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=d0(a);return new os({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function d0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ih extends _r{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Ih(e,n,a,o)}}function Rb(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(r,u,e,a):u})}async function bC(r,e,n=!1){const a=await mo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return os._forOperation(r,"link",a)}async function TC(r,e,n=!1){const{auth:a}=r;if(Fn(a.app))return Promise.reject(cr(a));const o="reauthenticate";try{const u=await mo(r,Rb(a,o,e,r),n);ye(u.idToken,a,"internal-error");const f=Tp(u.idToken);ye(f,a,"internal-error");const{sub:m}=f;return ye(r.uid===m,a,"user-mismatch"),os._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&li(a,"user-mismatch"),u}}async function xb(r,e,n=!1){if(Fn(r.app))return Promise.reject(cr(r));const a="signIn",o=await Rb(r,a,e),u=await os._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function SC(r,e){return xb(Ea(r),e)}async function Cb(r){const e=Ea(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AC(r,e,n){const a=Ea(r);await Ch(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",mC)}async function wC(r,e,n){if(Fn(r.app))return Promise.reject(cr(r));const a=Ea(r),f=await Ch(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Cb(r),p}),m=await os._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(m.user),m}function Ib(r,e,n){return Fn(r.app)?Promise.reject(cr(r)):SC(Lt(r),Ro.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Cb(r),a})}function RC(r,e){return xC(Lt(r),null,e)}async function xC(r,e,n){const{auth:a}=r,u={idToken:await r.getIdToken(),returnSecureToken:!0};n&&(u.password=n);const f=await mo(r,cC(a,u));await r._updateTokensIfNecessary(f,!0)}function CC(r,e,n,a){return Lt(r).onIdTokenChanged(e,n,a)}function IC(r,e,n){return Lt(r).beforeAuthStateChanged(e,n)}function NC(r,e,n,a){return Lt(r).onAuthStateChanged(e,n,a)}const Nh="__sak";class Nb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const DC=1e3,OC=10;class Db extends Nb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Eb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);Gx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,OC):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},DC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Db.type="LOCAL";const MC=Db;class Ob extends Nb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ob.type="SESSION";const Mb=Ob;function VC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Qh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await VC(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];function Rp(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}class kC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Rp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(S){const w=S;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Vi(){return window}function LC(r){Vi().location.href=r}function Vb(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function PC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UC(){return navigator?.serviceWorker?.controller||null}function zC(){return Vb()?self:null}const kb="firebaseLocalStorageDb",jC=1,Dh="firebaseLocalStorage",Lb="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yh(r,e){return r.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function BC(){const r=indexedDB.deleteDatabase(kb);return new yu(r).toPromise()}function Gm(){const r=indexedDB.open(kb,jC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Dh,{keyPath:Lb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Dh)?e(a):(a.close(),await BC(),e(await Gm()))})})}async function m0(r,e,n){const a=Yh(r,!0).put({[Lb]:e,value:n});return new yu(a).toPromise()}async function qC(r,e){const n=Yh(r,!1).get(e),a=await new yu(n).toPromise();return a===void 0?null:a.value}function p0(r,e){const n=Yh(r,!0).delete(e);return new yu(n).toPromise()}const HC=800,FC=3;class Pb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>FC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(zC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PC(),!this.activeServiceWorker)return;this.sender=new kC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gm();return await m0(e,Nh,"1"),await p0(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>m0(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>qC(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>p0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Yh(o,!1).getAll();return new yu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Pb.type="LOCAL";const GC=Pb;new mu(3e4,6e4);function KC(r,e){return e?lr(e):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class xp extends Ap{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QC(r){return xb(r.auth,new xp(r),r.bypassAuthState)}function YC(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),TC(n,new xp(r),r.bypassAuthState)}async function XC(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),bC(n,new xp(r),r.bypassAuthState)}class Ub{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QC;case"linkViaPopup":case"linkViaRedirect":return XC;case"reauthViaPopup":case"reauthViaRedirect":return YC;default:li(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $C=new mu(2e3,1e4);class ao extends Ub{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=Rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$C.get())};e()}}ao.currentPopupAction=null;const JC="pendingRedirect",ch=new Map;class ZC extends Ub{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const a=await WC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WC(r,e){const n=nI(e),a=tI(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function eI(r,e){ch.set(r._key(),e)}function tI(r){return lr(r._redirectPersistence)}function nI(r){return uh(JC,r.config.apiKey,r.name)}async function iI(r,e,n=!1){if(Fn(r.app))return Promise.reject(cr(r));const a=Ea(r),o=KC(a,e),f=await new ZC(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}const rI=600*1e3;class aI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!zb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Mi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rI&&this.cachedEventUids.clear(),this.cachedEventUids.has(g0(e))}saveEventToCache(e){this.cachedEventUids.add(g0(e)),this.lastProcessedEventTime=Date.now()}}function g0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function zb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function sI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zb(r);default:return!1}}async function oI(r,e={}){return Bi(r,"GET","/v1/projects",e)}const lI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uI=/^https?/;async function cI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await oI(r);for(const n of e)try{if(hI(n))return}catch{}li(r,"unauthorized-domain")}function hI(r){const e=Hm(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!uI.test(n))return!1;if(lI.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const fI=new mu(3e4,6e4);function y0(){const r=Vi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function dI(r){return new Promise((e,n)=>{function a(){y0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y0(),n(Mi(r,"network-request-failed"))},timeout:fI.get()})}if(Vi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vi().gapi?.load)a();else{const o=eC("iframefcb");return Vi()[o]=()=>{gapi.load?a():n(Mi(r,"network-request-failed"))},Tb(`${Wx()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw hh=null,e})}let hh=null;function mI(r){return hh=hh||dI(r),hh}const pI=new mu(5e3,15e3),gI="__/auth/iframe",yI="emulator/auth/iframe",_I={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EI(r){const e=r.config;ye(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?bp(e,yI):`https://${r.config.authDomain}/${gI}`,a={apiKey:e.apiKey,appName:r.name,v:wo},o=vI.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${du(a).slice(1)}`}async function bI(r){const e=await mI(r),n=Vi().gapi;return ye(n,r,"internal-error"),e.open({where:document.body,url:EI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_I,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=Mi(r,"network-request-failed"),m=Vi().setTimeout(()=>{u(f)},pI.get());function p(){Vi().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(f)})}))}const TI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SI=500,AI=600,wI="_blank",RI="http://localhost";class _0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xI(r,e,n,a=SI,o=AI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...TI,width:a.toString(),height:o.toString(),top:u,left:f},g=tn().toLowerCase();n&&(m=pb(g)?wI:n),db(g)&&(e=e||RI,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[P,Y])=>`${w}${P}=${Y},`,"");if(Fx(g)&&m!=="_self")return CI(e||"",m),new _0(null);const S=window.open(e||"",m,E);ye(S,r,"popup-blocked");try{S.focus()}catch{}return new _0(S)}function CI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const II="__/auth/handler",NI="emulator/auth/handler",DI=encodeURIComponent("fac");async function v0(r,e,n,a,o,u){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:wo,eventId:o};if(e instanceof wb){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",cR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof gu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${DI}=${encodeURIComponent(p)}`:"";return`${OI(r)}?${du(m).slice(1)}${g}`}function OI({config:r}){return r.emulator?bp(r,NI):`https://${r.authDomain}/${II}`}const Im="webStorageSupport";class MI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mb,this._completeRedirectFn=iI,this._overrideRedirectResult=eI}async _openPopup(e,n,a,o){mr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await v0(e,n,a,Hm(),o);return xI(e,u,Rp())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await v0(e,n,a,Hm(),o);return LC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(mr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await bI(e),a=new aI(e);return n.register("authEvent",o=>(ye(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},o=>{const u=o?.[0]?.[Im];u!==void 0&&n(!!u),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Eb()||mb()||Sp()}}const VI=MI;var E0="@firebase/auth",b0="1.12.0";class kI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function LI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PI(r){fo(new as("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;ye(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bb(r)},g=new $x(a,o,u,p);return sC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),fo(new as("auth-internal",e=>{const n=Ea(e.getProvider("auth").getImmediate());return(a=>new kI(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ca(E0,b0,LI(r)),ca(E0,b0,"esm2020")}const UI=300,zI=$E("authIdTokenMaxAge")||UI;let T0=null;const jI=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>zI)return;const o=n?.token;T0!==o&&(T0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function BI(r=nb()){const e=vp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=aC(r,{popupRedirectResolver:VI,persistence:[GC,MC,Mb]}),a=$E("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=jI(u.toString());IC(n,f,()=>f(n.currentUser)),CC(n,m=>f(m))}}const o=YE("auth");return o&&oC(n,`http://${o}`),n}function qI(){return document.getElementsByTagName("head")?.[0]??document}Jx({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=Mi("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",qI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PI("Browser");var S0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ha,jb;(function(){var r;function e(I,R){function C(){}C.prototype=R.prototype,I.F=R.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,N,k){for(var x=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)x[qe-2]=arguments[qe];return R.prototype[N].apply(V,x)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,C){C||(C=0);const V=Array(16);if(typeof R=="string")for(var N=0;N<16;++N)V[N]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=I.g[0],C=I.g[1],N=I.g[2];let k=I.g[3],x;x=R+(k^C&(N^k))+V[0]+3614090360&4294967295,R=C+(x<<7&4294967295|x>>>25),x=k+(N^R&(C^N))+V[1]+3905402710&4294967295,k=R+(x<<12&4294967295|x>>>20),x=N+(C^k&(R^C))+V[2]+606105819&4294967295,N=k+(x<<17&4294967295|x>>>15),x=C+(R^N&(k^R))+V[3]+3250441966&4294967295,C=N+(x<<22&4294967295|x>>>10),x=R+(k^C&(N^k))+V[4]+4118548399&4294967295,R=C+(x<<7&4294967295|x>>>25),x=k+(N^R&(C^N))+V[5]+1200080426&4294967295,k=R+(x<<12&4294967295|x>>>20),x=N+(C^k&(R^C))+V[6]+2821735955&4294967295,N=k+(x<<17&4294967295|x>>>15),x=C+(R^N&(k^R))+V[7]+4249261313&4294967295,C=N+(x<<22&4294967295|x>>>10),x=R+(k^C&(N^k))+V[8]+1770035416&4294967295,R=C+(x<<7&4294967295|x>>>25),x=k+(N^R&(C^N))+V[9]+2336552879&4294967295,k=R+(x<<12&4294967295|x>>>20),x=N+(C^k&(R^C))+V[10]+4294925233&4294967295,N=k+(x<<17&4294967295|x>>>15),x=C+(R^N&(k^R))+V[11]+2304563134&4294967295,C=N+(x<<22&4294967295|x>>>10),x=R+(k^C&(N^k))+V[12]+1804603682&4294967295,R=C+(x<<7&4294967295|x>>>25),x=k+(N^R&(C^N))+V[13]+4254626195&4294967295,k=R+(x<<12&4294967295|x>>>20),x=N+(C^k&(R^C))+V[14]+2792965006&4294967295,N=k+(x<<17&4294967295|x>>>15),x=C+(R^N&(k^R))+V[15]+1236535329&4294967295,C=N+(x<<22&4294967295|x>>>10),x=R+(N^k&(C^N))+V[1]+4129170786&4294967295,R=C+(x<<5&4294967295|x>>>27),x=k+(C^N&(R^C))+V[6]+3225465664&4294967295,k=R+(x<<9&4294967295|x>>>23),x=N+(R^C&(k^R))+V[11]+643717713&4294967295,N=k+(x<<14&4294967295|x>>>18),x=C+(k^R&(N^k))+V[0]+3921069994&4294967295,C=N+(x<<20&4294967295|x>>>12),x=R+(N^k&(C^N))+V[5]+3593408605&4294967295,R=C+(x<<5&4294967295|x>>>27),x=k+(C^N&(R^C))+V[10]+38016083&4294967295,k=R+(x<<9&4294967295|x>>>23),x=N+(R^C&(k^R))+V[15]+3634488961&4294967295,N=k+(x<<14&4294967295|x>>>18),x=C+(k^R&(N^k))+V[4]+3889429448&4294967295,C=N+(x<<20&4294967295|x>>>12),x=R+(N^k&(C^N))+V[9]+568446438&4294967295,R=C+(x<<5&4294967295|x>>>27),x=k+(C^N&(R^C))+V[14]+3275163606&4294967295,k=R+(x<<9&4294967295|x>>>23),x=N+(R^C&(k^R))+V[3]+4107603335&4294967295,N=k+(x<<14&4294967295|x>>>18),x=C+(k^R&(N^k))+V[8]+1163531501&4294967295,C=N+(x<<20&4294967295|x>>>12),x=R+(N^k&(C^N))+V[13]+2850285829&4294967295,R=C+(x<<5&4294967295|x>>>27),x=k+(C^N&(R^C))+V[2]+4243563512&4294967295,k=R+(x<<9&4294967295|x>>>23),x=N+(R^C&(k^R))+V[7]+1735328473&4294967295,N=k+(x<<14&4294967295|x>>>18),x=C+(k^R&(N^k))+V[12]+2368359562&4294967295,C=N+(x<<20&4294967295|x>>>12),x=R+(C^N^k)+V[5]+4294588738&4294967295,R=C+(x<<4&4294967295|x>>>28),x=k+(R^C^N)+V[8]+2272392833&4294967295,k=R+(x<<11&4294967295|x>>>21),x=N+(k^R^C)+V[11]+1839030562&4294967295,N=k+(x<<16&4294967295|x>>>16),x=C+(N^k^R)+V[14]+4259657740&4294967295,C=N+(x<<23&4294967295|x>>>9),x=R+(C^N^k)+V[1]+2763975236&4294967295,R=C+(x<<4&4294967295|x>>>28),x=k+(R^C^N)+V[4]+1272893353&4294967295,k=R+(x<<11&4294967295|x>>>21),x=N+(k^R^C)+V[7]+4139469664&4294967295,N=k+(x<<16&4294967295|x>>>16),x=C+(N^k^R)+V[10]+3200236656&4294967295,C=N+(x<<23&4294967295|x>>>9),x=R+(C^N^k)+V[13]+681279174&4294967295,R=C+(x<<4&4294967295|x>>>28),x=k+(R^C^N)+V[0]+3936430074&4294967295,k=R+(x<<11&4294967295|x>>>21),x=N+(k^R^C)+V[3]+3572445317&4294967295,N=k+(x<<16&4294967295|x>>>16),x=C+(N^k^R)+V[6]+76029189&4294967295,C=N+(x<<23&4294967295|x>>>9),x=R+(C^N^k)+V[9]+3654602809&4294967295,R=C+(x<<4&4294967295|x>>>28),x=k+(R^C^N)+V[12]+3873151461&4294967295,k=R+(x<<11&4294967295|x>>>21),x=N+(k^R^C)+V[15]+530742520&4294967295,N=k+(x<<16&4294967295|x>>>16),x=C+(N^k^R)+V[2]+3299628645&4294967295,C=N+(x<<23&4294967295|x>>>9),x=R+(N^(C|~k))+V[0]+4096336452&4294967295,R=C+(x<<6&4294967295|x>>>26),x=k+(C^(R|~N))+V[7]+1126891415&4294967295,k=R+(x<<10&4294967295|x>>>22),x=N+(R^(k|~C))+V[14]+2878612391&4294967295,N=k+(x<<15&4294967295|x>>>17),x=C+(k^(N|~R))+V[5]+4237533241&4294967295,C=N+(x<<21&4294967295|x>>>11),x=R+(N^(C|~k))+V[12]+1700485571&4294967295,R=C+(x<<6&4294967295|x>>>26),x=k+(C^(R|~N))+V[3]+2399980690&4294967295,k=R+(x<<10&4294967295|x>>>22),x=N+(R^(k|~C))+V[10]+4293915773&4294967295,N=k+(x<<15&4294967295|x>>>17),x=C+(k^(N|~R))+V[1]+2240044497&4294967295,C=N+(x<<21&4294967295|x>>>11),x=R+(N^(C|~k))+V[8]+1873313359&4294967295,R=C+(x<<6&4294967295|x>>>26),x=k+(C^(R|~N))+V[15]+4264355552&4294967295,k=R+(x<<10&4294967295|x>>>22),x=N+(R^(k|~C))+V[6]+2734768916&4294967295,N=k+(x<<15&4294967295|x>>>17),x=C+(k^(N|~R))+V[13]+1309151649&4294967295,C=N+(x<<21&4294967295|x>>>11),x=R+(N^(C|~k))+V[4]+4149444226&4294967295,R=C+(x<<6&4294967295|x>>>26),x=k+(C^(R|~N))+V[11]+3174756917&4294967295,k=R+(x<<10&4294967295|x>>>22),x=N+(R^(k|~C))+V[2]+718787259&4294967295,N=k+(x<<15&4294967295|x>>>17),x=C+(k^(N|~R))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(N+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,R){R===void 0&&(R=I.length);const C=R-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<R;){if(N==0)for(;k<=C;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<R;)if(V[N++]=I.charCodeAt(k++),N==this.blockSize){o(this,V),N=0;break}}else for(;k<R;)if(V[N++]=I[k++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=R},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[R++]=this.g[C]>>>V&255;return I};function u(I,R){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=R(I)}function f(I,R){this.h=R;const C=[];let V=!0;for(let N=I.length-1;N>=0;N--){const k=I[N]|0;V&&k==R||(C[N]=k,V=!1)}this.g=C}var m={};function p(I){return-128<=I&&I<128?u(I,function(R){return new f([R|0],R<0?-1:0)}):new f([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return U(g(-I));const R=[];let C=1;for(let V=0;I>=C;V++)R[V]=I/C|0,C*=4294967296;return new f(R,0)}function E(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return U(E(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let V=S;for(let k=0;k<I.length;k+=8){var N=Math.min(8,I.length-k);const x=parseInt(I.substring(k,k+N),R);N<8?(N=g(Math.pow(R,N)),V=V.j(N).add(g(x))):(V=V.j(C),V=V.add(g(x)))}return V}var S=p(0),w=p(1),P=p(16777216);r=f.prototype,r.m=function(){if(X(this))return-U(this).m();let I=0,R=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Y(this))return"0";if(X(this))return"-"+U(this).toString(I);const R=g(Math.pow(I,6));var C=this;let V="";for(;;){const N=Ee(C,R).g;C=Q(C,N.j(R));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,Y(C))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Y(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function X(I){return I.h==-1}r.l=function(I){return I=Q(this,I),X(I)?-1:Y(I)?0:1};function U(I){const R=I.g.length,C=[];for(let V=0;V<R;V++)C[V]=~I.g[V];return new f(C,~I.h).add(w)}r.abs=function(){return X(this)?U(this):this},r.add=function(I){const R=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let N=0;N<=R;N++){let k=V+(this.i(N)&65535)+(I.i(N)&65535),x=(k>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=x>>>16,k&=65535,x&=65535,C[N]=x<<16|k}return new f(C,C[C.length-1]&-2147483648?-1:0)};function Q(I,R){return I.add(U(R))}r.j=function(I){if(Y(this)||Y(I))return S;if(X(this))return X(I)?U(this).j(U(I)):U(U(this).j(I));if(X(I))return U(this.j(U(I)));if(this.l(P)<0&&I.l(P)<0)return g(this.m()*I.m());const R=this.g.length+I.g.length,C=[];for(var V=0;V<2*R;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const k=this.i(V)>>>16,x=this.i(V)&65535,qe=I.i(N)>>>16,ot=I.i(N)&65535;C[2*V+2*N]+=x*ot,ie(C,2*V+2*N),C[2*V+2*N+1]+=k*ot,ie(C,2*V+2*N+1),C[2*V+2*N+1]+=x*qe,ie(C,2*V+2*N+1),C[2*V+2*N+2]+=k*qe,ie(C,2*V+2*N+2)}for(I=0;I<R;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=R;I<2*R;I++)C[I]=0;return new f(C,0)};function ie(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function re(I,R){this.g=I,this.h=R}function Ee(I,R){if(Y(R))throw Error("division by zero");if(Y(I))return new re(S,S);if(X(I))return R=Ee(U(I),R),new re(U(R.g),U(R.h));if(X(R))return R=Ee(I,U(R)),new re(U(R.g),R.h);if(I.g.length>30){if(X(I)||X(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,V=R;V.l(I)<=0;)C=Re(C),V=Re(V);var N=be(C,1),k=be(V,1);for(V=be(V,2),C=be(C,2);!Y(V);){var x=k.add(V);x.l(I)<=0&&(N=N.add(C),k=x),V=be(V,1),C=be(C,1)}return R=Q(I,N.j(R)),new re(N,R)}for(N=S;I.l(R)>=0;){for(C=Math.max(1,Math.floor(I.m()/R.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=g(C),x=k.j(R);X(x)||x.l(I)>0;)C-=V,k=g(C),x=k.j(R);Y(k)&&(k=w),N=N.add(k),I=Q(I,x)}return new re(N,I)}r.B=function(I){return Ee(this,I).h},r.and=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<R;V++)C[V]=this.i(V)&I.i(V);return new f(C,this.h&I.h)},r.or=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<R;V++)C[V]=this.i(V)|I.i(V);return new f(C,this.h|I.h)},r.xor=function(I){const R=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<R;V++)C[V]=this.i(V)^I.i(V);return new f(C,this.h^I.h)};function Re(I){const R=I.g.length+1,C=[];for(let V=0;V<R;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new f(C,I.h)}function be(I,R){const C=R>>5;R%=32;const V=I.g.length-C,N=[];for(let k=0;k<V;k++)N[k]=R>0?I.i(k+C)>>>R|I.i(k+C+1)<<32-R:I.i(k+C);return new f(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,jb=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ha=f}).apply(typeof S0<"u"?S0:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Bb,Bl,qb,fh,Km,Hb,Fb,Gb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var v=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,j,G){for(var ae=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ae[Ce-2]=arguments[Ce];return y.prototype[j].apply(A,ae)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function Y(c,y){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const G=j.length||0;c.length=v+G;for(let ae=0;ae<G;ae++)c[v+ae]=j[ae]}else c.push(j)}}class X{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(c){f.setTimeout(()=>{throw c},0)}function Q(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,v){const A=re.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new X(()=>new Ee,c=>c.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,be=!1,I=new ie,R=()=>{const c=Promise.resolve(void 0);Re=()=>{c.then(C)}};function C(){for(var c;c=Q();){try{c.h.call(c.g)}catch(v){U(v)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}be=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function qe(c,y){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}S(qe,N),qe.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ot="closure_listenable_"+(Math.random()*1e6|0),$=0;function se(c,y,v,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=j,this.key=++$,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function De(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function Ge(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function M(c){const y={};for(const v in c)y[v]=c[v];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let G=0;G<ee.length;G++)v=ee[G],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,v,A,j){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const ae=xe(c,y,A,j);return ae>-1?(y=c[ae],v||(y.fa=!1)):(y=new se(y,this.src,G,!!A,j),y.fa=v,c.push(y)),y};function ve(c,y){const v=y.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,y,void 0),G;(G=j>=0)&&Array.prototype.splice.call(A,j,1),G&&(de(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function xe(c,y,v,A){for(let j=0;j<c.length;++j){const G=c[j];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==A)return j}return-1}var H="closure_lm_"+(Math.random()*1e6|0),Te={};function je(c,y,v,A,j){if(Array.isArray(y)){for(let G=0;G<y.length;G++)je(c,y[G],v,A,j);return null}return v=Mo(v),c&&c[ot]?c.J(y,v,m(A)?!!A.capture:!1,j):_n(c,y,v,!1,A,j)}function _n(c,y,v,A,j,G){if(!y)throw Error("Invalid event type");const ae=m(j)?!!j.capture:!!j;let Ce=Aa(c);if(Ce||(c[H]=Ce=new ue(c)),v=Ce.add(y,v,A,ae,G),v.proxy)return v;if(A=sn(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(j=ae),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(Pt(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function sn(){function c(v){return y.call(c.src,c.listener,v)}const y=br;return c}function Er(c,y,v,A,j){if(Array.isArray(y))for(var G=0;G<y.length;G++)Er(c,y[G],v,A,j);else A=m(A)?!!A.capture:!!A,v=Mo(v),c&&c[ot]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],v=xe(y,v,A,j),v>-1&&(de(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=Aa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=xe(y,v,A,j)),(v=c>-1?y[c]:null)&&Nn(v))}function Nn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ot])ve(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(Pt(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Aa(y))?(ve(v,c),v.h==0&&(v.src=null,y[H]=null)):de(c)}}}function Pt(c){return c in Te?Te[c]:Te[c]="on"+c}function br(c,y){if(c.da)c=!0;else{y=new qe(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&Nn(c),c=v.call(A,y)}return c}function Aa(c){return c=c[H],c instanceof ue?c:null}var Oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mo(c){return typeof c=="function"?c:(c[Oo]||(c[Oo]=function(y){return c.handleEvent(y)}),c[Oo])}function Et(){V.call(this),this.i=new ue(this),this.M=this,this.G=null}S(Et,V),Et.prototype[ot]=!0,Et.prototype.removeEventListener=function(c,y,v,A){Er(this,c,y,v,A)};function Ot(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new N(y,c);else if(y instanceof N)y.target=y.target||c;else{var j=y;y=new N(A,c),oe(y,j)}j=!0;let G,ae;if(v)for(ae=v.length-1;ae>=0;ae--)G=y.g=v[ae],j=Tr(G,A,!0,y)&&j;if(G=y.g=c,j=Tr(G,A,!0,y)&&j,j=Tr(G,A,!1,y)&&j,v)for(ae=0;ae<v.length;ae++)G=y.g=v[ae],j=Tr(G,A,!1,y)&&j}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)de(v[A]);delete c.g[y],c.h--}}this.G=null},Et.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},Et.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Tr(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let G=0;G<y.length;++G){const ae=y[G];if(ae&&!ae.da&&ae.capture==v){const Ce=ae.listener,gt=ae.ha||ae.src;ae.fa&&ve(c.i,ae),j=Ce.call(gt,A)!==!1&&j}}return j&&!A.defaultPrevented}function gf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Au(c){c.g=gf(()=>{c.g=null,c.i&&(c.i=!1,Au(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nn extends V{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Au(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wa(c){V.call(this),this.h=c,this.g={}}S(wa,V);var Vo=[];function ko(c){De(c.g,function(y,v){this.g.hasOwnProperty(v)&&Nn(y)},c),c.g={}}wa.prototype.N=function(){wa.Z.N.call(this),ko(this)},wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sr=f.JSON.stringify,yf=f.JSON.parse,wu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Ru(){}function xu(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){N.call(this,"d")}S(qt,N);function Dn(){N.call(this,"c")}S(Dn,N);var pt={},Cu=null;function ms(){return Cu=Cu||new Et}pt.Ia="serverreachability";function Iu(c){N.call(this,pt.Ia,c)}S(Iu,N);function ci(c){const y=ms();Ot(y,new Iu(y))}pt.STAT_EVENT="statevent";function Ra(c,y){N.call(this,pt.STAT_EVENT,c),this.stat=y}S(Ra,N);function bt(c){const y=ms();Ot(y,new Ra(y,c))}pt.Ja="timingevent";function hi(c,y){N.call(this,pt.Ja,c),this.size=y}S(hi,N);function fi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function _f(c,y,v,A,j,G){c.info(function(){if(c.g)if(G){var ae="",Ce=G.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var gt=Ce[Ke].split("=");if(gt.length>1){const lt=gt[0];gt=gt[1];const kn=lt.split("_");ae=kn.length>=2&&kn[1]=="type"?ae+(lt+"="+gt+"&"):ae+(lt+"=redacted&")}}}else ae=null;else ae=G;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+v+`
`+ae})}function Nu(c,y,v,A,j,G,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+v+`
`+G+" "+ae})}function di(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+vf(c,v)+(A?" "+A:"")})}function xa(c,y){c.info(function(){return"TIMEOUT: "+y})}Xn.prototype.info=function(){};function vf(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ae=1;ae<A.length;ae++)A[ae]=""}}}}return Sr(G)}catch{return y}}var Ca={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Po;function Ia(){}S(Ia,Ru),Ia.prototype.g=function(){return new XMLHttpRequest},Po=new Ia;function qi(c){return encodeURIComponent(String(c))}function Du(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function $n(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new wa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var Tt={},Ut={};function mi(c,y,v){c.M=1,c.A=Na(At(y)),c.u=v,c.R=!0,ps(c,null)}function ps(c,y){c.F=Date.now(),pi(c),c.B=At(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),vs(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Jn,c.g=Ku(c.j,v?y:null,!c.u),c.P>0&&(c.O=new nn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Vo[0]=j.toString()),j=Vo);for(let G=0;G<j.length;G++){const ae=je(v,j[G],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ci(),_f(c.i,c.v,c.B,c.l,c.S,c.u)}$n.prototype.ba=function(c){c=c.target;const y=this.O;y&&ei(c)==3?y.j():this.Y(c)},$n.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=ei(this.g),gt=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Ce!=4||gt==7||(gt==8||Ke<=0?ci(3):ci(2)),gi(this);var y=this.g.ca();this.X=y;var v=Ef(this);if(this.o=y==200,Nu(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(A)){var G=A;break t}}G=null}if(c=G)di(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,c);else{this.o=!1,this.m=3,bt(12),vn(this),On(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<v.length;)if(lt=Mu(this,v),lt==Ut){Ce==4&&(this.m=4,bt(14),c=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==Tt){this.m=4,bt(15),di(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else di(this.i,this.l,lt,null),yi(this,lt);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,bt(16),c=!1),this.o=this.o&&c,!c)di(this.i,this.l,v,"[Invalid Chunked Response]"),vn(this),On(this);else if(v.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Zo(ae),ae.P=!0,bt(11))}}else di(this.i,this.l,v,null),yi(this,v);Ce==4&&vn(this),this.o&&!this.K&&(Ce==4?qu(this.j,this):(this.o=!1,pi(this)))}else Fi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),vn(this),On(this)}}}catch{}};function Ef(c){if(!Ou(c))return c.g.la();const y=Ht(c.g);if(y==="")return"";let v="";const A=y.length,j=ei(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return vn(c),On(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,v+=c.h.i.decode(y[G],{stream:!(j&&G==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Ou(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Mu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Ut:(v=Number(y.substring(v,A)),isNaN(v)?Tt:(A+=1,A+v>y.length?Ut:(y=y.slice(A,A+v),c.C=A+v,y)))}$n.prototype.cancel=function(){this.K=!0,vn(this)};function pi(c){c.T=Date.now()+c.H,gs(c,c.H)}function gs(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=fi(g(c.aa,c),y)}function gi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}$n.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(xa(this.i,this.B),this.M!=2&&(ci(),bt(17)),vn(this),this.m=2,On(this)):gs(this,this.T-c)};function On(c){c.j.I==0||c.K||qu(c.j,c)}function vn(c){gi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,ko(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function yi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||vi(v.h,c))){if(!c.L&&vi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)As(v),Dr(v);else break e;Pa(v),bt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fi(g(v.Va,v),6e3));_i(v.h)<=1&&v.ta&&(v.ta=void 0)}else wi(v,11)}else if((c.L||v.g==c)&&As(v),!x(y))for(j=v.Ba.g.parse(y),y=0;y<j.length;y++){let Ke=j[y];const lt=Ke[0];if(!(lt<=v.K))if(v.K=lt,Ke=Ke[1],v.I==2)if(Ke[0]=="c"){v.M=Ke[1],v.ba=Ke[2];const kn=Ke[3];kn!=null&&(v.ka=kn,v.j.info("VER="+v.ka));const Ri=Ke[4];Ri!=null&&(v.za=Ri,v.j.info("SVER="+v.za));const ti=Ke[5];ti!=null&&typeof ti=="number"&&ti>0&&(A=1.5*ti,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ni=c.g;if(ni){const Ua=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ua){var G=A.h;G.g||Ua.indexOf("spdy")==-1&&Ua.indexOf("quic")==-1&&Ua.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(jo(G,G.h),G.h=null))}if(A.G){const ws=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;ws&&(A.wa=ws,Xe(A.J,A.G,ws))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ae=c;if(A.na=Gu(A,A.L?A.ba:null,A.W),ae.L){Bo(A.h,ae);var Ce=ae,gt=A.O;gt&&(Ce.H=gt),Ce.D&&(gi(Ce),pi(Ce)),A.g=ae}else ju(A);v.i.length>0&&Ai(v)}else Ke[0]!="stop"&&Ke[0]!="close"||wi(v,7);else v.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?wi(v,7):$o(v):Ke[0]!="noop"&&v.l&&v.l.qa(Ke),v.A=0)}}ci(4)}catch{}}var St=class{constructor(c,y){this.g=c,this.map=y}};function Uo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _i(c){return c.h?1:c.g?c.g.size:0}function vi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function jo(c,y){c.g?c.g.add(y):c.h=y}function Bo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Uo.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return P(c.i)}var Vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ys(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let j,G=null;A>=0?(j=c[v].substring(0,A),G=c[v].substring(A+1)):j=c[v],y(j,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function En(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof En?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,Ar(this,c.u),this.h=c.h,Ho(this,Uu(c.i)),this.m=c.m):c&&(y=String(c).match(Vu))?(this.l=!1,zt(this,y[1]||"",!0),this.o=Ei(y[2]||""),this.g=Ei(y[3]||"",!0),Ar(this,y[4]),this.h=Ei(y[5]||"",!0),Ho(this,y[6]||"",!0),this.m=Ei(y[7]||"")):(this.l=!1,this.i=new Rr(null,this.l))}En.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Da(y,_s,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Da(y,_s,!0),"@"),c.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Da(v,v.charAt(0)=="/"?Fo:ku,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Da(v,Lu)),c.join("")},En.prototype.resolve=function(c){const y=At(this);let v=!!c.j;v?zt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)Ar(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=y.h.lastIndexOf("/");j!=-1&&(A=y.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const G=[];for(let ae=0;ae<j.length;){const Ce=j[ae++];Ce=="."?A&&ae==j.length&&G.push(""):Ce==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&ae==j.length&&G.push("")):(G.push(Ce),A=!0)}A=G.join("/")}else A=j}return v?y.h=A:v=c.i.toString()!=="",v?Ho(y,Uu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function At(c){return new En(c)}function zt(c,y,v){c.j=v?Ei(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ar(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Ho(c,y,v){y instanceof Rr?(c.i=y,Es(c.i,c.l)):(v||(y=Da(y,wr)),c.i=new Rr(y,c.l))}function Xe(c,y,v){c.i.set(y,v)}function Na(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ei(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Da(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _s=/[#\/\?@]/g,ku=/[#\?:]/g,Fo=/[#\?]/g,wr=/[#\?@]/g,Lu=/#/g;function Rr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&ys(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Rr.prototype,r.add=function(c,y){ln(this),this.i=null,c=xr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Pu(c,y){ln(c),y=xr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Go(c,y){return ln(c),y=xr(c,y),c.g.has(y)}r.forEach=function(c,y){ln(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(y,j,A,this)},this)},this)};function Ko(c,y){ln(c);let v=[];if(typeof y=="string")Go(c,y)&&(v=v.concat(c.g.get(xr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return ln(this),this.i=null,c=xr(this,c),Go(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Ko(this,c),c.length>0?String(c[0]):y):y};function vs(c,y,v){Pu(c,y),v.length>0&&(c.i=null,c.g.set(xr(c,y),P(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const j=qi(v);v=Ko(this,v);for(let G=0;G<v.length;G++){let ae=j;v[G]!==""&&(ae+="="+qi(v[G])),c.push(ae)}}return this.i=c.join("&")};function Uu(c){const y=new Rr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function xr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Es(c,y){y&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(Pu(this,A),vs(this,j,v))},c)),c.j=y}function Zn(c,y){const v=new Xn;if(f.Image){const A=new Image;A.onload=E(Mn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(Mn,v,"TestLoadImage: error",!1,y,A),A.onabort=E(Mn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(Mn,v,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Qo(c,y){const v=new Xn,A=new AbortController,j=setTimeout(()=>{A.abort(),Mn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(j),G.ok?Mn(v,"TestPingServer: ok",!0,y):Mn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Mn(v,"TestPingServer: error",!1,y)})}function Mn(c,y,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function Cr(){this.g=new wu}function bi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(bi,Ru),bi.prototype.g=function(){return new Oa(this.i,this.h)};function Oa(c,y){Et.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Oa,Et),r=Oa.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Wn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bs(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function bs(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ir(this):Wn(this),this.readyState==3&&bs(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ir(this))},r.Na=function(c){this.g&&(this.response=c,Ir(this))},r.ga=function(){this.g&&Ir(this)};function Ir(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Wn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Oa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vn(c){let y="";return De(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Ma(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Vn(v),typeof c=="string"?v!=null&&qi(v):Xe(c,y,v))}function Ze(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Ze,Et);var Ti=/^https?$/i,Yo=["POST","PUT"];r=Ze.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Po.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Va(this,G);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())v.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Yo,y,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of v)this.g.setRequestHeader(G,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Va(this,G)}};function Va(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Xo(c),Hi(c)}function Xo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ka(this):this.Xa())},r.Xa=function(){ka(this)};function ka(c){if(c.h&&typeof u<"u"){if(c.v&&ei(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),ei(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=G===0){let ae=String(c.D).match(Vu)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),A=!Ti.test(ae?ae.toLowerCase():"")}v=A}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var j=ei(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Xo(c)}}finally{Hi(c)}}}}function Hi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ei(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),yf(y)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(c){const y={};c=(c.g&&ei(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(x(c[A]))continue;var v=Du(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[j]||[];y[j]=G,G.push(v)}Ge(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Nr(c){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Uo(c&&c.concurrentRequestLimit),this.Ba=new Cr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Nr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,A){bt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Gu(this,null,this.W),Ai(this)};function $o(c){if(Ts(c),c.I==3){var y=c.V++,v=At(c.J);if(Xe(v,"SID",c.M),Xe(v,"RID",y),Xe(v,"TYPE","terminate"),La(c,v),y=new $n(c,c.j,y),y.M=2,y.A=Na(At(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=Ku(y.j,null),y.g.ea(y.A)),y.F=Date.now(),pi(y)}Fu(c)}function Dr(c){c.g&&(Zo(c),c.g.cancel(),c.g=null)}function Ts(c){Dr(c),c.v&&(f.clearTimeout(c.v),c.v=null),As(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ai(c){if(!zo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Re||R(),be||(Re(),be=!0),I.add(y,c),c.D=0}}function Ss(c,y){return _i(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=fi(g(c.Ea,c,y),Hu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new $n(this,this.j,c);let G=this.o;if(this.U&&(G?(G=M(G),oe(G,this.U)):G=this.U),this.u!==null||this.R||(j.J=G,G=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=zu(this,j,y),v=At(this.J),Xe(v,"RID",c),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),La(this,v),G&&(this.R?y="headers="+qi(Vn(G))+"&"+y:this.u&&Ma(v,this.u,G)),jo(this.h,j),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",y),Xe(v,"SID","null"),j.U=!0,mi(j,v,null)):mi(j,v,y),this.I=2}}else this.I==3&&(c?Jo(this,c):this.i.length==0||zo(this.h)||Jo(this))};function Jo(c,y){var v;y?v=y.l:v=c.V++;const A=At(c.J);Xe(A,"SID",c.M),Xe(A,"RID",v),Xe(A,"AID",c.K),La(c,A),c.u&&c.o&&Ma(A,c.u,c.o),v=new $n(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=zu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),jo(c.h,v),mi(v,A,y)}function La(c,y){c.H&&De(c.H,function(v,A){Xe(y,A,v)}),c.l&&De({},function(v,A){Xe(y,A,v)})}function zu(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var j=c.i;let Ce=-1;for(;;){const gt=["count="+v];Ce==-1?v>0?(Ce=j[0].g,gt.push("ofs="+Ce)):Ce=0:gt.push("ofs="+Ce);let Ke=!0;for(let lt=0;lt<v;lt++){var G=j[lt].g;const kn=j[lt].map;if(G-=Ce,G<0)Ce=Math.max(0,j[lt].g-100),Ke=!1;else try{G="req"+G+"_"||"";try{var ae=kn instanceof Map?kn:Object.entries(kn);for(const[Ri,ti]of ae){let ni=ti;m(ti)&&(ni=Sr(ti)),gt.push(G+Ri+"="+encodeURIComponent(ni))}}catch(Ri){throw gt.push(G+"type="+encodeURIComponent("_badmap")),Ri}}catch{A&&A(kn)}}if(Ke){ae=gt.join("&");break e}}ae=void 0}return c=c.i.splice(0,v),y.G=c,ae}function ju(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Re||R(),be||(Re(),be=!0),I.add(y,c),c.A=0}}function Pa(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=fi(g(c.Da,c),Hu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=fi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Dr(this),Bu(this))};function Zo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Bu(c){c.g=new $n(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Xe(y,"RID","rpc"),Xe(y,"SID",c.M),Xe(y,"AID",c.K),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(y,"TO",c.ia),Xe(y,"TYPE","xmlhttp"),La(c,y),c.u&&c.o&&Ma(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Na(At(y)),v.u=null,v.R=!0,ps(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Dr(this),Pa(this),bt(19))};function As(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function qu(c,y){var v=null;if(c.g==y){As(c),Zo(c),c.g=null;var A=2}else if(vi(c.h,y))v=y.G,Bo(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var j=c.D;A=ms(),Ot(A,new hi(A,v)),Ai(c)}else ju(c);else if(j=y.m,j==3||j==0&&y.X>0||!(A==1&&Ss(c,y)||A==2&&Pa(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),j){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function Hu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function wi(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const j=!A;A=new En(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||zt(A,"https"),Na(A),j?Zn(A.toString(),v):Qo(A.toString(),v)}else bt(2);c.I=0,c.l&&c.l.pa(y),Fu(c),Ts(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Fu(c){if(c.I=0,c.ja=[],c.l){const y=qo(c.h);(y.length!=0||c.i.length!=0)&&(Y(c.ja,y),Y(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Gu(c,y,v){var A=v instanceof En?At(v):new En(v);if(A.g!="")y&&(A.g=y+"."+A.g),Ar(A,A.u);else{var j=f.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const G=new En(null);A&&zt(G,A),y&&(G.g=y),j&&Ar(G,j),v&&(G.h=v),A=G}return v=c.G,y=c.wa,v&&y&&Xe(A,v,y),Xe(A,"VER",c.ka),La(c,A),A}function Ku(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Ze(new bi({ab:v})):new Ze(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}r=Qu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Or(){}Or.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){Et.call(this),this.g=new Nr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!x(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Gi(this)}S(rn,Et),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){$o(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Sr(c),c=v);y.i.push(new St(y.Ya++,c)),y.I==3&&Ai(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,rn.Z.N.call(this)};function Yu(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}S(Yu,qt);function Xu(){Dn.call(this),this.status=1}S(Xu,Dn);function Gi(c){this.g=c}S(Gi,Qu),Gi.prototype.ra=function(){Ot(this.g,"a")},Gi.prototype.qa=function(c){Ot(this.g,new Yu(c))},Gi.prototype.pa=function(c){Ot(this.g,new Xu)},Gi.prototype.oa=function(){Ot(this.g,"b")},Or.prototype.createWebChannel=Or.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,Gb=function(){return new Or},Fb=function(){return ms()},Hb=pt,Km={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ca.NO_ERROR=0,Ca.TIMEOUT=8,Ca.HTTP_ERROR=6,fh=Ca,Lo.COMPLETE="complete",qb=Lo,xu.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Bl=xu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,Bb=Ze}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let xo="12.8.0";function HI(r){xo=r}const ls=new yp("@firebase/firestore");function to(){return ls.logLevel}function ce(r,...e){if(ls.logLevel<=Le.DEBUG){const n=e.map(Cp);ls.debug(`Firestore (${xo}): ${r}`,...n)}}function pr(r,...e){if(ls.logLevel<=Le.ERROR){const n=e.map(Cp);ls.error(`Firestore (${xo}): ${r}`,...n)}}function po(r,...e){if(ls.logLevel<=Le.WARN){const n=e.map(Cp);ls.warn(`Firestore (${xo}): ${r}`,...n)}}function Cp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function _e(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,Kb(r,a,n)}function Kb(r,e,n){let a=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw pr(a),new Error(a)}function Ye(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||Kb(e,o,a)}function we(r,e){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends _r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Qb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class GI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class KI{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ye(typeof a.accessToken=="string",31837,{l:a}),new Qb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class QI{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class YI{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new QI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const a=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new A0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $I(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}class Ip{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=$I(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Pe(r,e){return r<e?-1:r>e?1:0}function Qm(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const o=r.charAt(a),u=e.charAt(a);if(o!==u)return Nm(o)===Nm(u)?Pe(o,u):Nm(o)?1:-1}return Pe(r.length,e.length)}const JI=55296,ZI=57343;function Nm(r){const e=r.charCodeAt(0);return e>=JI&&e<=ZI}function go(r,e,n){return r.length===e.length&&r.every(((a,o)=>n(a,e[o])))}const w0="__name__";class Di{constructor(e,n,a){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&_e(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const a=Di.isNumericId(e),o=Di.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Di.extractNumericId(e).compare(Di.extractNumericId(n)):Qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ha.fromString(e.substring(4,e.length-2))}}class it extends Di{construct(e,n,a){return new it(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const WI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Di{construct(e,n,a){return new Xt(e,n,a)}static isValidIdentifier(e){return WI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new Xt([w0])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(it.fromString(e))}static fromName(e){return new pe(it.fromString(e).popFirst(5))}static empty(){return new pe(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new it(e.slice()))}}function Yb(r,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function e2(r,e,n,a){if(e===!0&&a===!0)throw new le(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function R0(r){if(!pe.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function x0(r){if(pe.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Xb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Xh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function yn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xh(r);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function _u(r,e){if(!Xb(r))throw new le(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const f=r[a];if(o&&typeof f!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new le(W.INVALID_ARGUMENT,n);return!0}const C0=-62135596800,I0=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*I0);return new st(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<C0)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I0}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_u(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-C0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Dt("string",st._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new st(0,0))}static max(){return new Se(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function t2(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(a===1e9?new st(n+1,0):new st(n,a));return new da(o,pe.empty(),e)}function n2(r){return new da(r.readTime,r.key,tu)}class da{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new da(Se.min(),pe.empty(),tu)}static max(){return new da(Se.max(),pe.empty(),tu)}}function i2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}const r2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Co(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==r2)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,a)=>{n(e)}))}static reject(e){return new ne(((n,a)=>{a(e)}))}static waitFor(e){return new ne(((n,a)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>a(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const a of e)n=n.next((o=>o?ne.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(e,n){return new ne(((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&a(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((a,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):a()};u()}))}}function s2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(r){return r.name==="IndexedDbTransactionError"}class $h{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$h.ce=-1;const Np=-1;function Jh(r){return r==null}function Oh(r){return r===0&&1/r==-1/0}function o2(r){return typeof r=="number"&&Number.isInteger(r)&&!Oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const $b="";function l2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=N0(e)),e=u2(r.get(n),e);return N0(e)}function u2(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case $b:n+="";break;default:n+=u}}return n}function N0(r){return r+$b+""}function D0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ba(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Jb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new Yt(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new O0(this.data.getIterator())}getIteratorFrom(e){return new O0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class O0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new kt(Xt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class Zb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Zb("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const c2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ma(r){if(Ye(!!r,39018),typeof r=="string"){let e=0;const n=c2.exec(r);if(Ye(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function pa(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}const Wb="server_timestamp",eT="__type__",tT="__previous_value__",nT="__local_write_time__";function Dp(r){return(r?.mapValue?.fields||{})[eT]?.stringValue===Wb}function Zh(r){const e=r.mapValue.fields[tT];return Dp(e)?Zh(e):e}function nu(r){const e=ma(r.mapValue.fields[nT].timestampValue);return new st(e.seconds,e.nanos)}class h2{constructor(e,n,a,o,u,f,m,p,g,E,S){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=S}}const Mh="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||Mh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}function f2(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(r.options.projectId,e)}const iT="__type__",d2="__max__",ih={mapValue:{}},rT="__vector__",Vh="value";function ga(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dp(r)?4:p2(r)?9007199254740991:m2(r)?10:11:_e(28295,{value:r})}function zi(r,e){if(r===e)return!0;const n=ga(r);if(n!==ga(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nu(r).isEqual(nu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ma(o.timestampValue),m=ma(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return pa(o.bytesValue).isEqual(pa(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?Oh(f)===Oh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return go(r.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(D0(f)!==D0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!zi(f[p],m[p])))return!1;return!0})(r,e);default:return _e(52216,{left:r})}}function ru(r,e){return(r.values||[]).find((n=>zi(n,e)))!==void 0}function yo(r,e){if(r===e)return 0;const n=ga(r),a=ga(e);if(n!==a)return Pe(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),p=vt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return M0(r.timestampValue,e.timestampValue);case 4:return M0(nu(r),nu(e));case 5:return Qm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=pa(u),p=pa(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Pe(m[g],p[g]);if(E!==0)return E}return Pe(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Pe(vt(u.latitude),vt(f.latitude));return m!==0?m:Pe(vt(u.longitude),vt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return V0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Vh]?.arrayValue,E=p[Vh]?.arrayValue,S=Pe(g?.values?.length||0,E?.values?.length||0);return S!==0?S:V0(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===ih.mapValue&&f===ih.mapValue)return 0;if(u===ih.mapValue)return 1;if(f===ih.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const w=Qm(p[S],E[S]);if(w!==0)return w;const P=yo(m[p[S]],g[E[S]]);if(P!==0)return P}return Pe(p.length,E.length)})(r.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function M0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=ma(r),a=ma(e),o=Pe(n.seconds,a.seconds);return o!==0?o:Pe(n.nanos,a.nanos)}function V0(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=yo(n[o],a[o]);if(u)return u}return Pe(n.length,a.length)}function _o(r){return Ym(r)}function Ym(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=ma(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return pa(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Ym(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${Ym(n.fields[f])}`;return o+"}"})(r.mapValue):_e(61005,{value:r})}function dh(r){switch(ga(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(r);return e?16+dh(e):16;case 5:return 2*r.stringValue.length;case 6:return pa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+dh(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return ba(a.fields,((u,f)=>{o+=u.length+dh(f)})),o})(r.mapValue);default:throw _e(13486,{value:r})}}function k0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Xm(r){return!!r&&"integerValue"in r}function Op(r){return!!r&&"arrayValue"in r}function L0(r){return!!r&&"nullValue"in r}function P0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function mh(r){return!!r&&"mapValue"in r}function m2(r){return(r?.mapValue?.fields||{})[iT]?.stringValue===rT}function Ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ba(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Ql(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(r.arrayValue.values[n]);return e}return{...r}}function p2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===d2}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=Xt.emptyPath(),a={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=Ql(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){ba(n,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new gn(Ql(this.value))}}function aT(r){const e=[];return ba(r.fields,((n,a)=>{const o=new Xt([n]);if(mh(a)){const u=aT(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Cn(e)}class en{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Se.min(),Se.min(),Se.min(),gn.empty(),0)}static newFoundDocument(e,n,a,o){return new en(e,1,n,Se.min(),a,o,0)}static newNoDocument(e,n){return new en(e,2,n,Se.min(),Se.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Se.min(),Se.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kh{constructor(e,n){this.position=e,this.inclusive=n}}function U0(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=pe.comparator(pe.fromName(f.referenceValue),n.key):a=yo(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function z0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!zi(r.position[n],e.position[n]))return!1;return!0}class au{constructor(e,n="asc"){this.field=e,this.dir=n}}function g2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class sT{}class Nt extends sT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new _2(e,n,a):n==="array-contains"?new b2(e,a):n==="in"?new T2(e,a):n==="not-in"?new S2(e,a):n==="array-contains-any"?new A2(e,a):new Nt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new v2(e,a):new E2(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yo(n,this.value)):n!==null&&ga(this.value)===ga(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends sT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ui(e,n)}matches(e){return oT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oT(r){return r.op==="and"}function lT(r){return y2(r)&&oT(r)}function y2(r){for(const e of r.filters)if(e instanceof ui)return!1;return!0}function $m(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+_o(r.value);if(lT(r))return r.filters.map((e=>$m(e))).join(",");{const e=r.filters.map((n=>$m(n))).join(",");return`${r.op}(${e})`}}function uT(r,e){return r instanceof Nt?(function(a,o){return o instanceof Nt&&a.op===o.op&&a.field.isEqual(o.field)&&zi(a.value,o.value)})(r,e):r instanceof ui?(function(a,o){return o instanceof ui&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,f,m)=>u&&uT(f,o.filters[m])),!0):!1})(r,e):void _e(19439)}function cT(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`})(r):r instanceof ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(cT).join(" ,")+"}"})(r):"Filter"}class _2 extends Nt{constructor(e,n,a){super(e,n,a),this.key=pe.fromName(a.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class v2 extends Nt{constructor(e,n){super(e,"in",n),this.keys=hT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class E2 extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=hT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function hT(r,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class b2 extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Op(n)&&ru(n.arrayValue,this.value)}}class T2 extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class S2 extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class A2 extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>ru(this.value.arrayValue,a)))}}class w2{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function j0(r,e=null,n=[],a=[],o=null,u=null,f=null){return new w2(r,e,n,a,o,u,f)}function Mp(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>$m(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>_o(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>_o(a))).join(",")),e.Te=n}return e.Te}function Vp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!g2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!uT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!z0(r.startAt,e.startAt)&&z0(r.endAt,e.endAt)}function Jm(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class No{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function R2(r,e,n,a,o,u,f,m){return new No(r,e,n,a,o,u,f,m)}function Wh(r){return new No(r)}function B0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function x2(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function fT(r){return r.collectionGroup!==null}function Yl(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new kt(Xt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new au(u,a))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new au(Xt.keyField(),a))}return e.Ie}function ki(r){const e=we(r);return e.Ee||(e.Ee=C2(e,Yl(r))),e.Ee}function C2(r,e){if(r.limitType==="F")return j0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new au(o.field,u)}));const n=r.endAt?new kh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new kh(r.startAt.position,r.startAt.inclusive):null;return j0(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Zm(r,e){const n=r.filters.concat([e]);return new No(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function I2(r,e){const n=r.explicitOrderBy.concat([e]);return new No(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Wm(r,e,n){return new No(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function ef(r,e){return Vp(ki(r),ki(e))&&r.limitType===e.limitType}function dT(r){return`${Mp(ki(r))}|lt:${r.limitType}`}function no(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>cT(o))).join(", ")}]`),Jh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>_o(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>_o(o))).join(",")),`Target(${a})`})(ki(r))}; limitType=${r.limitType})`}function tf(r,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):pe.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,o){for(const u of Yl(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(f,m,p){const g=U0(f,m,p);return f.inclusive?g<=0:g<0})(a.startAt,Yl(a),o)||a.endAt&&!(function(f,m,p){const g=U0(f,m,p);return f.inclusive?g>=0:g>0})(a.endAt,Yl(a),o))})(r,e)}function N2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function mT(r){return(e,n)=>{let a=!1;for(const o of Yl(r)){const u=D2(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function D2(r,e,n){const a=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?yo(p,g):_e(42886)})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return _e(19790,{direction:r.dir})}}class fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ba(this.inner,((n,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return Jb(this.inner)}size(){return this.innerSize}}const O2=new ht(pe.comparator);function gr(){return O2}const pT=new ht(pe.comparator);function ql(...r){let e=pT;for(const n of r)e=e.insert(n.key,n);return e}function gT(r){let e=pT;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function ts(){return Xl()}function yT(){return Xl()}function Xl(){return new fs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const M2=new ht(pe.comparator),V2=new kt(pe.comparator);function Ue(...r){let e=V2;for(const n of r)e=e.add(n);return e}const k2=new kt(Pe);function L2(){return k2}function kp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function _T(r){return{integerValue:""+r}}function P2(r,e){return o2(e)?_T(e):kp(r,e)}class nf{constructor(){this._=void 0}}function U2(r,e,n){return r instanceof su?(function(o,u){const f={fields:{[eT]:{stringValue:Wb},[nT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Dp(u)&&(u=Zh(u)),u&&(f.fields[tT]=u),{mapValue:f}})(n,e):r instanceof ou?ET(r,e):r instanceof lu?bT(r,e):(function(o,u){const f=vT(o,u),m=q0(f)+q0(o.Ae);return Xm(f)&&Xm(o.Ae)?_T(m):kp(o.serializer,m)})(r,e)}function z2(r,e,n){return r instanceof ou?ET(r,e):r instanceof lu?bT(r,e):n}function vT(r,e){return r instanceof Lh?(function(a){return Xm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class su extends nf{}class ou extends nf{constructor(e){super(),this.elements=e}}function ET(r,e){const n=TT(e);for(const a of r.elements)n.some((o=>zi(o,a)))||n.push(a);return{arrayValue:{values:n}}}class lu extends nf{constructor(e){super(),this.elements=e}}function bT(r,e){let n=TT(e);for(const a of r.elements)n=n.filter((o=>!zi(o,a)));return{arrayValue:{values:n}}}class Lh extends nf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function q0(r){return vt(r.integerValue||r.doubleValue)}function TT(r){return Op(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class j2{constructor(e,n){this.field=e,this.transform=n}}function B2(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof ou&&o instanceof ou||a instanceof lu&&o instanceof lu?go(a.elements,o.elements,zi):a instanceof Lh&&o instanceof Lh?zi(a.Ae,o.Ae):a instanceof su&&o instanceof su})(r.transform,e.transform)}class q2{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class rf{}function ST(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Lp(r.key,Kn.none()):new vu(r.key,r.data,Kn.none());{const n=r.data,a=gn.empty();let o=new kt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new Ta(r.key,a,new Cn(o.toArray()),Kn.none())}}function H2(r,e,n){r instanceof vu?(function(o,u,f){const m=o.value.clone(),p=F0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Ta?(function(o,u,f){if(!ph(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=F0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(AT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function $l(r,e,n,a){return r instanceof vu?(function(u,f,m,p){if(!ph(u.precondition,f))return m;const g=u.value.clone(),E=G0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,a):r instanceof Ta?(function(u,f,m,p){if(!ph(u.precondition,f))return m;const g=G0(u.fieldTransforms,p,f),E=f.data;return E.setAll(AT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,a):(function(u,f,m){return ph(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function F2(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=vT(a.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(a.field,u))}return n||null}function H0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&go(a,o,((u,f)=>B2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class vu extends rf{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ta extends rf{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function AT(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function F0(r,e,n){const a=new Map;Ye(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,z2(f,m,n[o]))}return a}function G0(r,e,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,U2(u,f,e))}return a}class Lp extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G2 extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class K2{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&H2(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=$l(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=$l(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=yT();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=ST(f,m);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((n,a)=>H0(n,a)))&&go(this.baseMutations,e.baseMutations,((n,a)=>H0(n,a)))}}class Pp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Ye(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return M2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new Pp(e,n,a,o)}}class Q2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Y2{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,Be;function X2(r){switch(r){case W.OK:return _e(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function wT(r){if(r===void 0)return pr("GRPC error has no .code"),W.UNKNOWN;switch(r){case It.OK:return W.OK;case It.CANCELLED:return W.CANCELLED;case It.UNKNOWN:return W.UNKNOWN;case It.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case It.INTERNAL:return W.INTERNAL;case It.UNAVAILABLE:return W.UNAVAILABLE;case It.UNAUTHENTICATED:return W.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case It.NOT_FOUND:return W.NOT_FOUND;case It.ALREADY_EXISTS:return W.ALREADY_EXISTS;case It.PERMISSION_DENIED:return W.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case It.ABORTED:return W.ABORTED;case It.OUT_OF_RANGE:return W.OUT_OF_RANGE;case It.UNIMPLEMENTED:return W.UNIMPLEMENTED;case It.DATA_LOSS:return W.DATA_LOSS;default:return _e(39323,{code:r})}}(Be=It||(It={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function $2(){return new TextEncoder}const J2=new ha([4294967295,4294967295],0);function K0(r){const e=$2().encode(r),n=new jb;return n.update(e),new Uint8Array(n.digest())}function Q0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ha([n,a],0),new ha([o,u],0)]}class Up{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(a<0)throw new Hl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ha.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(ha.fromNumber(a)));return o.compare(J2)===1&&(o=new ha([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=K0(e),[a,o]=Q0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);if(!this.we(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Up(u,o,n);return a.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=K0(e),[a,o]=Q0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class af{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new af(Se.min(),o,new ht(Pe),gr(),Ue())}}class Eu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Eu(a,n,Ue(),Ue(),Ue())}}class gh{constructor(e,n,a,o){this.Se=e,this.removedTargetIds=n,this.key=a,this.De=o}}class RT{constructor(e,n){this.targetId=e,this.Ce=n}}class xT{constructor(e,n,a=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class Y0{constructor(){this.ve=0,this.Fe=X0(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),a=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:_e(38017,{changeType:u})}})),new Eu(this.Me,this.xe,e,n,a)}Ke(){this.Oe=!1,this.Fe=X0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Z2{constructor(e){this.Ge=e,this.ze=new Map,this.je=gr(),this.He=rh(),this.Je=rh(),this.Ze=new ht(Pe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Jm(u))if(a===0){const f=new pe(u.path);this.et(n,f,en.newNoDocument(f,Se.min()))}else Ye(a===1,20013,{expectedCount:a});else{const f=this._t(n);if(f!==a){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=pa(a).toUint8Array()}catch(p){if(p instanceof Zb)return po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Up(f,o,u)}catch(p){return po(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Jm(m.target)){const p=new pe(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,en.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let a=Ue();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new af(e,n,this.Ze,this.je,a);return this.je=gr(),this.He=rh(),this.Je=rh(),this.Ze=new ht(Pe),o}Ye(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,a),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Y0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new kt(Pe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new kt(Pe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Y0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rh(){return new ht(pe.comparator)}function X0(){return new ht(pe.comparator)}const W2={asc:"ASCENDING",desc:"DESCENDING"},eN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tN={and:"AND",or:"OR"};class nN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ep(r,e){return r.useProto3Json||Jh(e)?e:{value:e}}function Ph(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function iN(r,e){return Ph(r,e.toTimestamp())}function Li(r){return Ye(!!r,49232),Se.fromTimestamp((function(n){const a=ma(n);return new st(a.seconds,a.nanos)})(r))}function zp(r,e){return tp(r,e).canonicalString()}function tp(r,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function IT(r){const e=it.fromString(r);return Ye(VT(e),10190,{key:e.toString()}),e}function np(r,e){return zp(r.databaseId,e.path)}function Dm(r,e){const n=IT(e);if(n.get(1)!==r.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(DT(n))}function NT(r,e){return zp(r.databaseId,e)}function rN(r){const e=IT(r);return e.length===4?it.emptyPath():DT(e)}function ip(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function DT(r){return Ye(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function $0(r,e,n){return{name:np(r,e),fields:n.value.mapValue.fields}}function aN(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_e(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Ye(E===void 0||typeof E=="string",58123),$t.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$t.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?W.UNKNOWN:wT(g.code);return new le(E,g.message||"")})(f);n=new xT(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Dm(r,a.document.name),u=Li(a.document.updateTime),f=a.document.createTime?Li(a.document.createTime):Se.min(),m=new gn({mapValue:{fields:a.document.fields}}),p=en.newFoundDocument(o,u,f,m),g=a.targetIds||[],E=a.removedTargetIds||[];n=new gh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Dm(r,a.document),u=a.readTime?Li(a.readTime):Se.min(),f=en.newNoDocument(o,u),m=a.removedTargetIds||[];n=new gh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Dm(r,a.document),u=a.removedTargetIds||[];n=new gh([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new Y2(o,u),m=a.targetId;n=new RT(m,f)}}return n}function sN(r,e){let n;if(e instanceof vu)n={update:$0(r,e.key,e.value)};else if(e instanceof Lp)n={delete:np(r,e.key)};else if(e instanceof Ta)n={update:$0(r,e.key,e.data),updateMask:pN(e.fieldMask)};else{if(!(e instanceof G2))return _e(16599,{dt:e.type});n={verify:np(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,f){const m=f.transform;if(m instanceof su)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Lh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:f.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:iN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(r,e.precondition)),n}function oN(r,e){return r&&r.length>0?(Ye(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Li(o.updateTime):Li(u);return f.isEqual(Se.min())&&(f=Li(u)),new q2(f,o.transformResults||[])})(n,e)))):[]}function lN(r,e){return{documents:[NT(r,e.path)]}}function uN(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=NT(r,o);const u=(function(g){if(g.length!==0)return MT(ui.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:io(w.field),direction:fN(w.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ep(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function cN(r){let e=rN(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Ye(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const w=OT(S);return w instanceof ui&&lT(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((w=>(function(Y){return new au(ro(Y.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let w;return w=typeof S=="object"?S.value:S,Jh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(S){const w=!!S.before,P=S.values||[];return new kh(P,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(S){const w=!S.before,P=S.values||[];return new kh(P,w)})(n.endAt)),R2(e,o,f,u,m,"F",p,g)}function hN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=ro(n.unaryFilter.field);return Nt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ro(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ui.create(n.compositeFilter.filters.map((a=>OT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(r):_e(30097,{filter:r})}function fN(r){return W2[r]}function dN(r){return eN[r]}function mN(r){return tN[r]}function io(r){return{fieldPath:r.canonicalString()}}function ro(r){return Xt.fromServerFormat(r.fieldPath)}function MT(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(P0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(L0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(P0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(L0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:dN(n.op),value:n.value}}})(r):r instanceof ui?(function(n){const a=n.getFilters().map((o=>MT(o)));return a.length===1?a[0]:{compositeFilter:{op:mN(n.op),filters:a}}})(r):_e(54877,{filter:r})}function pN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function VT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function kT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class oa{constructor(e,n,a,o,u=Se.min(),f=Se.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gN{constructor(e){this.yt=e}}function yN(r){const e=cN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Wm(e,e.limit,"L"):e}class _N{constructor(){this.Sn=new vN}addToCollectionParentIndex(e,n){return this.Sn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(da.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(da.min())}updateCollectionGroup(e,n,a){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class vN{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new kt(it.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new kt(it.comparator)).toArray()}}const J0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LT=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(LT,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class vo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new vo(0)}static ar(){return new vo(-1)}}const Z0="LruGarbageCollector",EN=1048576;function W0([r,e],[n,a]){const o=Pe(r,n);return o===0?Pe(e,a):o}class bN{constructor(e){this.Pr=e,this.buffer=new kt(W0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();W0(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TN{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(Z0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?ce(Z0,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Ar(3e5)}))}}class SN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve($h.ce);const a=new bN(n);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.Vr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(J0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J0):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let a,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,m=Date.now(),this.removeTargets(e,a,n)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(g=Date.now(),to()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function AN(r,e){return new SN(r,e)}class wN{constructor(){this.changes=new fs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ne.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class xN{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&$l(a.mutation,o,Cn.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Ue()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Ue()){const o=ts();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((u=>{let f=ql();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const a=ts();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Ue())))}populateOverlays(e,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,a,o){let u=gr();const f=Xl(),m=(function(){return Xl()})();return n.forEach(((p,g)=>{const E=a.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ta)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),$l(E.mutation,g,E.mutation.getFieldMask(),st.now())):f.set(g.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new RN(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=Xl();let o=new ht(((f,m)=>f-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=a.get(p)||Cn.empty();E=m.applyToLocalView(g,E),a.set(p,E);const S=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=yT();E.forEach((w=>{if(!u.has(w)){const P=ST(n.get(w),a.get(w));P!==null&&S.set(w,P),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ne.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return x2(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ne.resolve(ts());let m=tu,p=u;return f.next((g=>ne.forEach(g,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ue()))).next((E=>({batchId:m,changes:gT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((a=>{let o=ql();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(S,w){return new No(w,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((E=>{E.forEach(((S,w)=>{f=f.insert(S,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,en.newInvalidDocument(E)))}));let m=ql();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&$l(E.mutation,g,Cn.empty(),st.now()),tf(n,g)&&(m=m.insert(p,g))})),m}))}}class CN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ne.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Li(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:yN(o.bundledQuery),readTime:Li(o.readTime)}})(n)),ne.resolve()}}class IN{constructor(){this.overlays=new ht(pe.comparator),this.Lr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const a=ts();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,u)=>{this.bt(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(a)),ne.resolve()}getOverlaysForCollection(e,n,a){const o=ts(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new ht(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let E=u.get(g.largestBatchId);E===null&&(E=ts(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ts(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ne.resolve(m)}bt(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new Q2(n,a));let u=this.Lr.get(n);u===void 0&&(u=Ue(),this.Lr.set(n,u)),this.Lr.set(n,u.add(a.key))}}class NN{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class jp{constructor(){this.kr=new kt(Bt.Kr),this.qr=new kt(Bt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const a=new Bt(e,n);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Wr(new Bt(e,n))}Qr(e,n){e.forEach((a=>this.removeReference(a,n)))}Gr(e){const n=new pe(new it([])),a=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.qr.forEachInRange([a,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new pe(new it([])),a=new Bt(n,e),o=new Bt(n,e+1);let u=Ue();return this.qr.forEachInRange([a,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Bt(e,0),a=this.kr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Bt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return pe.comparator(e.key,n.key)||Pe(e.Hr,n.Hr)}static Ur(e,n){return Pe(e.Hr,n.Hr)||pe.comparator(e.key,n.key)}}class DN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new kt(Bt.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new K2(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Xr(a),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Np:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([a,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new kt(Pe);return n.forEach((o=>{const u=new Bt(o,0),f=new Bt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{a=a.add(m.Hr)}))})),ne.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;pe.isDocumentKey(u)||(u=u.child(""));const f=new Bt(new pe(u),0);let m=new kt(Pe);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),f),ne.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ye(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return ne.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,n){const a=new Bt(n,0),o=this.Jr.firstAfterOrEqual(a);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class ON{constructor(e){this.ti=e,this.docs=(function(){return new ht(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ne.resolve(a?a.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let a=gr();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),ne.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=gr();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||i2(n2(E),a)<=0||(o.has(E.key)||tf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,a,o){_e(9500)}ni(e,n){return ne.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new MN(this)}getSize(e){return ne.resolve(this.size)}}class MN extends wN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),ne.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class VN{constructor(e){this.persistence=e,this.ri=new fs((n=>Mp(n)),Vp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new jp,this.targetCount=0,this.oi=vo._r()}forEachTarget(e,n){return this.ri.forEach(((a,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ii&&(this.ii=n),ne.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.lr(n),ne.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const a=this.ri.get(n)||null;return ne.resolve(a)}addMatchingKeys(e,n,a){return this.si.$r(n,a),ne.resolve()}removeMatchingKeys(e,n,a){this.si.Qr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const a=this.si.jr(n);return ne.resolve(a)}containsKey(e,n){return ne.resolve(this.si.containsKey(n))}}class PT{constructor(e,n){this._i={},this.overlays={},this.ai=new $h(0),this.ui=!1,this.ui=!0,this.ci=new NN,this.referenceDelegate=e(this),this.li=new VN(this),this.indexManager=new _N,this.remoteDocumentCache=(function(o){return new ON(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new gN(n),this.Pi=new CN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this._i[e.toKey()];return a||(a=new DN(n,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,a){ce("MemoryPersistence","Starting transaction:",e);const o=new kN(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ne.or(Object.values(this._i).map((a=>()=>a.containsKey(e,n))))}}class kN extends a2{constructor(e){super(),this.currentSequenceNumber=e}}class Bp{constructor(e){this.persistence=e,this.Ri=new jp,this.Ai=null}static Vi(e){return new Bp(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.di.delete(a.toString()),ne.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.di.add(a.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(a=>{const o=pe.fromPath(a);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Uh{constructor(e,n){this.persistence=e,this.fi=new fs((a=>l2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=AN(this,n)}static Vi(e,n){return new Uh(e,n)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}pr(e){let n=0;return this.mr(e,(a=>{n++})).next((()=>n))}mr(e,n){return ne.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(a++,u.removeEntry(f,Se.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dh(e.data.value)),n}wr(e,n,a){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ne.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class qp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Ts=a,this.Is=o}static Es(e,n){let a=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new qp(e,n.fromCache,a,o)}}class LN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class PN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return rR()?8:s2(tn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,a).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new LN;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,a,o){return a.documentReadCount<this.Vs?(to()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(to()<=Le.DEBUG&&ce("QueryEngine","Query:",no(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(to()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(n))):ne.resolve())}gs(e,n){if(B0(n))return ne.resolve(null);let a=ki(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Wm(n,null,"F"),a=ki(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const f=Ue(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.bs(n,m);return this.Ss(n,g,f,p.readTime)?this.gs(e,Wm(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,a,o){return B0(n)||o.isEqual(Se.min())?ne.resolve(null):this.fs.getDocuments(e,a).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,a,o)?ne.resolve(null):(to()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(n)),this.Ds(e,f,n,t2(o,tu)).next((m=>m)))}))}bs(e,n){let a=new kt(mT(e));return n.forEach(((o,u)=>{tf(e,u)&&(a=a.add(u))})),a}Ss(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,a){return to()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",no(n)),this.fs.getDocumentsMatchingQuery(e,n,da.min(),a)}Ds(e,n,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Hp="LocalStore",UN=3e8;class zN{constructor(e,n,a,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ht(Pe),this.Fs=new fs((u=>Mp(u)),Vp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function jN(r,e,n,a){return new zN(r,e,n,a)}async function UT(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const f=[],m=[];let p=Ue();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next((g=>({Ns:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function BN(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const S=g.batch,w=S.keys();let P=ne.resolve();return w.forEach((Y=>{P=P.next((()=>E.getEntry(p,Y))).next((X=>{const U=g.docVersions.get(Y);Ye(U!==null,48541),X.version.compareTo(U)<0&&(S.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),E.addEntry(X)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(p,S)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function zT(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function qN(r,e){const n=we(r),a=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,S)=>{const w=o.get(S);if(!w)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,S))));let P=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken($t.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,a)),o=o.insert(S,P),(function(X,U,Q){return X.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=UN?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(w,P,E)&&m.push(n.li.updateTargetData(u,P))}));let p=gr(),g=Ue();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(HN(u,f,e.documentUpdates).next((E=>{p=E.Bs,g=E.Ls}))),!a.isEqual(Se.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(E)}return ne.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.vs=o,u)))}function HN(r,e,n){let a=Ue(),o=Ue();return n.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let f=gr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(Hp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:f,Ls:o}}))}function FN(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Np),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function GN(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.li.getTargetData(a,e).next((u=>u?(o=u,ne.resolve(o)):n.li.allocateTargetId(a).next((f=>(o=new oa(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(a.targetId,a),n.Fs.set(e,a.targetId)),a}))}async function rp(r,e,n){const a=we(r),o=a.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Io(f))throw f;ce(Hp,`Failed to update sequence numbers for target ${e}: ${f}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function eE(r,e,n){const a=we(r);let o=Se.min(),u=Ue();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const S=we(p),w=S.Fs.get(E);return w!==void 0?ne.resolve(S.vs.get(w)):S.li.getTargetData(g,E)})(a,f,ki(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>a.Cs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Ue()))).next((m=>(KN(a,N2(e),m),{documents:m,ks:u})))))}function KN(r,e,n){let a=r.Ms.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Ms.set(e,a)}class tE{constructor(){this.activeTargetIds=L2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QN{constructor(){this.vo=new tE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,a){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new tE,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class YN{Mo(e){}shutdown(){}}const nE="ConnectivityMonitor";class iE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(nE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(nE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ah=null;function ap(){return ah===null?ah=(function(){return 268435456+Math.round(2147483648*Math.random())})():ah++,"0x"+ah.toString(16)}const Om="RestConnection",XN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class $N{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Mh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,n,a,o,u){const f=ap(),m=this.Qo(e,n.toUriEncodedString());ce(Om,`Sending RPC '${e}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),E=Ao(g);return this.zo(e,m,p,a,E).then((S=>(ce(Om,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw po(Om,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",a),S}))}jo(e,n,a,o,u,f){return this.Wo(e,n,a,o,u)}Go(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const a=XN[e];let o=`${this.qo}/v1/${n}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class JN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Zt="WebChannelConnection",Ul=(r,e,n)=>{r.listen(e,(a=>{try{n(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class uo extends $N{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!uo.c_){const e=Fb();Ul(e,Hb.STAT_EVENT,(n=>{n.stat===Km.PROXY?ce(Zt,"STAT_EVENT: detected buffering proxy"):n.stat===Km.NOPROXY&&ce(Zt,"STAT_EVENT: detected no buffering proxy")})),uo.c_=!0}}zo(e,n,a,o,u){const f=ap();return new Promise(((m,p)=>{const g=new Bb;g.setWithCredentials(!0),g.listenOnce(qb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case fh.NO_ERROR:const S=g.getResponseJson();ce(Zt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case fh.TIMEOUT:ce(Zt,`RPC '${e}' ${f} timed out`),p(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const w=g.getStatus();if(ce(Zt,`RPC '${e}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const Y=P?.error;if(Y&&Y.status&&Y.message){const X=(function(Q){const ie=Q.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ie)>=0?ie:W.UNKNOWN})(Y.status);p(new le(X,Y.message))}else p(new le(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(W.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(Zt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ce(Zt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,a,15)}))}T_(e,n,a){const o=ap(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,a),m.encodeInitMessageHeaders=!0;const g=u.join("");ce(Zt,`Creating RPC '${e}' stream ${o}: ${g}`,m);const E=f.createWebChannel(g,m);this.I_(E);let S=!1,w=!1;const P=new JN({Ho:Y=>{w?ce(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(S||(ce(Zt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),ce(Zt,`RPC '${e}' stream ${o} sending:`,Y),E.send(Y))},Jo:()=>E.close()});return Ul(E,Bl.EventType.OPEN,(()=>{w||(ce(Zt,`RPC '${e}' stream ${o} transport opened.`),P.i_())})),Ul(E,Bl.EventType.CLOSE,(()=>{w||(w=!0,ce(Zt,`RPC '${e}' stream ${o} transport closed`),P.o_(),this.E_(E))})),Ul(E,Bl.EventType.ERROR,(Y=>{w||(w=!0,po(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),P.o_(new le(W.UNAVAILABLE,"The operation could not be completed")))})),Ul(E,Bl.EventType.MESSAGE,(Y=>{if(!w){const X=Y.data[0];Ye(!!X,16349);const U=X,Q=U?.error||U[0]?.error;if(Q){ce(Zt,`RPC '${e}' stream ${o} received error:`,Q);const ie=Q.status;let re=(function(be){const I=It[be];if(I!==void 0)return wT(I)})(ie),Ee=Q.message;re===void 0&&(re=W.INTERNAL,Ee="Unknown error status: "+ie+" with message "+Q.message),w=!0,P.o_(new le(re,Ee)),E.close()}else ce(Zt,`RPC '${e}' stream ${o} received:`,X),P.__(X)}})),uo.u_(),setTimeout((()=>{P.s_()}),0),P}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,a){super.Go(e,n,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Gb()}}function ZN(r){return new uo(r)}function Mm(){return typeof document<"u"?document:null}function sf(r){return new nN(r,!0)}uo.c_=!1;class jT{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=a,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const rE="PersistentStream";class BT{constructor(e,n,a,o,u,f,m,p){this.Ci=e,this.b_=a,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new le(W.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(rE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ce(rE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WN extends BT{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=aN(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Li(f.readTime):Se.min()})(e);return this.listener.J_(n,a)}Z_(e){const n={};n.database=ip(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Jm(p)?{documents:lN(u,p)}:{query:uN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=CT(u,f.resumeToken);const g=ep(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Ph(u,f.snapshotVersion.toTimestamp());const g=ep(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const a=hN(this.serializer,e);a&&(n.labels=a),this.K_(n)}X_(e){const n={};n.database=ip(this.serializer),n.removeTarget=e,this.K_(n)}}class eD extends BT{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=oN(e.writeResults,e.commitTime),a=Li(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=ip(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>sN(this.serializer,a)))};this.K_(n)}}class tD{}class nD extends tD{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,tp(n,a),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(W.UNKNOWN,u.toString())}))}jo(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,tp(n,a),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function iD(r,e,n,a){return new nD(r,e,n,a)}class rD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const us="RemoteStore";class aD{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{a.enqueueAndForget((async()=>{ds(this)&&(ce(us,"Restarting streams for network reachability change."),await(async function(p){const g=we(p);g.Ea.add(4),await bu(g),g.Va.set("Unknown"),g.Ea.delete(4),await of(g)})(this))}))})),this.Va=new rD(a,o)}}async function of(r){if(ds(r))for(const e of r.Ra)await e(!0)}async function bu(r){for(const e of r.Ra)await e(!1)}function qT(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Qp(n)?Kp(n):Do(n).O_()&&Gp(n,e))}function Fp(r,e){const n=we(r),a=Do(n);n.Ia.delete(e),a.O_()&&HT(n,e),n.Ia.size===0&&(a.O_()?a.L_():ds(n)&&n.Va.set("Unknown"))}function Gp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(r).Z_(e)}function HT(r,e){r.da.$e(e),Do(r).X_(e)}function Kp(r){r.da=new Z2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Do(r).start(),r.Va.ua()}function Qp(r){return ds(r)&&!Do(r).x_()&&r.Ia.size>0}function ds(r){return we(r).Ea.size===0}function FT(r){r.da=void 0}async function sD(r){r.Va.set("Online")}async function oD(r){r.Ia.forEach(((e,n)=>{Gp(r,e)}))}async function lD(r,e){FT(r),Qp(r)?(r.Va.ha(e),Kp(r)):r.Va.set("Unknown")}async function uD(r,e,n){if(r.Va.set("Online"),e instanceof xT&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(a){ce(us,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await zh(r,a)}else if(e instanceof gh?r.da.Xe(e):e instanceof RT?r.da.st(e):r.da.tt(e),!n.isEqual(Se.min()))try{const a=await zT(r.localStore);n.compareTo(a)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken($t.EMPTY_BYTE_STRING,E.snapshotVersion)),HT(u,p);const S=new oa(E.target,p,g,E.sequenceNumber);Gp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(a){ce(us,"Failed to raise snapshot:",a),await zh(r,a)}}async function zh(r,e,n){if(!Io(e))throw e;r.Ea.add(1),await bu(r),r.Va.set("Offline"),n||(n=()=>zT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(us,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await of(r)}))}function GT(r,e){return e().catch((n=>zh(r,n,e)))}async function lf(r){const e=we(r),n=ya(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Np;for(;cD(e);)try{const o=await FN(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,hD(e,o)}catch(o){await zh(e,o)}KT(e)&&QT(e)}function cD(r){return ds(r)&&r.Ta.length<10}function hD(r,e){r.Ta.push(e);const n=ya(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function KT(r){return ds(r)&&!ya(r).x_()&&r.Ta.length>0}function QT(r){ya(r).start()}async function fD(r){ya(r).ra()}async function dD(r){const e=ya(r);for(const n of r.Ta)e.ea(n.mutations)}async function mD(r,e,n){const a=r.Ta.shift(),o=Pp.from(a,e,n);await GT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await lf(r)}async function pD(r,e){e&&ya(r).Y_&&await(async function(a,o){if((function(f){return X2(f)&&f!==W.ABORTED})(o.code)){const u=a.Ta.shift();ya(a).B_(),await GT(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await lf(a)}})(r,e),KT(r)&&QT(r)}async function aE(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),ce(us,"RemoteStore received new credentials");const a=ds(n);n.Ea.add(3),await bu(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await of(n)}async function gD(r,e){const n=we(r);e?(n.Ea.delete(2),await of(n)):e||(n.Ea.add(2),await bu(n),n.Va.set("Unknown"))}function Do(r){return r.ma||(r.ma=(function(n,a,o){const u=we(n);return u.sa(),new WN(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:sD.bind(null,r),Yo:oD.bind(null,r),t_:lD.bind(null,r),J_:uD.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Qp(r)?Kp(r):r.Va.set("Unknown")):(await r.ma.stop(),FT(r))}))),r.ma}function ya(r){return r.fa||(r.fa=(function(n,a,o){const u=we(n);return u.sa(),new eD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:fD.bind(null,r),t_:pD.bind(null,r),ta:dD.bind(null,r),na:mD.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await lf(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(us,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Yp{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new Yp(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xp(r,e){if(pr("AsyncQueue",`${e}: ${r}`),Io(r))return new le(W.UNAVAILABLE,`${e}: ${r}`);throw r}class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||pe.comparator(n.key,a.key):(n,a)=>pe.comparator(n.key,a.key),this.keyedMap=ql(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new co;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class sE{constructor(){this.ga=new ht(pe.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class Eo{constructor(e,n,a,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Eo(e,n,co.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}class yD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class _D{constructor(){this.queries=oE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=we(n),u=o.queries;o.queries=oE(),u.forEach(((f,m)=>{for(const p of m.ba)p.onError(a)}))})(this,new le(W.ABORTED,"Firestore shutting down"))}}function oE(){return new fs((r=>dT(r)),ef)}async function $p(r,e){const n=we(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(a=2):(u=new yD,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Xp(f,`Initialization of query '${no(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Zp(n)}async function Jp(r,e){const n=we(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function vD(r,e){const n=we(r);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(a=!0);f.wa=o}}a&&Zp(n)}function ED(r,e,n){const a=we(r),o=a.queries.get(e);if(o)for(const u of o.ba)u.onError(n);a.queries.delete(e)}function Zp(r){r.Ca.forEach((e=>{e.next()}))}var sp,lE;(lE=sp||(sp={})).Ma="default",lE.Cache="cache";class Wp{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Eo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sp.Cache}}class YT{constructor(e){this.key=e}}class XT{constructor(e){this.key=e}}class bD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=mT(e),this.tu=new co(this.eu)}get nu(){return this.Za}ru(e,n){const a=n?n.iu:new sE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const w=o.get(E),P=tf(this.query,S)?S:null,Y=!!w&&this.mutatedKeys.has(w.key),X=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let U=!1;w&&P?w.data.isEqual(P.data)?Y!==X&&(a.track({type:3,doc:P}),U=!0):this.su(w,P)||(a.track({type:2,doc:P}),U=!0,(p&&this.eu(P,p)>0||g&&this.eu(P,g)<0)&&(m=!0)):!w&&P?(a.track({type:0,doc:P}),U=!0):w&&!P&&(a.track({type:1,doc:w}),U=!0,(p||g)&&(m=!0)),U&&(P?(f=f.add(P),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{tu:f,iu:a,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(P,Y){const X=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:U})}};return X(P)-X(Y)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,f.length!==0||g?{snapshot:new Eo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const n=[];return e.forEach((a=>{this.Ya.has(a)||n.push(new XT(a))})),this.Ya.forEach((a=>{e.has(a)||n.push(new YT(a))})),n}cu(e){this.Za=e.ks,this.Ya=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const eg="SyncEngine";class TD{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class SD{constructor(e){this.key=e,this.hu=!1}}class AD{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new fs((m=>dT(m)),ef),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(pe.comparator),this.Au=new Map,this.Vu=new jp,this.du={},this.mu=new Map,this.fu=vo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wD(r,e,n=!0){const a=tS(r);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await $T(a,e,n,!0),o}async function RD(r,e){const n=tS(r);await $T(n,e,!0,!1)}async function $T(r,e,n,a){const o=await GN(r.localStore,ki(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await xD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&qT(r.remoteStore,o),m}async function xD(r,e,n,a,o){r.pu=(S,w,P)=>(async function(X,U,Q,ie){let re=U.view.ru(Q);re.Ss&&(re=await eE(X.localStore,U.query,!1).then((({documents:I})=>U.view.ru(I,re))));const Ee=ie&&ie.targetChanges.get(U.targetId),Re=ie&&ie.targetMismatches.get(U.targetId)!=null,be=U.view.applyChanges(re,X.isPrimaryClient,Ee,Re);return cE(X,U.targetId,be.au),be.snapshot})(r,S,w,P);const u=await eE(r.localStore,e,!0),f=new bD(e,u.ks),m=f.ru(u.documents),p=Eu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);cE(r,n,g.au);const E=new TD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function CD(r,e,n){const a=we(r),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((f=>!ef(f,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await rp(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Fp(a.remoteStore,o.targetId),op(a,o.targetId)})).catch(Co)):(op(a,o.targetId),await rp(a.localStore,o.targetId,!0))}async function ID(r,e){const n=we(r),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Fp(n.remoteStore,a.targetId))}async function ND(r,e,n){const a=PD(r);try{const o=await(function(f,m){const p=we(f),g=st.now(),E=m.reduce(((P,Y)=>P.add(Y.key)),Ue());let S,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let Y=gr(),X=Ue();return p.xs.getEntries(P,E).next((U=>{Y=U,Y.forEach(((Q,ie)=>{ie.isValidDocument()||(X=X.add(Q))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,Y))).next((U=>{S=U;const Q=[];for(const ie of m){const re=F2(ie,S.get(ie.key).overlayedDocument);re!=null&&Q.push(new Ta(ie.key,re,aT(re.value.mapValue),Kn.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,Q,m)})).next((U=>{w=U;const Q=U.applyToLocalDocumentSet(S,X);return p.documentOverlayCache.saveOverlays(P,U.batchId,Q)}))})).then((()=>({batchId:w.batchId,changes:gT(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.du[f.currentUser.toKey()];g||(g=new ht(Pe)),g=g.insert(m,p),f.du[f.currentUser.toKey()]=g})(a,o.batchId,n),await Tu(a,o.changes),await lf(a.remoteStore)}catch(o){const u=Xp(o,"Failed to persist write");n.reject(u)}}async function JT(r,e){const n=we(r);try{const a=await qN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ye(f.hu,14607):o.removedDocuments.size>0&&(Ye(f.hu,42227),f.hu=!1))})),await Tu(n,a,e)}catch(a){await Co(a)}}function uE(r,e,n){const a=we(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=we(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,S)=>{for(const w of S.ba)w.va(m)&&(g=!0)})),g&&Zp(p)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function DD(r,e,n){const a=we(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let f=new ht(pe.comparator);f=f.insert(u,en.newNoDocument(u,Se.min()));const m=Ue().add(u),p=new af(Se.min(),new Map,new ht(Pe),f,m);await JT(a,p),a.Ru=a.Ru.remove(u),a.Au.delete(e),tg(a)}else await rp(a.localStore,e,!1).then((()=>op(a,e,n))).catch(Co)}async function OD(r,e){const n=we(r),a=e.batch.batchId;try{const o=await BN(n.localStore,e);WT(n,a,null),ZT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Tu(n,o)}catch(o){await Co(o)}}async function MD(r,e,n){const a=we(r);try{const o=await(function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((S=>(Ye(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(a.localStore,e);WT(a,e,n),ZT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Tu(a,o)}catch(o){await Co(o)}}function ZT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function WT(r,e,n){const a=we(r);let o=a.du[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function op(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((a=>{r.Vu.containsKey(a)||eS(r,a)}))}function eS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Fp(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),tg(r))}function cE(r,e,n){for(const a of n)a instanceof YT?(r.Vu.addReference(a.key,e),VD(r,a)):a instanceof XT?(ce(eg,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,e),r.Vu.containsKey(a.key)||eS(r,a.key)):_e(19791,{wu:a})}function VD(r,e){const n=e.key,a=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(a)||(ce(eg,"New document in limbo: "+n),r.Eu.add(a),tg(r))}function tg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(it.fromString(e)),a=r.fu.next();r.Au.set(a,new SD(n)),r.Ru=r.Ru.insert(n,a),qT(r.remoteStore,new oa(ki(Wh(n.path)),a,"TargetPurposeLimboResolution",$h.ce))}}async function Tu(r,e,n){const a=we(r),o=[],u=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{f.push(a.pu(p,e,n).then((g=>{if((g||n)&&a.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=qp.Es(p.targetId,g);u.push(E)}})))})),await Promise.all(f),a.Pu.J_(o),await(async function(p,g){const E=we(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>ne.forEach(g,(w=>ne.forEach(w.Ts,(P=>E.persistence.referenceDelegate.addReference(S,w.targetId,P))).next((()=>ne.forEach(w.Is,(P=>E.persistence.referenceDelegate.removeReference(S,w.targetId,P)))))))))}catch(S){if(!Io(S))throw S;ce(Hp,"Failed to update sequence numbers: "+S)}for(const S of g){const w=S.targetId;if(!S.fromCache){const P=E.vs.get(w),Y=P.snapshotVersion,X=P.withLastLimboFreeSnapshotVersion(Y);E.vs=E.vs.insert(w,X)}}})(a.localStore,u))}async function kD(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){ce(eg,"User change. New user:",e.toKey());const a=await UT(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Tu(n,a.Ns)}}function LD(r,e){const n=we(r),a=n.Au.get(e);if(a&&a.hu)return Ue().add(a.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function tS(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=JT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DD.bind(null,e),e.Pu.J_=vD.bind(null,e.eventManager),e.Pu.yu=ED.bind(null,e.eventManager),e}function PD(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MD.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return jN(this.persistence,new PN,e.initialUser,this.serializer)}Cu(e){return new PT(Bp.Vi,this.serializer)}Du(e){return new QN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class UD extends jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Uh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new TN(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new PT((a=>Uh.Vi(a,n)),this.serializer)}}class lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>uE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=kD.bind(null,this.syncEngine),await gD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _D})()}createDatastore(e){const n=sf(e.databaseInfo.databaseId),a=ZN(e.databaseInfo);return iD(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,u,f,m){return new aD(a,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>uE(this.syncEngine,n,0)),(function(){return iE.v()?new iE:new YN})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const S=new AD(o,u,f,m,p,g);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=we(n);ce(us,"RemoteStore shutting down."),a.Ea.add(5),await bu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lp.provider={build:()=>new lp};class ng{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const _a="FirestoreClient";class zD{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this._databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Ip.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async f=>{ce(_a,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(ce(_a,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Xp(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Vm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(_a,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await UT(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function hE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await jD(r);ce(_a,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>aE(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>aE(e.remoteStore,o))),r._onlineComponents=e}async function jD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(_a,"Using user provided OfflineComponentProvider");try{await Vm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await Vm(r,new jh)}}else ce(_a,"Using default OfflineComponentProvider"),await Vm(r,new UD(void 0));return r._offlineComponents}async function nS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(_a,"Using user provided OnlineComponentProvider"),await hE(r,r._uninitializedComponentsProvider._online)):(ce(_a,"Using default OnlineComponentProvider"),await hE(r,new lp))),r._onlineComponents}function BD(r){return nS(r).then((e=>e.syncEngine))}async function Bh(r){const e=await nS(r),n=e.eventManager;return n.onListen=wD.bind(null,e.syncEngine),n.onUnlisten=CD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ID.bind(null,e.syncEngine),n}function qD(r,e,n,a){const o=new ng(a),u=new Wp(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>$p(await Bh(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>Jp(await Bh(r),u)))}}function HD(r,e,n={}){const a=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new ng({next:w=>{E.Nu(),f.enqueueAndForget((()=>Jp(u,S)));const P=w.docs.has(m);!P&&w.fromCache?g.reject(new le(W.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&w.fromCache&&p&&p.source==="server"?g.reject(new le(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),S=new Wp(Wh(m.path),E,{includeMetadataChanges:!0,Ka:!0});return $p(u,S)})(await Bh(r),r.asyncQueue,e,n,a))),a.promise}function FD(r,e,n={}){const a=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new ng({next:w=>{E.Nu(),f.enqueueAndForget((()=>Jp(u,S))),w.fromCache&&p.source==="server"?g.reject(new le(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),S=new Wp(m,E,{includeMetadataChanges:!0,Ka:!0});return $p(u,S)})(await Bh(r),r.asyncQueue,e,n,a))),a.promise}function GD(r,e){const n=new hr;return r.asyncQueue.enqueueAndForget((async()=>ND(await BD(r),e,n))),n.promise}function iS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const KD="ComponentProvider",fE=new Map;function QD(r,e,n,a,o){return new h2(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,iS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const rS="firestore.googleapis.com",dE=!0;class mE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rS,this.ssl=dE}else this.host=e.host,this.ssl=e.ssl??dE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EN)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iS(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new FI;switch(a.type){case"firstParty":return new YI(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=fE.get(n);a&&(ce(KD,"Removing Datastore"),fE.delete(n),a.terminate())})(this),Promise.resolve()}}function YD(r,e,n,a={}){r=yn(r,uf);const o=Ao(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(JE(`https://${m}`),ZE("Firestore",!0)),u.host!==rS&&u.host!==m&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:a};if(!rs(p,f)&&(r._setSettings(p),a.mockUserToken)){let g,E;if(typeof a.mockUserToken=="string")g=a.mockUserToken,E=Wt.MOCK_USER;else{g=Xw(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(S)}r._authCredentials=new GI(new Qb(g,E))}}class Sa{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Sa(this.firestore,e,this._query)}}class mt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(_u(n,mt._jsonSchema))return new mt(e,a||null,new pe(it.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Dt("string",mt._jsonSchemaVersion),referencePath:Dt("string")};class fa extends Sa{constructor(e,n,a){super(e,n,Wh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new pe(e))}withConverter(e){return new fa(this.firestore,e,this._path)}}function Oi(r,e,...n){if(r=Lt(r),Yb("collection","path",e),r instanceof uf){const a=it.fromString(e,...n);return x0(a),new fa(r,null,a)}{if(!(r instanceof mt||r instanceof fa))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(it.fromString(e,...n));return x0(a),new fa(r.firestore,null,a)}}function Pi(r,e,...n){if(r=Lt(r),arguments.length===1&&(e=Ip.newId()),Yb("doc","path",e),r instanceof uf){const a=it.fromString(e,...n);return R0(a),new mt(r,null,new pe(a))}{if(!(r instanceof mt||r instanceof fa))throw new le(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(it.fromString(e,...n));return R0(a),new mt(r.firestore,r instanceof fa?r.converter:null,new pe(a))}}const pE="AsyncQueue";class gE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jT(this,"async_queue_retry"),this._c=()=>{const a=Mm();a&&ce(pE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;ce(pE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,pr("INTERNAL UNHANDLED ERROR: ",yE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Yp.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:yE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class yr extends uf{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new gE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gE(e),this._firestoreClient=void 0,await e}}}function XD(r,e){const n=typeof r=="object"?r:nb(),a=typeof r=="string"?r:Mh,o=vp(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=Qw("firestore");u&&YD(o,...u)}return o}function cf(r){if(r._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||$D(r),r._firestoreClient}function $D(r){const e=r._freezeSettings(),n=QD(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new zD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn($t.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_u(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Dt("string",Gn._jsonSchemaVersion),bytes:Dt("string")};class ig{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hf{constructor(e){this._methodName=e}}class Ui{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(_u(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Dt("string",Ui._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class oi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_u(e,oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new oi(e.vectorValues);throw new le(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Dt("string",oi._jsonSchemaVersion),vectorValues:Dt("object")};const JD=/^__.*__$/;class ZD{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}class aS{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Ta(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:r})}}class rg{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new rg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),a=this.contextWith({path:n,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const n=this.path?.child(e),a=this.contextWith({path:n,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return qh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(sS(this.dataSource)&&JD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class WD{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||sf(e)}createContext(e,n,a,o=!1){return new rg({dataSource:e,methodName:n,targetDoc:a,path:Xt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ff(r){const e=r._freezeSettings(),n=sf(r._databaseId);return new WD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function oS(r,e,n,a,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);sg("Data must be an object, but it was:",f,a);const m=lS(a,f);let p,g;if(u.merge)p=new Cn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const w=cs(e,S,n);if(!f.contains(w))throw new le(W.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);hS(E,w)||E.push(w)}p=new Cn(E),g=f.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,g=f.fieldTransforms;return new ZD(new gn(m),p,g)}class df extends hf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof df}}class ag extends hf{_toFieldTransform(e){return new j2(e.path,new su)}isEqual(e){return e instanceof ag}}function eO(r,e,n,a){const o=r.createContext(1,e,n);sg("Data must be an object, but it was:",o,a);const u=[],f=gn.empty();ba(a,((p,g)=>{const E=cS(e,p,n);g=Lt(g);const S=o.childContextForFieldPath(E);if(g instanceof df)u.push(E);else{const w=Su(g,S);w!=null&&(u.push(E),f.set(E,w))}}));const m=new Cn(u);return new aS(f,m,o.fieldTransforms)}function tO(r,e,n,a,o,u){const f=r.createContext(1,e,n),m=[cs(e,a,n)],p=[o];if(u.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(cs(e,u[w])),p.push(u[w+1]);const g=[],E=gn.empty();for(let w=m.length-1;w>=0;--w)if(!hS(g,m[w])){const P=m[w];let Y=p[w];Y=Lt(Y);const X=f.childContextForFieldPath(P);if(Y instanceof df)g.push(P);else{const U=Su(Y,X);U!=null&&(g.push(P),E.set(P,U))}}const S=new Cn(g);return new aS(E,S,f.fieldTransforms)}function nO(r,e,n,a=!1){return Su(n,r.createContext(a?4:3,e))}function Su(r,e){if(uS(r=Lt(r)))return sg("Unsupported field value:",e,r),lS(r,e);if(r instanceof hf)return(function(a,o){if(!sS(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const u=[];let f=0;for(const m of a){let p=Su(m,o.childContextForArray(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(a,o){if((a=Lt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return P2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=st.fromDate(a);return{timestampValue:Ph(o.serializer,u)}}if(a instanceof st){const u=new st(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ph(o.serializer,u)}}if(a instanceof Ui)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Gn)return{bytesValue:CT(o.serializer,a._byteString)};if(a instanceof mt){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof oi)return(function(f,m){const p=f instanceof oi?f.toArray():f;return{mapValue:{fields:{[iT]:{stringValue:rT},[Vh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return kp(m.serializer,E)}))}}}}}})(a,o);if(kT(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Xh(a)}`)})(r,e)}function lS(r,e){const n={};return Jb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(r,((a,o)=>{const u=Su(o,e.childContextForField(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function uS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof st||r instanceof Ui||r instanceof Gn||r instanceof mt||r instanceof hf||r instanceof oi||kT(r))}function sg(r,e,n){if(!uS(n)||!Xb(n)){const a=Xh(n);throw a==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+a)}}function cs(r,e,n){if((e=Lt(e))instanceof ig)return e._internalPath;if(typeof e=="string")return cS(r,e);throw qh("Field path arguments must be of type string or ",r,!1,void 0,n)}const iO=new RegExp("[~\\*/\\[\\]]");function cS(r,e,n){if(e.search(iO)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ig(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function qh(r,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new le(W.INVALID_ARGUMENT,m+r+p)}function hS(r,e){return r.some((n=>n.isEqual(e)))}class rO{convertValue(e,n="none"){switch(ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return ba(e,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(e){const n=e.fields?.[Vh].arrayValue?.values?.map((a=>vt(a.doubleValue)));return new oi(n)}convertGeoPoint(e){return new Ui(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Zh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=ma(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=it.fromString(e);Ye(VT(a),9688,{name:e});const o=new iu(a.get(1),a.get(3)),u=new pe(a.popFirst(5));return o.isEqual(n)||pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class og extends rO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function Jl(){return new ag("serverTimestamp")}const _E="@firebase/firestore",vE="4.10.0";function EE(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class fS{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(cs("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aO extends fS{data(){return super.data()}}function dS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lg{}class mS extends lg{}function yh(r,e,...n){let a=[];e instanceof lg&&a.push(e),a=a.concat(n),(function(u){const f=u.filter((p=>p instanceof ug)).length,m=u.filter((p=>p instanceof mf)).length;if(f>1||f>0&&m>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class mf extends mS{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new mf(e,n,a)}_apply(e){const n=this._parse(e);return pS(e._query,n),new Sa(e.firestore,e.converter,Zm(e._query,n))}_parse(e){const n=ff(e.firestore);return(function(u,f,m,p,g,E,S){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){TE(S,E);const Y=[];for(const X of S)Y.push(bE(p,u,X));w={arrayValue:{values:Y}}}else w=bE(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||TE(S,E),w=nO(m,f,S,E==="in"||E==="not-in");return Nt.create(g,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function km(r,e,n){const a=e,o=cs("where",r);return mf._create(o,a,n)}class ug extends lg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ug(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)pS(f,p),f=Zm(f,p)})(e._query,n),new Sa(e.firestore,e.converter,Zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cg extends mS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cg(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new au(u,f)})(e._query,this._field,this._direction);return new Sa(e.firestore,e.converter,I2(e._query,n))}}function _h(r,e="asc"){const n=e,a=cs("orderBy",r);return cg._create(a,n)}function bE(r,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fT(e)&&n.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(it.fromString(n));if(!pe.isDocumentKey(a))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return k0(r,new pe(a))}if(n instanceof mt)return k0(r,n._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xh(n)}.`)}function TE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function gS(r,e,n){let a;return a=r?r.toFirestore(e):e,a}class Fl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ns extends fS{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(cs("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ns._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",ns._jsonSchema={type:Dt("string",ns._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class vh extends ns{data(e={}){return super.data(e)}}class is{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new vh(this._firestore,this._userDataWriter,a.key,a,new Fl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:sO(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=is._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ip.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}is._jsonSchemaVersion="firestore/querySnapshot/1.0",is._jsonSchema={type:Dt("string",is._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};function oO(r){r=yn(r,mt);const e=yn(r.firestore,yr),n=cf(e);return HD(n,r._key).then((a=>yS(e,r,a)))}function SE(r){r=yn(r,Sa);const e=yn(r.firestore,yr),n=cf(e),a=new og(e);return dS(r._query),FD(n,r._query).then((o=>new is(e,a,r,o)))}function lO(r,e,n){r=yn(r,mt);const a=yn(r.firestore,yr),o=gS(r.converter,e),u=ff(a);return pf(a,[oS(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Kn.none())])}function uO(r,e,n,...a){r=yn(r,mt);const o=yn(r.firestore,yr),u=ff(o);let f;return f=typeof(e=Lt(e))=="string"||e instanceof ig?tO(u,"updateDoc",r._key,e,n,a):eO(u,"updateDoc",r._key,e),pf(o,[f.toMutation(r._key,Kn.exists(!0))])}function ho(r){return pf(yn(r.firestore,yr),[new Lp(r._key,Kn.none())])}function Eh(r,e){const n=yn(r.firestore,yr),a=Pi(r),o=gS(r.converter,e),u=ff(r.firestore);return pf(n,[oS(u,"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Kn.exists(!1))]).then((()=>a))}function bh(r,...e){r=Lt(r);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||EE(e[a])||(n=e[a++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(EE(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let u,f,m;if(r instanceof mt)f=yn(r.firestore,yr),m=Wh(r._key.path),u={next:g=>{e[a]&&e[a](yS(f,r,g))},error:e[a+1],complete:e[a+2]};else{const g=yn(r,Sa);f=yn(g.firestore,yr),m=g._query;const E=new og(f);u={next:S=>{e[a]&&e[a](new is(f,E,g,S))},error:e[a+1],complete:e[a+2]},dS(r._query)}const p=cf(f);return qD(p,m,o,u)}function pf(r,e){const n=cf(r);return GD(n,e)}function yS(r,e,n){const a=n.docs.get(e._key),o=new og(r);return new ns(r,o,e._key,a,new Fl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){HI(wo),fo(new as("firestore",((a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new yr(new KI(a.getProvider("auth-internal")),new XI(f,a.getProvider("app-check-internal")),f2(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ca(_E,vE,e),ca(_E,vE,"esm2020")})();const cO={apiKey:"AIzaSyB3p9kAAb0TJXvJMKzUS6pummdlkbzlt6I",authDomain:"fft12l.firebaseapp.com",projectId:"fft12l",storageBucket:"fft12l.firebasestorage.app",messagingSenderId:"459190857682",appId:"1:459190857682:web:d857f4bf1fa2e5ec11220b"},_S=tb(cO),pn=BI(_S),Vt=XD(_S),vS=(r,e)=>Ib(pn,r,e),hO="/FF-12Liberation/assets/chocobo-loading-CZsGc2ZM.gif",fO="/FF-12Liberation/assets/musica-tema-78rqvj_H.mp3",dO="/FF-12Liberation/assets/fundo-rpg-BXz1tR4K.jpg",bo=new Audio(fO);bo.loop=!0;function mO(){const r=cu(),e=()=>{bo.play().then(()=>{console.log("ter musical sintonizado.")}).catch(n=>{console.log("Aguardando interao para liberar udio: ",n)}),r("/login")};return T.jsxs("div",{className:"landing-container",onClick:e,children:[T.jsxs("div",{className:"content",children:[T.jsx("h1",{className:"game-title",children:"FINAL FANTASY"}),T.jsx("h2",{className:"sub-title",children:"12 Libertao"}),T.jsx("div",{className:"press-start",children:"PRESS START"})]}),T.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .landing-container {
          height: 100vh;
          width: 100vw;
          display: flex;
          align-items: center;
          justify-content: center;
          /* Gradiente FF clssico sobre a imagem de fundo */
          background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), 
                      url(${dO}) no-repeat center center;
          background-size: cover; 
          cursor: pointer;
          position: fixed;
          top: 0;
          left: 0;
          z-index: 1000;
        }

        .content {
          text-align: center;
          /* Animao de entrada suave com blur */
          animation: fadeInSuave 4s ease-in-out; 
        }

        .game-title {
          font-size: clamp(30px, 8vw, 60px);
          letter-spacing: 8px;
          color: #fff;
          text-shadow: 3px 3px 5px #000, 0 0 20px rgba(0, 242, 255, 0.5);
          font-family: 'serif';
        }

        .sub-title {
          font-size: clamp(14px, 4vw, 24px);
          color: #ffcc00;
          margin-top: 10px;
          text-shadow: 1px 1px 3px #000;
          font-family: 'serif';
        }

        .press-start {
          margin-top: 80px;
          font-size: 20px;
          color: #fff;
          letter-spacing: 5px;
          text-shadow: 0 0 10px #00f2ff;
          /* Efeito pulsante clssico de menu */
          animation: blink 1.5s infinite;
          font-family: 'sans-serif';
        }

        @keyframes blink {
          0%, 100% { opacity: 0; }
          50% { opacity: 1; }
        }

        @keyframes fadeInSuave {
          from { opacity: 0; filter: blur(15px); transform: scale(0.9); }
          to { opacity: 1; filter: blur(0); transform: scale(1); }
        }
      `}})]})}const ES="/FF-12Liberation/assets/video-fundo-B5LPnOg0.mp4",pO="/FF-12Liberation/assets/botao-admin-T-iaDg61.png";function gO(){const r=cu(),[e,n]=z.useState(null),[a,o]=z.useState(""),[u,f]=z.useState(""),[m,p]=z.useState(""),g=async E=>{E.preventDefault(),p("");try{const w=(await vS(a,u)).user,P=Pi(Vt,"users",w.uid),Y=await oO(P);if(Y.exists()){const X=Y.data();if(e==="master"&&X.role!=="mestre"){p("ACESSO NEGADO: VOC NO  UM MESTRE.");return}X.role==="mestre"?r("/mestre"):r("/jogador")}else p("USURIO SEM PERFIL NO TER.")}catch(S){console.error(S),p("FALHA NA CONEXO COM O TER.")}};return T.jsxs("div",{className:"login-container",children:[T.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:"background-video",children:T.jsx("source",{src:ES,type:"video/mp4"})}),T.jsx("div",{className:"content-overlay",children:e?T.jsxs("form",{className:"login-panel fade-in",onSubmit:g,children:[T.jsx("button",{type:"button",className:"ff-back",onClick:()=>n(null),children:" RETORNAR"}),T.jsx("h3",{className:"ff-subtitle",children:e==="master"?"NARRADOR":"JOGADOR"}),T.jsxs("div",{className:"ff-input-group",children:[T.jsx("input",{type:"email",placeholder:"E-MAIL",value:a,onChange:E=>o(E.target.value),required:!0}),T.jsx("input",{type:"password",placeholder:"SENHA",value:u,onChange:E=>f(E.target.value),required:!0})]}),m&&T.jsx("p",{className:"ff-error",children:m}),T.jsx("button",{type:"submit",className:"ff-submit",children:"ENTRAR"})]}):T.jsxs("div",{className:"selection-screen fade-in",children:[T.jsx("h2",{className:"ff-title",children:"ESCOLHA SUA CLASSE"}),T.jsxs("div",{className:"ff-button-group",children:[T.jsx("button",{className:"ff-btn",onClick:()=>n("player"),children:"JOGADOR"}),T.jsx("button",{className:"ff-btn",onClick:()=>n("master"),children:"NARRADOR"})]})]})}),T.jsx("button",{className:"admin-portal-btn",onClick:()=>r("/admin-login"),title:"Acesso ao Narrador",children:T.jsx("img",{src:pO,alt:"Portal Admin"})}),T.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .login-container {
          height: 100vh;
          width: 100vw;
          background: #000;
          display: flex;
          align-items: center;
          justify-content: center;
          overflow: hidden;
          position: relative;
        }

        .background-video {
          position: absolute;
          top: 50%;
          left: 50%;
          min-width: 100%;
          min-height: 100%;
          width: auto;
          height: auto;
          z-index: 1; 
          transform: translate(-50%, -50%);
          object-fit: cover;
          animation: quickLoopFade 0.5s ease-in-out;
        }

        @keyframes quickLoopFade {
          0% { opacity: 0; }
          100% { opacity: 1; }
        }

        .content-overlay {
          position: relative;
          z-index: 10;
          display: flex;
          align-items: center;
          justify-content: center;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.4);
        }

        .ff-title { 
          color: #fff; 
          font-size: 32px; 
          letter-spacing: 8px; 
          margin-bottom: 40px; 
          text-shadow: 0 0 15px rgba(255, 255, 255, 0.5); 
          text-align: center;
          font-family: 'serif'; /* Simula tipografia FF */
        }

        .ff-subtitle { color: #ffcc00; letter-spacing: 4px; margin-bottom: 30px; text-align: center; }
        .ff-button-group { display: flex; flex-direction: column; gap: 20px; align-items: center; }
        
        .ff-btn, .ff-submit {
          background: rgba(0, 0, 30, 0.6); 
          border: 1px solid rgba(255, 255, 255, 0.6);
          color: #fff;
          padding: 15px 50px;
          letter-spacing: 3px;
          cursor: pointer;
          transition: 0.4s;
          width: 280px;
          backdrop-filter: blur(5px);
          font-weight: bold;
        }

        .ff-btn:hover, .ff-submit:hover { 
          background: #fff; 
          color: #000; 
          box-shadow: 0 0 20px #fff; 
        }

        .ff-input-group input {
          display: block; 
          width: 300px; 
          padding: 12px; 
          margin: 0 auto 20px auto;
          background: rgba(0, 0, 0, 0.7); 
          border: 1px solid #444;
          color: #fff; 
          text-align: center; 
          letter-spacing: 2px; 
          outline: none;
        }

        .ff-input-group input:focus { border-color: #ffcc00; }
        .ff-back { background: none; border: none; color: #ffcc00; cursor: pointer; margin-bottom: 15px; display: block; font-weight: bold; }
        .ff-error { color: #ff4444; font-size: 12px; margin-bottom: 15px; text-shadow: 0 0 5px #000; }

        .admin-portal-btn {
          position: absolute;
          bottom: 30px;
          right: 30px;
          z-index: 100;
          background: none;
          border: none;
          cursor: pointer;
          width: 70px;
          transition: 0.5s;
          filter: drop-shadow(0 0 8px rgba(0, 242, 255, 0.6));
        }

        .admin-portal-btn img { width: 100%; height: auto; }
        .admin-portal-btn:hover { transform: scale(1.2) rotate(-5deg); filter: drop-shadow(0 0 15px #00f2ff); }

        .fade-in { animation: fadeInFF 2s ease-out forwards; }

        @keyframes fadeInFF {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `}})]})}function yO(){const[r,e]=z.useState(""),[n,a]=z.useState(""),[o,u]=z.useState(""),f=cu(),m=async p=>{if(p.preventDefault(),r!=="fffvtt10@gmail.com"){u("VOC NO TEM PERMISSO DE NARRADOR.");return}try{await Ib(pn,r,n),f("/admin")}catch{u("SENHA INCORRETA PARA O MESTRE.")}};return T.jsxs("div",{className:"login-container",children:[T.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"background-video",children:T.jsx("source",{src:ES,type:"video/mp4"})}),T.jsx("div",{className:"content-overlay",children:T.jsxs("form",{className:"login-panel fade-in",onSubmit:m,children:[T.jsx("button",{type:"button",className:"ff-back",onClick:()=>f("/"),children:" RETORNAR"}),T.jsx("h3",{className:"ff-subtitle",children:"PORTAL DO ADMINISTRADOR"}),T.jsxs("div",{className:"ff-input-group",children:[T.jsx("input",{type:"email",placeholder:"E-MAIL",value:r,onChange:p=>e(p.target.value),required:!0}),T.jsx("input",{type:"password",placeholder:"CHAVE DE ACESSO",value:n,onChange:p=>a(p.target.value),required:!0})]}),o&&T.jsx("p",{className:"ff-error",children:o}),T.jsx("button",{type:"submit",className:"ff-submit",children:"DESBLOQUEAR"})]})}),T.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .login-container { height: 100vh; width: 100vw; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; background: #000; }
        .background-video { position: absolute; top: 50%; left: 50%; min-width: 100%; min-height: 100%; transform: translate(-50%, -50%); object-fit: cover; z-index: 1; }
        .content-overlay { position: relative; z-index: 10; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.5); }
        .login-panel { 
          background: rgba(0, 0, 30, 0.7); 
          padding: 40px; 
          border: 1px solid #00f2ff; 
          backdrop-filter: blur(10px); 
          text-align: center;
          box-shadow: 0 0 20px rgba(0, 242, 255, 0.2);
        }
        .ff-subtitle { color: #ffcc00; letter-spacing: 4px; margin-bottom: 20px; }
        input { display: block; width: 280px; padding: 12px; margin: 10px auto; background: rgba(0,0,0,0.8); border: 1px solid #444; color: #fff; text-align: center; outline: none; }
        input:focus { border-color: #00f2ff; }
        .ff-submit { background: transparent; border: 1px solid #fff; color: #fff; padding: 12px 40px; cursor: pointer; transition: 0.3s; width: 100%; letter-spacing: 2px; }
        .ff-submit:hover { background: #fff; color: #000; box-shadow: 0 0 15px #fff; }
        .ff-back { background: none; border: none; color: #ffcc00; cursor: pointer; margin-bottom: 10px; }
        .fade-in { animation: fadeInFF 1.5s ease-out; }
        @keyframes fadeInFF { from { opacity: 0; } to { opacity: 1; } }
      `}})]})}function _O(){const[r,e]=z.useState([]),[n,a]=z.useState([]),[o,u]=z.useState(""),[f,m]=z.useState(""),[p,g]=z.useState("jogador"),[E,S]=z.useState("");z.useEffect(()=>{bo&&bo.pause()},[]),z.useEffect(()=>{w()},[]);const w=async()=>{try{const Q=await SE(Oi(Vt,"users"));e(Q.docs.map(re=>({id:re.id,...re.data()})).filter(re=>re.email!=="fffvtt10@gmail.com"));const ie=await SE(Oi(Vt,"characters"));a(ie.docs.map(re=>({id:re.id,...re.data()})))}catch(Q){console.error("Erro ao carregar dados do ter: ",Q)}},P=async Q=>{Q.preventDefault();const ie="fffvtt10@gmail.com",re="SUA_SENHA_AQUI";try{const Re=(await wC(pn,o,f)).user;await lO(Pi(Vt,"users",Re.uid),{email:o,role:p,active:!0,createdAt:new Date}),alert("Usurio invocado! Reconectando Admin..."),await vS(ie,re),u(""),m(""),w()}catch(Ee){alert("Erro no processo: "+Ee.message)}},Y=async(Q,ie)=>{if(window.confirm(`Deseja banir permanentemente ${ie} do ter?`))try{await ho(Pi(Vt,"users",Q)),alert("Conta banida com sucesso."),w()}catch(re){alert("Erro ao banir usurio: "+re.message)}},X=async Q=>{if(window.confirm("Banir este personagem permanentemente?"))try{await ho(Pi(Vt,"characters",Q)),w()}catch{alert("Erro ao banir personagem.")}},U=async()=>{if(E.length<6)return alert("A senha deve ter no mnimo 6 caracteres.");try{await RC(pn.currentUser,E),alert("Sua chave de mestre foi alterada!"),S("")}catch{alert("Erro ao trocar senha. Tente fazer login novamente.")}};return T.jsxs("div",{className:"admin-dashboard",children:[T.jsx("div",{className:"ether-vortex"}),T.jsxs("div",{className:"admin-content",children:[T.jsx("h1",{className:"main-title",children:"GESTO DO TER SUPREMO"}),T.jsxs("div",{className:"cards-grid",children:[T.jsxs("div",{className:"ff-card fade-in",children:[T.jsx("h3",{children:"INVOCAR NOVA CONTA"}),T.jsxs("form",{onSubmit:P,children:[T.jsx("input",{type:"email",placeholder:"E-mail do Alvo",value:o,onChange:Q=>u(Q.target.value),required:!0}),T.jsx("input",{type:"password",placeholder:"Definir Senha Inicial",value:f,onChange:Q=>m(Q.target.value),required:!0}),T.jsxs("select",{value:p,onChange:Q=>g(Q.target.value),children:[T.jsx("option",{value:"jogador",children:"JOGADOR"}),T.jsx("option",{value:"mestre",children:"MESTRE"})]}),T.jsx("button",{type:"submit",children:"CRIAR ACESSO"})]})]}),T.jsxs("div",{className:"ff-card fade-in",children:[T.jsx("h3",{children:"VIAJANTES E MESTRES"}),T.jsx("div",{className:"list-box",children:r.map(Q=>T.jsxs("div",{className:"item",children:[T.jsx("span",{className:`badge ${Q.role}`,children:Q.role.toUpperCase()}),T.jsx("p",{className:"email-text",children:Q.email}),T.jsxs("div",{className:"btn-group",children:[T.jsx("button",{onClick:()=>{AC(pn,Q.email),alert("E-mail de reset enviado.")},children:"RESET"}),T.jsx("button",{className:"del",onClick:()=>Y(Q.id,Q.email),children:"BANIR"})]})]},Q.id))})]}),T.jsxs("div",{className:"ff-card fade-in",children:[T.jsx("h3",{children:"PERSONAGENS ATIVOS"}),T.jsx("div",{className:"list-box",children:n.map(Q=>T.jsxs("div",{className:"item",children:[T.jsx("span",{children:Q.name}),T.jsx("button",{className:"del",onClick:()=>X(Q.id),children:"BANIR"})]},Q.id))})]}),T.jsxs("div",{className:"ff-card fade-in",children:[T.jsx("h3",{children:"MINHA CHAVE DE ADMIN"}),T.jsx("input",{type:"password",placeholder:"Nova Senha",value:E,onChange:Q=>S(Q.target.value)}),T.jsx("button",{onClick:U,children:"TROCAR MINHA SENHA"})]})]})]}),T.jsx("style",{children:`
        .admin-dashboard { 
          background: radial-gradient(circle at center, #001a33 0%, #000000 100%); 
          min-height: 100vh; 
          color: #fff; 
          font-family: 'Segoe UI', sans-serif; 
          position: relative;
          overflow: hidden;
        }

        /* Vrtice ampliado para 300% para remover bordas quadradas */
        .ether-vortex {
          content: "";
          position: absolute;
          top: -100%; left: -100%;
          width: 300%; height: 300%;
          background: conic-gradient(from 0deg, transparent, rgba(0, 242, 255, 0.08), transparent);
          animation: rotateEther 30s linear infinite;
          z-index: 0;
          pointer-events: none;
        }

        @keyframes rotateEther { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        .admin-content { position: relative; z-index: 1; padding: 40px; }
        .main-title { color: #ffcc00; text-align: center; letter-spacing: 5px; margin-bottom: 50px; text-shadow: 0 0 10px #ffcc00; }
        .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 30px; }
        
        .ff-card { 
          background: rgba(0, 10, 30, 0.85); 
          border: 1px solid rgba(0, 242, 255, 0.5); 
          padding: 25px; border-radius: 8px; 
          box-shadow: 0 0 20px rgba(0,242,255,0.1);
          backdrop-filter: blur(10px);
        }

        h3 { color: #00f2ff; font-size: 14px; border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 20px; }
        .item { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid #111; }
        .email-text { font-size: 11px; color: #ccc; margin: 0 10px; flex-grow: 1; overflow: hidden; text-overflow: ellipsis; }
        .badge { font-size: 9px; padding: 2px 6px; border-radius: 3px; font-weight: bold; color: #000; }
        .badge.mestre { background: #ffcc00; }
        .badge.jogador { background: #00f2ff; }
        
        .btn-group { display: flex; gap: 8px; }
        input, select { background: rgba(0,0,0,0.8); border: 1px solid #444; color: #fff; padding: 12px; width: 100%; margin-bottom: 15px; outline: none; transition: 0.3s; }
        input:focus { border-color: #ffcc00; }
        
        button { background: transparent; border: 1px solid #00f2ff; color: #fff; padding: 8px 15px; cursor: pointer; transition: 0.3s; font-size: 11px; }
        button:hover { background: #fff; color: #000; box-shadow: 0 0 10px #fff; }
        button.del { border-color: #ff4444; color: #ff4444; }
        button.del:hover { background: #ff4444; color: white; border-color: #ff4444; }
        
        .list-box { max-height: 250px; overflow-y: auto; }
        .list-box::-webkit-scrollbar { width: 4px; }
        .list-box::-webkit-scrollbar-thumb { background: #00f2ff; }
        
        .fade-in { animation: fadeIn 1.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
      `})]})}const vO="/FF-12Liberation/assets/fundo-mestre-OTxRyTTC.jpg",EO="/FF-12Liberation/assets/sanchez-1nilABmc.jpeg",bO="/FF-12Liberation/assets/papiro-CRka9pgw.png",TO="/FF-12Liberation/assets/bazar-DZ7p321B.png";function SO({isMestre:r}){const[e,n]=z.useState(!1),[a,o]=z.useState([]),[u,f]=z.useState(""),[m,p]=z.useState(null),[g,E]=z.useState({nome:"",descricao:"",imagem:"",valorGil:"",valorReal:""});z.useEffect(()=>{if(!e)return;const U=yh(Oi(Vt,"bazar_items"),_h("createdAt","desc")),Q=bh(U,ie=>{o(ie.docs.map(re=>({id:re.id,...re.data()})))});return()=>Q()},[e]);const S=async U=>{if(U.preventDefault(),!g.nome||!g.valorGil)return alert("Preencha nome e valor em Gil!");try{const Q={...g,updatedAt:Jl()};m?(await uO(Pi(Vt,"bazar_items",m),Q),p(null)):await Eh(Oi(Vt,"bazar_items"),{...Q,createdAt:Jl()}),E({nome:"",descricao:"",imagem:"",valorGil:"",valorReal:""})}catch(Q){alert("Erro ao salvar item no Bazar."),console.error(Q)}},w=async U=>{window.confirm("Tem certeza que deseja remover este item do Bazar?")&&await ho(Pi(Vt,"bazar_items",U))},P=U=>{p(U.id),E(U)},Y=()=>{p(null),E({nome:"",descricao:"",imagem:"",valorGil:"",valorReal:""})},X=a.filter(U=>U.nome.toLowerCase().includes(u.toLowerCase()));return T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"bazar-trigger-btn",onClick:()=>n(!0),title:"Abrir Bazar",children:T.jsx("img",{src:TO,alt:"Bazar",onError:U=>{U.target.style.display="none",U.target.parentNode.innerText="BAZAR"}})}),e&&T.jsx("div",{className:"bazar-overlay",onClick:()=>n(!1),children:T.jsxs("div",{className:"bazar-modal",onClick:U=>U.stopPropagation(),children:[T.jsxs("div",{className:"bazar-header",children:[T.jsx("h2",{children:"MERCADO NEGRO"}),T.jsx("button",{className:"close-btn",onClick:()=>n(!1),children:""})]}),r&&T.jsx("div",{className:"mestre-panel",children:T.jsxs("form",{onSubmit:S,className:"bazar-form",children:[T.jsxs("div",{className:"row",children:[T.jsx("input",{placeholder:"Nome do Item",value:g.nome,onChange:U=>E({...g,nome:U.target.value}),className:"bazar-input"}),T.jsx("input",{placeholder:"Link Imagem (Imgur)",value:g.imagem,onChange:U=>E({...g,imagem:U.target.value}),className:"bazar-input"})]}),T.jsxs("div",{className:"row",children:[T.jsx("input",{placeholder:"Valor Gil",type:"number",value:g.valorGil,onChange:U=>E({...g,valorGil:U.target.value}),className:"bazar-input"}),T.jsx("input",{placeholder:"Valor Real (R$)",type:"number",value:g.valorReal,onChange:U=>E({...g,valorReal:U.target.value}),className:"bazar-input"})]}),T.jsx("textarea",{placeholder:"Descrio do item...",value:g.descricao,onChange:U=>E({...g,descricao:U.target.value}),className:"bazar-input area"}),T.jsxs("div",{className:"form-actions",children:[T.jsx("button",{type:"submit",className:"btn-save",children:m?"SALVAR ALTERAO":"ADICIONAR AO ESTOQUE"}),m&&T.jsx("button",{type:"button",onClick:Y,className:"btn-cancel",children:"CANCELAR"})]})]})}),T.jsx("div",{className:"search-bar-container",children:T.jsx("input",{type:"text",placeholder:" Procurar item...",value:u,onChange:U=>f(U.target.value),className:"search-input"})}),T.jsxs("div",{className:"bazar-grid",children:[X.map(U=>T.jsxs("div",{className:"bazar-item-card",children:[T.jsx("div",{className:"item-img",style:{backgroundImage:`url(${U.imagem||"https://via.placeholder.com/150?text=Item"})`}}),T.jsxs("div",{className:"item-info",children:[T.jsx("h4",{children:U.nome}),T.jsx("p",{className:"desc",children:U.descricao}),T.jsxs("div",{className:"prices",children:[T.jsxs("span",{className:"price-tag gil",children:[" ",U.valorGil," G"]}),U.valorReal&&T.jsxs("span",{className:"price-tag real",children:[" R$ ",U.valorReal]})]})]}),T.jsx("div",{className:"item-actions",children:r?T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"btn-icon edit",onClick:()=>P(U),title:"Editar",children:""}),T.jsx("button",{className:"btn-icon delete",onClick:()=>w(U.id),title:"Excluir",children:""})]}):T.jsx("button",{className:"btn-buy",onClick:()=>alert(`Voc comprou: ${U.nome}`),children:"COMPRAR"})})]},U.id)),X.length===0&&T.jsx("p",{className:"empty-msg",children:"Nenhum item encontrado no estoque."})]})]})}),T.jsx("style",{children:`
        /* BOTO FLUTUANTE */
        .bazar-trigger-btn {
          position: fixed;
          bottom: 30px;
          right: 30px;
          width: 70px;
          height: 70px;
          border-radius: 50%;
          border: 2px solid #ffcc00;
          background: #000;
          cursor: pointer;
          z-index: 9999;
          transition: transform 0.2s, box-shadow 0.2s;
          padding: 0;
          overflow: hidden;
          display: flex; align-items: center; justify-content: center;
          color: #ffcc00; font-weight: bold; font-size: 10px;
        }
        .bazar-trigger-btn:hover { transform: scale(1.1); box-shadow: 0 0 20px #ffcc00; }
        .bazar-trigger-btn img { width: 100%; height: 100%; object-fit: cover; }

        /* MODAL */
        .bazar-overlay {
          position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
          background: rgba(0,0,0,0.85); z-index: 100000;
          display: flex; align-items: center; justify-content: center;
          backdrop-filter: blur(5px);
        }
        .bazar-modal {
          width: 800px;
          height: 750px;
          max-height: 90vh;
          background: #0d0d15;
          border: 1px solid #ffcc00;
          display: flex; flex-direction: column;
          box-shadow: 0 0 50px rgba(0,0,0,0.8);
          border-radius: 8px;
          overflow: hidden;
        }

        /* HEADER */
        .bazar-header {
          background: linear-gradient(90deg, #1a1a1a, #000);
          padding: 20px;
          display: flex; justify-content: space-between; align-items: center;
          border-bottom: 2px solid #ffcc00;
        }
        .bazar-header h2 { margin: 0; color: #ffcc00; font-family: serif; letter-spacing: 2px; text-shadow: 0 0 10px #ffcc00; font-size: 24px; }
        .close-btn { background: transparent; border: none; color: #fff; font-size: 30px; cursor: pointer; }

        /* PAINEL DO MESTRE */
        .mestre-panel {
          background: rgba(255, 204, 0, 0.05);
          padding: 15px;
          border-bottom: 1px solid #333;
        }
        .bazar-form { display: flex; flex-direction: column; gap: 10px; }
        .bazar-form .row { display: flex; gap: 10px; }
        .bazar-input {
          background: #000; border: 1px solid #444; color: #fff;
          padding: 10px; flex: 1; outline: none; font-family: serif;
        }
        .bazar-input.area { height: 60px; resize: none; }
        .form-actions { display: flex; gap: 10px; }
        .btn-save { flex: 1; background: #ffcc00; border: none; padding: 10px; font-weight: bold; cursor: pointer; color: #000; }
        .btn-cancel { background: #333; color: #fff; border: 1px solid #555; padding: 10px; cursor: pointer; }

        /* BUSCA */
        .search-bar-container { padding: 15px; background: #000; border-bottom: 1px solid #333; }
        .search-input { width: 100%; background: #111; border: 1px solid #444; color: #fff; padding: 12px; border-radius: 20px; text-align: center; outline: none; font-size: 16px; }

        /* LISTA */
        .bazar-grid {
          flex: 1;
          overflow-y: auto;
          padding: 20px;
          display: flex; flex-direction: column; gap: 15px;
          /* Scroll invisivel */
          scrollbar-width: none;
          -ms-overflow-style: none;
        }
        .bazar-grid::-webkit-scrollbar { display: none; }

        /* ITEM CARD */
        .bazar-item-card {
          background: linear-gradient(90deg, rgba(20,20,30,0.9), rgba(0,0,0,0.8));
          border: 1px solid #444;
          display: flex; align-items: center;
          padding: 10px;
          border-radius: 4px;
          transition: 0.2s;
        }
        .bazar-item-card:hover { border-color: #00f2ff; box-shadow: 0 0 15px rgba(0, 242, 255, 0.1); }
        
        .item-img {
          width: 80px; height: 80px;
          background-size: cover; background-position: center;
          border: 1px solid #666; margin-right: 15px;
          border-radius: 4px;
          background-color: #000;
        }
        .item-info { flex: 1; }
        .item-info h4 { margin: 0 0 5px 0; color: #fff; font-size: 18px; letter-spacing: 1px; }
        .item-info .desc { margin: 0 0 10px 0; color: #aaa; font-size: 12px; font-style: italic; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        
        .prices { display: flex; gap: 10px; }
        .price-tag { padding: 4px 8px; border-radius: 3px; font-weight: bold; font-size: 12px; }
        .price-tag.gil { background: rgba(255,255,0,0.1); color: #ffcc00; border: 1px solid #ffcc00; }
        .price-tag.real { background: rgba(0, 242, 255, 0.1); color: #00f2ff; border: 1px solid #00f2ff; }

        .item-actions { display: flex; gap: 8px; align-items: center; margin-left: 15px; }
        .btn-buy {
          background: #00f2ff; color: #000; border: none;
          padding: 10px 20px; font-weight: bold; cursor: pointer;
          clip-path: polygon(10% 0, 100% 0, 100% 70%, 90% 100%, 0 100%, 0 30%);
          transition: 0.2s;
        }
        .btn-buy:hover { background: #fff; box-shadow: 0 0 15px #00f2ff; }
        
        .btn-icon { background: transparent; border: 1px solid #444; color: #fff; padding: 8px; cursor: pointer; border-radius: 4px; font-size: 16px; }
        .btn-icon:hover { background: #fff; color: #000; }
        .btn-icon.delete:hover { background: #f44; border-color: #f44; color: #fff; }

        .empty-msg { text-align: center; color: #666; margin-top: 50px; font-style: italic; }
      `})]})}const AE=({expiry:r})=>{const[e,n]=z.useState("");return z.useEffect(()=>{const a=setInterval(()=>{const o=new Date().getTime(),u=new Date(r).getTime()-o;if(u<0)n("EXPIRADA"),clearInterval(a);else{const f=Math.floor(u/864e5),m=Math.floor(u%(1e3*60*60*24)/(1e3*60*60)),p=Math.floor(u%(1e3*60*60)/(1e3*60));n(`${f}d ${m}h ${p}m`)}},1e3);return()=>clearInterval(a)},[r]),T.jsxs("span",{className:"mission-timer",children:[" ",e]})};function AO(){const[r,e]=z.useState([]),[n,a]=z.useState([]),[o,u]=z.useState([]),[f,m]=z.useState(!1),[p,g]=z.useState(!1),[E,S]=z.useState(!1),[w,P]=z.useState(null),[Y,X]=z.useState(null),[U,Q]=z.useState(null),[ie,re]=z.useState(""),[Ee,Re]=z.useState(""),[be,I]=z.useState([]),[R,C]=z.useState([]),V=["Cloud Strife","Tifa Lockhart","Barret Wallace","Aerith Gainsborough"],[N,k]=z.useState({nome:"",local:"",contratante:"",descricaoMissao:"",objetivosMissao:"",requisitos:"",grupo:"",recompensa:"",rank:"E",imagem:"",duracao:"",gilRecompensa:""}),[x,qe]=z.useState({missaoId:"",dataInicio:"",cenarios:[],tokens:[]}),[ot,$]=z.useState(""),[se,de]=z.useState("cenario"),[De,Ge]=z.useState(()=>localStorage.getItem("mestreAssinatura")||pn.currentUser?.email?.split("@")[0]||"Narrador");z.useEffect(()=>{localStorage.setItem("mestreAssinatura",De)},[De]),z.useEffect(()=>{if(bo&&bo.pause(),!pn.currentUser)return;const H=yh(Oi(Vt,"missoes"),km("mestreId","==",pn.currentUser.uid),_h("createdAt","desc")),Te=bh(H,Nn=>e(Nn.docs.map(Pt=>({id:Pt.id,...Pt.data()})))),je=yh(Oi(Vt,"resenhas"),km("mestreId","==",pn.currentUser.uid),_h("createdAt","desc")),_n=bh(je,Nn=>a(Nn.docs.map(Pt=>({id:Pt.id,...Pt.data()})))),sn=yh(Oi(Vt,"sessoes"),km("mestreId","==",pn.currentUser.uid),_h("dataInicio","asc")),Er=bh(sn,Nn=>{const Pt=Nn.docs.map(br=>({id:br.id,...br.data()}));u(Pt)});return()=>{Te(),_n(),Er()}},[]);const M=async H=>{H.preventDefault();try{const Te=(N.duracao.match(/(\d+)w/)||[0,0])[1]*6048e5+(N.duracao.match(/(\d+)d/)||[0,0])[1]*864e5+(N.duracao.match(/(\d+)h/)||[0,0])[1]*36e5;await Eh(Oi(Vt,"missoes"),{...N,mestreNome:De,mestreId:pn.currentUser.uid,createdAt:Jl(),expiraEm:new Date(Date.now()+(Te||36e5)).toISOString()}),m(!1),k({nome:"",local:"",contratante:"",descricaoMissao:"",objetivosMissao:"",requisitos:"",grupo:"",recompensa:"",rank:"E",imagem:"",duracao:"",gilRecompensa:""})}catch{alert("Erro ao forjar cartaz.")}},ee=async()=>{if(!Ee||!ie)return alert("Preencha ttulo e contedo!");try{const H=new Date;H.setDate(H.getDate()+1),await Eh(Oi(Vt,"resenhas"),{titulo:Ee,conteudo:ie,mestre:De,mestreId:pn.currentUser.uid,destinatarios:be,createdAt:Jl(),expiraEm:H.toISOString()}),g(!1),re(""),Re(""),I([])}catch{alert("Erro ao publicar.")}},oe=()=>{ot&&(qe(se==="cenario"?H=>({...H,cenarios:[...H.cenarios,ot]}):H=>({...H,tokens:[...H.tokens,ot]})),$(""))},ue=(H,Te)=>{qe(H==="cenario"?je=>({...je,cenarios:je.cenarios.filter((_n,sn)=>sn!==Te)}):je=>({...je,tokens:je.tokens.filter((_n,sn)=>sn!==Te)}))},ve=async H=>{if(H.preventDefault(),!x.missaoId||!x.dataInicio)return alert("Selecione a misso e o horrio!");try{const Te=r.find(sn=>sn.id===x.missaoId),je=new Date(x.dataInicio),_n=new Date(je.getTime()+1440*60*1e3);await Eh(Oi(Vt,"sessoes"),{missaoId:x.missaoId,missaoNome:Te?Te.nome:"Misso Desconhecida",mestreId:pn.currentUser.uid,dataInicio:x.dataInicio,expiraEm:_n.toISOString(),participantes:R,cenarios:x.cenarios,tokens:x.tokens,createdAt:Jl()}),S(!1),qe({missaoId:"",dataInicio:"",cenarios:[],tokens:[]}),C([]),alert("Sesso criada com sucesso!")}catch(Te){alert("Erro ao criar sesso: "+Te.message),console.error(Te)}},xe=H=>{alert(`Entrando no VTT do Mestre para a sesso: ${H.missaoNome}
Carregando ${H.cenarios?.length||0} cenrios e ${H.tokens?.length||0} tokens...`)};return T.jsxs("div",{className:"mestre-container",children:[T.jsx("div",{className:"mestre-bg-image-full",style:{backgroundImage:`url(${vO})`}}),T.jsxs("div",{className:"mestre-content",children:[T.jsx("h1",{className:"ff-title",children:"HUB DO NARRADOR"}),T.jsxs("div",{className:"mestre-identity-box ff-card fade-in",children:[T.jsx("label",{children:"ASSINATURA DO MESTRE:"}),T.jsx("input",{type:"text",value:De,onChange:H=>Ge(H.target.value)})]}),T.jsxs("div",{className:"mestre-grid",children:[T.jsxs("div",{className:"ff-card board-column",children:[T.jsxs("div",{className:"card-header no-border",children:[T.jsx("h3",{children:"QUADRO DE MISSES"}),T.jsxs("button",{className:"ff-add-btn",onClick:()=>m(!0),children:[T.jsx("span",{children:"+"})," ADICIONAR CARTAZ"]})]}),T.jsx("div",{className:"mission-scroll",children:r.map(H=>T.jsxs("div",{className:`mission-poster rank-${H.rank}`,children:[T.jsx("div",{className:"poster-rank-label-fixed",children:H.rank}),T.jsxs("span",{className:"mestre-tag",children:["Narrador: ",H.mestreNome]}),T.jsx("h4",{children:H.nome}),T.jsxs("p",{className:"gil-recompensa",children:[" Recompensa: ",H.gilRecompensa," Gil"]}),T.jsx(AE,{expiry:H.expiraEm}),T.jsxs("div",{className:"poster-actions",children:[T.jsx("button",{className:"btn-cyan",onClick:()=>Q(H.imagem),children:"CARTAZ"}),T.jsx("button",{className:"btn-cyan",onClick:()=>P(H),children:"DETALHES"}),T.jsx("button",{className:"btn-red",onClick:()=>ho(Pi(Vt,"missoes",H.id)),children:"EXCLUIR"})]})]},H.id))})]}),T.jsxs("div",{className:"ff-card sanchez-card board-column",children:[T.jsxs("div",{className:"sanchez-header-top no-border",children:[T.jsx("h3",{children:"RESENHA DO SANCHEZ"}),T.jsx("button",{className:"ff-add-btn-gold-small",onClick:()=>g(!0),children:"+ CRIAR NOVA RESENHA"})]}),T.jsx("div",{className:"mission-scroll",children:n.map(H=>T.jsxs("div",{className:"resenha-item-card",children:[T.jsx("h4",{children:H.titulo}),T.jsx(AE,{expiry:H.expiraEm}),T.jsxs("div",{className:"poster-actions",children:[T.jsx("button",{className:"btn-cyan",onClick:()=>X(H),children:"VISUALIZAR"}),T.jsx("button",{className:"btn-red",onClick:()=>ho(Pi(Vt,"resenhas",H.id)),children:"EXCLUIR"})]})]},H.id))})]}),T.jsxs("div",{className:"ff-card board-column",children:[T.jsxs("div",{className:"card-header no-border",children:[T.jsx("h3",{children:"SESSES DE JOGO"}),T.jsx("button",{className:"ff-add-btn small-btn",onClick:()=>S(!0),children:"INICIAR NOVA SESSO"})]}),T.jsx("div",{className:"mission-scroll",children:o.length===0?T.jsx("div",{className:"empty-instancia",children:"NENHUMA INSTNCIA ATIVA"}):o.map(H=>T.jsxs("div",{className:"sessao-card",children:[T.jsx("div",{className:"sessao-status",children:" AO VIVO / AGENDADA"}),T.jsx("h4",{className:"sessao-title",children:H.missaoNome}),T.jsxs("div",{className:"sessao-info",children:[T.jsxs("span",{children:[" ",new Date(H.dataInicio).toLocaleString()]}),T.jsxs("span",{className:"sessao-players",children:[" ",H.participantes?.length||0," Jogadores"]})]}),T.jsxs("div",{className:"sessao-assets-count",children:[" ",H.cenarios?.length||0," Cenrios   ",H.tokens?.length||0," Tokens"]}),T.jsxs("div",{className:"poster-actions",style:{marginTop:"15px"},children:[T.jsx("button",{className:"btn-play-vtt",onClick:()=>xe(H),children:" ACESSAR VTT"}),T.jsx("button",{className:"btn-red",onClick:()=>ho(Pi(Vt,"sessoes",H.id)),children:"CANCELAR"})]})]},H.id))})]})]})]}),f&&T.jsx("div",{className:"ff-modal-overlay-fixed",children:T.jsxs("div",{className:"ff-modal-scrollable ff-card",children:[T.jsx("h3",{className:"modal-title-ff",children:"NOVA MISSO"}),T.jsxs("form",{onSubmit:M,children:[T.jsxs("div",{className:"modal-input-group",children:[T.jsx("label",{children:"NOME DA MISSO"}),T.jsx("input",{placeholder:"Ttulo...",value:N.nome,onChange:H=>k({...N,nome:H.target.value}),required:!0})]}),T.jsxs("div",{className:"modal-input-group",children:[T.jsx("label",{children:"LOCAL"}),T.jsx("input",{placeholder:"Onde ocorre...",value:N.local,onChange:H=>k({...N,local:H.target.value})})]}),T.jsxs("div",{className:"modal-input-group",children:[T.jsx("label",{children:"CONTRATANTE"}),T.jsx("input",{placeholder:"Quem paga...",value:N.contratante,onChange:H=>k({...N,contratante:H.target.value})})]}),T.jsxs("div",{className:"modal-input-group",children:[T.jsx("label",{children:"DESCRIO DA MISSO"}),T.jsx("textarea",{className:"tall-area-dark",placeholder:"Detalhes da histria e contexto...",value:N.descricaoMissao,onChange:H=>k({...N,descricaoMissao:H.target.value})})]}),T.jsxs("div",{className:"modal-input-group",children:[T.jsx("label",{children:"OBJETIVOS DA MISSO"}),T.jsx("textarea",{className:"tall-area-dark",placeholder:"O que deve ser feito passo a passo...",value:N.objetivosMissao,onChange:H=>k({...N,objetivosMissao:H.target.value})})]}),T.jsxs("div",{className:"modal-input-group",children:[T.jsx("label",{children:"REQUISITOS DA MISSO"}),T.jsx("textarea",{className:"tall-area-dark",placeholder:"O que  necessrio para aceitar...",value:N.requisitos,onChange:H=>k({...N,requisitos:H.target.value})})]}),T.jsxs("div",{className:"row-double-ff",children:[T.jsxs("div",{className:"field-group",children:[T.jsx("label",{children:"GRUPO MXIMO"}),T.jsx("input",{placeholder:"Ex: 6 jogadores",value:N.grupo,onChange:H=>k({...N,grupo:H.target.value})})]}),T.jsxs("div",{className:"field-group",children:[T.jsx("label",{children:"RANK"}),T.jsx("select",{value:N.rank,onChange:H=>k({...N,rank:H.target.value}),children:["E","D","C","B","A","S","SS","SC"].map(H=>T.jsxs("option",{value:H,children:["RANK ",H]},H))})]})]}),T.jsxs("div",{className:"modal-input-group",children:[T.jsx("label",{children:"RECOMPENSAS EXTRAS (TEXTO)"}),T.jsx("textarea",{className:"tall-area-dark",placeholder:"Itens, especiarias, equipamentos...",value:N.recompensa,onChange:H=>k({...N,recompensa:H.target.value})})]}),T.jsxs("div",{className:"row-double-ff",children:[T.jsxs("div",{className:"field-group",children:[T.jsx("label",{children:"GIL"}),T.jsx("input",{type:"text",className:"gil-input",placeholder:"Ex: 5000",value:N.gilRecompensa,onChange:H=>k({...N,gilRecompensa:H.target.value.replace(/\D/g,"")})})]}),T.jsxs("div",{className:"field-group",children:[T.jsx("label",{children:"DURAO DA MISSO"}),T.jsx("input",{placeholder:"Ex: 1d 10h",value:N.duracao,onChange:H=>k({...N,duracao:H.target.value}),required:!0})]})]}),T.jsxs("div",{className:"modal-input-group",children:[T.jsx("label",{children:"URL DA IMAGEM DO CARTAZ"}),T.jsx("input",{placeholder:"Link Imgur...",value:N.imagem,onChange:H=>k({...N,imagem:H.target.value})})]}),T.jsxs("div",{className:"btn-group-ff",children:[T.jsx("button",{type:"submit",className:"btn-forjar-main",children:"FORJAR MISSO"}),T.jsx("button",{type:"button",className:"btn-cancelar-main",onClick:()=>m(!1),children:"FECHAR"})]})]})]})}),p&&T.jsx("div",{className:"ff-modal-overlay-fixed",children:T.jsxs("div",{className:"ff-modal-scrollable ff-card",children:[T.jsx("h3",{className:"modal-title-ff",children:"ESCREVER CRNICA"}),T.jsxs("div",{className:"modal-input-group",children:[T.jsx("label",{children:"TTULO DA CRNICA"}),T.jsx("input",{className:"ff-modal-input-dark",placeholder:"Ttulo...",value:Ee,onChange:H=>Re(H.target.value)})]}),T.jsxs("div",{className:"modal-input-group",children:[T.jsx("label",{children:"CORPO DO TEXTO"}),T.jsx("textarea",{className:"tall-area-ff-dark",placeholder:"Use **texto** para negrito.",value:ie,onChange:H=>re(H.target.value)})]}),T.jsxs("div",{className:"player-selector-box-fixed",children:[T.jsx("label",{children:"DESTINATRIOS (LISTA FIXA):"}),T.jsx("div",{className:"destinatarios-grid-fixed",children:V.map(H=>T.jsxs("label",{className:"chip-label-ff",children:[T.jsx("input",{type:"checkbox",checked:be.includes(H),onChange:()=>be.includes(H)?I(be.filter(Te=>Te!==H)):I([...be,H])})," ",H]},H))})]}),T.jsxs("div",{className:"btn-group-ff",children:[T.jsx("button",{className:"btn-forjar-main",onClick:ee,children:"PUBLICAR"}),T.jsx("button",{className:"btn-cancelar-main",onClick:()=>g(!1),children:"FECHAR"})]})]})}),E&&T.jsx("div",{className:"ff-modal-overlay-fixed",children:T.jsxs("div",{className:"ff-modal-scrollable ff-card",children:[T.jsx("h3",{className:"modal-title-ff",children:"CRIAR NOVA SESSO"}),T.jsxs("form",{onSubmit:ve,children:[T.jsxs("div",{className:"modal-input-group",children:[T.jsx("label",{children:"SELECIONAR MISSO (OBJETIVO)"}),T.jsxs("select",{className:"ff-select-dark",value:x.missaoId,onChange:H=>qe({...x,missaoId:H.target.value}),required:!0,children:[T.jsx("option",{value:"",children:"-- Escolha uma misso --"}),r.map(H=>T.jsxs("option",{value:H.id,children:[H.nome," (Rank ",H.rank,")"]},H.id))]})]}),T.jsxs("div",{className:"modal-input-group",children:[T.jsx("label",{children:"DATA E HORRIO DE INCIO"}),T.jsx("input",{type:"datetime-local",className:"ff-input-dark",value:x.dataInicio,onChange:H=>qe({...x,dataInicio:H.target.value}),required:!0})]}),T.jsxs("div",{className:"player-selector-box-fixed",children:[T.jsx("label",{children:"PERSONAGENS PERMITIDOS:"}),T.jsx("div",{className:"destinatarios-grid-fixed",children:V.map(H=>T.jsxs("label",{className:"chip-label-ff",children:[T.jsx("input",{type:"checkbox",checked:R.includes(H),onChange:()=>R.includes(H)?C(R.filter(Te=>Te!==H)):C([...R,H])})," ",H]},H))})]}),T.jsxs("div",{className:"upload-section-box",children:[T.jsx("h4",{className:"upload-section-title",children:"IMPORTAR IMAGENS (IMGUR)"}),T.jsxs("div",{className:"link-import-row",children:[T.jsx("input",{className:"ff-input-dark",placeholder:"Cole o link da imagem aqui...",value:ot,onChange:H=>$(H.target.value)}),T.jsxs("select",{className:"ff-select-dark small-select",value:se,onChange:H=>de(H.target.value),children:[T.jsx("option",{value:"cenario",children:"Cenrio"}),T.jsx("option",{value:"token",children:"Token"})]}),T.jsx("button",{type:"button",className:"btn-cyan",onClick:oe,children:"+"})]}),T.jsxs("div",{className:"assets-lists",children:[x.cenarios.length>0&&T.jsxs("div",{className:"asset-group",children:[T.jsx("label",{children:"CENRIOS:"}),x.cenarios.map((H,Te)=>T.jsxs("div",{className:"asset-item",children:[T.jsx("span",{className:"truncate-link",children:H}),T.jsx("button",{type:"button",className:"btn-remove-x",onClick:()=>ue("cenario",Te),children:""})]},Te))]}),x.tokens.length>0&&T.jsxs("div",{className:"asset-group",children:[T.jsx("label",{children:"TOKENS:"}),x.tokens.map((H,Te)=>T.jsxs("div",{className:"asset-item",children:[T.jsx("span",{className:"truncate-link",children:H}),T.jsx("button",{type:"button",className:"btn-remove-x",onClick:()=>ue("token",Te),children:""})]},Te))]})]})]}),T.jsxs("div",{className:"btn-group-ff",children:[T.jsx("button",{type:"submit",className:"btn-forjar-main",children:"AGENDAR SESSO"}),T.jsx("button",{type:"button",className:"btn-cancelar-main",onClick:()=>S(!1),children:"CANCELAR"})]})]})]})}),w&&T.jsx("div",{className:"ff-modal-overlay-fixed",onClick:()=>P(null),children:T.jsxs("div",{className:"ff-modal ff-card detail-view-main",onClick:H=>H.stopPropagation(),children:[T.jsxs("div",{className:"detail-header-modern",children:[T.jsx("div",{className:`detail-rank-badge rank-${w.rank}`,children:w.rank}),T.jsxs("div",{className:"detail-title-col",children:[T.jsx("h2",{children:w.nome}),T.jsxs("span",{className:"detail-narrator",children:["Narrador: ",w.mestreNome]})]})]}),T.jsxs("div",{className:"detail-body-grid",children:[T.jsxs("div",{className:"detail-info-row",children:[T.jsxs("div",{className:"info-item",children:[T.jsx("label",{children:" LOCAL"}),T.jsx("span",{children:w.local||"Desconhecido"})]}),T.jsxs("div",{className:"info-item",children:[T.jsx("label",{children:" CONTRATANTE"}),T.jsx("span",{children:w.contratante||"Annimo"})]})]}),T.jsxs("div",{className:"detail-section",children:[T.jsx("label",{className:"section-label",children:" DESCRIO DA MISSO"}),T.jsx("p",{className:"section-text",children:w.descricaoMissao||"Sem descrio."})]}),T.jsxs("div",{className:"detail-section",children:[T.jsx("label",{className:"section-label",children:" OBJETIVOS DA MISSO"}),T.jsx("p",{className:"section-text",children:w.objetivosMissao||"Sem objetivos definidos."})]}),T.jsxs("div",{className:"detail-section",children:[T.jsx("label",{className:"section-label",children:" REQUISITOS"}),T.jsx("p",{className:"section-text",children:w.requisitos||"Sem requisitos especiais."})]}),T.jsxs("div",{className:"detail-section reward-section",children:[T.jsx("label",{className:"section-label",children:" RECOMPENSAS"}),T.jsxs("div",{className:"reward-content-box",children:[T.jsxs("div",{className:"gil-display-row",children:[T.jsx("span",{className:"gil-icon",children:""}),T.jsxs("span",{className:"gil-value",children:[w.gilRecompensa||0," GIL"]})]}),w.recompensa&&T.jsx("div",{className:"extra-rewards-list",children:w.recompensa.split(`
`).map((H,Te)=>T.jsxs("div",{className:"reward-item",children:[" ",H]},Te))})]})]})]}),T.jsx("button",{className:"ff-final-close-btn",onClick:()=>P(null),children:"FECHAR RELATRIO"})]})}),Y&&T.jsx("div",{className:"papiro-overlay-full",onClick:()=>X(null),children:T.jsxs("div",{className:"papiro-real-container",style:{backgroundImage:`url(${bO})`},onClick:H=>H.stopPropagation(),children:[T.jsx("div",{className:"sanchez-oval-view-no-border",style:{backgroundImage:`url(${EO})`}}),T.jsx("h2",{className:"papiro-title-real",children:Y.titulo}),T.jsxs("p",{className:"papiro-mestre-sub",children:["Narrador: ",Y.mestre]}),T.jsx("div",{className:"papiro-body-real",dangerouslySetInnerHTML:{__html:Y.conteudo.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br/>")}}),T.jsxs("div",{className:"papiro-dest-list",children:[T.jsx("strong",{children:"ENVIADO PARA:"})," ",Y.destinatarios?.join(", ")]}),T.jsx("button",{className:"papiro-close-btn",onClick:()=>X(null),children:"FECHAR"})]})}),U&&T.jsx("div",{className:"ff-modal-overlay-fixed",onClick:()=>Q(null),children:T.jsxs("div",{className:"lightbox-wrap",children:[T.jsx("button",{className:"close-lightbox",onClick:()=>Q(null),children:""}),T.jsx("img",{src:U,alt:"Cartaz",className:"cartaz-full-view"})]})}),T.jsx(SO,{isMestre:!0}),T.jsx("style",{children:`
        .mestre-container { background: #000; min-height: 100vh; position: relative; color: #fff; font-family: 'serif'; overflow: hidden; }
        .mestre-bg-image-full { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center top; background-repeat: no-repeat; opacity: 0.35; z-index: 0; filter: contrast(125%) brightness(75%); }
        .mestre-content { position: relative; z-index: 1; padding: 30px; }
        .ff-title { color: #ffcc00; text-align: center; text-shadow: 0 0 10px #ffcc00; letter-spacing: 5px; margin-bottom: 30px; font-size: 2.5rem; }
        .mestre-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px; }
        
        .ff-card { background: rgba(0, 10, 30, 0.95); border: 1px solid #ffcc00; padding: 20px; border-radius: 4px; backdrop-filter: blur(10px); }
        .card-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 15px; }
        .card-header.no-border { border-bottom: none; }
        .board-column { height: 600px; display: flex; flex-direction: column; }

        .mestre-identity-box { display: flex; align-items: center; gap: 15px; margin-bottom: 30px; border: 1px solid #ffcc00; padding: 12px 20px; background: rgba(0, 10, 30, 0.9); width: fit-content; }
        .mestre-identity-box input { background: #fff; border: 1px solid #ffcc00; color: #000; padding: 5px 10px; font-weight: bold; font-family: 'serif'; outline: none; }

        .mission-scroll { flex: 1; overflow-y: auto; padding-right: 8px; }
        .mission-poster { background: rgba(255,255,255,0.04); border: 1px solid #444; margin-bottom: 15px; padding: 18px; border-left: 4px solid #00f2ff; position: relative; }
        .poster-rank-label-fixed { position: absolute; top: 12px; right: 18px; font-size: 32px; color: #ffcc00; opacity: 0.35; font-weight: bold; }
        .mestre-tag { color: #ffcc00; font-size: 10px; text-transform: uppercase; font-weight: bold; display: block; margin-bottom: 8px; }

        .sanchez-card { position: relative; overflow: hidden; }
        .sanchez-header-top { position: relative; z-index: 1; margin-bottom: 15px; border-bottom: 1px solid #333; padding-bottom: 10px; }
        .sanchez-header-top.no-border { border-bottom: none; }
        .resenha-item-card { background: rgba(255,255,255,0.05); border: 1px solid #333; padding: 15px; margin-top: 12px; border-radius: 4px; }

        /* SESSO CARD STYLES */
        .sessao-card { background: linear-gradient(135deg, rgba(20,20,50,0.9), rgba(0,0,20,0.9)); border: 1px solid #00f2ff; padding: 15px; margin-bottom: 15px; border-radius: 4px; box-shadow: 0 0 10px rgba(0,242,255,0.1); }
        .sessao-status { font-size: 10px; color: #f44; font-weight: bold; margin-bottom: 8px; animation: pulse 2s infinite; }
        .sessao-title { color: #fff; font-size: 18px; margin: 0 0 10px 0; border-bottom: 1px solid #333; padding-bottom: 8px; }
        .sessao-info { display: flex; justify-content: space-between; font-size: 12px; color: #aaa; margin-bottom: 10px; }
        .sessao-assets-count { font-size: 11px; color: #ffcc00; background: rgba(0,0,0,0.3); padding: 5px; border-radius: 3px; display: inline-block; }
        .btn-play-vtt { background: #00f2ff; color: #000; border: none; padding: 8px 15px; font-weight: bold; cursor: pointer; flex: 1; margin-right: 10px; transition: 0.3s; }
        .btn-play-vtt:hover { background: #fff; box-shadow: 0 0 15px #00f2ff; }
        
        @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }

        /* UPLOAD STYLES */
        .upload-section-box { border: 1px dashed #444; padding: 15px; margin: 20px 0; background: rgba(0,0,0,0.3); }
        .upload-section-title { color: #00f2ff; font-size: 12px; margin-bottom: 15px; border-bottom: 1px solid #00f2ff; padding-bottom: 5px; display: inline-block; }
        .ff-select-dark { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; outline: none; font-family: 'serif'; }
        .ff-input-dark { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; outline: none; font-family: 'serif'; color-scheme: dark; }

        /* IMPORT LINK STYLES */
        .link-import-row { display: flex; gap: 10px; margin-bottom: 15px; }
        .small-select { width: 120px; }
        .assets-lists { display: flex; flex-direction: column; gap: 10px; }
        .asset-group { background: rgba(255,255,255,0.05); padding: 10px; border-radius: 4px; }
        .asset-group label { display: block; color: #ffcc00; font-size: 10px; font-weight: bold; margin-bottom: 5px; border-bottom: 1px solid #333; }
        .asset-item { display: flex; justify-content: space-between; align-items: center; font-size: 11px; color: #ddd; margin-bottom: 4px; }
        .truncate-link { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 350px; }
        .btn-remove-x { background: transparent; border: none; color: #f44; font-weight: bold; cursor: pointer; font-size: 14px; }

        .ff-modal-overlay-fixed { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.94); z-index: 99999; display: flex; align-items: center; justify-content: center; }
        .ff-modal-scrollable { width: 550px; max-height: 90vh; overflow-y: auto; background: #000c1d; border: 2px solid #ffcc00; padding: 35px; box-shadow: 0 0 60px rgba(0,0,0,0.9); }
        .modal-title-ff { color: #fff; font-size: 22px; border-bottom: 1px solid #ffcc00; padding-bottom: 10px; margin-bottom: 20px; letter-spacing: 2px; }
        
        .modal-input-group { margin-bottom: 20px; }
        .modal-input-group label { color: #ffcc00; font-size: 11px; display: block; margin-bottom: 8px; font-weight: bold; letter-spacing: 1px; }
        .modal-input-group input { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; outline: none; font-family: 'serif'; font-size: 14px; }
        
        .row-double-ff { display: flex; gap: 20px; margin-bottom: 20px; }
        .field-group { flex: 1; display: flex; flex-direction: column; }
        .field-group label { color: #ffcc00; font-size: 11px; display: block; margin-bottom: 8px; font-weight: bold; }
        .field-group input, .field-group select { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; font-family: 'serif'; outline: none; }
        
        .tall-area-dark { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; height: 110px; resize: none; font-family: 'serif'; outline: none; }
        .tall-area-ff-dark { width: 100%; background: #000; border: 1px solid #ffcc00; color: #fff; padding: 15px; height: 250px; resize: none; font-family: 'serif'; outline: none; font-size: 16px; border-radius: 4px; }
        
        .detail-view-main { width: 600px; background: #000814; border: 1px solid #ffcc00; padding: 0; box-shadow: 0 0 40px rgba(255, 204, 0, 0.1); overflow: hidden; display: flex; flex-direction: column; }
        .detail-header-modern { background: linear-gradient(90deg, #1a1a1a 0%, #000 100%); padding: 25px 30px; display: flex; align-items: center; border-bottom: 1px solid #333; gap: 20px; }
        .detail-rank-badge { font-size: 32px; font-weight: bold; color: #ffcc00; text-shadow: 0 0 10px rgba(255,204,0,0.5); border: 2px solid #ffcc00; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background: rgba(0,0,0,0.5); }
        .detail-title-col h2 { margin: 0; font-size: 24px; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        .detail-narrator { color: #00f2ff; font-size: 12px; font-weight: bold; text-transform: uppercase; margin-top: 4px; display: block; }
        .detail-body-grid { padding: 30px; display: flex; flex-direction: column; gap: 20px; }
        .detail-info-row { display: flex; gap: 25px; margin-bottom: 10px; border-bottom: 1px solid #333; padding-bottom: 15px; }
        .info-item { flex: 1; }
        .info-item label { color: #ffcc00; font-size: 10px; display: block; margin-bottom: 5px; font-weight: bold; opacity: 0.8; }
        .info-item span { color: #fff; font-size: 14px; font-weight: bold; letter-spacing: 0.5px; }
        .detail-section { margin-bottom: 5px; }
        .section-label { color: #ffcc00; font-size: 11px; font-weight: bold; display: block; margin-bottom: 8px; letter-spacing: 1px; text-transform: uppercase; border-bottom: 1px solid #333; padding-bottom: 4px; }
        .section-text { font-size: 15px; line-height: 1.5; color: #ddd; margin: 0; white-space: pre-wrap; }
        .reward-section { margin-top: 10px; background: rgba(255,204,0,0.05); padding: 15px; border-radius: 4px; border: 1px solid rgba(255,204,0,0.2); }
        .gil-display-row { display: flex; align-items: center; gap: 10px; font-size: 18px; color: #ffcc00; font-weight: bold; margin-bottom: 8px; }
        .extra-rewards-list { margin-top: 8px; padding-left: 5px; }
        .reward-item { color: #aaa; font-size: 14px; margin-bottom: 4px; font-style: italic; }
        .ff-final-close-btn { width: 100%; background: #111; color: #fff; border: none; border-top: 1px solid #333; padding: 20px; font-weight: bold; cursor: pointer; font-size: 13px; text-transform: uppercase; transition: 0.2s; }
        .ff-final-close-btn:hover { background: #222; color: #ffcc00; }
        
        .papiro-overlay-full { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); z-index: 100000; display: flex; align-items: center; justify-content: center; }
        .papiro-real-container { width: 1000px; height: 800px; max-width: 95vw; max-height: 95vh; background-size: 100% 100%; background-repeat: no-repeat; padding: 110px 160px; color: #3b2b1a; position: relative; display: flex; flex-direction: column; }
        .sanchez-oval-view-no-border { width: 110px; height: 110px; float: right; border-radius: 50%; background-size: cover; margin-left: 20px; mask-image: radial-gradient(circle, black 60%, transparent 100%); -webkit-mask-image: radial-gradient(circle, black 60%, transparent 100%); opacity: 0.9; }
        .papiro-title-real { border-bottom: 2px solid #3b2b1a; padding-bottom: 5px; margin-top: 0; font-size: 32px; font-weight: bold; }
        .papiro-body-real { margin-top: 25px; flex: 1; overflow-y: auto; line-height: 1.6; font-size: 18px; padding-right: 10px; scrollbar-width: none; -ms-overflow-style: none; }
        .papiro-body-real::-webkit-scrollbar { display: none; }
        .papiro-dest-list { margin-top: 15px; font-size: 14px; border-top: 1px solid rgba(59, 43, 26, 0.3); padding-top: 10px; }
        .papiro-close-btn { position: absolute; bottom: 45px; right: 110px; background: #3b2b1a; color: #f4e4bc; border: none; padding: 8px 20px; cursor: pointer; font-weight: bold; font-size: 13px; border-radius: 2px; }

        .ff-add-btn { background: transparent; border: 1px solid #00f2ff; color: #00f2ff; padding: 10px 20px; cursor: pointer; font-weight: bold; font-size: 12px; }
        .ff-add-btn-gold-small { background: transparent; border: 1px solid #ffcc00; color: #ffcc00; padding: 8px 15px; cursor: pointer; font-weight: bold; font-size: 11px; transition: 0.3s; }
        .ff-add-btn-gold-small:hover { background: #ffcc00; color: #000; box-shadow: 0 0 15px #ffcc00; }
        .btn-cyan { border: 1px solid #00f2ff; color: #00f2ff; padding: 6px 15px; background: transparent; cursor: pointer; font-size: 11px; margin-right: 10px; font-weight: bold; }
        .btn-red { border: 1px solid #f44; color: #f44; padding: 6px 15px; background: transparent; cursor: pointer; font-size: 11px; font-weight: bold; }
        .btn-group-ff { display: flex; gap: 20px; margin-top: 25px; }
        .btn-forjar-main { flex: 1; background: #ffcc00; color: #000; border: none; padding: 14px; font-weight: bold; cursor: pointer; font-size: 14px; text-transform: uppercase; }
        .btn-cancelar-main { flex: 1; background: #000; color: #fff; border: 1px solid #fff; padding: 14px; cursor: pointer; text-align: center; font-size: 14px; text-transform: uppercase; }
        
        .player-selector-box-fixed { margin: 25px 0; border-top: 1px solid #333; padding-top: 15px; }
        .destinatarios-grid-fixed { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 12px; }
        .chip-label-ff { background: rgba(0, 10, 30, 0.8); border: 1px solid #ffcc00; color: #ffcc00; padding: 8px 18px; border-radius: 4px; font-size: 12px; cursor: pointer; display: inline-block; }

        .mission-timer { font-size: 12px; color: #00f2ff; display: block; margin-top: 10px; font-weight: bold; letter-spacing: 1px; }
        .fade-in { animation: fadeIn 1s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .lightbox-wrap { position: relative; max-width: 90vw; max-height: 90vh; }
        .cartaz-full-view { max-width: 100%; max-height: 90vh; border: 3px solid #ffcc00; box-shadow: 0 0 50px #000; }
        .close-lightbox { position: absolute; top: -40px; right: -40px; background: transparent; border: none; color: #fff; font-size: 40px; cursor: pointer; }
      `})]})}const wO=()=>T.jsx("div",{style:{color:"white",padding:"50px"},children:"PGINA DO JOGADOR EM CONSTRUO"}),RO=({user:r,children:e})=>r&&r.email==="fffvtt10@gmail.com"?e:T.jsx(zE,{to:"/admin-login"});function xO(){const[r,e]=z.useState(!0),[n,a]=z.useState(null);return z.useEffect(()=>{const o=NC(pn,u=>{a(u);const f=setTimeout(()=>{e(!1)},1e3);return()=>clearTimeout(f)});return()=>o()},[]),r?T.jsxs("div",{className:"ether-loading",children:[T.jsx("div",{className:"loading-blur-bg"}),T.jsxs("div",{className:"loading-content",children:[T.jsx("img",{src:hO,alt:"Carregando...",className:"chocobo-anim"}),T.jsx("div",{className:"loading-bar",children:T.jsx("div",{className:"loading-fill"})}),T.jsx("p",{children:"SINTONIZANDO COM O TER..."})]}),T.jsx("style",{children:`
          .ether-loading {
            height: 100vh; width: 100vw; background: #000;
            display: flex; align-items: center; justify-content: center;
            position: fixed; top: 0; left: 0; z-index: 9999;
          }
          .loading-blur-bg {
            position: absolute; width: 100%; height: 100%;
            background: radial-gradient(circle, #001a33 0%, #000 100%);
            filter: blur(40px);
            animation: pulseBlur 2s infinite alternate;
          }
          .loading-content { position: relative; z-index: 10; text-align: center; }
          .chocobo-anim { width: 120px; filter: drop-shadow(0 0 10px #ffcc00); margin-bottom: 20px; }
          
          .loading-bar {
            width: 200px; height: 2px; background: rgba(255, 255, 255, 0.1);
            margin: 0 auto 15px auto; border-radius: 10px; overflow: hidden;
          }
          .loading-fill {
            height: 100%; width: 0%; background: #ffcc00;
            box-shadow: 0 0 10px #ffcc00;
            animation: fillProgress 1s ease-in-out forwards;
          }
          
          p { color: #ffcc00; font-family: 'serif'; font-size: 10px; letter-spacing: 3px; animation: fadeText 1s infinite alternate; }
          
          @keyframes fillProgress { from { width: 0%; } to { width: 100%; } }
          @keyframes pulseBlur { from { opacity: 0.5; } to { opacity: 0.8; } }
          @keyframes fadeText { from { opacity: 0.4; } to { opacity: 1; } }
        `})]}):T.jsxs(aw,{children:[T.jsx(na,{path:"/",element:T.jsx(mO,{})}),T.jsx(na,{path:"/login",element:T.jsx(gO,{})}),T.jsx(na,{path:"/mestre",element:T.jsx(AO,{})}),T.jsx(na,{path:"/jogador",element:T.jsx(wO,{})}),T.jsx(na,{path:"/admin-login",element:T.jsx(yO,{})}),T.jsx(na,{path:"/admin",element:T.jsx(RO,{user:n,children:T.jsx(_O,{})})}),T.jsx(na,{path:"*",element:T.jsx(zE,{to:"/"})})]})}l1.createRoot(document.getElementById("root")).render(T.jsx(e1.StrictMode,{children:T.jsx(Iw,{children:T.jsx(xO,{})})}));
