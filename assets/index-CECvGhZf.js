(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function C_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var vm={exports:{}},Fl={};var V0;function sS(){if(V0)return Fl;V0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:h,ref:o!==void 0?o:null,props:c}}return Fl.Fragment=e,Fl.jsx=n,Fl.jsxs=n,Fl}var j0;function oS(){return j0||(j0=1,vm.exports=sS()),vm.exports}var y=oS(),bm={exports:{}},we={};var L0;function lS(){if(L0)return we;L0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),w=Symbol.iterator;function V(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,F={};function ie(k,Z,le){this.props=k,this.context=Z,this.refs=F,this.updater=le||H}ie.prototype.isReactComponent={},ie.prototype.setState=function(k,Z){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Z,"setState")},ie.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Q(){}Q.prototype=ie.prototype;function re(k,Z,le){this.props=k,this.context=Z,this.refs=F,this.updater=le||H}var me=re.prototype=new Q;me.constructor=re,z(me,ie.prototype),me.isPureReactComponent=!0;var be=Array.isArray;function ae(){}var N={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function R(k,Z,le){var ue=le.ref;return{$$typeof:i,type:k,key:Z,ref:ue!==void 0?ue:null,props:le}}function I(k,Z){return R(k.type,Z,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function j(k){var Z={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(le){return Z[le]})}var C=/\/+/g;function pe(k,Z){return typeof k=="object"&&k!==null&&k.key!=null?j(""+k.key):Z.toString(36)}function xe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ae,ae):(k.status="pending",k.then(function(Z){k.status==="pending"&&(k.status="fulfilled",k.value=Z)},function(Z){k.status==="pending"&&(k.status="rejected",k.reason=Z)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function K(k,Z,le,ue,Te){var Ce=typeof k;(Ce==="undefined"||Ce==="boolean")&&(k=null);var ke=!1;if(k===null)ke=!0;else switch(Ce){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(k.$$typeof){case i:case e:ke=!0;break;case E:return ke=k._init,K(ke(k._payload),Z,le,ue,Te)}}if(ke)return Te=Te(k),ke=ue===""?"."+pe(k,0):ue,be(Te)?(le="",ke!=null&&(le=ke.replace(C,"$&/")+"/"),K(Te,Z,le,"",function($){return $})):Te!=null&&(D(Te)&&(Te=I(Te,le+(Te.key==null||k&&k.key===Te.key?"":(""+Te.key).replace(C,"$&/")+"/")+ke)),Z.push(Te)),1;ke=0;var bt=ue===""?".":ue+":";if(be(k))for(var st=0;st<k.length;st++)ue=k[st],Ce=bt+pe(ue,st),ke+=K(ue,Z,le,Ce,Te);else if(st=V(k),typeof st=="function")for(k=st.call(k),st=0;!(ue=k.next()).done;)ue=ue.value,Ce=bt+pe(ue,st++),ke+=K(ue,Z,le,Ce,Te);else if(Ce==="object"){if(typeof k.then=="function")return K(xe(k),Z,le,ue,Te);throw Z=String(k),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ke}function se(k,Z,le){if(k==null)return k;var ue=[],Te=0;return K(k,ue,"","",function(Ce){return Z.call(le,Ce,Te++)}),ue}function he(k){if(k._status===-1){var Z=k._result;Z=Z(),Z.then(function(le){(k._status===0||k._status===-1)&&(k._status=1,k._result=le)},function(le){(k._status===0||k._status===-1)&&(k._status=2,k._result=le)}),k._status===-1&&(k._status=0,k._result=Z)}if(k._status===1)return k._result.default;throw k._result}var Se=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Pe={map:se,forEach:function(k,Z,le){se(k,function(){Z.apply(this,arguments)},le)},count:function(k){var Z=0;return se(k,function(){Z++}),Z},toArray:function(k){return se(k,function(Z){return Z})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return we.Activity=A,we.Children=Pe,we.Component=ie,we.Fragment=n,we.Profiler=o,we.PureComponent=re,we.StrictMode=r,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,we.__COMPILER_RUNTIME={__proto__:null,c:function(k){return N.H.useMemoCache(k)}},we.cache=function(k){return function(){return k.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(k,Z,le){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=z({},k.props),Te=k.key;if(Z!=null)for(Ce in Z.key!==void 0&&(Te=""+Z.key),Z)!x.call(Z,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Z.ref===void 0||(ue[Ce]=Z[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=le;else if(1<Ce){for(var ke=Array(Ce),bt=0;bt<Ce;bt++)ke[bt]=arguments[bt+2];ue.children=ke}return R(k.type,Te,ue)},we.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},we.createElement=function(k,Z,le){var ue,Te={},Ce=null;if(Z!=null)for(ue in Z.key!==void 0&&(Ce=""+Z.key),Z)x.call(Z,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Te[ue]=Z[ue]);var ke=arguments.length-2;if(ke===1)Te.children=le;else if(1<ke){for(var bt=Array(ke),st=0;st<ke;st++)bt[st]=arguments[st+2];Te.children=bt}if(k&&k.defaultProps)for(ue in ke=k.defaultProps,ke)Te[ue]===void 0&&(Te[ue]=ke[ue]);return R(k,Ce,Te)},we.createRef=function(){return{current:null}},we.forwardRef=function(k){return{$$typeof:m,render:k}},we.isValidElement=D,we.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:he}},we.memo=function(k,Z){return{$$typeof:g,type:k,compare:Z===void 0?null:Z}},we.startTransition=function(k){var Z=N.T,le={};N.T=le;try{var ue=k(),Te=N.S;Te!==null&&Te(le,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ae,Se)}catch(Ce){Se(Ce)}finally{Z!==null&&le.types!==null&&(Z.types=le.types),N.T=Z}},we.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},we.use=function(k){return N.H.use(k)},we.useActionState=function(k,Z,le){return N.H.useActionState(k,Z,le)},we.useCallback=function(k,Z){return N.H.useCallback(k,Z)},we.useContext=function(k){return N.H.useContext(k)},we.useDebugValue=function(){},we.useDeferredValue=function(k,Z){return N.H.useDeferredValue(k,Z)},we.useEffect=function(k,Z){return N.H.useEffect(k,Z)},we.useEffectEvent=function(k){return N.H.useEffectEvent(k)},we.useId=function(){return N.H.useId()},we.useImperativeHandle=function(k,Z,le){return N.H.useImperativeHandle(k,Z,le)},we.useInsertionEffect=function(k,Z){return N.H.useInsertionEffect(k,Z)},we.useLayoutEffect=function(k,Z){return N.H.useLayoutEffect(k,Z)},we.useMemo=function(k,Z){return N.H.useMemo(k,Z)},we.useOptimistic=function(k,Z){return N.H.useOptimistic(k,Z)},we.useReducer=function(k,Z,le){return N.H.useReducer(k,Z,le)},we.useRef=function(k){return N.H.useRef(k)},we.useState=function(k){return N.H.useState(k)},we.useSyncExternalStore=function(k,Z,le){return N.H.useSyncExternalStore(k,Z,le)},we.useTransition=function(){return N.H.useTransition()},we.version="19.2.4",we}var z0;function mp(){return z0||(z0=1,bm.exports=lS()),bm.exports}var O=mp();const cS=C_(O);var _m={exports:{}},Gl={},Em={exports:{}},Am={};var U0;function uS(){return U0||(U0=1,(function(i){function e(K,se){var he=K.length;K.push(se);e:for(;0<he;){var Se=he-1>>>1,Pe=K[Se];if(0<o(Pe,se))K[Se]=se,K[he]=Pe,he=Se;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var se=K[0],he=K.pop();if(he!==se){K[0]=he;e:for(var Se=0,Pe=K.length,k=Pe>>>1;Se<k;){var Z=2*(Se+1)-1,le=K[Z],ue=Z+1,Te=K[ue];if(0>o(le,he))ue<Pe&&0>o(Te,le)?(K[Se]=Te,K[ue]=he,Se=ue):(K[Se]=le,K[Z]=he,Se=Z);else if(ue<Pe&&0>o(Te,he))K[Se]=Te,K[ue]=he,Se=ue;else break e}}return se}function o(K,se){var he=K.sortIndex-se.sortIndex;return he!==0?he:K.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,A=null,w=3,V=!1,H=!1,z=!1,F=!1,ie=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function me(K){for(var se=n(g);se!==null;){if(se.callback===null)r(g);else if(se.startTime<=K)r(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function be(K){if(z=!1,me(K),!H)if(n(p)!==null)H=!0,ae||(ae=!0,j());else{var se=n(g);se!==null&&xe(be,se.startTime-K)}}var ae=!1,N=-1,x=5,R=-1;function I(){return F?!0:!(i.unstable_now()-R<x)}function D(){if(F=!1,ae){var K=i.unstable_now();R=K;var se=!0;try{e:{H=!1,z&&(z=!1,Q(N),N=-1),V=!0;var he=w;try{t:{for(me(K),A=n(p);A!==null&&!(A.expirationTime>K&&I());){var Se=A.callback;if(typeof Se=="function"){A.callback=null,w=A.priorityLevel;var Pe=Se(A.expirationTime<=K);if(K=i.unstable_now(),typeof Pe=="function"){A.callback=Pe,me(K),se=!0;break t}A===n(p)&&r(p),me(K)}else r(p);A=n(p)}if(A!==null)se=!0;else{var k=n(g);k!==null&&xe(be,k.startTime-K),se=!1}}break e}finally{A=null,w=he,V=!1}se=void 0}}finally{se?j():ae=!1}}}var j;if(typeof re=="function")j=function(){re(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,pe=C.port2;C.port1.onmessage=D,j=function(){pe.postMessage(null)}}else j=function(){ie(D,0)};function xe(K,se){N=ie(function(){K(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(K){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var he=w;w=se;try{return K()}finally{w=he}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var he=w;w=K;try{return se()}finally{w=he}},i.unstable_scheduleCallback=function(K,se,he){var Se=i.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Se+he:Se):he=Se,K){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=he+Pe,K={id:E++,callback:se,priorityLevel:K,startTime:he,expirationTime:Pe,sortIndex:-1},he>Se?(K.sortIndex=he,e(g,K),n(p)===null&&K===n(g)&&(z?(Q(N),N=-1):z=!0,xe(be,he-Se))):(K.sortIndex=Pe,e(p,K),H||V||(H=!0,ae||(ae=!0,j()))),K},i.unstable_shouldYield=I,i.unstable_wrapCallback=function(K){var se=w;return function(){var he=w;w=se;try{return K.apply(this,arguments)}finally{w=he}}}})(Am)),Am}var B0;function dS(){return B0||(B0=1,Em.exports=uS()),Em.exports}var Tm={exports:{}},rn={};var H0;function hS(){if(H0)return rn;H0=1;var i=mp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(p,g,null,E)},rn.flushSync=function(p){var g=h.T,E=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=g,r.p=E,r.d.f()}},rn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},rn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},rn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:V}):E==="script"&&r.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},rn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);r.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},rn.requestFormReset=function(p){r.d.r(p)},rn.unstable_batchedUpdates=function(p,g){return p(g)},rn.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},rn.useFormStatus=function(){return h.H.useHostTransitionStatus()},rn.version="19.2.4",rn}var q0;function fS(){if(q0)return Tm.exports;q0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Tm.exports=hS(),Tm.exports}var F0;function mS(){if(F0)return Gl;F0=1;var i=dS(),e=mp(),n=fS();function r(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function h(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function m(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(r(188))}function g(t){var a=t.alternate;if(!a){if(a=c(t),a===null)throw Error(r(188));return a!==t?null:t}for(var s=t,l=a;;){var d=s.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){s=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===s)return p(d),t;if(f===l)return p(d),a;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=d,l=f;else{for(var b=!1,T=d.child;T;){if(T===s){b=!0,s=d,l=f;break}if(T===l){b=!0,l=d,s=f;break}T=T.sibling}if(!b){for(T=f.child;T;){if(T===s){b=!0,s=f,l=d;break}if(T===l){b=!0,l=f,s=d;break}T=T.sibling}if(!b)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:a}function E(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=E(t),a!==null)return a;t=t.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),re=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case ie:return"Profiler";case F:return"StrictMode";case be:return"Suspense";case ae:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case re:return t.displayName||"Context";case Q:return(t._context.displayName||"Context")+".Consumer";case me:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return a=t.displayName||null,a!==null?a:pe(t.type)||"Memo";case x:a=t._payload,t=t._init;try{return pe(t(a))}catch{}}return null}var xe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Se=[],Pe=-1;function k(t){return{current:t}}function Z(t){0>Pe||(t.current=Se[Pe],Se[Pe]=null,Pe--)}function le(t,a){Pe++,Se[Pe]=t.current,t.current=a}var ue=k(null),Te=k(null),Ce=k(null),ke=k(null);function bt(t,a){switch(le(Ce,a),le(Te,t),le(ue,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?r0(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=r0(a),t=s0(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ue),le(ue,t)}function st(){Z(ue),Z(Te),Z(Ce)}function $(t){t.memoizedState!==null&&le(ke,t);var a=ue.current,s=s0(a,t.type);a!==s&&(le(Te,t),le(ue,s))}function Oe(t){Te.current===t&&(Z(ue),Z(Te)),ke.current===t&&(Z(ke),Ul._currentValue=he)}var nn,kn;function Bt(t){if(nn===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);nn=a&&a[1]||"",kn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nn+t+kn}var Mr=!1;function wi(t,a){if(!t||Mr)return"";Mr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(X){var G=X}Reflect.construct(t,[],te)}else{try{te.call()}catch(X){G=X}t.call(te.prototype)}}else{try{throw Error()}catch(X){G=X}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(X){if(X&&G&&typeof X.stack=="string")return[X.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),b=f[0],T=f[1];if(b&&T){var M=b.split(`
`),q=T.split(`
`);for(d=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(l===M.length||d===q.length)for(l=M.length-1,d=q.length-1;1<=l&&0<=d&&M[l]!==q[d];)d--;for(;1<=l&&0<=d;l--,d--)if(M[l]!==q[d]){if(l!==1||d!==1)do if(l--,d--,0>d||M[l]!==q[d]){var J=`
`+M[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=d);break}}}finally{Mr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Bt(s):""}function Tn(t,a){switch(t.tag){case 26:case 27:case 5:return Bt(t.type);case 16:return Bt("Lazy");case 13:return t.child!==a&&a!==null?Bt("Suspense Fallback"):Bt("Suspense");case 19:return Bt("SuspenseList");case 0:case 15:return wi(t.type,!1);case 11:return wi(t.type.render,!1);case 1:return wi(t.type,!0);case 31:return Bt("Activity");default:return""}}function an(t){try{var a="",s=null;do a+=Tn(t,s),s=t,t=t.return;while(t);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var mt=Object.prototype.hasOwnProperty,jt=i.unstable_scheduleCallback,Ni=i.unstable_cancelCallback,bh=i.unstable_shouldYield,Dc=i.unstable_requestPaint,un=i.unstable_now,Dr=i.unstable_getCurrentPriorityLevel,qo=i.unstable_ImmediatePriority,Fo=i.unstable_UserBlockingPriority,Ci=i.unstable_NormalPriority,_h=i.unstable_LowPriority,Oc=i.unstable_IdlePriority,Pc=i.log,kc=i.unstable_setDisableYieldValue,Wn=null,Qt=null;function Vn(t){if(typeof Pc=="function"&&kc(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Wn,t)}catch{}}var _t=Math.clz32?Math.clz32:jc,Vc=Math.log,Es=Math.LN2;function jc(t){return t>>>=0,t===0?32:31-(Vc(t)/Es|0)|0}var pa=256,Or=262144,Rt=4194304;function ga(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ya(t,a,s){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?d=ga(l):(b&=T,b!==0?d=ga(b):s||(s=T&~t,s!==0&&(d=ga(s))))):(T=l&~f,T!==0?d=ga(T):b!==0?d=ga(b):s||(s=l&~t,s!==0&&(d=ga(s)))),d===0?0:a!==0&&a!==d&&(a&f)===0&&(f=d&-d,s=a&-a,f>=s||f===32&&(s&4194048)!==0)?a:d}function ea(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Eh(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lc(){var t=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),t}function va(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function Pr(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ah(t,a,s,l,d,f){var b=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,M=t.expirationTimes,q=t.hiddenUpdates;for(s=b&~s;0<s;){var J=31-_t(s),te=1<<J;T[J]=0,M[J]=-1;var G=q[J];if(G!==null)for(q[J]=null,J=0;J<G.length;J++){var X=G[J];X!==null&&(X.lane&=-536870913)}s&=~te}l!==0&&kr(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(b&~a))}function kr(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var l=31-_t(a);t.entangledLanes|=a,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Go(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var l=31-_t(s),d=1<<l;d&a|t[l]&a&&(t[l]|=a),s&=~d}}function Qo(t,a){var s=a&-a;return s=(s&42)!==0?1:Vr(s),(s&(t.suspendedLanes|a))!==0?0:s}function Vr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ka(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zc(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:C0(t.type))}function ta(t,a){var s=se.p;try{return se.p=t,a()}finally{se.p=s}}var na=Math.random().toString(36).slice(2),wt="__reactFiber$"+na,Ht="__reactProps$"+na,ba="__reactContainer$"+na,As="__reactEvents$"+na,Th="__reactListeners$"+na,Uc="__reactHandles$"+na,Bc="__reactResources$"+na,_a="__reactMarker$"+na;function Ts(t){delete t[wt],delete t[Ht],delete t[As],delete t[Th],delete t[Uc]}function Ea(t){var a=t[wt];if(a)return a;for(var s=t.parentNode;s;){if(a=s[ba]||s[wt]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=f0(t);t!==null;){if(s=t[wt])return s;t=f0(t)}return a}t=s,s=t.parentNode}return null}function jn(t){if(t=t[wt]||t[ba]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function xn(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(r(33))}function Aa(t){var a=t[Bc];return a||(a=t[Bc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Nt(t){t[_a]=!0}var Ko=new Set,Yo={};function Ta(t,a){xa(t,a),xa(t+"Capture",a)}function xa(t,a){for(Yo[t]=a,t=0;t<a.length;t++)Ko.add(a[t])}var Xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$o={},Jo={};function Hc(t){return mt.call(Jo,t)?!0:mt.call($o,t)?!1:Xo.test(t)?Jo[t]=!0:($o[t]=!0,!1)}function xs(t,a,s){if(Hc(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function Sn(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function Ct(t,a,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+l)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ii(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Zo(t,a,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return d.call(this)},set:function(b){s=""+b,f.call(this,b)}}),Object.defineProperty(t,a,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Je(t){if(!t._valueTracker){var a=Ii(t)?"checked":"value";t._valueTracker=Zo(t,a,""+t[a])}}function jr(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),l="";return t&&(l=Ii(t)?t.checked?"true":"false":t.value),t=l,t!==s?(a.setValue(t),!0):!1}function Sa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Lr=/[\n"\\]/g;function fn(t){return t.replace(Lr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ss(t,a,s,l,d,f,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),a!=null?b==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+qt(a)):t.value!==""+qt(a)&&(t.value=""+qt(a)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),a!=null?Wo(t,b,qt(a)):s!=null?Wo(t,b,qt(s)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+qt(T):t.removeAttribute("name")}function qc(t,a,s,l,d,f,b,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),a!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||a!=null)){Je(t);return}s=s!=null?""+qt(s):"",a=a!=null?""+qt(a):s,T||a===t.value||(t.value=a),t.defaultValue=a}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),Je(t)}function Wo(t,a,s){a==="number"&&Sa(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Mi(t,a,s,l){if(t=t.options,a){a={};for(var d=0;d<s.length;d++)a["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=a.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&l&&(t[s].defaultSelected=!0)}else{for(s=""+qt(s),a=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}a!==null||t[d].disabled||(a=t[d])}a!==null&&(a.selected=!0)}}function Fc(t,a,s){if(a!=null&&(a=""+qt(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+qt(s):""}function Di(t,a,s,l){if(a==null){if(l!=null){if(s!=null)throw Error(r(92));if(xe(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),a=s}s=qt(a),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Je(t)}function mn(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var Gc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(t,a,s){var l=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":l?t.setProperty(a,s):typeof s!="number"||s===0||Gc.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function tl(t,a,s){if(a!=null&&typeof a!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in a)l=a[d],a.hasOwnProperty(d)&&s[d]!==l&&el(t,d,l)}else for(var f in a)a.hasOwnProperty(f)&&el(t,f,a[f])}function Rs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ws(t){return Oi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function aa(){}var nl=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pi=null,Ra=null;function zr(t){var a=jn(t);if(a&&(t=a.stateNode)){var s=t[Ht]||null;e:switch(t=a.stateNode,a.type){case"input":if(Ss(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+fn(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var l=s[a];if(l!==t&&l.form===t.form){var d=l[Ht]||null;if(!d)throw Error(r(90));Ss(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<s.length;a++)l=s[a],l.form===t.form&&jr(l)}break e;case"textarea":Fc(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&Mi(t,!!s.multiple,a,!1)}}}var Ns=!1;function ki(t,a,s){if(Ns)return t(a,s);Ns=!0;try{var l=t(a);return l}finally{if(Ns=!1,(Pi!==null||Ra!==null)&&(zu(),Pi&&(a=Pi,t=Ra,Ra=Pi=null,zr(a),t)))for(a=0;a<t.length;a++)zr(t[a])}}function ia(t,a){var s=t.stateNode;if(s===null)return null;var l=s[Ht]||null;if(l===null)return null;s=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,a,typeof s));return s}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(zn)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{Ur=!1}var wa=null,al=null,Br=null;function il(){if(Br)return Br;var t,a=al,s=a.length,l,d="value"in wa?wa.value:wa.textContent,f=d.length;for(t=0;t<s&&a[t]===d[t];t++);var b=s-t;for(l=1;l<=b&&a[s-l]===d[f-l];l++);return Br=d.slice(t,1<l?1-l:void 0)}function Hr(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Ya(){return!0}function ra(){return!1}function Kt(t){function a(s,l,d,f,b){this._reactName=s,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ya:ra,this.isPropagationStopped=ra,this}return A(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ya)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ya)},persist:function(){},isPersistent:Ya}),a}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=Kt(Xa),Vi=A({},Xa,{view:0,detail:0}),rl=Kt(Vi),ji,Cs,Ca,Is=A({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Li,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ca&&(Ca&&t.type==="mousemove"?(ji=t.screenX-Ca.screenX,Cs=t.screenY-Ca.screenY):Cs=ji=0,Ca=t),ji)},movementY:function(t){return"movementY"in t?t.movementY:Cs}}),sl=Kt(Is),qr=A({},Is,{dataTransfer:0}),Kc=Kt(qr),Yc=A({},Vi,{relatedTarget:0}),Fr=Kt(Yc),ol=A({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),Xc=Kt(ol),Ms=A({},Xa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$c=Kt(Ms),Jc=A({},Xa,{data:0}),Ia=Kt(Jc),Zc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tu(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=eu[t])?!!a[t]:!1}function Li(){return tu}var dn=A({},Vi,{key:function(t){if(t.key){var a=Zc[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Li,charCode:function(t){return t.type==="keypress"?Hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nu=Kt(dn),au=A({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$a=Kt(au),u=A({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Li}),v=Kt(u),_=A({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Kt(_),U=A({},Is,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Kt(U),oe=A({},Xa,{newState:0,oldState:0}),Ie=Kt(oe),Et=[9,13,27,32],Ye=zn&&"CompositionEvent"in window,dt=null;zn&&"documentMode"in document&&(dt=document.documentMode);var Un=zn&&"TextEvent"in window&&!dt,Ma=zn&&(!Ye||dt&&8<dt&&11>=dt),sa=" ",oa=!1;function Gr(t,a){switch(t){case"keyup":return Et.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ds(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Os=!1;function IT(t,a){switch(t){case"compositionend":return Ds(a);case"keypress":return a.which!==32?null:(oa=!0,sa);case"textInput":return t=a.data,t===sa&&oa?null:t;default:return null}}function MT(t,a){if(Os)return t==="compositionend"||!Ye&&Gr(t,a)?(t=il(),Br=al=wa=null,Os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ma&&a.locale!=="ko"?null:a.data;default:return null}}var DT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!DT[t.type]:a==="textarea"}function yg(t,a,s,l){Pi?Ra?Ra.push(l):Ra=[l]:Pi=l,a=Qu(a,"onChange"),0<a.length&&(s=new Na("onChange","change",null,s,l),t.push({event:s,listeners:a}))}var ll=null,cl=null;function OT(t){Wv(t,0)}function iu(t){var a=xn(t);if(jr(a))return t}function vg(t,a){if(t==="change")return a}var bg=!1;if(zn){var xh;if(zn){var Sh="oninput"in document;if(!Sh){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),Sh=typeof _g.oninput=="function"}xh=Sh}else xh=!1;bg=xh&&(!document.documentMode||9<document.documentMode)}function Eg(){ll&&(ll.detachEvent("onpropertychange",Ag),cl=ll=null)}function Ag(t){if(t.propertyName==="value"&&iu(cl)){var a=[];yg(a,cl,t,Ln(t)),ki(OT,a)}}function PT(t,a,s){t==="focusin"?(Eg(),ll=a,cl=s,ll.attachEvent("onpropertychange",Ag)):t==="focusout"&&Eg()}function kT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return iu(cl)}function VT(t,a){if(t==="click")return iu(a)}function jT(t,a){if(t==="input"||t==="change")return iu(a)}function LT(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Rn=typeof Object.is=="function"?Object.is:LT;function ul(t,a){if(Rn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),l=Object.keys(a);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var d=s[l];if(!mt.call(a,d)||!Rn(t[d],a[d]))return!1}return!0}function Tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xg(t,a){var s=Tg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=a&&l>=a)return{node:s,offset:a-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Tg(s)}}function Sg(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Sg(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Rg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Sa(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=Sa(t.document)}return a}function Rh(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var zT=zn&&"documentMode"in document&&11>=document.documentMode,Ps=null,wh=null,dl=null,Nh=!1;function wg(t,a,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Nh||Ps==null||Ps!==Sa(l)||(l=Ps,"selectionStart"in l&&Rh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&ul(dl,l)||(dl=l,l=Qu(wh,"onSelect"),0<l.length&&(a=new Na("onSelect","select",null,a,s),t.push({event:a,listeners:l}),a.target=Ps)))}function Qr(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var ks={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},Ch={},Ng={};zn&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Kr(t){if(Ch[t])return Ch[t];if(!ks[t])return t;var a=ks[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in Ng)return Ch[t]=a[s];return t}var Cg=Kr("animationend"),Ig=Kr("animationiteration"),Mg=Kr("animationstart"),UT=Kr("transitionrun"),BT=Kr("transitionstart"),HT=Kr("transitioncancel"),Dg=Kr("transitionend"),Og=new Map,Ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ih.push("scrollEnd");function la(t,a){Og.set(t,a),Ta(a,[t])}var ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Bn=[],Vs=0,Mh=0;function su(){for(var t=Vs,a=Mh=Vs=0;a<t;){var s=Bn[a];Bn[a++]=null;var l=Bn[a];Bn[a++]=null;var d=Bn[a];Bn[a++]=null;var f=Bn[a];if(Bn[a++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}f!==0&&Pg(s,d,f)}}function ou(t,a,s,l){Bn[Vs++]=t,Bn[Vs++]=a,Bn[Vs++]=s,Bn[Vs++]=l,Mh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Dh(t,a,s,l){return ou(t,a,s,l),lu(t)}function Yr(t,a){return ou(t,null,null,a),lu(t)}function Pg(t,a,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var d=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&a!==null&&(d=31-_t(s),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[a]:l.push(a),a.lane=s|536870912),f):null}function lu(t){if(50<Ol)throw Ol=0,Hf=null,Error(r(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var js={};function qT(t,a,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,a,s,l){return new qT(t,a,s,l)}function Oh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ja(t,a){var s=t.alternate;return s===null?(s=wn(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function kg(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function cu(t,a,s,l,d,f){var b=0;if(l=t,typeof t=="function")Oh(t)&&(b=1);else if(typeof t=="string")b=Yx(t,s,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=wn(31,s,a,d),t.elementType=R,t.lanes=f,t;case z:return Xr(s.children,d,f,a);case F:b=8,d|=24;break;case ie:return t=wn(12,s,a,d|2),t.elementType=ie,t.lanes=f,t;case be:return t=wn(13,s,a,d),t.elementType=be,t.lanes=f,t;case ae:return t=wn(19,s,a,d),t.elementType=ae,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:b=10;break e;case Q:b=9;break e;case me:b=11;break e;case N:b=14;break e;case x:b=16,l=null;break e}b=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return a=wn(b,s,a,d),a.elementType=t,a.type=l,a.lanes=f,a}function Xr(t,a,s,l){return t=wn(7,t,l,a),t.lanes=s,t}function Ph(t,a,s){return t=wn(6,t,null,a),t.lanes=s,t}function Vg(t){var a=wn(18,null,null,0);return a.stateNode=t,a}function kh(t,a,s){return a=wn(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var jg=new WeakMap;function Hn(t,a){if(typeof t=="object"&&t!==null){var s=jg.get(t);return s!==void 0?s:(a={value:t,source:a,stack:an(a)},jg.set(t,a),a)}return{value:t,source:a,stack:an(a)}}var Ls=[],zs=0,uu=null,hl=0,qn=[],Fn=0,zi=null,Da=1,Oa="";function Za(t,a){Ls[zs++]=hl,Ls[zs++]=uu,uu=t,hl=a}function Lg(t,a,s){qn[Fn++]=Da,qn[Fn++]=Oa,qn[Fn++]=zi,zi=t;var l=Da;t=Oa;var d=32-_t(l)-1;l&=~(1<<d),s+=1;var f=32-_t(a)+d;if(30<f){var b=d-d%5;f=(l&(1<<b)-1).toString(32),l>>=b,d-=b,Da=1<<32-_t(a)+d|s<<d|l,Oa=f+t}else Da=1<<f|s<<d|l,Oa=t}function Vh(t){t.return!==null&&(Za(t,1),Lg(t,1,0))}function jh(t){for(;t===uu;)uu=Ls[--zs],Ls[zs]=null,hl=Ls[--zs],Ls[zs]=null;for(;t===zi;)zi=qn[--Fn],qn[Fn]=null,Oa=qn[--Fn],qn[Fn]=null,Da=qn[--Fn],qn[Fn]=null}function zg(t,a){qn[Fn++]=Da,qn[Fn++]=Oa,qn[Fn++]=zi,Da=a.id,Oa=a.overflow,zi=t}var Yt=null,lt=null,Fe=!1,Ui=null,Gn=!1,Lh=Error(r(519));function Bi(t){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(Hn(a,t)),Lh}function Ug(t){var a=t.stateNode,s=t.type,l=t.memoizedProps;switch(a[wt]=t,a[Ht]=l,s){case"dialog":je("cancel",a),je("close",a);break;case"iframe":case"object":case"embed":je("load",a);break;case"video":case"audio":for(s=0;s<kl.length;s++)je(kl[s],a);break;case"source":je("error",a);break;case"img":case"image":case"link":je("error",a),je("load",a);break;case"details":je("toggle",a);break;case"input":je("invalid",a),qc(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",a);break;case"textarea":je("invalid",a),Di(a,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||l.suppressHydrationWarning===!0||a0(a.textContent,s)?(l.popover!=null&&(je("beforetoggle",a),je("toggle",a)),l.onScroll!=null&&je("scroll",a),l.onScrollEnd!=null&&je("scrollend",a),l.onClick!=null&&(a.onclick=aa),a=!0):a=!1,a||Bi(t,!0)}function Bg(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Yt=Yt.return}}function Us(t){if(t!==Yt)return!1;if(!Fe)return Bg(t),Fe=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||am(t.type,t.memoizedProps)),s=!s),s&&lt&&Bi(t),Bg(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));lt=h0(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));lt=h0(t)}else a===27?(a=lt,tr(t.type)?(t=lm,lm=null,lt=t):lt=a):lt=Yt?Kn(t.stateNode.nextSibling):null;return!0}function $r(){lt=Yt=null,Fe=!1}function zh(){var t=Ui;return t!==null&&(vn===null?vn=t:vn.push.apply(vn,t),Ui=null),t}function fl(t){Ui===null?Ui=[t]:Ui.push(t)}var Uh=k(null),Jr=null,Wa=null;function Hi(t,a,s){le(Uh,a._currentValue),a._currentValue=s}function ei(t){t._currentValue=Uh.current,Z(Uh)}function Bh(t,a,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),t===s)break;t=t.return}}function Hh(t,a,s,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var b=d.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=d;for(var M=0;M<a.length;M++)if(T.context===a[M]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Bh(f.return,s,t),l||(b=null);break e}f=T.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(r(341));b.lanes|=s,f=b.alternate,f!==null&&(f.lanes|=s),Bh(b,s,t),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===t){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Bs(t,a,s,l){t=null;for(var d=a,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var T=d.type;Rn(d.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(d===ke.current){if(b=d.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}d=d.return}t!==null&&Hh(a,t,s,l),a.flags|=262144}function du(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zr(t){Jr=t,Wa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return Hg(Jr,t)}function hu(t,a){return Jr===null&&Zr(t),Hg(t,a)}function Hg(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Wa===null){if(t===null)throw Error(r(308));Wa=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else Wa=Wa.next=a;return s}var FT=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},GT=i.unstable_scheduleCallback,QT=i.unstable_NormalPriority,It={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qh(){return{controller:new FT,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&GT(QT,function(){t.controller.abort()})}var pl=null,Fh=0,Hs=0,qs=null;function KT(t,a){if(pl===null){var s=pl=[];Fh=0,Hs=Yf(),qs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Fh++,a.then(qg,qg),a}function qg(){if(--Fh===0&&pl!==null){qs!==null&&(qs.status="fulfilled");var t=pl;pl=null,Hs=0,qs=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function YT(t,a){var s=[],l={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){l.status="fulfilled",l.value=a;for(var d=0;d<s.length;d++)(0,s[d])(a)},function(d){for(l.status="rejected",l.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),l}var Fg=K.S;K.S=function(t,a){wv=un(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&KT(t,a),Fg!==null&&Fg(t,a)};var Wr=k(null);function Gh(){var t=Wr.current;return t!==null?t:rt.pooledCache}function fu(t,a){a===null?le(Wr,Wr.current):le(Wr,a.pool)}function Gg(){var t=Gh();return t===null?null:{parent:It._currentValue,pool:t}}var Fs=Error(r(460)),Qh=Error(r(474)),mu=Error(r(542)),pu={then:function(){}};function Qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Kg(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(aa,aa),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Xg(t),t;default:if(typeof a.status=="string")a.then(aa,aa);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=a,t.status="pending",t.then(function(l){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=l}},function(l){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Xg(t),t}throw ts=a,Fs}}function es(t){try{var a=t._init;return a(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ts=s,Fs):s}}var ts=null;function Yg(){if(ts===null)throw Error(r(459));var t=ts;return ts=null,t}function Xg(t){if(t===Fs||t===mu)throw Error(r(483))}var Gs=null,gl=0;function gu(t){var a=gl;return gl+=1,Gs===null&&(Gs=[]),Kg(Gs,t,a)}function yl(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function yu(t,a){throw a.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(a),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function $g(t){function a(L,P){if(t){var B=L.deletions;B===null?(L.deletions=[P],L.flags|=16):B.push(P)}}function s(L,P){if(!t)return null;for(;P!==null;)a(L,P),P=P.sibling;return null}function l(L){for(var P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function d(L,P){return L=Ja(L,P),L.index=0,L.sibling=null,L}function f(L,P,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<P?(L.flags|=67108866,P):B):(L.flags|=67108866,P)):(L.flags|=1048576,P)}function b(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,P,B,W){return P===null||P.tag!==6?(P=Ph(B,L.mode,W),P.return=L,P):(P=d(P,B),P.return=L,P)}function M(L,P,B,W){var ye=B.type;return ye===z?J(L,P,B.props.children,W,B.key):P!==null&&(P.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&es(ye)===P.type)?(P=d(P,B.props),yl(P,B),P.return=L,P):(P=cu(B.type,B.key,B.props,null,L.mode,W),yl(P,B),P.return=L,P)}function q(L,P,B,W){return P===null||P.tag!==4||P.stateNode.containerInfo!==B.containerInfo||P.stateNode.implementation!==B.implementation?(P=kh(B,L.mode,W),P.return=L,P):(P=d(P,B.children||[]),P.return=L,P)}function J(L,P,B,W,ye){return P===null||P.tag!==7?(P=Xr(B,L.mode,W,ye),P.return=L,P):(P=d(P,B),P.return=L,P)}function te(L,P,B){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Ph(""+P,L.mode,B),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case V:return B=cu(P.type,P.key,P.props,null,L.mode,B),yl(B,P),B.return=L,B;case H:return P=kh(P,L.mode,B),P.return=L,P;case x:return P=es(P),te(L,P,B)}if(xe(P)||j(P))return P=Xr(P,L.mode,B,null),P.return=L,P;if(typeof P.then=="function")return te(L,gu(P),B);if(P.$$typeof===re)return te(L,hu(L,P),B);yu(L,P)}return null}function G(L,P,B,W){var ye=P!==null?P.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ye!==null?null:T(L,P,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case V:return B.key===ye?M(L,P,B,W):null;case H:return B.key===ye?q(L,P,B,W):null;case x:return B=es(B),G(L,P,B,W)}if(xe(B)||j(B))return ye!==null?null:J(L,P,B,W,null);if(typeof B.then=="function")return G(L,P,gu(B),W);if(B.$$typeof===re)return G(L,P,hu(L,B),W);yu(L,B)}return null}function X(L,P,B,W,ye){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(B)||null,T(P,L,""+W,ye);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case V:return L=L.get(W.key===null?B:W.key)||null,M(P,L,W,ye);case H:return L=L.get(W.key===null?B:W.key)||null,q(P,L,W,ye);case x:return W=es(W),X(L,P,B,W,ye)}if(xe(W)||j(W))return L=L.get(B)||null,J(P,L,W,ye,null);if(typeof W.then=="function")return X(L,P,B,gu(W),ye);if(W.$$typeof===re)return X(L,P,B,hu(P,W),ye);yu(P,W)}return null}function fe(L,P,B,W){for(var ye=null,Qe=null,ge=P,De=P=0,Ue=null;ge!==null&&De<B.length;De++){ge.index>De?(Ue=ge,ge=null):Ue=ge.sibling;var Ke=G(L,ge,B[De],W);if(Ke===null){ge===null&&(ge=Ue);break}t&&ge&&Ke.alternate===null&&a(L,ge),P=f(Ke,P,De),Qe===null?ye=Ke:Qe.sibling=Ke,Qe=Ke,ge=Ue}if(De===B.length)return s(L,ge),Fe&&Za(L,De),ye;if(ge===null){for(;De<B.length;De++)ge=te(L,B[De],W),ge!==null&&(P=f(ge,P,De),Qe===null?ye=ge:Qe.sibling=ge,Qe=ge);return Fe&&Za(L,De),ye}for(ge=l(ge);De<B.length;De++)Ue=X(ge,L,De,B[De],W),Ue!==null&&(t&&Ue.alternate!==null&&ge.delete(Ue.key===null?De:Ue.key),P=f(Ue,P,De),Qe===null?ye=Ue:Qe.sibling=Ue,Qe=Ue);return t&&ge.forEach(function(sr){return a(L,sr)}),Fe&&Za(L,De),ye}function _e(L,P,B,W){if(B==null)throw Error(r(151));for(var ye=null,Qe=null,ge=P,De=P=0,Ue=null,Ke=B.next();ge!==null&&!Ke.done;De++,Ke=B.next()){ge.index>De?(Ue=ge,ge=null):Ue=ge.sibling;var sr=G(L,ge,Ke.value,W);if(sr===null){ge===null&&(ge=Ue);break}t&&ge&&sr.alternate===null&&a(L,ge),P=f(sr,P,De),Qe===null?ye=sr:Qe.sibling=sr,Qe=sr,ge=Ue}if(Ke.done)return s(L,ge),Fe&&Za(L,De),ye;if(ge===null){for(;!Ke.done;De++,Ke=B.next())Ke=te(L,Ke.value,W),Ke!==null&&(P=f(Ke,P,De),Qe===null?ye=Ke:Qe.sibling=Ke,Qe=Ke);return Fe&&Za(L,De),ye}for(ge=l(ge);!Ke.done;De++,Ke=B.next())Ke=X(ge,L,De,Ke.value,W),Ke!==null&&(t&&Ke.alternate!==null&&ge.delete(Ke.key===null?De:Ke.key),P=f(Ke,P,De),Qe===null?ye=Ke:Qe.sibling=Ke,Qe=Ke);return t&&ge.forEach(function(rS){return a(L,rS)}),Fe&&Za(L,De),ye}function it(L,P,B,W){if(typeof B=="object"&&B!==null&&B.type===z&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case V:e:{for(var ye=B.key;P!==null;){if(P.key===ye){if(ye=B.type,ye===z){if(P.tag===7){s(L,P.sibling),W=d(P,B.props.children),W.return=L,L=W;break e}}else if(P.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&es(ye)===P.type){s(L,P.sibling),W=d(P,B.props),yl(W,B),W.return=L,L=W;break e}s(L,P);break}else a(L,P);P=P.sibling}B.type===z?(W=Xr(B.props.children,L.mode,W,B.key),W.return=L,L=W):(W=cu(B.type,B.key,B.props,null,L.mode,W),yl(W,B),W.return=L,L=W)}return b(L);case H:e:{for(ye=B.key;P!==null;){if(P.key===ye)if(P.tag===4&&P.stateNode.containerInfo===B.containerInfo&&P.stateNode.implementation===B.implementation){s(L,P.sibling),W=d(P,B.children||[]),W.return=L,L=W;break e}else{s(L,P);break}else a(L,P);P=P.sibling}W=kh(B,L.mode,W),W.return=L,L=W}return b(L);case x:return B=es(B),it(L,P,B,W)}if(xe(B))return fe(L,P,B,W);if(j(B)){if(ye=j(B),typeof ye!="function")throw Error(r(150));return B=ye.call(B),_e(L,P,B,W)}if(typeof B.then=="function")return it(L,P,gu(B),W);if(B.$$typeof===re)return it(L,P,hu(L,B),W);yu(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,P!==null&&P.tag===6?(s(L,P.sibling),W=d(P,B),W.return=L,L=W):(s(L,P),W=Ph(B,L.mode,W),W.return=L,L=W),b(L)):s(L,P)}return function(L,P,B,W){try{gl=0;var ye=it(L,P,B,W);return Gs=null,ye}catch(ge){if(ge===Fs||ge===mu)throw ge;var Qe=wn(29,ge,null,L.mode);return Qe.lanes=W,Qe.return=L,Qe}}}var ns=$g(!0),Jg=$g(!1),qi=!1;function Kh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gi(t,a,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var d=l.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),l.pending=a,a=lu(t),Pg(t,null,s),a}return ou(t,l,a,s),lu(t)}function vl(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var l=a.lanes;l&=t.pendingLanes,s|=l,a.lanes=s,Go(t,s)}}function Xh(t,a){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var d=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?d=f=b:f=f.next=b,s=s.next}while(s!==null);f===null?d=f=a:f=f.next=a}else d=f=a;s={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var $h=!1;function bl(){if($h){var t=qs;if(t!==null)throw t}}function _l(t,a,s,l){$h=!1;var d=t.updateQueue;qi=!1;var f=d.firstBaseUpdate,b=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var M=T,q=M.next;M.next=null,b===null?f=q:b.next=q,b=M;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==b&&(T===null?J.firstBaseUpdate=q:T.next=q,J.lastBaseUpdate=M))}if(f!==null){var te=d.baseState;b=0,J=q=M=null,T=f;do{var G=T.lane&-536870913,X=G!==T.lane;if(X?(ze&G)===G:(l&G)===G){G!==0&&G===Hs&&($h=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,_e=T;G=a;var it=s;switch(_e.tag){case 1:if(fe=_e.payload,typeof fe=="function"){te=fe.call(it,te,G);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=_e.payload,G=typeof fe=="function"?fe.call(it,te,G):fe,G==null)break e;te=A({},te,G);break e;case 2:qi=!0}}G=T.callback,G!==null&&(t.flags|=64,X&&(t.flags|=8192),X=d.callbacks,X===null?d.callbacks=[G]:X.push(G))}else X={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(q=J=X,M=te):J=J.next=X,b|=G;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;X=T,T=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);J===null&&(M=te),d.baseState=M,d.firstBaseUpdate=q,d.lastBaseUpdate=J,f===null&&(d.shared.lanes=0),$i|=b,t.lanes=b,t.memoizedState=te}}function Zg(t,a){if(typeof t!="function")throw Error(r(191,t));t.call(a)}function Wg(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Zg(s[t],a)}var Qs=k(null),vu=k(0);function ey(t,a){t=ci,le(vu,t),le(Qs,a),ci=t|a.baseLanes}function Jh(){le(vu,ci),le(Qs,Qs.current)}function Zh(){ci=vu.current,Z(Qs),Z(vu)}var Nn=k(null),Qn=null;function Qi(t){var a=t.alternate;le(At,At.current&1),le(Nn,t),Qn===null&&(a===null||Qs.current!==null||a.memoizedState!==null)&&(Qn=t)}function Wh(t){le(At,At.current),le(Nn,t),Qn===null&&(Qn=t)}function ty(t){t.tag===22?(le(At,At.current),le(Nn,t),Qn===null&&(Qn=t)):Ki()}function Ki(){le(At,At.current),le(Nn,Nn.current)}function Cn(t){Z(Nn),Qn===t&&(Qn=null),Z(At)}var At=k(0);function bu(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||sm(s)||om(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ti=0,Me=null,nt=null,Mt=null,_u=!1,Ks=!1,as=!1,Eu=0,El=0,Ys=null,XT=0;function gt(){throw Error(r(321))}function ef(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!Rn(t[s],a[s]))return!1;return!0}function tf(t,a,s,l,d,f){return ti=f,Me=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,K.H=t===null||t.memoizedState===null?Ly:yf,as=!1,f=s(l,d),as=!1,Ks&&(f=ay(a,s,l,d)),ny(t),f}function ny(t){K.H=xl;var a=nt!==null&&nt.next!==null;if(ti=0,Mt=nt=Me=null,_u=!1,El=0,Ys=null,a)throw Error(r(300));t===null||Dt||(t=t.dependencies,t!==null&&du(t)&&(Dt=!0))}function ay(t,a,s,l){Me=t;var d=0;do{if(Ks&&(Ys=null),El=0,Ks=!1,25<=d)throw Error(r(301));if(d+=1,Mt=nt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=zy,f=a(s,l)}while(Ks);return f}function $T(){var t=K.H,a=t.useState()[0];return a=typeof a.then=="function"?Al(a):a,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Me.flags|=1024),a}function nf(){var t=Eu!==0;return Eu=0,t}function af(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function rf(t){if(_u){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}_u=!1}ti=0,Mt=nt=Me=null,Ks=!1,El=Eu=0,Ys=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Me.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function Tt(){if(nt===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var a=Mt===null?Me.memoizedState:Mt.next;if(a!==null)Mt=a,nt=t;else{if(t===null)throw Me.alternate===null?Error(r(467)):Error(r(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Mt===null?Me.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function Au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(t){var a=El;return El+=1,Ys===null&&(Ys=[]),t=Kg(Ys,t,a),a=Me,(Mt===null?a.memoizedState:Mt.next)===null&&(a=a.alternate,K.H=a===null||a.memoizedState===null?Ly:yf),t}function Tu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===re)return Xt(t)}throw Error(r(438,String(t)))}function sf(t){var a=null,s=Me.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Au(),Me.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),l=0;l<t;l++)s[l]=I;return a.index++,s}function ni(t,a){return typeof a=="function"?a(t):a}function xu(t){var a=Tt();return of(a,nt,t)}function of(t,a,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var b=d.next;d.next=f.next,f.next=b}a.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{a=d.next;var T=b=null,M=null,q=a,J=!1;do{var te=q.lane&-536870913;if(te!==q.lane?(ze&te)===te:(ti&te)===te){var G=q.revertLane;if(G===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),te===Hs&&(J=!0);else if((ti&G)===G){q=q.next,G===Hs&&(J=!0);continue}else te={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(T=M=te,b=f):M=M.next=te,Me.lanes|=G,$i|=G;te=q.action,as&&s(f,te),f=q.hasEagerState?q.eagerState:s(f,te)}else G={lane:te,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(T=M=G,b=f):M=M.next=G,Me.lanes|=te,$i|=te;q=q.next}while(q!==null&&q!==a);if(M===null?b=f:M.next=T,!Rn(f,t.memoizedState)&&(Dt=!0,J&&(s=qs,s!==null)))throw s;t.memoizedState=f,t.baseState=b,t.baseQueue=M,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function lf(t){var a=Tt(),s=a.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,d=s.pending,f=a.memoizedState;if(d!==null){s.pending=null;var b=d=d.next;do f=t(f,b.action),b=b.next;while(b!==d);Rn(f,a.memoizedState)||(Dt=!0),a.memoizedState=f,a.baseQueue===null&&(a.baseState=f),s.lastRenderedState=f}return[f,l]}function iy(t,a,s){var l=Me,d=Tt(),f=Fe;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=a();var b=!Rn((nt||d).memoizedState,s);if(b&&(d.memoizedState=s,Dt=!0),d=d.queue,df(oy.bind(null,l,d,t),[t]),d.getSnapshot!==a||b||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,Xs(9,{destroy:void 0},sy.bind(null,l,d,s,a),null),rt===null)throw Error(r(349));f||(ti&127)!==0||ry(l,a,s)}return s}function ry(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=Me.updateQueue,a===null?(a=Au(),Me.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function sy(t,a,s,l){a.value=s,a.getSnapshot=l,ly(a)&&cy(t)}function oy(t,a,s){return s(function(){ly(a)&&cy(t)})}function ly(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!Rn(t,s)}catch{return!0}}function cy(t){var a=Yr(t,2);a!==null&&bn(a,t,2)}function cf(t){var a=hn();if(typeof t=="function"){var s=t;if(t=s(),as){Vn(!0);try{s()}finally{Vn(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:t},a}function uy(t,a,s,l){return t.baseState=s,of(t,nt,typeof l=="function"?l:ni)}function JT(t,a,s,l,d){if(wu(t))throw Error(r(485));if(t=a.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){f.listeners.push(b)}};K.T!==null?s(!0):f.isTransition=!1,l(f),s=a.pending,s===null?(f.next=a.pending=f,dy(a,f)):(f.next=s.next,a.pending=s.next=f)}}function dy(t,a){var s=a.action,l=a.payload,d=t.state;if(a.isTransition){var f=K.T,b={};K.T=b;try{var T=s(d,l),M=K.S;M!==null&&M(b,T),hy(t,a,T)}catch(q){uf(t,a,q)}finally{f!==null&&b.types!==null&&(f.types=b.types),K.T=f}}else try{f=s(d,l),hy(t,a,f)}catch(q){uf(t,a,q)}}function hy(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){fy(t,a,l)},function(l){return uf(t,a,l)}):fy(t,a,s)}function fy(t,a,s){a.status="fulfilled",a.value=s,my(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,dy(t,s)))}function uf(t,a,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=s,my(a),a=a.next;while(a!==l)}t.action=null}function my(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function py(t,a){return a}function gy(t,a){if(Fe){var s=rt.formState;if(s!==null){e:{var l=Me;if(Fe){if(lt){t:{for(var d=lt,f=Gn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Kn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){lt=Kn(d.nextSibling),l=d.data==="F!";break e}}Bi(l)}l=!1}l&&(a=s[0])}}return s=hn(),s.memoizedState=s.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:py,lastRenderedState:a},s.queue=l,s=ky.bind(null,Me,l),l.dispatch=s,l=cf(!1),f=gf.bind(null,Me,!1,l.queue),l=hn(),d={state:a,dispatch:null,action:t,pending:null},l.queue=d,s=JT.bind(null,Me,d,f,s),d.dispatch=s,l.memoizedState=t,[a,s,!1]}function yy(t){var a=Tt();return vy(a,nt,t)}function vy(t,a,s){if(a=of(t,a,py)[0],t=xu(ni)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=Al(a)}catch(b){throw b===Fs?mu:b}else l=a;a=Tt();var d=a.queue,f=d.dispatch;return s!==a.memoizedState&&(Me.flags|=2048,Xs(9,{destroy:void 0},ZT.bind(null,d,s),null)),[l,f,t]}function ZT(t,a){t.action=a}function by(t){var a=Tt(),s=nt;if(s!==null)return vy(a,s,t);Tt(),a=a.memoizedState,s=Tt();var l=s.queue.dispatch;return s.memoizedState=t,[a,l,!1]}function Xs(t,a,s,l){return t={tag:t,create:s,deps:l,inst:a,next:null},a=Me.updateQueue,a===null&&(a=Au(),Me.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,a.lastEffect=t),t}function _y(){return Tt().memoizedState}function Su(t,a,s,l){var d=hn();Me.flags|=t,d.memoizedState=Xs(1|a,{destroy:void 0},s,l===void 0?null:l)}function Ru(t,a,s,l){var d=Tt();l=l===void 0?null:l;var f=d.memoizedState.inst;nt!==null&&l!==null&&ef(l,nt.memoizedState.deps)?d.memoizedState=Xs(a,f,s,l):(Me.flags|=t,d.memoizedState=Xs(1|a,f,s,l))}function Ey(t,a){Su(8390656,8,t,a)}function df(t,a){Ru(2048,8,t,a)}function WT(t){Me.flags|=4;var a=Me.updateQueue;if(a===null)a=Au(),Me.updateQueue=a,a.events=[t];else{var s=a.events;s===null?a.events=[t]:s.push(t)}}function Ay(t){var a=Tt().memoizedState;return WT({ref:a,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Ty(t,a){return Ru(4,2,t,a)}function xy(t,a){return Ru(4,4,t,a)}function Sy(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Ry(t,a,s){s=s!=null?s.concat([t]):null,Ru(4,4,Sy.bind(null,a,t),s)}function hf(){}function wy(t,a){var s=Tt();a=a===void 0?null:a;var l=s.memoizedState;return a!==null&&ef(a,l[1])?l[0]:(s.memoizedState=[t,a],t)}function Ny(t,a){var s=Tt();a=a===void 0?null:a;var l=s.memoizedState;if(a!==null&&ef(a,l[1]))return l[0];if(l=t(),as){Vn(!0);try{t()}finally{Vn(!1)}}return s.memoizedState=[l,a],l}function ff(t,a,s){return s===void 0||(ti&1073741824)!==0&&(ze&261930)===0?t.memoizedState=a:(t.memoizedState=s,t=Cv(),Me.lanes|=t,$i|=t,s)}function Cy(t,a,s,l){return Rn(s,a)?s:Qs.current!==null?(t=ff(t,s,l),Rn(t,a)||(Dt=!0),t):(ti&42)===0||(ti&1073741824)!==0&&(ze&261930)===0?(Dt=!0,t.memoizedState=s):(t=Cv(),Me.lanes|=t,$i|=t,a)}function Iy(t,a,s,l,d){var f=se.p;se.p=f!==0&&8>f?f:8;var b=K.T,T={};K.T=T,gf(t,!1,a,s);try{var M=d(),q=K.S;if(q!==null&&q(T,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var J=YT(M,l);Tl(t,a,J,Dn(t))}else Tl(t,a,l,Dn(t))}catch(te){Tl(t,a,{then:function(){},status:"rejected",reason:te},Dn())}finally{se.p=f,b!==null&&T.types!==null&&(b.types=T.types),K.T=b}}function ex(){}function mf(t,a,s,l){if(t.tag!==5)throw Error(r(476));var d=My(t).queue;Iy(t,d,a,he,s===null?ex:function(){return Dy(t),s(l)})}function My(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:he},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Dy(t){var a=My(t);a.next===null&&(a=t.alternate.memoizedState),Tl(t,a.next.queue,{},Dn())}function pf(){return Xt(Ul)}function Oy(){return Tt().memoizedState}function Py(){return Tt().memoizedState}function tx(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=Dn();t=Fi(s);var l=Gi(a,t,s);l!==null&&(bn(l,a,s),vl(l,a,s)),a={cache:qh()},t.payload=a;return}a=a.return}}function nx(t,a,s){var l=Dn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},wu(t)?Vy(a,s):(s=Dh(t,a,s,l),s!==null&&(bn(s,t,l),jy(s,a,l)))}function ky(t,a,s){var l=Dn();Tl(t,a,s,l)}function Tl(t,a,s,l){var d={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(wu(t))Vy(a,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=a.lastRenderedReducer,f!==null))try{var b=a.lastRenderedState,T=f(b,s);if(d.hasEagerState=!0,d.eagerState=T,Rn(T,b))return ou(t,a,d,0),rt===null&&su(),!1}catch{}if(s=Dh(t,a,d,l),s!==null)return bn(s,t,l),jy(s,a,l),!0}return!1}function gf(t,a,s,l){if(l={lane:2,revertLane:Yf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wu(t)){if(a)throw Error(r(479))}else a=Dh(t,s,l,2),a!==null&&bn(a,t,2)}function wu(t){var a=t.alternate;return t===Me||a!==null&&a===Me}function Vy(t,a){Ks=_u=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function jy(t,a,s){if((s&4194048)!==0){var l=a.lanes;l&=t.pendingLanes,s|=l,a.lanes=s,Go(t,s)}}var xl={readContext:Xt,use:Tu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};xl.useEffectEvent=gt;var Ly={readContext:Xt,use:Tu,useCallback:function(t,a){return hn().memoizedState=[t,a===void 0?null:a],t},useContext:Xt,useEffect:Ey,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,Su(4194308,4,Sy.bind(null,a,t),s)},useLayoutEffect:function(t,a){return Su(4194308,4,t,a)},useInsertionEffect:function(t,a){Su(4,2,t,a)},useMemo:function(t,a){var s=hn();a=a===void 0?null:a;var l=t();if(as){Vn(!0);try{t()}finally{Vn(!1)}}return s.memoizedState=[l,a],l},useReducer:function(t,a,s){var l=hn();if(s!==void 0){var d=s(a);if(as){Vn(!0);try{s(a)}finally{Vn(!1)}}}else d=a;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=nx.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var a=hn();return t={current:t},a.memoizedState=t},useState:function(t){t=cf(t);var a=t.queue,s=ky.bind(null,Me,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:hf,useDeferredValue:function(t,a){var s=hn();return ff(s,t,a)},useTransition:function(){var t=cf(!1);return t=Iy.bind(null,Me,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var l=Me,d=hn();if(Fe){if(s===void 0)throw Error(r(407));s=s()}else{if(s=a(),rt===null)throw Error(r(349));(ze&127)!==0||ry(l,a,s)}d.memoizedState=s;var f={value:s,getSnapshot:a};return d.queue=f,Ey(oy.bind(null,l,f,t),[t]),l.flags|=2048,Xs(9,{destroy:void 0},sy.bind(null,l,f,s,a),null),s},useId:function(){var t=hn(),a=rt.identifierPrefix;if(Fe){var s=Oa,l=Da;s=(l&~(1<<32-_t(l)-1)).toString(32)+s,a="_"+a+"R_"+s,s=Eu++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=XT++,a="_"+a+"r_"+s.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:pf,useFormState:gy,useActionState:gy,useOptimistic:function(t){var a=hn();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=gf.bind(null,Me,!0,s),s.dispatch=a,[t,a]},useMemoCache:sf,useCacheRefresh:function(){return hn().memoizedState=tx.bind(null,Me)},useEffectEvent:function(t){var a=hn(),s={impl:t};return a.memoizedState=s,function(){if((Xe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},yf={readContext:Xt,use:Tu,useCallback:wy,useContext:Xt,useEffect:df,useImperativeHandle:Ry,useInsertionEffect:Ty,useLayoutEffect:xy,useMemo:Ny,useReducer:xu,useRef:_y,useState:function(){return xu(ni)},useDebugValue:hf,useDeferredValue:function(t,a){var s=Tt();return Cy(s,nt.memoizedState,t,a)},useTransition:function(){var t=xu(ni)[0],a=Tt().memoizedState;return[typeof t=="boolean"?t:Al(t),a]},useSyncExternalStore:iy,useId:Oy,useHostTransitionStatus:pf,useFormState:yy,useActionState:yy,useOptimistic:function(t,a){var s=Tt();return uy(s,nt,t,a)},useMemoCache:sf,useCacheRefresh:Py};yf.useEffectEvent=Ay;var zy={readContext:Xt,use:Tu,useCallback:wy,useContext:Xt,useEffect:df,useImperativeHandle:Ry,useInsertionEffect:Ty,useLayoutEffect:xy,useMemo:Ny,useReducer:lf,useRef:_y,useState:function(){return lf(ni)},useDebugValue:hf,useDeferredValue:function(t,a){var s=Tt();return nt===null?ff(s,t,a):Cy(s,nt.memoizedState,t,a)},useTransition:function(){var t=lf(ni)[0],a=Tt().memoizedState;return[typeof t=="boolean"?t:Al(t),a]},useSyncExternalStore:iy,useId:Oy,useHostTransitionStatus:pf,useFormState:by,useActionState:by,useOptimistic:function(t,a){var s=Tt();return nt!==null?uy(s,nt,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:sf,useCacheRefresh:Py};zy.useEffectEvent=Ay;function vf(t,a,s,l){a=t.memoizedState,s=s(l,a),s=s==null?a:A({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var bf={enqueueSetState:function(t,a,s){t=t._reactInternals;var l=Dn(),d=Fi(l);d.payload=a,s!=null&&(d.callback=s),a=Gi(t,d,l),a!==null&&(bn(a,t,l),vl(a,t,l))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var l=Dn(),d=Fi(l);d.tag=1,d.payload=a,s!=null&&(d.callback=s),a=Gi(t,d,l),a!==null&&(bn(a,t,l),vl(a,t,l))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=Dn(),l=Fi(s);l.tag=2,a!=null&&(l.callback=a),a=Gi(t,l,s),a!==null&&(bn(a,t,s),vl(a,t,s))}};function Uy(t,a,s,l,d,f,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,b):a.prototype&&a.prototype.isPureReactComponent?!ul(s,l)||!ul(d,f):!0}function By(t,a,s,l){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,l),a.state!==t&&bf.enqueueReplaceState(a,a.state,null)}function is(t,a){var s=a;if("ref"in a){s={};for(var l in a)l!=="ref"&&(s[l]=a[l])}if(t=t.defaultProps){s===a&&(s=A({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}function Hy(t){ru(t)}function qy(t){console.error(t)}function Fy(t){ru(t)}function Nu(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function Gy(t,a,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function _f(t,a,s){return s=Fi(s),s.tag=3,s.payload={element:null},s.callback=function(){Nu(t,a)},s}function Qy(t){return t=Fi(t),t.tag=3,t}function Ky(t,a,s,l){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){Gy(a,s,l)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Gy(a,s,l),typeof d!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function ax(t,a,s,l,d){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=s.alternate,a!==null&&Bs(a,s,d,!0),s=Nn.current,s!==null){switch(s.tag){case 31:case 13:return Qn===null?Uu():s.alternate===null&&yt===0&&(yt=3),s.flags&=-257,s.flags|=65536,s.lanes=d,l===pu?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([l]):a.add(l),Gf(t,l,d)),!1;case 22:return s.flags|=65536,l===pu?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([l]):s.add(l)),Gf(t,l,d)),!1}throw Error(r(435,s.tag))}return Gf(t,l,d),Uu(),!1}if(Fe)return a=Nn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,l!==Lh&&(t=Error(r(422),{cause:l}),fl(Hn(t,s)))):(l!==Lh&&(a=Error(r(423),{cause:l}),fl(Hn(a,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Hn(l,s),d=_f(t.stateNode,l,d),Xh(t,d),yt!==4&&(yt=2)),!1;var f=Error(r(520),{cause:l});if(f=Hn(f,s),Dl===null?Dl=[f]:Dl.push(f),yt!==4&&(yt=2),a===null)return!0;l=Hn(l,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=_f(s.stateNode,l,t),Xh(s,t),!1;case 1:if(a=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ji===null||!Ji.has(f))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Qy(d),Ky(d,t,s,l),Xh(s,d),!1}s=s.return}while(s!==null);return!1}var Ef=Error(r(461)),Dt=!1;function $t(t,a,s,l){a.child=t===null?Jg(a,null,s,l):ns(a,t.child,s,l)}function Yy(t,a,s,l,d){s=s.render;var f=a.ref;if("ref"in l){var b={};for(var T in l)T!=="ref"&&(b[T]=l[T])}else b=l;return Zr(a),l=tf(t,a,s,b,f,d),T=nf(),t!==null&&!Dt?(af(t,a,d),ai(t,a,d)):(Fe&&T&&Vh(a),a.flags|=1,$t(t,a,l,d),a.child)}function Xy(t,a,s,l,d){if(t===null){var f=s.type;return typeof f=="function"&&!Oh(f)&&f.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=f,$y(t,a,f,l,d)):(t=cu(s.type,null,l,a,a.mode,d),t.ref=a.ref,t.return=a,a.child=t)}if(f=t.child,!Cf(t,d)){var b=f.memoizedProps;if(s=s.compare,s=s!==null?s:ul,s(b,l)&&t.ref===a.ref)return ai(t,a,d)}return a.flags|=1,t=Ja(f,l),t.ref=a.ref,t.return=a,a.child=t}function $y(t,a,s,l,d){if(t!==null){var f=t.memoizedProps;if(ul(f,l)&&t.ref===a.ref)if(Dt=!1,a.pendingProps=l=f,Cf(t,d))(t.flags&131072)!==0&&(Dt=!0);else return a.lanes=t.lanes,ai(t,a,d)}return Af(t,a,s,l,d)}function Jy(t,a,s,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((a.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=a.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,a.child=null;return Zy(t,a,f,s,l)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&fu(a,f!==null?f.cachePool:null),f!==null?ey(a,f):Jh(),ty(a);else return l=a.lanes=536870912,Zy(t,a,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(fu(a,f.cachePool),ey(a,f),Ki(),a.memoizedState=null):(t!==null&&fu(a,null),Jh(),Ki());return $t(t,a,d,s),a.child}function Sl(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Zy(t,a,s,l,d){var f=Gh();return f=f===null?null:{parent:It._currentValue,pool:f},a.memoizedState={baseLanes:s,cachePool:f},t!==null&&fu(a,null),Jh(),ty(a),t!==null&&Bs(t,a,l,!0),a.childLanes=d,null}function Cu(t,a){return a=Mu({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function Wy(t,a,s){return ns(a,t.child,null,s),t=Cu(a,a.pendingProps),t.flags|=2,Cn(a),a.memoizedState=null,t}function ix(t,a,s){var l=a.pendingProps,d=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(Fe){if(l.mode==="hidden")return t=Cu(a,l),a.lanes=536870912,Sl(null,t);if(Wh(a),(t=lt)?(t=d0(t,Gn),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:zi!==null?{id:Da,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},s=Vg(t),s.return=a,a.child=s,Yt=a,lt=null)):t=null,t===null)throw Bi(a);return a.lanes=536870912,null}return Cu(a,l)}var f=t.memoizedState;if(f!==null){var b=f.dehydrated;if(Wh(a),d)if(a.flags&256)a.flags&=-257,a=Wy(t,a,s);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(r(558));else if(Dt||Bs(t,a,s,!1),d=(s&t.childLanes)!==0,Dt||d){if(l=rt,l!==null&&(b=Qo(l,s),b!==0&&b!==f.retryLane))throw f.retryLane=b,Yr(t,b),bn(l,t,b),Ef;Uu(),a=Wy(t,a,s)}else t=f.treeContext,lt=Kn(b.nextSibling),Yt=a,Fe=!0,Ui=null,Gn=!1,t!==null&&zg(a,t),a=Cu(a,l),a.flags|=4096;return a}return t=Ja(t.child,{mode:l.mode,children:l.children}),t.ref=a.ref,a.child=t,t.return=a,t}function Iu(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function Af(t,a,s,l,d){return Zr(a),s=tf(t,a,s,l,void 0,d),l=nf(),t!==null&&!Dt?(af(t,a,d),ai(t,a,d)):(Fe&&l&&Vh(a),a.flags|=1,$t(t,a,s,d),a.child)}function ev(t,a,s,l,d,f){return Zr(a),a.updateQueue=null,s=ay(a,l,s,d),ny(t),l=nf(),t!==null&&!Dt?(af(t,a,f),ai(t,a,f)):(Fe&&l&&Vh(a),a.flags|=1,$t(t,a,s,f),a.child)}function tv(t,a,s,l,d){if(Zr(a),a.stateNode===null){var f=js,b=s.contextType;typeof b=="object"&&b!==null&&(f=Xt(b)),f=new s(l,f),a.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bf,a.stateNode=f,f._reactInternals=a,f=a.stateNode,f.props=l,f.state=a.memoizedState,f.refs={},Kh(a),b=s.contextType,f.context=typeof b=="object"&&b!==null?Xt(b):js,f.state=a.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(vf(a,s,b,l),f.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(b=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),b!==f.state&&bf.enqueueReplaceState(f,f.state,null),_l(a,l,f,d),bl(),f.state=a.memoizedState),typeof f.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(t===null){f=a.stateNode;var T=a.memoizedProps,M=is(s,T);f.props=M;var q=f.context,J=s.contextType;b=js,typeof J=="object"&&J!==null&&(b=Xt(J));var te=s.getDerivedStateFromProps;J=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||q!==b)&&By(a,f,l,b),qi=!1;var G=a.memoizedState;f.state=G,_l(a,l,f,d),bl(),q=a.memoizedState,T||G!==q||qi?(typeof te=="function"&&(vf(a,s,te,l),q=a.memoizedState),(M=qi||Uy(a,s,M,l,G,q,b))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(a.flags|=4194308)):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=q),f.props=l,f.state=q,f.context=b,l=M):(typeof f.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{f=a.stateNode,Yh(t,a),b=a.memoizedProps,J=is(s,b),f.props=J,te=a.pendingProps,G=f.context,q=s.contextType,M=js,typeof q=="object"&&q!==null&&(M=Xt(q)),T=s.getDerivedStateFromProps,(q=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==te||G!==M)&&By(a,f,l,M),qi=!1,G=a.memoizedState,f.state=G,_l(a,l,f,d),bl();var X=a.memoizedState;b!==te||G!==X||qi||t!==null&&t.dependencies!==null&&du(t.dependencies)?(typeof T=="function"&&(vf(a,s,T,l),X=a.memoizedState),(J=qi||Uy(a,s,J,l,G,X,M)||t!==null&&t.dependencies!==null&&du(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,X,M),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,X,M)),typeof f.componentDidUpdate=="function"&&(a.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=X),f.props=l,f.state=X,f.context=M,l=J):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(a.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(a.flags|=1024),l=!1)}return f=l,Iu(t,a),l=(a.flags&128)!==0,f||l?(f=a.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),a.flags|=1,t!==null&&l?(a.child=ns(a,t.child,null,d),a.child=ns(a,null,s,d)):$t(t,a,s,d),a.memoizedState=f.state,t=a.child):t=ai(t,a,d),t}function nv(t,a,s,l){return $r(),a.flags|=256,$t(t,a,s,l),a.child}var Tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(t){return{baseLanes:t,cachePool:Gg()}}function Sf(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=Mn),t}function av(t,a,s){var l=a.pendingProps,d=!1,f=(a.flags&128)!==0,b;if((b=f)||(b=t!==null&&t.memoizedState===null?!1:(At.current&2)!==0),b&&(d=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,t===null){if(Fe){if(d?Qi(a):Ki(),(t=lt)?(t=d0(t,Gn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:zi!==null?{id:Da,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},s=Vg(t),s.return=a,a.child=s,Yt=a,lt=null)):t=null,t===null)throw Bi(a);return om(t)?a.lanes=32:a.lanes=536870912,null}var T=l.children;return l=l.fallback,d?(Ki(),d=a.mode,T=Mu({mode:"hidden",children:T},d),l=Xr(l,d,s,null),T.return=a,l.return=a,T.sibling=l,a.child=T,l=a.child,l.memoizedState=xf(s),l.childLanes=Sf(t,b,s),a.memoizedState=Tf,Sl(null,l)):(Qi(a),Rf(a,T))}var M=t.memoizedState;if(M!==null&&(T=M.dehydrated,T!==null)){if(f)a.flags&256?(Qi(a),a.flags&=-257,a=wf(t,a,s)):a.memoizedState!==null?(Ki(),a.child=t.child,a.flags|=128,a=null):(Ki(),T=l.fallback,d=a.mode,l=Mu({mode:"visible",children:l.children},d),T=Xr(T,d,s,null),T.flags|=2,l.return=a,T.return=a,l.sibling=T,a.child=l,ns(a,t.child,null,s),l=a.child,l.memoizedState=xf(s),l.childLanes=Sf(t,b,s),a.memoizedState=Tf,a=Sl(null,l));else if(Qi(a),om(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var q=b.dgst;b=q,l=Error(r(419)),l.stack="",l.digest=b,fl({value:l,source:null,stack:null}),a=wf(t,a,s)}else if(Dt||Bs(t,a,s,!1),b=(s&t.childLanes)!==0,Dt||b){if(b=rt,b!==null&&(l=Qo(b,s),l!==0&&l!==M.retryLane))throw M.retryLane=l,Yr(t,l),bn(b,t,l),Ef;sm(T)||Uu(),a=wf(t,a,s)}else sm(T)?(a.flags|=192,a.child=t.child,a=null):(t=M.treeContext,lt=Kn(T.nextSibling),Yt=a,Fe=!0,Ui=null,Gn=!1,t!==null&&zg(a,t),a=Rf(a,l.children),a.flags|=4096);return a}return d?(Ki(),T=l.fallback,d=a.mode,M=t.child,q=M.sibling,l=Ja(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,q!==null?T=Ja(q,T):(T=Xr(T,d,s,null),T.flags|=2),T.return=a,l.return=a,l.sibling=T,a.child=l,Sl(null,l),l=a.child,T=t.child.memoizedState,T===null?T=xf(s):(d=T.cachePool,d!==null?(M=It._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=Gg(),T={baseLanes:T.baseLanes|s,cachePool:d}),l.memoizedState=T,l.childLanes=Sf(t,b,s),a.memoizedState=Tf,Sl(t.child,l)):(Qi(a),s=t.child,t=s.sibling,s=Ja(s,{mode:"visible",children:l.children}),s.return=a,s.sibling=null,t!==null&&(b=a.deletions,b===null?(a.deletions=[t],a.flags|=16):b.push(t)),a.child=s,a.memoizedState=null,s)}function Rf(t,a){return a=Mu({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Mu(t,a){return t=wn(22,t,null,a),t.lanes=0,t}function wf(t,a,s){return ns(a,t.child,null,s),t=Rf(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function iv(t,a,s){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a),Bh(t.return,a,s)}function Nf(t,a,s,l,d,f){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:d,treeForkCount:f}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=s,b.tailMode=d,b.treeForkCount=f)}function rv(t,a,s){var l=a.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var b=At.current,T=(b&2)!==0;if(T?(b=b&1|2,a.flags|=128):b&=1,le(At,b),$t(t,a,l,s),l=Fe?hl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iv(t,s,a);else if(t.tag===19)iv(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(s=a.child,d=null;s!==null;)t=s.alternate,t!==null&&bu(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=a.child,a.child=null):(d=s.sibling,s.sibling=null),Nf(a,!1,d,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,d=a.child,a.child=null;d!==null;){if(t=d.alternate,t!==null&&bu(t)===null){a.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}Nf(a,!0,s,null,f,l);break;case"together":Nf(a,!1,null,null,void 0,l);break;default:a.memoizedState=null}return a.child}function ai(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),$i|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(Bs(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(r(153));if(a.child!==null){for(t=a.child,s=Ja(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=Ja(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function Cf(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&du(t)))}function rx(t,a,s){switch(a.tag){case 3:bt(a,a.stateNode.containerInfo),Hi(a,It,t.memoizedState.cache),$r();break;case 27:case 5:$(a);break;case 4:bt(a,a.stateNode.containerInfo);break;case 10:Hi(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Wh(a),null;break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(Qi(a),a.flags|=128,null):(s&a.child.childLanes)!==0?av(t,a,s):(Qi(a),t=ai(t,a,s),t!==null?t.sibling:null);Qi(a);break;case 19:var d=(t.flags&128)!==0;if(l=(s&a.childLanes)!==0,l||(Bs(t,a,s,!1),l=(s&a.childLanes)!==0),d){if(l)return rv(t,a,s);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),le(At,At.current),l)break;return null;case 22:return a.lanes=0,Jy(t,a,s,a.pendingProps);case 24:Hi(a,It,t.memoizedState.cache)}return ai(t,a,s)}function sv(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)Dt=!0;else{if(!Cf(t,s)&&(a.flags&128)===0)return Dt=!1,rx(t,a,s);Dt=(t.flags&131072)!==0}else Dt=!1,Fe&&(a.flags&1048576)!==0&&Lg(a,hl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var l=a.pendingProps;if(t=es(a.elementType),a.type=t,typeof t=="function")Oh(t)?(l=is(t,l),a.tag=1,a=tv(null,a,t,l,s)):(a.tag=0,a=Af(null,a,t,l,s));else{if(t!=null){var d=t.$$typeof;if(d===me){a.tag=11,a=Yy(null,a,t,l,s);break e}else if(d===N){a.tag=14,a=Xy(null,a,t,l,s);break e}}throw a=pe(t)||t,Error(r(306,a,""))}}return a;case 0:return Af(t,a,a.type,a.pendingProps,s);case 1:return l=a.type,d=is(l,a.pendingProps),tv(t,a,l,d,s);case 3:e:{if(bt(a,a.stateNode.containerInfo),t===null)throw Error(r(387));l=a.pendingProps;var f=a.memoizedState;d=f.element,Yh(t,a),_l(a,l,null,s);var b=a.memoizedState;if(l=b.cache,Hi(a,It,l),l!==f.cache&&Hh(a,[It],s,!0),bl(),l=b.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=f,a.memoizedState=f,a.flags&256){a=nv(t,a,l,s);break e}else if(l!==d){d=Hn(Error(r(424)),a),fl(d),a=nv(t,a,l,s);break e}else for(t=a.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,lt=Kn(t.firstChild),Yt=a,Fe=!0,Ui=null,Gn=!0,s=Jg(a,null,l,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if($r(),l===d){a=ai(t,a,s);break e}$t(t,a,l,s)}a=a.child}return a;case 26:return Iu(t,a),t===null?(s=y0(a.type,null,a.pendingProps,null))?a.memoizedState=s:Fe||(s=a.type,t=a.pendingProps,l=Ku(Ce.current).createElement(s),l[wt]=a,l[Ht]=t,Jt(l,s,t),Nt(l),a.stateNode=l):a.memoizedState=y0(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return $(a),t===null&&Fe&&(l=a.stateNode=m0(a.type,a.pendingProps,Ce.current),Yt=a,Gn=!0,d=lt,tr(a.type)?(lm=d,lt=Kn(l.firstChild)):lt=d),$t(t,a,a.pendingProps.children,s),Iu(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Fe&&((d=l=lt)&&(l=kx(l,a.type,a.pendingProps,Gn),l!==null?(a.stateNode=l,Yt=a,lt=Kn(l.firstChild),Gn=!1,d=!0):d=!1),d||Bi(a)),$(a),d=a.type,f=a.pendingProps,b=t!==null?t.memoizedProps:null,l=f.children,am(d,f)?l=null:b!==null&&am(d,b)&&(a.flags|=32),a.memoizedState!==null&&(d=tf(t,a,$T,null,null,s),Ul._currentValue=d),Iu(t,a),$t(t,a,l,s),a.child;case 6:return t===null&&Fe&&((t=s=lt)&&(s=Vx(s,a.pendingProps,Gn),s!==null?(a.stateNode=s,Yt=a,lt=null,t=!0):t=!1),t||Bi(a)),null;case 13:return av(t,a,s);case 4:return bt(a,a.stateNode.containerInfo),l=a.pendingProps,t===null?a.child=ns(a,null,l,s):$t(t,a,l,s),a.child;case 11:return Yy(t,a,a.type,a.pendingProps,s);case 7:return $t(t,a,a.pendingProps,s),a.child;case 8:return $t(t,a,a.pendingProps.children,s),a.child;case 12:return $t(t,a,a.pendingProps.children,s),a.child;case 10:return l=a.pendingProps,Hi(a,a.type,l.value),$t(t,a,l.children,s),a.child;case 9:return d=a.type._context,l=a.pendingProps.children,Zr(a),d=Xt(d),l=l(d),a.flags|=1,$t(t,a,l,s),a.child;case 14:return Xy(t,a,a.type,a.pendingProps,s);case 15:return $y(t,a,a.type,a.pendingProps,s);case 19:return rv(t,a,s);case 31:return ix(t,a,s);case 22:return Jy(t,a,s,a.pendingProps);case 24:return Zr(a),l=Xt(It),t===null?(d=Gh(),d===null&&(d=rt,f=qh(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=s),d=f),a.memoizedState={parent:l,cache:d},Kh(a),Hi(a,It,d)):((t.lanes&s)!==0&&(Yh(t,a),_l(a,null,null,s),bl()),d=t.memoizedState,f=a.memoizedState,d.parent!==l?(d={parent:l,cache:l},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),Hi(a,It,l)):(l=f.cache,Hi(a,It,l),l!==d.cache&&Hh(a,[It],s,!0))),$t(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ii(t){t.flags|=4}function If(t,a,s,l,d){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(Ov())t.flags|=8192;else throw ts=pu,Qh}else t.flags&=-16777217}function ov(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!A0(a))if(Ov())t.flags|=8192;else throw ts=pu,Qh}function Du(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Lc():536870912,t.lanes|=a,Ws|=a)}function Rl(t,a){if(!Fe)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(a)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=s,a}function sx(t,a,s){var l=a.pendingProps;switch(jh(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(a),null;case 1:return ct(a),null;case 3:return s=a.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ei(It),st(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Us(a)?ii(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,zh())),ct(a),null;case 26:var d=a.type,f=a.memoizedState;return t===null?(ii(a),f!==null?(ct(a),ov(a,f)):(ct(a),If(a,d,null,l,s))):f?f!==t.memoizedState?(ii(a),ct(a),ov(a,f)):(ct(a),a.flags&=-16777217):(t=t.memoizedProps,t!==l&&ii(a),ct(a),If(a,d,t,l,s)),null;case 27:if(Oe(a),s=Ce.current,d=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==l&&ii(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return ct(a),null}t=ue.current,Us(a)?Ug(a):(t=m0(d,l,s),a.stateNode=t,ii(a))}return ct(a),null;case 5:if(Oe(a),d=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==l&&ii(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return ct(a),null}if(f=ue.current,Us(a))Ug(a);else{var b=Ku(Ce.current);switch(f){case 1:f=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=b.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?b.createElement(d,{is:l.is}):b.createElement(d)}}f[wt]=a,f[Ht]=l;e:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)f.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break e;for(;b.sibling===null;){if(b.return===null||b.return===a)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=f;e:switch(Jt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ii(a)}}return ct(a),If(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,s),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==l&&ii(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(r(166));if(t=Ce.current,Us(a)){if(t=a.stateNode,s=a.memoizedProps,l=null,d=Yt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[wt]=a,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||a0(t.nodeValue,s)),t||Bi(a,!0)}else t=Ku(t).createTextNode(l),t[wt]=a,a.stateNode=t}return ct(a),null;case 31:if(s=a.memoizedState,t===null||t.memoizedState!==null){if(l=Us(a),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[wt]=a}else $r(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ct(a),t=!1}else s=zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return a.flags&256?(Cn(a),a):(Cn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return ct(a),null;case 13:if(l=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Us(a),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[wt]=a}else $r(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ct(a),d=!1}else d=zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(Cn(a),a):(Cn(a),null)}return Cn(a),(a.flags&128)!==0?(a.lanes=s,a):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=a.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),s!==t&&s&&(a.child.flags|=8192),Du(a,a.updateQueue),ct(a),null);case 4:return st(),t===null&&Zf(a.stateNode.containerInfo),ct(a),null;case 10:return ei(a.type),ct(a),null;case 19:if(Z(At),l=a.memoizedState,l===null)return ct(a),null;if(d=(a.flags&128)!==0,f=l.rendering,f===null)if(d)Rl(l,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(f=bu(t),f!==null){for(a.flags|=128,Rl(l,!1),t=f.updateQueue,a.updateQueue=t,Du(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)kg(s,t),s=s.sibling;return le(At,At.current&1|2),Fe&&Za(a,l.treeForkCount),a.child}t=t.sibling}l.tail!==null&&un()>ju&&(a.flags|=128,d=!0,Rl(l,!1),a.lanes=4194304)}else{if(!d)if(t=bu(f),t!==null){if(a.flags|=128,d=!0,t=t.updateQueue,a.updateQueue=t,Du(a,t),Rl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Fe)return ct(a),null}else 2*un()-l.renderingStartTime>ju&&s!==536870912&&(a.flags|=128,d=!0,Rl(l,!1),a.lanes=4194304);l.isBackwards?(f.sibling=a.child,a.child=f):(t=l.last,t!==null?t.sibling=f:a.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=un(),t.sibling=null,s=At.current,le(At,d?s&1|2:s&1),Fe&&Za(a,l.treeForkCount),t):(ct(a),null);case 22:case 23:return Cn(a),Zh(),l=a.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(s&536870912)!==0&&(a.flags&128)===0&&(ct(a),a.subtreeFlags&6&&(a.flags|=8192)):ct(a),s=a.updateQueue,s!==null&&Du(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==s&&(a.flags|=2048),t!==null&&Z(Wr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),ei(It),ct(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function ox(t,a){switch(jh(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return ei(It),st(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return Oe(a),null;case 31:if(a.memoizedState!==null){if(Cn(a),a.alternate===null)throw Error(r(340));$r()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(Cn(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(r(340));$r()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return Z(At),null;case 4:return st(),null;case 10:return ei(a.type),null;case 22:case 23:return Cn(a),Zh(),t!==null&&Z(Wr),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return ei(It),null;case 25:return null;default:return null}}function lv(t,a){switch(jh(a),a.tag){case 3:ei(It),st();break;case 26:case 27:case 5:Oe(a);break;case 4:st();break;case 31:a.memoizedState!==null&&Cn(a);break;case 13:Cn(a);break;case 19:Z(At);break;case 10:ei(a.type);break;case 22:case 23:Cn(a),Zh(),t!==null&&Z(Wr);break;case 24:ei(It)}}function wl(t,a){try{var s=a.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var d=l.next;s=d;do{if((s.tag&t)===t){l=void 0;var f=s.create,b=s.inst;l=f(),b.destroy=l}s=s.next}while(s!==d)}}catch(T){We(a,a.return,T)}}function Yi(t,a,s){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var b=l.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,d=a;var M=s,q=T;try{q()}catch(J){We(d,M,J)}}}l=l.next}while(l!==f)}}catch(J){We(a,a.return,J)}}function cv(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{Wg(a,s)}catch(l){We(t,t.return,l)}}}function uv(t,a,s){s.props=is(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){We(t,a,l)}}function Nl(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(d){We(t,a,d)}}function Pa(t,a){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(d){We(t,a,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){We(t,a,d)}else s.current=null}function dv(t){var a=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(d){We(t,t.return,d)}}function Mf(t,a,s){try{var l=t.stateNode;Cx(l,t.type,s,a),l[Ht]=a}catch(d){We(t,t.return,d)}}function hv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&tr(t.type)||t.tag===4}function Df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Of(t,a,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=aa));else if(l!==4&&(l===27&&tr(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(Of(t,a,s),t=t.sibling;t!==null;)Of(t,a,s),t=t.sibling}function Ou(t,a,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(l!==4&&(l===27&&tr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ou(t,a,s),t=t.sibling;t!==null;)Ou(t,a,s),t=t.sibling}function fv(t){var a=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);Jt(a,l,s),a[wt]=t,a[Ht]=s}catch(f){We(t,t.return,f)}}var ri=!1,Ot=!1,Pf=!1,mv=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function lx(t,a){if(t=t.containerInfo,tm=ed,t=Rg(t),Rh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var b=0,T=-1,M=-1,q=0,J=0,te=t,G=null;t:for(;;){for(var X;te!==s||d!==0&&te.nodeType!==3||(T=b+d),te!==f||l!==0&&te.nodeType!==3||(M=b+l),te.nodeType===3&&(b+=te.nodeValue.length),(X=te.firstChild)!==null;)G=te,te=X;for(;;){if(te===t)break t;if(G===s&&++q===d&&(T=b),G===f&&++J===l&&(M=b),(X=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=X}s=T===-1||M===-1?null:{start:T,end:M}}else s=null}s=s||{start:0,end:0}}else s=null;for(nm={focusedElem:t,selectionRange:s},ed=!1,Ft=a;Ft!==null;)if(a=Ft,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Ft=t;else for(;Ft!==null;){switch(a=Ft,f=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)d=t[s],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=a,d=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var fe=is(s.type,d);t=l.getSnapshotBeforeUpdate(fe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){We(s,s.return,_e)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)rm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=a.sibling,t!==null){t.return=a.return,Ft=t;break}Ft=a.return}}function pv(t,a,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:oi(t,s),l&4&&wl(5,s);break;case 1:if(oi(t,s),l&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(b){We(s,s.return,b)}else{var d=is(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(d,a,t.__reactInternalSnapshotBeforeUpdate)}catch(b){We(s,s.return,b)}}l&64&&cv(s),l&512&&Nl(s,s.return);break;case 3:if(oi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Wg(t,a)}catch(b){We(s,s.return,b)}}break;case 27:a===null&&l&4&&fv(s);case 26:case 5:oi(t,s),a===null&&l&4&&dv(s),l&512&&Nl(s,s.return);break;case 12:oi(t,s);break;case 31:oi(t,s),l&4&&vv(t,s);break;case 13:oi(t,s),l&4&&bv(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=yx.bind(null,s),jx(t,s))));break;case 22:if(l=s.memoizedState!==null||ri,!l){a=a!==null&&a.memoizedState!==null||Ot,d=ri;var f=Ot;ri=l,(Ot=a)&&!f?li(t,s,(s.subtreeFlags&8772)!==0):oi(t,s),ri=d,Ot=f}break;case 30:break;default:oi(t,s)}}function gv(t){var a=t.alternate;a!==null&&(t.alternate=null,gv(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Ts(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,pn=!1;function si(t,a,s){for(s=s.child;s!==null;)yv(t,a,s),s=s.sibling}function yv(t,a,s){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Wn,s)}catch{}switch(s.tag){case 26:Ot||Pa(s,a),si(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ot||Pa(s,a);var l=ht,d=pn;tr(s.type)&&(ht=s.stateNode,pn=!1),si(t,a,s),jl(s.stateNode),ht=l,pn=d;break;case 5:Ot||Pa(s,a);case 6:if(l=ht,d=pn,ht=null,si(t,a,s),ht=l,pn=d,ht!==null)if(pn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(s.stateNode)}catch(f){We(s,a,f)}else try{ht.removeChild(s.stateNode)}catch(f){We(s,a,f)}break;case 18:ht!==null&&(pn?(t=ht,c0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),oo(t)):c0(ht,s.stateNode));break;case 4:l=ht,d=pn,ht=s.stateNode.containerInfo,pn=!0,si(t,a,s),ht=l,pn=d;break;case 0:case 11:case 14:case 15:Yi(2,s,a),Ot||Yi(4,s,a),si(t,a,s);break;case 1:Ot||(Pa(s,a),l=s.stateNode,typeof l.componentWillUnmount=="function"&&uv(s,a,l)),si(t,a,s);break;case 21:si(t,a,s);break;case 22:Ot=(l=Ot)||s.memoizedState!==null,si(t,a,s),Ot=l;break;default:si(t,a,s)}}function vv(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{oo(t)}catch(s){We(a,a.return,s)}}}function bv(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{oo(t)}catch(s){We(a,a.return,s)}}function cx(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new mv),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new mv),a;default:throw Error(r(435,t.tag))}}function Pu(t,a){var s=cx(t);a.forEach(function(l){if(!s.has(l)){s.add(l);var d=vx.bind(null,t,l);l.then(d,d)}})}function gn(t,a){var s=a.deletions;if(s!==null)for(var l=0;l<s.length;l++){var d=s[l],f=t,b=a,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(tr(T.type)){ht=T.stateNode,pn=!1;break e}break;case 5:ht=T.stateNode,pn=!1;break e;case 3:case 4:ht=T.stateNode.containerInfo,pn=!0;break e}T=T.return}if(ht===null)throw Error(r(160));yv(f,b,d),ht=null,pn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)_v(a,t),a=a.sibling}var ca=null;function _v(t,a){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(a,t),yn(t),l&4&&(Yi(3,t,t.return),wl(3,t),Yi(5,t,t.return));break;case 1:gn(a,t),yn(t),l&512&&(Ot||s===null||Pa(s,s.return)),l&64&&ri&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var d=ca;if(gn(a,t),yn(t),l&512&&(Ot||s===null||Pa(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[_a]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Jt(f,l,s),f[wt]=t,Nt(f),l=f;break e;case"link":var b=_0("link","href",d).get(l+(s.href||""));if(b){for(var T=0;T<b.length;T++)if(f=b[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(T,1);break t}}f=d.createElement(l),Jt(f,l,s),d.head.appendChild(f);break;case"meta":if(b=_0("meta","content",d).get(l+(s.content||""))){for(T=0;T<b.length;T++)if(f=b[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(T,1);break t}}f=d.createElement(l),Jt(f,l,s),d.head.appendChild(f);break;default:throw Error(r(468,l))}f[wt]=t,Nt(f),l=f}t.stateNode=l}else E0(d,t.type,t.stateNode);else t.stateNode=b0(d,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?E0(d,t.type,t.stateNode):b0(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Mf(t,t.memoizedProps,s.memoizedProps)}break;case 27:gn(a,t),yn(t),l&512&&(Ot||s===null||Pa(s,s.return)),s!==null&&l&4&&Mf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(gn(a,t),yn(t),l&512&&(Ot||s===null||Pa(s,s.return)),t.flags&32){d=t.stateNode;try{mn(d,"")}catch(fe){We(t,t.return,fe)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Mf(t,d,s!==null?s.memoizedProps:d)),l&1024&&(Pf=!0);break;case 6:if(gn(a,t),yn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(fe){We(t,t.return,fe)}}break;case 3:if($u=null,d=ca,ca=Yu(a.containerInfo),gn(a,t),ca=d,yn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{oo(a.containerInfo)}catch(fe){We(t,t.return,fe)}Pf&&(Pf=!1,Ev(t));break;case 4:l=ca,ca=Yu(t.stateNode.containerInfo),gn(a,t),yn(t),ca=l;break;case 12:gn(a,t),yn(t);break;case 31:gn(a,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pu(t,l)));break;case 13:gn(a,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Vu=un()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pu(t,l)));break;case 22:d=t.memoizedState!==null;var M=s!==null&&s.memoizedState!==null,q=ri,J=Ot;if(ri=q||d,Ot=J||M,gn(a,t),Ot=J,ri=q,yn(t),l&8192)e:for(a=t.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(s===null||M||ri||Ot||rs(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){M=s=a;try{if(f=M.stateNode,d)b=f.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=M.stateNode;var te=M.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(fe){We(M,M.return,fe)}}}else if(a.tag===6){if(s===null){M=a;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(fe){We(M,M.return,fe)}}}else if(a.tag===18){if(s===null){M=a;try{var X=M.stateNode;d?u0(X,!0):u0(M.stateNode,!1)}catch(fe){We(M,M.return,fe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Pu(t,s))));break;case 19:gn(a,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pu(t,l)));break;case 30:break;case 21:break;default:gn(a,t),yn(t)}}function yn(t){var a=t.flags;if(a&2){try{for(var s,l=t.return;l!==null;){if(hv(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var d=s.stateNode,f=Df(t);Ou(t,f,d);break;case 5:var b=s.stateNode;s.flags&32&&(mn(b,""),s.flags&=-33);var T=Df(t);Ou(t,T,b);break;case 3:case 4:var M=s.stateNode.containerInfo,q=Df(t);Of(t,q,M);break;default:throw Error(r(161))}}catch(J){We(t,t.return,J)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Ev(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;Ev(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function oi(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)pv(t,a.alternate,a),a=a.sibling}function rs(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Yi(4,a,a.return),rs(a);break;case 1:Pa(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&uv(a,a.return,s),rs(a);break;case 27:jl(a.stateNode);case 26:case 5:Pa(a,a.return),rs(a);break;case 22:a.memoizedState===null&&rs(a);break;case 30:rs(a);break;default:rs(a)}t=t.sibling}}function li(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,d=t,f=a,b=f.flags;switch(f.tag){case 0:case 11:case 15:li(d,f,s),wl(4,f);break;case 1:if(li(d,f,s),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){We(l,l.return,q)}if(l=f,d=l.updateQueue,d!==null){var T=l.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)Zg(M[d],T)}catch(q){We(l,l.return,q)}}s&&b&64&&cv(f),Nl(f,f.return);break;case 27:fv(f);case 26:case 5:li(d,f,s),s&&l===null&&b&4&&dv(f),Nl(f,f.return);break;case 12:li(d,f,s);break;case 31:li(d,f,s),s&&b&4&&vv(d,f);break;case 13:li(d,f,s),s&&b&4&&bv(d,f);break;case 22:f.memoizedState===null&&li(d,f,s),Nl(f,f.return);break;case 30:break;default:li(d,f,s)}a=a.sibling}}function kf(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ml(s))}function Vf(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&ml(t))}function ua(t,a,s,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Av(t,a,s,l),a=a.sibling}function Av(t,a,s,l){var d=a.flags;switch(a.tag){case 0:case 11:case 15:ua(t,a,s,l),d&2048&&wl(9,a);break;case 1:ua(t,a,s,l);break;case 3:ua(t,a,s,l),d&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&ml(t)));break;case 12:if(d&2048){ua(t,a,s,l),t=a.stateNode;try{var f=a.memoizedProps,b=f.id,T=f.onPostCommit;typeof T=="function"&&T(b,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){We(a,a.return,M)}}else ua(t,a,s,l);break;case 31:ua(t,a,s,l);break;case 13:ua(t,a,s,l);break;case 23:break;case 22:f=a.stateNode,b=a.alternate,a.memoizedState!==null?f._visibility&2?ua(t,a,s,l):Cl(t,a):f._visibility&2?ua(t,a,s,l):(f._visibility|=2,$s(t,a,s,l,(a.subtreeFlags&10256)!==0||!1)),d&2048&&kf(b,a);break;case 24:ua(t,a,s,l),d&2048&&Vf(a.alternate,a);break;default:ua(t,a,s,l)}}function $s(t,a,s,l,d){for(d=d&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var f=t,b=a,T=s,M=l,q=b.flags;switch(b.tag){case 0:case 11:case 15:$s(f,b,T,M,d),wl(8,b);break;case 23:break;case 22:var J=b.stateNode;b.memoizedState!==null?J._visibility&2?$s(f,b,T,M,d):Cl(f,b):(J._visibility|=2,$s(f,b,T,M,d)),d&&q&2048&&kf(b.alternate,b);break;case 24:$s(f,b,T,M,d),d&&q&2048&&Vf(b.alternate,b);break;default:$s(f,b,T,M,d)}a=a.sibling}}function Cl(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,l=a,d=l.flags;switch(l.tag){case 22:Cl(s,l),d&2048&&kf(l.alternate,l);break;case 24:Cl(s,l),d&2048&&Vf(l.alternate,l);break;default:Cl(s,l)}a=a.sibling}}var Il=8192;function Js(t,a,s){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)Tv(t,a,s),t=t.sibling}function Tv(t,a,s){switch(t.tag){case 26:Js(t,a,s),t.flags&Il&&t.memoizedState!==null&&Xx(s,ca,t.memoizedState,t.memoizedProps);break;case 5:Js(t,a,s);break;case 3:case 4:var l=ca;ca=Yu(t.stateNode.containerInfo),Js(t,a,s),ca=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Il,Il=16777216,Js(t,a,s),Il=l):Js(t,a,s));break;default:Js(t,a,s)}}function xv(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Ml(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];Ft=l,Rv(l,t)}xv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sv(t),t=t.sibling}function Sv(t){switch(t.tag){case 0:case 11:case 15:Ml(t),t.flags&2048&&Yi(9,t,t.return);break;case 3:Ml(t);break;case 12:Ml(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,ku(t)):Ml(t);break;default:Ml(t)}}function ku(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];Ft=l,Rv(l,t)}xv(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Yi(8,a,a.return),ku(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,ku(a));break;default:ku(a)}t=t.sibling}}function Rv(t,a){for(;Ft!==null;){var s=Ft;switch(s.tag){case 0:case 11:case 15:Yi(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ft=l;else e:for(s=t;Ft!==null;){l=Ft;var d=l.sibling,f=l.return;if(gv(l),l===s){Ft=null;break e}if(d!==null){d.return=f,Ft=d;break e}Ft=f}}}var ux={getCacheForType:function(t){var a=Xt(It),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s},cacheSignal:function(){return Xt(It).controller.signal}},dx=typeof WeakMap=="function"?WeakMap:Map,Xe=0,rt=null,Ve=null,ze=0,Ze=0,In=null,Xi=!1,Zs=!1,jf=!1,ci=0,yt=0,$i=0,ss=0,Lf=0,Mn=0,Ws=0,Dl=null,vn=null,zf=!1,Vu=0,wv=0,ju=1/0,Lu=null,Ji=null,Lt=0,Zi=null,eo=null,ui=0,Uf=0,Bf=null,Nv=null,Ol=0,Hf=null;function Dn(){return(Xe&2)!==0&&ze!==0?ze&-ze:K.T!==null?Yf():zc()}function Cv(){if(Mn===0)if((ze&536870912)===0||Fe){var t=Or;Or<<=1,(Or&3932160)===0&&(Or=262144),Mn=t}else Mn=536870912;return t=Nn.current,t!==null&&(t.flags|=32),Mn}function bn(t,a,s){(t===rt&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(to(t,0),Wi(t,ze,Mn,!1)),Pr(t,s),((Xe&2)===0||t!==rt)&&(t===rt&&((Xe&2)===0&&(ss|=s),yt===4&&Wi(t,ze,Mn,!1)),ka(t))}function Iv(t,a,s){if((Xe&6)!==0)throw Error(r(327));var l=!s&&(a&127)===0&&(a&t.expiredLanes)===0||ea(t,a),d=l?mx(t,a):Ff(t,a,!0),f=l;do{if(d===0){Zs&&!l&&Wi(t,a,0,!1);break}else{if(s=t.current.alternate,f&&!hx(s)){d=Ff(t,a,!1),f=!1;continue}if(d===2){if(f=a,t.errorRecoveryDisabledLanes&f)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var T=t;d=Dl;var M=T.current.memoizedState.isDehydrated;if(M&&(to(T,b).flags|=256),b=Ff(T,b,!1),b!==2){if(jf&&!M){T.errorRecoveryDisabledLanes|=f,ss|=f,d=4;break e}f=vn,vn=d,f!==null&&(vn===null?vn=f:vn.push.apply(vn,f))}d=b}if(f=!1,d!==2)continue}}if(d===1){to(t,0),Wi(t,a,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Wi(l,a,Mn,!Xi);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(d=Vu+300-un(),10<d)){if(Wi(l,a,Mn,!Xi),ya(l,0,!0)!==0)break e;ui=a,l.timeoutHandle=o0(Mv.bind(null,l,s,vn,Lu,zf,a,Mn,ss,Ws,Xi,f,"Throttled",-0,0),d);break e}Mv(l,s,vn,Lu,zf,a,Mn,ss,Ws,Xi,f,null,-0,0)}}break}while(!0);ka(t)}function Mv(t,a,s,l,d,f,b,T,M,q,J,te,G,X){if(t.timeoutHandle=-1,te=a.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:aa},Tv(a,f,te);var fe=(f&62914560)===f?Vu-un():(f&4194048)===f?wv-un():0;if(fe=$x(te,fe),fe!==null){ui=f,t.cancelPendingCommit=fe(zv.bind(null,t,a,f,s,l,d,b,T,M,J,te,null,G,X)),Wi(t,f,b,!q);return}}zv(t,a,f,s,l,d,b,T,M)}function hx(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var d=s[l],f=d.getSnapshot;d=d.value;try{if(!Rn(f(),d))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Wi(t,a,s,l){a&=~Lf,a&=~ss,t.suspendedLanes|=a,t.pingedLanes&=~a,l&&(t.warmLanes|=a),l=t.expirationTimes;for(var d=a;0<d;){var f=31-_t(d),b=1<<f;l[f]=-1,d&=~b}s!==0&&kr(t,s,a)}function zu(){return(Xe&6)===0?(Pl(0),!1):!0}function qf(){if(Ve!==null){if(Ze===0)var t=Ve.return;else t=Ve,Wa=Jr=null,rf(t),Gs=null,gl=0,t=Ve;for(;t!==null;)lv(t.alternate,t),t=t.return;Ve=null}}function to(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Dx(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ui=0,qf(),rt=t,Ve=s=Ja(t.current,null),ze=a,Ze=0,In=null,Xi=!1,Zs=ea(t,a),jf=!1,Ws=Mn=Lf=ss=$i=yt=0,vn=Dl=null,zf=!1,(a&8)!==0&&(a|=a&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=a;0<l;){var d=31-_t(l),f=1<<d;a|=t[d],l&=~f}return ci=a,su(),s}function Dv(t,a){Me=null,K.H=xl,a===Fs||a===mu?(a=Yg(),Ze=3):a===Qh?(a=Yg(),Ze=4):Ze=a===Ef?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,In=a,Ve===null&&(yt=1,Nu(t,Hn(a,t.current)))}function Ov(){var t=Nn.current;return t===null?!0:(ze&4194048)===ze?Qn===null:(ze&62914560)===ze||(ze&536870912)!==0?t===Qn:!1}function Pv(){var t=K.H;return K.H=xl,t===null?xl:t}function kv(){var t=K.A;return K.A=ux,t}function Uu(){yt=4,Xi||(ze&4194048)!==ze&&Nn.current!==null||(Zs=!0),($i&134217727)===0&&(ss&134217727)===0||rt===null||Wi(rt,ze,Mn,!1)}function Ff(t,a,s){var l=Xe;Xe|=2;var d=Pv(),f=kv();(rt!==t||ze!==a)&&(Lu=null,to(t,a)),a=!1;var b=yt;e:do try{if(Ze!==0&&Ve!==null){var T=Ve,M=In;switch(Ze){case 8:qf(),b=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(a=!0);var q=Ze;if(Ze=0,In=null,no(t,T,M,q),s&&Zs){b=0;break e}break;default:q=Ze,Ze=0,In=null,no(t,T,M,q)}}fx(),b=yt;break}catch(J){Dv(t,J)}while(!0);return a&&t.shellSuspendCounter++,Wa=Jr=null,Xe=l,K.H=d,K.A=f,Ve===null&&(rt=null,ze=0,su()),b}function fx(){for(;Ve!==null;)Vv(Ve)}function mx(t,a){var s=Xe;Xe|=2;var l=Pv(),d=kv();rt!==t||ze!==a?(Lu=null,ju=un()+500,to(t,a)):Zs=ea(t,a);e:do try{if(Ze!==0&&Ve!==null){a=Ve;var f=In;t:switch(Ze){case 1:Ze=0,In=null,no(t,a,f,1);break;case 2:case 9:if(Qg(f)){Ze=0,In=null,jv(a);break}a=function(){Ze!==2&&Ze!==9||rt!==t||(Ze=7),ka(t)},f.then(a,a);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Qg(f)?(Ze=0,In=null,jv(a)):(Ze=0,In=null,no(t,a,f,7));break;case 5:var b=null;switch(Ve.tag){case 26:b=Ve.memoizedState;case 5:case 27:var T=Ve;if(b?A0(b):T.stateNode.complete){Ze=0,In=null;var M=T.sibling;if(M!==null)Ve=M;else{var q=T.return;q!==null?(Ve=q,Bu(q)):Ve=null}break t}}Ze=0,In=null,no(t,a,f,5);break;case 6:Ze=0,In=null,no(t,a,f,6);break;case 8:qf(),yt=6;break e;default:throw Error(r(462))}}px();break}catch(J){Dv(t,J)}while(!0);return Wa=Jr=null,K.H=l,K.A=d,Xe=s,Ve!==null?0:(rt=null,ze=0,su(),yt)}function px(){for(;Ve!==null&&!bh();)Vv(Ve)}function Vv(t){var a=sv(t.alternate,t,ci);t.memoizedProps=t.pendingProps,a===null?Bu(t):Ve=a}function jv(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=ev(s,a,a.pendingProps,a.type,void 0,ze);break;case 11:a=ev(s,a,a.pendingProps,a.type.render,a.ref,ze);break;case 5:rf(a);default:lv(s,a),a=Ve=kg(a,ci),a=sv(s,a,ci)}t.memoizedProps=t.pendingProps,a===null?Bu(t):Ve=a}function no(t,a,s,l){Wa=Jr=null,rf(a),Gs=null,gl=0;var d=a.return;try{if(ax(t,d,a,s,ze)){yt=1,Nu(t,Hn(s,t.current)),Ve=null;return}}catch(f){if(d!==null)throw Ve=d,f;yt=1,Nu(t,Hn(s,t.current)),Ve=null;return}a.flags&32768?(Fe||l===1?t=!0:Zs||(ze&536870912)!==0?t=!1:(Xi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lv(a,t)):Bu(a)}function Bu(t){var a=t;do{if((a.flags&32768)!==0){Lv(a,Xi);return}t=a.return;var s=sx(a.alternate,a,ci);if(s!==null){Ve=s;return}if(a=a.sibling,a!==null){Ve=a;return}Ve=a=t}while(a!==null);yt===0&&(yt=5)}function Lv(t,a){do{var s=ox(t.alternate,t);if(s!==null){s.flags&=32767,Ve=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=s}while(t!==null);yt=6,Ve=null}function zv(t,a,s,l,d,f,b,T,M){t.cancelPendingCommit=null;do Hu();while(Lt!==0);if((Xe&6)!==0)throw Error(r(327));if(a!==null){if(a===t.current)throw Error(r(177));if(f=a.lanes|a.childLanes,f|=Mh,Ah(t,s,f,b,T,M),t===rt&&(Ve=rt=null,ze=0),eo=a,Zi=t,ui=s,Uf=f,Bf=d,Nv=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bx(Ci,function(){return Fv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,d=se.p,se.p=2,b=Xe,Xe|=4;try{lx(t,a,s)}finally{Xe=b,se.p=d,K.T=l}}Lt=1,Uv(),Bv(),Hv()}}function Uv(){if(Lt===1){Lt=0;var t=Zi,a=eo,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=K.T,K.T=null;var l=se.p;se.p=2;var d=Xe;Xe|=4;try{_v(a,t);var f=nm,b=Rg(t.containerInfo),T=f.focusedElem,M=f.selectionRange;if(b!==T&&T&&T.ownerDocument&&Sg(T.ownerDocument.documentElement,T)){if(M!==null&&Rh(T)){var q=M.start,J=M.end;if(J===void 0&&(J=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(J,T.value.length);else{var te=T.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var X=G.getSelection(),fe=T.textContent.length,_e=Math.min(M.start,fe),it=M.end===void 0?_e:Math.min(M.end,fe);!X.extend&&_e>it&&(b=it,it=_e,_e=b);var L=xg(T,_e),P=xg(T,it);if(L&&P&&(X.rangeCount!==1||X.anchorNode!==L.node||X.anchorOffset!==L.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var B=te.createRange();B.setStart(L.node,L.offset),X.removeAllRanges(),_e>it?(X.addRange(B),X.extend(P.node,P.offset)):(B.setEnd(P.node,P.offset),X.addRange(B))}}}}for(te=[],X=T;X=X.parentNode;)X.nodeType===1&&te.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var W=te[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}ed=!!tm,nm=tm=null}finally{Xe=d,se.p=l,K.T=s}}t.current=a,Lt=2}}function Bv(){if(Lt===2){Lt=0;var t=Zi,a=eo,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=K.T,K.T=null;var l=se.p;se.p=2;var d=Xe;Xe|=4;try{pv(t,a.alternate,a)}finally{Xe=d,se.p=l,K.T=s}}Lt=3}}function Hv(){if(Lt===4||Lt===3){Lt=0,Dc();var t=Zi,a=eo,s=ui,l=Nv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Lt=5:(Lt=0,eo=Zi=null,qv(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Ji=null),Ka(s),a=a.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Wn,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=K.T,d=se.p,se.p=2,K.T=null;try{for(var f=t.onRecoverableError,b=0;b<l.length;b++){var T=l[b];f(T.value,{componentStack:T.stack})}}finally{K.T=a,se.p=d}}(ui&3)!==0&&Hu(),ka(t),d=t.pendingLanes,(s&261930)!==0&&(d&42)!==0?t===Hf?Ol++:(Ol=0,Hf=t):Ol=0,Pl(0)}}function qv(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,ml(a)))}function Hu(){return Uv(),Bv(),Hv(),Fv()}function Fv(){if(Lt!==5)return!1;var t=Zi,a=Uf;Uf=0;var s=Ka(ui),l=K.T,d=se.p;try{se.p=32>s?32:s,K.T=null,s=Bf,Bf=null;var f=Zi,b=ui;if(Lt=0,eo=Zi=null,ui=0,(Xe&6)!==0)throw Error(r(331));var T=Xe;if(Xe|=4,Sv(f.current),Av(f,f.current,b,s),Xe=T,Pl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Wn,f)}catch{}return!0}finally{se.p=d,K.T=l,qv(t,a)}}function Gv(t,a,s){a=Hn(s,a),a=_f(t.stateNode,a,2),t=Gi(t,a,2),t!==null&&(Pr(t,2),ka(t))}function We(t,a,s){if(t.tag===3)Gv(t,t,s);else for(;a!==null;){if(a.tag===3){Gv(a,t,s);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ji===null||!Ji.has(l))){t=Hn(s,t),s=Qy(2),l=Gi(a,s,2),l!==null&&(Ky(s,l,a,t),Pr(l,2),ka(l));break}}a=a.return}}function Gf(t,a,s){var l=t.pingCache;if(l===null){l=t.pingCache=new dx;var d=new Set;l.set(a,d)}else d=l.get(a),d===void 0&&(d=new Set,l.set(a,d));d.has(s)||(jf=!0,d.add(s),t=gx.bind(null,t,a,s),a.then(t,t))}function gx(t,a,s){var l=t.pingCache;l!==null&&l.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,rt===t&&(ze&s)===s&&(yt===4||yt===3&&(ze&62914560)===ze&&300>un()-Vu?(Xe&2)===0&&to(t,0):Lf|=s,Ws===ze&&(Ws=0)),ka(t)}function Qv(t,a){a===0&&(a=Lc()),t=Yr(t,a),t!==null&&(Pr(t,a),ka(t))}function yx(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),Qv(t,s)}function vx(t,a){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(a),Qv(t,s)}function bx(t,a){return jt(t,a)}var qu=null,ao=null,Qf=!1,Fu=!1,Kf=!1,er=0;function ka(t){t!==ao&&t.next===null&&(ao===null?qu=ao=t:ao=ao.next=t),Fu=!0,Qf||(Qf=!0,Ex())}function Pl(t,a){if(!Kf&&Fu){Kf=!0;do for(var s=!1,l=qu;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var b=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=d&~(b&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,$v(l,f))}else f=ze,f=ya(l,l===rt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ea(l,f)||(s=!0,$v(l,f));l=l.next}while(s);Kf=!1}}function _x(){Kv()}function Kv(){Fu=Qf=!1;var t=0;er!==0&&Mx()&&(t=er);for(var a=un(),s=null,l=qu;l!==null;){var d=l.next,f=Yv(l,a);f===0?(l.next=null,s===null?qu=d:s.next=d,d===null&&(ao=s)):(s=l,(t!==0||(f&3)!==0)&&(Fu=!0)),l=d}Lt!==0&&Lt!==5||Pl(t),er!==0&&(er=0)}function Yv(t,a){for(var s=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var b=31-_t(f),T=1<<b,M=d[b];M===-1?((T&s)===0||(T&l)!==0)&&(d[b]=Eh(T,a)):M<=a&&(t.expiredLanes|=T),f&=~T}if(a=rt,s=ze,s=ya(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===a&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ni(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ea(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(l!==null&&Ni(l),Ka(s)){case 2:case 8:s=Fo;break;case 32:s=Ci;break;case 268435456:s=Oc;break;default:s=Ci}return l=Xv.bind(null,t),s=jt(s,l),t.callbackPriority=a,t.callbackNode=s,a}return l!==null&&l!==null&&Ni(l),t.callbackPriority=2,t.callbackNode=null,2}function Xv(t,a){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Hu()&&t.callbackNode!==s)return null;var l=ze;return l=ya(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Iv(t,l,a),Yv(t,un()),t.callbackNode!=null&&t.callbackNode===s?Xv.bind(null,t):null)}function $v(t,a){if(Hu())return null;Iv(t,a,!0)}function Ex(){Ox(function(){(Xe&6)!==0?jt(qo,_x):Kv()})}function Yf(){if(er===0){var t=Hs;t===0&&(t=pa,pa<<=1,(pa&261888)===0&&(pa=256)),er=t}return er}function Jv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ws(""+t)}function Zv(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function Ax(t,a,s,l,d){if(a==="submit"&&s&&s.stateNode===d){var f=Jv((d[Ht]||null).action),b=l.submitter;b&&(a=(a=b[Ht]||null)?Jv(a.formAction):b.getAttribute("formAction"),a!==null&&(f=a,b=null));var T=new Na("action","action",null,l,d);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(er!==0){var M=b?Zv(d,b):new FormData(d);mf(s,{pending:!0,data:M,method:d.method,action:f},null,M)}}else typeof f=="function"&&(T.preventDefault(),M=b?Zv(d,b):new FormData(d),mf(s,{pending:!0,data:M,method:d.method,action:f},f,M))},currentTarget:d}]})}}for(var Xf=0;Xf<Ih.length;Xf++){var $f=Ih[Xf],Tx=$f.toLowerCase(),xx=$f[0].toUpperCase()+$f.slice(1);la(Tx,"on"+xx)}la(Cg,"onAnimationEnd"),la(Ig,"onAnimationIteration"),la(Mg,"onAnimationStart"),la("dblclick","onDoubleClick"),la("focusin","onFocus"),la("focusout","onBlur"),la(UT,"onTransitionRun"),la(BT,"onTransitionStart"),la(HT,"onTransitionCancel"),la(Dg,"onTransitionEnd"),xa("onMouseEnter",["mouseout","mouseover"]),xa("onMouseLeave",["mouseout","mouseover"]),xa("onPointerEnter",["pointerout","pointerover"]),xa("onPointerLeave",["pointerout","pointerover"]),Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function Wv(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],d=l.event;l=l.listeners;e:{var f=void 0;if(a)for(var b=l.length-1;0<=b;b--){var T=l[b],M=T.instance,q=T.currentTarget;if(T=T.listener,M!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=q;try{f(d)}catch(J){ru(J)}d.currentTarget=null,f=M}else for(b=0;b<l.length;b++){if(T=l[b],M=T.instance,q=T.currentTarget,T=T.listener,M!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=q;try{f(d)}catch(J){ru(J)}d.currentTarget=null,f=M}}}}function je(t,a){var s=a[As];s===void 0&&(s=a[As]=new Set);var l=t+"__bubble";s.has(l)||(e0(a,t,2,!1),s.add(l))}function Jf(t,a,s){var l=0;a&&(l|=4),e0(s,t,l,a)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function Zf(t){if(!t[Gu]){t[Gu]=!0,Ko.forEach(function(s){s!=="selectionchange"&&(Sx.has(s)||Jf(s,!1,t),Jf(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Gu]||(a[Gu]=!0,Jf("selectionchange",!1,a))}}function e0(t,a,s,l){switch(C0(a)){case 2:var d=Wx;break;case 8:d=eS;break;default:d=fm}s=d.bind(null,a,s,t),d=void 0,!Ur||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(a,s,{capture:!0,passive:d}):t.addEventListener(a,s,!0):d!==void 0?t.addEventListener(a,s,{passive:d}):t.addEventListener(a,s,!1)}function Wf(t,a,s,l,d){var f=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var T=l.stateNode.containerInfo;if(T===d)break;if(b===4)for(b=l.return;b!==null;){var M=b.tag;if((M===3||M===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;T!==null;){if(b=Ea(T),b===null)return;if(M=b.tag,M===5||M===6||M===26||M===27){l=f=b;continue e}T=T.parentNode}}l=l.return}ki(function(){var q=f,J=Ln(s),te=[];e:{var G=Og.get(t);if(G!==void 0){var X=Na,fe=t;switch(t){case"keypress":if(Hr(s)===0)break e;case"keydown":case"keyup":X=nu;break;case"focusin":fe="focus",X=Fr;break;case"focusout":fe="blur",X=Fr;break;case"beforeblur":case"afterblur":X=Fr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case Cg:case Ig:case Mg:X=Xc;break;case Dg:X=S;break;case"scroll":case"scrollend":X=rl;break;case"wheel":X=Y;break;case"copy":case"cut":case"paste":X=$c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=$a;break;case"toggle":case"beforetoggle":X=Ie}var _e=(a&4)!==0,it=!_e&&(t==="scroll"||t==="scrollend"),L=_e?G!==null?G+"Capture":null:G;_e=[];for(var P=q,B;P!==null;){var W=P;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||L===null||(W=ia(P,L),W!=null&&_e.push(Vl(P,W,B))),it)break;P=P.return}0<_e.length&&(G=new X(G,fe,null,s,J),te.push({event:G,listeners:_e}))}}if((a&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",G&&s!==nl&&(fe=s.relatedTarget||s.fromElement)&&(Ea(fe)||fe[ba]))break e;if((X||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,X?(fe=s.relatedTarget||s.toElement,X=q,fe=fe?Ea(fe):null,fe!==null&&(it=c(fe),_e=fe.tag,fe!==it||_e!==5&&_e!==27&&_e!==6)&&(fe=null)):(X=null,fe=q),X!==fe)){if(_e=sl,W="onMouseLeave",L="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(_e=$a,W="onPointerLeave",L="onPointerEnter",P="pointer"),it=X==null?G:xn(X),B=fe==null?G:xn(fe),G=new _e(W,P+"leave",X,s,J),G.target=it,G.relatedTarget=B,W=null,Ea(J)===q&&(_e=new _e(L,P+"enter",fe,s,J),_e.target=B,_e.relatedTarget=it,W=_e),it=W,X&&fe)t:{for(_e=Rx,L=X,P=fe,B=0,W=L;W;W=_e(W))B++;W=0;for(var ye=P;ye;ye=_e(ye))W++;for(;0<B-W;)L=_e(L),B--;for(;0<W-B;)P=_e(P),W--;for(;B--;){if(L===P||P!==null&&L===P.alternate){_e=L;break t}L=_e(L),P=_e(P)}_e=null}else _e=null;X!==null&&t0(te,G,X,_e,!1),fe!==null&&it!==null&&t0(te,it,fe,_e,!0)}}e:{if(G=q?xn(q):window,X=G.nodeName&&G.nodeName.toLowerCase(),X==="select"||X==="input"&&G.type==="file")var Qe=vg;else if(gg(G))if(bg)Qe=jT;else{Qe=kT;var ge=PT}else X=G.nodeName,!X||X.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&Rs(q.elementType)&&(Qe=vg):Qe=VT;if(Qe&&(Qe=Qe(t,q))){yg(te,Qe,s,J);break e}ge&&ge(t,G,q),t==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&Wo(G,"number",G.value)}switch(ge=q?xn(q):window,t){case"focusin":(gg(ge)||ge.contentEditable==="true")&&(Ps=ge,wh=q,dl=null);break;case"focusout":dl=wh=Ps=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,wg(te,s,J);break;case"selectionchange":if(zT)break;case"keydown":case"keyup":wg(te,s,J)}var De;if(Ye)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Os?Gr(t,s)&&(Ue="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ue="onCompositionStart");Ue&&(Ma&&s.locale!=="ko"&&(Os||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Os&&(De=il()):(wa=J,al="value"in wa?wa.value:wa.textContent,Os=!0)),ge=Qu(q,Ue),0<ge.length&&(Ue=new Ia(Ue,t,null,s,J),te.push({event:Ue,listeners:ge}),De?Ue.data=De:(De=Ds(s),De!==null&&(Ue.data=De)))),(De=Un?IT(t,s):MT(t,s))&&(Ue=Qu(q,"onBeforeInput"),0<Ue.length&&(ge=new Ia("onBeforeInput","beforeinput",null,s,J),te.push({event:ge,listeners:Ue}),ge.data=De)),Ax(te,t,q,s,J)}Wv(te,a)})}function Vl(t,a,s){return{instance:t,listener:a,currentTarget:s}}function Qu(t,a){for(var s=a+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=ia(t,s),d!=null&&l.unshift(Vl(t,d,f)),d=ia(t,a),d!=null&&l.push(Vl(t,d,f))),t.tag===3)return l;t=t.return}return[]}function Rx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function t0(t,a,s,l,d){for(var f=a._reactName,b=[];s!==null&&s!==l;){var T=s,M=T.alternate,q=T.stateNode;if(T=T.tag,M!==null&&M===l)break;T!==5&&T!==26&&T!==27||q===null||(M=q,d?(q=ia(s,f),q!=null&&b.unshift(Vl(s,q,M))):d||(q=ia(s,f),q!=null&&b.push(Vl(s,q,M)))),s=s.return}b.length!==0&&t.push({event:a,listeners:b})}var wx=/\r\n?/g,Nx=/\u0000|\uFFFD/g;function n0(t){return(typeof t=="string"?t:""+t).replace(wx,`
`).replace(Nx,"")}function a0(t,a){return a=n0(a),n0(t)===a}function at(t,a,s,l,d,f){switch(s){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&mn(t,""+l);break;case"className":Sn(t,"class",l);break;case"tabIndex":Sn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,s,l);break;case"style":tl(t,l,f);break;case"data":if(a!=="object"){Sn(t,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ws(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(a!=="input"&&at(t,a,"name",d.name,d,null),at(t,a,"formEncType",d.formEncType,d,null),at(t,a,"formMethod",d.formMethod,d,null),at(t,a,"formTarget",d.formTarget,d,null)):(at(t,a,"encType",d.encType,d,null),at(t,a,"method",d.method,d,null),at(t,a,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ws(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=aa);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=ws(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":je("beforetoggle",t),je("toggle",t),xs(t,"popover",l);break;case"xlinkActuate":Ct(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ct(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ct(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ct(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ct(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ct(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ct(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Qc.get(s)||s,xs(t,s,l))}}function em(t,a,s,l,d,f){switch(s){case"style":tl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=aa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),a=s.slice(2,d?s.length-7:void 0),f=t[Ht]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(a,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,l,d);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):xs(t,s,l)}}}function Jt(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,d=!1,f;for(f in s)if(s.hasOwnProperty(f)){var b=s[f];if(b!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:at(t,a,f,b,s,null)}}d&&at(t,a,"srcSet",s.srcSet,s,null),l&&at(t,a,"src",s.src,s,null);return;case"input":je("invalid",t);var T=f=b=d=null,M=null,q=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":d=J;break;case"type":b=J;break;case"checked":M=J;break;case"defaultChecked":q=J;break;case"value":f=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,a));break;default:at(t,a,l,J,s,null)}}qc(t,f,T,M,q,b,d,!1);return;case"select":je("invalid",t),l=b=f=null;for(d in s)if(s.hasOwnProperty(d)&&(T=s[d],T!=null))switch(d){case"value":f=T;break;case"defaultValue":b=T;break;case"multiple":l=T;default:at(t,a,d,T,s,null)}a=f,s=b,t.multiple=!!l,a!=null?Mi(t,!!l,a,!1):s!=null&&Mi(t,!!l,s,!0);return;case"textarea":je("invalid",t),f=d=l=null;for(b in s)if(s.hasOwnProperty(b)&&(T=s[b],T!=null))switch(b){case"value":l=T;break;case"defaultValue":d=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:at(t,a,b,T,s,null)}Di(t,l,d,f);return;case"option":for(M in s)s.hasOwnProperty(M)&&(l=s[M],l!=null)&&(M==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":at(t,a,M,l,s,null));return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<kl.length;l++)je(kl[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in s)if(s.hasOwnProperty(q)&&(l=s[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:at(t,a,q,l,s,null)}return;default:if(Rs(a)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&em(t,a,J,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&at(t,a,T,l,s,null))}function Cx(t,a,s,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,b=null,T=null,M=null,q=null,J=null;for(X in s){var te=s[X];if(s.hasOwnProperty(X)&&te!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=te;default:l.hasOwnProperty(X)||at(t,a,X,null,l,te)}}for(var G in l){var X=l[G];if(te=s[G],l.hasOwnProperty(G)&&(X!=null||te!=null))switch(G){case"type":f=X;break;case"name":d=X;break;case"checked":q=X;break;case"defaultChecked":J=X;break;case"value":b=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:X!==te&&at(t,a,G,X,l,te)}}Ss(t,b,T,M,q,J,f,d);return;case"select":X=b=T=G=null;for(f in s)if(M=s[f],s.hasOwnProperty(f)&&M!=null)switch(f){case"value":break;case"multiple":X=M;default:l.hasOwnProperty(f)||at(t,a,f,null,l,M)}for(d in l)if(f=l[d],M=s[d],l.hasOwnProperty(d)&&(f!=null||M!=null))switch(d){case"value":G=f;break;case"defaultValue":T=f;break;case"multiple":b=f;default:f!==M&&at(t,a,d,f,l,M)}a=T,s=b,l=X,G!=null?Mi(t,!!s,G,!1):!!l!=!!s&&(a!=null?Mi(t,!!s,a,!0):Mi(t,!!s,s?[]:"",!1));return;case"textarea":X=G=null;for(T in s)if(d=s[T],s.hasOwnProperty(T)&&d!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:at(t,a,T,null,l,d)}for(b in l)if(d=l[b],f=s[b],l.hasOwnProperty(b)&&(d!=null||f!=null))switch(b){case"value":G=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==f&&at(t,a,b,d,l,f)}Fc(t,G,X);return;case"option":for(var fe in s)G=s[fe],s.hasOwnProperty(fe)&&G!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:at(t,a,fe,null,l,G));for(M in l)G=l[M],X=s[M],l.hasOwnProperty(M)&&G!==X&&(G!=null||X!=null)&&(M==="selected"?t.selected=G&&typeof G!="function"&&typeof G!="symbol":at(t,a,M,G,l,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)G=s[_e],s.hasOwnProperty(_e)&&G!=null&&!l.hasOwnProperty(_e)&&at(t,a,_e,null,l,G);for(q in l)if(G=l[q],X=s[q],l.hasOwnProperty(q)&&G!==X&&(G!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,a));break;default:at(t,a,q,G,l,X)}return;default:if(Rs(a)){for(var it in s)G=s[it],s.hasOwnProperty(it)&&G!==void 0&&!l.hasOwnProperty(it)&&em(t,a,it,void 0,l,G);for(J in l)G=l[J],X=s[J],!l.hasOwnProperty(J)||G===X||G===void 0&&X===void 0||em(t,a,J,G,l,X);return}}for(var L in s)G=s[L],s.hasOwnProperty(L)&&G!=null&&!l.hasOwnProperty(L)&&at(t,a,L,null,l,G);for(te in l)G=l[te],X=s[te],!l.hasOwnProperty(te)||G===X||G==null&&X==null||at(t,a,te,G,l,X)}function i0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ix(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var d=s[l],f=d.transferSize,b=d.initiatorType,T=d.duration;if(f&&T&&i0(b)){for(b=0,T=d.responseEnd,l+=1;l<s.length;l++){var M=s[l],q=M.startTime;if(q>T)break;var J=M.transferSize,te=M.initiatorType;J&&i0(te)&&(M=M.responseEnd,b+=J*(M<T?1:(T-q)/(M-q)))}if(--l,a+=8*(f+b)/(d.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var tm=null,nm=null;function Ku(t){return t.nodeType===9?t:t.ownerDocument}function r0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s0(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function am(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var im=null;function Mx(){var t=window.event;return t&&t.type==="popstate"?t===im?!1:(im=t,!0):(im=null,!1)}var o0=typeof setTimeout=="function"?setTimeout:void 0,Dx=typeof clearTimeout=="function"?clearTimeout:void 0,l0=typeof Promise=="function"?Promise:void 0,Ox=typeof queueMicrotask=="function"?queueMicrotask:typeof l0<"u"?function(t){return l0.resolve(null).then(t).catch(Px)}:o0;function Px(t){setTimeout(function(){throw t})}function tr(t){return t==="head"}function c0(t,a){var s=a,l=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(d),oo(a);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")jl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,jl(s);for(var f=s.firstChild;f;){var b=f.nextSibling,T=f.nodeName;f[_a]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=b}}else s==="body"&&jl(t.ownerDocument.body);s=d}while(s);oo(a)}function u0(t,a){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function rm(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":rm(s),Ts(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function kx(t,a,s,l){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_a])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function Vx(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Kn(t.nextSibling),t===null))return null;return t}function d0(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function sm(t){return t.data==="$?"||t.data==="$~"}function om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function jx(t,a){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||s.readyState!=="loading")a();else{var l=function(){a(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var lm=null;function h0(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(a===0)return Kn(t.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}t=t.nextSibling}return null}function f0(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return t;a--}else s!=="/$"&&s!=="/&"||a++}t=t.previousSibling}return null}function m0(t,a,s){switch(a=Ku(s),t){case"html":if(t=a.documentElement,!t)throw Error(r(452));return t;case"head":if(t=a.head,!t)throw Error(r(453));return t;case"body":if(t=a.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function jl(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Ts(t)}var Yn=new Map,p0=new Set;function Yu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var di=se.d;se.d={f:Lx,r:zx,D:Ux,C:Bx,L:Hx,m:qx,X:Gx,S:Fx,M:Qx};function Lx(){var t=di.f(),a=zu();return t||a}function zx(t){var a=jn(t);a!==null&&a.tag===5&&a.type==="form"?Dy(a):di.r(t)}var io=typeof document>"u"?null:document;function g0(t,a,s){var l=io;if(l&&typeof a=="string"&&a){var d=fn(a);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),p0.has(d)||(p0.add(d),t={rel:t,crossOrigin:s,href:a},l.querySelector(d)===null&&(a=l.createElement("link"),Jt(a,"link",t),Nt(a),l.head.appendChild(a)))}}function Ux(t){di.D(t),g0("dns-prefetch",t,null)}function Bx(t,a){di.C(t,a),g0("preconnect",t,a)}function Hx(t,a,s){di.L(t,a,s);var l=io;if(l&&t&&a){var d='link[rel="preload"][as="'+fn(a)+'"]';a==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+fn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+fn(s.imageSizes)+'"]')):d+='[href="'+fn(t)+'"]';var f=d;switch(a){case"style":f=ro(t);break;case"script":f=so(t)}Yn.has(f)||(t=A({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),Yn.set(f,t),l.querySelector(d)!==null||a==="style"&&l.querySelector(Ll(f))||a==="script"&&l.querySelector(zl(f))||(a=l.createElement("link"),Jt(a,"link",t),Nt(a),l.head.appendChild(a)))}}function qx(t,a){di.m(t,a);var s=io;if(s&&t){var l=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=so(t)}if(!Yn.has(f)&&(t=A({rel:"modulepreload",href:t},a),Yn.set(f,t),s.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(zl(f)))return}l=s.createElement("link"),Jt(l,"link",t),Nt(l),s.head.appendChild(l)}}}function Fx(t,a,s){di.S(t,a,s);var l=io;if(l&&t){var d=Aa(l).hoistableStyles,f=ro(t);a=a||"default";var b=d.get(f);if(!b){var T={loading:0,preload:null};if(b=l.querySelector(Ll(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":a},s),(s=Yn.get(f))&&cm(t,s);var M=b=l.createElement("link");Nt(M),Jt(M,"link",t),M._p=new Promise(function(q,J){M.onload=q,M.onerror=J}),M.addEventListener("load",function(){T.loading|=1}),M.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Xu(b,a,l)}b={type:"stylesheet",instance:b,count:1,state:T},d.set(f,b)}}}function Gx(t,a){di.X(t,a);var s=io;if(s&&t){var l=Aa(s).hoistableScripts,d=so(t),f=l.get(d);f||(f=s.querySelector(zl(d)),f||(t=A({src:t,async:!0},a),(a=Yn.get(d))&&um(t,a),f=s.createElement("script"),Nt(f),Jt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Qx(t,a){di.M(t,a);var s=io;if(s&&t){var l=Aa(s).hoistableScripts,d=so(t),f=l.get(d);f||(f=s.querySelector(zl(d)),f||(t=A({src:t,async:!0,type:"module"},a),(a=Yn.get(d))&&um(t,a),f=s.createElement("script"),Nt(f),Jt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function y0(t,a,s,l){var d=(d=Ce.current)?Yu(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=ro(s.href),s=Aa(d).hoistableStyles,l=s.get(a),l||(l={type:"style",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ro(s.href);var f=Aa(d).hoistableStyles,b=f.get(t);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,b),(f=d.querySelector(Ll(t)))&&!f._p&&(b.instance=f,b.state.loading=5),Yn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Yn.set(t,s),f||Kx(d,t,s,b.state))),a&&l===null)throw Error(r(528,""));return b}if(a&&l!==null)throw Error(r(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=so(s),s=Aa(d).hoistableScripts,l=s.get(a),l||(l={type:"script",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ro(t){return'href="'+fn(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function v0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Kx(t,a,s,l){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=t.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),Jt(a,"link",s),Nt(a),t.head.appendChild(a))}function so(t){return'[src="'+fn(t)+'"]'}function zl(t){return"script[async]"+t}function b0(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var l=t.querySelector('style[data-href~="'+fn(s.href)+'"]');if(l)return a.instance=l,Nt(l),l;var d=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Nt(l),Jt(l,"style",d),Xu(l,s.precedence,t),a.instance=l;case"stylesheet":d=ro(s.href);var f=t.querySelector(Ll(d));if(f)return a.state.loading|=4,a.instance=f,Nt(f),f;l=v0(s),(d=Yn.get(d))&&cm(l,d),f=(t.ownerDocument||t).createElement("link"),Nt(f);var b=f;return b._p=new Promise(function(T,M){b.onload=T,b.onerror=M}),Jt(f,"link",l),a.state.loading|=4,Xu(f,s.precedence,t),a.instance=f;case"script":return f=so(s.src),(d=t.querySelector(zl(f)))?(a.instance=d,Nt(d),d):(l=s,(d=Yn.get(f))&&(l=A({},s),um(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Nt(d),Jt(d,"link",l),t.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,Xu(l,s.precedence,t));return a.instance}function Xu(t,a,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,b=0;b<l.length;b++){var T=l[b];if(T.dataset.precedence===a)f=T;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function cm(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function um(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var $u=null;function _0(t,a,s){if($u===null){var l=new Map,d=$u=new Map;d.set(s,l)}else d=$u,l=d.get(s),l||(l=new Map,d.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var f=s[d];if(!(f[_a]||f[wt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var b=f.getAttribute(a)||"";b=t+b;var T=l.get(b);T?T.push(f):l.set(b,[f])}}return l}function E0(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function Yx(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(t=a.disabled,typeof a.precedence=="string"&&t==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function A0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Xx(t,a,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=ro(l.href),f=a.querySelector(Ll(d));if(f){a=f._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=Ju.bind(t),a.then(t,t)),s.state.loading|=4,s.instance=f,Nt(f);return}f=a.ownerDocument||a,l=v0(l),(d=Yn.get(d))&&cm(l,d),f=f.createElement("link"),Nt(f);var b=f;b._p=new Promise(function(T,M){b.onload=T,b.onerror=M}),Jt(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Ju.bind(t),a.addEventListener("load",s),a.addEventListener("error",s))}}var dm=0;function $x(t,a){return t.stylesheets&&t.count===0&&Wu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Wu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+a);0<t.imgBytes&&dm===0&&(dm=62500*Ix());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Wu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>dm?50:800)+a);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Ju(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zu=null;function Wu(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zu=new Map,a.forEach(Jx,t),Zu=null,Ju.call(t))}function Jx(t,a){if(!(a.state.loading&4)){var s=Zu.get(t);if(s)var l=s.get(null);else{s=new Map,Zu.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var b=d[f];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),l=b)}l&&s.set(null,l)}d=a.instance,b=d.getAttribute("data-precedence"),f=s.get(b)||l,f===l&&s.set(null,d),s.set(b,d),this.count++,l=Ju.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),a.state.loading|=4}}var Ul={$$typeof:re,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Zx(t,a,s,l,d,f,b,T,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.hiddenUpdates=va(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function T0(t,a,s,l,d,f,b,T,M,q,J,te){return t=new Zx(t,a,s,b,M,q,J,te,T),a=1,f===!0&&(a|=24),f=wn(3,null,null,a),t.current=f,f.stateNode=t,a=qh(),a.refCount++,t.pooledCache=a,a.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:a},Kh(f),t}function x0(t){return t?(t=js,t):js}function S0(t,a,s,l,d,f){d=x0(d),l.context===null?l.context=d:l.pendingContext=d,l=Fi(a),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Gi(t,l,a),s!==null&&(bn(s,t,a),vl(s,t,a))}function R0(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function hm(t,a){R0(t,a),(t=t.alternate)&&R0(t,a)}function w0(t){if(t.tag===13||t.tag===31){var a=Yr(t,67108864);a!==null&&bn(a,t,67108864),hm(t,67108864)}}function N0(t){if(t.tag===13||t.tag===31){var a=Dn();a=Vr(a);var s=Yr(t,a);s!==null&&bn(s,t,a),hm(t,a)}}var ed=!0;function Wx(t,a,s,l){var d=K.T;K.T=null;var f=se.p;try{se.p=2,fm(t,a,s,l)}finally{se.p=f,K.T=d}}function eS(t,a,s,l){var d=K.T;K.T=null;var f=se.p;try{se.p=8,fm(t,a,s,l)}finally{se.p=f,K.T=d}}function fm(t,a,s,l){if(ed){var d=mm(l);if(d===null)Wf(t,a,l,td,s),I0(t,l);else if(nS(d,t,a,s,l))l.stopPropagation();else if(I0(t,l),a&4&&-1<tS.indexOf(t)){for(;d!==null;){var f=jn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var b=ga(f.pendingLanes);if(b!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var M=1<<31-_t(b);T.entanglements[1]|=M,b&=~M}ka(f),(Xe&6)===0&&(ju=un()+500,Pl(0))}}break;case 31:case 13:T=Yr(f,2),T!==null&&bn(T,f,2),zu(),hm(f,2)}if(f=mm(l),f===null&&Wf(t,a,l,td,s),f===d)break;d=f}d!==null&&l.stopPropagation()}else Wf(t,a,l,null,s)}}function mm(t){return t=Ln(t),pm(t)}var td=null;function pm(t){if(td=null,t=Ea(t),t!==null){var a=c(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=h(a),t!==null)return t;t=null}else if(s===31){if(t=m(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return td=t,null}function C0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dr()){case qo:return 2;case Fo:return 8;case Ci:case _h:return 32;case Oc:return 268435456;default:return 32}default:return 32}}var gm=!1,nr=null,ar=null,ir=null,Bl=new Map,Hl=new Map,rr=[],tS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I0(t,a){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Bl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(a.pointerId)}}function ql(t,a,s,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:a,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},a!==null&&(a=jn(a),a!==null&&w0(a)),t):(t.eventSystemFlags|=l,a=t.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),t)}function nS(t,a,s,l,d){switch(a){case"focusin":return nr=ql(nr,t,a,s,l,d),!0;case"dragenter":return ar=ql(ar,t,a,s,l,d),!0;case"mouseover":return ir=ql(ir,t,a,s,l,d),!0;case"pointerover":var f=d.pointerId;return Bl.set(f,ql(Bl.get(f)||null,t,a,s,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Hl.set(f,ql(Hl.get(f)||null,t,a,s,l,d)),!0}return!1}function M0(t){var a=Ea(t.target);if(a!==null){var s=c(a);if(s!==null){if(a=s.tag,a===13){if(a=h(s),a!==null){t.blockedOn=a,ta(t.priority,function(){N0(s)});return}}else if(a===31){if(a=m(s),a!==null){t.blockedOn=a,ta(t.priority,function(){N0(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nd(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=mm(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);nl=l,s.target.dispatchEvent(l),nl=null}else return a=jn(s),a!==null&&w0(a),t.blockedOn=s,!1;a.shift()}return!0}function D0(t,a,s){nd(t)&&s.delete(a)}function aS(){gm=!1,nr!==null&&nd(nr)&&(nr=null),ar!==null&&nd(ar)&&(ar=null),ir!==null&&nd(ir)&&(ir=null),Bl.forEach(D0),Hl.forEach(D0)}function ad(t,a){t.blockedOn===a&&(t.blockedOn=null,gm||(gm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,aS)))}var id=null;function O0(t){id!==t&&(id=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){id===t&&(id=null);for(var a=0;a<t.length;a+=3){var s=t[a],l=t[a+1],d=t[a+2];if(typeof l!="function"){if(pm(l||s)===null)continue;break}var f=jn(s);f!==null&&(t.splice(a,3),a-=3,mf(f,{pending:!0,data:d,method:s.method,action:l},l,d))}}))}function oo(t){function a(M){return ad(M,t)}nr!==null&&ad(nr,t),ar!==null&&ad(ar,t),ir!==null&&ad(ir,t),Bl.forEach(a),Hl.forEach(a);for(var s=0;s<rr.length;s++){var l=rr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<rr.length&&(s=rr[0],s.blockedOn===null);)M0(s),s.blockedOn===null&&rr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var d=s[l],f=s[l+1],b=d[Ht]||null;if(typeof f=="function")b||O0(s);else if(b){var T=null;if(f&&f.hasAttribute("formAction")){if(d=f,b=f[Ht]||null)T=b.formAction;else if(pm(d)!==null)continue}else T=b.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),O0(s)}}}function P0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function a(){d!==null&&(d(),d=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),d!==null&&(d(),d=null)}}}function ym(t){this._internalRoot=t}rd.prototype.render=ym.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(r(409));var s=a.current,l=Dn();S0(s,l,t,a,null,null)},rd.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;S0(t.current,2,null,t,null,null),zu(),a[ba]=null}};function rd(t){this._internalRoot=t}rd.prototype.unstable_scheduleHydration=function(t){if(t){var a=zc();t={blockedOn:null,target:t,priority:a};for(var s=0;s<rr.length&&a!==0&&a<rr[s].priority;s++);rr.splice(s,0,t),s===0&&M0(t)}};var k0=e.version;if(k0!=="19.2.4")throw Error(r(527,k0,"19.2.4"));se.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(a),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var iS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{Wn=sd.inject(iS),Qt=sd}catch{}}return Gl.createRoot=function(t,a){if(!o(t))throw Error(r(299));var s=!1,l="",d=Hy,f=qy,b=Fy;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(f=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=T0(t,1,!1,null,null,s,l,null,d,f,b,P0),t[ba]=a.current,Zf(t),new ym(a)},Gl.hydrateRoot=function(t,a,s){if(!o(t))throw Error(r(299));var l=!1,d="",f=Hy,b=qy,T=Fy,M=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(M=s.formState)),a=T0(t,1,!0,a,s??null,l,d,M,f,b,T,P0),a.context=x0(null),s=a.current,l=Dn(),l=Vr(l),d=Fi(l),d.callback=null,Gi(s,d,l),s=l,a.current.lanes=s,Pr(a,s),ka(a),t[ba]=a.current,Zf(t),new rd(a)},Gl.version="19.2.4",Gl}var G0;function pS(){if(G0)return _m.exports;G0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_m.exports=mS(),_m.exports}var gS=pS();const yS=C_(gS);var Q0="popstate";function vS(i={}){function e(o,c){let{pathname:h="/",search:m="",hash:p=""}=vs(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),zm("",{pathname:h,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof c=="string"?c:lc(c))}function r(o,c){Zn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return _S(e,n,r,i)}function ft(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Zn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bS(){return Math.random().toString(36).substring(2,10)}function K0(i,e){return{usr:i.state,key:i.key,idx:e}}function zm(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?vs(e):e,state:n,key:e&&e.key||r||bS()}}function lc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function vs(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function _S(i,e,n,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function A(){m="POP";let F=E(),ie=F==null?null:F-g;g=F,p&&p({action:m,location:z.location,delta:ie})}function w(F,ie){m="PUSH";let Q=zm(z.location,F,ie);n&&n(Q,F),g=E()+1;let re=K0(Q,g),me=z.createHref(Q);try{h.pushState(re,"",me)}catch(be){if(be instanceof DOMException&&be.name==="DataCloneError")throw be;o.location.assign(me)}c&&p&&p({action:m,location:z.location,delta:1})}function V(F,ie){m="REPLACE";let Q=zm(z.location,F,ie);n&&n(Q,F),g=E();let re=K0(Q,g),me=z.createHref(Q);h.replaceState(re,"",me),c&&p&&p({action:m,location:z.location,delta:0})}function H(F){return ES(F)}let z={get action(){return m},get location(){return i(o,h)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Q0,A),p=F,()=>{o.removeEventListener(Q0,A),p=null}},createHref(F){return e(o,F)},createURL:H,encodeLocation(F){let ie=H(F);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:w,replace:V,go(F){return h.go(F)}};return z}function ES(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:lc(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function I_(i,e,n="/"){return AS(i,e,n,!1)}function AS(i,e,n,r){let o=typeof e=="string"?vs(e):e,c=bi(o.pathname||"/",n);if(c==null)return null;let h=M_(i);TS(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=PS(c);m=DS(h[p],g,r)}return m}function M_(i,e=[],n=[],r="",o=!1){let c=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(r)&&p)return;ft(E.relativePath.startsWith(r),`Absolute route path "${E.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(r.length)}let A=mi([r,E.relativePath]),w=n.concat(E);h.children&&h.children.length>0&&(ft(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),M_(h.children,e,w,A,p)),!(h.path==null&&!h.index)&&e.push({path:A,score:IS(A,h.index),routesMeta:w})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))c(h,m);else for(let p of D_(h.path))c(h,m,!0,p)}),e}function D_(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let h=D_(r.join("/")),m=[];return m.push(...h.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function TS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:MS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var xS=/^:[\w-]+$/,SS=3,RS=2,wS=1,NS=10,CS=-2,Y0=i=>i==="*";function IS(i,e){let n=i.split("/"),r=n.length;return n.some(Y0)&&(r+=CS),e&&(r+=RS),n.filter(o=>!Y0(o)).reduce((o,c)=>o+(xS.test(c)?SS:c===""?wS:NS),r)}function MS(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function DS(i,e,n=!1){let{routesMeta:r}=i,o={},c="/",h=[];for(let m=0;m<r.length;++m){let p=r[m],g=m===r.length-1,E=c==="/"?e:e.slice(c.length)||"/",A=Rd({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!A&&g&&n&&!r[r.length-1].route.index&&(A=Rd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),h.push({params:o,pathname:mi([c,A.pathname]),pathnameBase:LS(mi([c,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(c=mi([c,A.pathnameBase]))}return h}function Rd(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=OS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((g,{paramName:E,isOptional:A},w)=>{if(E==="*"){let H=m[w]||"";h=c.slice(0,c.length-H.length).replace(/(.)\/+$/,"$1")}const V=m[w];return A&&!V?g[E]=void 0:g[E]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:h,pattern:i}}function OS(i,e=!1,n=!0){Zn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function PS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function bi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}var kS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function VS(i,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof i=="string"?vs(i):i,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=X0(n.substring(1),"/"):c=X0(n,e)):c=e,{pathname:c,search:zS(r),hash:US(o)}}function X0(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function xm(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pp(i){let e=jS(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function gp(i,e,n,r=!1){let o;typeof i=="string"?o=vs(i):(o={...i},ft(!o.pathname||!o.pathname.includes("?"),xm("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),xm("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),xm("#","search","hash",o)));let c=i===""||o.pathname==="",h=c?"/":o.pathname,m;if(h==null)m=n;else{let A=e.length-1;if(!r&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}m=A>=0?e[A]:"/"}let p=VS(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(c||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var mi=i=>i.join("/").replace(/\/\/+/g,"/"),LS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),zS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,US=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,BS=class{constructor(i,e,n,r=!1){this.status=i,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function HS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function qS(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var O_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function P_(i,e){let n=i;if(typeof n!="string"||!kS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(O_)try{let c=new URL(window.location.href),h=n.startsWith("//")?new URL(c.protocol+n):new URL(n),m=bi(h.pathname,e);h.origin===c.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Zn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var k_=["POST","PUT","PATCH","DELETE"];new Set(k_);var FS=["GET",...k_];new Set(FS);var Mo=O.createContext(null);Mo.displayName="DataRouter";var Kd=O.createContext(null);Kd.displayName="DataRouterState";var GS=O.createContext(!1),V_=O.createContext({isTransitioning:!1});V_.displayName="ViewTransition";var QS=O.createContext(new Map);QS.displayName="Fetchers";var KS=O.createContext(null);KS.displayName="Await";var Pn=O.createContext(null);Pn.displayName="Navigation";var vc=O.createContext(null);vc.displayName="Location";var Ga=O.createContext({outlet:null,matches:[],isDataRoute:!1});Ga.displayName="Route";var yp=O.createContext(null);yp.displayName="RouteError";var j_="REACT_ROUTER_ERROR",YS="REDIRECT",XS="ROUTE_ERROR_RESPONSE";function $S(i){if(i.startsWith(`${j_}:${YS}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function JS(i){if(i.startsWith(`${j_}:${XS}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new BS(e.status,e.statusText,e.data)}catch{}}function ZS(i,{relative:e}={}){ft(Do(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(Pn),{hash:o,pathname:c,search:h}=bc(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:mi([n,c])),r.createHref({pathname:m,search:h,hash:o})}function Do(){return O.useContext(vc)!=null}function Rr(){return ft(Do(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(vc).location}var L_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z_(i){O.useContext(Pn).static||O.useLayoutEffect(i)}function Oo(){let{isDataRoute:i}=O.useContext(Ga);return i?d1():WS()}function WS(){ft(Do(),"useNavigate() may be used only in the context of a <Router> component.");let i=O.useContext(Mo),{basename:e,navigator:n}=O.useContext(Pn),{matches:r}=O.useContext(Ga),{pathname:o}=Rr(),c=JSON.stringify(pp(r)),h=O.useRef(!1);return z_(()=>{h.current=!0}),O.useCallback((p,g={})=>{if(Zn(h.current,L_),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=gp(p,JSON.parse(c),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:mi([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,c,o,i])}O.createContext(null);function bc(i,{relative:e}={}){let{matches:n}=O.useContext(Ga),{pathname:r}=Rr(),o=JSON.stringify(pp(n));return O.useMemo(()=>gp(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function e1(i,e){return U_(i,e)}function U_(i,e,n,r,o){ft(Do(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=O.useContext(Pn),{matches:h}=O.useContext(Ga),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let Q=A&&A.path||"";H_(g,!A||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let w=Rr(),V;if(e){let Q=typeof e=="string"?vs(e):e;ft(E==="/"||Q.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),V=Q}else V=w;let H=V.pathname||"/",z=H;if(E!=="/"){let Q=E.replace(/^\//,"").split("/");z="/"+H.replace(/^\//,"").split("/").slice(Q.length).join("/")}let F=I_(i,{pathname:z});Zn(A||F!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Zn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ie=r1(F&&F.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:mi([E,c.encodeLocation?c.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?E:mi([E,c.encodeLocation?c.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),h,n,r,o);return e&&ie?O.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},ie):ie}function t1(){let i=u1(),e=HS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:c},"ErrorBoundary")," or"," ",O.createElement("code",{style:c},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:o},n):null,h)}var n1=O.createElement(t1,null),B_=class extends O.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=JS(i.digest);n&&(i=n)}let e=i!==void 0?O.createElement(Ga.Provider,{value:this.props.routeContext},O.createElement(yp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?O.createElement(a1,{error:i},e):e}};B_.contextType=GS;var Sm=new WeakMap;function a1({children:i,error:e}){let{basename:n}=O.useContext(Pn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=$S(e.digest);if(r){let o=Sm.get(e);if(o)throw o;let c=P_(r.location,n);if(O_&&!Sm.get(e))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw Sm.set(e,h),h}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return i}function i1({routeContext:i,match:e,children:n}){let r=O.useContext(Mo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Ga.Provider,{value:i},n)}function r1(i,e=[],n=null,r=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,h=n?.errors;if(h!=null){let E=c.findIndex(A=>A.route.id&&h?.[A.route.id]!==void 0);ft(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<c.length;E++){let A=c[E];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(p=E),A.route.id){let{loaderData:w,errors:V}=n,H=A.route.loader&&!w.hasOwnProperty(A.route.id)&&(!V||V[A.route.id]===void 0);if(A.route.lazy||H){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let g=n&&r?(E,A)=>{r(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:qS(n.matches),errorInfo:A})}:void 0;return c.reduceRight((E,A,w)=>{let V,H=!1,z=null,F=null;n&&(V=h&&A.route.id?h[A.route.id]:void 0,z=A.route.errorElement||n1,m&&(p<0&&w===0?(H_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,F=null):p===w&&(H=!0,F=A.route.hydrateFallbackElement||null)));let ie=e.concat(c.slice(0,w+1)),Q=()=>{let re;return V?re=z:H?re=F:A.route.Component?re=O.createElement(A.route.Component,null):A.route.element?re=A.route.element:re=E,O.createElement(i1,{match:A,routeContext:{outlet:E,matches:ie,isDataRoute:n!=null},children:re})};return n&&(A.route.ErrorBoundary||A.route.errorElement||w===0)?O.createElement(B_,{location:n.location,revalidation:n.revalidation,component:z,error:V,children:Q(),routeContext:{outlet:null,matches:ie,isDataRoute:!0},onError:g}):Q()},null)}function vp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s1(i){let e=O.useContext(Mo);return ft(e,vp(i)),e}function o1(i){let e=O.useContext(Kd);return ft(e,vp(i)),e}function l1(i){let e=O.useContext(Ga);return ft(e,vp(i)),e}function bp(i){let e=l1(i),n=e.matches[e.matches.length-1];return ft(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function c1(){return bp("useRouteId")}function u1(){let i=O.useContext(yp),e=o1("useRouteError"),n=bp("useRouteError");return i!==void 0?i:e.errors?.[n]}function d1(){let{router:i}=s1("useNavigate"),e=bp("useNavigate"),n=O.useRef(!1);return z_(()=>{n.current=!0}),O.useCallback(async(o,c={})=>{Zn(n.current,L_),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var $0={};function H_(i,e,n){!e&&!$0[i]&&($0[i]=!0,Zn(!1,n))}O.memo(h1);function h1({routes:i,future:e,state:n,onError:r}){return U_(i,void 0,n,r,e)}function q_({to:i,replace:e,state:n,relative:r}){ft(Do(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(Pn);Zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=O.useContext(Ga),{pathname:h}=Rr(),m=Oo(),p=gp(i,pp(c),h,r==="path"),g=JSON.stringify(p);return O.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:r})},[m,g,r,e,n]),null}function Va(i){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function f1({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:c=!1,unstable_useTransitions:h}){ft(!Do(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=O.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:h,future:{}}),[m,o,c,h]);typeof n=="string"&&(n=vs(n));let{pathname:g="/",search:E="",hash:A="",state:w=null,key:V="default"}=n,H=O.useMemo(()=>{let z=bi(g,m);return z==null?null:{location:{pathname:z,search:E,hash:A,state:w,key:V},navigationType:r}},[m,g,E,A,w,V,r]);return Zn(H!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${A}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:O.createElement(Pn.Provider,{value:p},O.createElement(vc.Provider,{children:e,value:H}))}function m1({children:i,location:e}){return e1(Um(i),e)}function Um(i,e=[]){let n=[];return O.Children.forEach(i,(r,o)=>{if(!O.isValidElement(r))return;let c=[...e,o];if(r.type===O.Fragment){n.push.apply(n,Um(r.props.children,c));return}ft(r.type===Va,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Um(r.props.children,c)),n.push(h)}),n}var md="get",pd="application/x-www-form-urlencoded";function Yd(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function p1(i){return Yd(i)&&i.tagName.toLowerCase()==="button"}function g1(i){return Yd(i)&&i.tagName.toLowerCase()==="form"}function y1(i){return Yd(i)&&i.tagName.toLowerCase()==="input"}function v1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function b1(i,e){return i.button===0&&(!e||e==="_self")&&!v1(i)}var od=null;function _1(){if(od===null)try{new FormData(document.createElement("form"),0),od=!1}catch{od=!0}return od}var E1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rm(i){return i!=null&&!E1.has(i)?(Zn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pd}"`),null):i}function A1(i,e){let n,r,o,c,h;if(g1(i)){let m=i.getAttribute("action");r=m?bi(m,e):null,n=i.getAttribute("method")||md,o=Rm(i.getAttribute("enctype"))||pd,c=new FormData(i)}else if(p1(i)||y1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(r=p?bi(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||md,o=Rm(i.getAttribute("formenctype"))||Rm(m.getAttribute("enctype"))||pd,c=new FormData(m,i),!_1()){let{name:g,type:E,value:A}=i;if(E==="image"){let w=g?`${g}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else g&&c.append(g,A)}}else{if(Yd(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=md,r=null,o=pd,h=i}return c&&o==="text/plain"&&(h=c,c=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _p(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function T1(i,e,n,r){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&bi(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function x1(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function S1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function R1(i,e,n){let r=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await x1(c,n);return h.links?h.links():[]}return[]}));return I1(r.flat(1).filter(S1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function J0(i,e,n,r,o,c){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):c==="data"?e.filter((p,g)=>{let E=r.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function w1(i,e,{includeHydrateFallback:n}={}){return N1(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function N1(i){return[...new Set(i)]}function C1(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function I1(i,e){let n=new Set;return new Set(e),i.reduce((r,o)=>{let c=JSON.stringify(C1(o));return n.has(c)||(n.add(c),r.push({key:c,link:o})),r},[])}function F_(){let i=O.useContext(Mo);return _p(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function M1(){let i=O.useContext(Kd);return _p(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Ep=O.createContext(void 0);Ep.displayName="FrameworkContext";function G_(){let i=O.useContext(Ep);return _p(i,"You must render this element inside a <HydratedRouter> element"),i}function D1(i,e){let n=O.useContext(Ep),[r,o]=O.useState(!1),[c,h]=O.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,w=O.useRef(null);O.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let z=ie=>{ie.forEach(Q=>{h(Q.isIntersecting)})},F=new IntersectionObserver(z,{threshold:.5});return w.current&&F.observe(w.current),()=>{F.disconnect()}}},[i]),O.useEffect(()=>{if(r){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[r]);let V=()=>{o(!0)},H=()=>{o(!1),h(!1)};return n?i!=="intent"?[c,w,{}]:[c,w,{onFocus:Ql(m,V),onBlur:Ql(p,H),onMouseEnter:Ql(g,V),onMouseLeave:Ql(E,H),onTouchStart:Ql(A,V)}]:[!1,w,{}]}function Ql(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function O1({page:i,...e}){let{router:n}=F_(),r=O.useMemo(()=>I_(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?O.createElement(k1,{page:i,matches:r,...e}):null}function P1(i){let{manifest:e,routeModules:n}=G_(),[r,o]=O.useState([]);return O.useEffect(()=>{let c=!1;return R1(i,e,n).then(h=>{c||o(h)}),()=>{c=!0}},[i,e,n]),r}function k1({page:i,matches:e,...n}){let r=Rr(),{future:o,manifest:c,routeModules:h}=G_(),{basename:m}=F_(),{loaderData:p,matches:g}=M1(),E=O.useMemo(()=>J0(i,e,g,c,r,"data"),[i,e,g,c,r]),A=O.useMemo(()=>J0(i,e,g,c,r,"assets"),[i,e,g,c,r]),w=O.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let z=new Set,F=!1;if(e.forEach(Q=>{let re=c.routes[Q.route.id];!re||!re.hasLoader||(!E.some(me=>me.route.id===Q.route.id)&&Q.route.id in p&&h[Q.route.id]?.shouldRevalidate||re.hasClientLoader?F=!0:z.add(Q.route.id))}),z.size===0)return[];let ie=T1(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return F&&z.size>0&&ie.searchParams.set("_routes",e.filter(Q=>z.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[ie.pathname+ie.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,r,c,E,e,i,h]),V=O.useMemo(()=>w1(A,c),[A,c]),H=P1(A);return O.createElement(O.Fragment,null,w.map(z=>O.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),V.map(z=>O.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),H.map(({key:z,link:F})=>O.createElement("link",{key:z,nonce:n.nonce,...F,crossOrigin:F.crossOrigin??n.crossOrigin})))}function V1(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var j1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j1&&(window.__reactRouterVersion="7.13.0")}catch{}function L1({basename:i,children:e,unstable_useTransitions:n,window:r}){let o=O.useRef();o.current==null&&(o.current=vS({window:r,v5Compat:!0}));let c=o.current,[h,m]=O.useState({action:c.action,location:c.location}),p=O.useCallback(g=>{n===!1?m(g):O.startTransition(()=>m(g))},[n]);return O.useLayoutEffect(()=>c.listen(p),[c,p]),O.createElement(f1,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:n})}var Q_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K_=O.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:c,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:w,...V},H){let{basename:z,unstable_useTransitions:F}=O.useContext(Pn),ie=typeof g=="string"&&Q_.test(g),Q=P_(g,z);g=Q.to;let re=ZS(g,{relative:o}),[me,be,ae]=D1(r,V),N=H1(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A,unstable_defaultShouldRevalidate:w,unstable_useTransitions:F});function x(I){e&&e(I),I.defaultPrevented||N(I)}let R=O.createElement("a",{...V,...ae,href:Q.absoluteURL||re,onClick:Q.isExternal||c?e:x,ref:V1(H,be),target:p,"data-discover":!ie&&n==="render"?"true":void 0});return me&&!ie?O.createElement(O.Fragment,null,R,O.createElement(O1,{page:re})):R});K_.displayName="Link";var z1=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:c,to:h,viewTransition:m,children:p,...g},E){let A=bc(h,{relative:g.relative}),w=Rr(),V=O.useContext(Kd),{navigator:H,basename:z}=O.useContext(Pn),F=V!=null&&K1(A)&&m===!0,ie=H.encodeLocation?H.encodeLocation(A).pathname:A.pathname,Q=w.pathname,re=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),re=re?re.toLowerCase():null,ie=ie.toLowerCase()),re&&z&&(re=bi(re,z)||re);const me=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let be=Q===ie||!o&&Q.startsWith(ie)&&Q.charAt(me)==="/",ae=re!=null&&(re===ie||!o&&re.startsWith(ie)&&re.charAt(ie.length)==="/"),N={isActive:be,isPending:ae,isTransitioning:F},x=be?e:void 0,R;typeof r=="function"?R=r(N):R=[r,be?"active":null,ae?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let I=typeof c=="function"?c(N):c;return O.createElement(K_,{...g,"aria-current":x,className:R,ref:E,style:I,to:h,viewTransition:m},typeof p=="function"?p(N):p)});z1.displayName="NavLink";var U1=O.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:c,method:h=md,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:w,...V},H)=>{let{unstable_useTransitions:z}=O.useContext(Pn),F=G1(),ie=Q1(m,{relative:g}),Q=h.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&Q_.test(m),me=be=>{if(p&&p(be),be.defaultPrevented)return;be.preventDefault();let ae=be.nativeEvent.submitter,N=ae?.getAttribute("formmethod")||h,x=()=>F(ae||be.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:c,relative:g,preventScrollReset:E,viewTransition:A,unstable_defaultShouldRevalidate:w});z&&n!==!1?O.startTransition(()=>x()):x()};return O.createElement("form",{ref:H,method:Q,action:ie,onSubmit:r?p:me,...V,"data-discover":!re&&i==="render"?"true":void 0})});U1.displayName="Form";function B1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y_(i){let e=O.useContext(Mo);return ft(e,B1(i)),e}function H1(i,{target:e,replace:n,state:r,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=Oo(),E=Rr(),A=bc(i,{relative:c});return O.useCallback(w=>{if(b1(w,e)){w.preventDefault();let V=n!==void 0?n:lc(E)===lc(A),H=()=>g(i,{replace:V,state:r,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:m});p?O.startTransition(()=>H()):H()}},[E,g,A,n,r,e,i,o,c,h,m,p])}var q1=0,F1=()=>`__${String(++q1)}__`;function G1(){let{router:i}=Y_("useSubmit"),{basename:e}=O.useContext(Pn),n=c1(),r=i.fetch,o=i.navigate;return O.useCallback(async(c,h={})=>{let{action:m,method:p,encType:g,formData:E,body:A}=A1(c,e);if(h.navigate===!1){let w=h.fetcherKey||F1();await r(w,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:A,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:A,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[r,o,e,n])}function Q1(i,{relative:e}={}){let{basename:n}=O.useContext(Pn),r=O.useContext(Ga);ft(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...bc(i||".",{relative:e})},h=Rr();if(i==null){c.search=h.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();c.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:mi([n,c.pathname])),lc(c)}function K1(i,{relative:e}={}){let n=O.useContext(V_);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Y_("useViewTransitionState"),o=bc(i,{relative:e});if(!n.isTransitioning)return!1;let c=bi(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=bi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rd(o.pathname,h)!=null||Rd(o.pathname,c)!=null}const Y1=()=>{};var Z0={};const X_=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},X1=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const c=i[n++],h=i[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},$_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const c=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=c>>2,A=(c&3)<<4|m>>4;let w=(m&15)<<2|g>>6,V=g&63;p||(V=64,h||(w=64)),r.push(n[E],n[A],n[w],n[V])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(X_(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):X1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const A=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||m==null||g==null||A==null)throw new $1;const w=c<<2|m>>4;if(r.push(w),g!==64){const V=m<<4&240|g>>2;if(r.push(V),A!==64){const H=g<<6&192|A;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class $1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J1=function(i){const e=X_(i);return $_.encodeByteArray(e,!0)},wd=function(i){return J1(i).replace(/\./g,"")},J_=function(i){try{return $_.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Z1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const W1=()=>Z1().__FIREBASE_DEFAULTS__,eR=()=>{if(typeof process>"u"||typeof Z0>"u")return;const i=Z0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},tR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&J_(i[1]);return e&&JSON.parse(e)},Xd=()=>{try{return Y1()||W1()||eR()||tR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Z_=i=>Xd()?.emulatorHosts?.[i],nR=i=>{const e=Z_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},W_=()=>Xd()?.config,eE=i=>Xd()?.[`_${i}`];class aR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Po(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tE(i){return(await fetch(i,{credentials:"include"})).ok}function iR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[wd(JSON.stringify(n)),wd(JSON.stringify(h)),""].join(".")}const ec={};function rR(){const i={prod:[],emulator:[]};for(const e of Object.keys(ec))ec[e]?i.emulator.push(e):i.prod.push(e);return i}function sR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let W0=!1;function nE(i,e){if(typeof window>"u"||typeof document>"u"||!Po(window.location.host)||ec[i]===e||ec[i]||W0)return;ec[i]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",c=rR().prod.length>0;function h(){const w=document.getElementById(r);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,V){w.setAttribute("width","24"),w.setAttribute("id",V),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{W0=!0,h()},w}function E(w,V){w.setAttribute("id",V),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=sR(r),V=n("text"),H=document.getElementById(V)||document.createElement("span"),z=n("learnmore"),F=document.getElementById(z)||document.createElement("a"),ie=n("preprendIcon"),Q=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;m(re),E(F,z);const me=g();p(Q,ie),re.append(Q,H,F,me),document.body.appendChild(re)}c?(H.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function lR(){const i=Xd()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function dR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hR(){const i=cn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function fR(){return!lR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mR(){try{return typeof indexedDB=="object"}catch{return!1}}function pR(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const gR="FirebaseError";class Si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gR,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?yR(c,r):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Si(o,m,r)}}function yR(i,e){return i.replace(vR,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const vR=/\{\$([^}]+)}/g;function bR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function br(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=i[o],h=e[o];if(eb(c)&&eb(h)){if(!br(c,h))return!1}else if(c!==h)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function eb(i){return i!==null&&typeof i=="object"}function Ec(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Xl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function _R(i,e){const n=new ER(i,e);return n.subscribe.bind(n)}class ER{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function wm(){}function Ut(i){return i&&i._delegate?i._delegate:i}class hs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const os="[DEFAULT]";class TR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SR(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&h.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xR(i){return i===os?void 0:i}function SR(i){return i.instantiationMode==="EAGER"}class RR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Be;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Be||(Be={}));const wR={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},NR=Be.INFO,CR={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},IR=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=CR[e];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ap{constructor(e){this.name=e,this._logLevel=NR,this._logHandler=IR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const MR=(i,e)=>e.some(n=>i instanceof n);let tb,nb;function DR(){return tb||(tb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OR(){return nb||(nb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aE=new WeakMap,Bm=new WeakMap,iE=new WeakMap,Nm=new WeakMap,Tp=new WeakMap;function PR(i){const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{n(fr(i.result)),o()},h=()=>{r(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&aE.set(n,i)}).catch(()=>{}),Tp.set(e,i),e}function kR(i){if(Bm.has(i))return;const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});Bm.set(i,e)}let Hm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Bm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||iE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function VR(i){Hm=i(Hm)}function jR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(Cm(this),e,...n);return iE.set(r,e.sort?e.sort():[e]),fr(r)}:OR().includes(i)?function(...e){return i.apply(Cm(this),e),fr(aE.get(this))}:function(...e){return fr(i.apply(Cm(this),e))}}function LR(i){return typeof i=="function"?jR(i):(i instanceof IDBTransaction&&kR(i),MR(i,DR())?new Proxy(i,Hm):i)}function fr(i){if(i instanceof IDBRequest)return PR(i);if(Nm.has(i))return Nm.get(i);const e=LR(i);return e!==i&&(Nm.set(i,e),Tp.set(e,i)),e}const Cm=i=>Tp.get(i);function zR(i,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const h=indexedDB.open(i,e),m=fr(h);return r&&h.addEventListener("upgradeneeded",p=>{r(fr(h.result),p.oldVersion,p.newVersion,fr(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const UR=["get","getKey","getAll","getAllKeys","count"],BR=["put","add","delete","clear"],Im=new Map;function ab(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Im.get(e))return Im.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=BR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||UR.includes(n)))return;const c=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Im.set(e,c),c}VR(i=>({...i,get:(e,n,r)=>ab(e,n)||i.get(e,n,r),has:(e,n)=>!!ab(e,n)||i.has(e,n)}));class HR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qR(i){return i.getComponent()?.type==="VERSION"}const qm="@firebase/app",ib="0.14.7";const _i=new Ap("@firebase/app"),FR="@firebase/app-compat",GR="@firebase/analytics-compat",QR="@firebase/analytics",KR="@firebase/app-check-compat",YR="@firebase/app-check",XR="@firebase/auth",$R="@firebase/auth-compat",JR="@firebase/database",ZR="@firebase/data-connect",WR="@firebase/database-compat",ew="@firebase/functions",tw="@firebase/functions-compat",nw="@firebase/installations",aw="@firebase/installations-compat",iw="@firebase/messaging",rw="@firebase/messaging-compat",sw="@firebase/performance",ow="@firebase/performance-compat",lw="@firebase/remote-config",cw="@firebase/remote-config-compat",uw="@firebase/storage",dw="@firebase/storage-compat",hw="@firebase/firestore",fw="@firebase/ai",mw="@firebase/firestore-compat",pw="firebase",gw="12.8.0";const Fm="[DEFAULT]",yw={[qm]:"fire-core",[FR]:"fire-core-compat",[QR]:"fire-analytics",[GR]:"fire-analytics-compat",[YR]:"fire-app-check",[KR]:"fire-app-check-compat",[XR]:"fire-auth",[$R]:"fire-auth-compat",[JR]:"fire-rtdb",[ZR]:"fire-data-connect",[WR]:"fire-rtdb-compat",[ew]:"fire-fn",[tw]:"fire-fn-compat",[nw]:"fire-iid",[aw]:"fire-iid-compat",[iw]:"fire-fcm",[rw]:"fire-fcm-compat",[sw]:"fire-perf",[ow]:"fire-perf-compat",[lw]:"fire-rc",[cw]:"fire-rc-compat",[uw]:"fire-gcs",[dw]:"fire-gcs-compat",[hw]:"fire-fst",[mw]:"fire-fst-compat",[fw]:"fire-vertex","fire-js":"fire-js",[pw]:"fire-js-all"};const Nd=new Map,vw=new Map,Gm=new Map;function rb(i,e){try{i.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Eo(i){const e=i.name;if(Gm.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,i);for(const n of Nd.values())rb(n,i);for(const n of vw.values())rb(n,i);return!0}function xp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Xn(i){return i==null?!1:i.settings!==void 0}const bw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new _c("app","Firebase",bw);class _w{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const ko=gw;function rE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:Fm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw mr.create("bad-app-name",{appName:String(o)});if(n||(n=W_()),!n)throw mr.create("no-options");const c=Nd.get(o);if(c){if(br(n,c.options)&&br(r,c.config))return c;throw mr.create("duplicate-app",{appName:o})}const h=new RR(o);for(const p of Gm.values())h.addComponent(p);const m=new _w(n,r,h);return Nd.set(o,m),m}function sE(i=Fm){const e=Nd.get(i);if(!e&&i===Fm&&W_())return rE();if(!e)throw mr.create("no-app",{appName:i});return e}function pr(i,e,n){let r=yw[i]??i;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(h.join(" "));return}Eo(new hs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Ew="firebase-heartbeat-database",Aw=1,cc="firebase-heartbeat-store";let Mm=null;function oE(){return Mm||(Mm=zR(Ew,Aw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(cc)}catch(n){console.warn(n)}}}}).catch(i=>{throw mr.create("idb-open",{originalErrorMessage:i.message})})),Mm}async function Tw(i){try{const n=(await oE()).transaction(cc),r=await n.objectStore(cc).get(lE(i));return await n.done,r}catch(e){if(e instanceof Si)_i.warn(e.message);else{const n=mr.create("idb-get",{originalErrorMessage:e?.message});_i.warn(n.message)}}}async function sb(i,e){try{const r=(await oE()).transaction(cc,"readwrite");await r.objectStore(cc).put(e,lE(i)),await r.done}catch(n){if(n instanceof Si)_i.warn(n.message);else{const r=mr.create("idb-set",{originalErrorMessage:n?.message});_i.warn(r.message)}}}function lE(i){return`${i.name}!${i.options.appId}`}const xw=1024,Sw=30;class Rw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Nw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ob();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Sw){const o=Cw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_i.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ob(),{heartbeatsToSend:n,unsentEntries:r}=ww(this._heartbeatsCache.heartbeats),o=wd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return _i.warn(e),""}}}function ob(){return new Date().toISOString().substring(0,10)}function ww(i,e=xw){const n=[];let r=i.slice();for(const o of i){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),lb(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),lb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Nw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mR()?pR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Tw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lb(i){return wd(JSON.stringify({version:2,heartbeats:i})).length}function Cw(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}function Iw(i){Eo(new hs("platform-logger",e=>new HR(e),"PRIVATE")),Eo(new hs("heartbeat",e=>new Rw(e),"PRIVATE")),pr(qm,ib,i),pr(qm,ib,"esm2020"),pr("fire-js","")}Iw("");var Mw="firebase",Dw="12.8.0";pr(Mw,Dw,"app");function cE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ow=cE,uE=new _c("auth","Firebase",cE());const Cd=new Ap("@firebase/auth");function Pw(i,...e){Cd.logLevel<=Be.WARN&&Cd.warn(`Auth (${ko}): ${i}`,...e)}function gd(i,...e){Cd.logLevel<=Be.ERROR&&Cd.error(`Auth (${ko}): ${i}`,...e)}function fa(i,...e){throw Sp(i,...e)}function za(i,...e){return Sp(i,...e)}function dE(i,e,n){const r={...Ow(),[e]:n};return new _c("auth","Firebase",r).create(e,{appName:i.name})}function pi(i){return dE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sp(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return uE.create(i,...e)}function Ee(i,e,...n){if(!i)throw Sp(e,...n)}function hi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw gd(e),new Error(e)}function Ei(i,e){i||hi(e)}function Qm(){return typeof self<"u"&&self.location?.href||""}function kw(){return cb()==="http:"||cb()==="https:"}function cb(){return typeof self<"u"&&self.location?.protocol||null}function Vw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kw()||uR()||"connection"in navigator)?navigator.onLine:!0}function jw(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ei(n>e,"Short delay should be less than long delay!"),this.isMobile=oR()||dR()}get(){return Vw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rp(i,e){Ei(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class hE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const zw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Uw=new Ac(3e4,6e4);function Ri(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Qa(i,e,n,r,o={}){return fE(i,o,async()=>{let c={},h={};r&&(e==="GET"?h=r:c={body:JSON.stringify(r)});const m=Ec({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...c};return cR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Po(i.emulatorConfig.host)&&(g.credentials="include"),hE.fetch()(await mE(i,i.config.apiHost,n,m),g)})}async function fE(i,e,n){i._canInitEmulator=!1;const r={...Lw,...e};try{const o=new Hw(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw ld(i,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const m=c.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ld(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ld(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw ld(i,"user-disabled",h);const E=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw dE(i,E,g);fa(i,E)}}catch(o){if(o instanceof Si)throw o;fa(i,"network-request-failed",{message:String(o)})}}async function Tc(i,e,n,r,o={}){const c=await Qa(i,e,n,r,o);return"mfaPendingCredential"in c&&fa(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function mE(i,e,n,r){const o=`${e}${n}?${r}`,c=i,h=c.config.emulator?Rp(i.config,o):`${i.config.apiScheme}://${o}`;return zw.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function Bw(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(za(this.auth,"network-request-failed")),Uw.get())})}}function ld(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=za(i,e,r);return o.customData._tokenResponse=n,o}function ub(i){return i!==void 0&&i.enterprise!==void 0}class qw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Bw(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Fw(i,e){return Qa(i,"GET","/v2/recaptchaConfig",Ri(i,e))}async function Gw(i,e){return Qa(i,"POST","/v1/accounts:delete",e)}async function Id(i,e){return Qa(i,"POST","/v1/accounts:lookup",e)}function tc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qw(i,e=!1){const n=Ut(i),r=await n.getIdToken(e),o=wp(r);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:r,authTime:tc(Dm(o.auth_time)),issuedAtTime:tc(Dm(o.iat)),expirationTime:tc(Dm(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Dm(i){return Number(i)*1e3}function wp(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return gd("JWT malformed, contained fewer than 3 sections"),null;try{const o=J_(n);return o?JSON.parse(o):(gd("Failed to decode base64 JWT payload"),null)}catch(o){return gd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function db(i){const e=wp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ao(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Si&&Kw(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function Kw({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class Yw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Md(i){const e=i.auth,n=await i.getIdToken(),r=await Ao(i,Id(e,{idToken:n}));Ee(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?pE(o.providerUserInfo):[],h=$w(i.providerData,c),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function Xw(i){const e=Ut(i);await Md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $w(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function pE(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Jw(i,e){const n=await fE(i,{},async()=>{const r=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,h=await mE(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return i.emulatorConfig&&Po(i.emulatorConfig.host)&&(p.credentials="include"),hE.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Zw(i,e){return Qa(i,"POST","/v2/accounts:revokeToken",Ri(i,e))}class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):db(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=db(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await Jw(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,h=new po;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return hi("not implemented")}}function or(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class da{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Yw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Km(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ao(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Qw(this,e)}reload(){return Xw(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new da({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Md(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(pi(this.auth));const e=await this.getIdToken();return await Ao(this,Gw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:w,isAnonymous:V,providerData:H,stsTokenManager:z}=n;Ee(A&&z,e,"internal-error");const F=po.fromJSON(this.name,z);Ee(typeof A=="string",e,"internal-error"),or(r,e.name),or(o,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof V=="boolean",e,"internal-error"),or(c,e.name),or(h,e.name),or(m,e.name),or(p,e.name),or(g,e.name),or(E,e.name);const ie=new da({uid:A,auth:e,email:o,emailVerified:w,displayName:r,isAnonymous:V,photoURL:h,phoneNumber:c,tenantId:m,stsTokenManager:F,createdAt:g,lastLoginAt:E});return H&&Array.isArray(H)&&(ie.providerData=H.map(Q=>({...Q}))),p&&(ie._redirectEventId=p),ie}static async _fromIdTokenResponse(e,n,r=!1){const o=new po;o.updateFromServerResponse(n);const c=new da({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Md(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?pE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,m=new po;m.updateFromIdToken(r);const p=new da({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,g),p}}const hb=new Map;function fi(i){Ei(i instanceof Function,"Expected a class definition");let e=hb.get(i);return e?(Ei(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,hb.set(i,e),e)}class gE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gE.type="NONE";const fb=gE;function yd(i,e,n){return`firebase:${i}:${e}:${n}`}class go{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=yd(this.userKey,o.apiKey,c),this.fullPersistenceKey=yd("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Id(this.auth,{idToken:e}).catch(()=>{});return n?da._fromGetAccountInfoResponse(this.auth,n,e):null}return da._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new go(fi(fb),e,r);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||fi(fb);const h=yd(r,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let A;if(typeof E=="string"){const w=await Id(e,{idToken:E}).catch(()=>{});if(!w)break;A=await da._fromGetAccountInfoResponse(e,w,E)}else A=da._fromJSON(e,E);g!==c&&(m=A),c=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new go(c,e,r):(c=p[0],m&&await c._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==c)try{await g._remove(h)}catch{}})),new go(c,e,r))}}function mb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_E(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AE(e))return"Blackberry";if(TE(e))return"Webos";if(vE(e))return"Safari";if((e.includes("chrome/")||bE(e))&&!e.includes("edge/"))return"Chrome";if(EE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function yE(i=cn()){return/firefox\//i.test(i)}function vE(i=cn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bE(i=cn()){return/crios\//i.test(i)}function _E(i=cn()){return/iemobile/i.test(i)}function EE(i=cn()){return/android/i.test(i)}function AE(i=cn()){return/blackberry/i.test(i)}function TE(i=cn()){return/webos/i.test(i)}function Np(i=cn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Ww(i=cn()){return Np(i)&&!!window.navigator?.standalone}function eN(){return hR()&&document.documentMode===10}function xE(i=cn()){return Np(i)||EE(i)||TE(i)||AE(i)||/windows phone/i.test(i)||_E(i)}function SE(i,e=[]){let n;switch(i){case"Browser":n=mb(cn());break;case"Worker":n=`${mb(cn())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ko}/${r}`}class tN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((h,m)=>{try{const p=e(c);h(p)}catch(p){m(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function nN(i,e={}){return Qa(i,"GET","/v2/passwordPolicy",Ri(i,e))}const aN=6;class iN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??aN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class rN{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pb(this),this.idTokenSubscription=new pb(this),this.beforeStateQueue=new tN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await go.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Id(this,{idToken:e}),r=await da._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===h)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Md(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(pi(this));const n=e?Ut(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nN(this),n=new iN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _c("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Zw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Pw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wr(i){return Ut(i)}class pb{constructor(e){this.auth=e,this.observer=null,this.addObserver=_R(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sN(i){$d=i}function RE(i){return $d.loadJS(i)}function oN(){return $d.recaptchaEnterpriseScript}function lN(){return $d.gapiScript}function cN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class uN{constructor(){this.enterprise=new dN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class dN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const hN="recaptcha-enterprise",wE="NO_RECAPTCHA";class fN{constructor(e){this.type=hN,this.auth=wr(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,m)=>{Fw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new qw(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(c,h,m){const p=window.grecaptcha;ub(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(g=>{h(g)}).catch(()=>{h(wE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uN().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{r(this.auth).then(m=>{if(!n&&ub(window.grecaptcha))o(m,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=oN();p.length!==0&&(p+=m),RE(p).then(()=>{o(m,c,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function gb(i,e,n,r=!1,o=!1){const c=new fN(i);let h;if(o)h=wE;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Dd(i,e,n,r,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await gb(i,e,n,n==="getOobCode");return r(i,c)}else return r(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await gb(i,e,n,n==="getOobCode");return r(i,h)}else return Promise.reject(c)})}function mN(i,e){const n=xp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(br(c,e??{}))return o;fa(o,"already-initialized")}return n.initialize({options:e})}function pN(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(fi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function gN(i,e,n){const r=wr(i);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=NE(e),{host:h,port:m}=yN(e),p=m===null?"":`:${m}`,g={url:`${c}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(br(g,r.config.emulator)&&br(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,Po(h)?(tE(`${c}//${h}${p}`),nE("Auth",!0)):vN()}function NE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function yN(i){const e=NE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:yb(r.substr(c.length+1))}}else{const[c,h]=r.split(":");return{host:c,port:yb(h)}}}function yb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function vN(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Cp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}async function bN(i,e){return Qa(i,"POST","/v1/accounts:update",e)}async function _N(i,e){return Qa(i,"POST","/v1/accounts:signUp",e)}async function EN(i,e){return Tc(i,"POST","/v1/accounts:signInWithPassword",Ri(i,e))}async function AN(i,e){return Qa(i,"POST","/v1/accounts:sendOobCode",Ri(i,e))}async function TN(i,e){return AN(i,e)}async function xN(i,e){return Tc(i,"POST","/v1/accounts:signInWithEmailLink",Ri(i,e))}async function SN(i,e){return Tc(i,"POST","/v1/accounts:signInWithEmailLink",Ri(i,e))}class uc extends Cp{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new uc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new uc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dd(e,n,"signInWithPassword",EN);case"emailLink":return xN(e,{email:this._email,oobCode:this._password});default:fa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dd(e,r,"signUpPassword",_N);case"emailLink":return SN(e,{idToken:n,email:this._email,oobCode:this._password});default:fa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yo(i,e){return Tc(i,"POST","/v1/accounts:signInWithIdp",Ri(i,e))}const RN="http://localhost";class fs extends Cp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const h=new fs(r,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return yo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yo(e,n)}buildRequest(){const e={requestUri:RN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ec(n)}return e}}function wN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NN(i){const e=Yl(Xl(i)).link,n=e?Yl(Xl(e)).deep_link_id:null,r=Yl(Xl(i)).deep_link_id;return(r?Yl(Xl(r)).link:null)||r||n||e||i}class Ip{constructor(e){const n=Yl(Xl(e)),r=n.apiKey??null,o=n.oobCode??null,c=wN(n.mode??null);Ee(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=NN(e);try{return new Ip(n)}catch{return null}}}class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,n){return uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ip.parseLink(n);return Ee(r,"argument-error"),uc._fromEmailAndCode(e,r.code,r.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class CE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class xc extends CE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lr extends xc{constructor(){super("facebook.com")}static credential(e){return fs._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";lr.PROVIDER_ID="facebook.com";class cr extends xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fs._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cr.credential(n,r)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";class ur extends xc{constructor(){super("github.com")}static credential(e){return fs._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";class dr extends xc{constructor(){super("twitter.com")}static credential(e,n){return fs._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return dr.credential(n,r)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";async function CN(i,e){return Tc(i,"POST","/v1/accounts:signUp",Ri(i,e))}class ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await da._fromIdTokenResponse(e,r,o),h=vb(r);return new ms({user:c,providerId:h,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=vb(r);return new ms({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function vb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Od extends Si{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Od.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Od(e,n,r,o)}}function IE(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Od._fromErrorAndOperation(i,c,e,r):c})}async function IN(i,e,n=!1){const r=await Ao(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ms._forOperation(i,"link",r)}async function MN(i,e,n=!1){const{auth:r}=i;if(Xn(r.app))return Promise.reject(pi(r));const o="reauthenticate";try{const c=await Ao(i,IE(r,o,e,i),n);Ee(c.idToken,r,"internal-error");const h=wp(c.idToken);Ee(h,r,"internal-error");const{sub:m}=h;return Ee(i.uid===m,r,"user-mismatch"),ms._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&fa(r,"user-mismatch"),c}}async function ME(i,e,n=!1){if(Xn(i.app))return Promise.reject(pi(i));const r="signIn",o=await IE(i,r,e),c=await ms._fromIdTokenResponse(i,r,o);return n||await i._updateCurrentUser(c.user),c}async function DN(i,e){return ME(wr(i),e)}async function DE(i){const e=wr(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ON(i,e,n){const r=wr(i);await Dd(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",TN)}async function PN(i,e,n){if(Xn(i.app))return Promise.reject(pi(i));const r=wr(i),h=await Dd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&DE(i),p}),m=await ms._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(m.user),m}function OE(i,e,n){return Xn(i.app)?Promise.reject(pi(i)):DN(Ut(i),Vo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DE(i),r})}function kN(i,e){return VN(Ut(i),null,e)}async function VN(i,e,n){const{auth:r}=i,c={idToken:await i.getIdToken(),returnSecureToken:!0};n&&(c.password=n);const h=await Ao(i,bN(r,c));await i._updateTokensIfNecessary(h,!0)}function jN(i,e,n,r){return Ut(i).onIdTokenChanged(e,n,r)}function LN(i,e,n){return Ut(i).beforeAuthStateChanged(e,n)}function zN(i,e,n,r){return Ut(i).onAuthStateChanged(e,n,r)}const Pd="__sak";class PE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pd,"1"),this.storage.removeItem(Pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const UN=1e3,BN=10;class kE extends PE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!n&&this.localCache[r]===h||this.notifyListeners(r,h)},c=this.storage.getItem(r);eN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,BN):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},UN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kE.type="LOCAL";const HN=kE;class VE extends PE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VE.type="SESSION";const jE=VE;function qN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Jd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,c)),p=await qN(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jd.receivers=[];function Mp(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}class FN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((m,p)=>{const g=Mp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(w.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Ua(){return window}function GN(i){Ua().location.href=i}function LE(){return typeof Ua().WorkerGlobalScope<"u"&&typeof Ua().importScripts=="function"}async function QN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KN(){return navigator?.serviceWorker?.controller||null}function YN(){return LE()?self:null}const zE="firebaseLocalStorageDb",XN=1,kd="firebaseLocalStorage",UE="fbase_key";class Sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zd(i,e){return i.transaction([kd],e?"readwrite":"readonly").objectStore(kd)}function $N(){const i=indexedDB.deleteDatabase(zE);return new Sc(i).toPromise()}function Ym(){const i=indexedDB.open(zE,XN);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(kd,{keyPath:UE})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(kd)?e(r):(r.close(),await $N(),e(await Ym()))})})}async function bb(i,e,n){const r=Zd(i,!0).put({[UE]:e,value:n});return new Sc(r).toPromise()}async function JN(i,e){const n=Zd(i,!1).get(e),r=await new Sc(n).toPromise();return r===void 0?null:r.value}function _b(i,e){const n=Zd(i,!0).delete(e);return new Sc(n).toPromise()}const ZN=800,WN=3;class BE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>WN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jd._getInstance(YN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QN(),!this.activeServiceWorker)return;this.sender=new FN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await bb(e,Pd,"1"),await _b(e,Pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>JN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_b(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Zd(o,!1).getAll();return new Sc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BE.type="LOCAL";const eC=BE;new Ac(3e4,6e4);function tC(i,e){return e?fi(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Dp extends Cp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nC(i){return ME(i.auth,new Dp(i),i.bypassAuthState)}function aC(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),MN(n,new Dp(i),i.bypassAuthState)}async function iC(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),IN(n,new Dp(i),i.bypassAuthState)}class HE{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nC;case"linkViaPopup":case"linkViaRedirect":return iC;case"reauthViaPopup":case"reauthViaRedirect":return aC;default:fa(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rC=new Ac(2e3,1e4);class fo extends HE{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(za(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(za(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(za(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rC.get())};e()}}fo.currentPopupAction=null;const sC="pendingRedirect",vd=new Map;class oC extends HE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vd.get(this.auth._key());if(!e){try{const r=await lC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vd.set(this.auth._key(),e)}return this.bypassAuthState||vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lC(i,e){const n=dC(e),r=uC(i);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function cC(i,e){vd.set(i._key(),e)}function uC(i){return fi(i._redirectPersistence)}function dC(i){return yd(sC,i.config.apiKey,i.name)}async function hC(i,e,n=!1){if(Xn(i.app))return Promise.reject(pi(i));const r=wr(i),o=tC(r,e),h=await new oC(r,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}const fC=600*1e3;class mC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!qE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(za(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Eb(e))}saveEventToCache(e){this.cachedEventUids.add(Eb(e)),this.lastProcessedEventTime=Date.now()}}function Eb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function qE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function pC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qE(i);default:return!1}}async function gC(i,e={}){return Qa(i,"GET","/v1/projects",e)}const yC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vC=/^https?/;async function bC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await gC(i);for(const n of e)try{if(_C(n))return}catch{}fa(i,"unauthorized-domain")}function _C(i){const e=Qm(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===r}if(!vC.test(n))return!1;if(yC.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const EC=new Ac(3e4,6e4);function Ab(){const i=Ua().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function AC(i){return new Promise((e,n)=>{function r(){Ab(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ab(),n(za(i,"network-request-failed"))},timeout:EC.get()})}if(Ua().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ua().gapi?.load)r();else{const o=cN("iframefcb");return Ua()[o]=()=>{gapi.load?r():n(za(i,"network-request-failed"))},RE(`${lN()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw bd=null,e})}let bd=null;function TC(i){return bd=bd||AC(i),bd}const xC=new Ac(5e3,15e3),SC="__/auth/iframe",RC="emulator/auth/iframe",wC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CC(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Rp(e,RC):`https://${i.config.authDomain}/${SC}`,r={apiKey:e.apiKey,appName:i.name,v:ko},o=NC.get(i.config.apiHost);o&&(r.eid=o);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Ec(r).slice(1)}`}async function IC(i){const e=await TC(i),n=Ua().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:CC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wC,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const h=za(i,"network-request-failed"),m=Ua().setTimeout(()=>{c(h)},xC.get());function p(){Ua().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{c(h)})}))}const MC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DC=500,OC=600,PC="_blank",kC="http://localhost";class Tb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VC(i,e,n,r=DC,o=OC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...MC,width:r.toString(),height:o.toString(),top:c,left:h},g=cn().toLowerCase();n&&(m=bE(g)?PC:n),yE(g)&&(e=e||kC,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[V,H])=>`${w}${V}=${H},`,"");if(Ww(g)&&m!=="_self")return jC(e||"",m),new Tb(null);const A=window.open(e||"",m,E);Ee(A,i,"popup-blocked");try{A.focus()}catch{}return new Tb(A)}function jC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const LC="__/auth/handler",zC="emulator/auth/handler",UC=encodeURIComponent("fac");async function xb(i,e,n,r,o,c){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:ko,eventId:o};if(e instanceof CE){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",bR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))h[E]=A}if(e instanceof xc){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${UC}=${encodeURIComponent(p)}`:"";return`${BC(i)}?${Ec(m).slice(1)}${g}`}function BC({config:i}){return i.emulator?Rp(i,zC):`https://${i.authDomain}/${LC}`}const Om="webStorageSupport";class HC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jE,this._completeRedirectFn=hC,this._overrideRedirectResult=cC}async _openPopup(e,n,r,o){Ei(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await xb(e,n,r,Qm(),o);return VC(e,c,Mp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await xb(e,n,r,Qm(),o);return GN(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Ei(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await IC(e),r=new mC(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},o=>{const c=o?.[0]?.[Om];c!==void 0&&n(!!c),fa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xE()||vE()||Np()}}const qC=HC;var Sb="@firebase/auth",Rb="1.12.0";class FC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function GC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QC(i){Eo(new hs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=r.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SE(i)},g=new rN(r,o,c,p);return pN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Eo(new hs("auth-internal",e=>{const n=wr(e.getProvider("auth").getImmediate());return(r=>new FC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(Sb,Rb,GC(i)),pr(Sb,Rb,"esm2020")}const KC=300,YC=eE("authIdTokenMaxAge")||KC;let wb=null;const XC=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>YC)return;const o=n?.token;wb!==o&&(wb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $C(i=sE()){const e=xp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=mN(i,{popupRedirectResolver:qC,persistence:[eC,HN,jE]}),r=eE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const h=XC(c.toString());LN(n,h,()=>h(n.currentUser)),jN(n,m=>h(m))}}const o=Z_("auth");return o&&gN(n,`http://${o}`),n}function JC(){return document.getElementsByTagName("head")?.[0]??document}sN({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const c=za("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",JC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QC("Browser");var Nb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gr,FE;(function(){var i;function e(N,x){function R(){}R.prototype=x.prototype,N.F=x.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(I,D,j){for(var C=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)C[pe-2]=arguments[pe];return x.prototype[D].apply(I,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,x,R){R||(R=0);const I=Array(16);if(typeof x=="string")for(var D=0;D<16;++D)I[D]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(D=0;D<16;++D)I[D]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=N.g[0],R=N.g[1],D=N.g[2];let j=N.g[3],C;C=x+(j^R&(D^j))+I[0]+3614090360&4294967295,x=R+(C<<7&4294967295|C>>>25),C=j+(D^x&(R^D))+I[1]+3905402710&4294967295,j=x+(C<<12&4294967295|C>>>20),C=D+(R^j&(x^R))+I[2]+606105819&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(x^D&(j^x))+I[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=x+(j^R&(D^j))+I[4]+4118548399&4294967295,x=R+(C<<7&4294967295|C>>>25),C=j+(D^x&(R^D))+I[5]+1200080426&4294967295,j=x+(C<<12&4294967295|C>>>20),C=D+(R^j&(x^R))+I[6]+2821735955&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(x^D&(j^x))+I[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=x+(j^R&(D^j))+I[8]+1770035416&4294967295,x=R+(C<<7&4294967295|C>>>25),C=j+(D^x&(R^D))+I[9]+2336552879&4294967295,j=x+(C<<12&4294967295|C>>>20),C=D+(R^j&(x^R))+I[10]+4294925233&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(x^D&(j^x))+I[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=x+(j^R&(D^j))+I[12]+1804603682&4294967295,x=R+(C<<7&4294967295|C>>>25),C=j+(D^x&(R^D))+I[13]+4254626195&4294967295,j=x+(C<<12&4294967295|C>>>20),C=D+(R^j&(x^R))+I[14]+2792965006&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(x^D&(j^x))+I[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=x+(D^j&(R^D))+I[1]+4129170786&4294967295,x=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(x^R))+I[6]+3225465664&4294967295,j=x+(C<<9&4294967295|C>>>23),C=D+(x^R&(j^x))+I[11]+643717713&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^x&(D^j))+I[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=x+(D^j&(R^D))+I[5]+3593408605&4294967295,x=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(x^R))+I[10]+38016083&4294967295,j=x+(C<<9&4294967295|C>>>23),C=D+(x^R&(j^x))+I[15]+3634488961&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^x&(D^j))+I[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=x+(D^j&(R^D))+I[9]+568446438&4294967295,x=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(x^R))+I[14]+3275163606&4294967295,j=x+(C<<9&4294967295|C>>>23),C=D+(x^R&(j^x))+I[3]+4107603335&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^x&(D^j))+I[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=x+(D^j&(R^D))+I[13]+2850285829&4294967295,x=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(x^R))+I[2]+4243563512&4294967295,j=x+(C<<9&4294967295|C>>>23),C=D+(x^R&(j^x))+I[7]+1735328473&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^x&(D^j))+I[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=x+(R^D^j)+I[5]+4294588738&4294967295,x=R+(C<<4&4294967295|C>>>28),C=j+(x^R^D)+I[8]+2272392833&4294967295,j=x+(C<<11&4294967295|C>>>21),C=D+(j^x^R)+I[11]+1839030562&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^x)+I[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=x+(R^D^j)+I[1]+2763975236&4294967295,x=R+(C<<4&4294967295|C>>>28),C=j+(x^R^D)+I[4]+1272893353&4294967295,j=x+(C<<11&4294967295|C>>>21),C=D+(j^x^R)+I[7]+4139469664&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^x)+I[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=x+(R^D^j)+I[13]+681279174&4294967295,x=R+(C<<4&4294967295|C>>>28),C=j+(x^R^D)+I[0]+3936430074&4294967295,j=x+(C<<11&4294967295|C>>>21),C=D+(j^x^R)+I[3]+3572445317&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^x)+I[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=x+(R^D^j)+I[9]+3654602809&4294967295,x=R+(C<<4&4294967295|C>>>28),C=j+(x^R^D)+I[12]+3873151461&4294967295,j=x+(C<<11&4294967295|C>>>21),C=D+(j^x^R)+I[15]+530742520&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^x)+I[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=x+(D^(R|~j))+I[0]+4096336452&4294967295,x=R+(C<<6&4294967295|C>>>26),C=j+(R^(x|~D))+I[7]+1126891415&4294967295,j=x+(C<<10&4294967295|C>>>22),C=D+(x^(j|~R))+I[14]+2878612391&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~x))+I[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=x+(D^(R|~j))+I[12]+1700485571&4294967295,x=R+(C<<6&4294967295|C>>>26),C=j+(R^(x|~D))+I[3]+2399980690&4294967295,j=x+(C<<10&4294967295|C>>>22),C=D+(x^(j|~R))+I[10]+4293915773&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~x))+I[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=x+(D^(R|~j))+I[8]+1873313359&4294967295,x=R+(C<<6&4294967295|C>>>26),C=j+(R^(x|~D))+I[15]+4264355552&4294967295,j=x+(C<<10&4294967295|C>>>22),C=D+(x^(j|~R))+I[6]+2734768916&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~x))+I[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=x+(D^(R|~j))+I[4]+4149444226&4294967295,x=R+(C<<6&4294967295|C>>>26),C=j+(R^(x|~D))+I[11]+3174756917&4294967295,j=x+(C<<10&4294967295|C>>>22),C=D+(x^(j|~R))+I[2]+718787259&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~x))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+j&4294967295}r.prototype.v=function(N,x){x===void 0&&(x=N.length);const R=x-this.blockSize,I=this.C;let D=this.h,j=0;for(;j<x;){if(D==0)for(;j<=R;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<x;)if(I[D++]=N.charCodeAt(j++),D==this.blockSize){o(this,I),D=0;break}}else for(;j<x;)if(I[D++]=N[j++],D==this.blockSize){o(this,I),D=0;break}}this.h=D,this.o+=x},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,R=0;R<4;++R)for(let I=0;I<32;I+=8)N[x++]=this.g[R]>>>I&255;return N};function c(N,x){var R=m;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=x(N)}function h(N,x){this.h=x;const R=[];let I=!0;for(let D=N.length-1;D>=0;D--){const j=N[D]|0;I&&j==x||(R[D]=j,I=!1)}this.g=R}var m={};function p(N){return-128<=N&&N<128?c(N,function(x){return new h([x|0],x<0?-1:0)}):new h([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return F(g(-N));const x=[];let R=1;for(let I=0;N>=R;I++)x[I]=N/R|0,R*=4294967296;return new h(x,0)}function E(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return F(E(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(x,8));let I=A;for(let j=0;j<N.length;j+=8){var D=Math.min(8,N.length-j);const C=parseInt(N.substring(j,j+D),x);D<8?(D=g(Math.pow(x,D)),I=I.j(D).add(g(C))):(I=I.j(R),I=I.add(g(C)))}return I}var A=p(0),w=p(1),V=p(16777216);i=h.prototype,i.m=function(){if(z(this))return-F(this).m();let N=0,x=1;for(let R=0;R<this.g.length;R++){const I=this.i(R);N+=(I>=0?I:4294967296+I)*x,x*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if(z(this))return"-"+F(this).toString(N);const x=g(Math.pow(N,6));var R=this;let I="";for(;;){const D=me(R,x).g;R=ie(R,D.j(x));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=D,H(R))return j+I;for(;j.length<6;)j="0"+j;I=j+I}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function z(N){return N.h==-1}i.l=function(N){return N=ie(this,N),z(N)?-1:H(N)?0:1};function F(N){const x=N.g.length,R=[];for(let I=0;I<x;I++)R[I]=~N.g[I];return new h(R,~N.h).add(w)}i.abs=function(){return z(this)?F(this):this},i.add=function(N){const x=Math.max(this.g.length,N.g.length),R=[];let I=0;for(let D=0;D<=x;D++){let j=I+(this.i(D)&65535)+(N.i(D)&65535),C=(j>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);I=C>>>16,j&=65535,C&=65535,R[D]=C<<16|j}return new h(R,R[R.length-1]&-2147483648?-1:0)};function ie(N,x){return N.add(F(x))}i.j=function(N){if(H(this)||H(N))return A;if(z(this))return z(N)?F(this).j(F(N)):F(F(this).j(N));if(z(N))return F(this.j(F(N)));if(this.l(V)<0&&N.l(V)<0)return g(this.m()*N.m());const x=this.g.length+N.g.length,R=[];for(var I=0;I<2*x;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(let D=0;D<N.g.length;D++){const j=this.i(I)>>>16,C=this.i(I)&65535,pe=N.i(D)>>>16,xe=N.i(D)&65535;R[2*I+2*D]+=C*xe,Q(R,2*I+2*D),R[2*I+2*D+1]+=j*xe,Q(R,2*I+2*D+1),R[2*I+2*D+1]+=C*pe,Q(R,2*I+2*D+1),R[2*I+2*D+2]+=j*pe,Q(R,2*I+2*D+2)}for(N=0;N<x;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=x;N<2*x;N++)R[N]=0;return new h(R,0)};function Q(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function re(N,x){this.g=N,this.h=x}function me(N,x){if(H(x))throw Error("division by zero");if(H(N))return new re(A,A);if(z(N))return x=me(F(N),x),new re(F(x.g),F(x.h));if(z(x))return x=me(N,F(x)),new re(F(x.g),x.h);if(N.g.length>30){if(z(N)||z(x))throw Error("slowDivide_ only works with positive integers.");for(var R=w,I=x;I.l(N)<=0;)R=be(R),I=be(I);var D=ae(R,1),j=ae(I,1);for(I=ae(I,2),R=ae(R,2);!H(I);){var C=j.add(I);C.l(N)<=0&&(D=D.add(R),j=C),I=ae(I,1),R=ae(R,1)}return x=ie(N,D.j(x)),new re(D,x)}for(D=A;N.l(x)>=0;){for(R=Math.max(1,Math.floor(N.m()/x.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),j=g(R),C=j.j(x);z(C)||C.l(N)>0;)R-=I,j=g(R),C=j.j(x);H(j)&&(j=w),D=D.add(j),N=ie(N,C)}return new re(D,N)}i.B=function(N){return me(this,N).h},i.and=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let I=0;I<x;I++)R[I]=this.i(I)&N.i(I);return new h(R,this.h&N.h)},i.or=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let I=0;I<x;I++)R[I]=this.i(I)|N.i(I);return new h(R,this.h|N.h)},i.xor=function(N){const x=Math.max(this.g.length,N.g.length),R=[];for(let I=0;I<x;I++)R[I]=this.i(I)^N.i(I);return new h(R,this.h^N.h)};function be(N){const x=N.g.length+1,R=[];for(let I=0;I<x;I++)R[I]=N.i(I)<<1|N.i(I-1)>>>31;return new h(R,N.h)}function ae(N,x){const R=x>>5;x%=32;const I=N.g.length-R,D=[];for(let j=0;j<I;j++)D[j]=x>0?N.i(j+R)>>>x|N.i(j+R+1)<<32-x:N.i(j+R);return new h(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,FE=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,gr=h}).apply(typeof Nb<"u"?Nb:typeof self<"u"?self:typeof window<"u"?window:{});var cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var GE,$l,QE,_d,Xm,KE,YE,XE;(function(){var i,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cd=="object"&&cd];for(var v=0;v<u.length;++v){var _=u[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(u,v){if(v)e:{var _=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in _))break e;_=_[U]}u=u[u.length-1],S=_[u],v=v(S),v!=S&&v!=null&&e(_,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var _=[],S;for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&_.push([S,v[S]]);return _}});var c=c||{},h=this||self;function m(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function p(u,v,_){return u.call.apply(u.bind,arguments)}function g(u,v,_){return g=p,g.apply(null,arguments)}function E(u,v){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,v){function _(){}_.prototype=v.prototype,u.Z=v.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(S,U,Y){for(var oe=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)oe[Ie-2]=arguments[Ie];return v.prototype[U].apply(S,oe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function V(u){const v=u.length;if(v>0){const _=Array(v);for(let S=0;S<v;S++)_[S]=u[S];return _}return[]}function H(u,v){for(let S=1;S<arguments.length;S++){const U=arguments[S];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const Y=U.length||0;u.length=_+Y;for(let oe=0;oe<Y;oe++)u[_+oe]=U[oe]}else u.push(U)}}class z{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(u){h.setTimeout(()=>{throw u},0)}function ie(){var u=N;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class Q{constructor(){this.h=this.g=null}add(v,_){const S=re.get();S.set(v,_),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new z(()=>new me,u=>u.reset());class me{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let be,ae=!1,N=new Q,x=()=>{const u=Promise.resolve(void 0);be=()=>{u.then(R)}};function R(){for(var u;u=ie();){try{u.h.call(u.g)}catch(_){F(_)}var v=re;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}ae=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};h.addEventListener("test",_,v),h.removeEventListener("test",_,v)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function pe(u,v){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}A(pe,D),pe.prototype.init=function(u,v){const _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(_=="mouseover"?v=u.fromElement:_=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),K=0;function se(u,v,_,S,U){this.listener=u,this.proxy=null,this.src=v,this.type=_,this.capture=!!S,this.ha=U,this.key=++K,this.da=this.fa=!1}function he(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Se(u,v,_){for(const S in u)v.call(_,u[S],S,u)}function Pe(u,v){for(const _ in u)v.call(void 0,u[_],_,u)}function k(u){const v={};for(const _ in u)v[_]=u[_];return v}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(u,v){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)u[_]=S[_];for(let Y=0;Y<Z.length;Y++)_=Z[Y],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,v,_,S,U){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const oe=Ce(u,v,S,U);return oe>-1?(v=u[oe],_||(v.fa=!1)):(v=new se(v,this.src,Y,!!S,U),v.fa=_,u.push(v)),v};function Te(u,v){const _=v.type;if(_ in u.g){var S=u.g[_],U=Array.prototype.indexOf.call(S,v,void 0),Y;(Y=U>=0)&&Array.prototype.splice.call(S,U,1),Y&&(he(v),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ce(u,v,_,S){for(let U=0;U<u.length;++U){const Y=u[U];if(!Y.da&&Y.listener==v&&Y.capture==!!_&&Y.ha==S)return U}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),bt={};function st(u,v,_,S,U){if(Array.isArray(v)){for(let Y=0;Y<v.length;Y++)st(u,v[Y],_,S,U);return null}return _=an(_),u&&u[xe]?u.J(v,_,m(S)?!!S.capture:!1,U):$(u,v,_,!1,S,U)}function $(u,v,_,S,U,Y){if(!v)throw Error("Invalid event type");const oe=m(U)?!!U.capture:!!U;let Ie=wi(u);if(Ie||(u[ke]=Ie=new ue(u)),_=Ie.add(v,_,S,oe,Y),_.proxy)return _;if(S=Oe(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)j||(U=oe),U===void 0&&(U=!1),u.addEventListener(v.toString(),S,U);else if(u.attachEvent)u.attachEvent(Bt(v.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Oe(){function u(_){return v.call(u.src,u.listener,_)}const v=Mr;return u}function nn(u,v,_,S,U){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)nn(u,v[Y],_,S,U);else S=m(S)?!!S.capture:!!S,_=an(_),u&&u[xe]?(u=u.i,Y=String(v).toString(),Y in u.g&&(v=u.g[Y],_=Ce(v,_,S,U),_>-1&&(he(v[_]),Array.prototype.splice.call(v,_,1),v.length==0&&(delete u.g[Y],u.h--)))):u&&(u=wi(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Ce(v,_,S,U)),(_=u>-1?v[u]:null)&&kn(_))}function kn(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[xe])Te(v.i,u);else{var _=u.type,S=u.proxy;v.removeEventListener?v.removeEventListener(_,S,u.capture):v.detachEvent?v.detachEvent(Bt(_),S):v.addListener&&v.removeListener&&v.removeListener(S),(_=wi(v))?(Te(_,u),_.h==0&&(_.src=null,v[ke]=null)):he(u)}}}function Bt(u){return u in bt?bt[u]:bt[u]="on"+u}function Mr(u,v){if(u.da)u=!0;else{v=new pe(v,this);const _=u.listener,S=u.ha||u.src;u.fa&&kn(u),u=_.call(S,v)}return u}function wi(u){return u=u[ke],u instanceof ue?u:null}var Tn="__closure_events_fn_"+(Math.random()*1e9>>>0);function an(u){return typeof u=="function"?u:(u[Tn]||(u[Tn]=function(v){return u.handleEvent(v)}),u[Tn])}function mt(){I.call(this),this.i=new ue(this),this.M=this,this.G=null}A(mt,I),mt.prototype[xe]=!0,mt.prototype.removeEventListener=function(u,v,_,S){nn(this,u,v,_,S)};function jt(u,v){var _,S=u.G;if(S)for(_=[];S;S=S.G)_.push(S);if(u=u.M,S=v.type||v,typeof v=="string")v=new D(v,u);else if(v instanceof D)v.target=v.target||u;else{var U=v;v=new D(S,u),le(v,U)}U=!0;let Y,oe;if(_)for(oe=_.length-1;oe>=0;oe--)Y=v.g=_[oe],U=Ni(Y,S,!0,v)&&U;if(Y=v.g=u,U=Ni(Y,S,!0,v)&&U,U=Ni(Y,S,!1,v)&&U,_)for(oe=0;oe<_.length;oe++)Y=v.g=_[oe],U=Ni(Y,S,!1,v)&&U}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const _=u.g[v];for(let S=0;S<_.length;S++)he(_[S]);delete u.g[v],u.h--}}this.G=null},mt.prototype.J=function(u,v,_,S){return this.i.add(String(u),v,!1,_,S)},mt.prototype.K=function(u,v,_,S){return this.i.add(String(u),v,!0,_,S)};function Ni(u,v,_,S){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let U=!0;for(let Y=0;Y<v.length;++Y){const oe=v[Y];if(oe&&!oe.da&&oe.capture==_){const Ie=oe.listener,Et=oe.ha||oe.src;oe.fa&&Te(u.i,oe),U=Ie.call(Et,S)!==!1&&U}}return U&&!S.defaultPrevented}function bh(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(u,v||0)}function Dc(u){u.g=bh(()=>{u.g=null,u.i&&(u.i=!1,Dc(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class un extends I{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Dc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(u){I.call(this),this.h=u,this.g={}}A(Dr,I);var qo=[];function Fo(u){Se(u.g,function(v,_){this.g.hasOwnProperty(_)&&kn(v)},u),u.g={}}Dr.prototype.N=function(){Dr.Z.N.call(this),Fo(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ci=h.JSON.stringify,_h=h.JSON.parse,Oc=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Pc(){}function kc(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){D.call(this,"d")}A(Qt,D);function Vn(){D.call(this,"c")}A(Vn,D);var _t={},Vc=null;function Es(){return Vc=Vc||new mt}_t.Ia="serverreachability";function jc(u){D.call(this,_t.Ia,u)}A(jc,D);function pa(u){const v=Es();jt(v,new jc(v))}_t.STAT_EVENT="statevent";function Or(u,v){D.call(this,_t.STAT_EVENT,u),this.stat=v}A(Or,D);function Rt(u){const v=Es();jt(v,new Or(v,u))}_t.Ja="timingevent";function ga(u,v){D.call(this,_t.Ja,u),this.size=v}A(ga,D);function ya(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},v)}function ea(){this.g=!0}ea.prototype.ua=function(){this.g=!1};function Eh(u,v,_,S,U,Y){u.info(function(){if(u.g)if(Y){var oe="",Ie=Y.split("&");for(let Ye=0;Ye<Ie.length;Ye++){var Et=Ie[Ye].split("=");if(Et.length>1){const dt=Et[0];Et=Et[1];const Un=dt.split("_");oe=Un.length>=2&&Un[1]=="type"?oe+(dt+"="+Et+"&"):oe+(dt+"=redacted&")}}}else oe=null;else oe=Y;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+v+`
`+_+`
`+oe})}function Lc(u,v,_,S,U,Y,oe){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+v+`
`+_+`
`+Y+" "+oe})}function va(u,v,_,S){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ah(u,_)+(S?" "+S:"")})}function Pr(u,v){u.info(function(){return"TIMEOUT: "+v})}ea.prototype.info=function(){};function Ah(u,v){if(!u.g)return v;if(!v)return null;try{const Y=JSON.parse(v);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var _=Y[u];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let oe=1;oe<S.length;oe++)S[oe]=""}}}}return Ci(Y)}catch{return v}}var kr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qo;function Vr(){}A(Vr,Pc),Vr.prototype.g=function(){return new XMLHttpRequest},Qo=new Vr;function Ka(u){return encodeURIComponent(String(u))}function zc(u){var v=1;u=u.split(":");const _=[];for(;v>0&&u.length;)_.push(u.shift()),v--;return u.length&&_.push(u.join(":")),_}function ta(u,v,_,S){this.j=u,this.i=v,this.l=_,this.S=S||1,this.V=new Dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new na}function na(){this.i=null,this.g="",this.h=!1}var wt={},Ht={};function ba(u,v,_){u.M=1,u.A=jr(Ct(v)),u.u=_,u.R=!0,As(u,null)}function As(u,v){u.F=Date.now(),_a(u),u.B=Ct(u.A);var _=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Rs(_.i,"t",S),u.C=0,_=u.j.L,u.h=new na,u.g=eu(u.j,_?v:null,!u.u),u.P>0&&(u.O=new un(g(u.Y,u,u.g),u.P)),v=u.V,_=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(qo[0]=U.toString()),U=qo);for(let Y=0;Y<U.length;Y++){const oe=st(_,U[Y],S||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=u.J?k(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),pa(),Eh(u.i,u.v,u.B,u.l,u.S,u.u)}ta.prototype.ba=function(u){u=u.target;const v=this.O;v&&ra(u)==3?v.j():this.Y(u)},ta.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=ra(this.g),Et=this.g.ya(),Ye=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ie!=4||Et==7||(Et==8||Ye<=0?pa(3):pa(2)),Ea(this);var v=this.g.ca();this.X=v;var _=Th(this);if(this.o=v==200,Lc(this.i,this.v,this.B,this.l,this.S,Ie,v),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var Y=S;break t}}Y=null}if(u=Y)va(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Aa(this,u);else{this.o=!1,this.m=3,Rt(12),xn(this),jn(this);break e}}if(this.R){u=!0;let dt;for(;!this.K&&this.C<_.length;)if(dt=Bc(this,_),dt==Ht){Ie==4&&(this.m=4,Rt(14),u=!1),va(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==wt){this.m=4,Rt(15),va(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else va(this.i,this.l,dt,null),Aa(this,dt);if(Uc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||_.length!=0||this.h.h||(this.m=1,Rt(16),u=!1),this.o=this.o&&u,!u)va(this.i,this.l,_,"[Invalid Chunked Response]"),xn(this),jn(this);else if(_.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),ol(oe),oe.P=!0,Rt(11))}}else va(this.i,this.l,_,null),Aa(this,_);Ie==4&&xn(this),this.o&&!this.K&&(Ie==4?$c(this.j,this):(this.o=!1,_a(this)))}else Xa(this.g),v==400&&_.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),xn(this),jn(this)}}}catch{}};function Th(u){if(!Uc(u))return u.g.la();const v=Kt(u.g);if(v==="")return"";let _="";const S=v.length,U=ra(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return xn(u),jn(u),"";u.h.i=new h.TextDecoder}for(let Y=0;Y<S;Y++)u.h.h=!0,_+=u.h.i.decode(v[Y],{stream:!(U&&Y==S-1)});return v.length=0,u.h.g+=_,u.C=0,u.h.g}function Uc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Bc(u,v){var _=u.C,S=v.indexOf(`
`,_);return S==-1?Ht:(_=Number(v.substring(_,S)),isNaN(_)?wt:(S+=1,S+_>v.length?Ht:(v=v.slice(S,S+_),u.C=S+_,v)))}ta.prototype.cancel=function(){this.K=!0,xn(this)};function _a(u){u.T=Date.now()+u.H,Ts(u,u.H)}function Ts(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ya(g(u.aa,u),v)}function Ea(u){u.D&&(h.clearTimeout(u.D),u.D=null)}ta.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Pr(this.i,this.B),this.M!=2&&(pa(),Rt(17)),xn(this),this.m=2,jn(this)):Ts(this,this.T-u)};function jn(u){u.j.I==0||u.K||$c(u.j,u)}function xn(u){Ea(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,Fo(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function Aa(u,v){try{var _=u.j;if(_.I!=0&&(_.g==u||xa(_.h,u))){if(!u.L&&xa(_.h,u)&&_.I==3){try{var S=_.Ba.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Ms(_),ji(_);else break e;Fr(_),Rt(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ya(g(_.Va,_),6e3));Ta(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ia(_,11)}else if((u.L||_.g==u)&&Ms(_),!C(v))for(U=_.Ba.g.parse(v),v=0;v<U.length;v++){let Ye=U[v];const dt=Ye[0];if(!(dt<=_.K))if(_.K=dt,Ye=Ye[1],_.I==2)if(Ye[0]=="c"){_.M=Ye[1],_.ba=Ye[2];const Un=Ye[3];Un!=null&&(_.ka=Un,_.j.info("VER="+_.ka));const Ma=Ye[4];Ma!=null&&(_.za=Ma,_.j.info("SVER="+_.za));const sa=Ye[5];sa!=null&&typeof sa=="number"&&sa>0&&(S=1.5*sa,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const oa=u.g;if(oa){const Gr=oa.g?oa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var Y=S.h;Y.g||Gr.indexOf("spdy")==-1&&Gr.indexOf("quic")==-1&&Gr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Xo(Y,Y.h),Y.h=null))}if(S.G){const Ds=oa.g?oa.g.getResponseHeader("X-HTTP-Session-Id"):null;Ds&&(S.wa=Ds,Je(S.J,S.G,Ds))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var oe=u;if(S.na=Wc(S,S.L?S.ba:null,S.W),oe.L){$o(S.h,oe);var Ie=oe,Et=S.O;Et&&(Ie.H=Et),Ie.D&&(Ea(Ie),_a(Ie)),S.g=oe}else Yc(S);_.i.length>0&&Ca(_)}else Ye[0]!="stop"&&Ye[0]!="close"||Ia(_,7);else _.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Ia(_,7):rl(_):Ye[0]!="noop"&&_.l&&_.l.qa(Ye),_.A=0)}}pa(4)}catch{}}var Nt=class{constructor(u,v){this.g=u,this.map=v}};function Ko(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ta(u){return u.h?1:u.g?u.g.size:0}function xa(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function Xo(u,v){u.g?u.g.add(v):u.h=v}function $o(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}Ko.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Jo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const _ of u.g.values())v=v.concat(_.G);return v}return V(u.i)}var Hc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xs(u,v){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const S=u[_].indexOf("=");let U,Y=null;S>=0?(U=u[_].substring(0,S),Y=u[_].substring(S+1)):U=u[_],v(U,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Sn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof Sn?(this.l=u.l,qt(this,u.j),this.o=u.o,this.g=u.g,Ii(this,u.u),this.h=u.h,Zo(this,Qc(u.i)),this.m=u.m):u&&(v=String(u).match(Hc))?(this.l=!1,qt(this,v[1]||"",!0),this.o=Sa(v[2]||""),this.g=Sa(v[3]||"",!0),Ii(this,v[4]),this.h=Sa(v[5]||"",!0),Zo(this,v[6]||"",!0),this.m=Sa(v[7]||"")):(this.l=!1,this.i=new Di(null,this.l))}Sn.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(Lr(v,Ss,!0),":");var _=this.g;return(_||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Lr(v,Ss,!0),"@"),u.push(Ka(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Lr(_,_.charAt(0)=="/"?Wo:qc,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Lr(_,Fc)),u.join("")},Sn.prototype.resolve=function(u){const v=Ct(this);let _=!!u.j;_?qt(v,u.j):_=!!u.o,_?v.o=u.o:_=!!u.g,_?v.g=u.g:_=u.u!=null;var S=u.h;if(_)Ii(v,u.u);else if(_=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=v.h.lastIndexOf("/");U!=-1&&(S=v.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const Y=[];for(let oe=0;oe<U.length;){const Ie=U[oe++];Ie=="."?S&&oe==U.length&&Y.push(""):Ie==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),S&&oe==U.length&&Y.push("")):(Y.push(Ie),S=!0)}S=Y.join("/")}else S=U}return _?v.h=S:_=u.i.toString()!=="",_?Zo(v,Qc(u.i)):_=!!u.m,_&&(v.m=u.m),v};function Ct(u){return new Sn(u)}function qt(u,v,_){u.j=_?Sa(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Ii(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function Zo(u,v,_){v instanceof Di?(u.i=v,ws(u.i,u.l)):(_||(v=Lr(v,Mi)),u.i=new Di(v,u.l))}function Je(u,v,_){u.i.set(v,_)}function jr(u){return Je(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Sa(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Lr(u,v,_){return typeof u=="string"?(u=encodeURI(u).replace(v,fn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ss=/[#\/\?@]/g,qc=/[#\?:]/g,Wo=/[#\?]/g,Mi=/[#\?@]/g,Fc=/#/g;function Di(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&xs(u.i,function(v,_){u.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}i=Di.prototype,i.add=function(u,v){mn(this),this.i=null,u=Oi(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(v),this.h+=1,this};function Gc(u,v){mn(u),v=Oi(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function el(u,v){return mn(u),v=Oi(u,v),u.g.has(v)}i.forEach=function(u,v){mn(this),this.g.forEach(function(_,S){_.forEach(function(U){u.call(v,U,S,this)},this)},this)};function tl(u,v){mn(u);let _=[];if(typeof v=="string")el(u,v)&&(_=_.concat(u.g.get(Oi(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)_=_.concat(u[v]);return _}i.set=function(u,v){return mn(this),this.i=null,u=Oi(this,u),el(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},i.get=function(u,v){return u?(u=tl(this,u),u.length>0?String(u[0]):v):v};function Rs(u,v,_){Gc(u,v),_.length>0&&(u.i=null,u.g.set(Oi(u,v),V(_)),u.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let S=0;S<v.length;S++){var _=v[S];const U=Ka(_);_=tl(this,_);for(let Y=0;Y<_.length;Y++){let oe=U;_[Y]!==""&&(oe+="="+Ka(_[Y])),u.push(oe)}}return this.i=u.join("&")};function Qc(u){const v=new Di;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function Oi(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function ws(u,v){v&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(_,S){const U=S.toLowerCase();S!=U&&(Gc(this,S),Rs(this,U,_))},u)),u.j=v}function aa(u,v){const _=new ea;if(h.Image){const S=new Image;S.onload=E(Ln,_,"TestLoadImage: loaded",!0,v,S),S.onerror=E(Ln,_,"TestLoadImage: error",!1,v,S),S.onabort=E(Ln,_,"TestLoadImage: abort",!1,v,S),S.ontimeout=E(Ln,_,"TestLoadImage: timeout",!1,v,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else v(!1)}function nl(u,v){const _=new ea,S=new AbortController,U=setTimeout(()=>{S.abort(),Ln(_,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:S.signal}).then(Y=>{clearTimeout(U),Y.ok?Ln(_,"TestPingServer: ok",!0,v):Ln(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(U),Ln(_,"TestPingServer: error",!1,v)})}function Ln(u,v,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function Pi(){this.g=new Oc}function Ra(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ra,Pc),Ra.prototype.g=function(){return new zr(this.i,this.h)};function zr(u,v){mt.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(zr,mt),i=zr.prototype,i.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,ia(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ki(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ia(this)),this.g&&(this.readyState=3,ia(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ns(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ns(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?ki(this):ia(this),this.readyState==3&&Ns(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,ki(this))},i.Na=function(u){this.g&&(this.response=u,ki(this))},i.ga=function(){this.g&&ki(this)};function ki(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ia(u)}i.setRequestHeader=function(u,v){this.A.append(u,v)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=v.next();return u.join(`\r
`)};function ia(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function zn(u){let v="";return Se(u,function(_,S){v+=S,v+=":",v+=_,v+=`\r
`}),v}function Ur(u,v,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=zn(_),typeof u=="string"?_!=null&&Ka(_):Je(u,v,_))}function tt(u){mt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(tt,mt);var wa=/^https?$/i,al=["POST","PUT"];i=tt.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,v,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qo.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(Y){Br(this,Y);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())_.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),U=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(al,v,void 0)>=0)||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,oe]of _)this.g.setRequestHeader(Y,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){Br(this,Y)}};function Br(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,il(u),Ya(u)}function il(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,jt(this,"complete"),jt(this,"abort"),Ya(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ya(this,!0)),tt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},i.Xa=function(){Hr(this)};function Hr(u){if(u.h&&typeof c<"u"){if(u.v&&ra(u)==4)setTimeout(u.Ca.bind(u),0);else if(jt(u,"readystatechange"),ra(u)==4){u.h=!1;try{const Y=u.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var S;if(S=Y===0){let oe=String(u.D).match(Hc)[1]||null;!oe&&h.self&&h.self.location&&(oe=h.self.location.protocol.slice(0,-1)),S=!wa.test(oe?oe.toLowerCase():"")}_=S}if(_)jt(u,"complete"),jt(u,"success");else{u.o=6;try{var U=ra(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",il(u)}}finally{Ya(u)}}}}function Ya(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,v||jt(u,"ready");try{_.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ra(u){return u.g?u.g.readyState:0}i.ca=function(){try{return ra(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),_h(v)}};function Kt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xa(u){const v={};u=(u.g&&ra(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var _=zc(u[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=v[U]||[];v[U]=Y,Y.push(_)}Pe(v,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Na(u,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||v}function Vi(u){this.za=0,this.i=[],this.j=new ea,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Na("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Na("baseRetryDelayMs",5e3,u),this.Za=Na("retryDelaySeedMs",1e4,u),this.Ta=Na("forwardChannelMaxRetries",2,u),this.va=Na("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ko(u&&u.concurrentRequestLimit),this.Ba=new Pi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Vi.prototype,i.ka=8,i.I=1,i.connect=function(u,v,_,S){Rt(0),this.W=u,this.H=v||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=Wc(this,null,this.W),Ca(this)};function rl(u){if(Cs(u),u.I==3){var v=u.V++,_=Ct(u.J);if(Je(_,"SID",u.M),Je(_,"RID",v),Je(_,"TYPE","terminate"),qr(u,_),v=new ta(u,u.j,v),v.M=2,v.A=jr(Ct(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!_&&h.Image&&(new Image().src=v.A,_=!0),_||(v.g=eu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),_a(v)}Zc(u)}function ji(u){u.g&&(ol(u),u.g.cancel(),u.g=null)}function Cs(u){ji(u),u.v&&(h.clearTimeout(u.v),u.v=null),Ms(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function Ca(u){if(!Yo(u.h)&&!u.m){u.m=!0;var v=u.Ea;be||x(),ae||(be(),ae=!0),N.add(v,u),u.D=0}}function Is(u,v){return Ta(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ya(g(u.Ea,u,v),Jc(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ta(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=k(Y),le(Y,this.U)):Y=this.U),this.u!==null||this.R||(U.J=Y,Y=null),this.S)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,v>4096){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=Kc(this,U,v),_=Ct(this.J),Je(_,"RID",u),Je(_,"CVER",22),this.G&&Je(_,"X-HTTP-Session-Id",this.G),qr(this,_),Y&&(this.R?v="headers="+Ka(zn(Y))+"&"+v:this.u&&Ur(_,this.u,Y)),Xo(this.h,U),this.Ra&&Je(_,"TYPE","init"),this.S?(Je(_,"$req",v),Je(_,"SID","null"),U.U=!0,ba(U,_,null)):ba(U,_,v),this.I=2}}else this.I==3&&(u?sl(this,u):this.i.length==0||Yo(this.h)||sl(this))};function sl(u,v){var _;v?_=v.l:_=u.V++;const S=Ct(u.J);Je(S,"SID",u.M),Je(S,"RID",_),Je(S,"AID",u.K),qr(u,S),u.u&&u.o&&Ur(S,u.u,u.o),_=new ta(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),v&&(u.i=v.G.concat(u.i)),v=Kc(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Xo(u.h,_),ba(_,S,v)}function qr(u,v){u.H&&Se(u.H,function(_,S){Je(v,S,_)}),u.l&&Se({},function(_,S){Je(v,S,_)})}function Kc(u,v,_){_=Math.min(u.i.length,_);const S=u.l?g(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ie=-1;for(;;){const Et=["count="+_];Ie==-1?_>0?(Ie=U[0].g,Et.push("ofs="+Ie)):Ie=0:Et.push("ofs="+Ie);let Ye=!0;for(let dt=0;dt<_;dt++){var Y=U[dt].g;const Un=U[dt].map;if(Y-=Ie,Y<0)Ie=Math.max(0,U[dt].g-100),Ye=!1;else try{Y="req"+Y+"_"||"";try{var oe=Un instanceof Map?Un:Object.entries(Un);for(const[Ma,sa]of oe){let oa=sa;m(sa)&&(oa=Ci(sa)),Et.push(Y+Ma+"="+encodeURIComponent(oa))}}catch(Ma){throw Et.push(Y+"type="+encodeURIComponent("_badmap")),Ma}}catch{S&&S(Un)}}if(Ye){oe=Et.join("&");break e}}oe=void 0}return u=u.i.splice(0,_),v.G=u,oe}function Yc(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;be||x(),ae||(be(),ae=!0),N.add(v,u),u.A=0}}function Fr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ya(g(u.Da,u),Jc(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Xc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ya(g(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),ji(this),Xc(this))};function ol(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function Xc(u){u.g=new ta(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=Ct(u.na);Je(v,"RID","rpc"),Je(v,"SID",u.M),Je(v,"AID",u.K),Je(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&Je(v,"TO",u.ia),Je(v,"TYPE","xmlhttp"),qr(u,v),u.u&&u.o&&Ur(v,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=jr(Ct(v)),_.u=null,_.R=!0,As(_,u)}i.Va=function(){this.C!=null&&(this.C=null,ji(this),Fr(this),Rt(19))};function Ms(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function $c(u,v){var _=null;if(u.g==v){Ms(u),ol(u),u.g=null;var S=2}else if(xa(u.h,v))_=v.G,$o(u.h,v),S=1;else return;if(u.I!=0){if(v.o)if(S==1){_=v.u?v.u.length:0,v=Date.now()-v.F;var U=u.D;S=Es(),jt(S,new ga(S,_)),Ca(u)}else Yc(u);else if(U=v.m,U==3||U==0&&v.X>0||!(S==1&&Is(u,v)||S==2&&Fr(u)))switch(_&&_.length>0&&(v=u.h,v.i=v.i.concat(_)),U){case 1:Ia(u,5);break;case 4:Ia(u,10);break;case 3:Ia(u,6);break;default:Ia(u,2)}}}function Jc(u,v){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*v}function Ia(u,v){if(u.j.info("Error code "+v),v==2){var _=g(u.bb,u),S=u.Ua;const U=!S;S=new Sn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||qt(S,"https"),jr(S),U?aa(S.toString(),_):nl(S.toString(),_)}else Rt(2);u.I=0,u.l&&u.l.pa(v),Zc(u),Cs(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Zc(u){if(u.I=0,u.ja=[],u.l){const v=Jo(u.h);(v.length!=0||u.i.length!=0)&&(H(u.ja,v),H(u.ja,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.oa()}}function Wc(u,v,_){var S=_ instanceof Sn?Ct(_):new Sn(_);if(S.g!="")v&&(S.g=v+"."+S.g),Ii(S,S.u);else{var U=h.location;S=U.protocol,v=v?v+"."+U.hostname:U.hostname,U=+U.port;const Y=new Sn(null);S&&qt(Y,S),v&&(Y.g=v),U&&Ii(Y,U),_&&(Y.h=_),S=Y}return _=u.G,v=u.wa,_&&v&&Je(S,_,v),Je(S,"VER",u.ka),qr(u,S),S}function eu(u,v,_){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new tt(new Ra({ab:_})):new tt(u.ma),v.Fa(u.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}i=tu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Li(){}Li.prototype.g=function(u,v){return new dn(u,v)};function dn(u,v){mt.call(this),this.g=new Vi(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!C(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!C(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new $a(this)}A(dn,mt),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){rl(this.g)},dn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Ci(u),u=_);v.i.push(new Nt(v.Ya++,u)),v.I==3&&Ca(v)},dn.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,dn.Z.N.call(this)};function nu(u){Qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const _ in v){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}A(nu,Qt);function au(){Vn.call(this),this.status=1}A(au,Vn);function $a(u){this.g=u}A($a,tu),$a.prototype.ra=function(){jt(this.g,"a")},$a.prototype.qa=function(u){jt(this.g,new nu(u))},$a.prototype.pa=function(u){jt(this.g,new au)},$a.prototype.oa=function(){jt(this.g,"b")},Li.prototype.createWebChannel=Li.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,XE=function(){return new Li},YE=function(){return Es()},KE=_t,Xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},kr.NO_ERROR=0,kr.TIMEOUT=8,kr.HTTP_ERROR=6,_d=kr,Go.COMPLETE="complete",QE=Go,kc.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",mt.prototype.listen=mt.prototype.J,$l=kc,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,GE=tt}).apply(typeof cd<"u"?cd:typeof self<"u"?self:typeof window<"u"?window:{});class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let jo="12.8.0";function ZC(i){jo=i}const ps=new Ap("@firebase/firestore");function lo(){return ps.logLevel}function de(i,...e){if(ps.logLevel<=Be.DEBUG){const n=e.map(Op);ps.debug(`Firestore (${jo}): ${i}`,...n)}}function Ai(i,...e){if(ps.logLevel<=Be.ERROR){const n=e.map(Op);ps.error(`Firestore (${jo}): ${i}`,...n)}}function To(i,...e){if(ps.logLevel<=Be.WARN){const n=e.map(Op);ps.warn(`Firestore (${jo}): ${i}`,...n)}}function Op(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ae(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,$E(i,r,n)}function $E(i,e,n){let r=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ai(r),new Error(r)}function $e(i,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,i||$E(e,o,r)}function Ne(i,e){return i}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class JE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class eI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class tI{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let c=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new gi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new gi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string",31837,{l:r}),new JE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class nI{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class aI{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new nI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const r=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Cb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Cb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}class Pp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=rI(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function He(i,e){return i<e?-1:i>e?1:0}function $m(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const o=i.charAt(r),c=e.charAt(r);if(o!==c)return Pm(o)===Pm(c)?He(o,c):Pm(o)?1:-1}return He(i.length,e.length)}const sI=55296,oI=57343;function Pm(i){const e=i.charCodeAt(0);return e>=sI&&e<=oI}function xo(i,e,n){return i.length===e.length&&i.every(((r,o)=>n(r,e[o])))}const Ib="__name__";class ja{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ja.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ja?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=ja.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return He(e.length,n.length)}static compareSegments(e,n){const r=ja.isNumericId(e),o=ja.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?ja.extractNumericId(e).compare(ja.extractNumericId(n)):$m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gr.fromString(e.substring(4,e.length-2))}}class ot extends ja{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const lI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends ja{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return lI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ib}static keyField(){return new en([Ib])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(r+=m,o++):(c(),o++)}if(c(),h)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ot.fromString(e))}static fromName(e){return new ve(ot.fromString(e).popFirst(5))}static empty(){return new ve(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ot(e.slice()))}}function ZE(i,e,n){if(!n)throw new ce(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function cI(i,e,n,r){if(e===!0&&r===!0)throw new ce(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Mb(i){if(!ve.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Db(i){if(ve.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function WE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Wd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ae(12329,{type:typeof i})}function An(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wd(i);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Vt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Rc(i,e){if(!WE(i))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const h=i[r];if(o&&typeof h!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new ce(ee.INVALID_ARGUMENT,n);return!0}const Ob=-62135596800,Pb=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Pb);return new ut(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ob)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pb}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rc(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ob;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Vt("string",ut._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ut(0,0))}static max(){return new Re(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const dc=-1;function uI(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new _r(o,ve.empty(),e)}function dI(i){return new _r(i.readTime,i.key,dc)}class _r{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _r(Re.min(),ve.empty(),dc)}static max(){return new _r(Re.max(),ve.empty(),dc)}}function hI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(i.documentKey,e.documentKey),n!==0?n:He(i.largestBatchId,e.largestBatchId))}const fI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Lo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==fI)throw i;de("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,r)=>{n(e)}))}static reject(e){return new ne(((n,r)=>{r(e)}))}static waitFor(e){return new ne(((n,r)=>{let o=0,c=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++c,h&&c===o&&n()}),(p=>r(p)))})),h=!0,c===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next((o=>o?ne.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new ne(((r,o)=>{const c=e.length,h=new Array(c);let m=0;for(let p=0;p<c;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===c&&r(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function pI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zo(i){return i.name==="IndexedDbTransactionError"}class eh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}eh.ce=-1;const kp=-1;function th(i){return i==null}function Vd(i){return i===0&&1/i==-1/0}function gI(i){return typeof i=="number"&&Number.isInteger(i)&&!Vd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const eA="";function yI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=kb(e)),e=vI(i.get(n),e);return kb(e)}function vI(i,e){let n=e;const r=i.length;for(let o=0;o<r;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case eA:n+="";break;default:n+=c}}return n}function kb(i){return i+eA+""}function Vb(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Nr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function tA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class pt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ud(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ud(this.root,e,this.comparator,!1)}getReverseIterator(){return new ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ud(this.root,e,this.comparator,!0)}}class ud{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=o??Zt.EMPTY,this.right=c??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new Zt(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jb(this.data.getIterator())}getIteratorFrom(e){return new jb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class jb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new On([])}unionWith(e){let n=new zt(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class nA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new nA("Invalid base64 string: "+c):c}})(e);return new tn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const bI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(i){if($e(!!i,39018),typeof i=="string"){let e=0;const n=bI.exec(i);if($e(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(i.seconds),nanos:xt(i.nanos)}}function xt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ar(i){return typeof i=="string"?tn.fromBase64String(i):tn.fromUint8Array(i)}const aA="server_timestamp",iA="__type__",rA="__previous_value__",sA="__local_write_time__";function Vp(i){return(i?.mapValue?.fields||{})[iA]?.stringValue===aA}function nh(i){const e=i.mapValue.fields[rA];return Vp(e)?nh(e):e}function hc(i){const e=Er(i.mapValue.fields[sA].timestampValue);return new ut(e.seconds,e.nanos)}class _I{constructor(e,n,r,o,c,h,m,p,g,E,A){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=A}}const jd="(default)";class fc{constructor(e,n){this.projectId=e,this.database=n||jd}static empty(){return new fc("","")}get isDefaultDatabase(){return this.database===jd}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}function EI(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(i.options.projectId,e)}const oA="__type__",AI="__max__",dd={mapValue:{}},lA="__vector__",Ld="value";function Tr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Vp(i)?4:xI(i)?9007199254740991:TI(i)?10:11:Ae(28295,{value:i})}function Fa(i,e){if(i===e)return!0;const n=Tr(i);if(n!==Tr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return hc(i).isEqual(hc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=Er(o.timestampValue),m=Er(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return Ar(o.bytesValue).isEqual(Ar(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return xt(o.geoPointValue.latitude)===xt(c.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return xt(o.integerValue)===xt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=xt(o.doubleValue),m=xt(c.doubleValue);return h===m?Vd(h)===Vd(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return xo(i.arrayValue.values||[],e.arrayValue.values||[],Fa);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},m=c.mapValue.fields||{};if(Vb(h)!==Vb(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Fa(h[p],m[p])))return!1;return!0})(i,e);default:return Ae(52216,{left:i})}}function mc(i,e){return(i.values||[]).find((n=>Fa(n,e)))!==void 0}function So(i,e){if(i===e)return 0;const n=Tr(i),r=Tr(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(i.booleanValue,e.booleanValue);case 2:return(function(c,h){const m=xt(c.integerValue||c.doubleValue),p=xt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return Lb(i.timestampValue,e.timestampValue);case 4:return Lb(hc(i),hc(e));case 5:return $m(i.stringValue,e.stringValue);case 6:return(function(c,h){const m=Ar(c),p=Ar(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(c,h){const m=c.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=He(m[g],p[g]);if(E!==0)return E}return He(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,h){const m=He(xt(c.latitude),xt(h.latitude));return m!==0?m:He(xt(c.longitude),xt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return zb(i.arrayValue,e.arrayValue);case 10:return(function(c,h){const m=c.fields||{},p=h.fields||{},g=m[Ld]?.arrayValue,E=p[Ld]?.arrayValue,A=He(g?.values?.length||0,E?.values?.length||0);return A!==0?A:zb(g,E)})(i.mapValue,e.mapValue);case 11:return(function(c,h){if(c===dd.mapValue&&h===dd.mapValue)return 0;if(c===dd.mapValue)return 1;if(h===dd.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const w=$m(p[A],E[A]);if(w!==0)return w;const V=So(m[p[A]],g[E[A]]);if(V!==0)return V}return He(p.length,E.length)})(i.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function Lb(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return He(i,e);const n=Er(i),r=Er(e),o=He(n.seconds,r.seconds);return o!==0?o:He(n.nanos,r.nanos)}function zb(i,e){const n=i.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=So(n[o],r[o]);if(c)return c}return He(n.length,r.length)}function Ro(i){return Jm(i)}function Jm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=Er(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Ar(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ve.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=Jm(c);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of r)c?c=!1:o+=",",o+=`${h}:${Jm(n.fields[h])}`;return o+"}"})(i.mapValue):Ae(61005,{value:i})}function Ed(i){switch(Tr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nh(i);return e?16+Ed(e):16;case 5:return 2*i.stringValue.length;case 6:return Ar(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Ed(c)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return Nr(r.fields,((c,h)=>{o+=c.length+Ed(h)})),o})(i.mapValue);default:throw Ae(13486,{value:i})}}function Ub(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Zm(i){return!!i&&"integerValue"in i}function jp(i){return!!i&&"arrayValue"in i}function Bb(i){return!!i&&"nullValue"in i}function Hb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ad(i){return!!i&&"mapValue"in i}function TI(i){return(i?.mapValue?.fields||{})[oA]?.stringValue===lA}function nc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Nr(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=nc(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nc(i.arrayValue.values[n]);return e}return{...i}}function xI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===AI}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ad(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nc(n)}setAll(e){let n=en.emptyPath(),r={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=m.popLast()}h?r[m.lastSegment()]=nc(h):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());Ad(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Ad(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Nr(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new En(nc(this.value))}}function cA(i){const e=[];return Nr(i.fields,((n,r)=>{const o=new en([n]);if(Ad(r)){const c=cA(r.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new On(e)}class ln{constructor(e,n,r,o,c,h,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new ln(e,0,Re.min(),Re.min(),Re.min(),En.empty(),0)}static newFoundDocument(e,n,r,o){return new ln(e,1,n,Re.min(),r,o,0)}static newNoDocument(e,n){return new ln(e,2,n,Re.min(),Re.min(),En.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Re.min(),Re.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zd{constructor(e,n){this.position=e,this.inclusive=n}}function qb(i,e,n){let r=0;for(let o=0;o<i.position.length;o++){const c=e[o],h=i.position[o];if(c.field.isKeyField()?r=ve.comparator(ve.fromName(h.referenceValue),n.key):r=So(h,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fb(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Fa(i.position[n],e.position[n]))return!1;return!0}class pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function SI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class uA{}class kt extends uA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wI(e,n,r):n==="array-contains"?new II(e,r):n==="in"?new MI(e,r):n==="not-in"?new DI(e,r):n==="array-contains-any"?new OI(e,r):new kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new NI(e,r):new CI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(So(n,this.value)):n!==null&&Tr(this.value)===Tr(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ma extends uA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ma(e,n)}matches(e){return dA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dA(i){return i.op==="and"}function hA(i){return RI(i)&&dA(i)}function RI(i){for(const e of i.filters)if(e instanceof ma)return!1;return!0}function Wm(i){if(i instanceof kt)return i.field.canonicalString()+i.op.toString()+Ro(i.value);if(hA(i))return i.filters.map((e=>Wm(e))).join(",");{const e=i.filters.map((n=>Wm(n))).join(",");return`${i.op}(${e})`}}function fA(i,e){return i instanceof kt?(function(r,o){return o instanceof kt&&r.op===o.op&&r.field.isEqual(o.field)&&Fa(r.value,o.value)})(i,e):i instanceof ma?(function(r,o){return o instanceof ma&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,h,m)=>c&&fA(h,o.filters[m])),!0):!1})(i,e):void Ae(19439)}function mA(i){return i instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ro(n.value)}`})(i):i instanceof ma?(function(n){return n.op.toString()+" {"+n.getFilters().map(mA).join(" ,")+"}"})(i):"Filter"}class wI extends kt{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class NI extends kt{constructor(e,n){super(e,"in",n),this.keys=pA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class CI extends kt{constructor(e,n){super(e,"not-in",n),this.keys=pA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function pA(i,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class II extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jp(n)&&mc(n.arrayValue,this.value)}}class MI extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class DI extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}}class OI extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>mc(this.value.arrayValue,r)))}}class PI{constructor(e,n=null,r=[],o=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=h,this.endAt=m,this.Te=null}}function Gb(i,e=null,n=[],r=[],o=null,c=null,h=null){return new PI(i,e,n,r,o,c,h)}function Lp(i){const e=Ne(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Wm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ro(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ro(r))).join(",")),e.Te=n}return e.Te}function zp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!SI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!fA(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Fb(i.startAt,e.startAt)&&Fb(i.endAt,e.endAt)}function ep(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Uo{constructor(e,n=null,r=[],o=[],c=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function kI(i,e,n,r,o,c,h,m){return new Uo(i,e,n,r,o,c,h,m)}function ah(i){return new Uo(i)}function Qb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function VI(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function gA(i){return i.collectionGroup!==null}function ac(i){const e=Ne(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new zt(en.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new pc(c,r))})),n.has(en.keyField().canonicalString())||e.Ie.push(new pc(en.keyField(),r))}return e.Ie}function Ba(i){const e=Ne(i);return e.Ee||(e.Ee=jI(e,ac(i))),e.Ee}function jI(i,e){if(i.limitType==="F")return Gb(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new pc(o.field,c)}));const n=i.endAt?new zd(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new zd(i.startAt.position,i.startAt.inclusive):null;return Gb(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function tp(i,e){const n=i.filters.concat([e]);return new Uo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function LI(i,e){const n=i.explicitOrderBy.concat([e]);return new Uo(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function np(i,e,n){return new Uo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ih(i,e){return zp(Ba(i),Ba(e))&&i.limitType===e.limitType}function yA(i){return`${Lp(Ba(i))}|lt:${i.limitType}`}function co(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>mA(o))).join(", ")}]`),th(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Ro(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Ro(o))).join(",")),`Target(${r})`})(Ba(i))}; limitType=${i.limitType})`}function rh(i,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ve.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(i,e)&&(function(r,o){for(const c of ac(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(h,m,p){const g=qb(h,m,p);return h.inclusive?g<=0:g<0})(r.startAt,ac(r),o)||r.endAt&&!(function(h,m,p){const g=qb(h,m,p);return h.inclusive?g>=0:g>0})(r.endAt,ac(r),o))})(i,e)}function zI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function vA(i){return(e,n)=>{let r=!1;for(const o of ac(i)){const c=UI(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function UI(i,e,n){const r=i.field.isKeyField()?ve.comparator(e.key,n.key):(function(c,h,m){const p=h.data.field(c),g=m.data.field(c);return p!==null&&g!==null?So(p,g):Ae(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:i.dir})}}class bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return tA(this.inner)}size(){return this.innerSize}}const BI=new pt(ve.comparator);function Ti(){return BI}const bA=new pt(ve.comparator);function Jl(...i){let e=bA;for(const n of i)e=e.insert(n.key,n);return e}function _A(i){let e=bA;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ls(){return ic()}function EA(){return ic()}function ic(){return new bs((i=>i.toString()),((i,e)=>i.isEqual(e)))}const HI=new pt(ve.comparator),qI=new zt(ve.comparator);function qe(...i){let e=qI;for(const n of i)e=e.add(n);return e}const FI=new zt(He);function GI(){return FI}function Up(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vd(e)?"-0":e}}function AA(i){return{integerValue:""+i}}function QI(i,e){return gI(e)?AA(e):Up(i,e)}class sh{constructor(){this._=void 0}}function KI(i,e,n){return i instanceof gc?(function(o,c){const h={fields:{[iA]:{stringValue:aA},[sA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Vp(c)&&(c=nh(c)),c&&(h.fields[rA]=c),{mapValue:h}})(n,e):i instanceof wo?xA(i,e):i instanceof yc?SA(i,e):(function(o,c){const h=TA(o,c),m=Kb(h)+Kb(o.Ae);return Zm(h)&&Zm(o.Ae)?AA(m):Up(o.serializer,m)})(i,e)}function YI(i,e,n){return i instanceof wo?xA(i,e):i instanceof yc?SA(i,e):n}function TA(i,e){return i instanceof Ud?(function(r){return Zm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class gc extends sh{}class wo extends sh{constructor(e){super(),this.elements=e}}function xA(i,e){const n=RA(e);for(const r of i.elements)n.some((o=>Fa(o,r)))||n.push(r);return{arrayValue:{values:n}}}class yc extends sh{constructor(e){super(),this.elements=e}}function SA(i,e){let n=RA(e);for(const r of i.elements)n=n.filter((o=>!Fa(o,r)));return{arrayValue:{values:n}}}class Ud extends sh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Kb(i){return xt(i.integerValue||i.doubleValue)}function RA(i){return jp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class wA{constructor(e,n){this.field=e,this.transform=n}}function XI(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof wo&&o instanceof wo||r instanceof yc&&o instanceof yc?xo(r.elements,o.elements,Fa):r instanceof Ud&&o instanceof Ud?Fa(r.Ae,o.Ae):r instanceof gc&&o instanceof gc})(i.transform,e.transform)}class $I{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Td(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class oh{}function NA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Bp(i.key,Jn.none()):new wc(i.key,i.data,Jn.none());{const n=i.data,r=En.empty();let o=new zt(en.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?r.delete(c):r.set(c,h),o=o.add(c)}return new Cr(i.key,r,new On(o.toArray()),Jn.none())}}function JI(i,e,n){i instanceof wc?(function(o,c,h){const m=o.value.clone(),p=Xb(o.fieldTransforms,c,h.transformResults);m.setAll(p),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Cr?(function(o,c,h){if(!Td(o.precondition,c))return void c.convertToUnknownDocument(h.version);const m=Xb(o.fieldTransforms,c,h.transformResults),p=c.data;p.setAll(CA(o)),p.setAll(m),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function rc(i,e,n,r){return i instanceof wc?(function(c,h,m,p){if(!Td(c.precondition,h))return m;const g=c.value.clone(),E=$b(c.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,r):i instanceof Cr?(function(c,h,m,p){if(!Td(c.precondition,h))return m;const g=$b(c.fieldTransforms,p,h),E=h.data;return E.setAll(CA(c)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(i,e,n,r):(function(c,h,m){return Td(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function ZI(i,e){let n=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),c=TA(r.transform,o||null);c!=null&&(n===null&&(n=En.empty()),n.set(r.field,c))}return n||null}function Yb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&xo(r,o,((c,h)=>XI(c,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class wc extends oh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Cr extends oh{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function CA(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function Xb(i,e,n){const r=new Map;$e(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const c=i[o],h=c.transform,m=e.data.field(c.field);r.set(c.field,YI(h,m,n[o]))}return r}function $b(i,e,n){const r=new Map;for(const o of i){const c=o.transform,h=n.data.field(o.field);r.set(o.field,KI(c,h,e))}return r}class Bp extends oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WI extends oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class e2{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&JI(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=EA();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(o.key)?null:m;const p=NA(h,m);p!==null&&r.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Re.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,((n,r)=>Yb(n,r)))&&xo(this.baseMutations,e.baseMutations,((n,r)=>Yb(n,r)))}}class Hp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){$e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return HI})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,r[h].version);return new Hp(e,n,r,o)}}class t2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class n2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Pt,Ge;function a2(i){switch(i){case ee.OK:return Ae(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ae(15467,{code:i})}}function IA(i){if(i===void 0)return Ai("GRPC error has no .code"),ee.UNKNOWN;switch(i){case Pt.OK:return ee.OK;case Pt.CANCELLED:return ee.CANCELLED;case Pt.UNKNOWN:return ee.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ee.INTERNAL;case Pt.UNAVAILABLE:return ee.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ee.NOT_FOUND;case Pt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Pt.ABORTED:return ee.ABORTED;case Pt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Pt.DATA_LOSS:return ee.DATA_LOSS;default:return Ae(39323,{code:i})}}(Ge=Pt||(Pt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function i2(){return new TextEncoder}const r2=new gr([4294967295,4294967295],0);function Jb(i){const e=i2().encode(i),n=new FE;return n.update(e),new Uint8Array(n.digest())}function Zb(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new gr([n,r],0),new gr([o,c],0)]}class qp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(r<0)throw new Zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=gr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(gr.fromNumber(r)));return o.compare(r2)===1&&(o=new gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Jb(e),[r,o]=Zb(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(r,o,c);if(!this.we(h))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new qp(c,o,n);return r.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=Jb(e),[r,o]=Zb(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(r,o,c);this.be(h)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lh{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Nc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new lh(Re.min(),o,new pt(He),Ti(),qe())}}class Nc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Nc(r,n,qe(),qe(),qe())}}class xd{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class MA{constructor(e,n){this.targetId=e,this.Ce=n}}class DA{constructor(e,n,r=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Wb{constructor(){this.ve=0,this.Fe=e_(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),r=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ae(38017,{changeType:c})}})),new Nc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=e_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class s2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ti(),this.He=hd(),this.Je=hd(),this.Ze=new pt(He)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(ep(c))if(r===0){const h=new ve(c.path);this.et(n,h,ln.newNoDocument(h,Re.min()))}else $e(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let h,m;try{h=Ar(r).toUint8Array()}catch(p){if(p instanceof nA)return To("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new qp(h,o,c)}catch(p){return To(p instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const m=this.ot(h);if(m){if(c.current&&ep(m.target)){const p=new ve(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,ln.newNoDocument(p,e))}c.Be&&(n.set(h,c.ke()),c.Ke())}}));let r=qe();this.Je.forEach(((c,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new lh(e,n,this.Ze,this.je,r);return this.je=Ti(),this.He=hd(),this.Je=hd(),this.Ze=new pt(He),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Wb,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new zt(He),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new zt(He),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hd(){return new pt(ve.comparator)}function e_(){return new pt(ve.comparator)}const o2={asc:"ASCENDING",desc:"DESCENDING"},l2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c2={and:"AND",or:"OR"};class u2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ap(i,e){return i.useProto3Json||th(e)?e:{value:e}}function Bd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function d2(i,e){return Bd(i,e.toTimestamp())}function Ha(i){return $e(!!i,49232),Re.fromTimestamp((function(n){const r=Er(n);return new ut(r.seconds,r.nanos)})(i))}function Fp(i,e){return ip(i,e).canonicalString()}function ip(i,e){const n=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function PA(i){const e=ot.fromString(i);return $e(zA(e),10190,{key:e.toString()}),e}function rp(i,e){return Fp(i.databaseId,e.path)}function km(i,e){const n=PA(e);if(n.get(1)!==i.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ve(VA(n))}function kA(i,e){return Fp(i.databaseId,e)}function h2(i){const e=PA(i);return e.length===4?ot.emptyPath():VA(e)}function sp(i){return new ot(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function VA(i){return $e(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function t_(i,e,n){return{name:rp(i,e),fields:n.value.mapValue.fields}}function f2(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,E){return g.useProto3Json?($e(E===void 0||typeof E=="string",58123),tn.fromBase64String(E||"")):($e(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),tn.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?ee.UNKNOWN:IA(g.code);return new ce(E,g.message||"")})(h);n=new DA(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=km(i,r.document.name),c=Ha(r.document.updateTime),h=r.document.createTime?Ha(r.document.createTime):Re.min(),m=new En({mapValue:{fields:r.document.fields}}),p=ln.newFoundDocument(o,c,h,m),g=r.targetIds||[],E=r.removedTargetIds||[];n=new xd(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=km(i,r.document),c=r.readTime?Ha(r.readTime):Re.min(),h=ln.newNoDocument(o,c),m=r.removedTargetIds||[];n=new xd([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=km(i,r.document),c=r.removedTargetIds||[];n=new xd([],c,o,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,h=new n2(o,c),m=r.targetId;n=new MA(m,h)}}return n}function m2(i,e){let n;if(e instanceof wc)n={update:t_(i,e.key,e.value)};else if(e instanceof Bp)n={delete:rp(i,e.key)};else if(e instanceof Cr)n={update:t_(i,e.key,e.data),updateMask:T2(e.fieldMask)};else{if(!(e instanceof WI))return Ae(16599,{dt:e.type});n={verify:rp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,h){const m=h.transform;if(m instanceof gc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof wo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof yc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ud)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ae(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:d2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ae(27497)})(i,e.precondition)),n}function p2(i,e){return i&&i.length>0?($e(e!==void 0,14353),i.map((n=>(function(o,c){let h=o.updateTime?Ha(o.updateTime):Ha(c);return h.isEqual(Re.min())&&(h=Ha(c)),new $I(h,o.transformResults||[])})(n,e)))):[]}function g2(i,e){return{documents:[kA(i,e.path)]}}function y2(i,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kA(i,o);const c=(function(g){if(g.length!==0)return LA(ma.create(g,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:uo(w.field),direction:_2(w.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=ap(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function v2(i){let e=h2(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){$e(r===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(A){const w=jA(A);return w instanceof ma&&hA(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(A){return A.map((w=>(function(H){return new pc(ho(H.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let w;return w=typeof A=="object"?A.value:A,th(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(A){const w=!!A.before,V=A.values||[];return new zd(V,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(A){const w=!A.before,V=A.values||[];return new zd(V,w)})(n.endAt)),kI(e,o,h,c,m,"F",p,g)}function b2(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jA(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ho(n.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ho(n.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ho(n.unaryFilter.field);return kt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ho(n.unaryFilter.field);return kt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(i):i.fieldFilter!==void 0?(function(n){return kt.create(ho(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return ma.create(n.compositeFilter.filters.map((r=>jA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(i):Ae(30097,{filter:i})}function _2(i){return o2[i]}function E2(i){return l2[i]}function A2(i){return c2[i]}function uo(i){return{fieldPath:i.canonicalString()}}function ho(i){return en.fromServerFormat(i.fieldPath)}function LA(i){return i instanceof kt?(function(n){if(n.op==="=="){if(Hb(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(Bb(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Hb(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(Bb(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:E2(n.op),value:n.value}}})(i):i instanceof ma?(function(n){const r=n.getFilters().map((o=>LA(o)));return r.length===1?r[0]:{compositeFilter:{op:A2(n.op),filters:r}}})(i):Ae(54877,{filter:i})}function T2(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function zA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function UA(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class hr{constructor(e,n,r,o,c=Re.min(),h=Re.min(),m=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class x2{constructor(e){this.yt=e}}function S2(i){const e=v2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?np(e,e.limit,"L"):e}class R2{constructor(){this.Sn=new w2}addToCollectionParentIndex(e,n){return this.Sn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(_r.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class w2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new zt(ot.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new zt(ot.comparator)).toArray()}}const n_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BA=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(BA,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class No{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new No(0)}static ar(){return new No(-1)}}const a_="LruGarbageCollector",N2=1048576;function i_([i,e],[n,r]){const o=He(i,n);return o===0?He(e,r):o}class C2{constructor(e){this.Pr=e,this.buffer=new zt(i_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();i_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class I2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){de(a_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zo(n)?de(a_,"Ignoring IndexedDB error during garbage collection: ",n):await Lo(n)}await this.Ar(3e5)}))}}class M2{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(eh.ce);const r=new C2(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(n_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,c,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,m=Date.now(),this.removeTargets(e,r,n)))).next((A=>(c=A,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(g=Date.now(),lo()<=Be.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function D2(i,e){return new M2(i,e)}class O2{constructor(){this.changes=new bs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class P2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class k2{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&rc(r.mutation,o,On.empty(),ut.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,qe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=qe()){const o=ls();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let h=Jl();return c.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=ls();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,qe())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,r,o){let c=Ti();const h=ic(),m=(function(){return ic()})();return n.forEach(((p,g)=>{const E=r.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Cr)?c=c.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),rc(E.mutation,g,E.mutation.getFieldMask(),ut.now())):h.set(g.key,On.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new P2(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=ic();let o=new pt(((h,m)=>h-m)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=r.get(p)||On.empty();E=m.applyToLocalView(g,E),r.set(p,E);const A=(o.get(m.batchId)||qe()).add(p);o=o.insert(m.batchId,A)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=EA();E.forEach((w=>{if(!c.has(w)){const V=NA(n.get(w),r.get(w));V!==null&&A.set(w,V),c=c.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ne.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return VI(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):ne.resolve(ls());let m=dc,p=c;return h.next((g=>ne.forEach(g,((E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),c.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,p,g,qe()))).next((E=>({batchId:m,changes:_A(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((r=>{let o=Jl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let h=Jl();return this.indexManager.getCollectionParents(e,c).next((m=>ne.forEach(m,(p=>{const g=(function(A,w){return new Uo(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next((E=>{E.forEach(((A,w)=>{h=h.insert(A,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((h=>{c.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,ln.newInvalidDocument(E)))}));let m=Jl();return h.forEach(((p,g)=>{const E=c.get(p);E!==void 0&&rc(E.mutation,g,On.empty(),ut.now()),rh(n,g)&&(m=m.insert(p,g))})),m}))}}class V2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ne.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ha(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:S2(o.bundledQuery),readTime:Ha(o.readTime)}})(n)),ne.resolve()}}class j2{constructor(){this.overlays=new pt(ve.comparator),this.Lr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ls();return ne.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.bt(e,n,c)})),ne.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const o=ls(),c=n.length+1,h=new ve(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===c&&p.largestBatchId>r&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new pt(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let E=c.get(g.largestBatchId);E===null&&(E=ls(),c=c.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ls(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ne.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new t2(n,r));let c=this.Lr.get(n);c===void 0&&(c=qe(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}class L2{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Gp{constructor(){this.kr=new zt(Gt.Kr),this.qr=new zt(Gt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Gt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Gt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ve(new ot([])),r=new Gt(n,e),o=new Gt(n,e+1),c=[];return this.qr.forEachInRange([r,o],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ve(new ot([])),r=new Gt(n,e),o=new Gt(n,e+1);let c=qe();return this.qr.forEachInRange([r,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new Gt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ve.comparator(e.key,n.key)||He(e.Hr,n.Hr)}static Ur(e,n){return He(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}class z2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new zt(Gt.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new e2(c,n,r,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Gt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),c=o<0?0:o;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?kp:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gt(n,0),o=new Gt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(h=>{const m=this.Zr(h.Hr);c.push(m)})),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zt(He);return n.forEach((o=>{const c=new Gt(o,0),h=new Gt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(m=>{r=r.add(m.Hr)}))})),ne.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;ve.isDocumentKey(c)||(c=c.child(""));const h=new Gt(new ve(c),0);let m=new zt(He);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),h),ne.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){$e(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ne.forEach(n.mutations,(o=>{const c=new Gt(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Gt(n,0),o=this.Jr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class U2{constructor(e){this.ti=e,this.docs=(function(){return new pt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=Ti();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():ln.newInvalidDocument(o))})),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=Ti();const h=n.path,m=new ve(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||hI(dI(E),r)<=0||(o.has(E.key)||rh(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(e,n,r,o){Ae(9500)}ni(e,n){return ne.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new B2(this)}getSize(e){return ne.resolve(this.size)}}class B2 extends O2{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),ne.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class H2{constructor(e){this.persistence=e,this.ri=new bs((n=>Lp(n)),zp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ii=0,this.si=new Gp,this.targetCount=0,this.oi=No._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ne.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new No(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.lr(n),ne.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(c).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.si.containsKey(n))}}class HA{constructor(e,n){this._i={},this.overlays={},this.ai=new eh(0),this.ui=!1,this.ui=!0,this.ci=new L2,this.referenceDelegate=e(this),this.li=new H2(this),this.indexManager=new R2,this.remoteDocumentCache=(function(o){return new U2(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new x2(n),this.Pi=new V2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new j2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new z2(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const o=new q2(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return ne.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class q2 extends mI{constructor(e){super(),this.currentSequenceNumber=e}}class Qp{constructor(e){this.persistence=e,this.Ri=new Gp,this.Ai=null}static Vi(e){return new Qp(e)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(r=>{const o=ve.fromPath(r);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Re.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Hd{constructor(e,n){this.persistence=e,this.fi=new bs((r=>yI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=D2(this,n)}static Vi(e,n){return new Hd(e,n)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ne.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?ne.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(r++,c.removeEntry(h,Re.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ed(e.data.value)),n}wr(e,n,r){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ne.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Kp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=qe(),o=qe();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Kp(e,n.fromCache,r,o)}}class F2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class G2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return fR()?8:pI(cn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.gs(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,n,o,r).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new F2;return this.ys(e,n,h).next((m=>{if(c.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>c.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(lo()<=Be.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(lo()<=Be.DEBUG&&de("QueryEngine","Query:",co(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(lo()<=Be.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ba(n))):ne.resolve())}gs(e,n){if(Qb(n))return ne.resolve(null);let r=Ba(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=np(n,null,"F"),r=Ba(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const h=qe(...c);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,r).next((p=>{const g=this.bs(n,m);return this.Ss(n,g,h,p.readTime)?this.gs(e,np(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,r,o){return Qb(n)||o.isEqual(Re.min())?ne.resolve(null):this.fs.getDocuments(e,r).next((c=>{const h=this.bs(n,c);return this.Ss(n,h,r,o)?ne.resolve(null):(lo()<=Be.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),co(n)),this.Ds(e,h,n,uI(o,dc)).next((m=>m)))}))}bs(e,n){let r=new zt(vA(e));return n.forEach(((o,c)=>{rh(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,r){return lo()<=Be.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",co(n)),this.fs.getDocumentsMatchingQuery(e,n,_r.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const Yp="LocalStore",Q2=3e8;class K2{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new pt(He),this.Fs=new bs((c=>Lp(c)),zp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Y2(i,e,n,r){return new K2(i,e,n,r)}async function qA(i,e){const n=Ne(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const h=[],m=[];let p=qe();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of c){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(r,p).next((g=>({Ns:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function X2(i,e){const n=Ne(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const A=g.batch,w=A.keys();let V=ne.resolve();return w.forEach((H=>{V=V.next((()=>E.getEntry(p,H))).next((z=>{const F=g.docVersions.get(H);$e(F!==null,48541),z.version.compareTo(F)<0&&(A.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),E.addEntry(z)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(p,A)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=qe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function FA(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function $2(i,e){const n=Ne(i),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,A)=>{const w=o.get(A);if(!w)return;m.push(n.li.removeMatchingKeys(c,E.removedDocuments,A).next((()=>n.li.addMatchingKeys(c,E.addedDocuments,A))));let V=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?V=V.withResumeToken(tn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,r)),o=o.insert(A,V),(function(z,F,ie){return z.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=Q2?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(w,V,E)&&m.push(n.li.updateTargetData(c,V))}));let p=Ti(),g=qe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push(J2(c,h,e.documentUpdates).next((E=>{p=E.Bs,g=E.Ls}))),!r.isEqual(Re.min())){const E=n.li.getLastRemoteSnapshotVersion(c).next((A=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(E)}return ne.waitFor(m).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,g))).next((()=>p))})).then((c=>(n.vs=o,c)))}function J2(i,e,n){let r=qe(),o=qe();return n.forEach((c=>r=r.add(c))),e.getEntries(i,r).next((c=>{let h=Ti();return n.forEach(((m,p)=>{const g=c.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):de(Yp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:h,Ls:o}}))}function Z2(i,e){const n=Ne(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=kp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function W2(i,e){const n=Ne(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((c=>c?(o=c,ne.resolve(o)):n.li.allocateTargetId(r).next((h=>(o=new hr(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function op(i,e,n){const r=Ne(i),o=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!zo(h))throw h;de(Yp,`Failed to update sequence numbers for target ${e}: ${h}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function r_(i,e,n){const r=Ne(i);let o=Re.min(),c=qe();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const A=Ne(p),w=A.Fs.get(E);return w!==void 0?ne.resolve(A.vs.get(w)):A.li.getTargetData(g,E)})(r,h,Ba(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(h,m.targetId).next((p=>{c=p}))})).next((()=>r.Cs.getDocumentsMatchingQuery(h,e,n?o:Re.min(),n?c:qe()))).next((m=>(eM(r,zI(e),m),{documents:m,ks:c})))))}function eM(i,e,n){let r=i.Ms.get(e)||Re.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),i.Ms.set(e,r)}class s_{constructor(){this.activeTargetIds=GI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tM{constructor(){this.vo=new s_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new s_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nM{Mo(e){}shutdown(){}}const o_="ConnectivityMonitor";class l_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){de(o_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){de(o_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let fd=null;function lp(){return fd===null?fd=(function(){return 268435456+Math.round(2147483648*Math.random())})():fd++,"0x"+fd.toString(16)}const Vm="RestConnection",aM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class iM{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===jd?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,c){const h=lp(),m=this.Qo(e,n.toUriEncodedString());de(Vm,`Sending RPC '${e}' ${h}:`,m,r);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,c);const{host:g}=new URL(m),E=Po(g);return this.zo(e,m,p,r,E).then((A=>(de(Vm,`Received RPC '${e}' ${h}: `,A),A)),(A=>{throw To(Vm,`RPC '${e}' ${h} failed with error: `,A,"url: ",m,"request:",r),A}))}jo(e,n,r,o,c,h){return this.Wo(e,n,r,o,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const r=aM[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class rM{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const sn="WebChannelConnection",Kl=(i,e,n)=>{i.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class vo extends iM{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!vo.c_){const e=YE();Kl(e,KE.STAT_EVENT,(n=>{n.stat===Xm.PROXY?de(sn,"STAT_EVENT: detected buffering proxy"):n.stat===Xm.NOPROXY&&de(sn,"STAT_EVENT: detected no buffering proxy")})),vo.c_=!0}}zo(e,n,r,o,c){const h=lp();return new Promise(((m,p)=>{const g=new GE;g.setWithCredentials(!0),g.listenOnce(QE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case _d.NO_ERROR:const A=g.getResponseJson();de(sn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),m(A);break;case _d.TIMEOUT:de(sn,`RPC '${e}' ${h} timed out`),p(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case _d.HTTP_ERROR:const w=g.getStatus();if(de(sn,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const H=V?.error;if(H&&H.status&&H.message){const z=(function(ie){const Q=ie.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Q)>=0?Q:ee.UNKNOWN})(H.status);p(new ce(z,H.message))}else p(new ce(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(sn,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);de(sn,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,r,15)}))}T_(e,n,r){const o=lp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const g=c.join("");de(sn,`Creating RPC '${e}' stream ${o}: ${g}`,m);const E=h.createWebChannel(g,m);this.I_(E);let A=!1,w=!1;const V=new rM({Ho:H=>{w?de(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(A||(de(sn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),A=!0),de(sn,`RPC '${e}' stream ${o} sending:`,H),E.send(H))},Jo:()=>E.close()});return Kl(E,$l.EventType.OPEN,(()=>{w||(de(sn,`RPC '${e}' stream ${o} transport opened.`),V.i_())})),Kl(E,$l.EventType.CLOSE,(()=>{w||(w=!0,de(sn,`RPC '${e}' stream ${o} transport closed`),V.o_(),this.E_(E))})),Kl(E,$l.EventType.ERROR,(H=>{w||(w=!0,To(sn,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),V.o_(new ce(ee.UNAVAILABLE,"The operation could not be completed")))})),Kl(E,$l.EventType.MESSAGE,(H=>{if(!w){const z=H.data[0];$e(!!z,16349);const F=z,ie=F?.error||F[0]?.error;if(ie){de(sn,`RPC '${e}' stream ${o} received error:`,ie);const Q=ie.status;let re=(function(ae){const N=Pt[ae];if(N!==void 0)return IA(N)})(Q),me=ie.message;re===void 0&&(re=ee.INTERNAL,me="Unknown error status: "+Q+" with message "+ie.message),w=!0,V.o_(new ce(re,me)),E.close()}else de(sn,`RPC '${e}' stream ${o} received:`,z),V.__(z)}})),vo.u_(),setTimeout((()=>{V.s_()}),0),V}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return XE()}}function sM(i){return new vo(i)}function jm(){return typeof document<"u"?document:null}function ch(i){return new u2(i,!0)}vo.c_=!1;class GA{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const c_="PersistentStream";class QA{constructor(e,n,r,o,c,h,m,p){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(c_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(de(c_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oM extends QA{constructor(e,n,r,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=f2(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Re.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?Ha(h.readTime):Re.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=sp(this.serializer),n.addTarget=(function(c,h){let m;const p=h.target;if(m=ep(p)?{documents:g2(c,p)}:{query:y2(c,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=OA(c,h.resumeToken);const g=ap(c,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Re.min())>0){m.readTime=Bd(c,h.snapshotVersion.toTimestamp());const g=ap(c,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const r=b2(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=sp(this.serializer),n.removeTarget=e,this.K_(n)}}class lM extends QA{constructor(e,n,r,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=p2(e.writeResults,e.commitTime),r=Ha(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=sp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>m2(this.serializer,r)))};this.K_(n)}}class cM{}class uM extends cM{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,ip(n,r),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(ee.UNKNOWN,c.toString())}))}jo(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,ip(n,r),o,h,m,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(ee.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function dM(i,e,n,r){return new uM(i,e,n,r)}class hM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ai(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const gs="RemoteStore";class fM{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{r.enqueueAndForget((async()=>{_s(this)&&(de(gs,"Restarting streams for network reachability change."),await(async function(p){const g=Ne(p);g.Ea.add(4),await Cc(g),g.Va.set("Unknown"),g.Ea.delete(4),await uh(g)})(this))}))})),this.Va=new hM(r,o)}}async function uh(i){if(_s(i))for(const e of i.Ra)await e(!0)}async function Cc(i){for(const e of i.Ra)await e(!1)}function KA(i,e){const n=Ne(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zp(n)?Jp(n):Bo(n).O_()&&$p(n,e))}function Xp(i,e){const n=Ne(i),r=Bo(n);n.Ia.delete(e),r.O_()&&YA(n,e),n.Ia.size===0&&(r.O_()?r.L_():_s(n)&&n.Va.set("Unknown"))}function $p(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bo(i).Z_(e)}function YA(i,e){i.da.$e(e),Bo(i).X_(e)}function Jp(i){i.da=new s2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Bo(i).start(),i.Va.ua()}function Zp(i){return _s(i)&&!Bo(i).x_()&&i.Ia.size>0}function _s(i){return Ne(i).Ea.size===0}function XA(i){i.da=void 0}async function mM(i){i.Va.set("Online")}async function pM(i){i.Ia.forEach(((e,n)=>{$p(i,e)}))}async function gM(i,e){XA(i),Zp(i)?(i.Va.ha(e),Jp(i)):i.Va.set("Unknown")}async function yM(i,e,n){if(i.Va.set("Online"),e instanceof DA&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(r){de(gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qd(i,r)}else if(e instanceof xd?i.da.Xe(e):e instanceof MA?i.da.st(e):i.da.tt(e),!n.isEqual(Re.min()))try{const r=await FA(i.localStore);n.compareTo(r)>=0&&await(function(c,h){const m=c.da.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.Ia.get(g);E&&c.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=c.Ia.get(p);if(!E)return;c.Ia.set(p,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),YA(c,p);const A=new hr(E.target,p,g,E.sequenceNumber);$p(c,A)})),c.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(r){de(gs,"Failed to raise snapshot:",r),await qd(i,r)}}async function qd(i,e,n){if(!zo(e))throw e;i.Ea.add(1),await Cc(i),i.Va.set("Offline"),n||(n=()=>FA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{de(gs,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await uh(i)}))}function $A(i,e){return e().catch((n=>qd(i,n,e)))}async function dh(i){const e=Ne(i),n=xr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:kp;for(;vM(e);)try{const o=await Z2(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,bM(e,o)}catch(o){await qd(e,o)}JA(e)&&ZA(e)}function vM(i){return _s(i)&&i.Ta.length<10}function bM(i,e){i.Ta.push(e);const n=xr(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function JA(i){return _s(i)&&!xr(i).x_()&&i.Ta.length>0}function ZA(i){xr(i).start()}async function _M(i){xr(i).ra()}async function EM(i){const e=xr(i);for(const n of i.Ta)e.ea(n.mutations)}async function AM(i,e,n){const r=i.Ta.shift(),o=Hp.from(r,e,n);await $A(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await dh(i)}async function TM(i,e){e&&xr(i).Y_&&await(async function(r,o){if((function(h){return a2(h)&&h!==ee.ABORTED})(o.code)){const c=r.Ta.shift();xr(r).B_(),await $A(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await dh(r)}})(i,e),JA(i)&&ZA(i)}async function u_(i,e){const n=Ne(i);n.asyncQueue.verifyOperationInProgress(),de(gs,"RemoteStore received new credentials");const r=_s(n);n.Ea.add(3),await Cc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await uh(n)}async function xM(i,e){const n=Ne(i);e?(n.Ea.delete(2),await uh(n)):e||(n.Ea.add(2),await Cc(n),n.Va.set("Unknown"))}function Bo(i){return i.ma||(i.ma=(function(n,r,o){const c=Ne(n);return c.sa(),new oM(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:mM.bind(null,i),Yo:pM.bind(null,i),t_:gM.bind(null,i),J_:yM.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),Zp(i)?Jp(i):i.Va.set("Unknown")):(await i.ma.stop(),XA(i))}))),i.ma}function xr(i){return i.fa||(i.fa=(function(n,r,o){const c=Ne(n);return c.sa(),new lM(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:_M.bind(null,i),t_:TM.bind(null,i),ta:EM.bind(null,i),na:AM.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await dh(i)):(await i.fa.stop(),i.Ta.length>0&&(de(gs,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Wp{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const h=Date.now()+r,m=new Wp(e,n,h,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(i,e){if(Ai("AsyncQueue",`${e}: ${i}`),zo(i))return new ce(ee.UNAVAILABLE,`${e}: ${i}`);throw i}class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=Jl(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class d_{constructor(){this.ga=new pt(ve.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Co{constructor(e,n,r,o,c,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,o,c){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Co(e,n,bo.emptySet(n),h,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class SM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class RM{constructor(){this.queries=h_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ne(n),c=o.queries;o.queries=h_(),c.forEach(((h,m)=>{for(const p of m.ba)p.onError(r)}))})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function h_(){return new bs((i=>yA(i)),ih)}async function tg(i,e){const n=Ne(i);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new SM,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=eg(h,`Initialization of query '${co(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&ag(n)}async function ng(i,e){const n=Ne(i),r=e.query;let o=3;const c=n.queries.get(r);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function wM(i,e){const n=Ne(i);let r=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const m of h.ba)m.Fa(o)&&(r=!0);h.wa=o}}r&&ag(n)}function NM(i,e,n){const r=Ne(i),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(n);r.queries.delete(e)}function ag(i){i.Ca.forEach((e=>{e.next()}))}var cp,f_;(f_=cp||(cp={})).Ma="default",f_.Cache="cache";class ig{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Co(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cp.Cache}}class WA{constructor(e){this.key=e}}class eT{constructor(e){this.key=e}}class CM{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.eu=vA(e),this.tu=new bo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new d_,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,A)=>{const w=o.get(E),V=rh(this.query,A)?A:null,H=!!w&&this.mutatedKeys.has(w.key),z=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;w&&V?w.data.isEqual(V.data)?H!==z&&(r.track({type:3,doc:V}),F=!0):this.su(w,V)||(r.track({type:2,doc:V}),F=!0,(p&&this.eu(V,p)>0||g&&this.eu(V,g)<0)&&(m=!0)):!w&&V?(r.track({type:0,doc:V}),F=!0):w&&!V&&(r.track({type:1,doc:w}),F=!0,(p||g)&&(m=!0)),F&&(V?(h=h.add(V),c=z?c.add(E):c.delete(E)):(h=h.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:h,iu:r,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,A)=>(function(V,H){const z=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:F})}};return z(V)-z(H)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,h.length!==0||g?{snapshot:new Co(this.query,e.tu,c,h,e.mutatedKeys,p===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new d_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new eT(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new WA(r))})),n}cu(e){this.Za=e.ks,this.Ya=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const rg="SyncEngine";class IM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MM{constructor(e){this.key=e,this.hu=!1}}class DM{constructor(e,n,r,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new bs((m=>yA(m)),ih),this.Iu=new Map,this.Eu=new Set,this.Ru=new pt(ve.comparator),this.Au=new Map,this.Vu=new Gp,this.du={},this.mu=new Map,this.fu=No.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OM(i,e,n=!0){const r=sT(i);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await tT(r,e,n,!0),o}async function PM(i,e){const n=sT(i);await tT(n,e,!0,!1)}async function tT(i,e,n,r){const o=await W2(i.localStore,Ba(e)),c=o.targetId,h=i.sharedClientState.addLocalQueryTarget(c,n);let m;return r&&(m=await kM(i,e,c,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&KA(i.remoteStore,o),m}async function kM(i,e,n,r,o){i.pu=(A,w,V)=>(async function(z,F,ie,Q){let re=F.view.ru(ie);re.Ss&&(re=await r_(z.localStore,F.query,!1).then((({documents:N})=>F.view.ru(N,re))));const me=Q&&Q.targetChanges.get(F.targetId),be=Q&&Q.targetMismatches.get(F.targetId)!=null,ae=F.view.applyChanges(re,z.isPrimaryClient,me,be);return p_(z,F.targetId,ae.au),ae.snapshot})(i,A,w,V);const c=await r_(i.localStore,e,!0),h=new CM(e,c.ks),m=h.ru(c.documents),p=Nc.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);p_(i,n,g.au);const E=new IM(e,n,h);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function VM(i,e,n){const r=Ne(i),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((h=>!ih(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await op(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Xp(r.remoteStore,o.targetId),up(r,o.targetId)})).catch(Lo)):(up(r,o.targetId),await op(r.localStore,o.targetId,!0))}async function jM(i,e){const n=Ne(i),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xp(n.remoteStore,r.targetId))}async function LM(i,e,n){const r=GM(i);try{const o=await(function(h,m){const p=Ne(h),g=ut.now(),E=m.reduce(((V,H)=>V.add(H.key)),qe());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let H=Ti(),z=qe();return p.xs.getEntries(V,E).next((F=>{H=F,H.forEach(((ie,Q)=>{Q.isValidDocument()||(z=z.add(ie))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,H))).next((F=>{A=F;const ie=[];for(const Q of m){const re=ZI(Q,A.get(Q.key).overlayedDocument);re!=null&&ie.push(new Cr(Q.key,re,cA(re.value.mapValue),Jn.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,ie,m)})).next((F=>{w=F;const ie=F.applyToLocalDocumentSet(A,z);return p.documentOverlayCache.saveOverlays(V,F.batchId,ie)}))})).then((()=>({batchId:w.batchId,changes:_A(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.du[h.currentUser.toKey()];g||(g=new pt(He)),g=g.insert(m,p),h.du[h.currentUser.toKey()]=g})(r,o.batchId,n),await Ic(r,o.changes),await dh(r.remoteStore)}catch(o){const c=eg(o,"Failed to persist write");n.reject(c)}}async function nT(i,e){const n=Ne(i);try{const r=await $2(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?$e(h.hu,14607):o.removedDocuments.size>0&&($e(h.hu,42227),h.hu=!1))})),await Ic(n,r,e)}catch(r){await Lo(r)}}function m_(i,e,n){const r=Ne(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ne(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,A)=>{for(const w of A.ba)w.va(m)&&(g=!0)})),g&&ag(p)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zM(i,e,n){const r=Ne(i);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let h=new pt(ve.comparator);h=h.insert(c,ln.newNoDocument(c,Re.min()));const m=qe().add(c),p=new lh(Re.min(),new Map,new pt(He),h,m);await nT(r,p),r.Ru=r.Ru.remove(c),r.Au.delete(e),sg(r)}else await op(r.localStore,e,!1).then((()=>up(r,e,n))).catch(Lo)}async function UM(i,e){const n=Ne(i),r=e.batch.batchId;try{const o=await X2(n.localStore,e);iT(n,r,null),aT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ic(n,o)}catch(o){await Lo(o)}}async function BM(i,e,n){const r=Ne(i);try{const o=await(function(h,m){const p=Ne(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((A=>($e(A!==null,37113),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(r.localStore,e);iT(r,e,n),aT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ic(r,o)}catch(o){await Lo(o)}}function aT(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function iT(i,e,n){const r=Ne(i);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function up(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((r=>{i.Vu.containsKey(r)||rT(i,r)}))}function rT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(Xp(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),sg(i))}function p_(i,e,n){for(const r of n)r instanceof WA?(i.Vu.addReference(r.key,e),HM(i,r)):r instanceof eT?(de(rg,"Document no longer in limbo: "+r.key),i.Vu.removeReference(r.key,e),i.Vu.containsKey(r.key)||rT(i,r.key)):Ae(19791,{wu:r})}function HM(i,e){const n=e.key,r=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(r)||(de(rg,"New document in limbo: "+n),i.Eu.add(r),sg(i))}function sg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ve(ot.fromString(e)),r=i.fu.next();i.Au.set(r,new MM(n)),i.Ru=i.Ru.insert(n,r),KA(i.remoteStore,new hr(Ba(ah(n.path)),r,"TargetPurposeLimboResolution",eh.ce))}}async function Ic(i,e,n){const r=Ne(i),o=[],c=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{h.push(r.pu(p,e,n).then((g=>{if((g||n)&&r.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Kp.Es(p.targetId,g);c.push(E)}})))})),await Promise.all(h),r.Pu.J_(o),await(async function(p,g){const E=Ne(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>ne.forEach(g,(w=>ne.forEach(w.Ts,(V=>E.persistence.referenceDelegate.addReference(A,w.targetId,V))).next((()=>ne.forEach(w.Is,(V=>E.persistence.referenceDelegate.removeReference(A,w.targetId,V)))))))))}catch(A){if(!zo(A))throw A;de(Yp,"Failed to update sequence numbers: "+A)}for(const A of g){const w=A.targetId;if(!A.fromCache){const V=E.vs.get(w),H=V.snapshotVersion,z=V.withLastLimboFreeSnapshotVersion(H);E.vs=E.vs.insert(w,z)}}})(r.localStore,c))}async function qM(i,e){const n=Ne(i);if(!n.currentUser.isEqual(e)){de(rg,"User change. New user:",e.toKey());const r=await qA(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((m=>{m.forEach((p=>{p.reject(new ce(ee.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ic(n,r.Ns)}}function FM(i,e){const n=Ne(i),r=n.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let o=qe();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function sT(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=nT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zM.bind(null,e),e.Pu.J_=wM.bind(null,e.eventManager),e.Pu.yu=NM.bind(null,e.eventManager),e}function GM(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BM.bind(null,e),e}class Fd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ch(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Y2(this.persistence,new G2,e.initialUser,this.serializer)}Cu(e){return new HA(Qp.Vi,this.serializer)}Du(e){return new tM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fd.provider={build:()=>new Fd};class QM extends Fd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof Hd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new I2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new HA((r=>Hd.Vi(r,n)),this.serializer)}}class dp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qM.bind(null,this.syncEngine),await xM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new RM})()}createDatastore(e){const n=ch(e.databaseInfo.databaseId),r=sM(e.databaseInfo);return dM(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,h,m){return new fM(r,o,c,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>m_(this.syncEngine,n,0)),(function(){return l_.v()?new l_:new nM})())}createSyncEngine(e,n){return(function(o,c,h,m,p,g,E){const A=new DM(o,c,h,m,p,g);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ne(n);de(gs,"RemoteStore shutting down."),r.Ea.add(5),await Cc(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dp.provider={build:()=>new dp};class og{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Sr="FirestoreClient";class KM{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=Pp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async h=>{de(Sr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(de(Sr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=eg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Lm(i,e){i.asyncQueue.verifyOperationInProgress(),de(Sr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await qA(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function g_(i,e){i.asyncQueue.verifyOperationInProgress();const n=await YM(i);de(Sr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>u_(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>u_(e.remoteStore,o))),i._onlineComponents=e}async function YM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(Sr,"Using user provided OfflineComponentProvider");try{await Lm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Lm(i,new Fd)}}else de(Sr,"Using default OfflineComponentProvider"),await Lm(i,new QM(void 0));return i._offlineComponents}async function oT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(Sr,"Using user provided OnlineComponentProvider"),await g_(i,i._uninitializedComponentsProvider._online)):(de(Sr,"Using default OnlineComponentProvider"),await g_(i,new dp))),i._onlineComponents}function XM(i){return oT(i).then((e=>e.syncEngine))}async function Gd(i){const e=await oT(i),n=e.eventManager;return n.onListen=OM.bind(null,e.syncEngine),n.onUnlisten=VM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=PM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jM.bind(null,e.syncEngine),n}function $M(i,e,n,r){const o=new og(r),c=new ig(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>tg(await Gd(i),c))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>ng(await Gd(i),c)))}}function JM(i,e,n={}){const r=new gi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,p,g){const E=new og({next:w=>{E.Nu(),h.enqueueAndForget((()=>ng(c,A)));const V=w.docs.has(m);!V&&w.fromCache?g.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&w.fromCache&&p&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new ig(ah(m.path),E,{includeMetadataChanges:!0,Ka:!0});return tg(c,A)})(await Gd(i),i.asyncQueue,e,n,r))),r.promise}function ZM(i,e,n={}){const r=new gi;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,m,p,g){const E=new og({next:w=>{E.Nu(),h.enqueueAndForget((()=>ng(c,A))),w.fromCache&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new ig(m,E,{includeMetadataChanges:!0,Ka:!0});return tg(c,A)})(await Gd(i),i.asyncQueue,e,n,r))),r.promise}function WM(i,e){const n=new gi;return i.asyncQueue.enqueueAndForget((async()=>LM(await XM(i),e,n))),n.promise}function lT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const eD="ComponentProvider",y_=new Map;function tD(i,e,n,r,o){return new _I(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,lT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const cT="firestore.googleapis.com",v_=!0;class b_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cT,this.ssl=v_}else this.host=e.host,this.ssl=e.ssl??v_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<N2)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new WC;switch(r.type){case"firstParty":return new aI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=y_.get(n);r&&(de(eD,"Removing Datastore"),y_.delete(n),r.terminate())})(this),Promise.resolve()}}function nD(i,e,n,r={}){i=An(i,hh);const o=Po(e),c=i._getSettings(),h={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(tE(`https://${m}`),nE("Firestore",!0)),c.host!==cT&&c.host!==m&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:o,emulatorOptions:r};if(!br(p,h)&&(i._setSettings(p),r.mockUserToken)){let g,E;if(typeof r.mockUserToken=="string")g=r.mockUserToken,E=on.MOCK_USER;else{g=iR(r.mockUserToken,i._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new on(A)}i._authCredentials=new eI(new JE(g,E))}}class Ir{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ir(this.firestore,e,this._query)}}class vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Rc(n,vt._jsonSchema))return new vt(e,r||null,new ve(ot.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Vt("string",vt._jsonSchemaVersion),referencePath:Vt("string")};class yr extends Ir{constructor(e,n,r){super(e,n,ah(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ve(e))}withConverter(e){return new yr(this.firestore,e,this._path)}}function Wt(i,e,...n){if(i=Ut(i),ZE("collection","path",e),i instanceof hh){const r=ot.fromString(e,...n);return Db(r),new yr(i,null,r)}{if(!(i instanceof vt||i instanceof yr))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ot.fromString(e,...n));return Db(r),new yr(i.firestore,null,r)}}function St(i,e,...n){if(i=Ut(i),arguments.length===1&&(e=Pp.newId()),ZE("doc","path",e),i instanceof hh){const r=ot.fromString(e,...n);return Mb(r),new vt(i,null,new ve(r))}{if(!(i instanceof vt||i instanceof yr))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ot.fromString(e,...n));return Mb(r),new vt(i.firestore,i instanceof yr?i.converter:null,new ve(r))}}const __="AsyncQueue";class E_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GA(this,"async_queue_retry"),this._c=()=>{const r=jm();r&&de(__,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!zo(e))throw e;de(__,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ai("INTERNAL UNHANDLED ERROR: ",A_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Wp.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:A_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function A_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class xi extends hh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new E_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E_(e),this._firestoreClient=void 0,await e}}}function aD(i,e){const n=typeof i=="object"?i:sE(),r=typeof i=="string"?i:jd,o=xp(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=nR("firestore");c&&nD(o,...c)}return o}function fh(i){if(i._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||iD(i),i._firestoreClient}function iD(i){const e=i._freezeSettings(),n=tD(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new KM(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(tn.fromBase64String(e))}catch(n){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $n(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rc(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Vt("string",$n._jsonSchemaVersion),bytes:Vt("string")};class lg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mc{constructor(e){this._methodName=e}}class qa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qa._jsonSchemaVersion}}static fromJSON(e){if(Rc(e,qa._jsonSchema))return new qa(e.latitude,e.longitude)}}qa._jsonSchemaVersion="firestore/geoPoint/1.0",qa._jsonSchema={type:Vt("string",qa._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class ha{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ha._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rc(e,ha._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ha(e.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ha._jsonSchemaVersion="firestore/vectorValue/1.0",ha._jsonSchema={type:Vt("string",ha._jsonSchemaVersion),vectorValues:Vt("object")};const rD=/^__.*__$/;class sD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Cr(e,this.data,this.fieldMask,n,this.fieldTransforms):new wc(e,this.data,n,this.fieldTransforms)}}class uT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Cr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:i})}}class mh{constructor(e,n,r,o,c,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new mh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Qd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(dT(this.dataSource)&&rD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class oD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ch(e)}createContext(e,n,r,o=!1){return new mh({dataSource:e,methodName:n,targetDoc:r,path:en.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ph(i){const e=i._freezeSettings(),n=ch(i._databaseId);return new oD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function hT(i,e,n,r,o,c={}){const h=i.createContext(c.merge||c.mergeFields?2:0,e,n,o);dg("Data must be an object, but it was:",h,r);const m=fT(r,h);let p,g;if(c.merge)p=new On(h.fieldMask),g=h.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const w=ys(e,A,n);if(!h.contains(w))throw new ce(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);gT(E,w)||E.push(w)}p=new On(E),g=h.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,g=h.fieldTransforms;return new sD(new En(m),p,g)}class gh extends Mc{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gh}}function lD(i,e,n){return new mh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:i._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class cg extends Mc{_toFieldTransform(e){return new wA(e.path,new gc)}isEqual(e){return e instanceof cg}}class ug extends Mc{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=lD(this,e,!0),r=this.Ac.map((c=>Ho(c,n))),o=new wo(r);return new wA(e.path,o)}isEqual(e){return e instanceof ug&&br(this.Ac,e.Ac)}}function cD(i,e,n,r){const o=i.createContext(1,e,n);dg("Data must be an object, but it was:",o,r);const c=[],h=En.empty();Nr(r,((p,g)=>{const E=pT(e,p,n);g=Ut(g);const A=o.childContextForFieldPath(E);if(g instanceof gh)c.push(E);else{const w=Ho(g,A);w!=null&&(c.push(E),h.set(E,w))}}));const m=new On(c);return new uT(h,m,o.fieldTransforms)}function uD(i,e,n,r,o,c){const h=i.createContext(1,e,n),m=[ys(e,r,n)],p=[o];if(c.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)m.push(ys(e,c[w])),p.push(c[w+1]);const g=[],E=En.empty();for(let w=m.length-1;w>=0;--w)if(!gT(g,m[w])){const V=m[w];let H=p[w];H=Ut(H);const z=h.childContextForFieldPath(V);if(H instanceof gh)g.push(V);else{const F=Ho(H,z);F!=null&&(g.push(V),E.set(V,F))}}const A=new On(g);return new uT(E,A,h.fieldTransforms)}function dD(i,e,n,r=!1){return Ho(n,i.createContext(r?4:3,e))}function Ho(i,e){if(mT(i=Ut(i)))return dg("Unsupported field value:",e,i),fT(i,e);if(i instanceof Mc)return(function(r,o){if(!dT(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let h=0;for(const m of r){let p=Ho(m,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),h++}return{arrayValue:{values:c}}})(i,e)}return(function(r,o){if((r=Ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ut.fromDate(r);return{timestampValue:Bd(o.serializer,c)}}if(r instanceof ut){const c=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bd(o.serializer,c)}}if(r instanceof qa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $n)return{bytesValue:OA(o.serializer,r._byteString)};if(r instanceof vt){const c=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(c))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Fp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ha)return(function(h,m){const p=h instanceof ha?h.toArray():h;return{mapValue:{fields:{[oA]:{stringValue:lA},[Ld]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Up(m.serializer,E)}))}}}}}})(r,o);if(UA(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Wd(r)}`)})(i,e)}function fT(i,e){const n={};return tA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(i,((r,o)=>{const c=Ho(o,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function mT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ut||i instanceof qa||i instanceof $n||i instanceof vt||i instanceof Mc||i instanceof ha||UA(i))}function dg(i,e,n){if(!mT(n)||!WE(n)){const r=Wd(n);throw r==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+r)}}function ys(i,e,n){if((e=Ut(e))instanceof lg)return e._internalPath;if(typeof e=="string")return pT(i,e);throw Qd("Field path arguments must be of type string or ",i,!1,void 0,n)}const hD=new RegExp("[~\\*/\\[\\]]");function pT(i,e,n){if(e.search(hD)>=0)throw Qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new lg(...e.split("."))._internalPath}catch{throw Qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Qd(i,e,n,r,o){const c=r&&!r.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||h)&&(p+=" (found",c&&(p+=` in field ${r}`),h&&(p+=` in document ${o}`),p+=")"),new ce(ee.INVALID_ARGUMENT,m+i+p)}function gT(i,e){return i.some((n=>n.isEqual(e)))}class fD{convertValue(e,n="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Nr(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[Ld].arrayValue?.values?.map((r=>xt(r.doubleValue)));return new ha(n)}convertGeoPoint(e){return new qa(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){const n=Er(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);$e(zA(r),9688,{name:e});const o=new fc(r.get(1),r.get(3)),c=new ve(r.popFirst(5));return o.isEqual(n)||Ai(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class hg extends fD{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function La(){return new cg("serverTimestamp")}function mD(...i){return new ug("arrayUnion",i)}const T_="@firebase/firestore",x_="4.10.0";function S_(i){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class yT{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ys("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pD extends yT{data(){return super.data()}}function vT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}class bT extends fg{}function yi(i,e,...n){let r=[];e instanceof fg&&r.push(e),r=r.concat(n),(function(c){const h=c.filter((p=>p instanceof mg)).length,m=c.filter((p=>p instanceof yh)).length;if(h>1||h>0&&m>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class yh extends bT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new yh(e,n,r)}_apply(e){const n=this._parse(e);return _T(e._query,n),new Ir(e.firestore,e.converter,tp(e._query,n))}_parse(e){const n=ph(e.firestore);return(function(c,h,m,p,g,E,A){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){w_(A,E);const H=[];for(const z of A)H.push(R_(p,c,z));w={arrayValue:{values:H}}}else w=R_(p,c,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||w_(A,E),w=dD(m,h,A,E==="in"||E==="not-in");return kt.create(g,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function vr(i,e,n){const r=e,o=ys("where",i);return yh._create(o,r,n)}class mg extends fg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ma.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let h=o;const m=c.getFlattenedFilters();for(const p of m)_T(h,p),h=tp(h,p)})(e._query,n),new Ir(e.firestore,e.converter,tp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pg extends bT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pg(e,n)}_apply(e){const n=(function(o,c,h){if(o.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pc(c,h)})(e._query,this._field,this._direction);return new Ir(e.firestore,e.converter,LI(e._query,n))}}function _o(i,e="asc"){const n=e,r=ys("orderBy",i);return pg._create(r,n)}function R_(i,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gA(e)&&n.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!ve.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ub(i,new ve(r))}if(n instanceof vt)return Ub(i,n._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wd(n)}.`)}function w_(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _T(i,e){const n=(function(o,c){for(const h of o)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ET(i,e,n){let r;return r=i?i.toFirestore(e):e,r}class Wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cs extends yT{constructor(e,n,r,o,c,h){super(e,n,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ys("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=cs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",cs._jsonSchema={type:Vt("string",cs._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Sd extends cs{data(e={}){return super.data(e)}}class us{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Sd(this._firestore,this._userDataWriter,r.key,r,new Wl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Sd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const p=new Sd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:gD(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=us._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:i})}}us._jsonSchemaVersion="firestore/querySnapshot/1.0",us._jsonSchema={type:Vt("string",us._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};function sc(i){i=An(i,vt);const e=An(i.firestore,xi),n=fh(e);return JM(n,i._key).then((r=>TT(e,i,r)))}function hp(i){i=An(i,Ir);const e=An(i.firestore,xi),n=fh(e),r=new hg(e);return vT(i._query),ZM(n,i._query).then((o=>new us(e,r,i,o)))}function AT(i,e,n){i=An(i,vt);const r=An(i.firestore,xi),o=ET(i.converter,e),c=ph(r);return vh(r,[hT(c,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Jn.none())])}function mo(i,e,n,...r){i=An(i,vt);const o=An(i.firestore,xi),c=ph(o);let h;return h=typeof(e=Ut(e))=="string"||e instanceof lg?uD(c,"updateDoc",i._key,e,n,r):cD(c,"updateDoc",i._key,e),vh(o,[h.toMutation(i._key,Jn.exists(!0))])}function ds(i){return vh(An(i.firestore,xi),[new Bp(i._key,Jn.none())])}function oc(i,e){const n=An(i.firestore,xi),r=St(i),o=ET(i.converter,e),c=ph(i.firestore);return vh(n,[hT(c,"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then((()=>r))}function vi(i,...e){i=Ut(i);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||S_(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(S_(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let c,h,m;if(i instanceof vt)h=An(i.firestore,xi),m=ah(i._key.path),c={next:g=>{e[r]&&e[r](TT(h,i,g))},error:e[r+1],complete:e[r+2]};else{const g=An(i,Ir);h=An(g.firestore,xi),m=g._query;const E=new hg(h);c={next:A=>{e[r]&&e[r](new us(h,E,g,A))},error:e[r+1],complete:e[r+2]},vT(i._query)}const p=fh(h);return $M(p,m,o,c)}function vh(i,e){const n=fh(i);return WM(n,e)}function TT(i,e,n){const r=n.docs.get(e._key),o=new hg(i);return new cs(i,o,e._key,r,new Wl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){ZC(ko),Eo(new hs("firestore",((r,{instanceIdentifier:o,options:c})=>{const h=r.getProvider("app").getImmediate(),m=new xi(new tI(r.getProvider("auth-internal")),new iI(h,r.getProvider("app-check-internal")),EI(h,o),h);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),pr(T_,x_,e),pr(T_,x_,"esm2020")})();const yD={apiKey:"AIzaSyB3p9kAAb0TJXvJMKzUS6pummdlkbzlt6I",authDomain:"fft12l.firebaseapp.com",projectId:"fft12l",storageBucket:"fft12l.firebasestorage.app",messagingSenderId:"459190857682",appId:"1:459190857682:web:d857f4bf1fa2e5ec11220b"},xT=rE(yD),et=$C(xT),Le=aD(xT),ST=(i,e)=>OE(et,i,e),vD="/FF-12Liberation/assets/chocobo-loading-CZsGc2ZM.gif",RT="/FF-12Liberation/assets/musica-tema-78rqvj_H.mp3",bD="/FF-12Liberation/assets/fundo-rpg-BXz1tR4K.jpg",Io=new Audio(RT);Io.loop=!0;function _D(){const i=Oo(),e=()=>{Io.play().then(()=>{console.log("ter musical sintonizado.")}).catch(n=>{console.log("Aguardando interao para liberar udio: ",n)}),i("/login")};return y.jsxs("div",{className:"landing-container",onClick:e,children:[y.jsxs("div",{className:"content",children:[y.jsx("h1",{className:"game-title",children:"FINAL FANTASY"}),y.jsx("h2",{className:"sub-title",children:"12 Libertao"}),y.jsx("div",{className:"press-start",children:"PRESS START"})]}),y.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .landing-container {
          height: 100vh;
          width: 100vw;
          display: flex;
          align-items: center;
          justify-content: center;
          /* Gradiente FF clssico sobre a imagem de fundo */
          background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), 
                      url(${bD}) no-repeat center center;
          background-size: cover; 
          cursor: pointer;
          position: fixed;
          top: 0;
          left: 0;
          z-index: 1000;
        }

        .content {
          text-align: center;
          /* Animao de entrada suave com blur */
          animation: fadeInSuave 4s ease-in-out; 
        }

        .game-title {
          font-size: clamp(30px, 8vw, 60px);
          letter-spacing: 8px;
          color: #fff;
          text-shadow: 3px 3px 5px #000, 0 0 20px rgba(0, 242, 255, 0.5);
          font-family: 'serif';
        }

        .sub-title {
          font-size: clamp(14px, 4vw, 24px);
          color: #ffcc00;
          margin-top: 10px;
          text-shadow: 1px 1px 3px #000;
          font-family: 'serif';
        }

        .press-start {
          margin-top: 80px;
          font-size: 20px;
          color: #fff;
          letter-spacing: 5px;
          text-shadow: 0 0 10px #00f2ff;
          /* Efeito pulsante clssico de menu */
          animation: blink 1.5s infinite;
          font-family: 'sans-serif';
        }

        @keyframes blink {
          0%, 100% { opacity: 0; }
          50% { opacity: 1; }
        }

        @keyframes fadeInSuave {
          from { opacity: 0; filter: blur(15px); transform: scale(0.9); }
          to { opacity: 1; filter: blur(0); transform: scale(1); }
        }
      `}})]})}const wT="/FF-12Liberation/assets/video-fundo-B5LPnOg0.mp4",ED="/FF-12Liberation/assets/botao-admin-T-iaDg61.png";function AD(){const i=Oo(),e=O.useRef(null),[n,r]=O.useState(null),[o,c]=O.useState(""),[h,m]=O.useState(""),[p,g]=O.useState(""),E=()=>{e.current&&(e.current.pause(),e.current.currentTime=0)};O.useEffect(()=>{if(e.current){e.current.volume=.1;const V=e.current.play();V!==void 0&&V.catch(H=>{console.log("Autoplay bloqueado pelo navegador (interao necessria):",H)})}return()=>{E()}},[]);const A=async V=>{V.preventDefault(),g("");try{const z=(await ST(o,h)).user,F=St(Le,"users",z.uid),ie=await sc(F);if(ie.exists()){const Q=ie.data();if(n==="master"&&Q.role!=="mestre"){g("ACESSO NEGADO: VOC NO  UM MESTRE.");return}if(E(),Q.role==="mestre")i("/mestre");else{const re=St(Le,"characters",z.uid);(await sc(re)).exists()?i("/jogador-vtt"):i("/create-character")}}else{const Q=St(Le,"characters",z.uid),re=await sc(Q);E(),re.exists()?i("/jogador-vtt"):i("/create-character")}}catch(H){console.error(H),g("FALHA NA CONEXO COM O TER.")}},w=()=>{E(),i("/admin-login")};return y.jsxs("div",{className:"login-container",children:[y.jsx("audio",{ref:e,loop:!0,children:y.jsx("source",{src:RT,type:"audio/mp3"})}),y.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:"background-video",children:y.jsx("source",{src:wT,type:"video/mp4"})}),y.jsx("div",{className:"content-overlay",children:n?y.jsxs("form",{className:"login-panel fade-in",onSubmit:A,children:[y.jsx("button",{type:"button",className:"ff-back",onClick:()=>r(null),children:" RETORNAR"}),y.jsx("h3",{className:"ff-subtitle",children:n==="master"?"NARRADOR":"JOGADOR"}),y.jsxs("div",{className:"ff-input-group",children:[y.jsx("input",{type:"email",placeholder:"E-MAIL",value:o,onChange:V=>c(V.target.value),required:!0}),y.jsx("input",{type:"password",placeholder:"SENHA",value:h,onChange:V=>m(V.target.value),required:!0})]}),p&&y.jsx("p",{className:"ff-error",children:p}),y.jsx("button",{type:"submit",className:"ff-submit",children:"ENTRAR"})]}):y.jsxs("div",{className:"selection-screen fade-in",children:[y.jsx("h2",{className:"ff-title",children:"ESCOLHA SUA JORNADA"}),y.jsxs("div",{className:"ff-button-group",children:[y.jsx("button",{className:"ff-btn",onClick:()=>r("player"),children:"JOGADOR"}),y.jsx("button",{className:"ff-btn",onClick:()=>r("master"),children:"NARRADOR"})]})]})}),y.jsx("button",{className:"admin-portal-btn",onClick:w,title:"Acesso ao Narrador",children:y.jsx("img",{src:ED,alt:"Portal Admin"})}),y.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .login-container {
          height: 100vh;
          width: 100vw;
          background: #000;
          display: flex;
          align-items: center;
          justify-content: center;
          overflow: hidden;
          position: relative;
        }

        .background-video {
          position: absolute;
          top: 50%;
          left: 50%;
          min-width: 100%;
          min-height: 100%;
          width: auto;
          height: auto;
          z-index: 1; 
          transform: translate(-50%, -50%);
          object-fit: cover;
          animation: quickLoopFade 0.5s ease-in-out;
        }

        @keyframes quickLoopFade {
          0% { opacity: 0; }
          100% { opacity: 1; }
        }

        .content-overlay {
          position: relative;
          z-index: 10;
          display: flex;
          align-items: center;
          justify-content: center;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.4);
        }

        .ff-title { 
          color: #fff; 
          font-size: 32px; 
          letter-spacing: 8px; 
          margin-bottom: 40px; 
          text-shadow: 0 0 15px rgba(255, 255, 255, 0.5); 
          text-align: center;
          font-family: 'serif'; 
        }

        .ff-subtitle { color: #ffcc00; letter-spacing: 4px; margin-bottom: 30px; text-align: center; }
        .ff-button-group { display: flex; flex-direction: column; gap: 20px; align-items: center; }
        
        /* Botes Iniciais */
        .ff-btn {
          background: rgba(0, 0, 30, 0.6); 
          border: 1px solid rgba(255, 255, 255, 0.6);
          color: #fff;
          padding: 15px 50px;
          letter-spacing: 3px;
          cursor: pointer;
          transition: 0.4s;
          width: 280px;
          backdrop-filter: blur(5px);
          font-weight: bold;
        }

        /* Boto de Entrar (Ajustado para igualar a largura dos inputs) */
        .ff-submit {
          background: rgba(0, 0, 30, 0.6); 
          border: 1px solid rgba(255, 255, 255, 0.6);
          color: #fff;
          padding: 15px 0; /* padding lateral removido para usar width */
          letter-spacing: 3px;
          cursor: pointer;
          transition: 0.4s;
          width: 326px; /* 300px input + 24px padding + 2px border */
          backdrop-filter: blur(5px);
          font-weight: bold;
          margin: 0 auto;
          display: block;
        }

        .ff-btn:hover, .ff-submit:hover { 
          background: #fff; 
          color: #000; 
          box-shadow: 0 0 20px #fff; 
        }

        .ff-input-group input {
          display: block; 
          width: 300px; 
          padding: 12px; 
          margin: 0 auto 20px auto;
          background: rgba(0, 0, 0, 0.7); 
          border: 1px solid #444;
          color: #fff; 
          text-align: center; 
          letter-spacing: 2px; 
          outline: none;
        }

        .ff-input-group input:focus { border-color: #ffcc00; }
        .ff-back { background: none; border: none; color: #ffcc00; cursor: pointer; margin-bottom: 15px; display: block; font-weight: bold; }
        .ff-error { color: #ff4444; font-size: 12px; margin-bottom: 15px; text-shadow: 0 0 5px #000; text-align: center; }

        .admin-portal-btn {
          position: absolute;
          bottom: 30px;
          right: 30px;
          z-index: 100;
          background: none;
          border: none;
          cursor: pointer;
          width: 70px;
          transition: 0.5s;
          filter: drop-shadow(0 0 8px rgba(0, 242, 255, 0.6));
        }

        .admin-portal-btn img { width: 100%; height: auto; }
        .admin-portal-btn:hover { transform: scale(1.2) rotate(-5deg); filter: drop-shadow(0 0 15px #00f2ff); }

        .fade-in { animation: fadeInFF 2s ease-out forwards; }

        @keyframes fadeInFF {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `}})]})}function TD(){const[i,e]=O.useState(""),[n,r]=O.useState(""),[o,c]=O.useState(""),h=Oo(),m=async p=>{if(p.preventDefault(),i!=="fffvtt10@gmail.com"){c("VOC NO TEM PERMISSO DE NARRADOR.");return}try{await OE(et,i,n),h("/admin")}catch{c("SENHA INCORRETA PARA O MESTRE.")}};return y.jsxs("div",{className:"login-container",children:[y.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"background-video",children:y.jsx("source",{src:wT,type:"video/mp4"})}),y.jsx("div",{className:"content-overlay",children:y.jsxs("form",{className:"login-panel fade-in",onSubmit:m,children:[y.jsx("button",{type:"button",className:"ff-back",onClick:()=>h("/"),children:" RETORNAR"}),y.jsx("h3",{className:"ff-subtitle",children:"PORTAL DO ADMINISTRADOR"}),y.jsxs("div",{className:"ff-input-group",children:[y.jsx("input",{type:"email",placeholder:"E-MAIL",value:i,onChange:p=>e(p.target.value),required:!0}),y.jsx("input",{type:"password",placeholder:"CHAVE DE ACESSO",value:n,onChange:p=>r(p.target.value),required:!0})]}),o&&y.jsx("p",{className:"ff-error",children:o}),y.jsx("button",{type:"submit",className:"ff-submit",children:"DESBLOQUEAR"})]})}),y.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .login-container { height: 100vh; width: 100vw; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; background: #000; }
        .background-video { position: absolute; top: 50%; left: 50%; min-width: 100%; min-height: 100%; transform: translate(-50%, -50%); object-fit: cover; z-index: 1; }
        .content-overlay { position: relative; z-index: 10; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.5); }
        .login-panel { 
          background: rgba(0, 0, 30, 0.7); 
          padding: 40px; 
          border: 1px solid #00f2ff; 
          backdrop-filter: blur(10px); 
          text-align: center;
          box-shadow: 0 0 20px rgba(0, 242, 255, 0.2);
        }
        .ff-subtitle { color: #ffcc00; letter-spacing: 4px; margin-bottom: 20px; }
        input { display: block; width: 280px; padding: 12px; margin: 10px auto; background: rgba(0,0,0,0.8); border: 1px solid #444; color: #fff; text-align: center; outline: none; }
        input:focus { border-color: #00f2ff; }
        .ff-submit { background: transparent; border: 1px solid #fff; color: #fff; padding: 12px 40px; cursor: pointer; transition: 0.3s; width: 100%; letter-spacing: 2px; }
        .ff-submit:hover { background: #fff; color: #000; box-shadow: 0 0 15px #fff; }
        .ff-back { background: none; border: none; color: #ffcc00; cursor: pointer; margin-bottom: 10px; }
        .fade-in { animation: fadeInFF 1.5s ease-out; }
        @keyframes fadeInFF { from { opacity: 0; } to { opacity: 1; } }
      `}})]})}function xD(){const[i,e]=O.useState([]),[n,r]=O.useState([]),[o,c]=O.useState(""),[h,m]=O.useState(""),[p,g]=O.useState("jogador"),[E,A]=O.useState("");O.useEffect(()=>{Io&&Io.pause()},[]),O.useEffect(()=>{w()},[]);const w=async()=>{try{const re=(await hp(Wt(Le,"users"))).docs.map(ae=>({id:ae.id,...ae.data()})).filter(ae=>ae.email!=="fffvtt10@gmail.com"),be=(await hp(Wt(Le,"characters"))).docs.map(ae=>({id:ae.id,...ae.data()}));e(re),r(be)}catch(Q){console.error("Erro ao carregar dados do ter: ",Q)}},V=async Q=>{Q.preventDefault();const re="fffvtt10@gmail.com",me="SUA_SENHA_AQUI";try{const ae=(await PN(et,o,h)).user;await AT(St(Le,"users",ae.uid),{email:o,role:p,active:!0,createdAt:new Date}),alert("Usurio invocado! Reconectando Admin..."),await ST(re,me),c(""),m(""),w()}catch(be){alert("Erro no processo (Verifique a senha no cdigo!): "+be.message)}},H=async(Q,re)=>{if(window.confirm(`Deseja banir permanentemente ${re} do ter?`))try{await ds(St(Le,"users",Q)),await ds(St(Le,"characters",Q)),alert("Conta e personagem banidos com sucesso."),w()}catch(me){alert("Erro ao banir usurio: "+me.message)}},z=async Q=>{if(window.confirm("Tem certeza que deseja apagar APENAS o personagem deste usurio? Ele ter que criar outro."))try{await ds(St(Le,"characters",Q)),alert("Personagem deletado. O usurio continua ativo."),w()}catch(re){alert("Erro ao deletar personagem: "+re.message)}},F=Q=>{const re=n.find(me=>me.uid===Q);return re||null},ie=async()=>{if(E.length<6)return alert("A senha deve ter no mnimo 6 caracteres.");try{await kN(et.currentUser,E),alert("Sua chave de mestre foi alterada!"),A("")}catch{alert("Erro ao trocar senha. Tente fazer login novamente.")}};return y.jsxs("div",{className:"admin-dashboard",children:[y.jsx("div",{className:"ether-vortex"}),y.jsxs("div",{className:"admin-content",children:[y.jsx("h1",{className:"main-title",children:"GESTO DO TER SUPREMO"}),y.jsxs("div",{className:"cards-grid",children:[y.jsxs("div",{className:"ff-card fade-in",children:[y.jsx("h3",{children:"INVOCAR NOVA CONTA"}),y.jsxs("form",{onSubmit:V,children:[y.jsx("input",{type:"email",placeholder:"E-mail do Alvo",value:o,onChange:Q=>c(Q.target.value),required:!0}),y.jsx("input",{type:"password",placeholder:"Definir Senha Inicial",value:h,onChange:Q=>m(Q.target.value),required:!0}),y.jsxs("select",{value:p,onChange:Q=>g(Q.target.value),children:[y.jsx("option",{value:"jogador",children:"JOGADOR"}),y.jsx("option",{value:"mestre",children:"MESTRE"})]}),y.jsx("button",{type:"submit",children:"CRIAR ACESSO"})]})]}),y.jsxs("div",{className:"ff-card fade-in",children:[y.jsx("h3",{children:"VIAJANTES E MESTRES"}),y.jsx("div",{className:"list-box",children:i.map(Q=>{const re=F(Q.id);return y.jsxs("div",{className:"item",children:[y.jsxs("div",{style:{flex:1},children:[y.jsx("span",{className:`badge ${Q.role}`,children:Q.role.toUpperCase()}),y.jsx("p",{className:"email-text",children:Q.email}),re&&y.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"4px"},children:[y.jsxs("span",{style:{fontSize:"10px",color:"#ffcc00",marginRight:"10px"},children:[" ",re.name," (",re.class,")"]}),y.jsx("button",{className:"btn-mini-del",onClick:()=>z(Q.id),title:"Apagar Personagem",children:" Excluir Char"})]})]}),y.jsxs("div",{className:"btn-group",children:[y.jsx("button",{onClick:()=>{ON(et,Q.email),alert("E-mail de reset enviado.")},children:"RESET"}),y.jsx("button",{className:"del",onClick:()=>H(Q.id,Q.email),children:"BANIR"})]})]},Q.id)})})]}),y.jsxs("div",{className:"ff-card fade-in",children:[y.jsx("h3",{children:"MINHA CHAVE DE ADMIN"}),y.jsx("input",{type:"password",placeholder:"Nova Senha",value:E,onChange:Q=>A(Q.target.value)}),y.jsx("button",{onClick:ie,children:"TROCAR MINHA SENHA"})]})]})]}),y.jsx("style",{children:`
        .admin-dashboard { background: radial-gradient(circle at center, #001a33 0%, #000000 100%); min-height: 100vh; color: #fff; font-family: 'Segoe UI', sans-serif; position: relative; overflow: hidden; }
        .ether-vortex { content: ""; position: absolute; top: -100%; left: -100%; width: 300%; height: 300%; background: conic-gradient(from 0deg, transparent, rgba(0, 242, 255, 0.08), transparent); animation: rotateEther 30s linear infinite; z-index: 0; pointer-events: none; }
        @keyframes rotateEther { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .admin-content { position: relative; z-index: 1; padding: 40px; }
        .main-title { color: #ffcc00; text-align: center; letter-spacing: 5px; margin-bottom: 50px; text-shadow: 0 0 10px #ffcc00; }
        .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 30px; }
        .ff-card { background: rgba(0, 10, 30, 0.85); border: 1px solid rgba(0, 242, 255, 0.5); padding: 25px; border-radius: 8px; box-shadow: 0 0 20px rgba(0,242,255,0.1); backdrop-filter: blur(10px); }
        h3 { color: #00f2ff; font-size: 14px; border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 20px; }
        .item { display: flex; justify-content: space-between; align-items: flex-start; padding: 10px 0; border-bottom: 1px solid #111; }
        .email-text { font-size: 11px; color: #ccc; margin: 2px 0; overflow: hidden; text-overflow: ellipsis; }
        .badge { font-size: 9px; padding: 2px 6px; border-radius: 3px; font-weight: bold; color: #000; }
        .badge.mestre { background: #ffcc00; }
        .badge.jogador { background: #00f2ff; }
        .btn-group { display: flex; gap: 8px; align-items: center; }
        input, select { background: rgba(0,0,0,0.8); border: 1px solid #444; color: #fff; padding: 12px; width: 100%; margin-bottom: 15px; outline: none; transition: 0.3s; }
        input:focus { border-color: #ffcc00; }
        button { background: transparent; border: 1px solid #00f2ff; color: #fff; padding: 8px 15px; cursor: pointer; transition: 0.3s; font-size: 11px; }
        button:hover { background: #fff; color: #000; box-shadow: 0 0 10px #fff; }
        button.del { border-color: #ff4444; color: #ff4444; }
        button.del:hover { background: #ff4444; color: white; border-color: #ff4444; }
        .btn-mini-del { padding: 2px 6px; font-size: 9px; border-color: #ff4444; color: #ff4444; margin-left: 0; }
        .btn-mini-del:hover { background: #ff4444; color: #fff; }
        .list-box { max-height: 250px; overflow-y: auto; }
        .list-box::-webkit-scrollbar { width: 4px; }
        .list-box::-webkit-scrollbar-thumb { background: #00f2ff; }
        .fade-in { animation: fadeIn 1.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
      `})]})}const SD="/FF-12Liberation/assets/fundo-mestre-OTxRyTTC.jpg",fp="/FF-12Liberation/assets/sanchez-1nilABmc.jpeg",NT="/FF-12Liberation/assets/papiro-CRka9pgw.png",RD="/FF-12Liberation/assets/bazar-DZ7p321B.png";function CT({isMestre:i}){const[e,n]=O.useState(!1),[r,o]=O.useState([]),[c,h]=O.useState([]),[m,p]=O.useState(""),[g,E]=O.useState(null),[A,w]=O.useState(""),[V,H]=O.useState({nome:"",descricao:"",imagem:"",valorGil:"",valorReal:""});O.useEffect(()=>{if(!e)return;const ae=yi(Wt(Le,"game_items"),vr("status","==","bazar"),_o("updatedAt","desc")),N=vi(ae,x=>{o(x.docs.map(R=>({id:R.id,...R.data()})))});return()=>N()},[e]),O.useEffect(()=>{if(!e||!i)return;const ae=yi(Wt(Le,"game_items"),vr("status","==","vault"),_o("nome","asc")),N=vi(ae,x=>{h(x.docs.map(R=>({id:R.id,...R.data()})))});return()=>N()},[e,i]);const z=ae=>{const N=ae.target.value;if(w(N),!N)return;const x=c.find(R=>R.id===N);x&&H({...V,nome:x.nome,descricao:x.descricao,imagem:x.imagem,valorGil:"",valorReal:""})},F=async ae=>{if(ae.preventDefault(),!V.nome||!V.valorGil)return alert("Preencha nome e valor em Gil!");try{const N={...V,updatedAt:La()};g?(await mo(St(Le,"game_items",g),N),E(null)):A?(await mo(St(Le,"game_items",A),{...N,status:"bazar"}),w("")):await oc(Wt(Le,"game_items"),{...N,status:"bazar",ownerId:null,createdAt:La()}),H({nome:"",descricao:"",imagem:"",valorGil:"",valorReal:""})}catch{alert("Erro ao salvar item no Bazar.")}},ie=async ae=>{window.confirm("Remover do mercado? O item voltar para a Forja.")&&await mo(St(Le,"game_items",ae),{status:"vault",updatedAt:La()})},Q=async ae=>{if(!et.currentUser)return alert("Voc precisa estar logado.");if(window.confirm(`Comprar "${ae.nome}" por ${ae.valorGil} Gil?`))try{await mo(St(Le,"game_items",ae.id),{status:"inventory",ownerId:et.currentUser.uid,updatedAt:La()}),alert(`Voc comprou ${ae.nome}! O item foi para seu inventrio.`)}catch{alert("Erro na transao.")}},re=ae=>{E(ae.id),w(""),H(ae)},me=()=>{E(null),w(""),H({nome:"",descricao:"",imagem:"",valorGil:"",valorReal:""})},be=r.filter(ae=>ae.nome.toLowerCase().includes(m.toLowerCase()));return y.jsxs(y.Fragment,{children:[y.jsx("button",{className:"bazar-trigger-btn",onClick:()=>n(!0),title:"Abrir Bazar",children:y.jsx("img",{src:RD,alt:"Bazar",onError:ae=>{ae.target.style.display="none",ae.target.parentNode.innerText="BAZAR"}})}),e&&y.jsx("div",{className:"bazar-overlay-flex",onClick:()=>n(!1),children:y.jsxs("div",{className:"bazar-modal-centered",onClick:ae=>ae.stopPropagation(),children:[y.jsxs("div",{className:"bazar-header",children:[y.jsx("h2",{children:"MERCADO NEGRO"}),y.jsx("button",{className:"close-btn",onClick:()=>n(!1),children:""})]}),i&&y.jsx("div",{className:"mestre-panel",children:y.jsxs("form",{onSubmit:F,className:"bazar-form",children:[!g&&y.jsx("div",{className:"row",style:{marginBottom:"10px"},children:y.jsxs("select",{className:"bazar-input",onChange:z,value:A,children:[y.jsx("option",{value:"",children:" Selecionar Item do Cofre (Forja)..."}),c.map(ae=>y.jsx("option",{value:ae.id,children:ae.nome},ae.id))]})}),y.jsxs("div",{className:"row",children:[y.jsx("input",{placeholder:"Nome do Item",value:V.nome,onChange:ae=>H({...V,nome:ae.target.value}),className:"bazar-input",readOnly:!!A&&!g}),y.jsx("input",{placeholder:"Link Imagem",value:V.imagem,onChange:ae=>H({...V,imagem:ae.target.value}),className:"bazar-input"})]}),y.jsxs("div",{className:"row",children:[y.jsx("input",{placeholder:"Valor Gil",type:"number",value:V.valorGil,onChange:ae=>H({...V,valorGil:ae.target.value}),className:"bazar-input",required:!0}),y.jsx("input",{placeholder:"Valor Real (R$)",type:"number",value:V.valorReal,onChange:ae=>H({...V,valorReal:ae.target.value}),className:"bazar-input"})]}),y.jsx("textarea",{placeholder:"Descrio do item...",value:V.descricao,onChange:ae=>H({...V,descricao:ae.target.value}),className:"bazar-input area"}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"submit",className:"btn-save",children:g?"SALVAR ALTERAES":A?"COLOCAR  VENDA":"CRIAR E VENDER"}),(g||A)&&y.jsx("button",{type:"button",onClick:me,className:"btn-cancel",children:"CANCELAR"})]})]})}),y.jsx("div",{className:"search-bar-container",children:y.jsx("input",{type:"text",placeholder:" Procurar mercadoria...",value:m,onChange:ae=>p(ae.target.value),className:"search-input"})}),y.jsxs("div",{className:"bazar-grid",children:[be.map(ae=>y.jsxs("div",{className:"bazar-item-card",children:[y.jsx("div",{className:"item-img",style:{backgroundImage:`url(${ae.imagem||"https://via.placeholder.com/150?text=Item"})`}}),y.jsxs("div",{className:"item-info",children:[y.jsx("h4",{children:ae.nome}),y.jsx("p",{className:"desc",children:ae.descricao}),y.jsxs("div",{className:"prices",children:[y.jsxs("span",{className:"price-tag gil",children:[" ",ae.valorGil," G"]}),ae.valorReal&&y.jsxs("span",{className:"price-tag real",children:[" R$ ",ae.valorReal]})]})]}),y.jsx("div",{className:"item-actions",children:i?y.jsxs(y.Fragment,{children:[y.jsx("button",{className:"btn-icon edit",onClick:()=>re(ae),title:"Editar Preo",children:""}),y.jsx("button",{className:"btn-icon delete",onClick:()=>ie(ae.id),title:"Devolver para a Forja",children:""})]}):y.jsx("button",{className:"btn-buy",onClick:()=>Q(ae),children:"COMPRAR"})})]},ae.id)),be.length===0&&y.jsx("p",{className:"empty-msg",children:"Nenhum item  venda no momento."})]})]})}),y.jsx("style",{children:`
        .bazar-trigger-btn { position: fixed; bottom: 30px; right: 30px; width: 70px; height: 70px; border-radius: 50%; border: 2px solid #ffcc00; background: #000; cursor: pointer; z-index: 9999; transition: transform 0.2s, box-shadow 0.2s; padding: 0; display: flex; align-items: center; justify-content: center; }
        .bazar-trigger-btn:hover { transform: scale(1.1); box-shadow: 0 0 25px #ffcc00; }
        .bazar-trigger-btn img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }

        /* NOVO CSS PARA CENTRALIZAR O MODAL SEM CORTAR */
        .bazar-overlay-flex { 
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; 
            background: rgba(0,0,0,0.85); z-index: 100000; 
            display: flex; align-items: center; justify-content: center; 
            backdrop-filter: blur(5px); 
        }
        .bazar-modal-centered { 
            width: 800px; max-width: 95vw; 
            height: 750px; max-height: 90vh; /* Garante que cabe na tela */
            background: #0d0d15; border: 1px solid #ffcc00; 
            display: flex; flex-direction: column; 
            box-shadow: 0 0 50px rgba(0,0,0,0.8); border-radius: 8px; 
            overflow: hidden; 
        }

        .bazar-header { background: linear-gradient(90deg, #1a1a1a, #000); padding: 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #ffcc00; }
        .bazar-header h2 { margin: 0; color: #ffcc00; font-family: serif; letter-spacing: 2px; text-shadow: 0 0 10px #ffcc00; font-size: 24px; }
        .close-btn { background: transparent; border: none; color: #fff; font-size: 30px; cursor: pointer; }

        .mestre-panel { background: rgba(255, 204, 0, 0.05); padding: 15px; border-bottom: 1px solid #333; }
        .bazar-form { display: flex; flex-direction: column; gap: 10px; }
        .bazar-form .row { display: flex; gap: 10px; }
        .bazar-input { background: #000; border: 1px solid #444; color: #fff; padding: 10px; flex: 1; outline: none; font-family: serif; }
        .bazar-input.area { height: 60px; resize: none; }
        .form-actions { display: flex; gap: 10px; }
        .btn-save { flex: 1; background: #ffcc00; border: none; padding: 10px; font-weight: bold; cursor: pointer; color: #000; }
        .btn-cancel { background: #333; color: #fff; border: 1px solid #555; padding: 10px; cursor: pointer; }

        .search-bar-container { padding: 15px; background: #000; border-bottom: 1px solid #333; }
        .search-input { width: 100%; background: #111; border: 1px solid #444; color: #fff; padding: 12px; border-radius: 20px; text-align: center; outline: none; font-size: 16px; }

        .bazar-grid { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; scrollbar-width: none; -ms-overflow-style: none; }
        .bazar-grid::-webkit-scrollbar { display: none; }

        .bazar-item-card { background: linear-gradient(90deg, rgba(20,20,30,0.9), rgba(0,0,0,0.8)); border: 1px solid #444; display: flex; align-items: center; padding: 10px; border-radius: 4px; transition: 0.2s; }
        .bazar-item-card:hover { border-color: #00f2ff; box-shadow: 0 0 15px rgba(0, 242, 255, 0.1); }
        
        .item-img { width: 80px; height: 80px; background-size: cover; background-position: center; border: 1px solid #666; margin-right: 15px; border-radius: 4px; background-color: #000; }
        .item-info { flex: 1; }
        .item-info h4 { margin: 0 0 5px 0; color: #fff; font-size: 18px; letter-spacing: 1px; }
        .item-info .desc { margin: 0 0 10px 0; color: #aaa; font-size: 12px; font-style: italic; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        
        .prices { display: flex; gap: 10px; }
        .price-tag { padding: 4px 8px; border-radius: 3px; font-weight: bold; font-size: 12px; }
        .price-tag.gil { background: rgba(255,255,0,0.1); color: #ffcc00; border: 1px solid #ffcc00; }
        .price-tag.real { background: rgba(0, 242, 255, 0.1); color: #00f2ff; border: 1px solid #00f2ff; }

        .item-actions { display: flex; gap: 8px; align-items: center; margin-left: 15px; }
        .btn-buy { background: #00f2ff; color: #000; border: none; padding: 10px 20px; font-weight: bold; cursor: pointer; clip-path: polygon(10% 0, 100% 0, 100% 70%, 90% 100%, 0 100%, 0 30%); transition: 0.2s; }
        .btn-buy:hover { background: #fff; box-shadow: 0 0 15px #00f2ff; }
        
        .btn-icon { background: transparent; border: 1px solid #444; color: #fff; padding: 8px; cursor: pointer; border-radius: 4px; font-size: 16px; }
        .btn-icon:hover { background: #fff; color: #000; }
        .btn-icon.delete:hover { background: #f44; border-color: #f44; color: #fff; }
        .empty-msg { text-align: center; color: #666; margin-top: 50px; font-style: italic; }
      `})]})}const wD="/FF-12Liberation/assets/forja-Dr7AylP_.png";function ND(){const[i,e]=O.useState(!1),[n,r]=O.useState([]),[o,c]=O.useState(""),[h,m]=O.useState(null),[p,g]=O.useState({nome:"",descricao:"",imagem:""});O.useEffect(()=>{if(!i)return;const z=yi(Wt(Le,"game_items"),vr("status","==","vault"),_o("createdAt","desc")),F=vi(z,ie=>{r(ie.docs.map(Q=>({id:Q.id,...Q.data()})))});return()=>F()},[i]);const E=async z=>{if(z.preventDefault(),!p.nome)return alert("O item precisa de um nome!");try{const F={...p,updatedAt:La()};h?(await mo(St(Le,"game_items",h),F),m(null)):await oc(Wt(Le,"game_items"),{...F,status:"vault",ownerId:null,valorGil:0,createdAt:La()}),g({nome:"",descricao:"",imagem:""})}catch(F){alert("Erro ao forjar item."),console.error(F)}},A=async z=>{window.confirm("ATENO: Isso destruir o item permanentemente. Deseja continuar?")&&await ds(St(Le,"game_items",z))},w=z=>{m(z.id),g(z)},V=()=>{m(null),g({nome:"",descricao:"",imagem:""})},H=n.filter(z=>z.nome.toLowerCase().includes(o.toLowerCase()));return y.jsxs(y.Fragment,{children:[y.jsx("button",{className:"forja-trigger-btn",onClick:()=>e(!0),title:"Abrir Forja",children:y.jsx("img",{src:wD,alt:"Forja",onError:z=>{z.target.style.display="none",z.target.parentNode.innerText="FORJA"}})}),i&&y.jsx("div",{className:"forja-overlay",onClick:()=>e(!1),children:y.jsxs("div",{className:"forja-modal",onClick:z=>z.stopPropagation(),children:[y.jsxs("div",{className:"forja-header",children:[y.jsx("h2",{children:"A FORJA ANTIGA"}),y.jsx("button",{className:"close-btn",onClick:()=>e(!1),children:""})]}),y.jsxs("div",{className:"mestre-panel-forja",children:[y.jsx("h4",{style:{color:"#f44",margin:"0 0 10px 0"},children:"FORJAR NOVO ARTEFATO"}),y.jsxs("form",{onSubmit:E,className:"forja-form",children:[y.jsxs("div",{className:"row",children:[y.jsx("input",{placeholder:"Nome do Artefato",value:p.nome,onChange:z=>g({...p,nome:z.target.value}),className:"forja-input"}),y.jsx("input",{placeholder:"URL da Imagem (Imgur)",value:p.imagem,onChange:z=>g({...p,imagem:z.target.value}),className:"forja-input"})]}),y.jsx("textarea",{placeholder:"Descrio detalhada e lore do item...",value:p.descricao,onChange:z=>g({...p,descricao:z.target.value}),className:"forja-input area"}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"submit",className:"btn-forjar",children:h?"REFUNDIR (SALVAR)":"FORJAR ITEM"}),h&&y.jsx("button",{type:"button",onClick:V,className:"btn-cancel",children:"CANCELAR"})]})]})]}),y.jsx("div",{className:"search-bar-container-forja",children:y.jsx("input",{type:"text",placeholder:" Buscar nos arquivos da forja...",value:o,onChange:z=>c(z.target.value),className:"search-input-forja"})}),y.jsxs("div",{className:"forja-grid",children:[H.map(z=>y.jsxs("div",{className:"forja-item-card",children:[y.jsx("div",{className:"item-img",style:{backgroundImage:`url(${z.imagem||"https://via.placeholder.com/150?text=?"})`}}),y.jsxs("div",{className:"item-info",children:[y.jsx("h4",{children:z.nome}),y.jsx("p",{className:"desc",children:z.descricao}),y.jsx("small",{style:{color:"#666"},children:"Status: Cofre"})]}),y.jsxs("div",{className:"item-actions",children:[y.jsx("button",{className:"btn-icon edit",onClick:()=>w(z),title:"Editar",children:""}),y.jsx("button",{className:"btn-icon delete",onClick:()=>A(z.id),title:"Destruir",children:""})]})]},z.id)),H.length===0&&y.jsx("p",{className:"empty-msg",children:"A forja est fria. Nenhum item no cofre."})]})]})}),y.jsx("style",{children:`
        .forja-trigger-btn {
          position: fixed; bottom: 30px; right: 110px; width: 70px; height: 70px;
          border-radius: 50%; border: 2px solid #f44; background: #000; cursor: pointer; z-index: 9999;
          transition: transform 0.2s, box-shadow 0.2s; padding: 0; display: flex; align-items: center; justify-content: center;
          color: #f44; font-weight: bold; font-size: 10px;
        }
        .forja-trigger-btn:hover { transform: scale(1.1); box-shadow: 0 0 20px #f44; }
        .forja-trigger-btn img { width: 80%; height: 80%; object-fit: contain; }

        .forja-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.9); z-index: 100000; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
        .forja-modal { width: 800px; max-height: 90vh; background: #150a0a; border: 1px solid #f44; display: flex; flex-direction: column; box-shadow: 0 0 50px rgba(255, 68, 68, 0.2); border-radius: 8px; overflow: hidden; }

        .forja-header { background: linear-gradient(90deg, #2a0e0e, #000); padding: 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #f44; }
        .forja-header h2 { margin: 0; color: #f44; font-family: serif; letter-spacing: 2px; text-shadow: 0 0 10px #f44; font-size: 24px; }
        .close-btn { background: transparent; border: none; color: #fff; font-size: 30px; cursor: pointer; }

        .mestre-panel-forja { background: rgba(255, 68, 68, 0.05); padding: 20px; border-bottom: 1px solid #333; }
        .forja-form { display: flex; flex-direction: column; gap: 10px; }
        .forja-form .row { display: flex; gap: 10px; }
        .forja-input { background: #000; border: 1px solid #522; color: #fff; padding: 10px; flex: 1; outline: none; font-family: serif; }
        .forja-input:focus { border-color: #f44; }
        .forja-input.area { height: 80px; resize: none; }
        
        .btn-forjar { flex: 1; background: #f44; border: none; padding: 12px; font-weight: bold; cursor: pointer; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        .btn-forjar:hover { background: #d00; box-shadow: 0 0 10px #d00; }
        .btn-cancel { background: #333; color: #fff; border: 1px solid #555; padding: 10px; cursor: pointer; }

        .search-bar-container-forja { padding: 15px; background: #000; border-bottom: 1px solid #333; }
        .search-input-forja { width: 100%; background: #111; border: 1px solid #522; color: #fff; padding: 12px; border-radius: 20px; text-align: center; outline: none; font-size: 16px; }

        .forja-grid { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; scrollbar-width: none; -ms-overflow-style: none; }
        .forja-grid::-webkit-scrollbar { display: none; }

        .forja-item-card { background: linear-gradient(90deg, rgba(40,10,10,0.9), rgba(0,0,0,0.8)); border: 1px solid #522; display: flex; align-items: center; padding: 10px; border-radius: 4px; transition: 0.2s; }
        .forja-item-card:hover { border-color: #f44; }
        
        .item-img { width: 70px; height: 70px; background-size: cover; background-position: center; border: 1px solid #633; margin-right: 15px; border-radius: 4px; background-color: #000; }
        .item-info { flex: 1; }
        .item-info h4 { margin: 0 0 5px 0; color: #fff; font-size: 18px; }
        .item-info .desc { margin: 0; color: #aaa; font-size: 12px; font-style: italic; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }

        .item-actions { display: flex; gap: 8px; margin-left: 15px; }
        .btn-icon { background: transparent; border: 1px solid #444; color: #fff; padding: 8px; cursor: pointer; border-radius: 4px; }
        .btn-icon:hover { background: #fff; color: #000; }
        .btn-icon.delete:hover { background: #f44; border-color: #f44; color: #fff; }
        
        .empty-msg { text-align: center; color: #666; margin-top: 50px; font-style: italic; }
      `})]})}const N_=({expiry:i})=>{const[e,n]=O.useState("");return O.useEffect(()=>{const r=setInterval(()=>{const o=new Date().getTime(),c=new Date(i).getTime()-o;if(c<0)n("EXPIRADA"),clearInterval(r);else{const h=Math.floor(c/864e5),m=Math.floor(c%(1e3*60*60*24)/(1e3*60*60)),p=Math.floor(c%(1e3*60*60)/(1e3*60));n(`${h}d ${m}h ${p}m`)}},1e3);return()=>clearInterval(r)},[i]),y.jsxs("span",{className:"mission-timer",children:[" ",e]})};function CD(){const[i,e]=O.useState([]),[n,r]=O.useState([]),[o,c]=O.useState([]),[h,m]=O.useState([]),[p,g]=O.useState(!1),[E,A]=O.useState(!1),[w,V]=O.useState(!1),[H,z]=O.useState(null),[F,ie]=O.useState(null),[Q,re]=O.useState(null),[me,be]=O.useState(null),[ae,N]=O.useState(""),[x,R]=O.useState(""),[I,D]=O.useState([]),[j,C]=O.useState([]),[pe,xe]=O.useState({nome:"",local:"",contratante:"",descricaoMissao:"",objetivosMissao:"",requisitos:"",grupo:"",recompensa:"",rank:"E",imagem:"",duracao:"",gilRecompensa:""}),[K,se]=O.useState({missaoId:"",dataInicio:"",cenarios:[],tokens:[]}),[he,Se]=O.useState(""),[Pe,k]=O.useState("cenario"),[Z,le]=O.useState(()=>localStorage.getItem("mestreAssinatura")||et.currentUser?.email?.split("@")[0]||"Narrador");O.useEffect(()=>{localStorage.setItem("mestreAssinatura",Z)},[Z]),O.useEffect(()=>{if(Io&&Io.pause(),!et.currentUser)return;const $=yi(Wt(Le,"missoes"),vr("mestreId","==",et.currentUser.uid),_o("createdAt","desc")),Oe=vi($,Tn=>e(Tn.docs.map(an=>({id:an.id,...an.data()})))),nn=yi(Wt(Le,"resenhas"),vr("mestreId","==",et.currentUser.uid),_o("createdAt","desc")),kn=vi(nn,Tn=>r(Tn.docs.map(an=>({id:an.id,...an.data()})))),Bt=yi(Wt(Le,"sessoes"),vr("mestreId","==",et.currentUser.uid),_o("dataInicio","asc")),Mr=vi(Bt,Tn=>{const an=Tn.docs.map(mt=>({id:mt.id,...mt.data()}));c(an)});return(async()=>{const Tn=await hp(Wt(Le,"characters"));m(Tn.docs.map(an=>({id:an.id,...an.data()})))})(),()=>{Oe(),kn(),Mr()}},[]);const ue=async $=>{$.preventDefault();try{const Oe=(pe.duracao.match(/(\d+)w/)||[0,0])[1]*6048e5+(pe.duracao.match(/(\d+)d/)||[0,0])[1]*864e5+(pe.duracao.match(/(\d+)h/)||[0,0])[1]*36e5;await oc(Wt(Le,"missoes"),{...pe,mestreNome:Z,mestreId:et.currentUser.uid,createdAt:La(),expiraEm:new Date(Date.now()+(Oe||36e5)).toISOString()}),g(!1),xe({nome:"",local:"",contratante:"",descricaoMissao:"",objetivosMissao:"",requisitos:"",grupo:"",recompensa:"",rank:"E",imagem:"",duracao:"",gilRecompensa:""})}catch{alert("Erro ao forjar cartaz.")}},Te=async()=>{if(!x||!ae)return alert("Preencha ttulo e contedo!");try{const $=new Date;$.setDate($.getDate()+1),await oc(Wt(Le,"resenhas"),{titulo:x,conteudo:ae,mestre:Z,mestreId:et.currentUser.uid,destinatarios:I,createdAt:La(),expiraEm:$.toISOString()}),A(!1),N(""),R(""),D([])}catch{alert("Erro ao publicar.")}},Ce=()=>{he&&(se(Pe==="cenario"?$=>({...$,cenarios:[...$.cenarios,he]}):$=>({...$,tokens:[...$.tokens,he]})),Se(""))},ke=($,Oe)=>{se($==="cenario"?nn=>({...nn,cenarios:nn.cenarios.filter((kn,Bt)=>Bt!==Oe)}):nn=>({...nn,tokens:nn.tokens.filter((kn,Bt)=>Bt!==Oe)}))},bt=async $=>{if($.preventDefault(),!K.missaoId||!K.dataInicio)return alert("Selecione a misso e o horrio!");try{const Oe=i.find(Bt=>Bt.id===K.missaoId),nn=new Date(K.dataInicio),kn=new Date(nn.getTime()+1440*60*1e3);await oc(Wt(Le,"sessoes"),{missaoId:K.missaoId,missaoNome:Oe?Oe.nome:"Misso Desconhecida",mestreId:et.currentUser.uid,dataInicio:K.dataInicio,expiraEm:kn.toISOString(),participantes:j,cenarios:K.cenarios,tokens:K.tokens,createdAt:La()}),V(!1),se({missaoId:"",dataInicio:"",cenarios:[],tokens:[]}),C([]),alert("Sesso criada com sucesso!")}catch(Oe){alert("Erro ao criar sesso: "+Oe.message),console.error(Oe)}},st=$=>{alert(`Entrando no VTT do Mestre para a sesso: ${$.missaoNome}
Carregando ${$.cenarios?.length||0} cenrios e ${$.tokens?.length||0} tokens...`)};return y.jsxs("div",{className:"mestre-container",children:[y.jsx("div",{className:"mestre-bg-image-full",style:{backgroundImage:`url(${SD})`}}),y.jsxs("div",{className:"mestre-content",children:[y.jsx("h1",{className:"ff-title",children:"HUB DO NARRADOR"}),y.jsxs("div",{className:"mestre-identity-box ff-card fade-in",children:[y.jsx("label",{children:"ASSINATURA DO MESTRE:"}),y.jsx("input",{type:"text",value:Z,onChange:$=>le($.target.value)})]}),y.jsxs("div",{className:"mestre-grid",children:[y.jsxs("div",{className:"ff-card board-column",children:[y.jsxs("div",{className:"card-header no-border",children:[y.jsx("h3",{children:"QUADRO DE MISSES"}),y.jsxs("button",{className:"ff-add-btn",onClick:()=>g(!0),children:[y.jsx("span",{children:"+"})," ADICIONAR CARTAZ"]})]}),y.jsx("div",{className:"mission-scroll",children:i.map($=>y.jsxs("div",{className:`mission-poster rank-${$.rank}`,children:[y.jsx("div",{className:"poster-rank-label-fixed",children:$.rank}),y.jsxs("span",{className:"mestre-tag",children:["Narrador: ",$.mestreNome]}),y.jsx("h4",{children:$.nome}),y.jsxs("p",{className:"gil-recompensa",children:[" Recompensa: ",$.gilRecompensa," Gil"]}),$.candidatos&&$.candidatos.length>0&&y.jsxs("div",{className:"candidates-mini-box",children:[y.jsx("strong",{children:"Candidatos:"}),$.candidatos.map(Oe=>y.jsxs("div",{style:{fontSize:"10px",color:Oe.isLeader?"#ffcc00":"#ccc"},children:[Oe.isLeader&&""," ",Oe.nome," (",Oe.classe,")"]},Oe.uid))]}),y.jsx(N_,{expiry:$.expiraEm}),y.jsxs("div",{className:"poster-actions",children:[y.jsx("button",{className:"btn-cyan",onClick:()=>re($.imagem),children:"CARTAZ"}),y.jsx("button",{className:"btn-cyan",onClick:()=>z($),children:"DETALHES"}),y.jsx("button",{className:"btn-red",onClick:()=>ds(St(Le,"missoes",$.id)),children:"EXCLUIR"})]})]},$.id))})]}),y.jsxs("div",{className:"ff-card sanchez-card board-column",children:[y.jsxs("div",{className:"sanchez-header-top no-border",children:[y.jsx("h3",{children:"RESENHA DO SANCHEZ"}),y.jsx("button",{className:"ff-add-btn-gold-small",onClick:()=>A(!0),children:"+ CRIAR NOVA RESENHA"})]}),y.jsx("div",{className:"mission-scroll",children:n.map($=>y.jsxs("div",{className:"resenha-item-card",children:[y.jsx("h4",{children:$.titulo}),y.jsx(N_,{expiry:$.expiraEm}),y.jsxs("div",{className:"poster-actions",children:[y.jsx("button",{className:"btn-cyan",onClick:()=>ie($),children:"VISUALIZAR"}),y.jsx("button",{className:"btn-red",onClick:()=>ds(St(Le,"resenhas",$.id)),children:"EXCLUIR"})]})]},$.id))})]}),y.jsxs("div",{className:"ff-card board-column",children:[y.jsxs("div",{className:"card-header no-border",children:[y.jsx("h3",{children:"SESSES DE JOGO"}),y.jsx("button",{className:"ff-add-btn small-btn",onClick:()=>V(!0),children:"INICIAR NOVA SESSO"})]}),y.jsx("div",{className:"mission-scroll",children:o.length===0?y.jsx("div",{className:"empty-instancia",children:"NENHUMA INSTNCIA ATIVA"}):o.map($=>y.jsxs("div",{className:"sessao-card",children:[y.jsx("div",{className:"sessao-status",children:" AO VIVO / AGENDADA"}),y.jsx("h4",{className:"sessao-title",children:$.missaoNome}),y.jsxs("div",{className:"sessao-info",children:[y.jsxs("span",{children:[" ",new Date($.dataInicio).toLocaleString()]}),y.jsxs("span",{className:"sessao-players",children:[" ",$.participantes?.length||0," Jogadores"]})]}),y.jsxs("div",{className:"sessao-assets-count",children:[" ",$.cenarios?.length||0," Cenrios   ",$.tokens?.length||0," Tokens"]}),y.jsxs("div",{className:"poster-actions",style:{marginTop:"15px"},children:[y.jsx("button",{className:"btn-cyan",onClick:()=>be($),children:" MEMBROS"}),y.jsx("button",{className:"btn-play-vtt",onClick:()=>st($),children:" ACESSAR VTT"}),y.jsx("button",{className:"btn-red",onClick:()=>ds(St(Le,"sessoes",$.id)),children:"CANCELAR"})]})]},$.id))})]})]})]}),p&&y.jsx("div",{className:"ff-modal-overlay-fixed",children:y.jsxs("div",{className:"ff-modal-scrollable ff-card",children:[y.jsx("h3",{className:"modal-title-ff",children:"NOVA MISSO"}),y.jsxs("form",{onSubmit:ue,children:[y.jsxs("div",{className:"modal-input-group",children:[y.jsx("label",{children:"NOME DA MISSO"}),y.jsx("input",{placeholder:"Ttulo...",value:pe.nome,onChange:$=>xe({...pe,nome:$.target.value}),required:!0})]}),y.jsxs("div",{className:"modal-input-group",children:[y.jsx("label",{children:"LOCAL"}),y.jsx("input",{placeholder:"Onde ocorre...",value:pe.local,onChange:$=>xe({...pe,local:$.target.value})})]}),y.jsxs("div",{className:"modal-input-group",children:[y.jsx("label",{children:"CONTRATANTE"}),y.jsx("input",{placeholder:"Quem paga...",value:pe.contratante,onChange:$=>xe({...pe,contratante:$.target.value})})]}),y.jsxs("div",{className:"modal-input-group",children:[y.jsx("label",{children:"DESCRIO DA MISSO"}),y.jsx("textarea",{className:"tall-area-dark",placeholder:"Detalhes da histria e contexto...",value:pe.descricaoMissao,onChange:$=>xe({...pe,descricaoMissao:$.target.value})})]}),y.jsxs("div",{className:"modal-input-group",children:[y.jsx("label",{children:"OBJETIVOS DA MISSO"}),y.jsx("textarea",{className:"tall-area-dark",placeholder:"O que deve ser feito passo a passo...",value:pe.objetivosMissao,onChange:$=>xe({...pe,objetivosMissao:$.target.value})})]}),y.jsxs("div",{className:"modal-input-group",children:[y.jsx("label",{children:"REQUISITOS DA MISSO"}),y.jsx("textarea",{className:"tall-area-dark",placeholder:"O que  necessrio para aceitar...",value:pe.requisitos,onChange:$=>xe({...pe,requisitos:$.target.value})})]}),y.jsxs("div",{className:"row-double-ff",children:[y.jsxs("div",{className:"field-group",children:[y.jsx("label",{children:"GRUPO MXIMO"}),y.jsx("input",{placeholder:"Ex: 6 jogadores",value:pe.grupo,onChange:$=>xe({...pe,grupo:$.target.value})})]}),y.jsxs("div",{className:"field-group",children:[y.jsx("label",{children:"RANK"}),y.jsx("select",{value:pe.rank,onChange:$=>xe({...pe,rank:$.target.value}),children:["E","D","C","B","A","S","SS","SC"].map($=>y.jsxs("option",{value:$,children:["RANK ",$]},$))})]})]}),y.jsxs("div",{className:"modal-input-group",children:[y.jsx("label",{children:"RECOMPENSAS EXTRAS (TEXTO)"}),y.jsx("textarea",{className:"tall-area-dark",placeholder:"Itens, especiarias, equipamentos...",value:pe.recompensa,onChange:$=>xe({...pe,recompensa:$.target.value})})]}),y.jsxs("div",{className:"row-double-ff",children:[y.jsxs("div",{className:"field-group",children:[y.jsx("label",{children:"GIL"}),y.jsx("input",{type:"text",className:"gil-input",placeholder:"Ex: 5000",value:pe.gilRecompensa,onChange:$=>xe({...pe,gilRecompensa:$.target.value.replace(/\D/g,"")})})]}),y.jsxs("div",{className:"field-group",children:[y.jsx("label",{children:"DURAO DA MISSO"}),y.jsx("input",{placeholder:"Ex: 1d 10h",value:pe.duracao,onChange:$=>xe({...pe,duracao:$.target.value}),required:!0})]})]}),y.jsxs("div",{className:"modal-input-group",children:[y.jsx("label",{children:"URL DA IMAGEM DO CARTAZ"}),y.jsx("input",{placeholder:"Link Imgur...",value:pe.imagem,onChange:$=>xe({...pe,imagem:$.target.value})})]}),y.jsxs("div",{className:"btn-group-ff",children:[y.jsx("button",{type:"submit",className:"btn-forjar-main",children:"FORJAR MISSO"}),y.jsx("button",{type:"button",className:"btn-cancelar-main",onClick:()=>g(!1),children:"FECHAR"})]})]})]})}),E&&y.jsx("div",{className:"ff-modal-overlay-fixed",children:y.jsxs("div",{className:"ff-modal-scrollable ff-card",children:[y.jsx("h3",{className:"modal-title-ff",children:"ESCREVER CRNICA"}),y.jsxs("div",{className:"modal-input-group",children:[y.jsx("label",{children:"TTULO DA CRNICA"}),y.jsx("input",{className:"ff-modal-input-dark",placeholder:"Ttulo...",value:x,onChange:$=>R($.target.value)})]}),y.jsxs("div",{className:"modal-input-group",children:[y.jsx("label",{children:"CORPO DO TEXTO"}),y.jsx("textarea",{className:"tall-area-ff-dark",placeholder:"Use **texto** para negrito.",value:ae,onChange:$=>N($.target.value)})]}),y.jsxs("div",{className:"player-selector-box-fixed",children:[y.jsx("label",{children:"DESTINATRIOS:"}),y.jsx("div",{className:"destinatarios-grid-fixed",children:h.length>0?h.map($=>y.jsxs("label",{className:"chip-label-ff",children:[y.jsx("input",{type:"checkbox",checked:I.includes($.name),onChange:()=>I.includes($.name)?D(I.filter(Oe=>Oe!==$.name)):D([...I,$.name])})," ",$.name]},$.id)):y.jsx("p",{children:"Nenhum personagem disponvel."})})]}),y.jsxs("div",{className:"btn-group-ff",children:[y.jsx("button",{className:"btn-forjar-main",onClick:Te,children:"PUBLICAR"}),y.jsx("button",{className:"btn-cancelar-main",onClick:()=>A(!1),children:"FECHAR"})]})]})}),w&&y.jsx("div",{className:"ff-modal-overlay-fixed",children:y.jsxs("div",{className:"ff-modal-scrollable ff-card",children:[y.jsx("h3",{className:"modal-title-ff",children:"CRIAR NOVA SESSO"}),y.jsxs("form",{onSubmit:bt,children:[y.jsxs("div",{className:"modal-input-group",children:[y.jsx("label",{children:"SELECIONAR MISSO (OBJETIVO)"}),y.jsxs("select",{className:"ff-select-dark",value:K.missaoId,onChange:$=>se({...K,missaoId:$.target.value}),required:!0,children:[y.jsx("option",{value:"",children:"-- Escolha uma misso --"}),i.map($=>y.jsxs("option",{value:$.id,children:[$.nome," (Rank ",$.rank,")"]},$.id))]})]}),y.jsxs("div",{className:"modal-input-group",children:[y.jsx("label",{children:"DATA E HORRIO DE INCIO"}),y.jsx("input",{type:"datetime-local",className:"ff-input-dark",value:K.dataInicio,onChange:$=>se({...K,dataInicio:$.target.value}),required:!0})]}),y.jsxs("div",{className:"player-selector-box-fixed",children:[y.jsx("label",{children:"SELECIONAR JOGADORES (PERSONAGENS):"}),y.jsx("div",{className:"destinatarios-grid-fixed",children:h.length>0?h.map($=>y.jsxs("label",{className:"chip-label-ff",children:[y.jsx("input",{type:"checkbox",checked:j.includes($.name),onChange:()=>j.includes($.name)?C(j.filter(Oe=>Oe!==$.name)):C([...j,$.name])}),$.name," (",$.class,")"]},$.id)):y.jsx("p",{style:{color:"#666"},children:"Nenhum personagem encontrado no banco."})})]}),y.jsxs("div",{className:"upload-section-box",children:[y.jsx("h4",{className:"upload-section-title",children:"IMPORTAR IMAGENS (IMGUR)"}),y.jsxs("div",{className:"link-import-row",children:[y.jsx("input",{className:"ff-input-dark",placeholder:"Cole o link da imagem aqui...",value:he,onChange:$=>Se($.target.value)}),y.jsxs("select",{className:"ff-select-dark small-select",value:Pe,onChange:$=>k($.target.value),children:[y.jsx("option",{value:"cenario",children:"Cenrio"}),y.jsx("option",{value:"token",children:"Token"})]}),y.jsx("button",{type:"button",className:"btn-cyan",onClick:Ce,children:"+"})]}),y.jsxs("div",{className:"assets-lists",children:[K.cenarios.length>0&&y.jsxs("div",{className:"asset-group",children:[y.jsx("label",{children:"CENRIOS:"}),K.cenarios.map(($,Oe)=>y.jsxs("div",{className:"asset-item",children:[y.jsx("span",{className:"truncate-link",children:$}),y.jsx("button",{type:"button",className:"btn-remove-x",onClick:()=>ke("cenario",Oe),children:""})]},Oe))]}),K.tokens.length>0&&y.jsxs("div",{className:"asset-group",children:[y.jsx("label",{children:"TOKENS:"}),K.tokens.map(($,Oe)=>y.jsxs("div",{className:"asset-item",children:[y.jsx("span",{className:"truncate-link",children:$}),y.jsx("button",{type:"button",className:"btn-remove-x",onClick:()=>ke("token",Oe),children:""})]},Oe))]})]})]}),y.jsxs("div",{className:"btn-group-ff",children:[y.jsx("button",{type:"submit",className:"btn-forjar-main",children:"AGENDAR SESSO"}),y.jsx("button",{type:"button",className:"btn-cancelar-main",onClick:()=>V(!1),children:"CANCELAR"})]})]})]})}),me&&y.jsx("div",{className:"ff-modal-overlay-fixed",onClick:()=>be(null),children:y.jsxs("div",{className:"ff-modal-scrollable ff-card",onClick:$=>$.stopPropagation(),style:{height:"auto",maxHeight:"500px"},children:[y.jsx("h3",{className:"modal-title-ff",children:"MEMBROS ALOCADOS"}),y.jsx("p",{style:{color:"#aaa",marginBottom:"20px"},children:"Personagens selecionados para esta sesso:"}),y.jsx("div",{className:"destinatarios-grid-fixed",children:me.participantes?.length>0?me.participantes.map(($,Oe)=>y.jsxs("div",{className:"chip-label-ff",style:{cursor:"default",color:"#fff",borderColor:"#00f2ff"},children:[" ",$]},Oe)):y.jsx("p",{children:"Nenhum membro alocado ainda."})}),y.jsx("button",{className:"btn-cancelar-main",style:{marginTop:"20px",width:"100%"},onClick:()=>be(null),children:"FECHAR"})]})}),H&&y.jsx("div",{className:"ff-modal-overlay-fixed",onClick:()=>z(null),children:y.jsxs("div",{className:"ff-modal ff-card detail-view-main",onClick:$=>$.stopPropagation(),children:[y.jsxs("div",{className:"detail-header-modern",children:[y.jsx("div",{className:`detail-rank-badge rank-${H.rank}`,children:H.rank}),y.jsxs("div",{className:"detail-title-col",children:[y.jsx("h2",{children:H.nome}),y.jsxs("span",{className:"detail-narrator",children:["Narrador: ",H.mestreNome]})]})]}),y.jsxs("div",{className:"detail-body-grid",children:[y.jsxs("div",{className:"detail-info-row",children:[y.jsxs("div",{className:"info-item",children:[y.jsx("label",{children:" LOCAL"}),y.jsx("span",{children:H.local||"Desconhecido"})]}),y.jsxs("div",{className:"info-item",children:[y.jsx("label",{children:" CONTRATANTE"}),y.jsx("span",{children:H.contratante||"Annimo"})]})]}),y.jsxs("div",{className:"detail-section",children:[y.jsx("label",{className:"section-label",children:" DESCRIO DA MISSO"}),y.jsx("p",{className:"section-text",children:H.descricaoMissao||"Sem descrio."})]}),y.jsxs("div",{className:"detail-section",children:[y.jsx("label",{className:"section-label",children:" OBJETIVOS DA MISSO"}),y.jsx("p",{className:"section-text",children:H.objetivosMissao||"Sem objetivos definidos."})]}),y.jsxs("div",{className:"detail-section",children:[y.jsx("label",{className:"section-label",children:" REQUISITOS"}),y.jsx("p",{className:"section-text",children:H.requisitos||"Sem requisitos especiais."})]}),y.jsxs("div",{className:"detail-section reward-section",children:[y.jsx("label",{className:"section-label",children:" RECOMPENSAS"}),y.jsxs("div",{className:"reward-content-box",children:[y.jsxs("div",{className:"gil-display-row",children:[y.jsx("span",{className:"gil-icon",children:""}),y.jsxs("span",{className:"gil-value",children:[H.gilRecompensa||0," GIL"]})]}),H.recompensa&&y.jsx("div",{className:"extra-rewards-list",children:H.recompensa.split(`
`).map(($,Oe)=>y.jsxs("div",{className:"reward-item",children:[" ",$]},Oe))})]})]})]}),y.jsx("button",{className:"ff-final-close-btn",onClick:()=>z(null),children:"FECHAR RELATRIO"})]})}),Q&&y.jsx("div",{className:"ff-modal-overlay-fixed",onClick:()=>re(null),children:y.jsxs("div",{className:"lightbox-wrap",children:[y.jsx("button",{className:"close-lightbox",onClick:()=>re(null),children:""}),y.jsx("img",{src:Q,alt:"Cartaz",className:"cartaz-full-view"})]})}),F&&y.jsx("div",{className:"papiro-overlay-full",onClick:()=>ie(null),children:y.jsxs("div",{className:"papiro-real-container",style:{backgroundImage:`url(${NT})`},onClick:$=>$.stopPropagation(),children:[y.jsx("div",{className:"sanchez-oval-view-no-border",style:{backgroundImage:`url(${fp})`}}),y.jsx("h2",{className:"papiro-title-real",children:F.titulo}),y.jsxs("p",{className:"papiro-mestre-sub",children:["Narrador: ",F.mestre]}),y.jsx("div",{className:"papiro-body-real",dangerouslySetInnerHTML:{__html:F.conteudo.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br/>")}}),y.jsxs("div",{className:"papiro-dest-list",children:[y.jsx("strong",{children:"ENVIADO PARA:"})," ",F.destinatarios?.join(", ")]}),y.jsx("button",{className:"papiro-close-btn",onClick:()=>ie(null),children:"FECHAR"})]})}),y.jsx(ND,{}),y.jsx(CT,{isMestre:!0}),y.jsx("style",{children:`
        /* ESTILOS MANTIDOS E UNIFICADOS DO ARQUIVO ANTERIOR */
        .mestre-container { background: #000; min-height: 100vh; position: relative; color: #fff; font-family: 'serif'; overflow: hidden; }
        .mestre-bg-image-full { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center top; background-repeat: no-repeat; opacity: 0.35; z-index: 0; filter: contrast(125%) brightness(75%); }
        .mestre-content { position: relative; z-index: 1; padding: 30px; }
        .ff-title { color: #ffcc00; text-align: center; text-shadow: 0 0 10px #ffcc00; letter-spacing: 5px; margin-bottom: 30px; font-size: 2.5rem; }
        .mestre-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px; }
        .ff-card { background: rgba(0, 10, 30, 0.95); border: 1px solid #ffcc00; padding: 20px; border-radius: 4px; backdrop-filter: blur(10px); }
        .card-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 15px; }
        .card-header.no-border { border-bottom: none; }
        .board-column { height: 600px; display: flex; flex-direction: column; }
        .mestre-identity-box { display: flex; align-items: center; gap: 15px; margin-bottom: 30px; border: 1px solid #ffcc00; padding: 12px 20px; background: rgba(0, 10, 30, 0.9); width: fit-content; }
        .mestre-identity-box input { background: #fff; border: 1px solid #ffcc00; color: #000; padding: 5px 10px; font-weight: bold; font-family: 'serif'; outline: none; }
        .mission-scroll { flex: 1; overflow-y: auto; padding-right: 8px; }
        .mission-poster { background: rgba(255,255,255,0.04); border: 1px solid #444; margin-bottom: 15px; padding: 18px; border-left: 4px solid #00f2ff; position: relative; }
        .poster-rank-label-fixed { position: absolute; top: 12px; right: 18px; font-size: 32px; color: #ffcc00; opacity: 0.35; font-weight: bold; }
        .mestre-tag { color: #ffcc00; font-size: 10px; text-transform: uppercase; font-weight: bold; display: block; margin-bottom: 8px; }
        .candidates-mini-box { margin-top: 8px; background: rgba(0,0,0,0.3); padding: 5px; border-radius: 3px; }
        .sanchez-card { position: relative; overflow: hidden; }
        .sanchez-header-top { position: relative; z-index: 1; margin-bottom: 15px; border-bottom: 1px solid #333; padding-bottom: 10px; }
        .sanchez-header-top.no-border { border-bottom: none; }
        .resenha-item-card { background: rgba(255,255,255,0.05); border: 1px solid #333; padding: 15px; margin-top: 12px; border-radius: 4px; }
        .sessao-card { background: linear-gradient(135deg, rgba(20,20,50,0.9), rgba(0,0,20,0.9)); border: 1px solid #00f2ff; padding: 15px; margin-bottom: 15px; border-radius: 4px; box-shadow: 0 0 10px rgba(0,242,255,0.1); }
        .sessao-status { font-size: 10px; color: #f44; font-weight: bold; margin-bottom: 8px; animation: pulse 2s infinite; }
        .sessao-title { color: #fff; font-size: 18px; margin: 0 0 10px 0; border-bottom: 1px solid #333; padding-bottom: 8px; }
        .sessao-info { display: flex; justify-content: space-between; font-size: 12px; color: #aaa; margin-bottom: 10px; }
        .sessao-assets-count { font-size: 11px; color: #ffcc00; background: rgba(0,0,0,0.3); padding: 5px; border-radius: 3px; display: inline-block; }
        .btn-play-vtt { background: #00f2ff; color: #000; border: none; padding: 8px 15px; font-weight: bold; cursor: pointer; flex: 1; margin-right: 10px; transition: 0.3s; }
        .btn-play-vtt:hover { background: #fff; box-shadow: 0 0 15px #00f2ff; }
        @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
        .upload-section-box { border: 1px dashed #444; padding: 15px; margin: 20px 0; background: rgba(0,0,0,0.3); }
        .upload-section-title { color: #00f2ff; font-size: 12px; margin-bottom: 15px; border-bottom: 1px solid #00f2ff; padding-bottom: 5px; display: inline-block; }
        .ff-select-dark { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; outline: none; font-family: 'serif'; }
        .ff-input-dark { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; outline: none; font-family: 'serif'; color-scheme: dark; }
        .link-import-row { display: flex; gap: 10px; margin-bottom: 15px; }
        .small-select { width: 120px; }
        .assets-lists { display: flex; flex-direction: column; gap: 10px; }
        .asset-group { background: rgba(255,255,255,0.05); padding: 10px; border-radius: 4px; }
        .asset-group label { display: block; color: #ffcc00; font-size: 10px; font-weight: bold; margin-bottom: 5px; border-bottom: 1px solid #333; }
        .asset-item { display: flex; justify-content: space-between; align-items: center; font-size: 11px; color: #ddd; margin-bottom: 4px; }
        .truncate-link { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 350px; }
        .btn-remove-x { background: transparent; border: none; color: #f44; font-weight: bold; cursor: pointer; font-size: 14px; }
        .ff-modal-overlay-fixed { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.94); z-index: 99999; display: flex; align-items: center; justify-content: center; }
        .ff-modal-scrollable { width: 550px; max-height: 90vh; overflow-y: auto; background: #000c1d; border: 2px solid #ffcc00; padding: 35px; box-shadow: 0 0 60px rgba(0,0,0,0.9); }
        .modal-title-ff { color: #fff; font-size: 22px; border-bottom: 1px solid #ffcc00; padding-bottom: 10px; margin-bottom: 20px; letter-spacing: 2px; }
        .modal-input-group { margin-bottom: 20px; }
        .modal-input-group label { color: #ffcc00; font-size: 11px; display: block; margin-bottom: 8px; font-weight: bold; letter-spacing: 1px; }
        .modal-input-group input { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; outline: none; font-family: 'serif'; font-size: 14px; }
        .row-double-ff { display: flex; gap: 20px; margin-bottom: 20px; }
        .field-group { flex: 1; display: flex; flex-direction: column; }
        .field-group label { color: #ffcc00; font-size: 11px; display: block; margin-bottom: 8px; font-weight: bold; }
        .field-group input, .field-group select { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; font-family: 'serif'; outline: none; }
        .tall-area-dark { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; height: 110px; resize: none; font-family: 'serif'; outline: none; }
        .tall-area-ff-dark { width: 100%; background: #000; border: 1px solid #ffcc00; color: #fff; padding: 15px; height: 250px; resize: none; font-family: 'serif'; outline: none; font-size: 16px; border-radius: 4px; }
        .detail-view-main { width: 600px; background: #000814; border: 1px solid #ffcc00; padding: 0; box-shadow: 0 0 40px rgba(255, 204, 0, 0.1); overflow: hidden; display: flex; flex-direction: column; }
        .detail-header-modern { background: linear-gradient(90deg, #1a1a1a 0%, #000 100%); padding: 25px 30px; display: flex; align-items: center; border-bottom: 1px solid #333; gap: 20px; }
        .detail-rank-badge { font-size: 32px; font-weight: bold; color: #ffcc00; text-shadow: 0 0 10px rgba(255,204,0,0.5); border: 2px solid #ffcc00; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background: rgba(0,0,0,0.5); }
        .detail-title-col h2 { margin: 0; font-size: 24px; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        .detail-narrator { color: #00f2ff; font-size: 12px; font-weight: bold; text-transform: uppercase; margin-top: 4px; display: block; }
        .detail-body-grid { padding: 30px; display: flex; flex-direction: column; gap: 20px; }
        .detail-info-row { display: flex; gap: 25px; margin-bottom: 10px; border-bottom: 1px solid #333; padding-bottom: 15px; }
        .info-item { flex: 1; }
        .info-item label { color: #ffcc00; font-size: 10px; display: block; margin-bottom: 5px; font-weight: bold; opacity: 0.8; }
        .info-item span { color: #fff; font-size: 14px; font-weight: bold; letter-spacing: 0.5px; }
        .detail-section { margin-bottom: 5px; }
        .section-label { color: #ffcc00; font-size: 11px; font-weight: bold; display: block; margin-bottom: 8px; letter-spacing: 1px; text-transform: uppercase; border-bottom: 1px solid #333; padding-bottom: 4px; }
        .section-text { font-size: 15px; line-height: 1.5; color: #ddd; margin: 0; white-space: pre-wrap; }
        .reward-section { margin-top: 10px; background: rgba(255,204,0,0.05); padding: 15px; border-radius: 4px; border: 1px solid rgba(255,204,0,0.2); }
        .gil-display-row { display: flex; align-items: center; gap: 10px; font-size: 18px; color: #ffcc00; font-weight: bold; margin-bottom: 8px; }
        .extra-rewards-list { margin-top: 8px; padding-left: 5px; }
        .reward-item { color: #aaa; font-size: 14px; margin-bottom: 4px; font-style: italic; }
        .ff-final-close-btn { width: 100%; background: #111; color: #fff; border: none; border-top: 1px solid #333; padding: 20px; font-weight: bold; cursor: pointer; font-size: 13px; text-transform: uppercase; transition: 0.2s; }
        .ff-final-close-btn:hover { background: #222; color: #ffcc00; }
        .papiro-overlay-full { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); z-index: 100000; display: flex; align-items: center; justify-content: center; }
        .papiro-real-container { width: 1000px; height: 800px; max-width: 95vw; max-height: 95vh; background-size: 100% 100%; background-repeat: no-repeat; padding: 110px 160px; color: #3b2b1a; position: relative; display: flex; flex-direction: column; }
        .sanchez-oval-view-no-border { width: 110px; height: 110px; float: right; border-radius: 50%; background-size: cover; margin-left: 20px; mask-image: radial-gradient(circle, black 60%, transparent 100%); -webkit-mask-image: radial-gradient(circle, black 60%, transparent 100%); opacity: 0.9; }
        .papiro-title-real { border-bottom: 2px solid #3b2b1a; padding-bottom: 5px; margin-top: 0; font-size: 32px; font-weight: bold; }
        .papiro-body-real { margin-top: 25px; flex: 1; overflow-y: auto; line-height: 1.6; font-size: 18px; padding-right: 10px; scrollbar-width: none; -ms-overflow-style: none; }
        .papiro-body-real::-webkit-scrollbar { display: none; }
        .papiro-dest-list { margin-top: 15px; font-size: 14px; border-top: 1px solid rgba(59, 43, 26, 0.3); padding-top: 10px; }
        .papiro-close-btn { position: absolute; bottom: 45px; right: 110px; background: #3b2b1a; color: #f4e4bc; border: none; padding: 8px 20px; cursor: pointer; font-weight: bold; font-size: 13px; border-radius: 2px; }
        .ff-add-btn { background: transparent; border: 1px solid #00f2ff; color: #00f2ff; padding: 10px 20px; cursor: pointer; font-weight: bold; font-size: 12px; }
        .ff-add-btn-gold-small { background: transparent; border: 1px solid #ffcc00; color: #ffcc00; padding: 8px 15px; cursor: pointer; font-weight: bold; font-size: 11px; transition: 0.3s; }
        .ff-add-btn-gold-small:hover { background: #ffcc00; color: #000; box-shadow: 0 0 15px #ffcc00; }
        .btn-cyan { border: 1px solid #00f2ff; color: #00f2ff; padding: 6px 15px; background: transparent; cursor: pointer; font-size: 11px; margin-right: 10px; font-weight: bold; }
        .btn-red { border: 1px solid #f44; color: #f44; padding: 6px 15px; background: transparent; cursor: pointer; font-size: 11px; font-weight: bold; }
        .btn-group-ff { display: flex; gap: 20px; margin-top: 25px; }
        .btn-forjar-main { flex: 1; background: #ffcc00; color: #000; border: none; padding: 14px; font-weight: bold; cursor: pointer; font-size: 14px; text-transform: uppercase; }
        .btn-cancelar-main { flex: 1; background: #000; color: #fff; border: 1px solid #fff; padding: 14px; cursor: pointer; text-align: center; font-size: 14px; text-transform: uppercase; }
        .player-selector-box-fixed { margin: 25px 0; border-top: 1px solid #333; padding-top: 15px; }
        .destinatarios-grid-fixed { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 12px; }
        .chip-label-ff { background: rgba(0, 10, 30, 0.8); border: 1px solid #ffcc00; color: #ffcc00; padding: 8px 18px; border-radius: 4px; font-size: 12px; cursor: pointer; display: inline-block; }
        .mission-timer { font-size: 12px; color: #00f2ff; display: block; margin-top: 10px; font-weight: bold; letter-spacing: 1px; }
        .fade-in { animation: fadeIn 1s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .lightbox-wrap { position: relative; max-width: 90vw; max-height: 90vh; }
        .cartaz-full-view { max-width: 100%; max-height: 90vh; border: 3px solid #ffcc00; box-shadow: 0 0 50px #000; }
        .close-lightbox { position: absolute; top: -40px; right: -40px; background: transparent; border: none; color: #fff; font-size: 40px; cursor: pointer; }
      `})]})}const ID=[{id:"humes",name:"Humes",image:"races/humes.png",description:"Os Humes so a raa mais comum e predominante em Ivalice. Adaptveis, curiosos e persistentes, habitam desde as grandes capitais at vilarejos fronteirios. Sua origem  antiga e pouco documentada, mas acredita-se que foram os primeiros a construir grandes cidades e fundar os cls atuais.",characteristics:"Sua maior qualidade  a versatilidade. No se destacam naturalmente em nenhum atributo especfico, mas aprendem qualquer funo rapidamente, prosperando em qualquer lugar que chamem de lar.",racial_bonus:{value:5,detail:"5 pontos extras para distribuir livremente entre os atributos durante a criao de personagem."},base_classes:["Soldado","Mago Branco","Qumico"]},{id:"viera",name:"Viera",image:"races/viera.png",description:"Uma raa graciosa e enigmtica, marcada por longas orelhas e aparncia esguia. Vivem em florestas profundas, isoladas do mundo exterior e conectadas aos espritos da natureza. A sociedade  matriarcal.",characteristics:"Conhecidas por sentidos aguados, velocidade impressionante e habilidades mgicas refinadas. Os machos so raros e exilados ao atingirem a maturidade.",racial_bonus:{female:{VEL:3,INT:2},male_exiled:{"pontos-livres":5}},base_classes:{female:["Arqueira","Esgrimista","Curandeira"],male:["Exilado"]}},{id:"moogles",name:"Moogles",image:"races/moogles.png",description:"Pequenos, adorveis e envoltos em mistrio. Possuem corpos peludos, antenas com pompons flutuantes e pequenas asas de morcego. No possuem gnero definido.",characteristics:"Extremamente inteligentes e obcecados por tecnologia e invenes, misturando cincia com feitiaria. Carregam um estranho 'magnetismo da sorte'.",racial_bonus:{SOR:5},base_classes:["Animista","Engenheiro"]},{id:"bangaa",name:"Bangaa",image:"races/bangaa.png",description:"Guerreiros reptilianos robustos, com pele escamosa e traos que lembram drages antigos. So temidos pela fora bruta e respeitados pela honra em combate.",characteristics:"Sua origem remonta a tempos ancestrais e acredita-se que possuam sangue dracnico. Valorizam a lealdade, a disciplina fsica e o dever.",racial_bonus:{FOR:3,CONS:2},base_classes:["Monge","Guerreiro"]},{id:"grias",name:"Grias",image:"races/grias.png",description:"Guerreiras aladas, exclusivamente femininas, nascidas para dominar os cus. Possuem corpos atlticos, chifres, caudas e asas fortes.",characteristics:"Mestres da caa alada e emboscadas areas. Usam a altura como vantagem ttica e seus ataques de mergulho so devastadores.",racial_bonus:{VEL:2},passive_ability:{name:"Imunidade a Dano de Queda",effect:"No sofrem dano ao cair de qualquer altura nem de impactos ascendentes."},base_classes:["Monge","Guerreiro"]},{id:"elvaan",name:"Elvaan",image:"races/elvaan.png",description:"Originrios de Valendia, so guerreiros altos, nobres e disciplinados, com orelhas alongadas. Simbolizam tradio e justia em Ivalice.",characteristics:"Treinados desde a infncia no manejo de lminas e estilos de combate ancestrais. Desprezam truques e valorizam o confronto direto.",racial_bonus:{FOR:2},passive_ability:{name:"Domnio de Reao",effect:"Aprendem habilidades de reao com o dobro de rapidez."},base_classes:["Soldado","Espadachim"]},{id:"mithra",name:"Mithra",image:"races/mithra.png",description:"Raa com traos felinos, gil e astuta. Compartilham uma origem ancestral com as Viera, mas se espalharam por matas tropicais e runas.",characteristics:"Especialistas em furtividade, espionagem e ladronagem. Possuem forte senso de honra ligado  astcia.",racial_bonus:{VEL:2},passive_ability:{name:"Bnus de Camuflagem",effect:"Recebem vantagem em testes de furtividade, infiltrao e disfarce."},base_classes:["Ladra","Rastreadora"]},{id:"nu_mou",name:"Nu Mou",image:"races/nu-mou.png",description:"Pequenos em estatura, com aparncia canina e pelagem espessa, mas imensos em conhecimento. So magos natos que vivem sculos acumulando sabedoria.",characteristics:"Frequentemente ocupam cargos de conselheiros. Possuem empatia natural com a vida selvagem, comunicando-se com monstros e animais.",racial_bonus:{INT:3,CAR:2},base_classes:["Mago Branco","Adestrador"]},{id:"hypello",name:"Hypello",image:"races/hypello.png",description:"Raa anfbia dos pntanos de Kerwon. Possuem grande estatura, corpos robustos e pele azulada ou esverdeada.",characteristics:"Herbalistas por excelncia, mestres em usar plantas para curas ou venenos. Sua maior fora  a vitalidade e a empatia.",racial_bonus:{CONS:5},base_classes:["Escudeiro","Curandeiro"]},{id:"umbros",name:"Umbros",image:"races/umbros.png",description:"Seres de pele negra e marcas brilhantes que reagem  lua. Descendentes dos seres tocados pelas Pedras Zodiacais.",characteristics:"Alta resistncia  corrupo e aptido mgica. Vistos como orculos ou andarilhos que carregam segredos esquecidos.",racial_bonus:{INT:2},passive_ability:{name:"Modo Luar",effect:"Sob luz direta da lua visvel, causam o dobro de dano final com qualquer magia."},base_classes:["Mago Negro","Ocultista"]}],MD={races:ID},DD=JSON.parse(`[{"id":"soldado","name":"Soldado","type":"Bsica","role":"Tanque / Suporte de status","description":"Guerreiros de linha de frente, treinados para resistir aos maiores impactos do campo de batalha e desestabilizar o inimigo com habilidades tticas conhecidas como 'Pausas'.","bonus_class":{"CONS":5},"requirements":[],"abilities":[{"name":"Primeiro Socorro","description":"Trata os prprios ferimentos, restaurando 25% do HP.","cost":"N/A","type":"HB"},{"name":"Quebra de Poder","description":"Reduz a FOR do alvo pela metade, por trs turnos.","cost":"N/A","type":"HB"},{"name":"Quebra Magia","description":"Reduz a INT do alvo pela metade, por trs turnos.","cost":"N/A","type":"HB"},{"name":"Quebra de Mana","description":"Reduz a MP do alvo pela metade por trs turnos.","cost":"N/A","type":"HB"},{"name":"Provocar","description":"Inflige FURIA a um alvo.","cost":"N/A","type":"HB"},{"name":"Shieldbearer","description":"Permite ao usurio equipar escudos, mesmo fora da classe Soldado.","cost":"N/A","type":"Passiva"}]},{"id":"mago_branco","name":"Mago Branco","type":"Bsica","role":"Suporte / Cura / Anti-morto-vivo","description":"Especialistas em suporte mgico, sua principal funo  manter o grupo de p com curas poderosas, proteo espiritual e magias de ressuscitao.","bonus_class":{"MP":5},"requirements":[],"abilities":[{"name":"Cure","description":"Cura magicamente os ferimentos do alvo. Restaura 10% do PV e causa dano a mortos-vivos.","cost":"8 MP","type":"Magia"},{"name":"Cura","description":"Restaura magicamente 25% de HP. Causa dano a mortos-vivos.","cost":"18 MP","type":"Magia"},{"name":"Curaga","description":"Restaura magicamente 75% de HP. Causa dano a mortos-vivos.","cost":"32 MP","type":"Magia"},{"name":"Esuna","description":"Remove magicamente os efeitos negativos do alvo.","cost":"10 MP","type":"Magia"},{"name":"Arise","description":"Revive magicamente o alvo, removendo o KO. Causa dano a mortos-vivos.","cost":"40 MP","type":"Magia"},{"name":"Turbo MP","description":"Os feitios custam o dobro de seus MP normais, e do o dobro de dano.","cost":"N/A","type":"Passiva"}]},{"id":"quimico","name":"Qumico","type":"Bsica","role":"Suporte / Manipulador de Itens","description":"Mestres do preparo e uso ttico de poes. Utilizam conhecimentos alqumicos para curar aliados e enfraquecer inimigos.","bonus_class":{"SOR":2,"CAR":3},"requirements":[],"abilities":[{"name":"Preparar Poo","description":"Cria uma poo bsica durante o turno.","cost":"N/A","type":"HB"},{"name":"Arremessar Poo","description":"Permite arremessar qualquer poo equipada em um aliado ou inimigo a at 3 quadrados.","cost":"N/A","type":"HB"},{"name":"Frasco Instvel","description":"Arremessa uma mistura explosiva improvisada que causa dano de elemento aleatrio.","cost":"N/A","type":"HB"},{"name":"Reao em Cadeia","description":"Permite usar duas poes diferentes ao mesmo tempo.","cost":"N/A","type":"HB"},{"name":"Reciclagem Alqumica","description":"Recupera uma poo gasta no combate.","cost":"N/A","type":"HB"},{"name":"Inventrio Estendido","description":"Bolsa exclusiva para poes que no ocupa espao no inventrio padro (at 8 poes).","cost":"N/A","type":"Passiva"}]},{"id":"arqueira","name":"Arqueira","type":"Bsica","role":"Atiradora / Controle de Campo","description":"Especialistas em combate  distncia, treinadas para derrubar inimigos com preciso e neutralizar alvos.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Foco","description":"Aumenta drasticamente a preciso e dobra o dano final do ataque.","cost":"N/A","type":"HB"},{"name":"Acerto na Perna","description":"Causa IMOBILIZAO, impedindo movimentos por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Acerto na Mo","description":"Causa DESARME por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Mira Precisa","description":"Adiciona o atributo SORTE ao dano final do ataque.","cost":"N/A","type":"HB"},{"name":"Apago","description":"Causa CEGUEIRA, reduzindo severamente a chance de acerto do alvo por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Concentrao","description":"Aumenta a chance de acerto em todos os disparos de longa distncia.","cost":"N/A","type":"Passiva"}]},{"id":"esgrimista","name":"Esgrimista","type":"Bsica","role":"Duelista / Assassina de preciso","description":"Combatentes graciosas e letais, treinadas no uso refinado da rapieira.","bonus_class":{"VEL":3,"FOR":2},"requirements":[],"abilities":[{"name":"Picada Venenosa","description":"Causa dano e aplica VENENO ao alvo.","cost":"N/A","type":"HB"},{"name":"Voo da Andorinha","description":"Ataca todos os inimigos ao redor, podendo derrub-los.","cost":"N/A","type":"HB"},{"name":"Golpe Perfurante","description":"Estocada que atravessa o primeiro alvo e atinge um segundo atrs dele.","cost":"N/A","type":"HB"},{"name":"Golpe de Mana","description":"Causa dano e reduz o MP do inimigo.","cost":"N/A","type":"HB"},{"name":"Xeque-mate","description":"Inflige CONDENAO (morte aps 3 turnos).","cost":"N/A","type":"HB"},{"name":"Passos Leves","description":"Pode atravessar reas de gua rasa sem perder mobilidade.","cost":"N/A","type":"Passiva"}]},{"id":"curandeira","name":"Curandeira","type":"Bsica","role":"Suporte / Cura Natural","description":"Guardis da vida e das florestas, conectadas  energia da natureza para curar e proteger.","bonus_class":{"HP":3,"MP":2},"requirements":[],"abilities":[{"name":"Folha Serena","description":"Cura um aliado em 10 de HP.","cost":"8 MP","type":"Magia"},{"name":"Broto Purificador","description":"Remove um status negativo de um aliado.","cost":"18 MP","type":"Magia"},{"name":"Conexo Natural","description":"25% do dano recebido pelo aliado  transferido para a Curandeira por 3 turnos.","cost":"20 MP","type":"Magia"},{"name":"Vinhas Enlaantes","description":"Prende at 3 inimigos, impedindo movimento por 2 turnos.","cost":"24 MP","type":"Magia"},{"name":"Nvoa Vigorosa","description":"Cura leve em todos os aliados prximos (rea 3 blocos).","cost":"35 MP","type":"Magia"},{"name":"Refrigrio da Floresta","description":"30% de chance de conceder Resistncia Natural (+5 ARM ou +5 RES) ao curar.","cost":"N/A","type":"Passiva"}]},{"id":"exilado","name":"Exilado","type":"Bsica","role":"Lutador Adaptvel / Sobrevivente","description":"Viera masculinos banidos que aprenderam a sobreviver por conta prpria, adaptando-se a qualquer arma.","bonus_class":{"Livre":5},"requirements":[],"abilities":[{"name":"Tiro Preciso","description":"Disparo com preciso perfeita (usa SOR).","cost":"N/A","type":"HB (Arco)"},{"name":"Golpe Silencioso","description":"Causa DANO CRTICO automtico se o alvo estiver de costas.","cost":"N/A","type":"HB (Adaga)"},{"name":"Finta Desarmante","description":"Reduz o ATAQUE do inimigo por 2 turnos.","cost":"N/A","type":"HB (Espada)"},{"name":"Ruptura Selvagem","description":"Ignora a DEFESA do inimigo e causa dano elevado.","cost":"N/A","type":"HB (Espado)"},{"name":"Primeiros Socorros","description":"Cura 20% do HP a si mesmo ou aliado.","cost":"N/A","type":"HB"},{"name":"Adaptao de Combate","description":"Pode trocar a arma equipada 1 vez por turno sem custo de ao.","cost":"N/A","type":"Passiva"}]},{"id":"guerreiro","name":"Guerreiro","type":"Bsica","role":"Linha de Frente / Espancador","description":"Muralhas de msculo treinados para esmagar o inimigo com pura fora fsica.","bonus_class":{"CONS":5},"requirements":[],"abilities":[{"name":"Primeiro Socorro","description":"Trata os prprios ferimentos, restaurando 20% do HP.","cost":"N/A","type":"HB"},{"name":"Poder de Rend","description":"Reduz o ATAQUE do alvo.","cost":"N/A","type":"HB"},{"name":"Rend Magick","description":"Reduz a MAGIA do alvo.","cost":"N/A","type":"HB"},{"name":"Batida Corporal","description":"Investida causando dano FOR+CONS, volta 40% do dano a si mesmo.","cost":"N/A","type":"HB"},{"name":"Grito de Guerra","description":"Imobiliza o inimigo por 2 turnos e pode causar medo.","cost":"N/A","type":"HB"},{"name":"Monkey Grip","description":"Permite empunhar armas de duas mos com uma mo s.","cost":"N/A","type":"Passiva"}]},{"id":"monge","name":"Monge","type":"Bsica","role":"Linha de Frente / Espancador","description":"Lutadores que usam o ki e seus prprios corpos como armas letais.","bonus_class":{"FOR":3,"CONS":2},"requirements":[],"abilities":[{"name":"Onda Giratria","description":"Ataque giratrio que atinge todos ao redor em 1 bloco.","cost":"N/A","type":"HB"},{"name":"Pulso de Ar","description":"Soco com ki que causa dano e empurra o alvo 2 blocos.","cost":"N/A","type":"HB"},{"name":"Pulso de Terra","description":"Dano terrestre em linha reta (at 3 blocos).","cost":"N/A","type":"HB"},{"name":"Exploso de Ki","description":"Dano em rea de 2 blocos ao redor do monge.","cost":"N/A","type":"HB"},{"name":"Meditao","description":"Restaura 20% de HP e remove status negativos.","cost":"N/A","type":"HB"},{"name":"Reflexo","description":"50% de chance de desviar de ataques bsicos fsicos.","cost":"N/A","type":"Reao"}]},{"id":"animista","name":"Animista","type":"Bsica","role":"Suporte / Manipulador de Status","description":"Moogles que usam instrumentos e talentos imprevisveis para causar efeitos absurdos no campo.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"L Fofa","description":"Garante status 'Proteo' e 'Shell' por 3 turnos.","cost":"8 MP","type":"Magia"},{"name":"Erva de Gato","description":"Aplica 'BERSERK' no inimigo.","cost":"8 MP","type":"HB"},{"name":"Canto do Sapo","description":"Transforma o alvo em SAPO por 2 turnos.","cost":"22 MP","type":"Magia"},{"name":"Cozinhar","description":"Restaura 50% do HP do Alvo.","cost":"22 MP","type":"HB"},{"name":"Conte Ovelhinhas","description":"Faz todos os inimigos em pequena rea adormecerem.","cost":"15 MP","type":"Magia"},{"name":"Abanar o Rabo","description":"20% de chance de ENCANTAR o atacante quando alvejado.","cost":"N/A","type":"Reao"}]},{"id":"engenheiro","name":"Engenheiro","type":"Bsica","role":"Suporte Aleatrio / Caos Tecnolgico","description":"Gnios insanos que usam aparatos e mecanismos imprevisveis.","bonus_class":{"SOR":3,"INT":2},"requirements":[],"abilities":[{"name":"Box Vermelha","description":"Lana 'Haste' em uma unidade aleatria.","cost":"8 MP","type":"HB"},{"name":"Kit Azul","description":"Lana 'Dissipar' ao colidir com alvo aleatrio.","cost":"8 MP","type":"HB"},{"name":"Chaves Negras","description":"Aplica 'Condenao' em quem for atingido.","cost":"20 MP","type":"HB"},{"name":"Bateria Dourada","description":"Restaura 50% HP em uma unidade aleatria.","cost":"16 MP","type":"HB"},{"name":"Borrifador Verde","description":"Aplica VENENO em uma unidade aleatria na rea.","cost":"8 MP","type":"HB"},{"name":"Ajuste Rpido","description":"Permite reutilizar habilidade que falhou no turno seguinte sem custo de MP.","cost":"N/A","type":"Passiva"}]},{"id":"raptora","name":"Raptora","type":"Bsica","role":"Lutadora de Linha de Frente / Alta Mobilidade","description":"Guerreiras aladas que usam velocidade e instintos aguados para ataques rpidos.","bonus_class":{"FOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Ciclone","description":"Causa dano de vento em rea pequena.","cost":"N/A","type":"HB"},{"name":"Poder de Rend","description":"Reduz o ATAQUE do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Rend Magick","description":"Reduz a MAGIA do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Rend MP","description":"Diminui MP do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Redemoinho","description":"Lminas de vento causam dano e CONFUSO.","cost":"N/A","type":"HB"},{"name":"Salvaguarda","description":"Impede que a arma seja roubada ou destruda.","cost":"N/A","type":"Passiva"}]},{"id":"rastreadora","name":"Rastreadora","type":"Bsica","role":"Caadora / Suporte de Rastreio e Preciso","description":"Mestres da observao que leem o terreno e perseguem presas.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Sonic Boom","description":"Dano sonoro impossvel de desviar.","cost":"N/A","type":"HB"},{"name":"Expulsar","description":"Fora um monstro a fugir do combate.","cost":"N/A","type":"HB"},{"name":"Rastrear","description":"Marca um Monstro como 'presa', causando DANO DOBRADO.","cost":"N/A","type":"HB"},{"name":"Investigar","description":"Revela todas as informaes do alvo.","cost":"N/A","type":"HB"},{"name":"ltimo Tiro","description":"Alto dano com chance de infligir CONDENAO.","cost":"N/A","type":"HB"},{"name":"Sobrevivente","description":"Recebe REGEN quando estiver com 20% de HP ou menos.","cost":"N/A","type":"Passiva"}]},{"id":"espadachim","name":"Espadachim","type":"Bsica","role":"Lutador Verstil / Duelo & Tcnica","description":"Guerreiros disciplinados que combinam preciso fsica e poder mgico na lmina.","bonus_class":{"FOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Corte Cruzado","description":"Dano em rea frontal (arco) em at 3 inimigos.","cost":"N/A","type":"HB"},{"name":"Olhos no Duelo","description":"+25% de dano se enfrentar apenas um inimigo.","cost":"N/A","type":"HB"},{"name":"Corte Etreo","description":"Golpe mgico  distncia (FOR+INT).","cost":"10 MP","type":"HB"},{"name":"Passo Veloz","description":"Move-se para trs do inimigo com +50% de chance de crtico.","cost":"N/A","type":"HB"},{"name":"Trifria","description":"Combo de 3 ataques com chance de Sangramento.","cost":"N/A","type":"HB"},{"name":"Corte Reflexivo","description":"30% de chance de aparar projteis fsicos.","cost":"N/A","type":"Reao"}]},{"id":"ladra","name":"Ladra","type":"Bsica","role":"Furtividade / Roubo","description":"Mestras do furto e agilidade que roubam itens e gil em combate.","bonus_class":{"SOR":3,"CAR":2},"requirements":[],"abilities":[{"name":"Roubar Gil","description":"Tenta roubar dinheiro.","cost":"N/A","type":"HB"},{"name":"Roubar Item","description":"Tenta roubar um item.","cost":"N/A","type":"HB"},{"name":"Roubar Equipamento","description":"Tenta roubar o Equipamento do alvo.","cost":"N/A","type":"HB"},{"name":"Destrancar","description":"Pode destrancar portas ou bas.","cost":"N/A","type":"HB"},{"name":"Golpe Furtivo","description":"Dobro de dano se estiver Escondida.","cost":"N/A","type":"HB"},{"name":"Instinto Possessivo","description":"Evita roubo e tenta roubar a arma do ladro.","cost":"N/A","type":"Reao"}]},{"id":"espreitadora","name":"Espreitadora","type":"Bsica","role":"Furtividade / Infiltrao","description":"Especialistas em camuflagem e eliminao silenciosa.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Ataque Surpresa","description":"Crtico automtico se fora do campo de viso.","cost":"N/A","type":"HB"},{"name":"Rpida e Escondida","description":"Velocidade dobrada quando camuflada.","cost":"N/A","type":"Passiva"},{"name":"Manto Noturno","description":"Aumenta chance de camuflagem  noite.","cost":"N/A","type":"Passiva"},{"name":"Silncio","description":"Aplica Silncio por 3 turnos (apenas camuflada).","cost":"N/A","type":"HB"},{"name":"Derrubada Mortal","description":"Elimina instantaneamente alvo pelas costas (apenas camuflada).","cost":"N/A","type":"HB"},{"name":"Morte Silenciosa","description":"50% de chance de permanecer camuflada aps eliminar alvo.","cost":"N/A","type":"Passiva"}]},{"id":"adestrador","name":"Adestrador","type":"Bsica","role":"Controle de Criaturas / Suporte Ttico","description":"Especialistas em lidar com a vida selvagem, controlando monstros temporariamente.","bonus_class":{"CAR":5},"requirements":[],"abilities":[{"name":"Adestrar","description":"Controla um monstro por 5 turnos.","cost":"N/A","type":"HB"},{"name":"Bater ou Correr","description":"Recebe Haste quando HP chega a 10%.","cost":"N/A","type":"Reao"}]},{"id":"escudeiro","name":"Escudeiro","type":"Bsica","role":"Defensor / Suporte com Itens","description":"Pilares de defesa que protegem aliados e usam itens de suporte.","bonus_class":{"CONS":5},"requirements":[],"abilities":[{"name":"Postura de Defesa","description":"Reduz pela metade o dano recebido at o prximo turno.","cost":"N/A","type":"HB"},{"name":"Apoio Vital","description":"Usa at 2 poes para curar aliados adjacentes.","cost":"N/A","type":"HB"},{"name":"Eu te Protejo!","description":"Salta no aliado que tomar dano e absorve o golpe.","cost":"N/A","type":"Reao"},{"name":"Lanamento Cuidadoso","description":"Arremessa item a at 3 blocos.","cost":"N/A","type":"HB"},{"name":"Grito Protetor","description":"Provoca inimigos forando ataque ao Escudeiro.","cost":"N/A","type":"HB"},{"name":"Reao Instintiva","description":"Usa poo automaticamente ao sofrer golpe com HP baixo.","cost":"N/A","type":"Reao"}]},{"id":"mago_negro","name":"Mago Negro","type":"Bsica","role":"Ofensivo Mgico / Controle Elemental","description":"Conjuradores que dominam a magia elemental destrutiva.","bonus_class":{"INT":3,"MP":2},"requirements":[],"abilities":[{"name":"Fire","description":"Esfera de fogo em rea (alvo + 1 casa cada lado).","cost":"10 MP","type":"Magia"},{"name":"Blizzard","description":"Fragmento congelante perfurante.","cost":"10 MP","type":"Magia"},{"name":"Thunder","description":"Raio direto sobre inimigo e adjacentes.","cost":"10 MP","type":"Magia"},{"name":"Aero","description":"Turbilho de vento em rea.","cost":"10 MP","type":"Magia"},{"name":"Telecinese","description":"Move objeto/unidade at 5 blocos.","cost":"10 MP","type":"Magia"},{"name":"Absorver Mana","description":"Absorve 20% do dano mgico recebido como Mana.","cost":"N/A","type":"Reao"}]},{"id":"ocultista","name":"Ocultista","type":"Bsica","role":"Mago das Sombras / Maldies","description":"Estudiosos do proibido que manipulam trevas e maldies.","bonus_class":{"MP":3,"INT":2},"requirements":[],"abilities":[{"name":"Escurido","description":"Dano mgico de trevas em rea.","cost":"10 MP","type":"Magia"},{"name":"Ritual da Condenao","description":"Aplica CONDENAO no alvo.","cost":"15 MP","type":"Magia"},{"name":"Barreira do Silncio","description":"Aplica SILNCIO no alvo.","cost":"15 MP","type":"Magia"},{"name":"Vu Cego","description":"Aplica CEGUEIRA no alvo.","cost":"15 MP","type":"Magia"},{"name":"Avada Mortis","description":"Tenta aplicar morte instantnea.","cost":"30 MP","type":"Magia"},{"name":"Olhar do Abismo","description":"Aumenta INT aps concluir maldio.","cost":"N/A","type":"Passiva"}]},{"id":"quimico_avancado","name":"Qumico Avanado","type":"Avanada","role":"Suporte / Manipulador de Itens","description":"Evoluo do Qumico, usa reaes elementares e poes ofensivas em rea.","bonus_class":{"SOR":4,"CAR":2},"requirements":["3 Habilidades Mestre em Qumico","+30 SOR"],"abilities":[{"name":"Criar Poo Avanada","description":"Cria poes de qualidade superior.","cost":"N/A","type":"HB"},{"name":"Arremesso Rpido","description":"Arremessa at 3 poes em um movimento.","cost":"N/A","type":"HB"},{"name":"Frasco Venenoso","description":"Libera veneno em rea.","cost":"N/A","type":"HB"},{"name":"Frasco Milagroso","description":"Remove todos status negativos.","cost":"N/A","type":"HB"},{"name":"Dose Grande","description":"Aumenta rea de efeito da poo.","cost":"N/A","type":"HB"},{"name":"Pr-Preparo","description":"Inicia combate com 2 poes prontas.","cost":"N/A","type":"Passiva"}]},{"id":"clerigo","name":"Clrigo","type":"Avanada","role":"Curandeiro de Linha de Frente","description":"Elo entre fora e f, luta na frente enquanto cura aliados.","bonus_class":{"CONS":4,"MANA":2},"requirements":["1 Habilidade Mestre em Soldado","2 Habilidades Mestre em Mago Branco","+20 FOR"],"abilities":[{"name":"Julgamento Divino","description":"Dano sagrado (FOR+Luz).","cost":"20 MP","type":"Magia"},{"name":"Palavras de F","description":"Concede Barreira e Shell.","cost":"15 MP","type":"Magia"},{"name":"Espurgar","description":"Expulsa monstros espirituais.","cost":"25 MP","type":"Magia"},{"name":"Martelo Giratrio","description":"Dano em rea ao redor (CONS+FOR+Luz).","cost":"30 MP","type":"HB"},{"name":"Ruptura Divina","description":"Exploso triangular de luz.","cost":"50 MP","type":"HB"},{"name":"Estou com Voc","description":"Cura auto 10% de aliado adjacente por turno.","cost":"N/A","type":"Passiva"}]},{"id":"alquimista","name":"Alquimista","type":"Avanada","role":"Suporte / Manipulador de Campo","description":"Molda o mundo convertendo solo e energia em poder.","bonus_class":{"INT":4,"MANA":2},"requirements":["2 Habilidades Mestre em Mago Branco","1 Habilidade Mestre em Qumico","+30 INT"],"abilities":[{"name":"Pilar de Pedra","description":"Pilar de rocha atinge inimigo (INT+Terra).","cost":"20 MP","type":"Magia"},{"name":"Canho de Pedra","description":"Projtil de rocha distante.","cost":"20 MP","type":"Magia"},{"name":"Correntes de Solo","description":"Imobiliza inimigo.","cost":"17 MP","type":"Magia"},{"name":"Transmutao Peridica","description":"Altera elemento natural de rea/objeto.","cost":"30 MP","type":"Magia"},{"name":"Golem de Pedra","description":"Cria golem controlvel.","cost":"50 MP","type":"Magia"},{"name":"Muro","description":"Bloqueia ataque com muro de pedra.","cost":"N/A","type":"Reao"}]},{"id":"duelista","name":"Duelista","type":"Avanada","role":"Lutador de Elite / Combate Singular","description":"pice do domnio da espada, focado em preciso e duelos.","bonus_class":{"FOR":4,"VEL":2},"requirements":["3 Habilidades Mestre em Espadachim","+30 FOR","+20 VEL"],"abilities":[{"name":"BackStep","description":"Salta 2 blocos para esquiva.","cost":"N/A","type":"HB"},{"name":"Eu Contra Voc","description":"+50% dano em alvo nico.","cost":"N/A","type":"HB"},{"name":"Chuva de Lminas","description":"Trs cortes de ar consecutivos.","cost":"N/A","type":"HB"},{"name":"Postura de Batalha","description":"Aumenta ataque fsico em 50%.","cost":"N/A","type":"HB"},{"name":"Grande Slash","description":"Golpe que percorre o campo todo.","cost":"N/A","type":"HB"},{"name":"Defesa Contnua","description":"Desvia golpe se FOR > inimigo.","cost":"N/A","type":"Reao"}]},{"id":"iluminista","name":"Iluminista","type":"Avanada","role":"Mago Supremo / Controlador Elemental Global","description":"Concentra energia para ataques globais ou curas totais.","bonus_class":{"INT":5,"MANA":5},"requirements":["5 Habilidades Mestre em Mago Branco","5 Habilidades Mestre em Mago Negro"],"abilities":[{"name":"Piromancia","description":"Dano global de Fogo aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Aquamancia","description":"Dano global de gua aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Raiomancia","description":"Dano global de Trovo aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Whitemancia","description":"Cura global 50% HP aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Tretamancia","description":"Plasma linear de ponta a ponta.","cost":"50 MP","type":"Magia"},{"name":"Ritual Seguro","description":"Ativa Barreira/Veloz ao ser alvejado conjurando.","cost":"N/A","type":"Reao"}]},{"id":"oppenheir","name":"Oppenheir","type":"Avanada","role":"Mestre Qumico / Manipulador da Destruio","description":"Alquimia levada ao limite de exploses e reaes em cadeia.","bonus_class":{"SOR":10},"requirements":["5 Habilidades Mestre em Qumico","5 Habilidades Mestre em Qumico Avanado"],"abilities":[{"name":"Reao Altrusta","description":"Exploso de cura e remoo de status.","cost":"N/A","type":"HB"},{"name":"Nuvem Txica","description":"Veneno em rea e reduz preciso.","cost":"N/A","type":"HB"},{"name":"Ignis Vitae","description":"Chamas conscientes perseguidoras.","cost":"N/A","type":"HB"},{"name":"Fragmento Celular","description":"Microexploso de dano massivo.","cost":"N/A","type":"HB"},{"name":"Bomba Atmica","description":"Exploso que elimina todos no campo (exceto cobertura).","cost":"N/A","type":"HB"},{"name":"Entropia Perfeita","description":"Chance de remover penalidades ao explodir.","cost":"N/A","type":"Passiva"}]},{"id":"eremita","name":"Eremita","type":"Avanada","role":"Tanque / Protetor Espiritual","description":"Sacerdote de batalha que converte dano em sacrifcio e proteo.","bonus_class":{"CONS":10},"requirements":["5 Habilidades Mestre em Clrigo","+100 CONS"],"abilities":[{"name":"F ao Meu Redor","description":"Aura cura 50% HP aliados prximos.","cost":"N/A","type":"HB"},{"name":"F do Sol","description":"Raio solar expurga mortos-vivos e queima.","cost":"N/A","type":"HB"},{"name":"F da Lua","description":"Cura 100% HP aliados prximos.","cost":"N/A","type":"HB"},{"name":"F do Ferro","description":"Concede Shell+ e Barreira+.","cost":"N/A","type":"HB"},{"name":"F do Brbaro","description":"Provoca inimigos e soma CONS ao dano.","cost":"N/A","type":"HB"},{"name":"Aquele que Me Protege","description":"Converte 20% do dano recebido em cura.","cost":"N/A","type":"Passiva"}]},{"id":"arquidenio","name":"Arquidnio","type":"Avanada","role":"Suporte / Manipulador de Probabilidades","description":"Mago matemtico que manipula valores e estatsticas de combate.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Alquimista","+100 INT"],"abilities":[{"name":"O Dobro","description":"Dobra qualquer valor por 1 turno.","cost":"50 MP","type":"Magia"},{"name":"Pela Metade","description":"Divide qualquer valor por 2.","cost":"50 MP","type":"Magia"},{"name":"100%","description":"Garante acerto absoluto.","cost":"70 MP","type":"Magia"},{"name":"0%","description":"Anula valor ou chance a 0.","cost":"70 MP","type":"Magia"},{"name":"Septania","description":"Multiplica valor por 7x.","cost":"100 MP","type":"Magia"},{"name":"Lgica Perfeita","description":"Resultado natural 20 uma vez por batalha.","cost":"N/A","type":"Passiva"}]},{"id":"samurai","name":"Samurai","type":"Avanada","role":"Ofensivo / Especialista em Duelo","description":"Guerreiro disciplinado que une velocidade e fora em cortes perfeitos.","bonus_class":{"FOR":5,"VEL":5},"requirements":["5 Habilidades Mestre em Espadachim","5 Habilidades Mestre em Duelista"],"abilities":[{"name":"Saque Rpido","description":"Duplica FOR e VEL por 1 turno.","cost":"N/A","type":"HB"},{"name":"Furaco da Folha","description":"Tornado de cortes em linha reta.","cost":"N/A","type":"HB"},{"name":"Olhos de Falco","description":"Soma FOR + SOR contra alvo.","cost":"N/A","type":"HB"},{"name":"Corte do Drago","description":"Golpe instantneo. 20 natural elimina alvo.","cost":"N/A","type":"HB"},{"name":"Cu Limpo","description":"Corte vertical colossal aps preparao.","cost":"N/A","type":"HB"},{"name":"Empunhadura Dupla","description":"Pode empunhar duas armas.","cost":"N/A","type":"Passiva"}]},{"id":"gladiador","name":"Gladiador","type":"Avanada","role":"Linha de Frente / Controle e Fora Bruta","description":"Colosso de arena que luta por glria e brutalidade.","bonus_class":{"FOR":4,"CONS":2},"requirements":["2 Habilidades Mestre em Guerreiro","+30 FOR"],"abilities":[{"name":"Grito Selvagem","description":"Aumenta FOR e provoca inimigos.","cost":"N/A","type":"HB"},{"name":"Investida de Escudo","description":"Dano de impacto com escudo.","cost":"N/A","type":"HB"},{"name":"Espancamento","description":"5 golpes consecutivos, pode imobilizar.","cost":"N/A","type":"HB"},{"name":"Espada Flamejante","description":"Causa Queimadura com ataques fsicos.","cost":"N/A","type":"HB"},{"name":"Postura de Luta","description":"Evita ataques e contra-ataca.","cost":"N/A","type":"HB"},{"name":"Escudeiro","description":"Pode usar escudos em qualquer classe.","cost":"N/A","type":"Passiva"}]},{"id":"artista_marcial","name":"Artista Marcial","type":"Avanada","role":"Linha de Frente / Especialista em Combos","description":"Especialista em golpes precisos e canalizao de fora vital.","bonus_class":{"VEL":4,"CONS":2},"requirements":["2 Habilidades Mestre em Monge","+30 VEL"],"abilities":[{"name":"Combo do Tigre","description":"3 golpes, dano aumenta a cada acerto.","cost":"N/A","type":"HB"},{"name":"Golpe Serpenteante","description":"Aproximao em zigue-zague e crtico.","cost":"N/A","type":"HB"},{"name":"Palma Sagrada","description":"Golpe de dano puro que ignora armadura.","cost":"N/A","type":"HB"},{"name":"Passo do Vento","description":"Teleporte curto e ataque surpresa.","cost":"N/A","type":"HB"},{"name":"Punhos do Drago","description":"5 golpes simultneos com chance de atordoar.","cost":"N/A","type":"HB"},{"name":"Esprito Indomvel","description":"Ganha FOR e VEL quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"lanceiro","name":"Lanceiro","type":"Avanada","role":"Ofensivo / Alcance e Preciso","description":"Predador de longo alcance com lanas.","bonus_class":{"VEL":4,"SOR":2},"requirements":["2 Habilidades Mestre em Guerreiro","+30 VEL"],"abilities":[{"name":"Ponta Longa","description":"Estende alcance para 4 blocos.","cost":"N/A","type":"HB"},{"name":"Dardo de Javali","description":"Arremessa a lana perfurando linha reta.","cost":"N/A","type":"HB"},{"name":"Jump","description":"Salta e cai sobre inimigo com dano alto.","cost":"N/A","type":"HB"},{"name":"Barreira de Cabo","description":"Empurra inimigos adjacentes.","cost":"N/A","type":"HB"},{"name":"Ponta Perfurante","description":"Golpe linear que perfura alvos.","cost":"N/A","type":"HB"},{"name":"Rpido como uma Lana","description":"Converte VEL em dano quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"lutador_de_rua","name":"Lutador de Rua","type":"Avanada","role":"Ofensivo / Anti-Honra","description":"Brigo desonesto que usa fora bruta e truques sujos.","bonus_class":{"Livre":6},"requirements":["2 Habilidades Mestre em Monge","1 Habilidade Mestre em outra classe"],"abilities":[{"name":"Vou te Arrebentar!","description":"+20% dano contra alvo marcado.","cost":"N/A","type":"HB"},{"name":"Lariat de Msculos","description":"Golpe de brao com chance de Atordoar.","cost":"N/A","type":"HB"},{"name":"Soco na Costela","description":"Finta e golpe crtico preciso.","cost":"N/A","type":"HB"},{"name":"Rasteira Malandra","description":"Aplica Imobilizado.","cost":"N/A","type":"HB"},{"name":"Sequncia de Raiva","description":"5 ataques e entra em Fria.","cost":"N/A","type":"HB"},{"name":"Covarde","description":"Dobra VEL para fugir quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"vinking","name":"Vinking","type":"Avanada","role":"Brbaro Mstico","description":"Guerreiro ancestral guiado por troves e fria divina.","bonus_class":{"FOR":4,"CONS":2},"requirements":["3 Habilidades Mestre em Gladiador","+50 FOR","+50 CONS"],"abilities":[{"name":"Marchar de Heimdall","description":"Dobra VEL prpria e de aliados.","cost":"N/A","type":"HB"},{"name":"Trovo de Thor","description":"Raio cai a distncia.","cost":"N/A","type":"HB"},{"name":"Confronto de Tyr","description":"Dobra FOR por 5 turnos.","cost":"N/A","type":"HB"},{"name":"Ma de Iduna","description":"Recupera 80% HP e remove status.","cost":"N/A","type":"HB"},{"name":"Por Odin!","description":"Aumenta todos atributos por 1 turno.","cost":"N/A","type":"HB"},{"name":"At Valhalla","description":"Converte CONS em FOR quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"templario","name":"Templrio","type":"Avanada","role":"Mobilidade Extrema / Linha de Frente","description":"Soldado perfeito que domina o campo com lana e velocidade.","bonus_class":{"VEL":4,"CONS":2},"requirements":["3 Habilidades Mestre em Lanceiro","+50 VEL","+50 FOR"],"abilities":[{"name":"Salto Rpido","description":"Teleporte para qualquer parte do mapa.","cost":"N/A","type":"HB"},{"name":"Avano Perfurante","description":"Avano linear perfurante.","cost":"N/A","type":"HB"},{"name":"Dardos Perfurantes","description":"5 ataques em sequncia.","cost":"N/A","type":"HB"},{"name":"Lana Flamejante","description":"Adiciona Fogo aos ataques.","cost":"N/A","type":"HB"},{"name":"Dardo do Drago","description":"Arremesso perfurante em linha reta.","cost":"N/A","type":"HB"},{"name":"Lana Giratria","description":"Evita ataques  distncia.","cost":"N/A","type":"Reao"}]},{"id":"mestre_artes_marciais","name":"Mestre das Artes Marciais","type":"Avanada","role":"Duelista / Manipulador de Ki","description":"Harmonia total entre corpo e Ki.","bonus_class":{"CONS":4,"Livre":2},"requirements":["5 Habilidades Mestre em Monge","5 Habilidades Mestre em Artista Marcial"],"abilities":[{"name":"Dana do Carvalho Vermelho","description":"Combo de 5 golpes de vento.","cost":"N/A","type":"HB"},{"name":"Palma do Drago","description":"Ondas de ar  distncia.","cost":"N/A","type":"HB"},{"name":"Teken","description":"Dobra ARM e RES por 5 turnos.","cost":"N/A","type":"HB"},{"name":"Dana do Sabugueiro Marrom","description":"Reduz ARM do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Dana do Esprito Branco","description":"Clone dobra aes por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Intuio de Ki","description":"Imune a surpresas.","cost":"N/A","type":"Passiva"}]},{"id":"brutamontes","name":"Brutamontes","type":"Avanada","role":"Tanque Ofensivo","description":"Muralha do submundo que protege e esmaga.","bonus_class":{"CAR":4,"SOR":2},"requirements":["5 Habilidades Mestre em Lutador de Rua","100 FOR"],"abilities":[{"name":"No Vai Passar","description":"Bloqueia avano inimigo e dobra defesa.","cost":"N/A","type":"HB"},{"name":"Lariat Duplo","description":"Arrasta inimigos adjacentes.","cost":"N/A","type":"HB"},{"name":"Emboscada","description":"Recupera HP e contra-ataca quem aproximar.","cost":"N/A","type":"HB"},{"name":"Pose do Brutamontes","description":"Salto esmagador com onda de choque.","cost":"N/A","type":"HB"},{"name":"Manda-Chuva","description":"Buffa aliados e debuffa inimigos em rea.","cost":"N/A","type":"HB"},{"name":"Fraco Demais","description":"Nega dano menor que sua FOR.","cost":"N/A","type":"Passiva"}]},{"id":"cavaleiro_dragao","name":"Cavaleiro Drago","type":"Avanada","role":"Caador de Drages / Ofensivo Elemental","description":"Guerreiros que usam poderes de drago.","bonus_class":{"CONS":5,"BonusDanoDragao":"20%"},"requirements":["Eliminar um Drago"],"abilities":[{"name":"Bafo do Drago Vermelho","description":"Fogo em rea triangular.","cost":"N/A","type":"HB"},{"name":"Garras do Drago Ciano","description":"Golpe de gelo com avano.","cost":"N/A","type":"HB"},{"name":"Salto do Drago Amarelo","description":"Salto eltrico (1 turno no ar).","cost":"N/A","type":"HB"},{"name":"Beno do Drago Azul","description":"Cura 50% HP.","cost":"N/A","type":"HB"},{"name":"Energia do Drago Branco","description":"Raio de luz linear.","cost":"N/A","type":"HB"},{"name":"Aura de Drago","description":"Monstros fracos sentem medo.","cost":"N/A","type":"Passiva"}]},{"id":"dragonslayer","name":"Dragonslayer","type":"Avanada","role":"Anti-Drago / Executador","description":"Arma final contra drages, capaz de subjugar feras colossais.","bonus_class":{"FOR":6,"BonusDanoDragao":"60%"},"requirements":["5 Habilidades Mestre em Cavaleiro Drago"],"abilities":[{"name":"Sopro do Drago Esmeralda","description":"Nuvem txica em rea.","cost":"N/A","type":"HB"},{"name":"Rasante do Drago Prateado","description":"Rasante de vento linear mapa todo.","cost":"N/A","type":"HB"},{"name":"Escamas do Drago Ouro","description":"Dobra ARM e RES.","cost":"N/A","type":"HB"},{"name":"Tremor do Drago de Bronze","description":"Estacas de pedra e tremor.","cost":"N/A","type":"HB"},{"name":"Ameaa do Drago Negro","description":"Miasma negra aplica Condenao.","cost":"N/A","type":"HB"},{"name":"Escamas Elementais","description":"Absorve dano elemental convertendo em CONS.","cost":"N/A","type":"Passiva"}]},{"id":"xama","name":"Xam","type":"Avanada","role":"Debuff / Manipulador de Caos","description":"Lida com foras ocultas e ancestrais dos pntanos.","bonus_class":{"MANA":3,"CONS":2},"requirements":["2 Habilidades Mestre em Curandeiro","+30 MANA"],"abilities":[{"name":"Xabala Cegaris","description":"Cega alvo por 5 turnos.","cost":"15 MP","type":"Magia"},{"name":"Ziriki Sileci","description":"Silencia alvo por 5 turnos.","cost":"15 MP","type":"Magia"},{"name":"Urucubaca","description":"Aplica Envenenamento.","cost":"20 MP","type":"Magia"},{"name":"Ianhamaj","description":"Imobiliza alvo por 5 turnos.","cost":"20 MP","type":"Magia"},{"name":"Zakarinhad","description":"Aplica Condenao.","cost":"30 MP","type":"Magia"},{"name":"Oshala","description":"Imune a status negativos.","cost":"N/A","type":"Passiva"}]},{"id":"monge_do_pantano","name":"Monge do Pntano","type":"Avanada","role":"Lutador de Terreno / Porradeiro","description":"Canaliza a densidade do pntano em golpes pesados.","bonus_class":{"CONS":3,"FOR":2},"requirements":["1 Habilidade Mestre em Curandeiro","1 Habilidade Mestre em Escudeiro","+20 FOR"],"abilities":[{"name":"Soco do Pntano","description":"Golpe aqutico carregado.","cost":"N/A","type":"HB"},{"name":"Barrigada","description":"Esmaga e empurra.","cost":"N/A","type":"HB"},{"name":"Vu do Pntano","description":"Dobra RES por 3 turnos.","cost":"N/A","type":"HB"},{"name":"Abrao do Pntano","description":"Agarro esmagador.","cost":"N/A","type":"HB"},{"name":"Boxe do Pntano","description":"3 golpes consecutivos pantanosos.","cost":"N/A","type":"HB"},{"name":"gua Est Comigo","description":"Dobra dano em terreno de gua.","cost":"N/A","type":"Passiva"}]},{"id":"glutao","name":"Gluto","type":"Avanada","role":"Tank / Absorvedor de Dano","description":"Foras da natureza famintas e indestrutveis.","bonus_class":{"CONS":5},"requirements":["1 Habilidade Mestre em Curandeiro","1 Habilidade Mestre em Escudeiro","+20 CONS"],"abilities":[{"name":"Investida do Sapo","description":"Atropela em linha reta.","cost":"N/A","type":"HB"},{"name":"Descanso do Sapo","description":"Cura e dobra defesa (imvel).","cost":"N/A","type":"HB"},{"name":"Arroto do Sapo","description":"Dano de impacto sonoro.","cost":"N/A","type":"HB"},{"name":"Pulo do Sapo","description":"Esmaga alvo com peso.","cost":"N/A","type":"HB"},{"name":"Vou Te Comer","description":"Devora inimigo com 25% HP ou menos.","cost":"N/A","type":"HB"},{"name":"Boca Sempre Mexendo","description":"Recupera 10% HP se no agir.","cost":"N/A","type":"Passiva"}]},{"id":"protetor","name":"Protetor","type":"Avanada","role":"Tank / Guardio de Campo","description":"Muralhas vivas dedicadas a proteger aliados.","bonus_class":{"CONS":5},"requirements":["2 Habilidades Mestre em Escudeiro","+30 CONS"],"abilities":[{"name":"Eu Tanko, Voc Mata","description":"Absorve 80% do dano de aliado e buffa FOR dele.","cost":"N/A","type":"HB"},{"name":"Investida do Escudo","description":"Corre com escudo e atordoa.","cost":"N/A","type":"HB"},{"name":"Reflexo do Escudo","description":"Escudo ricocheteia em inimigos.","cost":"N/A","type":"HB"},{"name":"Sapo Protetor","description":"Compartilha defesa com aliados ao redor.","cost":"N/A","type":"HB"},{"name":"Escudo de Proteo Areo","description":"Anula prximo dano em aliado.","cost":"N/A","type":"HB"},{"name":"Socorros Rpidos","description":"Salta para tomar golpe por aliado.","cost":"N/A","type":"Reao"}]},{"id":"pai_do_pantano","name":"Pai do Pntano","type":"Avanada","role":"Mago de Terreno / Controle","description":"Tornou-se um com o pntano, controlando razes e mars.","bonus_class":{"MANA":6},"requirements":["5 Habilidades Mestre em Xam","5 Habilidades Mestre em Curandeiro"],"abilities":[{"name":"Razes do Sabugueiro de Ihoa","description":"Imobiliza inimigos em rea.","cost":"50 MP","type":"Magia"},{"name":"Pico dos Pinheiros","description":"Pinheiros empalam inimigos.","cost":"50 MP","type":"Magia"},{"name":"Gota de Orvalho","description":"Cura 100% HP e remove status (rea).","cost":"50 MP","type":"Magia"},{"name":"Primavera Serena","description":"Dobra INT e RES de aliados.","cost":"40 MP","type":"Magia"},{"name":"Mar do Mangue","description":"Empurra inimigos, remove buffs e cura aliados (global).","cost":"100 MP","type":"Magia"},{"name":"Floresta Viva","description":"Razes prendem inimigos engajados.","cost":"N/A","type":"Passiva"}]},{"id":"sabio_do_pantano","name":"Sbio do Pntano","type":"Avanada","role":"Controle de gua / Contra-Golpe","description":"Domina a energia viva do pntano com constituio colossal.","bonus_class":{"CONS":6},"requirements":["5 Habilidades Mestre em Monge do Pntano","+100 CONS"],"abilities":[{"name":"Punho do Pntano","description":"Ataques ganham elemento gua.","cost":"N/A","type":"Passiva"},{"name":"Serpente do Pntano","description":"Ataque linear de gua.","cost":"N/A","type":"HB"},{"name":"AquaReflete","description":"Esfera de gua empurra alvo.","cost":"N/A","type":"HB"},{"name":"Pantanogan","description":"Esfera de gua empurra alvo.","cost":"N/A","type":"HB"},{"name":"Bola de Canho","description":"Projtil vivo de dano massivo.","cost":"N/A","type":"HB"},{"name":"Contra-Corpo","description":"Contra-ataca fsico e empurra.","cost":"N/A","type":"Reao"}]},{"id":"burgues_do_pantano","name":"Burgus do Pntano","type":"Avanada","role":"Tanque / Controle","description":"Suprema ganncia, usa corpo colossal e autoridade.","bonus_class":{"CONS":6},"requirements":["5 Habilidades Mestre em Gluto","+100 CONS"],"abilities":[{"name":"Imposto do Pntano","description":"Rouba 20% HP do alvo e remove buff.","cost":"N/A","type":"HB"},{"name":"Barriga Monrquica","description":"Dobra defesa e bloqueia passagem.","cost":"N/A","type":"HB"},{"name":"Banquete Exclusivo","description":"Cura 100% HP e ganha Fria.","cost":"N/A","type":"HB"},{"name":"Tesouro do Pntano","description":"Exploso de cofre.","cost":"N/A","type":"HB"},{"name":"Decreto de Propriedade","description":"Debuffa inimigos e buffa aliados em rea.","cost":"N/A","type":"HB"},{"name":"Soberania do Pntano","description":"Cura ao aproximar inimigo e aplica Lentido.","cost":"N/A","type":"Passiva"}]},{"id":"guardiao_do_pantano","name":"Guardio do Pntano","type":"Avanada","role":"Tanque / Suporte Supremo","description":"Monlito vivo que ergue muralhas de escudos.","bonus_class":{"CONS":10},"requirements":["5 Habilidades Mestre em Escudeiro","5 Habilidades Mestre em Protetor"],"abilities":[{"name":"Priso de Escudo","description":"Prende alvo em 4 escudos.","cost":"N/A","type":"HB"},{"name":"Dobro de Escudo","description":"Dobra qualquer escudo em jogo.","cost":"N/A","type":"HB"},{"name":"Grande Escudo","description":"Protege rea enorme atrs dele.","cost":"N/A","type":"HB"},{"name":"Escudo Revitalizador","description":"Cura 100% HP rea.","cost":"N/A","type":"HB"},{"name":"Proteo em Grande Escala","description":"Anula prximo dano em TODOS aliados.","cost":"N/A","type":"HB"},{"name":"Proteo Mgica","description":"Usa habilidade de proteo em aliado alvejado.","cost":"N/A","type":"Reao"}]},{"id":"cantor_das_mares","name":"Cantor das Mars","type":"Avanada","role":"Suporte / Buffer Musical","description":"Bardos que usam melodias espirituais.","bonus_class":{"CAR":5},"requirements":["+50 CAR"],"abilities":[{"name":"Cantar","description":"Executa msica do repertrio (efeitos variados).","cost":"N/A","type":"HB"},{"name":"Palco Improvisado","description":"Dobro de efeito se estiver em terreno elevado.","cost":"N/A","type":"Passiva"}]},{"id":"astro_do_pantano","name":"Astro do Pntano","type":"Avanada","role":"Suporte Musical / Manipulador de Moral","description":"cone musical que move multides.","bonus_class":{"CAR":10},"requirements":["Ttulo musical com Cantor das Mars"],"abilities":[{"name":"Mashup","description":"Combina duas msicas simultneas.","cost":"N/A","type":"HB"},{"name":"Charme Musical","description":"Enfeitia atacante.","cost":"N/A","type":"Reao"}]},{"id":"sutileira","name":"Sutileira","type":"Avanada","role":"Roubo de Elite / Suporte Social","description":"Ladras de alta classe, elegantes e imperceptveis.","bonus_class":{"CAR":3,"SOR":2},"requirements":["2 Habilidades Mestre em Ladra","+20 SOR"],"abilities":[{"name":"Roubar Arma Principal","description":"Furta a arma equipada do alvo.","cost":"N/A","type":"HB"},{"name":"Roubar Acessrios","description":"Furta anis/colares.","cost":"N/A","type":"HB"},{"name":"Roubar Item de Luxo","description":"Furta item mais raro.","cost":"N/A","type":"HB"},{"name":"Detectar Armadilhas","description":"Percebe armadilhas em raio de 5 blocos.","cost":"N/A","type":"HB"},{"name":"Famme Fatale","description":"Encanta alvo e pode aplicar Condenao.","cost":"N/A","type":"HB"},{"name":"Mestre dos Assaltos","description":"No ativa armadilhas.","cost":"N/A","type":"Passiva"}]},{"id":"rastreadora_avancada","name":"Rastreadora (Avanada)","type":"Avanada","role":"Dano / Furtividade / Controle","description":"Felinas letais que unem furtividade com caa predatria.","bonus_class":{"SOR":3,"VEL":2},"requirements":["2 Habilidades Mestre em Espreitadora","+20 VEL"],"abilities":[{"name":"Cheiro do Medo","description":"Dobra MOV na direo do alvo.","cost":"N/A","type":"HB"},{"name":"Detectar Fraqueza","description":"Prximo ataque soma SOR ao dano.","cost":"N/A","type":"HB"},{"name":"Colocar Armadilhas","description":"Instala armadilha no campo.","cost":"N/A","type":"HB"},{"name":"Salto da Morte","description":"Ataque de cima com bnus de SOR.","cost":"N/A","type":"HB"},{"name":"Morte em Sequncia","description":"Golpe linear em todos no trajeto.","cost":"N/A","type":"HB"},{"name":"Contra Ataque","description":"Contra-ataca fsico adjacente.","cost":"N/A","type":"Reao"}]},{"id":"kunoichi","name":"Kunoichi","type":"Avanada","role":"Ninjutsu / Controle Elemental","description":"Assassinas discretas que usam iluses e ninjutsu.","bonus_class":{"INT":3,"SOR":2},"requirements":["2 Habilidades Mestre em Ladra","2 Habilidades Mestre em Espreitadora"],"abilities":[{"name":"Arremesso de Kunai","description":"Kunai amplificada com INT.","cost":"N/A","type":"HB"},{"name":"Bomba de Fumaa","description":"Fica camuflada instantaneamente.","cost":"N/A","type":"HB"},{"name":"Genjutsu","description":"Iluso causa Confuso.","cost":"25 MP","type":"Magia"},{"name":"Suiton","description":"Vrtice de gua (INT+gua).","cost":"30 MP","type":"Magia"},{"name":"Doton","description":"Pilar de terra (INT+Terra).","cost":"30 MP","type":"Magia"},{"name":"Clone das Sombras","description":"Clone repete ninjutsu.","cost":"N/A","type":"Passiva"}]},{"id":"chefona","name":"Chefona","type":"Avanada","role":"DPS / Suporte Criminoso","description":"Mandachuva do crime que usa pistolas e capangas.","bonus_class":{"SOR":6},"requirements":["5 Habilidades Mestre em Ladra","5 Habilidades Mestre em Sutileira","+100 SOR"],"abilities":[{"name":"Paredo","description":"Saraivada de balas em alvo.","cost":"N/A","type":"HB"},{"name":"Tiroteio","description":"Tiros em rea ao redor.","cost":"N/A","type":"HB"},{"name":"Estragar o Velrio","description":"Tiro na cabea (morte instantnea) se camuflada.","cost":"N/A","type":"HB"},{"name":"Bora Rapaziada","description":"Buffa MOV e VEL de aliados.","cost":"N/A","type":"HB"},{"name":"Meus Capangas","description":"Invoca 2 capangas.","cost":"N/A","type":"HB"},{"name":"Dois Ferros","description":"Pode usar duas armas de fogo.","cost":"N/A","type":"Passiva"}]},{"id":"assassina","name":"Assassina","type":"Avanada","role":"Eliminadora de Alvos","description":"Lenda das sombras, elimina alvos silenciosamente.","bonus_class":{"SOR":10},"requirements":["5 Habilidades Mestre em Espreitadora","5 Habilidades Mestre em Rastreadora","+100 SOR"],"abilities":[{"name":"Lmina de Veneno","description":"Ataques causam Envenenamento.","cost":"N/A","type":"HB"},{"name":"Sombras Caminhantes","description":"Teleporte via sombras.","cost":"N/A","type":"HB"},{"name":"Tendes Frgeis","description":"Aplica Imobilizado.","cost":"N/A","type":"HB"},{"name":"Instinto Assassino","description":"Causa Medo em alvos com <20% HP.","cost":"N/A","type":"Passiva"},{"name":"Frenesi das Sombras","description":"Fria de sombra, dobra VEL.","cost":"N/A","type":"HB"},{"name":"Minha Garrucha","description":"Finaliza alvo com <15% HP.","cost":"N/A","type":"Reao"}]},{"id":"jounin","name":"Jounin","type":"Avanada","role":"Mestre Elemental / Ttico","description":"Elite ninja que domina ninjutsu avanado.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Kunoichi","+100 INT"],"abilities":[{"name":"Futon","description":"5 lminas de ar em alvos diversos.","cost":"50 MP","type":"Magia"},{"name":"Raiton","description":"5 troves em alvos diversos.","cost":"50 MP","type":"Magia"},{"name":"Katon","description":"Esfera de fogo linear larga.","cost":"50 MP","type":"Magia"},{"name":"Embuir Arma","description":"Infunde arma com elemento.","cost":"30 MP","type":"Magia"},{"name":"Invocao","description":"Invoca animal ninja (D20).","cost":"N/A","type":"HB"},{"name":"Substituio","description":"Troca com tronco ao ser alvejada.","cost":"N/A","type":"Reao"}]},{"id":"dancarina","name":"Danarina","type":"Avanada","role":"Performer Mstica","description":"Transforma o campo em palco com performances mgicas.","bonus_class":{"CAR":5},"requirements":["+50 CAR"],"abilities":[{"name":"Danar","description":"Executa performance ligada ao equipamento.","cost":"N/A","type":"HB"},{"name":"Pirueta Defensiva","description":"Chance de esquivar de ataque fsico.","cost":"N/A","type":"Reao"}]},{"id":"odalisca_de_batalha","name":"Odalisca de Batalha","type":"Avanada","role":"Suporte Supremo / DPS Elegante","description":"Danarina de elite com armas exticas e danas agressivas.","bonus_class":{"CAR":10},"requirements":["4 Performances de Danarina"],"abilities":[{"name":"Swicth","description":"Troca equipamento de dana sem gastar ao.","cost":"N/A","type":"HB"},{"name":"Mestre da Dana","description":"Equipa dois instrumentos simultneos.","cost":"N/A","type":"Passiva"}]},{"id":"cavaleira_alada","name":"Cavaleira Alada","type":"Avanada","role":"Duelista Area","description":"Elite militar do cu, mergulha com velocidade devastadora.","bonus_class":{"FOR":3,"VEL":2},"requirements":["3 Habilidades Mestre em Raptora","+30 FOR"],"abilities":[{"name":"Por Glria","description":"Buffa FOR de aliados.","cost":"N/A","type":"HB"},{"name":"Redemoinho de Lmina","description":"Corte circular de vento.","cost":"N/A","type":"HB"},{"name":"Brisa da Guerra","description":"Ataques ganham lmina de vento extra.","cost":"N/A","type":"HB"},{"name":"Slash de Vento","description":"Lmina de ar  distncia.","cost":"N/A","type":"HB"},{"name":"Suplex Aero","description":"Agarra e arremessa inimigo do cu.","cost":"N/A","type":"HB"},{"name":"Escudo Meu","description":"Pode usar escudos.","cost":"N/A","type":"Passiva"}]},{"id":"cacadora_alada","name":"Caadora Alada","type":"Avanada","role":"DPS / Rastreio","description":"Predadora do cu com viso aguada e arco.","bonus_class":{"VEL":3,"SOR":2},"requirements":["3 Habilidades Mestre em Ranged","+30 VEL"],"abilities":[{"name":"Animal Guia","description":"Invoca esprito animal companheiro.","cost":"N/A","type":"HB"},{"name":"Camuflagem","description":"Entra em camuflagem.","cost":"N/A","type":"HB"},{"name":"Saraivada Area","description":"Chuva de flechas em rea.","cost":"N/A","type":"HB"},{"name":"Colocar Armadilhas","description":"Posiciona armadilha.","cost":"N/A","type":"HB"},{"name":"Tiro Avanado","description":"Flecha colossal linear (Arco Grande).","cost":"N/A","type":"HB"},{"name":"Tiro Duplo","description":"Dispara duas flechas por ataque.","cost":"N/A","type":"Passiva"}]},{"id":"terrana","name":"Terrana","type":"Avanada","role":"Lutadora Arcana / Terra","description":"Devotada  fora bruta da terra, usa martelos e magia.","bonus_class":{"INT":3,"MANA":2},"requirements":["1 Habilidade Mestre em Raptora","1 Habilidade Mestre em Ranged","+30 INT"],"abilities":[{"name":"Me Terra","description":"Cura em rea ao bater martelo.","cost":"20 MP","type":"Magia"},{"name":"Fissura Terrana","description":"Cria fissura no solo.","cost":"30 MP","type":"Magia"},{"name":"A Terra Sobre Mim","description":"Armadura de rocha (dobra AMR/RES).","cost":"20 MP","type":"Magia"},{"name":"Pilar do Martelo","description":"Ataque  distncia com pilar.","cost":"40 MP","type":"Magia"},{"name":"Terremoto Aero","description":"Impacto ssmico ao saltar.","cost":"50 MP","type":"Magia"},{"name":"Vibrao do Solo","description":"Detecta inimigos no solo.","cost":"N/A","type":"Passiva"}]},{"id":"devastadora","name":"Devastadora","type":"Avanada","role":"Dano Areo / Linha de Frente","description":"Especialista em combate areo com espades colossais.","bonus_class":{"FOR":4,"VEL":2},"requirements":["5 Habilidades Mestre em Raptora","5 Habilidades Mestre em Cavaleira Alada","+100 FOR"],"abilities":[{"name":"Ventania do Espado","description":"Empurra alvos com vento.","cost":"N/A","type":"HB"},{"name":"Arrasante Cortante","description":"Corte em alta velocidade.","cost":"N/A","type":"HB"},{"name":"Furaco de Lminas","description":"Tornado de lminas em rea.","cost":"N/A","type":"HB"},{"name":"Rpida e Veloz","description":"Dobra VEL.","cost":"N/A","type":"HB"},{"name":"Corte da Montanha","description":"Corte colossal de vento.","cost":"N/A","type":"HB"},{"name":"Contra-ataque do Vento","description":"Rebate fsico e empurra.","cost":"N/A","type":"Reao"}]},{"id":"atiradora_dos_ceus","name":"Atiradora dos Cus","type":"Avanada","role":"DPS Area","description":"Caadora suprema que domina territrios do ar.","bonus_class":{"VEL":4,"SOR":2},"requirements":["5 Habilidades Mestre em Ranged","5 Habilidades Mestre em Caadora Alada","+100 VEL"],"abilities":[{"name":"Ataque Areo","description":"Disparo vertical preciso.","cost":"N/A","type":"HB"},{"name":"Reposicionamento Areo","description":"Voo rpido e ataque.","cost":"N/A","type":"HB"},{"name":"Bombardeio Areo","description":"Atinge inimigos no trajeto de voo.","cost":"N/A","type":"HB"},{"name":"Alvo Marcado","description":"Marca alvo adicionando SOR ao dano.","cost":"N/A","type":"HB"},{"name":"Alvos Certeiros","description":"Tiros perfeitos em 5 alvos.","cost":"N/A","type":"HB"},{"name":"Minha Flecha  Melhor","description":"Desvia de projtil e contra-ataca.","cost":"N/A","type":"Reao"}]},{"id":"geomancer","name":"Geomancer","type":"Avanada","role":"Maga Elemental / Joias","description":"Maga que desperta poder oculto de joias antigas.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Terrana","+100 INT"],"abilities":[{"name":"Ressonncia","description":"Disparo elemental da joia.","cost":"30 MP","type":"Magia"},{"name":"Jia Equipada","description":"Engata joia na arma (dano elemental).","cost":"N/A","type":"HB"},{"name":"Joia Astral","description":"Buff poderoso da joia.","cost":"30 MP","type":"Magia"},{"name":"Sacrifcio da Jia","description":"Destri joia para duplicar efeito.","cost":"40 MP","type":"Magia"},{"name":"Triplo Gen","description":"Feixe combinado de 3 joias.","cost":"70 MP","type":"Magia"},{"name":"Joalheira","description":"Troca de joias sem gastar ao.","cost":"N/A","type":"Passiva"}]},{"id":"demon","name":"Demon","type":"Avanada","role":"Ameaa / Controle","description":"Guerreiras marcadas pela morte, brutais e imprevisveis.","bonus_class":{"Livre":5},"requirements":["Voltar da morte 10 vezes"],"abilities":[{"name":"Rugido do Demnio","description":"Aplica Medo em rea.","cost":"N/A","type":"HB"},{"name":"Vampirismo","description":"Rouba HP do alvo.","cost":"N/A","type":"HB"},{"name":"Consumir Arma","description":"Destri arma para ganhar status.","cost":"N/A","type":"HB"},{"name":"Embuir Demon","description":"Infunde arma com escurido.","cost":"N/A","type":"HB"},{"name":"Demon Ark","description":"Aplica Medo/Condenao/Morte.","cost":"N/A","type":"HB"},{"name":"Mestre de Armas","description":"Equipa arma instantaneamente.","cost":"N/A","type":"Passiva"}]},{"id":"lord_demon","name":"Lord Demon","type":"Avanada","role":"Senhora da Morte","description":"pice da linhagem demonaca, comanda almas.","bonus_class":{"Livre":10},"requirements":["5 Habilidades Mestre em Demon","Colher 100 almas"],"abilities":[{"name":"Dark Esfera","description":"Absorve alma de inimigos com Medo.","cost":"N/A","type":"HB"},{"name":"Colheita","description":"Suga alma de alvo com Medo (Morte).","cost":"N/A","type":"HB"},{"name":"Aura da Lord","description":"Dobra RES e fora Medo.","cost":"N/A","type":"HB"},{"name":"Dark Arma","description":"Lana armas sacrificadas.","cost":"N/A","type":"HB"},{"name":"ltimo Rugido","description":"Medo global e morte em quem j tem.","cost":"N/A","type":"HB"},{"name":"Tenha Medo de Mim","description":"Chance de aplicar Medo ao receber dano.","cost":"N/A","type":"Reao"}]},{"id":"magos_elementais","name":"Magos Elementais","type":"Avanada","role":"DPS Mgico de rea","description":"Umbros que transformam magia em cataclismos.","bonus_class":{"INT":3,"MANA":2},"requirements":["3 Habilidades Mestre em Mago Negro","+30 INT"],"abilities":[{"name":"Fire+","description":"Exploso de fogo grande rea.","cost":"20 MP","type":"Magia"},{"name":"Blizzard+","description":"Estilhaos de gelo grande rea.","cost":"20 MP","type":"Magia"},{"name":"Thunder+","description":"Trovo colossal em rea.","cost":"20 MP","type":"Magia"},{"name":"Maremoto","description":"Onda empurra inimigos.","cost":"40 MP","type":"Magia"},{"name":"Trifsico","description":"Combina 3 elementos em exploso.","cost":"50 MP","type":"Magia"},{"name":"Manto Refletor","description":"Reflete magia com 50% dano.","cost":"N/A","type":"Reao"}]},{"id":"arcanistas","name":"Arcanistas","type":"Avanada","role":"Maldies / Invocador","description":"Preservam artes proibidas e invocam demnios.","bonus_class":{"MANA":3,"INT":2},"requirements":["3 Habilidades Mestre em Ocultista","+50 MANA"],"abilities":[{"name":"Escurido+","description":"Exploso de trevas.","cost":"25 MP","type":"Magia"},{"name":"Cruz Mana","description":"Drena Mana.","cost":"30 MP","type":"Magia"},{"name":"Sentidus Mortis","description":"Remove sentidos (Silncio/Cegueira).","cost":"40 MP","type":"Magia"},{"name":"Petrificatis","description":"Petrifica alvo.","cost":"40 MP","type":"Magia"},{"name":"Invocar Demnio Menor","description":"Invoca demnio (D20).","cost":"50 MP","type":"Magia"},{"name":"Pacto","description":"Dobra VEL e RES com demnio ativo.","cost":"N/A","type":"Passiva"}]},{"id":"malandro","name":"Malandro","type":"Avanada","role":"Suporte Social / Manipulao","description":"Usa lbia e cartas para manipular o campo.","bonus_class":{"CAR":3,"SOR":2},"requirements":["+20 CAR"],"abilities":[{"name":"Fala Positiva","description":"Dobra atributo de alvo.","cost":"N/A","type":"HB"},{"name":"Fala Negativa","description":"Reduz atributo pela metade.","cost":"N/A","type":"HB"},{"name":"Carta Voadora","description":"Carta ricocheteia em alvos.","cost":"N/A","type":"HB"},{"name":"Carta Marcada","description":"Dobra dano recebido pelo alvo.","cost":"N/A","type":"HB"},{"name":"Malabarismo de Cartas","description":"Impede movimentos em rea.","cost":"N/A","type":"HB"},{"name":"Fala Mansa","description":"Chance de convencer atacante a desistir.","cost":"N/A","type":"Reao"}]},{"id":"arquimagos","name":"Arquimagos","type":"Avanada","role":"DPS Mgico Supremo","description":"Moldam elementos, invocando meteoros e tempestades.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Mago Negro","5 Habilidades Mestre em Mago Elemental","+100 INT"],"abilities":[{"name":"Meteoro","description":"Destruio massiva em rea.","cost":"100 MP","type":"Magia"},{"name":"Vrtex de Fogo","description":"Vrtex que queima rea por turnos.","cost":"50 MP","type":"Magia"},{"name":"Chuva de Raios","description":"Atinge inimigos aleatrios por turnos.","cost":"50 MP","type":"Magia"},{"name":"Nevasca Afiada","description":"Estalactites aleatrias por turnos.","cost":"50 MP","type":"Magia"},{"name":"Super Lua","description":"Lua cura aliados e permanece.","cost":"80 MP","type":"Magia"},{"name":"OVER LUNA","description":"Ignora RES sob efeito da Lua.","cost":"N/A","type":"Passiva"}]},{"id":"necromago","name":"Necromago","type":"Avanada","role":"Controle Absoluto / Necromancia","description":"Traz mortos e usa rituais profanos.","bonus_class":{"MANA":10},"requirements":["5 Habilidades Mestre em Ocultista","5 Habilidades Mestre em Arcanista","+100 INT"],"abilities":[{"name":"Necromancia","description":"Controla alma cada.","cost":"70 MP","type":"Magia"},{"name":"Mortis Dorner","description":"Tenta Morte Instantnea.","cost":"40 MP","type":"Magia"},{"name":"Redoma Sentis","description":"Cega e Silencia rea ao redor.","cost":"50 MP","type":"Magia"},{"name":"Invocar Demnio Superior","description":"Invoca demnio brutal (D20).","cost":"90 MP","type":"Magia"},{"name":"Buraco Negro","description":"Remove todos do campo.","cost":"200 MP","type":"Magia"},{"name":"Toque da Morte","description":"Chance de Condenao ao ser atacado.","cost":"N/A","type":"Reao"}]},{"id":"king_street","name":"King Street","type":"Avanada","role":"Controle Mental / Dominao Social","description":"Rei das ruas que controla vontades com a voz.","bonus_class":{"CAR":10},"requirements":["5 Habilidades Mestre em Malandro","+100 CAR"],"abilities":[{"name":"Corra!","description":"Impulsiona mobilidade de alvo.","cost":"N/A","type":"HB"},{"name":"Beleza Sedutora","description":"Encanta alvos em rea.","cost":"N/A","type":"HB"},{"name":"Ajoelhe-se","description":"Obriga inimigos a se ajoelharem.","cost":"N/A","type":"HB"},{"name":" Sua Vez de Novo","description":"Concede ao extra a aliado.","cost":"N/A","type":"HB"},{"name":"Charme do Malandro","description":"Transforma inimigo em aliado.","cost":"N/A","type":"HB"},{"name":"Estrondo Vocal","description":"Atinge todos atributos do alvo.","cost":"N/A","type":"Passiva"}]},{"id":"apostador","name":"Apostador","type":"Avanada","role":"Manipulador de Probabilidades","description":"Usa baralho especial para efeitos aleatrios poderosos.","bonus_class":{"SOR":10},"requirements":["5 Habilidades Mestre em Malandro","+100 SOR"],"abilities":[{"name":"Escolha uma Carta","description":"Puxa carta (D80) com efeito contnuo.","cost":"N/A","type":"HB"},{"name":"Valete Rpido","description":"Dobra status fsicos (Carta Valete).","cost":"N/A","type":"HB"},{"name":"Dama Salvadora","description":"Cura e remove status (Carta Dama).","cost":"N/A","type":"HB"},{"name":"Rei do Poder","description":"Exploso em rea (Carta Rei).","cost":"N/A","type":"HB"},{"name":"s da Sorte","description":"Puxa todas cartas (Carta s).","cost":"N/A","type":"HB"},{"name":"Carta na Manga","description":"Troca carta guardada instantaneamente.","cost":"N/A","type":"Passiva"}]},{"id":"shadow_hunters","name":"Shadow Hunters","type":"Avanada","role":"Invocador Sombrio","description":"Extrai sombras de mortos para lutar.","bonus_class":{"Livre":10},"requirements":["Chegar a 1 HP em batalha 100 vezes"],"abilities":[{"name":"Erga-se","description":"Extrai sombra de cadver como soldado.","cost":"N/A","type":"HB"},{"name":"Sombra Salvadora","description":"Sombra absorve dano fatal.","cost":"N/A","type":"Reao"}]},{"id":"monarca_das_sombras","name":"Monarca das Sombras","type":"Avanada","role":"Exrcito Vivo","description":"Comanda exrcito sombrio sozinho.","bonus_class":{"Livre":10},"requirements":["Possuir 4 sombras no nvel 10"],"abilities":[{"name":"Troca de Sombra","description":"Troca de lugar com sombra.","cost":"N/A","type":"HB"},{"name":"Retorno das Sombras","description":"Cura ao perder sombra.","cost":"N/A","type":"Passiva"}]}]`),OD={classes:DD},PD=()=>{const i=Oo(),e=O.useRef(null),[n,r]=O.useState("carousel"),[o,c]=O.useState(0),[h,m]=O.useState(null),[p,g]=O.useState("female"),[E,A]=O.useState(null),[w,V]=O.useState(!1),[H,z]=O.useState(""),F=MD.races;O.useEffect(()=>{(async()=>{if(et.currentUser)try{const I=St(Le,"characters",et.currentUser.uid);(await sc(I)).exists()&&(console.log("Personagem j existe. Redirecionando..."),i("/jogador-vtt"))}catch(I){console.error("Erro ao verificar personagem:",I)}})()},[i]),O.useEffect(()=>{const R=()=>{document.querySelectorAll("audio, video").forEach(j=>{if(!(j.tagName==="VIDEO"&&j.classList.contains("background-video")))try{j.pause(),j.currentTime=0}catch{}})};R();const I=setTimeout(R,500);return()=>clearTimeout(I)},[]),O.useEffect(()=>{if(n==="carousel"&&e.current){const I=window.innerWidth/2-130,D=o*300-I+130;e.current.scrollTo({left:D,behavior:"smooth"})}},[o,n]);const ie=R=>{e.current&&(e.current.scrollLeft+=R.deltaY*4)},Q=R=>{if(!R)return"Nenhum";const I={value:"Valor",detail:"Detalhes",details:"Detalhes",free_points:"Pontos Livres",female:"Feminino",male:"Masculino",male_exiled:"Masculino (Exilado)"};return typeof R=="object"?Object.entries(R).map(([D,j],C)=>{if(D==="type")return null;const pe=I[D]||D.toUpperCase().replace(/_/g," ");let xe=j;return typeof j=="object"&&(xe=JSON.stringify(j).replace(/["{}]/g,"").replace(/:/g,": ").replace(/,/g,", ")),y.jsxs("div",{className:"mb-1",children:[y.jsxs("span",{className:"text-gray-400 font-bold",children:[pe,":"]})," ",y.jsx("span",{className:"text-gray-200",children:xe})]},C)}):R},re=()=>h?typeof h.base_classes=="object"&&!Array.isArray(h.base_classes)?h.id==="viera"?p==="female"?h.base_classes.female:h.base_classes.male||h.base_classes.male_exiled:[]:h.base_classes||[]:[],me=R=>OD.classes.find(I=>I.name===R),be=()=>{m(F[o]),A(null),r("details")},ae=()=>{r("carousel"),A(null)},N=async()=>{if(!(!H.trim()||!et.currentUser))try{await AT(St(Le,"characters",et.currentUser.uid),{uid:et.currentUser.uid,email:et.currentUser.email,name:H,race:h.name,class:E,gender:p,createdAt:La()}),console.log(`Personagem Criado: ${H}`),i("/jogador-vtt")}catch(R){console.error("Erro ao salvar personagem:",R),alert("Falha ao invocar personagem no banco de dados.")}},x=F[o];return y.jsxs("div",{className:"relative w-full h-screen overflow-hidden",children:[y.jsx("style",{children:`
        @keyframes scaleIn { 0% { transform: scale(0.8); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
        .rpg-modal-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-color: rgba(0, 0, 0, 0.85); backdrop-filter: blur(8px); z-index: 9999; display: flex; align-items: center; justify-content: center; }
        .rpg-modal-box { position: relative; width: 500px; max-width: 90%; background: #1a120b; border: 2px solid #b45309; box-shadow: 0 0 50px rgba(234, 179, 8, 0.4); padding: 6px; border-radius: 8px; animation: scaleIn 0.3s ease-out forwards; }
        .rpg-modal-inner { background: linear-gradient(to bottom, #f3e6d5, #e7cba8); border: 1px solid #78350f; padding: 40px 20px; border-radius: 4px; text-align: center; display: flex; flex-direction: column; align-items: center; gap: 20px; }
        .rpg-modal-title { font-family: 'Cinzel', serif; font-size: 32px; color: #78350f; font-weight: bold; text-transform: uppercase; text-shadow: 0px 1px 0px rgba(255,255,255,0.6); margin-bottom: 5px; }
        .rpg-modal-subtitle { font-family: 'Cinzel', serif; font-size: 14px; color: #92400e; font-style: italic; border-top: 1px solid rgba(146, 64, 14, 0.3); padding-top: 10px; width: 100%; }
        .rpg-input { width: 100%; padding: 12px; background: #fff8ed; border: 2px solid #854d0e; font-family: 'Cinzel', serif; font-size: 18px; color: #451a03; outline: none; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1); border-radius: 4px; }
        .rpg-input:focus { border-color: #d97706; background: #ffffff; }
        .rpg-btn-go { background: linear-gradient(to bottom, #fcd34d, #d97706); border: 1px solid #92400e; padding: 10px 30px; font-family: 'Cinzel', serif; font-weight: bold; font-size: 18px; color: #451a03; text-transform: uppercase; cursor: pointer; border-radius: 4px; box-shadow: 0 4px 0 #92400e; transition: transform 0.1s; }
        .rpg-btn-go:active { transform: translateY(4px); box-shadow: 0 0 0 #92400e; }
        .rpg-btn-go:disabled { filter: grayscale(1); opacity: 0.6; cursor: not-allowed; }
        .rpg-close-btn { position: absolute; top: 10px; right: 15px; background: none; border: none; font-size: 20px; color: #92400e; cursor: pointer; font-weight: bold; }
        .rpg-close-btn:hover { color: #ff0000; }
        .corner { position: absolute; width: 20px; height: 20px; border-color: #fcd34d; border-style: solid; }
        .tl { top: -2px; left: -2px; border-width: 3px 0 0 3px; }
        .tr { top: -2px; right: -2px; border-width: 3px 3px 0 0; }
        .bl { bottom: -2px; left: -2px; border-width: 0 0 3px 3px; }
        .br { bottom: -2px; right: -2px; border-width: 0 3px 3px 0; }
      `}),y.jsxs("div",{className:"ether-container",children:[y.jsx("div",{className:"ether-vortex"}),y.jsx("div",{className:"ether-particles"})]}),y.jsxs("header",{className:"absolute top-0 w-full p-6 z-50 flex justify-between items-center bg-gradient-to-b from-black/90 to-transparent",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"rpg-title text-3xl",children:"Gnese da Alma"}),y.jsx("p",{className:"rpg-subtitle-styled mt-2",children:n==="carousel"?"Determine sua Linhagem Ancestral":`${h?.name} // Customizao`})]}),n==="details"&&y.jsxs("button",{onClick:ae,className:"nav-back-btn",children:[y.jsx("span",{children:""})," Seleo"]})]}),n==="carousel"&&y.jsxs("div",{className:"w-full h-full flex flex-col justify-center animate-[fadeIn_1s]",children:[y.jsx("div",{className:"text-center mb-4 z-10",children:y.jsx("h2",{className:"rpg-title text-5xl text-yellow-500 drop-shadow-lg",children:x.name})}),y.jsx("div",{ref:e,onWheel:ie,className:"carousel-viewport",children:F.map((R,I)=>y.jsxs("div",{onClick:()=>c(I),className:`race-card-frame ${I===o?"active":""}`,children:[y.jsx("img",{src:R.image,alt:R.name}),y.jsx("div",{className:"card-label",children:R.name})]},R.id))}),y.jsx("div",{className:"text-center mt-10 z-10",children:y.jsxs("button",{onClick:be,className:"confirm-btn w-64 mx-auto",children:["Escolher ",x.name]})})]}),n==="details"&&h&&y.jsxs("div",{className:"details-grid",children:[y.jsx("div",{className:"char-portrait-container",children:y.jsx("img",{src:h.image,alt:h.name,className:"char-portrait"})}),y.jsxs("div",{className:"info-scroll-area custom-scrollbar",children:[y.jsxs("div",{className:"glass-panel mt-8 border-l-4 border-yellow-600",children:[y.jsx("h3",{className:"section-header !border-none !mb-2 text-yellow-500",children:"Descrio"}),y.jsxs("p",{className:"description-text",children:['"',h.description,'"']}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-[10px] uppercase text-blue-400 font-bold",children:"Caractersticas"}),y.jsx("p",{className:"text-xs text-gray-400 mt-1",children:h.characteristics})]}),y.jsxs("div",{children:[y.jsx("span",{className:"text-[10px] uppercase text-green-400 font-bold",children:"Bnus Racial"}),y.jsx("div",{className:"text-xs text-gray-300 font-mono mt-1",children:Q(h.racial_bonus)})]})]})]}),y.jsxs("div",{className:"glass-panel flex flex-col gap-2",children:[y.jsx("span",{className:"text-xs text-gray-400 uppercase font-bold tracking-widest",children:"Gnero"}),y.jsxs("div",{className:"flex w-full",children:[y.jsx("div",{onClick:()=>{g("female"),A(null)},className:`gender-option ${p==="female"?"active":""}`,children:"Feminino"}),y.jsx("div",{onClick:()=>{g("male"),A(null)},className:`gender-option ${p==="male"?"active":""}`,children:"Masculino"})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"rpg-title text-xl mb-4 text-white",children:"Vocao"}),y.jsx("div",{className:"class-selector-grid",children:re().map(R=>{const I=me(R);return y.jsxs("div",{onClick:()=>A(R),className:`class-btn ${E===R?"selected":""}`,children:[y.jsx("span",{className:"class-btn-title",children:R}),y.jsx("span",{className:"class-btn-role",children:I?.role||"Bsico"})]},R)})}),E&&(()=>{const R=me(E);return R?y.jsxs("div",{className:"class-detail-container",children:[y.jsxs("div",{className:"cd-header",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"cd-title rpg-title",children:R.name}),y.jsxs("div",{className:"cd-meta text-blue-400",children:[R.type," // ",R.role]})]}),y.jsxs("div",{className:"cd-req",children:[y.jsx("span",{className:"cd-req-label",children:"Requisitos"}),y.jsx("div",{className:"cd-req-val",children:R.requirements?.length?R.requirements.join(", "):"Nenhum"})]})]}),y.jsxs("div",{className:"cd-desc",children:['"',R.description,'"']}),y.jsxs("div",{className:"cd-bonus-box",children:[y.jsx("span",{className:"text-xs uppercase font-bold text-blue-300",children:"Bnus de Classe"}),y.jsx("span",{className:"font-mono text-sm text-white",children:Q(R.bonus_class)})]}),y.jsxs("div",{children:[y.jsx("h5",{className:"text-xs uppercase text-yellow-500 font-bold mb-3 tracking-wider border-b border-white/10 pb-1 inline-block",children:"Habilidades Iniciais"}),y.jsx("div",{className:"cd-abilities-grid",children:R.abilities?.map((I,D)=>y.jsxs("div",{className:"cd-ability-card",children:[y.jsxs("div",{className:"cd-ab-header",children:[y.jsx("span",{className:"cd-ab-name",children:I.name}),y.jsx("span",{className:"cd-ab-cost",children:I.cost})]}),y.jsx("p",{className:"cd-ab-desc",children:I.description})]},D))})]})]}):y.jsx("div",{className:"p-4 text-center",children:"Carregando..."})})()]}),y.jsx("div",{className:"mt-8 mb-10",children:y.jsx("button",{disabled:!E,onClick:()=>V(!0),className:"confirm-btn",children:E?"Finalizar Criao":"Selecione uma Vocao"})})]})]}),w&&y.jsx("div",{className:"rpg-modal-overlay",children:y.jsxs("div",{className:"rpg-modal-box",children:[y.jsx("div",{className:"corner tl"}),y.jsx("div",{className:"corner tr"}),y.jsx("div",{className:"corner bl"}),y.jsx("div",{className:"corner br"}),y.jsxs("div",{className:"rpg-modal-inner",children:[y.jsxs("div",{className:"w-full",children:[y.jsx("h3",{className:"rpg-modal-title",children:"Identidade"}),y.jsx("p",{className:"rpg-modal-subtitle",children:"Como a histria o conhecer?"})]}),y.jsxs("div",{className:"w-full flex gap-2",children:[y.jsx("input",{type:"text",value:H,onChange:R=>z(R.target.value),placeholder:"Nome do Aventureiro",className:"rpg-input",autoFocus:!0}),y.jsx("button",{onClick:N,disabled:!H.trim(),className:"rpg-btn-go",children:"GO"})]}),y.jsx("button",{className:"rpg-close-btn",onClick:()=>V(!1),children:""})]})]})})]})},kD="/FF-12Liberation/assets/fundo-jogador-nsWQkznx.jpg",VD=({targetDate:i,onComplete:e})=>{const[n,r]=O.useState("");return O.useEffect(()=>{const o=setInterval(()=>{const c=new Date().getTime(),h=new Date(i).getTime()-c;if(h<0)clearInterval(o),e&&e(),r("AGORA");else{const m=Math.floor(h/864e5),p=Math.floor(h%(1e3*60*60*24)/(1e3*60*60)),g=Math.floor(h%(1e3*60*60)/(1e3*60)),E=Math.floor(h%(1e3*60)/1e3);r(`${m}d ${p}h ${g}m ${E}s`)}},1e3);return()=>clearInterval(o)},[i,e]),y.jsx("span",{className:"countdown-text",children:n})};function jD(){const[i,e]=O.useState(null),[n,r]=O.useState([]),[o,c]=O.useState([]),[h,m]=O.useState([]),[p,g]=O.useState(!1),[E,A]=O.useState(null),[w,V]=O.useState([]),[H,z]=O.useState(!1),[F,ie]=O.useState(null),[Q,re]=O.useState(null),[me,be]=O.useState(null);O.useEffect(()=>{(async()=>{if(!et.currentUser)return;const R=St(Le,"characters",et.currentUser.uid),I=await sc(R);I.exists()&&e(I.data())})()},[]),O.useEffect(()=>{if(!et.currentUser||!i)return;const x=yi(Wt(Le,"missoes")),R=vi(x,pe=>{r(pe.docs.map(xe=>({id:xe.id,...xe.data()})))}),I=yi(Wt(Le,"sessoes"),vr("participantes","array-contains",i.name)),D=vi(I,pe=>{const xe=new Date,K=pe.docs.map(Se=>({id:Se.id,...Se.data()})),se=[],he=[];K.forEach(Se=>{const Pe=new Date(Se.dataInicio),k=new Date(Se.expiraEm);xe>=Pe&&xe<=k?se.push(Se):xe<Pe&&he.push(Se)}),c(se),m(he),me&&se.find(Pe=>Pe.id===me.id)&&re("connected")}),j=yi(Wt(Le,"resenhas"),vr("destinatarios","array-contains",i.name)),C=vi(j,pe=>{const xe=pe.docs.map(he=>({id:he.id,...he.data()})),K=new Date,se=xe.filter(he=>new Date(he.expiraEm)>K);V(se)});return()=>{R(),D(),C()}},[i,me]);const ae=async x=>{if(!i)return;if(x.candidatos?.some(j=>j.uid===et.currentUser.uid))return alert("Voc j se candidatou para esta misso!");const I=!x.candidatos||x.candidatos.length===0,D={uid:et.currentUser.uid,nome:i.name,classe:i.class,isLeader:I,dataCandidatura:new Date().toISOString()};try{const j=St(Le,"missoes",x.id);await mo(j,{candidatos:mD(D)}),alert(I?"Voc se candidatou e foi marcado como LDER DO GRUPO!":"Candidatura realizada com sucesso!")}catch(j){console.error("Erro ao candidatar:",j),alert("Falha ao enviar candidatura.")}},N=x=>{be(x);const R=new Date,I=new Date(x.dataInicio);R>=I?re("connected"):re("waiting")};return i?y.jsxs("div",{className:"jogador-container",children:[y.jsx("div",{className:"background-layer",style:{backgroundImage:`url(${kD})`}}),y.jsxs("div",{className:"content-layer",children:[y.jsxs("div",{className:"char-hud",children:[y.jsx("div",{className:"char-avatar",children:y.jsx("div",{className:"avatar-circle"})}),y.jsxs("div",{className:"char-info",children:[y.jsx("h2",{className:"char-name",children:i.name}),y.jsxs("span",{className:"char-meta",children:[i.race," // ",i.class]})]})]}),h.length>0&&o.length===0&&y.jsxs("div",{className:"upcoming-sessions-banner",children:[y.jsx("h3",{children:"A SESSO VAI COMEAR EM BREVE"}),h.map(x=>y.jsxs("div",{className:"countdown-row",children:[y.jsx("span",{children:x.missaoNome}),y.jsx(VD,{targetDate:x.dataInicio})]},x.id))]}),o.length>0&&y.jsxs("div",{className:"active-sessions-banner fade-in",children:[y.jsx("h3",{children:"SESSO EM ANDAMENTO!"}),o.map(x=>y.jsxs("div",{className:"session-entry-row",children:[y.jsx("span",{children:x.missaoNome}),y.jsx("button",{className:"btn-enter-session",onClick:()=>N(x),children:"ENTRAR AGORA"})]},x.id))]}),Q&&me&&y.jsxs("div",{className:`vtt-status-widget ${Q}`,children:[y.jsx("div",{className:"status-indicator"}),y.jsxs("div",{className:"status-text",children:[Q==="waiting"&&y.jsxs(y.Fragment,{children:[y.jsx("h4",{children:"AGUARDANDO MESTRE"}),y.jsx("small",{children:"Preparando o tabuleiro..."})]}),Q==="connected"&&y.jsxs(y.Fragment,{children:[y.jsx("h4",{children:"BEM-VINDO, AVENTUREIRO"}),y.jsx("small",{children:"Sesso Conectada!"})]})]})]}),y.jsx("button",{className:"floating-mission-btn",onClick:()=>g(!0),title:"Quadro de Misses",children:""}),w.length>0&&y.jsxs("button",{className:"floating-sanchez-btn",onClick:()=>z(!0),title:"Resenhas do Sanchez",children:[y.jsx("div",{className:"sanchez-icon-face",style:{backgroundImage:`url(${fp})`}}),y.jsx("span",{className:"notification-badge",children:w.length})]}),y.jsx(CT,{isMestre:!1}),p&&y.jsx("div",{className:"ff-modal-overlay-flex",onClick:()=>g(!1),children:y.jsxs("div",{className:"ff-modal-content ff-card",onClick:x=>x.stopPropagation(),children:[y.jsxs("div",{className:"modal-header-row",children:[y.jsx("h3",{className:"modal-title-ff",children:"QUADRO DE CONTRATOS"}),y.jsx("button",{className:"btn-close-x",onClick:()=>g(!1),children:""})]}),y.jsxs("div",{className:"missions-list-player",children:[n.map(x=>y.jsxs("div",{className:`mission-poster-player rank-${x.rank}`,children:[y.jsxs("div",{className:"mp-header",children:[y.jsx("span",{className:"mp-rank",children:x.rank}),y.jsx("h4",{children:x.nome})]}),y.jsxs("div",{className:"mp-details",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Local:"})," ",x.local]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Recompensa:"})," ",x.gilRecompensa," Gil"]}),y.jsx("p",{className:"mp-desc",children:x.descricaoMissao})]}),x.candidatos&&x.candidatos.length>0&&y.jsxs("div",{className:"candidates-box",children:[y.jsx("small",{children:"Grupo em formao:"}),y.jsx("div",{className:"cand-tags",children:x.candidatos.map((R,I)=>y.jsxs("span",{className:`cand-tag ${R.isLeader?"leader":""}`,children:[R.isLeader&&""," ",R.nome]},I))})]}),y.jsxs("div",{className:"mp-actions-row",children:[y.jsx("button",{className:"btn-details-outline",onClick:()=>A(x),children:"DETALHES"}),y.jsx("button",{className:"btn-candidatar",disabled:x.candidatos?.some(R=>R.uid===et.currentUser.uid),onClick:()=>ae(x),children:x.candidatos?.some(R=>R.uid===et.currentUser.uid)?"ENVIADO":"ACEITAR"})]})]},x.id)),n.length===0&&y.jsx("p",{style:{textAlign:"center",padding:"20px"},children:"Nenhum contrato disponvel no momento."})]})]})}),E&&y.jsx("div",{className:"ff-modal-overlay-flex",onClick:()=>A(null),style:{zIndex:1e5},children:y.jsxs("div",{className:"ff-modal ff-card detail-view-main",onClick:x=>x.stopPropagation(),children:[y.jsxs("div",{className:"detail-header-modern",children:[y.jsx("div",{className:`detail-rank-badge rank-${E.rank}`,children:E.rank}),y.jsxs("div",{className:"detail-title-col",children:[y.jsx("h2",{children:E.nome}),y.jsxs("span",{className:"detail-narrator",children:["Narrador: ",E.mestreNome]})]})]}),y.jsxs("div",{className:"detail-body-grid",children:[y.jsxs("div",{className:"detail-info-row",children:[y.jsxs("div",{className:"info-item",children:[y.jsx("label",{children:" LOCAL"}),y.jsx("span",{children:E.local||"Desconhecido"})]}),y.jsxs("div",{className:"info-item",children:[y.jsx("label",{children:" CONTRATANTE"}),y.jsx("span",{children:E.contratante||"Annimo"})]})]}),y.jsxs("div",{className:"detail-section",children:[y.jsx("label",{className:"section-label",children:" DESCRIO DA MISSO"}),y.jsx("p",{className:"section-text",children:E.descricaoMissao||"Sem descrio."})]}),y.jsxs("div",{className:"detail-section",children:[y.jsx("label",{className:"section-label",children:" OBJETIVOS DA MISSO"}),y.jsx("p",{className:"section-text",children:E.objetivosMissao||"Sem objetivos definidos."})]}),y.jsxs("div",{className:"detail-section",children:[y.jsx("label",{className:"section-label",children:" REQUISITOS"}),y.jsx("p",{className:"section-text",children:E.requisitos||"Sem requisitos especiais."})]}),y.jsxs("div",{className:"detail-section reward-section",children:[y.jsx("label",{className:"section-label",children:" RECOMPENSAS"}),y.jsxs("div",{className:"reward-content-box",children:[y.jsxs("div",{className:"gil-display-row",children:[y.jsx("span",{className:"gil-icon",children:""}),y.jsxs("span",{className:"gil-value",children:[E.gilRecompensa||0," GIL"]})]}),E.recompensa&&y.jsx("div",{className:"extra-rewards-list",children:E.recompensa.split(`
`).map((x,R)=>y.jsxs("div",{className:"reward-item",children:[" ",x]},R))})]})]})]}),y.jsx("button",{className:"ff-final-close-btn",onClick:()=>A(null),children:"FECHAR RELATRIO"})]})}),H&&y.jsx("div",{className:"ff-modal-overlay-flex",onClick:()=>z(!1),children:y.jsxs("div",{className:"ff-modal-content ff-card",style:{height:"auto",maxHeight:"600px"},onClick:x=>x.stopPropagation(),children:[y.jsxs("div",{className:"modal-header-row",children:[y.jsx("h3",{className:"modal-title-ff",children:"RESENHAS RECEBIDAS"}),y.jsx("button",{className:"btn-close-x",onClick:()=>z(!1),children:""})]}),y.jsx("div",{className:"resenhas-list-container",children:w.map(x=>y.jsxs("div",{className:"resenha-row-player",onClick:()=>{ie(x),z(!1)},children:[y.jsx("span",{className:"r-icon",children:""}),y.jsxs("div",{className:"r-info",children:[y.jsx("h4",{children:x.titulo}),y.jsxs("small",{children:["De: ",x.mestre]})]}),y.jsx("button",{className:"btn-read-arrow",children:"LER "})]},x.id))})]})}),F&&y.jsx("div",{className:"papiro-overlay-full",onClick:()=>ie(null),children:y.jsxs("div",{className:"papiro-real-container",style:{backgroundImage:`url(${NT})`},onClick:x=>x.stopPropagation(),children:[y.jsx("div",{className:"sanchez-oval-view-no-border",style:{backgroundImage:`url(${fp})`}}),y.jsx("h2",{className:"papiro-title-real",children:F.titulo}),y.jsxs("p",{className:"papiro-mestre-sub",children:["Narrador: ",F.mestre]}),y.jsx("div",{className:"papiro-body-real",dangerouslySetInnerHTML:{__html:F.conteudo.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br/>")}}),y.jsx("button",{className:"papiro-close-btn",onClick:()=>ie(null),children:"FECHAR"})]})})]}),y.jsx("style",{children:`
        /* ESTRUTURA DE CAMADAS */
        .jogador-container { position: relative; width: 100vw; height: 100vh; overflow: hidden; background: #000; font-family: 'Cinzel', serif; color: white; }
        .background-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center; background-repeat: no-repeat; z-index: 0; }
        .content-layer { position: relative; z-index: 10; width: 100%; height: 100%; }

        /* INTERFACE GERAL */
        .loading-screen { width: 100vw; height: 100vh; background: #000; color: #ffcc00; display: flex; align-items: center; justify-content: center; font-size: 24px; font-family: 'Cinzel', serif; }
        .char-hud { position: absolute; top: 20px; left: 20px; display: flex; align-items: center; gap: 15px; background: rgba(0,0,0,0.8); padding: 15px 25px; border-radius: 50px; border: 1px solid #ffcc00; box-shadow: 0 0 15px rgba(255,204,0,0.3); backdrop-filter: blur(5px); z-index: 50; }
        .avatar-circle { width: 60px; height: 60px; background: #222; border-radius: 50%; border: 2px solid #fff; }
        .char-info h2 { margin: 0; font-size: 20px; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        .char-meta { font-size: 12px; color: #00f2ff; font-weight: bold; }

        /* SESSES FUTURAS (COUNTDOWN) */
        .upcoming-sessions-banner { position: absolute; top: 120px; left: 50%; transform: translateX(-50%); background: rgba(0, 0, 0, 0.8); border: 2px solid #ffcc00; padding: 20px; border-radius: 8px; text-align: center; box-shadow: 0 0 30px rgba(255,204,0,0.3); z-index: 5; width: 400px; }
        .upcoming-sessions-banner h3 { color: #ffcc00; margin-bottom: 10px; font-size: 18px; }
        .countdown-row { display: flex; flex-direction: column; gap: 5px; border-top: 1px solid #333; padding-top: 10px; margin-top: 10px; }
        .countdown-text { font-size: 24px; color: #fff; font-weight: bold; font-family: 'Lato', sans-serif; }

        /* SESSES ATIVAS */
        .active-sessions-banner { position: absolute; top: 120px; left: 50%; transform: translateX(-50%); background: rgba(20, 0, 0, 0.9); border: 2px solid #f00; padding: 20px; border-radius: 8px; text-align: center; box-shadow: 0 0 30px #f00; animation: pulseRed 2s infinite; z-index: 5; }
        .session-entry-row { display: flex; gap: 20px; align-items: center; margin-top: 10px; justify-content: center; }
        .btn-enter-session { background: #f00; color: #fff; border: none; padding: 10px 20px; font-weight: bold; cursor: pointer; font-family: 'Cinzel', serif; font-size: 16px; }
        .btn-enter-session:hover { background: #fff; color: #f00; }
        @keyframes pulseRed { 0% { box-shadow: 0 0 10px #f00; } 50% { box-shadow: 0 0 30px #f00; } 100% { box-shadow: 0 0 10px #f00; } }

        /* WIDGET STATUS VTT */
        .vtt-status-widget { position: fixed; top: 20px; right: 20px; background: rgba(0,0,0,0.9); border: 2px solid; padding: 15px; border-radius: 8px; display: flex; align-items: center; gap: 15px; z-index: 9999; width: 280px; transition: 0.5s; box-shadow: 0 5px 20px rgba(0,0,0,0.5); }
        .vtt-status-widget.waiting { border-color: #ffcc00; }
        .vtt-status-widget.connected { border-color: #0f0; box-shadow: 0 0 20px rgba(0,255,0,0.3); }
        .status-indicator { width: 15px; height: 15px; border-radius: 50%; }
        .waiting .status-indicator { background: #ffcc00; animation: blink 1s infinite; }
        .connected .status-indicator { background: #0f0; box-shadow: 0 0 10px #0f0; }
        .status-text h4 { margin: 0; font-size: 14px; color: #fff; text-transform: uppercase; }
        .status-text small { font-size: 11px; color: #ccc; }
        .waiting .status-text h4 { color: #ffcc00; }
        .connected .status-text h4 { color: #0f0; }
        @keyframes blink { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }

        /* BOTES FLUTUANTES */
        .floating-mission-btn { position: fixed; bottom: 30px; left: 30px; width: 70px; height: 70px; border-radius: 50%; border: 2px solid #ffcc00; background: #000; color: #fff; font-size: 30px; cursor: pointer; z-index: 999; box-shadow: 0 0 15px rgba(0,0,0,0.8); transition: transform 0.2s, box-shadow 0.2s; display: flex; align-items: center; justify-content: center; }
        .floating-mission-btn:hover { transform: scale(1.1); box-shadow: 0 0 25px #ffcc00; }
        .floating-sanchez-btn { position: fixed; bottom: 110px; left: 30px; width: 70px; height: 70px; border-radius: 50%; border: 2px solid #00f2ff; background: #000; cursor: pointer; z-index: 999; box-shadow: 0 0 15px rgba(0,242,255,0.5); transition: transform 0.2s; display: flex; align-items: center; justify-content: center; overflow: visible; }
        .floating-sanchez-btn:hover { transform: scale(1.1); box-shadow: 0 0 25px #00f2ff; }
        .sanchez-icon-face { width: 100%; height: 100%; border-radius: 50%; background-size: cover; background-position: center; }
        .notification-badge { position: absolute; top: -5px; right: -5px; background: #f00; color: #fff; border-radius: 50%; width: 24px; height: 24px; font-size: 12px; font-weight: bold; display: flex; align-items: center; justify-content: center; border: 2px solid #fff; }

        /* MODAIS GERAIS */
        .ff-modal-overlay-flex { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); z-index: 99999; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(10px); }
        .ff-modal-content { width: 600px; max-width: 95vw; max-height: 85vh; background: #0d0d15; border: 2px solid #ffcc00; padding: 25px; border-radius: 8px; box-shadow: 0 0 50px rgba(0,0,0,0.9); overflow-y: auto; display: flex; flex-direction: column; }
        .modal-header-row { display: flex; justify-content: space-between; align-items: flex-start; border-bottom: 1px solid #444; padding-bottom: 10px; margin-bottom: 15px; }
        .modal-title-ff { color: #ffcc00; margin: 0; font-size: 22px; letter-spacing: 2px; }
        .btn-close-x { background: none; border: none; color: #fff; font-size: 24px; cursor: pointer; }
        .btn-close-x:hover { color: #f00; }

        /* LISTA DE MISSES */
        .missions-list-player { display: grid; grid-template-columns: 1fr; gap: 15px; }
        .mission-poster-player { background: rgba(255,255,255,0.05); border: 1px solid #444; padding: 15px; border-radius: 4px; position: relative; }
        .mp-header { display: flex; align-items: center; gap: 10px; border-bottom: 1px solid #333; padding-bottom: 8px; margin-bottom: 8px; }
        .mp-rank { font-size: 24px; font-weight: bold; color: #ffcc00; }
        .mp-details p { margin: 4px 0; font-size: 14px; color: #ccc; }
        .mp-desc { font-style: italic; color: #aaa; margin-top: 8px; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
        .mp-actions-row { display: flex; gap: 10px; margin-top: 15px; }
        .btn-details-outline { flex: 1; border: 1px solid #00f2ff; color: #00f2ff; background: transparent; padding: 10px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .btn-details-outline:hover { background: #00f2ff; color: #000; }
        .btn-candidatar { flex: 2; background: #00f2ff; color: #000; font-weight: bold; border: none; padding: 10px; cursor: pointer; transition: 0.3s; }
        .btn-candidatar:hover:not(:disabled) { background: #fff; box-shadow: 0 0 10px #00f2ff; }
        .btn-candidatar:disabled { background: #333; color: #666; cursor: not-allowed; }
        .candidates-box { margin-top: 10px; background: rgba(0,0,0,0.3); padding: 8px; border-radius: 4px; }
        .cand-tags { display: flex; flex-wrap: wrap; gap: 5px; margin-top: 5px; }
        .cand-tag { font-size: 11px; padding: 2px 6px; background: #222; border: 1px solid #444; border-radius: 3px; color: #ddd; }
        .cand-tag.leader { border-color: #ffcc00; color: #ffcc00; }

        /* LISTA DE RESENHAS */
        .resenhas-list-container { display: flex; flex-direction: column; gap: 10px; }
        .resenha-row-player { display: flex; align-items: center; background: rgba(255,255,255,0.05); border: 1px solid #333; padding: 15px; border-radius: 4px; cursor: pointer; transition: 0.2s; }
        .resenha-row-player:hover { background: rgba(255,255,255,0.1); border-color: #ffcc00; }
        .r-icon { font-size: 24px; margin-right: 15px; }
        .r-info { flex: 1; }
        .r-info h4 { margin: 0; color: #ffcc00; font-size: 16px; }
        .r-info small { color: #aaa; }
        .btn-read-arrow { background: none; border: none; color: #00f2ff; font-weight: bold; cursor: pointer; }

        /* VISUALIZAO DE DETALHES (Estilo do Mestre) */
        .detail-view-main { width: 600px; background: #000814; border: 1px solid #ffcc00; padding: 0; box-shadow: 0 0 40px rgba(255, 204, 0, 0.1); overflow: hidden; display: flex; flex-direction: column; }
        .detail-header-modern { background: linear-gradient(90deg, #1a1a1a 0%, #000 100%); padding: 25px 30px; display: flex; align-items: center; border-bottom: 1px solid #333; gap: 20px; }
        .detail-rank-badge { font-size: 32px; font-weight: bold; color: #ffcc00; text-shadow: 0 0 10px rgba(255,204,0,0.5); border: 2px solid #ffcc00; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background: rgba(0,0,0,0.5); }
        .detail-title-col h2 { margin: 0; font-size: 24px; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        .detail-narrator { color: #00f2ff; font-size: 12px; font-weight: bold; text-transform: uppercase; margin-top: 4px; display: block; }
        .detail-body-grid { padding: 30px; display: flex; flex-direction: column; gap: 20px; }
        .detail-info-row { display: flex; gap: 25px; margin-bottom: 10px; border-bottom: 1px solid #333; padding-bottom: 15px; }
        .info-item { flex: 1; }
        .info-item label { color: #ffcc00; font-size: 10px; display: block; margin-bottom: 5px; font-weight: bold; opacity: 0.8; }
        .info-item span { color: #fff; font-size: 14px; font-weight: bold; letter-spacing: 0.5px; }
        .detail-section { margin-bottom: 5px; }
        .section-label { color: #ffcc00; font-size: 11px; font-weight: bold; display: block; margin-bottom: 8px; letter-spacing: 1px; text-transform: uppercase; border-bottom: 1px solid #333; padding-bottom: 4px; }
        .section-text { font-size: 15px; line-height: 1.5; color: #ddd; margin: 0; white-space: pre-wrap; }
        .reward-section { margin-top: 10px; background: rgba(255,204,0,0.05); padding: 15px; border-radius: 4px; border: 1px solid rgba(255,204,0,0.2); }
        .gil-display-row { display: flex; align-items: center; gap: 10px; font-size: 18px; color: #ffcc00; font-weight: bold; margin-bottom: 8px; }
        .extra-rewards-list { margin-top: 8px; padding-left: 5px; }
        .reward-item { color: #aaa; font-size: 14px; margin-bottom: 4px; font-style: italic; }
        .ff-final-close-btn { width: 100%; background: #111; color: #fff; border: none; border-top: 1px solid #333; padding: 20px; font-weight: bold; cursor: pointer; font-size: 13px; text-transform: uppercase; transition: 0.2s; }
        .ff-final-close-btn:hover { background: #222; color: #ffcc00; }

        /* PAPIRO VIEW */
        .papiro-overlay-full { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); z-index: 100000; display: flex; align-items: center; justify-content: center; }
        .papiro-real-container { width: 1000px; height: 800px; max-width: 95vw; max-height: 95vh; background-size: 100% 100%; background-repeat: no-repeat; padding: 110px 160px; color: #3b2b1a; position: relative; display: flex; flex-direction: column; }
        .sanchez-oval-view-no-border { width: 110px; height: 110px; float: right; border-radius: 50%; background-size: cover; margin-left: 20px; mask-image: radial-gradient(circle, black 60%, transparent 100%); -webkit-mask-image: radial-gradient(circle, black 60%, transparent 100%); opacity: 0.9; }
        .papiro-title-real { border-bottom: 2px solid #3b2b1a; padding-bottom: 5px; margin-top: 0; font-size: 32px; font-weight: bold; }
        .papiro-mestre-sub { font-size: 14px; font-style: italic; opacity: 0.8; margin-top: 5px; }
        .papiro-body-real { margin-top: 25px; flex: 1; overflow-y: auto; line-height: 1.6; font-size: 18px; padding-right: 10px; scrollbar-width: none; -ms-overflow-style: none; }
        .papiro-body-real::-webkit-scrollbar { display: none; }
        .papiro-close-btn { position: absolute; bottom: 45px; right: 110px; background: #3b2b1a; color: #f4e4bc; border: none; padding: 8px 20px; cursor: pointer; font-weight: bold; font-size: 13px; border-radius: 2px; }

        .fade-in { animation: fadeIn 1s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
      `})]}):y.jsx("div",{className:"loading-screen",children:"Carregando Grimrio..."})}const LD=()=>y.jsx("div",{style:{color:"white",padding:"50px"},children:"PGINA DO JOGADOR EM CONSTRUO"}),zD=({user:i,children:e})=>i&&i.email==="fffvtt10@gmail.com"?e:y.jsx(q_,{to:"/admin-login"});function UD(){const[i,e]=O.useState(!0),[n,r]=O.useState(null);return O.useEffect(()=>{const o=zN(et,c=>{r(c);const h=setTimeout(()=>{e(!1)},1e3);return()=>clearTimeout(h)});return()=>o()},[]),i?y.jsxs("div",{className:"ether-loading",children:[y.jsx("div",{className:"loading-blur-bg"}),y.jsxs("div",{className:"loading-content",children:[y.jsx("img",{src:vD,alt:"Carregando...",className:"chocobo-anim"}),y.jsx("div",{className:"loading-bar",children:y.jsx("div",{className:"loading-fill"})}),y.jsx("p",{children:"SINTONIZANDO COM O TER..."})]}),y.jsx("style",{children:`
          .ether-loading {
            height: 100vh; width: 100vw; background: #000;
            display: flex; align-items: center; justify-content: center;
            position: fixed; top: 0; left: 0; z-index: 9999;
          }
          .loading-blur-bg {
            position: absolute; width: 100%; height: 100%;
            background: radial-gradient(circle, #001a33 0%, #000 100%);
            filter: blur(40px);
            animation: pulseBlur 2s infinite alternate;
          }
          .loading-content { position: relative; z-index: 10; text-align: center; }
          .chocobo-anim { width: 120px; filter: drop-shadow(0 0 10px #ffcc00); margin-bottom: 20px; }
          
          .loading-bar {
            width: 200px; height: 2px; background: rgba(255, 255, 255, 0.1);
            margin: 0 auto 15px auto; border-radius: 10px; overflow: hidden;
          }
          .loading-fill {
            height: 100%; width: 0%; background: #ffcc00;
            box-shadow: 0 0 10px #ffcc00;
            animation: fillProgress 1s ease-in-out forwards;
          }
          
          p { color: #ffcc00; font-family: 'serif'; font-size: 10px; letter-spacing: 3px; animation: fadeText 1s infinite alternate; }
          
          @keyframes fillProgress { from { width: 0%; } to { width: 100%; } }
          @keyframes pulseBlur { from { opacity: 0.5; } to { opacity: 0.8; } }
          @keyframes fadeText { from { opacity: 0.4; } to { opacity: 1; } }
        `})]}):y.jsxs(m1,{children:[y.jsx(Va,{path:"/",element:y.jsx(_D,{})}),y.jsx(Va,{path:"/login",element:y.jsx(AD,{})}),y.jsx(Va,{path:"/mestre",element:y.jsx(CD,{})}),y.jsx(Va,{path:"/jogador",element:y.jsx(LD,{})}),y.jsx(Va,{path:"/create-character",element:y.jsx(PD,{})}),y.jsx(Va,{path:"/admin-login",element:y.jsx(TD,{})}),y.jsx(Va,{path:"/jogador-vtt",element:y.jsx(jD,{})}),y.jsx(Va,{path:"/admin",element:y.jsx(zD,{user:n,children:y.jsx(xD,{})})}),y.jsx(Va,{path:"*",element:y.jsx(q_,{to:"/"})})]})}yS.createRoot(document.getElementById("root")).render(y.jsx(cS.StrictMode,{children:y.jsx(L1,{children:y.jsx(UD,{})})}));
