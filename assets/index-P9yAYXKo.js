(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function C_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var bp={exports:{}},Ql={};var Pv;function oT(){if(Pv)return Ql;Pv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:d,ref:o!==void 0?o:null,props:c}}return Ql.Fragment=e,Ql.jsx=n,Ql.jsxs=n,Ql}var Vv;function lT(){return Vv||(Vv=1,bp.exports=oT()),bp.exports}var p=lT(),_p={exports:{}},Ce={};var Lv;function cT(){if(Lv)return Ce;Lv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),w=Symbol.iterator;function L(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,K={};function oe(k,W,V){this.props=k,this.context=W,this.refs=K,this.updater=V||G}oe.prototype.isReactComponent={},oe.prototype.setState=function(k,W){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,W,"setState")},oe.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function B(){}B.prototype=oe.prototype;function se(k,W,V){this.props=k,this.context=W,this.refs=K,this.updater=V||G}var pe=se.prototype=new B;pe.constructor=se,U(pe,oe.prototype),pe.isPureReactComponent=!0;var _e=Array.isArray;function ye(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(k,W,V){var te=V.ref;return{$$typeof:i,type:k,key:W,ref:te!==void 0?te:null,props:V}}function T(k,W){return N(k.type,W,k.props)}function M(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function j(k){var W={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(V){return W[V]})}var C=/\/+/g;function De(k,W){return typeof k=="object"&&k!==null&&k.key!=null?j(""+k.key):W.toString(36)}function Ke(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ye,ye):(k.status="pending",k.then(function(W){k.status==="pending"&&(k.status="fulfilled",k.value=W)},function(W){k.status==="pending"&&(k.status="rejected",k.reason=W)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function J(k,W,V,te,le){var de=typeof k;(de==="undefined"||de==="boolean")&&(k=null);var be=!1;if(k===null)be=!0;else switch(de){case"bigint":case"string":case"number":be=!0;break;case"object":switch(k.$$typeof){case i:case e:be=!0;break;case x:return be=k._init,J(be(k._payload),W,V,te,le)}}if(be)return le=le(k),be=te===""?"."+De(k,0):te,_e(le)?(V="",be!=null&&(V=be.replace(C,"$&/")+"/"),J(le,W,V,"",function(fn){return fn})):le!=null&&(M(le)&&(le=T(le,V+(le.key==null||k&&k.key===le.key?"":(""+le.key).replace(C,"$&/")+"/")+be)),W.push(le)),1;be=0;var je=te===""?".":te+":";if(_e(k))for(var Fe=0;Fe<k.length;Fe++)te=k[Fe],de=je+De(te,Fe),be+=J(te,W,V,de,le);else if(Fe=L(k),typeof Fe=="function")for(k=Fe.call(k),Fe=0;!(te=k.next()).done;)te=te.value,de=je+De(te,Fe++),be+=J(te,W,V,de,le);else if(de==="object"){if(typeof k.then=="function")return J(Ke(k),W,V,te,le);throw W=String(k),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return be}function ce(k,W,V){if(k==null)return k;var te=[],le=0;return J(k,te,"","",function(de){return W.call(V,de,le++)}),te}function Z(k){if(k._status===-1){var W=k._result;W=W(),W.then(function(V){(k._status===0||k._status===-1)&&(k._status=1,k._result=V)},function(V){(k._status===0||k._status===-1)&&(k._status=2,k._result=V)}),k._status===-1&&(k._status=0,k._result=W)}if(k._status===1)return k._result.default;throw k._result}var me=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},xe={map:ce,forEach:function(k,W,V){ce(k,function(){W.apply(this,arguments)},V)},count:function(k){var W=0;return ce(k,function(){W++}),W},toArray:function(k){return ce(k,function(W){return W})||[]},only:function(k){if(!M(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ce.Activity=E,Ce.Children=xe,Ce.Component=oe,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=se,Ce.StrictMode=r,Ce.Suspense=g,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},Ce.cache=function(k){return function(){return k.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(k,W,V){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var te=U({},k.props),le=k.key;if(W!=null)for(de in W.key!==void 0&&(le=""+W.key),W)!R.call(W,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&W.ref===void 0||(te[de]=W[de]);var de=arguments.length-2;if(de===1)te.children=V;else if(1<de){for(var be=Array(de),je=0;je<de;je++)be[je]=arguments[je+2];te.children=be}return N(k.type,le,te)},Ce.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},Ce.createElement=function(k,W,V){var te,le={},de=null;if(W!=null)for(te in W.key!==void 0&&(de=""+W.key),W)R.call(W,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(le[te]=W[te]);var be=arguments.length-2;if(be===1)le.children=V;else if(1<be){for(var je=Array(be),Fe=0;Fe<be;Fe++)je[Fe]=arguments[Fe+2];le.children=je}if(k&&k.defaultProps)for(te in be=k.defaultProps,be)le[te]===void 0&&(le[te]=be[te]);return N(k,de,le)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(k){return{$$typeof:m,render:k}},Ce.isValidElement=M,Ce.lazy=function(k){return{$$typeof:x,_payload:{_status:-1,_result:k},_init:Z}},Ce.memo=function(k,W){return{$$typeof:y,type:k,compare:W===void 0?null:W}},Ce.startTransition=function(k){var W=I.T,V={};I.T=V;try{var te=k(),le=I.S;le!==null&&le(V,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(ye,me)}catch(de){me(de)}finally{W!==null&&V.types!==null&&(W.types=V.types),I.T=W}},Ce.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ce.use=function(k){return I.H.use(k)},Ce.useActionState=function(k,W,V){return I.H.useActionState(k,W,V)},Ce.useCallback=function(k,W){return I.H.useCallback(k,W)},Ce.useContext=function(k){return I.H.useContext(k)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(k,W){return I.H.useDeferredValue(k,W)},Ce.useEffect=function(k,W){return I.H.useEffect(k,W)},Ce.useEffectEvent=function(k){return I.H.useEffectEvent(k)},Ce.useId=function(){return I.H.useId()},Ce.useImperativeHandle=function(k,W,V){return I.H.useImperativeHandle(k,W,V)},Ce.useInsertionEffect=function(k,W){return I.H.useInsertionEffect(k,W)},Ce.useLayoutEffect=function(k,W){return I.H.useLayoutEffect(k,W)},Ce.useMemo=function(k,W){return I.H.useMemo(k,W)},Ce.useOptimistic=function(k,W){return I.H.useOptimistic(k,W)},Ce.useReducer=function(k,W,V){return I.H.useReducer(k,W,V)},Ce.useRef=function(k){return I.H.useRef(k)},Ce.useState=function(k){return I.H.useState(k)},Ce.useSyncExternalStore=function(k,W,V){return I.H.useSyncExternalStore(k,W,V)},Ce.useTransition=function(){return I.H.useTransition()},Ce.version="19.2.4",Ce}var zv;function pm(){return zv||(zv=1,_p.exports=cT()),_p.exports}var O=pm();const uT=C_(O);var xp={exports:{}},Kl={},Ep={exports:{}},Ap={};var Uv;function dT(){return Uv||(Uv=1,(function(i){function e(J,ce){var Z=J.length;J.push(ce);e:for(;0<Z;){var me=Z-1>>>1,xe=J[me];if(0<o(xe,ce))J[me]=ce,J[Z]=xe,Z=me;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ce=J[0],Z=J.pop();if(Z!==ce){J[0]=Z;e:for(var me=0,xe=J.length,k=xe>>>1;me<k;){var W=2*(me+1)-1,V=J[W],te=W+1,le=J[te];if(0>o(V,Z))te<xe&&0>o(le,V)?(J[me]=le,J[te]=Z,me=te):(J[me]=V,J[W]=Z,me=W);else if(te<xe&&0>o(le,Z))J[me]=le,J[te]=Z,me=te;else break e}}return ce}function o(J,ce){var Z=J.sortIndex-ce.sortIndex;return Z!==0?Z:J.id-ce.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var g=[],y=[],x=1,E=null,w=3,L=!1,G=!1,U=!1,K=!1,oe=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function pe(J){for(var ce=n(y);ce!==null;){if(ce.callback===null)r(y);else if(ce.startTime<=J)r(y),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=n(y)}}function _e(J){if(U=!1,pe(J),!G)if(n(g)!==null)G=!0,ye||(ye=!0,j());else{var ce=n(y);ce!==null&&Ke(_e,ce.startTime-J)}}var ye=!1,I=-1,R=5,N=-1;function T(){return K?!0:!(i.unstable_now()-N<R)}function M(){if(K=!1,ye){var J=i.unstable_now();N=J;var ce=!0;try{e:{G=!1,U&&(U=!1,B(I),I=-1),L=!0;var Z=w;try{t:{for(pe(J),E=n(g);E!==null&&!(E.expirationTime>J&&T());){var me=E.callback;if(typeof me=="function"){E.callback=null,w=E.priorityLevel;var xe=me(E.expirationTime<=J);if(J=i.unstable_now(),typeof xe=="function"){E.callback=xe,pe(J),ce=!0;break t}E===n(g)&&r(g),pe(J)}else r(g);E=n(g)}if(E!==null)ce=!0;else{var k=n(y);k!==null&&Ke(_e,k.startTime-J),ce=!1}}break e}finally{E=null,w=Z,L=!1}ce=void 0}}finally{ce?j():ye=!1}}}var j;if(typeof se=="function")j=function(){se(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,De=C.port2;C.port1.onmessage=M,j=function(){De.postMessage(null)}}else j=function(){oe(M,0)};function Ke(J,ce){I=oe(function(){J(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(J){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var Z=w;w=ce;try{return J()}finally{w=Z}},i.unstable_requestPaint=function(){K=!0},i.unstable_runWithPriority=function(J,ce){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Z=w;w=J;try{return ce()}finally{w=Z}},i.unstable_scheduleCallback=function(J,ce,Z){var me=i.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?me+Z:me):Z=me,J){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Z+xe,J={id:x++,callback:ce,priorityLevel:J,startTime:Z,expirationTime:xe,sortIndex:-1},Z>me?(J.sortIndex=Z,e(y,J),n(g)===null&&J===n(y)&&(U?(B(I),I=-1):U=!0,Ke(_e,Z-me))):(J.sortIndex=xe,e(g,J),G||L||(G=!0,ye||(ye=!0,j()))),J},i.unstable_shouldYield=T,i.unstable_wrapCallback=function(J){var ce=w;return function(){var Z=w;w=ce;try{return J.apply(this,arguments)}finally{w=Z}}}})(Ap)),Ap}var Bv;function fT(){return Bv||(Bv=1,Ep.exports=dT()),Ep.exports}var Tp={exports:{}},an={};var Hv;function hT(){if(Hv)return an;Hv=1;var i=pm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:y,implementation:x}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,x)},an.flushSync=function(g){var y=d.T,x=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=x,r.d.f()}},an.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},an.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},an.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,E=m(x,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,L=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:w,fetchPriority:L}):x==="script"&&r.d.X(g,{crossOrigin:E,integrity:w,fetchPriority:L,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},an.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},an.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,E=m(x,y.crossOrigin);r.d.L(g,x,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},an.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},an.requestFormReset=function(g){r.d.r(g)},an.unstable_batchedUpdates=function(g,y){return g(y)},an.useFormState=function(g,y,x){return d.H.useFormState(g,y,x)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.4",an}var qv;function pT(){if(qv)return Tp.exports;qv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Tp.exports=hT(),Tp.exports}var Fv;function mT(){if(Fv)return Kl;Fv=1;var i=fT(),e=pm(),n=pT();function r(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function d(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function m(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var a=t.alternate;if(!a){if(a=c(t),a===null)throw Error(r(188));return a!==t?null:t}for(var s=t,l=a;;){var f=s.return;if(f===null)break;var h=f.alternate;if(h===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===s)return g(f),t;if(h===l)return g(f),a;h=h.sibling}throw Error(r(188))}if(s.return!==l.return)s=f,l=h;else{for(var b=!1,A=f.child;A;){if(A===s){b=!0,s=f,l=h;break}if(A===l){b=!0,l=f,s=h;break}A=A.sibling}if(!b){for(A=h.child;A;){if(A===s){b=!0,s=h,l=f;break}if(A===l){b=!0,l=h,s=f;break}A=A.sibling}if(!b)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:a}function x(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=x(t),a!==null)return a;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),se=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case oe:return"Profiler";case K:return"StrictMode";case _e:return"Suspense";case ye:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case se:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case pe:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return a=t.displayName||null,a!==null?a:De(t.type)||"Memo";case R:a=t._payload,t=t._init;try{return De(t(a))}catch{}}return null}var Ke=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},me=[],xe=-1;function k(t){return{current:t}}function W(t){0>xe||(t.current=me[xe],me[xe]=null,xe--)}function V(t,a){xe++,me[xe]=t.current,t.current=a}var te=k(null),le=k(null),de=k(null),be=k(null);function je(t,a){switch(V(de,a),V(le,t),V(te,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?rv(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=rv(a),t=sv(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(te),V(te,t)}function Fe(){W(te),W(le),W(de)}function fn(t){t.memoizedState!==null&&V(be,t);var a=te.current,s=sv(a,t.type);a!==s&&(V(le,t),V(te,s))}function ta(t){le.current===t&&(W(te),W(le)),be.current===t&&(W(be),Hl._currentValue=Z)}var Mi,Oi;function Y(t){if(Mi===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Mi=a&&a[1]||"",Oi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mi+t+Oi}var Pe=!1;function Qt(t,a){if(!t||Pe)return"";Pe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var Q=X}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(X){Q=X}t.call(ie.prototype)}}else{try{throw Error()}catch(X){Q=X}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),b=h[0],A=h[1];if(b&&A){var D=b.split(`
`),F=A.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===F.length)for(l=D.length-1,f=F.length-1;1<=l&&0<=f&&D[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==F[f]){var ee=`
`+D[l].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=l&&0<=f);break}}}finally{Pe=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Y(s):""}function na(t,a){switch(t.tag){case 26:case 27:case 5:return Y(t.type);case 16:return Y("Lazy");case 13:return t.child!==a&&a!==null?Y("Suspense Fallback"):Y("Suspense");case 19:return Y("SuspenseList");case 0:case 15:return Qt(t.type,!1);case 11:return Qt(t.type.render,!1);case 1:return Qt(t.type,!0);case 31:return Y("Activity");default:return""}}function Tn(t){try{var a="",s=null;do a+=na(t,s),s=t,t=t.return;while(t);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var yt=Object.prototype.hasOwnProperty,wt=i.unstable_scheduleCallback,nn=i.unstable_cancelCallback,hn=i.unstable_shouldYield,kr=i.unstable_requestPaint,cn=i.unstable_now,jr=i.unstable_getCurrentPriorityLevel,Go=i.unstable_ImmediatePriority,Qo=i.unstable_UserBlockingPriority,Di=i.unstable_NormalPriority,Ef=i.unstable_LowPriority,Dc=i.unstable_IdlePriority,kc=i.log,jc=i.unstable_setDisableYieldValue,aa=null,Kt=null;function Vn(t){if(typeof kc=="function"&&jc(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(aa,t)}catch{}}var xt=Math.clz32?Math.clz32:Vc,Pc=Math.log,Ts=Math.LN2;function Vc(t){return t>>>=0,t===0?32:31-(Pc(t)/Ts|0)|0}var xa=256,Pr=262144,Nt=4194304;function Ea(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Aa(t,a,s){var l=t.pendingLanes;if(l===0)return 0;var f=0,h=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~h,l!==0?f=Ea(l):(b&=A,b!==0?f=Ea(b):s||(s=A&~t,s!==0&&(f=Ea(s))))):(A=l&~h,A!==0?f=Ea(A):b!==0?f=Ea(b):s||(s=l&~t,s!==0&&(f=Ea(s)))),f===0?0:a!==0&&a!==f&&(a&h)===0&&(h=f&-f,s=a&-a,h>=s||h===32&&(s&4194048)!==0)?a:f}function ia(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Af(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lc(){var t=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),t}function Ta(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function Vr(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Tf(t,a,s,l,f,h){var b=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var A=t.entanglements,D=t.expirationTimes,F=t.hiddenUpdates;for(s=b&~s;0<s;){var ee=31-xt(s),ie=1<<ee;A[ee]=0,D[ee]=-1;var Q=F[ee];if(Q!==null)for(F[ee]=null,ee=0;ee<Q.length;ee++){var X=Q[ee];X!==null&&(X.lane&=-536870913)}s&=~ie}l!==0&&Lr(t,l,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(b&~a))}function Lr(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var l=31-xt(a);t.entangledLanes|=a,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Ko(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var l=31-xt(s),f=1<<l;f&a|t[l]&a&&(t[l]|=a),s&=~f}}function Yo(t,a){var s=a&-a;return s=(s&42)!==0?1:zr(s),(s&(t.suspendedLanes|a))!==0?0:s}function zr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Wa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zc(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:Cv(t.type))}function ra(t,a){var s=ce.p;try{return ce.p=t,a()}finally{ce.p=s}}var sa=Math.random().toString(36).slice(2),Rt="__reactFiber$"+sa,Ht="__reactProps$"+sa,Sa="__reactContainer$"+sa,Ss="__reactEvents$"+sa,Sf="__reactListeners$"+sa,Uc="__reactHandles$"+sa,Bc="__reactResources$"+sa,wa="__reactMarker$"+sa;function ws(t){delete t[Rt],delete t[Ht],delete t[Ss],delete t[Sf],delete t[Uc]}function Na(t){var a=t[Rt];if(a)return a;for(var s=t.parentNode;s;){if(a=s[Sa]||s[Rt]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=hv(t);t!==null;){if(s=t[Rt])return s;t=hv(t)}return a}t=s,s=t.parentNode}return null}function Ln(t){if(t=t[Rt]||t[Sa]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function Sn(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(r(33))}function Ra(t){var a=t[Bc];return a||(a=t[Bc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ct(t){t[wa]=!0}var $o=new Set,Xo={};function Ca(t,a){Ia(t,a),Ia(t+"Capture",a)}function Ia(t,a){for(Xo[t]=a,t=0;t<a.length;t++)$o.add(a[t])}var Jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zo={},Wo={};function Hc(t){return yt.call(Wo,t)?!0:yt.call(Zo,t)?!1:Jo.test(t)?Wo[t]=!0:(Zo[t]=!0,!1)}function Ns(t,a,s){if(Hc(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function wn(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function It(t,a,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+l)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ki(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function el(t,a,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,h=l.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return f.call(this)},set:function(b){s=""+b,h.call(this,b)}}),Object.defineProperty(t,a,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function et(t){if(!t._valueTracker){var a=ki(t)?"checked":"value";t._valueTracker=el(t,a,""+t[a])}}function Ur(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),l="";return t&&(l=ki(t)?t.checked?"true":"false":t.value),t=l,t!==s?(a.setValue(t),!0):!1}function Ma(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Br=/[\n"\\]/g;function pn(t){return t.replace(Br,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Rs(t,a,s,l,f,h,b,A){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),a!=null?b==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+qt(a)):t.value!==""+qt(a)&&(t.value=""+qt(a)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),a!=null?tl(t,b,qt(a)):s!=null?tl(t,b,qt(s)):l!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+qt(A):t.removeAttribute("name")}function qc(t,a,s,l,f,h,b,A){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),a!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||a!=null)){et(t);return}s=s!=null?""+qt(s):"",a=a!=null?""+qt(a):s,A||a===t.value||(t.value=a),t.defaultValue=a}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),et(t)}function tl(t,a,s){a==="number"&&Ma(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ji(t,a,s,l){if(t=t.options,a){a={};for(var f=0;f<s.length;f++)a["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=a.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+qt(s),a=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}a!==null||t[f].disabled||(a=t[f])}a!==null&&(a.selected=!0)}}function Fc(t,a,s){if(a!=null&&(a=""+qt(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+qt(s):""}function Pi(t,a,s,l){if(a==null){if(l!=null){if(s!=null)throw Error(r(92));if(Ke(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),a=s}s=qt(a),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),et(t)}function mn(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var Gc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(t,a,s){var l=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":l?t.setProperty(a,s):typeof s!="number"||s===0||Gc.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function al(t,a,s){if(a!=null&&typeof a!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in a)l=a[f],a.hasOwnProperty(f)&&s[f]!==l&&nl(t,f,l)}else for(var h in a)a.hasOwnProperty(h)&&nl(t,h,a[h])}function Cs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Is(t){return Vi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function oa(){}var il=null;function zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Li=null,Oa=null;function Hr(t){var a=Ln(t);if(a&&(t=a.stateNode)){var s=t[Ht]||null;e:switch(t=a.stateNode,a.type){case"input":if(Rs(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+pn(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var l=s[a];if(l!==t&&l.form===t.form){var f=l[Ht]||null;if(!f)throw Error(r(90));Rs(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<s.length;a++)l=s[a],l.form===t.form&&Ur(l)}break e;case"textarea":Fc(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&ji(t,!!s.multiple,a,!1)}}}var Ms=!1;function zi(t,a,s){if(Ms)return t(a,s);Ms=!0;try{var l=t(a);return l}finally{if(Ms=!1,(Li!==null||Oa!==null)&&(zu(),Li&&(a=Li,t=Oa,Oa=Li=null,Hr(a),t)))for(a=0;a<t.length;a++)Hr(t[a])}}function la(t,a){var s=t.stateNode;if(s===null)return null;var l=s[Ht]||null;if(l===null)return null;s=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,a,typeof s));return s}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qr=!1;if(Un)try{var at={};Object.defineProperty(at,"passive",{get:function(){qr=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{qr=!1}var Da=null,rl=null,Fr=null;function sl(){if(Fr)return Fr;var t,a=rl,s=a.length,l,f="value"in Da?Da.value:Da.textContent,h=f.length;for(t=0;t<s&&a[t]===f[t];t++);var b=s-t;for(l=1;l<=b&&a[s-l]===f[h-l];l++);return Fr=f.slice(t,1<l?1-l:void 0)}function Gr(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function ei(){return!0}function ca(){return!1}function Yt(t){function a(s,l,f,h,b){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=h,this.target=b,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(s=t[A],this[A]=s?s(h):h[A]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ei:ca,this.isPropagationStopped=ca,this}return E(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ei)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ei)},persist:function(){},isPersistent:ei}),a}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=Yt(ti),Ui=E({},ti,{view:0,detail:0}),ol=Yt(Ui),Bi,Os,ja,Ds=E({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ja&&(ja&&t.type==="mousemove"?(Bi=t.screenX-ja.screenX,Os=t.screenY-ja.screenY):Os=Bi=0,ja=t),Bi)},movementY:function(t){return"movementY"in t?t.movementY:Os}}),ll=Yt(Ds),Qr=E({},Ds,{dataTransfer:0}),Kc=Yt(Qr),Yc=E({},Ui,{relatedTarget:0}),Kr=Yt(Yc),cl=E({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),$c=Yt(cl),ks=E({},ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xc=Yt(ks),Jc=E({},ti,{data:0}),Pa=Yt(Jc),Zc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tu(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=eu[t])?!!a[t]:!1}function Hi(){return tu}var un=E({},Ui,{key:function(t){if(t.key){var a=Zc[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Gr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hi,charCode:function(t){return t.type==="keypress"?Gr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nu=Yt(un),au=E({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ni=Yt(au),u=E({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hi}),v=Yt(u),_=E({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Yt(_),H=E({},Ds,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Yt(H),ue=E({},ti,{newState:0,oldState:0}),Me=Yt(ue),Et=[9,13,27,32],Xe=Un&&"CompositionEvent"in window,ht=null;Un&&"documentMode"in document&&(ht=document.documentMode);var Bn=Un&&"TextEvent"in window&&!ht,Va=Un&&(!Xe||ht&&8<ht&&11>=ht),ua=" ",da=!1;function Yr(t,a){switch(t){case"keyup":return Et.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function js(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ps=!1;function MA(t,a){switch(t){case"compositionend":return js(a);case"keypress":return a.which!==32?null:(da=!0,ua);case"textInput":return t=a.data,t===ua&&da?null:t;default:return null}}function OA(t,a){if(Ps)return t==="compositionend"||!Xe&&Yr(t,a)?(t=sl(),Fr=rl=Da=null,Ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Va&&a.locale!=="ko"?null:a.data;default:return null}}var DA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!DA[t.type]:a==="textarea"}function yg(t,a,s,l){Li?Oa?Oa.push(l):Oa=[l]:Li=l,a=Qu(a,"onChange"),0<a.length&&(s=new ka("onChange","change",null,s,l),t.push({event:s,listeners:a}))}var ul=null,dl=null;function kA(t){W0(t,0)}function iu(t){var a=Sn(t);if(Ur(a))return t}function vg(t,a){if(t==="change")return a}var bg=!1;if(Un){var wf;if(Un){var Nf="oninput"in document;if(!Nf){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),Nf=typeof _g.oninput=="function"}wf=Nf}else wf=!1;bg=wf&&(!document.documentMode||9<document.documentMode)}function xg(){ul&&(ul.detachEvent("onpropertychange",Eg),dl=ul=null)}function Eg(t){if(t.propertyName==="value"&&iu(dl)){var a=[];yg(a,dl,t,zn(t)),zi(kA,a)}}function jA(t,a,s){t==="focusin"?(xg(),ul=a,dl=s,ul.attachEvent("onpropertychange",Eg)):t==="focusout"&&xg()}function PA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return iu(dl)}function VA(t,a){if(t==="click")return iu(a)}function LA(t,a){if(t==="input"||t==="change")return iu(a)}function zA(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Nn=typeof Object.is=="function"?Object.is:zA;function fl(t,a){if(Nn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),l=Object.keys(a);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!yt.call(a,f)||!Nn(t[f],a[f]))return!1}return!0}function Ag(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tg(t,a){var s=Ag(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=a&&l>=a)return{node:s,offset:a-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ag(s)}}function Sg(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Sg(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Ma(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=Ma(t.document)}return a}function Rf(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var UA=Un&&"documentMode"in document&&11>=document.documentMode,Vs=null,Cf=null,hl=null,If=!1;function Ng(t,a,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;If||Vs==null||Vs!==Ma(l)||(l=Vs,"selectionStart"in l&&Rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&fl(hl,l)||(hl=l,l=Qu(Cf,"onSelect"),0<l.length&&(a=new ka("onSelect","select",null,a,s),t.push({event:a,listeners:l}),a.target=Vs)))}function $r(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var Ls={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Mf={},Rg={};Un&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function Xr(t){if(Mf[t])return Mf[t];if(!Ls[t])return t;var a=Ls[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in Rg)return Mf[t]=a[s];return t}var Cg=Xr("animationend"),Ig=Xr("animationiteration"),Mg=Xr("animationstart"),BA=Xr("transitionrun"),HA=Xr("transitionstart"),qA=Xr("transitioncancel"),Og=Xr("transitionend"),Dg=new Map,Of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Of.push("scrollEnd");function fa(t,a){Dg.set(t,a),Ca(a,[t])}var ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],zs=0,Df=0;function su(){for(var t=zs,a=Df=zs=0;a<t;){var s=Hn[a];Hn[a++]=null;var l=Hn[a];Hn[a++]=null;var f=Hn[a];Hn[a++]=null;var h=Hn[a];if(Hn[a++]=null,l!==null&&f!==null){var b=l.pending;b===null?f.next=f:(f.next=b.next,b.next=f),l.pending=f}h!==0&&kg(s,f,h)}}function ou(t,a,s,l){Hn[zs++]=t,Hn[zs++]=a,Hn[zs++]=s,Hn[zs++]=l,Df|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function kf(t,a,s,l){return ou(t,a,s,l),lu(t)}function Jr(t,a){return ou(t,null,null,a),lu(t)}function kg(t,a,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,h=t.return;h!==null;)h.childLanes|=s,l=h.alternate,l!==null&&(l.childLanes|=s),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&a!==null&&(f=31-xt(s),t=h.hiddenUpdates,l=t[f],l===null?t[f]=[a]:l.push(a),a.lane=s|536870912),h):null}function lu(t){if(50<jl)throw jl=0,qh=null,Error(r(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Us={};function FA(t,a,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,a,s,l){return new FA(t,a,s,l)}function jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ai(t,a){var s=t.alternate;return s===null?(s=Rn(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function jg(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function cu(t,a,s,l,f,h){var b=0;if(l=t,typeof t=="function")jf(t)&&(b=1);else if(typeof t=="string")b=$1(t,s,te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Rn(31,s,a,f),t.elementType=N,t.lanes=h,t;case U:return Zr(s.children,f,h,a);case K:b=8,f|=24;break;case oe:return t=Rn(12,s,a,f|2),t.elementType=oe,t.lanes=h,t;case _e:return t=Rn(13,s,a,f),t.elementType=_e,t.lanes=h,t;case ye:return t=Rn(19,s,a,f),t.elementType=ye,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:b=10;break e;case B:b=9;break e;case pe:b=11;break e;case I:b=14;break e;case R:b=16,l=null;break e}b=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return a=Rn(b,s,a,f),a.elementType=t,a.type=l,a.lanes=h,a}function Zr(t,a,s,l){return t=Rn(7,t,l,a),t.lanes=s,t}function Pf(t,a,s){return t=Rn(6,t,null,a),t.lanes=s,t}function Pg(t){var a=Rn(18,null,null,0);return a.stateNode=t,a}function Vf(t,a,s){return a=Rn(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var Vg=new WeakMap;function qn(t,a){if(typeof t=="object"&&t!==null){var s=Vg.get(t);return s!==void 0?s:(a={value:t,source:a,stack:Tn(a)},Vg.set(t,a),a)}return{value:t,source:a,stack:Tn(a)}}var Bs=[],Hs=0,uu=null,pl=0,Fn=[],Gn=0,qi=null,La=1,za="";function ii(t,a){Bs[Hs++]=pl,Bs[Hs++]=uu,uu=t,pl=a}function Lg(t,a,s){Fn[Gn++]=La,Fn[Gn++]=za,Fn[Gn++]=qi,qi=t;var l=La;t=za;var f=32-xt(l)-1;l&=~(1<<f),s+=1;var h=32-xt(a)+f;if(30<h){var b=f-f%5;h=(l&(1<<b)-1).toString(32),l>>=b,f-=b,La=1<<32-xt(a)+f|s<<f|l,za=h+t}else La=1<<h|s<<f|l,za=t}function Lf(t){t.return!==null&&(ii(t,1),Lg(t,1,0))}function zf(t){for(;t===uu;)uu=Bs[--Hs],Bs[Hs]=null,pl=Bs[--Hs],Bs[Hs]=null;for(;t===qi;)qi=Fn[--Gn],Fn[Gn]=null,za=Fn[--Gn],Fn[Gn]=null,La=Fn[--Gn],Fn[Gn]=null}function zg(t,a){Fn[Gn++]=La,Fn[Gn++]=za,Fn[Gn++]=qi,La=a.id,za=a.overflow,qi=t}var $t=null,ut=null,Ge=!1,Fi=null,Qn=!1,Uf=Error(r(519));function Gi(t){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(qn(a,t)),Uf}function Ug(t){var a=t.stateNode,s=t.type,l=t.memoizedProps;switch(a[Rt]=t,a[Ht]=l,s){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(s=0;s<Vl.length;s++)Le(Vl[s],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Le("invalid",a),qc(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",a);break;case"textarea":Le("invalid",a),Pi(a,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||l.suppressHydrationWarning===!0||av(a.textContent,s)?(l.popover!=null&&(Le("beforetoggle",a),Le("toggle",a)),l.onScroll!=null&&Le("scroll",a),l.onScrollEnd!=null&&Le("scrollend",a),l.onClick!=null&&(a.onclick=oa),a=!0):a=!1,a||Gi(t,!0)}function Bg(t){for($t=t.return;$t;)switch($t.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:$t=$t.return}}function qs(t){if(t!==$t)return!1;if(!Ge)return Bg(t),Ge=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||ip(t.type,t.memoizedProps)),s=!s),s&&ut&&Gi(t),Bg(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ut=fv(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ut=fv(t)}else a===27?(a=ut,rr(t.type)?(t=cp,cp=null,ut=t):ut=a):ut=$t?Yn(t.stateNode.nextSibling):null;return!0}function Wr(){ut=$t=null,Ge=!1}function Bf(){var t=Fi;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),Fi=null),t}function ml(t){Fi===null?Fi=[t]:Fi.push(t)}var Hf=k(null),es=null,ri=null;function Qi(t,a,s){V(Hf,a._currentValue),a._currentValue=s}function si(t){t._currentValue=Hf.current,W(Hf)}function qf(t,a,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),t===s)break;t=t.return}}function Ff(t,a,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var b=f.child;h=h.firstContext;e:for(;h!==null;){var A=h;h=f;for(var D=0;D<a.length;D++)if(A.context===a[D]){h.lanes|=s,A=h.alternate,A!==null&&(A.lanes|=s),qf(h.return,s,t),l||(b=null);break e}h=A.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(r(341));b.lanes|=s,h=b.alternate,h!==null&&(h.lanes|=s),qf(b,s,t),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===t){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Fs(t,a,s,l){t=null;for(var f=a,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var A=f.type;Nn(f.pendingProps.value,b.value)||(t!==null?t.push(A):t=[A])}}else if(f===be.current){if(b=f.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Hl):t=[Hl])}f=f.return}t!==null&&Ff(a,t,s,l),a.flags|=262144}function du(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ts(t){es=t,ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return Hg(es,t)}function fu(t,a){return es===null&&ts(t),Hg(t,a)}function Hg(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},ri===null){if(t===null)throw Error(r(308));ri=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else ri=ri.next=a;return s}var GA=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},QA=i.unstable_scheduleCallback,KA=i.unstable_NormalPriority,Mt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gf(){return{controller:new GA,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&QA(KA,function(){t.controller.abort()})}var yl=null,Qf=0,Gs=0,Qs=null;function YA(t,a){if(yl===null){var s=yl=[];Qf=0,Gs=$h(),Qs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Qf++,a.then(qg,qg),a}function qg(){if(--Qf===0&&yl!==null){Qs!==null&&(Qs.status="fulfilled");var t=yl;yl=null,Gs=0,Qs=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function $A(t,a){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=a;for(var f=0;f<s.length;f++)(0,s[f])(a)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Fg=J.S;J.S=function(t,a){N0=cn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&YA(t,a),Fg!==null&&Fg(t,a)};var ns=k(null);function Kf(){var t=ns.current;return t!==null?t:ot.pooledCache}function hu(t,a){a===null?V(ns,ns.current):V(ns,a.pool)}function Gg(){var t=Kf();return t===null?null:{parent:Mt._currentValue,pool:t}}var Ks=Error(r(460)),Yf=Error(r(474)),pu=Error(r(542)),mu={then:function(){}};function Qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Kg(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(oa,oa),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,$g(t),t;default:if(typeof a.status=="string")a.then(oa,oa);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=a,t.status="pending",t.then(function(l){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=l}},function(l){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,$g(t),t}throw is=a,Ks}}function as(t){try{var a=t._init;return a(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(is=s,Ks):s}}var is=null;function Yg(){if(is===null)throw Error(r(459));var t=is;return is=null,t}function $g(t){if(t===Ks||t===pu)throw Error(r(483))}var Ys=null,vl=0;function gu(t){var a=vl;return vl+=1,Ys===null&&(Ys=[]),Kg(Ys,t,a)}function bl(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function yu(t,a){throw a.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(a),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Xg(t){function a(z,P){if(t){var q=z.deletions;q===null?(z.deletions=[P],z.flags|=16):q.push(P)}}function s(z,P){if(!t)return null;for(;P!==null;)a(z,P),P=P.sibling;return null}function l(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function f(z,P){return z=ai(z,P),z.index=0,z.sibling=null,z}function h(z,P,q){return z.index=q,t?(q=z.alternate,q!==null?(q=q.index,q<P?(z.flags|=67108866,P):q):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function b(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function A(z,P,q,ne){return P===null||P.tag!==6?(P=Pf(q,z.mode,ne),P.return=z,P):(P=f(P,q),P.return=z,P)}function D(z,P,q,ne){var Ee=q.type;return Ee===U?ee(z,P,q.props.children,ne,q.key):P!==null&&(P.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&as(Ee)===P.type)?(P=f(P,q.props),bl(P,q),P.return=z,P):(P=cu(q.type,q.key,q.props,null,z.mode,ne),bl(P,q),P.return=z,P)}function F(z,P,q,ne){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=Vf(q,z.mode,ne),P.return=z,P):(P=f(P,q.children||[]),P.return=z,P)}function ee(z,P,q,ne,Ee){return P===null||P.tag!==7?(P=Zr(q,z.mode,ne,Ee),P.return=z,P):(P=f(P,q),P.return=z,P)}function ie(z,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Pf(""+P,z.mode,q),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case L:return q=cu(P.type,P.key,P.props,null,z.mode,q),bl(q,P),q.return=z,q;case G:return P=Vf(P,z.mode,q),P.return=z,P;case R:return P=as(P),ie(z,P,q)}if(Ke(P)||j(P))return P=Zr(P,z.mode,q,null),P.return=z,P;if(typeof P.then=="function")return ie(z,gu(P),q);if(P.$$typeof===se)return ie(z,fu(z,P),q);yu(z,P)}return null}function Q(z,P,q,ne){var Ee=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Ee!==null?null:A(z,P,""+q,ne);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case L:return q.key===Ee?D(z,P,q,ne):null;case G:return q.key===Ee?F(z,P,q,ne):null;case R:return q=as(q),Q(z,P,q,ne)}if(Ke(q)||j(q))return Ee!==null?null:ee(z,P,q,ne,null);if(typeof q.then=="function")return Q(z,P,gu(q),ne);if(q.$$typeof===se)return Q(z,P,fu(z,q),ne);yu(z,q)}return null}function X(z,P,q,ne,Ee){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return z=z.get(q)||null,A(P,z,""+ne,Ee);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case L:return z=z.get(ne.key===null?q:ne.key)||null,D(P,z,ne,Ee);case G:return z=z.get(ne.key===null?q:ne.key)||null,F(P,z,ne,Ee);case R:return ne=as(ne),X(z,P,q,ne,Ee)}if(Ke(ne)||j(ne))return z=z.get(q)||null,ee(P,z,ne,Ee,null);if(typeof ne.then=="function")return X(z,P,q,gu(ne),Ee);if(ne.$$typeof===se)return X(z,P,q,fu(P,ne),Ee);yu(P,ne)}return null}function ge(z,P,q,ne){for(var Ee=null,Ye=null,ve=P,ke=P=0,Ue=null;ve!==null&&ke<q.length;ke++){ve.index>ke?(Ue=ve,ve=null):Ue=ve.sibling;var $e=Q(z,ve,q[ke],ne);if($e===null){ve===null&&(ve=Ue);break}t&&ve&&$e.alternate===null&&a(z,ve),P=h($e,P,ke),Ye===null?Ee=$e:Ye.sibling=$e,Ye=$e,ve=Ue}if(ke===q.length)return s(z,ve),Ge&&ii(z,ke),Ee;if(ve===null){for(;ke<q.length;ke++)ve=ie(z,q[ke],ne),ve!==null&&(P=h(ve,P,ke),Ye===null?Ee=ve:Ye.sibling=ve,Ye=ve);return Ge&&ii(z,ke),Ee}for(ve=l(ve);ke<q.length;ke++)Ue=X(ve,z,ke,q[ke],ne),Ue!==null&&(t&&Ue.alternate!==null&&ve.delete(Ue.key===null?ke:Ue.key),P=h(Ue,P,ke),Ye===null?Ee=Ue:Ye.sibling=Ue,Ye=Ue);return t&&ve.forEach(function(ur){return a(z,ur)}),Ge&&ii(z,ke),Ee}function Te(z,P,q,ne){if(q==null)throw Error(r(151));for(var Ee=null,Ye=null,ve=P,ke=P=0,Ue=null,$e=q.next();ve!==null&&!$e.done;ke++,$e=q.next()){ve.index>ke?(Ue=ve,ve=null):Ue=ve.sibling;var ur=Q(z,ve,$e.value,ne);if(ur===null){ve===null&&(ve=Ue);break}t&&ve&&ur.alternate===null&&a(z,ve),P=h(ur,P,ke),Ye===null?Ee=ur:Ye.sibling=ur,Ye=ur,ve=Ue}if($e.done)return s(z,ve),Ge&&ii(z,ke),Ee;if(ve===null){for(;!$e.done;ke++,$e=q.next())$e=ie(z,$e.value,ne),$e!==null&&(P=h($e,P,ke),Ye===null?Ee=$e:Ye.sibling=$e,Ye=$e);return Ge&&ii(z,ke),Ee}for(ve=l(ve);!$e.done;ke++,$e=q.next())$e=X(ve,z,ke,$e.value,ne),$e!==null&&(t&&$e.alternate!==null&&ve.delete($e.key===null?ke:$e.key),P=h($e,P,ke),Ye===null?Ee=$e:Ye.sibling=$e,Ye=$e);return t&&ve.forEach(function(sT){return a(z,sT)}),Ge&&ii(z,ke),Ee}function st(z,P,q,ne){if(typeof q=="object"&&q!==null&&q.type===U&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case L:e:{for(var Ee=q.key;P!==null;){if(P.key===Ee){if(Ee=q.type,Ee===U){if(P.tag===7){s(z,P.sibling),ne=f(P,q.props.children),ne.return=z,z=ne;break e}}else if(P.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&as(Ee)===P.type){s(z,P.sibling),ne=f(P,q.props),bl(ne,q),ne.return=z,z=ne;break e}s(z,P);break}else a(z,P);P=P.sibling}q.type===U?(ne=Zr(q.props.children,z.mode,ne,q.key),ne.return=z,z=ne):(ne=cu(q.type,q.key,q.props,null,z.mode,ne),bl(ne,q),ne.return=z,z=ne)}return b(z);case G:e:{for(Ee=q.key;P!==null;){if(P.key===Ee)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){s(z,P.sibling),ne=f(P,q.children||[]),ne.return=z,z=ne;break e}else{s(z,P);break}else a(z,P);P=P.sibling}ne=Vf(q,z.mode,ne),ne.return=z,z=ne}return b(z);case R:return q=as(q),st(z,P,q,ne)}if(Ke(q))return ge(z,P,q,ne);if(j(q)){if(Ee=j(q),typeof Ee!="function")throw Error(r(150));return q=Ee.call(q),Te(z,P,q,ne)}if(typeof q.then=="function")return st(z,P,gu(q),ne);if(q.$$typeof===se)return st(z,P,fu(z,q),ne);yu(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(s(z,P.sibling),ne=f(P,q),ne.return=z,z=ne):(s(z,P),ne=Pf(q,z.mode,ne),ne.return=z,z=ne),b(z)):s(z,P)}return function(z,P,q,ne){try{vl=0;var Ee=st(z,P,q,ne);return Ys=null,Ee}catch(ve){if(ve===Ks||ve===pu)throw ve;var Ye=Rn(29,ve,null,z.mode);return Ye.lanes=ne,Ye.return=z,Ye}}}var rs=Xg(!0),Jg=Xg(!1),Ki=!1;function $f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $i(t,a,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var f=l.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),l.pending=a,a=lu(t),kg(t,null,s),a}return ou(t,l,a,s),lu(t)}function _l(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var l=a.lanes;l&=t.pendingLanes,s|=l,a.lanes=s,Ko(t,s)}}function Jf(t,a){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var b={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?f=h=b:h=h.next=b,s=s.next}while(s!==null);h===null?f=h=a:h=h.next=a}else f=h=a;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var Zf=!1;function xl(){if(Zf){var t=Qs;if(t!==null)throw t}}function El(t,a,s,l){Zf=!1;var f=t.updateQueue;Ki=!1;var h=f.firstBaseUpdate,b=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,F=D.next;D.next=null,b===null?h=F:b.next=F,b=D;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,A=ee.lastBaseUpdate,A!==b&&(A===null?ee.firstBaseUpdate=F:A.next=F,ee.lastBaseUpdate=D))}if(h!==null){var ie=f.baseState;b=0,ee=F=D=null,A=h;do{var Q=A.lane&-536870913,X=Q!==A.lane;if(X?(ze&Q)===Q:(l&Q)===Q){Q!==0&&Q===Gs&&(Zf=!0),ee!==null&&(ee=ee.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ge=t,Te=A;Q=a;var st=s;switch(Te.tag){case 1:if(ge=Te.payload,typeof ge=="function"){ie=ge.call(st,ie,Q);break e}ie=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Te.payload,Q=typeof ge=="function"?ge.call(st,ie,Q):ge,Q==null)break e;ie=E({},ie,Q);break e;case 2:Ki=!0}}Q=A.callback,Q!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ee===null?(F=ee=X,D=ie):ee=ee.next=X,b|=Q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;X=A,A=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);ee===null&&(D=ie),f.baseState=D,f.firstBaseUpdate=F,f.lastBaseUpdate=ee,h===null&&(f.shared.lanes=0),er|=b,t.lanes=b,t.memoizedState=ie}}function Zg(t,a){if(typeof t!="function")throw Error(r(191,t));t.call(a)}function Wg(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Zg(s[t],a)}var $s=k(null),vu=k(0);function ey(t,a){t=mi,V(vu,t),V($s,a),mi=t|a.baseLanes}function Wf(){V(vu,mi),V($s,$s.current)}function eh(){mi=vu.current,W($s),W(vu)}var Cn=k(null),Kn=null;function Xi(t){var a=t.alternate;V(At,At.current&1),V(Cn,t),Kn===null&&(a===null||$s.current!==null||a.memoizedState!==null)&&(Kn=t)}function th(t){V(At,At.current),V(Cn,t),Kn===null&&(Kn=t)}function ty(t){t.tag===22?(V(At,At.current),V(Cn,t),Kn===null&&(Kn=t)):Ji()}function Ji(){V(At,At.current),V(Cn,Cn.current)}function In(t){W(Cn),Kn===t&&(Kn=null),W(At)}var At=k(0);function bu(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||op(s)||lp(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var oi=0,Oe=null,it=null,Ot=null,_u=!1,Xs=!1,ss=!1,xu=0,Al=0,Js=null,XA=0;function vt(){throw Error(r(321))}function nh(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!Nn(t[s],a[s]))return!1;return!0}function ah(t,a,s,l,f,h){return oi=h,Oe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,J.H=t===null||t.memoizedState===null?Ly:vh,ss=!1,h=s(l,f),ss=!1,Xs&&(h=ay(a,s,l,f)),ny(t),h}function ny(t){J.H=wl;var a=it!==null&&it.next!==null;if(oi=0,Ot=it=Oe=null,_u=!1,Al=0,Js=null,a)throw Error(r(300));t===null||Dt||(t=t.dependencies,t!==null&&du(t)&&(Dt=!0))}function ay(t,a,s,l){Oe=t;var f=0;do{if(Xs&&(Js=null),Al=0,Xs=!1,25<=f)throw Error(r(301));if(f+=1,Ot=it=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}J.H=zy,h=a(s,l)}while(Xs);return h}function JA(){var t=J.H,a=t.useState()[0];return a=typeof a.then=="function"?Tl(a):a,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Oe.flags|=1024),a}function ih(){var t=xu!==0;return xu=0,t}function rh(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function sh(t){if(_u){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}_u=!1}oi=0,Ot=it=Oe=null,Xs=!1,Al=xu=0,Js=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Oe.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function Tt(){if(it===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var a=Ot===null?Oe.memoizedState:Ot.next;if(a!==null)Ot=a,it=t;else{if(t===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Ot===null?Oe.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(t){var a=Al;return Al+=1,Js===null&&(Js=[]),t=Kg(Js,t,a),a=Oe,(Ot===null?a.memoizedState:Ot.next)===null&&(a=a.alternate,J.H=a===null||a.memoizedState===null?Ly:vh),t}function Au(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Tl(t);if(t.$$typeof===se)return Xt(t)}throw Error(r(438,String(t)))}function oh(t){var a=null,s=Oe.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Eu(),Oe.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),l=0;l<t;l++)s[l]=T;return a.index++,s}function li(t,a){return typeof a=="function"?a(t):a}function Tu(t){var a=Tt();return lh(a,it,t)}function lh(t,a,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var f=t.baseQueue,h=l.pending;if(h!==null){if(f!==null){var b=f.next;f.next=h.next,h.next=b}a.baseQueue=f=h,l.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{a=f.next;var A=b=null,D=null,F=a,ee=!1;do{var ie=F.lane&-536870913;if(ie!==F.lane?(ze&ie)===ie:(oi&ie)===ie){var Q=F.revertLane;if(Q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ie===Gs&&(ee=!0);else if((oi&Q)===Q){F=F.next,Q===Gs&&(ee=!0);continue}else ie={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(A=D=ie,b=h):D=D.next=ie,Oe.lanes|=Q,er|=Q;ie=F.action,ss&&s(h,ie),h=F.hasEagerState?F.eagerState:s(h,ie)}else Q={lane:ie,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(A=D=Q,b=h):D=D.next=Q,Oe.lanes|=ie,er|=ie;F=F.next}while(F!==null&&F!==a);if(D===null?b=h:D.next=A,!Nn(h,t.memoizedState)&&(Dt=!0,ee&&(s=Qs,s!==null)))throw s;t.memoizedState=h,t.baseState=b,t.baseQueue=D,l.lastRenderedState=h}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ch(t){var a=Tt(),s=a.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,h=a.memoizedState;if(f!==null){s.pending=null;var b=f=f.next;do h=t(h,b.action),b=b.next;while(b!==f);Nn(h,a.memoizedState)||(Dt=!0),a.memoizedState=h,a.baseQueue===null&&(a.baseState=h),s.lastRenderedState=h}return[h,l]}function iy(t,a,s){var l=Oe,f=Tt(),h=Ge;if(h){if(s===void 0)throw Error(r(407));s=s()}else s=a();var b=!Nn((it||f).memoizedState,s);if(b&&(f.memoizedState=s,Dt=!0),f=f.queue,fh(oy.bind(null,l,f,t),[t]),f.getSnapshot!==a||b||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,Zs(9,{destroy:void 0},sy.bind(null,l,f,s,a),null),ot===null)throw Error(r(349));h||(oi&127)!==0||ry(l,a,s)}return s}function ry(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=Oe.updateQueue,a===null?(a=Eu(),Oe.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function sy(t,a,s,l){a.value=s,a.getSnapshot=l,ly(a)&&cy(t)}function oy(t,a,s){return s(function(){ly(a)&&cy(t)})}function ly(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!Nn(t,s)}catch{return!0}}function cy(t){var a=Jr(t,2);a!==null&&_n(a,t,2)}function uh(t){var a=dn();if(typeof t=="function"){var s=t;if(t=s(),ss){Vn(!0);try{s()}finally{Vn(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:t},a}function uy(t,a,s,l){return t.baseState=s,lh(t,it,typeof l=="function"?l:li)}function ZA(t,a,s,l,f){if(Nu(t))throw Error(r(485));if(t=a.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){h.listeners.push(b)}};J.T!==null?s(!0):h.isTransition=!1,l(h),s=a.pending,s===null?(h.next=a.pending=h,dy(a,h)):(h.next=s.next,a.pending=s.next=h)}}function dy(t,a){var s=a.action,l=a.payload,f=t.state;if(a.isTransition){var h=J.T,b={};J.T=b;try{var A=s(f,l),D=J.S;D!==null&&D(b,A),fy(t,a,A)}catch(F){dh(t,a,F)}finally{h!==null&&b.types!==null&&(h.types=b.types),J.T=h}}else try{h=s(f,l),fy(t,a,h)}catch(F){dh(t,a,F)}}function fy(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){hy(t,a,l)},function(l){return dh(t,a,l)}):hy(t,a,s)}function hy(t,a,s){a.status="fulfilled",a.value=s,py(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,dy(t,s)))}function dh(t,a,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=s,py(a),a=a.next;while(a!==l)}t.action=null}function py(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function my(t,a){return a}function gy(t,a){if(Ge){var s=ot.formState;if(s!==null){e:{var l=Oe;if(Ge){if(ut){t:{for(var f=ut,h=Qn;f.nodeType!==8;){if(!h){f=null;break t}if(f=Yn(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){ut=Yn(f.nextSibling),l=f.data==="F!";break e}}Gi(l)}l=!1}l&&(a=s[0])}}return s=dn(),s.memoizedState=s.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:my,lastRenderedState:a},s.queue=l,s=jy.bind(null,Oe,l),l.dispatch=s,l=uh(!1),h=yh.bind(null,Oe,!1,l.queue),l=dn(),f={state:a,dispatch:null,action:t,pending:null},l.queue=f,s=ZA.bind(null,Oe,f,h,s),f.dispatch=s,l.memoizedState=t,[a,s,!1]}function yy(t){var a=Tt();return vy(a,it,t)}function vy(t,a,s){if(a=lh(t,a,my)[0],t=Tu(li)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=Tl(a)}catch(b){throw b===Ks?pu:b}else l=a;a=Tt();var f=a.queue,h=f.dispatch;return s!==a.memoizedState&&(Oe.flags|=2048,Zs(9,{destroy:void 0},WA.bind(null,f,s),null)),[l,h,t]}function WA(t,a){t.action=a}function by(t){var a=Tt(),s=it;if(s!==null)return vy(a,s,t);Tt(),a=a.memoizedState,s=Tt();var l=s.queue.dispatch;return s.memoizedState=t,[a,l,!1]}function Zs(t,a,s,l){return t={tag:t,create:s,deps:l,inst:a,next:null},a=Oe.updateQueue,a===null&&(a=Eu(),Oe.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,a.lastEffect=t),t}function _y(){return Tt().memoizedState}function Su(t,a,s,l){var f=dn();Oe.flags|=t,f.memoizedState=Zs(1|a,{destroy:void 0},s,l===void 0?null:l)}function wu(t,a,s,l){var f=Tt();l=l===void 0?null:l;var h=f.memoizedState.inst;it!==null&&l!==null&&nh(l,it.memoizedState.deps)?f.memoizedState=Zs(a,h,s,l):(Oe.flags|=t,f.memoizedState=Zs(1|a,h,s,l))}function xy(t,a){Su(8390656,8,t,a)}function fh(t,a){wu(2048,8,t,a)}function e1(t){Oe.flags|=4;var a=Oe.updateQueue;if(a===null)a=Eu(),Oe.updateQueue=a,a.events=[t];else{var s=a.events;s===null?a.events=[t]:s.push(t)}}function Ey(t){var a=Tt().memoizedState;return e1({ref:a,nextImpl:t}),function(){if((Je&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Ay(t,a){return wu(4,2,t,a)}function Ty(t,a){return wu(4,4,t,a)}function Sy(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function wy(t,a,s){s=s!=null?s.concat([t]):null,wu(4,4,Sy.bind(null,a,t),s)}function hh(){}function Ny(t,a){var s=Tt();a=a===void 0?null:a;var l=s.memoizedState;return a!==null&&nh(a,l[1])?l[0]:(s.memoizedState=[t,a],t)}function Ry(t,a){var s=Tt();a=a===void 0?null:a;var l=s.memoizedState;if(a!==null&&nh(a,l[1]))return l[0];if(l=t(),ss){Vn(!0);try{t()}finally{Vn(!1)}}return s.memoizedState=[l,a],l}function ph(t,a,s){return s===void 0||(oi&1073741824)!==0&&(ze&261930)===0?t.memoizedState=a:(t.memoizedState=s,t=C0(),Oe.lanes|=t,er|=t,s)}function Cy(t,a,s,l){return Nn(s,a)?s:$s.current!==null?(t=ph(t,s,l),Nn(t,a)||(Dt=!0),t):(oi&42)===0||(oi&1073741824)!==0&&(ze&261930)===0?(Dt=!0,t.memoizedState=s):(t=C0(),Oe.lanes|=t,er|=t,a)}function Iy(t,a,s,l,f){var h=ce.p;ce.p=h!==0&&8>h?h:8;var b=J.T,A={};J.T=A,yh(t,!1,a,s);try{var D=f(),F=J.S;if(F!==null&&F(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ee=$A(D,l);Sl(t,a,ee,Dn(t))}else Sl(t,a,l,Dn(t))}catch(ie){Sl(t,a,{then:function(){},status:"rejected",reason:ie},Dn())}finally{ce.p=h,b!==null&&A.types!==null&&(b.types=A.types),J.T=b}}function t1(){}function mh(t,a,s,l){if(t.tag!==5)throw Error(r(476));var f=My(t).queue;Iy(t,f,a,Z,s===null?t1:function(){return Oy(t),s(l)})}function My(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:Z},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Oy(t){var a=My(t);a.next===null&&(a=t.alternate.memoizedState),Sl(t,a.next.queue,{},Dn())}function gh(){return Xt(Hl)}function Dy(){return Tt().memoizedState}function ky(){return Tt().memoizedState}function n1(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=Dn();t=Yi(s);var l=$i(a,t,s);l!==null&&(_n(l,a,s),_l(l,a,s)),a={cache:Gf()},t.payload=a;return}a=a.return}}function a1(t,a,s){var l=Dn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Nu(t)?Py(a,s):(s=kf(t,a,s,l),s!==null&&(_n(s,t,l),Vy(s,a,l)))}function jy(t,a,s){var l=Dn();Sl(t,a,s,l)}function Sl(t,a,s,l){var f={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Nu(t))Py(a,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=a.lastRenderedReducer,h!==null))try{var b=a.lastRenderedState,A=h(b,s);if(f.hasEagerState=!0,f.eagerState=A,Nn(A,b))return ou(t,a,f,0),ot===null&&su(),!1}catch{}if(s=kf(t,a,f,l),s!==null)return _n(s,t,l),Vy(s,a,l),!0}return!1}function yh(t,a,s,l){if(l={lane:2,revertLane:$h(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Nu(t)){if(a)throw Error(r(479))}else a=kf(t,s,l,2),a!==null&&_n(a,t,2)}function Nu(t){var a=t.alternate;return t===Oe||a!==null&&a===Oe}function Py(t,a){Xs=_u=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function Vy(t,a,s){if((s&4194048)!==0){var l=a.lanes;l&=t.pendingLanes,s|=l,a.lanes=s,Ko(t,s)}}var wl={readContext:Xt,use:Au,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};wl.useEffectEvent=vt;var Ly={readContext:Xt,use:Au,useCallback:function(t,a){return dn().memoizedState=[t,a===void 0?null:a],t},useContext:Xt,useEffect:xy,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,Su(4194308,4,Sy.bind(null,a,t),s)},useLayoutEffect:function(t,a){return Su(4194308,4,t,a)},useInsertionEffect:function(t,a){Su(4,2,t,a)},useMemo:function(t,a){var s=dn();a=a===void 0?null:a;var l=t();if(ss){Vn(!0);try{t()}finally{Vn(!1)}}return s.memoizedState=[l,a],l},useReducer:function(t,a,s){var l=dn();if(s!==void 0){var f=s(a);if(ss){Vn(!0);try{s(a)}finally{Vn(!1)}}}else f=a;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=a1.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var a=dn();return t={current:t},a.memoizedState=t},useState:function(t){t=uh(t);var a=t.queue,s=jy.bind(null,Oe,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:hh,useDeferredValue:function(t,a){var s=dn();return ph(s,t,a)},useTransition:function(){var t=uh(!1);return t=Iy.bind(null,Oe,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var l=Oe,f=dn();if(Ge){if(s===void 0)throw Error(r(407));s=s()}else{if(s=a(),ot===null)throw Error(r(349));(ze&127)!==0||ry(l,a,s)}f.memoizedState=s;var h={value:s,getSnapshot:a};return f.queue=h,xy(oy.bind(null,l,h,t),[t]),l.flags|=2048,Zs(9,{destroy:void 0},sy.bind(null,l,h,s,a),null),s},useId:function(){var t=dn(),a=ot.identifierPrefix;if(Ge){var s=za,l=La;s=(l&~(1<<32-xt(l)-1)).toString(32)+s,a="_"+a+"R_"+s,s=xu++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=XA++,a="_"+a+"r_"+s.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:gh,useFormState:gy,useActionState:gy,useOptimistic:function(t){var a=dn();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=yh.bind(null,Oe,!0,s),s.dispatch=a,[t,a]},useMemoCache:oh,useCacheRefresh:function(){return dn().memoizedState=n1.bind(null,Oe)},useEffectEvent:function(t){var a=dn(),s={impl:t};return a.memoizedState=s,function(){if((Je&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},vh={readContext:Xt,use:Au,useCallback:Ny,useContext:Xt,useEffect:fh,useImperativeHandle:wy,useInsertionEffect:Ay,useLayoutEffect:Ty,useMemo:Ry,useReducer:Tu,useRef:_y,useState:function(){return Tu(li)},useDebugValue:hh,useDeferredValue:function(t,a){var s=Tt();return Cy(s,it.memoizedState,t,a)},useTransition:function(){var t=Tu(li)[0],a=Tt().memoizedState;return[typeof t=="boolean"?t:Tl(t),a]},useSyncExternalStore:iy,useId:Dy,useHostTransitionStatus:gh,useFormState:yy,useActionState:yy,useOptimistic:function(t,a){var s=Tt();return uy(s,it,t,a)},useMemoCache:oh,useCacheRefresh:ky};vh.useEffectEvent=Ey;var zy={readContext:Xt,use:Au,useCallback:Ny,useContext:Xt,useEffect:fh,useImperativeHandle:wy,useInsertionEffect:Ay,useLayoutEffect:Ty,useMemo:Ry,useReducer:ch,useRef:_y,useState:function(){return ch(li)},useDebugValue:hh,useDeferredValue:function(t,a){var s=Tt();return it===null?ph(s,t,a):Cy(s,it.memoizedState,t,a)},useTransition:function(){var t=ch(li)[0],a=Tt().memoizedState;return[typeof t=="boolean"?t:Tl(t),a]},useSyncExternalStore:iy,useId:Dy,useHostTransitionStatus:gh,useFormState:by,useActionState:by,useOptimistic:function(t,a){var s=Tt();return it!==null?uy(s,it,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:oh,useCacheRefresh:ky};zy.useEffectEvent=Ey;function bh(t,a,s,l){a=t.memoizedState,s=s(l,a),s=s==null?a:E({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var _h={enqueueSetState:function(t,a,s){t=t._reactInternals;var l=Dn(),f=Yi(l);f.payload=a,s!=null&&(f.callback=s),a=$i(t,f,l),a!==null&&(_n(a,t,l),_l(a,t,l))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var l=Dn(),f=Yi(l);f.tag=1,f.payload=a,s!=null&&(f.callback=s),a=$i(t,f,l),a!==null&&(_n(a,t,l),_l(a,t,l))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=Dn(),l=Yi(s);l.tag=2,a!=null&&(l.callback=a),a=$i(t,l,s),a!==null&&(_n(a,t,s),_l(a,t,s))}};function Uy(t,a,s,l,f,h,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,b):a.prototype&&a.prototype.isPureReactComponent?!fl(s,l)||!fl(f,h):!0}function By(t,a,s,l){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,l),a.state!==t&&_h.enqueueReplaceState(a,a.state,null)}function os(t,a){var s=a;if("ref"in a){s={};for(var l in a)l!=="ref"&&(s[l]=a[l])}if(t=t.defaultProps){s===a&&(s=E({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}function Hy(t){ru(t)}function qy(t){console.error(t)}function Fy(t){ru(t)}function Ru(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function Gy(t,a,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function xh(t,a,s){return s=Yi(s),s.tag=3,s.payload={element:null},s.callback=function(){Ru(t,a)},s}function Qy(t){return t=Yi(t),t.tag=3,t}function Ky(t,a,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var h=l.value;t.payload=function(){return f(h)},t.callback=function(){Gy(a,s,l)}}var b=s.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Gy(a,s,l),typeof f!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function i1(t,a,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=s.alternate,a!==null&&Fs(a,s,f,!0),s=Cn.current,s!==null){switch(s.tag){case 31:case 13:return Kn===null?Uu():s.alternate===null&&bt===0&&(bt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===mu?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([l]):a.add(l),Qh(t,l,f)),!1;case 22:return s.flags|=65536,l===mu?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([l]):s.add(l)),Qh(t,l,f)),!1}throw Error(r(435,s.tag))}return Qh(t,l,f),Uu(),!1}if(Ge)return a=Cn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,l!==Uf&&(t=Error(r(422),{cause:l}),ml(qn(t,s)))):(l!==Uf&&(a=Error(r(423),{cause:l}),ml(qn(a,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=qn(l,s),f=xh(t.stateNode,l,f),Jf(t,f),bt!==4&&(bt=2)),!1;var h=Error(r(520),{cause:l});if(h=qn(h,s),kl===null?kl=[h]:kl.push(h),bt!==4&&(bt=2),a===null)return!0;l=qn(l,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=xh(s.stateNode,l,t),Jf(s,t),!1;case 1:if(a=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(tr===null||!tr.has(h))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Qy(f),Ky(f,t,s,l),Jf(s,f),!1}s=s.return}while(s!==null);return!1}var Eh=Error(r(461)),Dt=!1;function Jt(t,a,s,l){a.child=t===null?Jg(a,null,s,l):rs(a,t.child,s,l)}function Yy(t,a,s,l,f){s=s.render;var h=a.ref;if("ref"in l){var b={};for(var A in l)A!=="ref"&&(b[A]=l[A])}else b=l;return ts(a),l=ah(t,a,s,b,h,f),A=ih(),t!==null&&!Dt?(rh(t,a,f),ci(t,a,f)):(Ge&&A&&Lf(a),a.flags|=1,Jt(t,a,l,f),a.child)}function $y(t,a,s,l,f){if(t===null){var h=s.type;return typeof h=="function"&&!jf(h)&&h.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=h,Xy(t,a,h,l,f)):(t=cu(s.type,null,l,a,a.mode,f),t.ref=a.ref,t.return=a,a.child=t)}if(h=t.child,!Ih(t,f)){var b=h.memoizedProps;if(s=s.compare,s=s!==null?s:fl,s(b,l)&&t.ref===a.ref)return ci(t,a,f)}return a.flags|=1,t=ai(h,l),t.ref=a.ref,t.return=a,a.child=t}function Xy(t,a,s,l,f){if(t!==null){var h=t.memoizedProps;if(fl(h,l)&&t.ref===a.ref)if(Dt=!1,a.pendingProps=l=h,Ih(t,f))(t.flags&131072)!==0&&(Dt=!0);else return a.lanes=t.lanes,ci(t,a,f)}return Ah(t,a,s,l,f)}function Jy(t,a,s,l){var f=l.children,h=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((a.flags&128)!==0){if(h=h!==null?h.baseLanes|s:s,t!==null){for(l=a.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~h}else l=0,a.child=null;return Zy(t,a,h,s,l)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&hu(a,h!==null?h.cachePool:null),h!==null?ey(a,h):Wf(),ty(a);else return l=a.lanes=536870912,Zy(t,a,h!==null?h.baseLanes|s:s,s,l)}else h!==null?(hu(a,h.cachePool),ey(a,h),Ji(),a.memoizedState=null):(t!==null&&hu(a,null),Wf(),Ji());return Jt(t,a,f,s),a.child}function Nl(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Zy(t,a,s,l,f){var h=Kf();return h=h===null?null:{parent:Mt._currentValue,pool:h},a.memoizedState={baseLanes:s,cachePool:h},t!==null&&hu(a,null),Wf(),ty(a),t!==null&&Fs(t,a,l,!0),a.childLanes=f,null}function Cu(t,a){return a=Mu({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function Wy(t,a,s){return rs(a,t.child,null,s),t=Cu(a,a.pendingProps),t.flags|=2,In(a),a.memoizedState=null,t}function r1(t,a,s){var l=a.pendingProps,f=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(Ge){if(l.mode==="hidden")return t=Cu(a,l),a.lanes=536870912,Nl(null,t);if(th(a),(t=ut)?(t=dv(t,Qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:qi!==null?{id:La,overflow:za}:null,retryLane:536870912,hydrationErrors:null},s=Pg(t),s.return=a,a.child=s,$t=a,ut=null)):t=null,t===null)throw Gi(a);return a.lanes=536870912,null}return Cu(a,l)}var h=t.memoizedState;if(h!==null){var b=h.dehydrated;if(th(a),f)if(a.flags&256)a.flags&=-257,a=Wy(t,a,s);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(r(558));else if(Dt||Fs(t,a,s,!1),f=(s&t.childLanes)!==0,Dt||f){if(l=ot,l!==null&&(b=Yo(l,s),b!==0&&b!==h.retryLane))throw h.retryLane=b,Jr(t,b),_n(l,t,b),Eh;Uu(),a=Wy(t,a,s)}else t=h.treeContext,ut=Yn(b.nextSibling),$t=a,Ge=!0,Fi=null,Qn=!1,t!==null&&zg(a,t),a=Cu(a,l),a.flags|=4096;return a}return t=ai(t.child,{mode:l.mode,children:l.children}),t.ref=a.ref,a.child=t,t.return=a,t}function Iu(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function Ah(t,a,s,l,f){return ts(a),s=ah(t,a,s,l,void 0,f),l=ih(),t!==null&&!Dt?(rh(t,a,f),ci(t,a,f)):(Ge&&l&&Lf(a),a.flags|=1,Jt(t,a,s,f),a.child)}function e0(t,a,s,l,f,h){return ts(a),a.updateQueue=null,s=ay(a,l,s,f),ny(t),l=ih(),t!==null&&!Dt?(rh(t,a,h),ci(t,a,h)):(Ge&&l&&Lf(a),a.flags|=1,Jt(t,a,s,h),a.child)}function t0(t,a,s,l,f){if(ts(a),a.stateNode===null){var h=Us,b=s.contextType;typeof b=="object"&&b!==null&&(h=Xt(b)),h=new s(l,h),a.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=_h,a.stateNode=h,h._reactInternals=a,h=a.stateNode,h.props=l,h.state=a.memoizedState,h.refs={},$f(a),b=s.contextType,h.context=typeof b=="object"&&b!==null?Xt(b):Us,h.state=a.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(bh(a,s,b,l),h.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(b=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),b!==h.state&&_h.enqueueReplaceState(h,h.state,null),El(a,l,h,f),xl(),h.state=a.memoizedState),typeof h.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(t===null){h=a.stateNode;var A=a.memoizedProps,D=os(s,A);h.props=D;var F=h.context,ee=s.contextType;b=Us,typeof ee=="object"&&ee!==null&&(b=Xt(ee));var ie=s.getDerivedStateFromProps;ee=typeof ie=="function"||typeof h.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,ee||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(A||F!==b)&&By(a,h,l,b),Ki=!1;var Q=a.memoizedState;h.state=Q,El(a,l,h,f),xl(),F=a.memoizedState,A||Q!==F||Ki?(typeof ie=="function"&&(bh(a,s,ie,l),F=a.memoizedState),(D=Ki||Uy(a,s,D,l,Q,F,b))?(ee||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(a.flags|=4194308)):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=F),h.props=l,h.state=F,h.context=b,l=D):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{h=a.stateNode,Xf(t,a),b=a.memoizedProps,ee=os(s,b),h.props=ee,ie=a.pendingProps,Q=h.context,F=s.contextType,D=Us,typeof F=="object"&&F!==null&&(D=Xt(F)),A=s.getDerivedStateFromProps,(F=typeof A=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==ie||Q!==D)&&By(a,h,l,D),Ki=!1,Q=a.memoizedState,h.state=Q,El(a,l,h,f),xl();var X=a.memoizedState;b!==ie||Q!==X||Ki||t!==null&&t.dependencies!==null&&du(t.dependencies)?(typeof A=="function"&&(bh(a,s,A,l),X=a.memoizedState),(ee=Ki||Uy(a,s,ee,l,Q,X,D)||t!==null&&t.dependencies!==null&&du(t.dependencies))?(F||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,X,D),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,X,D)),typeof h.componentDidUpdate=="function"&&(a.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof h.componentDidUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=X),h.props=l,h.state=X,h.context=D,l=ee):(typeof h.componentDidUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(a.flags|=1024),l=!1)}return h=l,Iu(t,a),l=(a.flags&128)!==0,h||l?(h=a.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:h.render(),a.flags|=1,t!==null&&l?(a.child=rs(a,t.child,null,f),a.child=rs(a,null,s,f)):Jt(t,a,s,f),a.memoizedState=h.state,t=a.child):t=ci(t,a,f),t}function n0(t,a,s,l){return Wr(),a.flags|=256,Jt(t,a,s,l),a.child}var Th={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sh(t){return{baseLanes:t,cachePool:Gg()}}function wh(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=On),t}function a0(t,a,s){var l=a.pendingProps,f=!1,h=(a.flags&128)!==0,b;if((b=h)||(b=t!==null&&t.memoizedState===null?!1:(At.current&2)!==0),b&&(f=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,t===null){if(Ge){if(f?Xi(a):Ji(),(t=ut)?(t=dv(t,Qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:qi!==null?{id:La,overflow:za}:null,retryLane:536870912,hydrationErrors:null},s=Pg(t),s.return=a,a.child=s,$t=a,ut=null)):t=null,t===null)throw Gi(a);return lp(t)?a.lanes=32:a.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(Ji(),f=a.mode,A=Mu({mode:"hidden",children:A},f),l=Zr(l,f,s,null),A.return=a,l.return=a,A.sibling=l,a.child=A,l=a.child,l.memoizedState=Sh(s),l.childLanes=wh(t,b,s),a.memoizedState=Th,Nl(null,l)):(Xi(a),Nh(a,A))}var D=t.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(h)a.flags&256?(Xi(a),a.flags&=-257,a=Rh(t,a,s)):a.memoizedState!==null?(Ji(),a.child=t.child,a.flags|=128,a=null):(Ji(),A=l.fallback,f=a.mode,l=Mu({mode:"visible",children:l.children},f),A=Zr(A,f,s,null),A.flags|=2,l.return=a,A.return=a,l.sibling=A,a.child=l,rs(a,t.child,null,s),l=a.child,l.memoizedState=Sh(s),l.childLanes=wh(t,b,s),a.memoizedState=Th,a=Nl(null,l));else if(Xi(a),lp(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var F=b.dgst;b=F,l=Error(r(419)),l.stack="",l.digest=b,ml({value:l,source:null,stack:null}),a=Rh(t,a,s)}else if(Dt||Fs(t,a,s,!1),b=(s&t.childLanes)!==0,Dt||b){if(b=ot,b!==null&&(l=Yo(b,s),l!==0&&l!==D.retryLane))throw D.retryLane=l,Jr(t,l),_n(b,t,l),Eh;op(A)||Uu(),a=Rh(t,a,s)}else op(A)?(a.flags|=192,a.child=t.child,a=null):(t=D.treeContext,ut=Yn(A.nextSibling),$t=a,Ge=!0,Fi=null,Qn=!1,t!==null&&zg(a,t),a=Nh(a,l.children),a.flags|=4096);return a}return f?(Ji(),A=l.fallback,f=a.mode,D=t.child,F=D.sibling,l=ai(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,F!==null?A=ai(F,A):(A=Zr(A,f,s,null),A.flags|=2),A.return=a,l.return=a,l.sibling=A,a.child=l,Nl(null,l),l=a.child,A=t.child.memoizedState,A===null?A=Sh(s):(f=A.cachePool,f!==null?(D=Mt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Gg(),A={baseLanes:A.baseLanes|s,cachePool:f}),l.memoizedState=A,l.childLanes=wh(t,b,s),a.memoizedState=Th,Nl(t.child,l)):(Xi(a),s=t.child,t=s.sibling,s=ai(s,{mode:"visible",children:l.children}),s.return=a,s.sibling=null,t!==null&&(b=a.deletions,b===null?(a.deletions=[t],a.flags|=16):b.push(t)),a.child=s,a.memoizedState=null,s)}function Nh(t,a){return a=Mu({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Mu(t,a){return t=Rn(22,t,null,a),t.lanes=0,t}function Rh(t,a,s){return rs(a,t.child,null,s),t=Nh(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function i0(t,a,s){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a),qf(t.return,a,s)}function Ch(t,a,s,l,f,h){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f,treeForkCount:h}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=s,b.tailMode=f,b.treeForkCount=h)}function r0(t,a,s){var l=a.pendingProps,f=l.revealOrder,h=l.tail;l=l.children;var b=At.current,A=(b&2)!==0;if(A?(b=b&1|2,a.flags|=128):b&=1,V(At,b),Jt(t,a,l,s),l=Ge?pl:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i0(t,s,a);else if(t.tag===19)i0(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(s=a.child,f=null;s!==null;)t=s.alternate,t!==null&&bu(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=a.child,a.child=null):(f=s.sibling,s.sibling=null),Ch(a,!1,f,s,h,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=a.child,a.child=null;f!==null;){if(t=f.alternate,t!==null&&bu(t)===null){a.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Ch(a,!0,s,null,h,l);break;case"together":Ch(a,!1,null,null,void 0,l);break;default:a.memoizedState=null}return a.child}function ci(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),er|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(Fs(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(r(153));if(a.child!==null){for(t=a.child,s=ai(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=ai(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function Ih(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&du(t)))}function s1(t,a,s){switch(a.tag){case 3:je(a,a.stateNode.containerInfo),Qi(a,Mt,t.memoizedState.cache),Wr();break;case 27:case 5:fn(a);break;case 4:je(a,a.stateNode.containerInfo);break;case 10:Qi(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,th(a),null;break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(Xi(a),a.flags|=128,null):(s&a.child.childLanes)!==0?a0(t,a,s):(Xi(a),t=ci(t,a,s),t!==null?t.sibling:null);Xi(a);break;case 19:var f=(t.flags&128)!==0;if(l=(s&a.childLanes)!==0,l||(Fs(t,a,s,!1),l=(s&a.childLanes)!==0),f){if(l)return r0(t,a,s);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),V(At,At.current),l)break;return null;case 22:return a.lanes=0,Jy(t,a,s,a.pendingProps);case 24:Qi(a,Mt,t.memoizedState.cache)}return ci(t,a,s)}function s0(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)Dt=!0;else{if(!Ih(t,s)&&(a.flags&128)===0)return Dt=!1,s1(t,a,s);Dt=(t.flags&131072)!==0}else Dt=!1,Ge&&(a.flags&1048576)!==0&&Lg(a,pl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var l=a.pendingProps;if(t=as(a.elementType),a.type=t,typeof t=="function")jf(t)?(l=os(t,l),a.tag=1,a=t0(null,a,t,l,s)):(a.tag=0,a=Ah(null,a,t,l,s));else{if(t!=null){var f=t.$$typeof;if(f===pe){a.tag=11,a=Yy(null,a,t,l,s);break e}else if(f===I){a.tag=14,a=$y(null,a,t,l,s);break e}}throw a=De(t)||t,Error(r(306,a,""))}}return a;case 0:return Ah(t,a,a.type,a.pendingProps,s);case 1:return l=a.type,f=os(l,a.pendingProps),t0(t,a,l,f,s);case 3:e:{if(je(a,a.stateNode.containerInfo),t===null)throw Error(r(387));l=a.pendingProps;var h=a.memoizedState;f=h.element,Xf(t,a),El(a,l,null,s);var b=a.memoizedState;if(l=b.cache,Qi(a,Mt,l),l!==h.cache&&Ff(a,[Mt],s,!0),xl(),l=b.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=h,a.memoizedState=h,a.flags&256){a=n0(t,a,l,s);break e}else if(l!==f){f=qn(Error(r(424)),a),ml(f),a=n0(t,a,l,s);break e}else for(t=a.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ut=Yn(t.firstChild),$t=a,Ge=!0,Fi=null,Qn=!0,s=Jg(a,null,l,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Wr(),l===f){a=ci(t,a,s);break e}Jt(t,a,l,s)}a=a.child}return a;case 26:return Iu(t,a),t===null?(s=yv(a.type,null,a.pendingProps,null))?a.memoizedState=s:Ge||(s=a.type,t=a.pendingProps,l=Ku(de.current).createElement(s),l[Rt]=a,l[Ht]=t,Zt(l,s,t),Ct(l),a.stateNode=l):a.memoizedState=yv(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return fn(a),t===null&&Ge&&(l=a.stateNode=pv(a.type,a.pendingProps,de.current),$t=a,Qn=!0,f=ut,rr(a.type)?(cp=f,ut=Yn(l.firstChild)):ut=f),Jt(t,a,a.pendingProps.children,s),Iu(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Ge&&((f=l=ut)&&(l=P1(l,a.type,a.pendingProps,Qn),l!==null?(a.stateNode=l,$t=a,ut=Yn(l.firstChild),Qn=!1,f=!0):f=!1),f||Gi(a)),fn(a),f=a.type,h=a.pendingProps,b=t!==null?t.memoizedProps:null,l=h.children,ip(f,h)?l=null:b!==null&&ip(f,b)&&(a.flags|=32),a.memoizedState!==null&&(f=ah(t,a,JA,null,null,s),Hl._currentValue=f),Iu(t,a),Jt(t,a,l,s),a.child;case 6:return t===null&&Ge&&((t=s=ut)&&(s=V1(s,a.pendingProps,Qn),s!==null?(a.stateNode=s,$t=a,ut=null,t=!0):t=!1),t||Gi(a)),null;case 13:return a0(t,a,s);case 4:return je(a,a.stateNode.containerInfo),l=a.pendingProps,t===null?a.child=rs(a,null,l,s):Jt(t,a,l,s),a.child;case 11:return Yy(t,a,a.type,a.pendingProps,s);case 7:return Jt(t,a,a.pendingProps,s),a.child;case 8:return Jt(t,a,a.pendingProps.children,s),a.child;case 12:return Jt(t,a,a.pendingProps.children,s),a.child;case 10:return l=a.pendingProps,Qi(a,a.type,l.value),Jt(t,a,l.children,s),a.child;case 9:return f=a.type._context,l=a.pendingProps.children,ts(a),f=Xt(f),l=l(f),a.flags|=1,Jt(t,a,l,s),a.child;case 14:return $y(t,a,a.type,a.pendingProps,s);case 15:return Xy(t,a,a.type,a.pendingProps,s);case 19:return r0(t,a,s);case 31:return r1(t,a,s);case 22:return Jy(t,a,s,a.pendingProps);case 24:return ts(a),l=Xt(Mt),t===null?(f=Kf(),f===null&&(f=ot,h=Gf(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=s),f=h),a.memoizedState={parent:l,cache:f},$f(a),Qi(a,Mt,f)):((t.lanes&s)!==0&&(Xf(t,a),El(a,null,null,s),xl()),f=t.memoizedState,h=a.memoizedState,f.parent!==l?(f={parent:l,cache:l},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Qi(a,Mt,l)):(l=h.cache,Qi(a,Mt,l),l!==f.cache&&Ff(a,[Mt],s,!0))),Jt(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ui(t){t.flags|=4}function Mh(t,a,s,l,f){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(D0())t.flags|=8192;else throw is=mu,Yf}else t.flags&=-16777217}function o0(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ev(a))if(D0())t.flags|=8192;else throw is=mu,Yf}function Ou(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Lc():536870912,t.lanes|=a,no|=a)}function Rl(t,a){if(!Ge)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function dt(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(a)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,a}function o1(t,a,s){var l=a.pendingProps;switch(zf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(a),null;case 1:return dt(a),null;case 3:return s=a.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),si(Mt),Fe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(qs(a)?ui(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Bf())),dt(a),null;case 26:var f=a.type,h=a.memoizedState;return t===null?(ui(a),h!==null?(dt(a),o0(a,h)):(dt(a),Mh(a,f,null,l,s))):h?h!==t.memoizedState?(ui(a),dt(a),o0(a,h)):(dt(a),a.flags&=-16777217):(t=t.memoizedProps,t!==l&&ui(a),dt(a),Mh(a,f,t,l,s)),null;case 27:if(ta(a),s=de.current,f=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==l&&ui(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return dt(a),null}t=te.current,qs(a)?Ug(a):(t=pv(f,l,s),a.stateNode=t,ui(a))}return dt(a),null;case 5:if(ta(a),f=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==l&&ui(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return dt(a),null}if(h=te.current,qs(a))Ug(a);else{var b=Ku(de.current);switch(h){case 1:h=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=b.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?b.createElement(f,{is:l.is}):b.createElement(f)}}h[Rt]=a,h[Ht]=l;e:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)h.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break e;for(;b.sibling===null;){if(b.return===null||b.return===a)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=h;e:switch(Zt(h,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ui(a)}}return dt(a),Mh(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,s),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==l&&ui(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(r(166));if(t=de.current,qs(a)){if(t=a.stateNode,s=a.memoizedProps,l=null,f=$t,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Rt]=a,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||av(t.nodeValue,s)),t||Gi(a,!0)}else t=Ku(t).createTextNode(l),t[Rt]=a,a.stateNode=t}return dt(a),null;case 31:if(s=a.memoizedState,t===null||t.memoizedState!==null){if(l=qs(a),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Rt]=a}else Wr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;dt(a),t=!1}else s=Bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return a.flags&256?(In(a),a):(In(a),null);if((a.flags&128)!==0)throw Error(r(558))}return dt(a),null;case 13:if(l=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=qs(a),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Rt]=a}else Wr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;dt(a),f=!1}else f=Bf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(In(a),a):(In(a),null)}return In(a),(a.flags&128)!==0?(a.lanes=s,a):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=a.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==f&&(l.flags|=2048)),s!==t&&s&&(a.child.flags|=8192),Ou(a,a.updateQueue),dt(a),null);case 4:return Fe(),t===null&&Wh(a.stateNode.containerInfo),dt(a),null;case 10:return si(a.type),dt(a),null;case 19:if(W(At),l=a.memoizedState,l===null)return dt(a),null;if(f=(a.flags&128)!==0,h=l.rendering,h===null)if(f)Rl(l,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(h=bu(t),h!==null){for(a.flags|=128,Rl(l,!1),t=h.updateQueue,a.updateQueue=t,Ou(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)jg(s,t),s=s.sibling;return V(At,At.current&1|2),Ge&&ii(a,l.treeForkCount),a.child}t=t.sibling}l.tail!==null&&cn()>Vu&&(a.flags|=128,f=!0,Rl(l,!1),a.lanes=4194304)}else{if(!f)if(t=bu(h),t!==null){if(a.flags|=128,f=!0,t=t.updateQueue,a.updateQueue=t,Ou(a,t),Rl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Ge)return dt(a),null}else 2*cn()-l.renderingStartTime>Vu&&s!==536870912&&(a.flags|=128,f=!0,Rl(l,!1),a.lanes=4194304);l.isBackwards?(h.sibling=a.child,a.child=h):(t=l.last,t!==null?t.sibling=h:a.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=cn(),t.sibling=null,s=At.current,V(At,f?s&1|2:s&1),Ge&&ii(a,l.treeForkCount),t):(dt(a),null);case 22:case 23:return In(a),eh(),l=a.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(s&536870912)!==0&&(a.flags&128)===0&&(dt(a),a.subtreeFlags&6&&(a.flags|=8192)):dt(a),s=a.updateQueue,s!==null&&Ou(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==s&&(a.flags|=2048),t!==null&&W(ns),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),si(Mt),dt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function l1(t,a){switch(zf(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return si(Mt),Fe(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return ta(a),null;case 31:if(a.memoizedState!==null){if(In(a),a.alternate===null)throw Error(r(340));Wr()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(In(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Wr()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return W(At),null;case 4:return Fe(),null;case 10:return si(a.type),null;case 22:case 23:return In(a),eh(),t!==null&&W(ns),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return si(Mt),null;case 25:return null;default:return null}}function l0(t,a){switch(zf(a),a.tag){case 3:si(Mt),Fe();break;case 26:case 27:case 5:ta(a);break;case 4:Fe();break;case 31:a.memoizedState!==null&&In(a);break;case 13:In(a);break;case 19:W(At);break;case 10:si(a.type);break;case 22:case 23:In(a),eh(),t!==null&&W(ns);break;case 24:si(Mt)}}function Cl(t,a){try{var s=a.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var h=s.create,b=s.inst;l=h(),b.destroy=l}s=s.next}while(s!==f)}}catch(A){nt(a,a.return,A)}}function Zi(t,a,s){try{var l=a.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var h=f.next;l=h;do{if((l.tag&t)===t){var b=l.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,f=a;var D=s,F=A;try{F()}catch(ee){nt(f,D,ee)}}}l=l.next}while(l!==h)}}catch(ee){nt(a,a.return,ee)}}function c0(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{Wg(a,s)}catch(l){nt(t,t.return,l)}}}function u0(t,a,s){s.props=os(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){nt(t,a,l)}}function Il(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(f){nt(t,a,f)}}function Ua(t,a){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){nt(t,a,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){nt(t,a,f)}else s.current=null}function d0(t){var a=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){nt(t,t.return,f)}}function Oh(t,a,s){try{var l=t.stateNode;I1(l,t.type,s,a),l[Ht]=a}catch(f){nt(t,t.return,f)}}function f0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rr(t.type)||t.tag===4}function Dh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kh(t,a,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=oa));else if(l!==4&&(l===27&&rr(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(kh(t,a,s),t=t.sibling;t!==null;)kh(t,a,s),t=t.sibling}function Du(t,a,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(l!==4&&(l===27&&rr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Du(t,a,s),t=t.sibling;t!==null;)Du(t,a,s),t=t.sibling}function h0(t){var a=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);Zt(a,l,s),a[Rt]=t,a[Ht]=s}catch(h){nt(t,t.return,h)}}var di=!1,kt=!1,jh=!1,p0=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function c1(t,a){if(t=t.containerInfo,np=ed,t=wg(t),Rf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var b=0,A=-1,D=-1,F=0,ee=0,ie=t,Q=null;t:for(;;){for(var X;ie!==s||f!==0&&ie.nodeType!==3||(A=b+f),ie!==h||l!==0&&ie.nodeType!==3||(D=b+l),ie.nodeType===3&&(b+=ie.nodeValue.length),(X=ie.firstChild)!==null;)Q=ie,ie=X;for(;;){if(ie===t)break t;if(Q===s&&++F===f&&(A=b),Q===h&&++ee===l&&(D=b),(X=ie.nextSibling)!==null)break;ie=Q,Q=ie.parentNode}ie=X}s=A===-1||D===-1?null:{start:A,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(ap={focusedElem:t,selectionRange:s},ed=!1,Ft=a;Ft!==null;)if(a=Ft,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Ft=t;else for(;Ft!==null;){switch(a=Ft,h=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)f=t[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,s=a,f=h.memoizedProps,h=h.memoizedState,l=s.stateNode;try{var ge=os(s.type,f);t=l.getSnapshotBeforeUpdate(ge,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){nt(s,s.return,Te)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)sp(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=a.sibling,t!==null){t.return=a.return,Ft=t;break}Ft=a.return}}function m0(t,a,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:hi(t,s),l&4&&Cl(5,s);break;case 1:if(hi(t,s),l&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(b){nt(s,s.return,b)}else{var f=os(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(f,a,t.__reactInternalSnapshotBeforeUpdate)}catch(b){nt(s,s.return,b)}}l&64&&c0(s),l&512&&Il(s,s.return);break;case 3:if(hi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Wg(t,a)}catch(b){nt(s,s.return,b)}}break;case 27:a===null&&l&4&&h0(s);case 26:case 5:hi(t,s),a===null&&l&4&&d0(s),l&512&&Il(s,s.return);break;case 12:hi(t,s);break;case 31:hi(t,s),l&4&&v0(t,s);break;case 13:hi(t,s),l&4&&b0(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=v1.bind(null,s),L1(t,s))));break;case 22:if(l=s.memoizedState!==null||di,!l){a=a!==null&&a.memoizedState!==null||kt,f=di;var h=kt;di=l,(kt=a)&&!h?pi(t,s,(s.subtreeFlags&8772)!==0):hi(t,s),di=f,kt=h}break;case 30:break;default:hi(t,s)}}function g0(t){var a=t.alternate;a!==null&&(t.alternate=null,g0(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&ws(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,gn=!1;function fi(t,a,s){for(s=s.child;s!==null;)y0(t,a,s),s=s.sibling}function y0(t,a,s){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(aa,s)}catch{}switch(s.tag){case 26:kt||Ua(s,a),fi(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:kt||Ua(s,a);var l=pt,f=gn;rr(s.type)&&(pt=s.stateNode,gn=!1),fi(t,a,s),zl(s.stateNode),pt=l,gn=f;break;case 5:kt||Ua(s,a);case 6:if(l=pt,f=gn,pt=null,fi(t,a,s),pt=l,gn=f,pt!==null)if(gn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(s.stateNode)}catch(h){nt(s,a,h)}else try{pt.removeChild(s.stateNode)}catch(h){nt(s,a,h)}break;case 18:pt!==null&&(gn?(t=pt,cv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),uo(t)):cv(pt,s.stateNode));break;case 4:l=pt,f=gn,pt=s.stateNode.containerInfo,gn=!0,fi(t,a,s),pt=l,gn=f;break;case 0:case 11:case 14:case 15:Zi(2,s,a),kt||Zi(4,s,a),fi(t,a,s);break;case 1:kt||(Ua(s,a),l=s.stateNode,typeof l.componentWillUnmount=="function"&&u0(s,a,l)),fi(t,a,s);break;case 21:fi(t,a,s);break;case 22:kt=(l=kt)||s.memoizedState!==null,fi(t,a,s),kt=l;break;default:fi(t,a,s)}}function v0(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{uo(t)}catch(s){nt(a,a.return,s)}}}function b0(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{uo(t)}catch(s){nt(a,a.return,s)}}function u1(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new p0),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new p0),a;default:throw Error(r(435,t.tag))}}function ku(t,a){var s=u1(t);a.forEach(function(l){if(!s.has(l)){s.add(l);var f=b1.bind(null,t,l);l.then(f,f)}})}function yn(t,a){var s=a.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],h=t,b=a,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(rr(A.type)){pt=A.stateNode,gn=!1;break e}break;case 5:pt=A.stateNode,gn=!1;break e;case 3:case 4:pt=A.stateNode.containerInfo,gn=!0;break e}A=A.return}if(pt===null)throw Error(r(160));y0(h,b,f),pt=null,gn=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)_0(a,t),a=a.sibling}var ha=null;function _0(t,a){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(a,t),vn(t),l&4&&(Zi(3,t,t.return),Cl(3,t),Zi(5,t,t.return));break;case 1:yn(a,t),vn(t),l&512&&(kt||s===null||Ua(s,s.return)),l&64&&di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=ha;if(yn(a,t),vn(t),l&512&&(kt||s===null||Ua(s,s.return)),l&4){var h=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":h=f.getElementsByTagName("title")[0],(!h||h[wa]||h[Rt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(l),f.head.insertBefore(h,f.querySelector("head > title"))),Zt(h,l,s),h[Rt]=t,Ct(h),l=h;break e;case"link":var b=_v("link","href",f).get(l+(s.href||""));if(b){for(var A=0;A<b.length;A++)if(h=b[A],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){b.splice(A,1);break t}}h=f.createElement(l),Zt(h,l,s),f.head.appendChild(h);break;case"meta":if(b=_v("meta","content",f).get(l+(s.content||""))){for(A=0;A<b.length;A++)if(h=b[A],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){b.splice(A,1);break t}}h=f.createElement(l),Zt(h,l,s),f.head.appendChild(h);break;default:throw Error(r(468,l))}h[Rt]=t,Ct(h),l=h}t.stateNode=l}else xv(f,t.type,t.stateNode);else t.stateNode=bv(f,l,t.memoizedProps);else h!==l?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,l===null?xv(f,t.type,t.stateNode):bv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Oh(t,t.memoizedProps,s.memoizedProps)}break;case 27:yn(a,t),vn(t),l&512&&(kt||s===null||Ua(s,s.return)),s!==null&&l&4&&Oh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(yn(a,t),vn(t),l&512&&(kt||s===null||Ua(s,s.return)),t.flags&32){f=t.stateNode;try{mn(f,"")}catch(ge){nt(t,t.return,ge)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Oh(t,f,s!==null?s.memoizedProps:f)),l&1024&&(jh=!0);break;case 6:if(yn(a,t),vn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ge){nt(t,t.return,ge)}}break;case 3:if(Xu=null,f=ha,ha=Yu(a.containerInfo),yn(a,t),ha=f,vn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{uo(a.containerInfo)}catch(ge){nt(t,t.return,ge)}jh&&(jh=!1,x0(t));break;case 4:l=ha,ha=Yu(t.stateNode.containerInfo),yn(a,t),vn(t),ha=l;break;case 12:yn(a,t),vn(t);break;case 31:yn(a,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ku(t,l)));break;case 13:yn(a,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Pu=cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ku(t,l)));break;case 22:f=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,F=di,ee=kt;if(di=F||f,kt=ee||D,yn(a,t),kt=ee,di=F,vn(t),l&8192)e:for(a=t.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(s===null||D||di||kt||ls(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){D=s=a;try{if(h=D.stateNode,f)b=h.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=D.stateNode;var ie=D.memoizedProps.style,Q=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ge){nt(D,D.return,ge)}}}else if(a.tag===6){if(s===null){D=a;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(ge){nt(D,D.return,ge)}}}else if(a.tag===18){if(s===null){D=a;try{var X=D.stateNode;f?uv(X,!0):uv(D.stateNode,!1)}catch(ge){nt(D,D.return,ge)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,ku(t,s))));break;case 19:yn(a,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ku(t,l)));break;case 30:break;case 21:break;default:yn(a,t),vn(t)}}function vn(t){var a=t.flags;if(a&2){try{for(var s,l=t.return;l!==null;){if(f0(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var f=s.stateNode,h=Dh(t);Du(t,h,f);break;case 5:var b=s.stateNode;s.flags&32&&(mn(b,""),s.flags&=-33);var A=Dh(t);Du(t,A,b);break;case 3:case 4:var D=s.stateNode.containerInfo,F=Dh(t);kh(t,F,D);break;default:throw Error(r(161))}}catch(ee){nt(t,t.return,ee)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function x0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;x0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function hi(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)m0(t,a.alternate,a),a=a.sibling}function ls(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Zi(4,a,a.return),ls(a);break;case 1:Ua(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&u0(a,a.return,s),ls(a);break;case 27:zl(a.stateNode);case 26:case 5:Ua(a,a.return),ls(a);break;case 22:a.memoizedState===null&&ls(a);break;case 30:ls(a);break;default:ls(a)}t=t.sibling}}function pi(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,f=t,h=a,b=h.flags;switch(h.tag){case 0:case 11:case 15:pi(f,h,s),Cl(4,h);break;case 1:if(pi(f,h,s),l=h,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){nt(l,l.return,F)}if(l=h,f=l.updateQueue,f!==null){var A=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Zg(D[f],A)}catch(F){nt(l,l.return,F)}}s&&b&64&&c0(h),Il(h,h.return);break;case 27:h0(h);case 26:case 5:pi(f,h,s),s&&l===null&&b&4&&d0(h),Il(h,h.return);break;case 12:pi(f,h,s);break;case 31:pi(f,h,s),s&&b&4&&v0(f,h);break;case 13:pi(f,h,s),s&&b&4&&b0(f,h);break;case 22:h.memoizedState===null&&pi(f,h,s),Il(h,h.return);break;case 30:break;default:pi(f,h,s)}a=a.sibling}}function Ph(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&gl(s))}function Vh(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&gl(t))}function pa(t,a,s,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)E0(t,a,s,l),a=a.sibling}function E0(t,a,s,l){var f=a.flags;switch(a.tag){case 0:case 11:case 15:pa(t,a,s,l),f&2048&&Cl(9,a);break;case 1:pa(t,a,s,l);break;case 3:pa(t,a,s,l),f&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&gl(t)));break;case 12:if(f&2048){pa(t,a,s,l),t=a.stateNode;try{var h=a.memoizedProps,b=h.id,A=h.onPostCommit;typeof A=="function"&&A(b,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){nt(a,a.return,D)}}else pa(t,a,s,l);break;case 31:pa(t,a,s,l);break;case 13:pa(t,a,s,l);break;case 23:break;case 22:h=a.stateNode,b=a.alternate,a.memoizedState!==null?h._visibility&2?pa(t,a,s,l):Ml(t,a):h._visibility&2?pa(t,a,s,l):(h._visibility|=2,Ws(t,a,s,l,(a.subtreeFlags&10256)!==0||!1)),f&2048&&Ph(b,a);break;case 24:pa(t,a,s,l),f&2048&&Vh(a.alternate,a);break;default:pa(t,a,s,l)}}function Ws(t,a,s,l,f){for(f=f&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var h=t,b=a,A=s,D=l,F=b.flags;switch(b.tag){case 0:case 11:case 15:Ws(h,b,A,D,f),Cl(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?Ws(h,b,A,D,f):Ml(h,b):(ee._visibility|=2,Ws(h,b,A,D,f)),f&&F&2048&&Ph(b.alternate,b);break;case 24:Ws(h,b,A,D,f),f&&F&2048&&Vh(b.alternate,b);break;default:Ws(h,b,A,D,f)}a=a.sibling}}function Ml(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,l=a,f=l.flags;switch(l.tag){case 22:Ml(s,l),f&2048&&Ph(l.alternate,l);break;case 24:Ml(s,l),f&2048&&Vh(l.alternate,l);break;default:Ml(s,l)}a=a.sibling}}var Ol=8192;function eo(t,a,s){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)A0(t,a,s),t=t.sibling}function A0(t,a,s){switch(t.tag){case 26:eo(t,a,s),t.flags&Ol&&t.memoizedState!==null&&X1(s,ha,t.memoizedState,t.memoizedProps);break;case 5:eo(t,a,s);break;case 3:case 4:var l=ha;ha=Yu(t.stateNode.containerInfo),eo(t,a,s),ha=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ol,Ol=16777216,eo(t,a,s),Ol=l):eo(t,a,s));break;default:eo(t,a,s)}}function T0(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Dl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];Ft=l,w0(l,t)}T0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)S0(t),t=t.sibling}function S0(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&Zi(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,ju(t)):Dl(t);break;default:Dl(t)}}function ju(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];Ft=l,w0(l,t)}T0(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Zi(8,a,a.return),ju(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,ju(a));break;default:ju(a)}t=t.sibling}}function w0(t,a){for(;Ft!==null;){var s=Ft;switch(s.tag){case 0:case 11:case 15:Zi(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ft=l;else e:for(s=t;Ft!==null;){l=Ft;var f=l.sibling,h=l.return;if(g0(l),l===s){Ft=null;break e}if(f!==null){f.return=h,Ft=f;break e}Ft=h}}}var d1={getCacheForType:function(t){var a=Xt(Mt),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s},cacheSignal:function(){return Xt(Mt).controller.signal}},f1=typeof WeakMap=="function"?WeakMap:Map,Je=0,ot=null,Ve=null,ze=0,tt=0,Mn=null,Wi=!1,to=!1,Lh=!1,mi=0,bt=0,er=0,cs=0,zh=0,On=0,no=0,kl=null,bn=null,Uh=!1,Pu=0,N0=0,Vu=1/0,Lu=null,tr=null,Lt=0,nr=null,ao=null,gi=0,Bh=0,Hh=null,R0=null,jl=0,qh=null;function Dn(){return(Je&2)!==0&&ze!==0?ze&-ze:J.T!==null?$h():zc()}function C0(){if(On===0)if((ze&536870912)===0||Ge){var t=Pr;Pr<<=1,(Pr&3932160)===0&&(Pr=262144),On=t}else On=536870912;return t=Cn.current,t!==null&&(t.flags|=32),On}function _n(t,a,s){(t===ot&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(io(t,0),ar(t,ze,On,!1)),Vr(t,s),((Je&2)===0||t!==ot)&&(t===ot&&((Je&2)===0&&(cs|=s),bt===4&&ar(t,ze,On,!1)),Ba(t))}function I0(t,a,s){if((Je&6)!==0)throw Error(r(327));var l=!s&&(a&127)===0&&(a&t.expiredLanes)===0||ia(t,a),f=l?m1(t,a):Gh(t,a,!0),h=l;do{if(f===0){to&&!l&&ar(t,a,0,!1);break}else{if(s=t.current.alternate,h&&!h1(s)){f=Gh(t,a,!1),h=!1;continue}if(f===2){if(h=a,t.errorRecoveryDisabledLanes&h)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var A=t;f=kl;var D=A.current.memoizedState.isDehydrated;if(D&&(io(A,b).flags|=256),b=Gh(A,b,!1),b!==2){if(Lh&&!D){A.errorRecoveryDisabledLanes|=h,cs|=h,f=4;break e}h=bn,bn=f,h!==null&&(bn===null?bn=h:bn.push.apply(bn,h))}f=b}if(h=!1,f!==2)continue}}if(f===1){io(t,0),ar(t,a,0,!0);break}e:{switch(l=t,h=f,h){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:ar(l,a,On,!Wi);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(f=Pu+300-cn(),10<f)){if(ar(l,a,On,!Wi),Aa(l,0,!0)!==0)break e;gi=a,l.timeoutHandle=ov(M0.bind(null,l,s,bn,Lu,Uh,a,On,cs,no,Wi,h,"Throttled",-0,0),f);break e}M0(l,s,bn,Lu,Uh,a,On,cs,no,Wi,h,null,-0,0)}}break}while(!0);Ba(t)}function M0(t,a,s,l,f,h,b,A,D,F,ee,ie,Q,X){if(t.timeoutHandle=-1,ie=a.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oa},A0(a,h,ie);var ge=(h&62914560)===h?Pu-cn():(h&4194048)===h?N0-cn():0;if(ge=J1(ie,ge),ge!==null){gi=h,t.cancelPendingCommit=ge(z0.bind(null,t,a,h,s,l,f,b,A,D,ee,ie,null,Q,X)),ar(t,h,b,!F);return}}z0(t,a,h,s,l,f,b,A,D)}function h1(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],h=f.getSnapshot;f=f.value;try{if(!Nn(h(),f))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ar(t,a,s,l){a&=~zh,a&=~cs,t.suspendedLanes|=a,t.pingedLanes&=~a,l&&(t.warmLanes|=a),l=t.expirationTimes;for(var f=a;0<f;){var h=31-xt(f),b=1<<h;l[h]=-1,f&=~b}s!==0&&Lr(t,s,a)}function zu(){return(Je&6)===0?(Pl(0),!1):!0}function Fh(){if(Ve!==null){if(tt===0)var t=Ve.return;else t=Ve,ri=es=null,sh(t),Ys=null,vl=0,t=Ve;for(;t!==null;)l0(t.alternate,t),t=t.return;Ve=null}}function io(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,D1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),gi=0,Fh(),ot=t,Ve=s=ai(t.current,null),ze=a,tt=0,Mn=null,Wi=!1,to=ia(t,a),Lh=!1,no=On=zh=cs=er=bt=0,bn=kl=null,Uh=!1,(a&8)!==0&&(a|=a&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=a;0<l;){var f=31-xt(l),h=1<<f;a|=t[f],l&=~h}return mi=a,su(),s}function O0(t,a){Oe=null,J.H=wl,a===Ks||a===pu?(a=Yg(),tt=3):a===Yf?(a=Yg(),tt=4):tt=a===Eh?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Mn=a,Ve===null&&(bt=1,Ru(t,qn(a,t.current)))}function D0(){var t=Cn.current;return t===null?!0:(ze&4194048)===ze?Kn===null:(ze&62914560)===ze||(ze&536870912)!==0?t===Kn:!1}function k0(){var t=J.H;return J.H=wl,t===null?wl:t}function j0(){var t=J.A;return J.A=d1,t}function Uu(){bt=4,Wi||(ze&4194048)!==ze&&Cn.current!==null||(to=!0),(er&134217727)===0&&(cs&134217727)===0||ot===null||ar(ot,ze,On,!1)}function Gh(t,a,s){var l=Je;Je|=2;var f=k0(),h=j0();(ot!==t||ze!==a)&&(Lu=null,io(t,a)),a=!1;var b=bt;e:do try{if(tt!==0&&Ve!==null){var A=Ve,D=Mn;switch(tt){case 8:Fh(),b=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(a=!0);var F=tt;if(tt=0,Mn=null,ro(t,A,D,F),s&&to){b=0;break e}break;default:F=tt,tt=0,Mn=null,ro(t,A,D,F)}}p1(),b=bt;break}catch(ee){O0(t,ee)}while(!0);return a&&t.shellSuspendCounter++,ri=es=null,Je=l,J.H=f,J.A=h,Ve===null&&(ot=null,ze=0,su()),b}function p1(){for(;Ve!==null;)P0(Ve)}function m1(t,a){var s=Je;Je|=2;var l=k0(),f=j0();ot!==t||ze!==a?(Lu=null,Vu=cn()+500,io(t,a)):to=ia(t,a);e:do try{if(tt!==0&&Ve!==null){a=Ve;var h=Mn;t:switch(tt){case 1:tt=0,Mn=null,ro(t,a,h,1);break;case 2:case 9:if(Qg(h)){tt=0,Mn=null,V0(a);break}a=function(){tt!==2&&tt!==9||ot!==t||(tt=7),Ba(t)},h.then(a,a);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Qg(h)?(tt=0,Mn=null,V0(a)):(tt=0,Mn=null,ro(t,a,h,7));break;case 5:var b=null;switch(Ve.tag){case 26:b=Ve.memoizedState;case 5:case 27:var A=Ve;if(b?Ev(b):A.stateNode.complete){tt=0,Mn=null;var D=A.sibling;if(D!==null)Ve=D;else{var F=A.return;F!==null?(Ve=F,Bu(F)):Ve=null}break t}}tt=0,Mn=null,ro(t,a,h,5);break;case 6:tt=0,Mn=null,ro(t,a,h,6);break;case 8:Fh(),bt=6;break e;default:throw Error(r(462))}}g1();break}catch(ee){O0(t,ee)}while(!0);return ri=es=null,J.H=l,J.A=f,Je=s,Ve!==null?0:(ot=null,ze=0,su(),bt)}function g1(){for(;Ve!==null&&!hn();)P0(Ve)}function P0(t){var a=s0(t.alternate,t,mi);t.memoizedProps=t.pendingProps,a===null?Bu(t):Ve=a}function V0(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=e0(s,a,a.pendingProps,a.type,void 0,ze);break;case 11:a=e0(s,a,a.pendingProps,a.type.render,a.ref,ze);break;case 5:sh(a);default:l0(s,a),a=Ve=jg(a,mi),a=s0(s,a,mi)}t.memoizedProps=t.pendingProps,a===null?Bu(t):Ve=a}function ro(t,a,s,l){ri=es=null,sh(a),Ys=null,vl=0;var f=a.return;try{if(i1(t,f,a,s,ze)){bt=1,Ru(t,qn(s,t.current)),Ve=null;return}}catch(h){if(f!==null)throw Ve=f,h;bt=1,Ru(t,qn(s,t.current)),Ve=null;return}a.flags&32768?(Ge||l===1?t=!0:to||(ze&536870912)!==0?t=!1:(Wi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),L0(a,t)):Bu(a)}function Bu(t){var a=t;do{if((a.flags&32768)!==0){L0(a,Wi);return}t=a.return;var s=o1(a.alternate,a,mi);if(s!==null){Ve=s;return}if(a=a.sibling,a!==null){Ve=a;return}Ve=a=t}while(a!==null);bt===0&&(bt=5)}function L0(t,a){do{var s=l1(t.alternate,t);if(s!==null){s.flags&=32767,Ve=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=s}while(t!==null);bt=6,Ve=null}function z0(t,a,s,l,f,h,b,A,D){t.cancelPendingCommit=null;do Hu();while(Lt!==0);if((Je&6)!==0)throw Error(r(327));if(a!==null){if(a===t.current)throw Error(r(177));if(h=a.lanes|a.childLanes,h|=Df,Tf(t,s,h,b,A,D),t===ot&&(Ve=ot=null,ze=0),ao=a,nr=t,gi=s,Bh=h,Hh=f,R0=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_1(Di,function(){return F0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,f=ce.p,ce.p=2,b=Je,Je|=4;try{c1(t,a,s)}finally{Je=b,ce.p=f,J.T=l}}Lt=1,U0(),B0(),H0()}}function U0(){if(Lt===1){Lt=0;var t=nr,a=ao,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=J.T,J.T=null;var l=ce.p;ce.p=2;var f=Je;Je|=4;try{_0(a,t);var h=ap,b=wg(t.containerInfo),A=h.focusedElem,D=h.selectionRange;if(b!==A&&A&&A.ownerDocument&&Sg(A.ownerDocument.documentElement,A)){if(D!==null&&Rf(A)){var F=D.start,ee=D.end;if(ee===void 0&&(ee=F),"selectionStart"in A)A.selectionStart=F,A.selectionEnd=Math.min(ee,A.value.length);else{var ie=A.ownerDocument||document,Q=ie&&ie.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),ge=A.textContent.length,Te=Math.min(D.start,ge),st=D.end===void 0?Te:Math.min(D.end,ge);!X.extend&&Te>st&&(b=st,st=Te,Te=b);var z=Tg(A,Te),P=Tg(A,st);if(z&&P&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var q=ie.createRange();q.setStart(z.node,z.offset),X.removeAllRanges(),Te>st?(X.addRange(q),X.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),X.addRange(q))}}}}for(ie=[],X=A;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ie.length;A++){var ne=ie[A];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}ed=!!np,ap=np=null}finally{Je=f,ce.p=l,J.T=s}}t.current=a,Lt=2}}function B0(){if(Lt===2){Lt=0;var t=nr,a=ao,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=J.T,J.T=null;var l=ce.p;ce.p=2;var f=Je;Je|=4;try{m0(t,a.alternate,a)}finally{Je=f,ce.p=l,J.T=s}}Lt=3}}function H0(){if(Lt===4||Lt===3){Lt=0,kr();var t=nr,a=ao,s=gi,l=R0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Lt=5:(Lt=0,ao=nr=null,q0(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(tr=null),Wa(s),a=a.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(aa,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=J.T,f=ce.p,ce.p=2,J.T=null;try{for(var h=t.onRecoverableError,b=0;b<l.length;b++){var A=l[b];h(A.value,{componentStack:A.stack})}}finally{J.T=a,ce.p=f}}(gi&3)!==0&&Hu(),Ba(t),f=t.pendingLanes,(s&261930)!==0&&(f&42)!==0?t===qh?jl++:(jl=0,qh=t):jl=0,Pl(0)}}function q0(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,gl(a)))}function Hu(){return U0(),B0(),H0(),F0()}function F0(){if(Lt!==5)return!1;var t=nr,a=Bh;Bh=0;var s=Wa(gi),l=J.T,f=ce.p;try{ce.p=32>s?32:s,J.T=null,s=Hh,Hh=null;var h=nr,b=gi;if(Lt=0,ao=nr=null,gi=0,(Je&6)!==0)throw Error(r(331));var A=Je;if(Je|=4,S0(h.current),E0(h,h.current,b,s),Je=A,Pl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(aa,h)}catch{}return!0}finally{ce.p=f,J.T=l,q0(t,a)}}function G0(t,a,s){a=qn(s,a),a=xh(t.stateNode,a,2),t=$i(t,a,2),t!==null&&(Vr(t,2),Ba(t))}function nt(t,a,s){if(t.tag===3)G0(t,t,s);else for(;a!==null;){if(a.tag===3){G0(a,t,s);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(tr===null||!tr.has(l))){t=qn(s,t),s=Qy(2),l=$i(a,s,2),l!==null&&(Ky(s,l,a,t),Vr(l,2),Ba(l));break}}a=a.return}}function Qh(t,a,s){var l=t.pingCache;if(l===null){l=t.pingCache=new f1;var f=new Set;l.set(a,f)}else f=l.get(a),f===void 0&&(f=new Set,l.set(a,f));f.has(s)||(Lh=!0,f.add(s),t=y1.bind(null,t,a,s),a.then(t,t))}function y1(t,a,s){var l=t.pingCache;l!==null&&l.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ot===t&&(ze&s)===s&&(bt===4||bt===3&&(ze&62914560)===ze&&300>cn()-Pu?(Je&2)===0&&io(t,0):zh|=s,no===ze&&(no=0)),Ba(t)}function Q0(t,a){a===0&&(a=Lc()),t=Jr(t,a),t!==null&&(Vr(t,a),Ba(t))}function v1(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),Q0(t,s)}function b1(t,a){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(a),Q0(t,s)}function _1(t,a){return wt(t,a)}var qu=null,so=null,Kh=!1,Fu=!1,Yh=!1,ir=0;function Ba(t){t!==so&&t.next===null&&(so===null?qu=so=t:so=so.next=t),Fu=!0,Kh||(Kh=!0,E1())}function Pl(t,a){if(!Yh&&Fu){Yh=!0;do for(var s=!1,l=qu;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var h=0;else{var b=l.suspendedLanes,A=l.pingedLanes;h=(1<<31-xt(42|t)+1)-1,h&=f&~(b&~A),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,X0(l,h))}else h=ze,h=Aa(l,l===ot?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||ia(l,h)||(s=!0,X0(l,h));l=l.next}while(s);Yh=!1}}function x1(){K0()}function K0(){Fu=Kh=!1;var t=0;ir!==0&&O1()&&(t=ir);for(var a=cn(),s=null,l=qu;l!==null;){var f=l.next,h=Y0(l,a);h===0?(l.next=null,s===null?qu=f:s.next=f,f===null&&(so=s)):(s=l,(t!==0||(h&3)!==0)&&(Fu=!0)),l=f}Lt!==0&&Lt!==5||Pl(t),ir!==0&&(ir=0)}function Y0(t,a){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var b=31-xt(h),A=1<<b,D=f[b];D===-1?((A&s)===0||(A&l)!==0)&&(f[b]=Af(A,a)):D<=a&&(t.expiredLanes|=A),h&=~A}if(a=ot,s=ze,s=Aa(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===a&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&nn(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ia(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(l!==null&&nn(l),Wa(s)){case 2:case 8:s=Qo;break;case 32:s=Di;break;case 268435456:s=Dc;break;default:s=Di}return l=$0.bind(null,t),s=wt(s,l),t.callbackPriority=a,t.callbackNode=s,a}return l!==null&&l!==null&&nn(l),t.callbackPriority=2,t.callbackNode=null,2}function $0(t,a){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Hu()&&t.callbackNode!==s)return null;var l=ze;return l=Aa(t,t===ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(I0(t,l,a),Y0(t,cn()),t.callbackNode!=null&&t.callbackNode===s?$0.bind(null,t):null)}function X0(t,a){if(Hu())return null;I0(t,a,!0)}function E1(){k1(function(){(Je&6)!==0?wt(Go,x1):K0()})}function $h(){if(ir===0){var t=Gs;t===0&&(t=xa,xa<<=1,(xa&261888)===0&&(xa=256)),ir=t}return ir}function J0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Is(""+t)}function Z0(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function A1(t,a,s,l,f){if(a==="submit"&&s&&s.stateNode===f){var h=J0((f[Ht]||null).action),b=l.submitter;b&&(a=(a=b[Ht]||null)?J0(a.formAction):b.getAttribute("formAction"),a!==null&&(h=a,b=null));var A=new ka("action","action",null,l,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ir!==0){var D=b?Z0(f,b):new FormData(f);mh(s,{pending:!0,data:D,method:f.method,action:h},null,D)}}else typeof h=="function"&&(A.preventDefault(),D=b?Z0(f,b):new FormData(f),mh(s,{pending:!0,data:D,method:f.method,action:h},h,D))},currentTarget:f}]})}}for(var Xh=0;Xh<Of.length;Xh++){var Jh=Of[Xh],T1=Jh.toLowerCase(),S1=Jh[0].toUpperCase()+Jh.slice(1);fa(T1,"on"+S1)}fa(Cg,"onAnimationEnd"),fa(Ig,"onAnimationIteration"),fa(Mg,"onAnimationStart"),fa("dblclick","onDoubleClick"),fa("focusin","onFocus"),fa("focusout","onBlur"),fa(BA,"onTransitionRun"),fa(HA,"onTransitionStart"),fa(qA,"onTransitionCancel"),fa(Og,"onTransitionEnd"),Ia("onMouseEnter",["mouseout","mouseover"]),Ia("onMouseLeave",["mouseout","mouseover"]),Ia("onPointerEnter",["pointerout","pointerover"]),Ia("onPointerLeave",["pointerout","pointerover"]),Ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function W0(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var h=void 0;if(a)for(var b=l.length-1;0<=b;b--){var A=l[b],D=A.instance,F=A.currentTarget;if(A=A.listener,D!==h&&f.isPropagationStopped())break e;h=A,f.currentTarget=F;try{h(f)}catch(ee){ru(ee)}f.currentTarget=null,h=D}else for(b=0;b<l.length;b++){if(A=l[b],D=A.instance,F=A.currentTarget,A=A.listener,D!==h&&f.isPropagationStopped())break e;h=A,f.currentTarget=F;try{h(f)}catch(ee){ru(ee)}f.currentTarget=null,h=D}}}}function Le(t,a){var s=a[Ss];s===void 0&&(s=a[Ss]=new Set);var l=t+"__bubble";s.has(l)||(ev(a,t,2,!1),s.add(l))}function Zh(t,a,s){var l=0;a&&(l|=4),ev(s,t,l,a)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function Wh(t){if(!t[Gu]){t[Gu]=!0,$o.forEach(function(s){s!=="selectionchange"&&(w1.has(s)||Zh(s,!1,t),Zh(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Gu]||(a[Gu]=!0,Zh("selectionchange",!1,a))}}function ev(t,a,s,l){switch(Cv(a)){case 2:var f=eT;break;case 8:f=tT;break;default:f=pp}s=f.bind(null,a,s,t),f=void 0,!qr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(a,s,{capture:!0,passive:f}):t.addEventListener(a,s,!0):f!==void 0?t.addEventListener(a,s,{passive:f}):t.addEventListener(a,s,!1)}function ep(t,a,s,l,f){var h=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var A=l.stateNode.containerInfo;if(A===f)break;if(b===4)for(b=l.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;A!==null;){if(b=Na(A),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){l=h=b;continue e}A=A.parentNode}}l=l.return}zi(function(){var F=h,ee=zn(s),ie=[];e:{var Q=Dg.get(t);if(Q!==void 0){var X=ka,ge=t;switch(t){case"keypress":if(Gr(s)===0)break e;case"keydown":case"keyup":X=nu;break;case"focusin":ge="focus",X=Kr;break;case"focusout":ge="blur",X=Kr;break;case"beforeblur":case"afterblur":X=Kr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case Cg:case Ig:case Mg:X=$c;break;case Og:X=S;break;case"scroll":case"scrollend":X=ol;break;case"wheel":X=$;break;case"copy":case"cut":case"paste":X=Xc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ni;break;case"toggle":case"beforetoggle":X=Me}var Te=(a&4)!==0,st=!Te&&(t==="scroll"||t==="scrollend"),z=Te?Q!==null?Q+"Capture":null:Q;Te=[];for(var P=F,q;P!==null;){var ne=P;if(q=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||q===null||z===null||(ne=la(P,z),ne!=null&&Te.push(Ll(P,ne,q))),st)break;P=P.return}0<Te.length&&(Q=new X(Q,ge,null,s,ee),ie.push({event:Q,listeners:Te}))}}if((a&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Q&&s!==il&&(ge=s.relatedTarget||s.fromElement)&&(Na(ge)||ge[Sa]))break e;if((X||Q)&&(Q=ee.window===ee?ee:(Q=ee.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(ge=s.relatedTarget||s.toElement,X=F,ge=ge?Na(ge):null,ge!==null&&(st=c(ge),Te=ge.tag,ge!==st||Te!==5&&Te!==27&&Te!==6)&&(ge=null)):(X=null,ge=F),X!==ge)){if(Te=ll,ne="onMouseLeave",z="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Te=ni,ne="onPointerLeave",z="onPointerEnter",P="pointer"),st=X==null?Q:Sn(X),q=ge==null?Q:Sn(ge),Q=new Te(ne,P+"leave",X,s,ee),Q.target=st,Q.relatedTarget=q,ne=null,Na(ee)===F&&(Te=new Te(z,P+"enter",ge,s,ee),Te.target=q,Te.relatedTarget=st,ne=Te),st=ne,X&&ge)t:{for(Te=N1,z=X,P=ge,q=0,ne=z;ne;ne=Te(ne))q++;ne=0;for(var Ee=P;Ee;Ee=Te(Ee))ne++;for(;0<q-ne;)z=Te(z),q--;for(;0<ne-q;)P=Te(P),ne--;for(;q--;){if(z===P||P!==null&&z===P.alternate){Te=z;break t}z=Te(z),P=Te(P)}Te=null}else Te=null;X!==null&&tv(ie,Q,X,Te,!1),ge!==null&&st!==null&&tv(ie,st,ge,Te,!0)}}e:{if(Q=F?Sn(F):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var Ye=vg;else if(gg(Q))if(bg)Ye=LA;else{Ye=PA;var ve=jA}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?F&&Cs(F.elementType)&&(Ye=vg):Ye=VA;if(Ye&&(Ye=Ye(t,F))){yg(ie,Ye,s,ee);break e}ve&&ve(t,Q,F),t==="focusout"&&F&&Q.type==="number"&&F.memoizedProps.value!=null&&tl(Q,"number",Q.value)}switch(ve=F?Sn(F):window,t){case"focusin":(gg(ve)||ve.contentEditable==="true")&&(Vs=ve,Cf=F,hl=null);break;case"focusout":hl=Cf=Vs=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Ng(ie,s,ee);break;case"selectionchange":if(UA)break;case"keydown":case"keyup":Ng(ie,s,ee)}var ke;if(Xe)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ps?Yr(t,s)&&(Ue="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ue="onCompositionStart");Ue&&(Va&&s.locale!=="ko"&&(Ps||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ps&&(ke=sl()):(Da=ee,rl="value"in Da?Da.value:Da.textContent,Ps=!0)),ve=Qu(F,Ue),0<ve.length&&(Ue=new Pa(Ue,t,null,s,ee),ie.push({event:Ue,listeners:ve}),ke?Ue.data=ke:(ke=js(s),ke!==null&&(Ue.data=ke)))),(ke=Bn?MA(t,s):OA(t,s))&&(Ue=Qu(F,"onBeforeInput"),0<Ue.length&&(ve=new Pa("onBeforeInput","beforeinput",null,s,ee),ie.push({event:ve,listeners:Ue}),ve.data=ke)),A1(ie,t,F,s,ee)}W0(ie,a)})}function Ll(t,a,s){return{instance:t,listener:a,currentTarget:s}}function Qu(t,a){for(var s=a+"Capture",l=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=la(t,s),f!=null&&l.unshift(Ll(t,f,h)),f=la(t,a),f!=null&&l.push(Ll(t,f,h))),t.tag===3)return l;t=t.return}return[]}function N1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function tv(t,a,s,l,f){for(var h=a._reactName,b=[];s!==null&&s!==l;){var A=s,D=A.alternate,F=A.stateNode;if(A=A.tag,D!==null&&D===l)break;A!==5&&A!==26&&A!==27||F===null||(D=F,f?(F=la(s,h),F!=null&&b.unshift(Ll(s,F,D))):f||(F=la(s,h),F!=null&&b.push(Ll(s,F,D)))),s=s.return}b.length!==0&&t.push({event:a,listeners:b})}var R1=/\r\n?/g,C1=/\u0000|\uFFFD/g;function nv(t){return(typeof t=="string"?t:""+t).replace(R1,`
`).replace(C1,"")}function av(t,a){return a=nv(a),nv(t)===a}function rt(t,a,s,l,f,h){switch(s){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||mn(t,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&mn(t,""+l);break;case"className":wn(t,"class",l);break;case"tabIndex":wn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,s,l);break;case"style":al(t,l,h);break;case"data":if(a!=="object"){wn(t,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Is(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(a!=="input"&&rt(t,a,"name",f.name,f,null),rt(t,a,"formEncType",f.formEncType,f,null),rt(t,a,"formMethod",f.formMethod,f,null),rt(t,a,"formTarget",f.formTarget,f,null)):(rt(t,a,"encType",f.encType,f,null),rt(t,a,"method",f.method,f,null),rt(t,a,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Is(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=oa);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Is(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Ns(t,"popover",l);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ns(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Qc.get(s)||s,Ns(t,s,l))}}function tp(t,a,s,l,f,h){switch(s){case"style":al(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?mn(t,l):(typeof l=="number"||typeof l=="bigint")&&mn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),a=s.slice(2,f?s.length-7:void 0),h=t[Ht]||null,h=h!=null?h[s]:null,typeof h=="function"&&t.removeEventListener(a,h,f),typeof l=="function")){typeof h!="function"&&h!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ns(t,s,l)}}}function Zt(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,f=!1,h;for(h in s)if(s.hasOwnProperty(h)){var b=s[h];if(b!=null)switch(h){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:rt(t,a,h,b,s,null)}}f&&rt(t,a,"srcSet",s.srcSet,s,null),l&&rt(t,a,"src",s.src,s,null);return;case"input":Le("invalid",t);var A=h=b=f=null,D=null,F=null;for(l in s)if(s.hasOwnProperty(l)){var ee=s[l];if(ee!=null)switch(l){case"name":f=ee;break;case"type":b=ee;break;case"checked":D=ee;break;case"defaultChecked":F=ee;break;case"value":h=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,a));break;default:rt(t,a,l,ee,s,null)}}qc(t,h,A,D,F,b,f,!1);return;case"select":Le("invalid",t),l=b=h=null;for(f in s)if(s.hasOwnProperty(f)&&(A=s[f],A!=null))switch(f){case"value":h=A;break;case"defaultValue":b=A;break;case"multiple":l=A;default:rt(t,a,f,A,s,null)}a=h,s=b,t.multiple=!!l,a!=null?ji(t,!!l,a,!1):s!=null&&ji(t,!!l,s,!0);return;case"textarea":Le("invalid",t),h=f=l=null;for(b in s)if(s.hasOwnProperty(b)&&(A=s[b],A!=null))switch(b){case"value":l=A;break;case"defaultValue":f=A;break;case"children":h=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:rt(t,a,b,A,s,null)}Pi(t,l,f,h);return;case"option":for(D in s)s.hasOwnProperty(D)&&(l=s[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":rt(t,a,D,l,s,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Le(Vl[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(l=s[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:rt(t,a,F,l,s,null)}return;default:if(Cs(a)){for(ee in s)s.hasOwnProperty(ee)&&(l=s[ee],l!==void 0&&tp(t,a,ee,l,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(l=s[A],l!=null&&rt(t,a,A,l,s,null))}function I1(t,a,s,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,b=null,A=null,D=null,F=null,ee=null;for(X in s){var ie=s[X];if(s.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=ie;default:l.hasOwnProperty(X)||rt(t,a,X,null,l,ie)}}for(var Q in l){var X=l[Q];if(ie=s[Q],l.hasOwnProperty(Q)&&(X!=null||ie!=null))switch(Q){case"type":h=X;break;case"name":f=X;break;case"checked":F=X;break;case"defaultChecked":ee=X;break;case"value":b=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:X!==ie&&rt(t,a,Q,X,l,ie)}}Rs(t,b,A,D,F,ee,h,f);return;case"select":X=b=A=Q=null;for(h in s)if(D=s[h],s.hasOwnProperty(h)&&D!=null)switch(h){case"value":break;case"multiple":X=D;default:l.hasOwnProperty(h)||rt(t,a,h,null,l,D)}for(f in l)if(h=l[f],D=s[f],l.hasOwnProperty(f)&&(h!=null||D!=null))switch(f){case"value":Q=h;break;case"defaultValue":A=h;break;case"multiple":b=h;default:h!==D&&rt(t,a,f,h,l,D)}a=A,s=b,l=X,Q!=null?ji(t,!!s,Q,!1):!!l!=!!s&&(a!=null?ji(t,!!s,a,!0):ji(t,!!s,s?[]:"",!1));return;case"textarea":X=Q=null;for(A in s)if(f=s[A],s.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:rt(t,a,A,null,l,f)}for(b in l)if(f=l[b],h=s[b],l.hasOwnProperty(b)&&(f!=null||h!=null))switch(b){case"value":Q=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==h&&rt(t,a,b,f,l,h)}Fc(t,Q,X);return;case"option":for(var ge in s)Q=s[ge],s.hasOwnProperty(ge)&&Q!=null&&!l.hasOwnProperty(ge)&&(ge==="selected"?t.selected=!1:rt(t,a,ge,null,l,Q));for(D in l)Q=l[D],X=s[D],l.hasOwnProperty(D)&&Q!==X&&(Q!=null||X!=null)&&(D==="selected"?t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":rt(t,a,D,Q,l,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in s)Q=s[Te],s.hasOwnProperty(Te)&&Q!=null&&!l.hasOwnProperty(Te)&&rt(t,a,Te,null,l,Q);for(F in l)if(Q=l[F],X=s[F],l.hasOwnProperty(F)&&Q!==X&&(Q!=null||X!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,a));break;default:rt(t,a,F,Q,l,X)}return;default:if(Cs(a)){for(var st in s)Q=s[st],s.hasOwnProperty(st)&&Q!==void 0&&!l.hasOwnProperty(st)&&tp(t,a,st,void 0,l,Q);for(ee in l)Q=l[ee],X=s[ee],!l.hasOwnProperty(ee)||Q===X||Q===void 0&&X===void 0||tp(t,a,ee,Q,l,X);return}}for(var z in s)Q=s[z],s.hasOwnProperty(z)&&Q!=null&&!l.hasOwnProperty(z)&&rt(t,a,z,null,l,Q);for(ie in l)Q=l[ie],X=s[ie],!l.hasOwnProperty(ie)||Q===X||Q==null&&X==null||rt(t,a,ie,Q,l,X)}function iv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function M1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var f=s[l],h=f.transferSize,b=f.initiatorType,A=f.duration;if(h&&A&&iv(b)){for(b=0,A=f.responseEnd,l+=1;l<s.length;l++){var D=s[l],F=D.startTime;if(F>A)break;var ee=D.transferSize,ie=D.initiatorType;ee&&iv(ie)&&(D=D.responseEnd,b+=ee*(D<A?1:(A-F)/(D-F)))}if(--l,a+=8*(h+b)/(f.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var np=null,ap=null;function Ku(t){return t.nodeType===9?t:t.ownerDocument}function rv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sv(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function ip(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var rp=null;function O1(){var t=window.event;return t&&t.type==="popstate"?t===rp?!1:(rp=t,!0):(rp=null,!1)}var ov=typeof setTimeout=="function"?setTimeout:void 0,D1=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,k1=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(t){return lv.resolve(null).then(t).catch(j1)}:ov;function j1(t){setTimeout(function(){throw t})}function rr(t){return t==="head"}function cv(t,a){var s=a,l=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(f),uo(a);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")zl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,zl(s);for(var h=s.firstChild;h;){var b=h.nextSibling,A=h.nodeName;h[wa]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&h.rel.toLowerCase()==="stylesheet"||s.removeChild(h),h=b}}else s==="body"&&zl(t.ownerDocument.body);s=f}while(s);uo(a)}function uv(t,a){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function sp(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":sp(s),ws(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function P1(t,a,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wa])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function V1(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Yn(t.nextSibling),t===null))return null;return t}function dv(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Yn(t.nextSibling),t===null))return null;return t}function op(t){return t.data==="$?"||t.data==="$~"}function lp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function L1(t,a){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||s.readyState!=="loading")a();else{var l=function(){a(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yn(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var cp=null;function fv(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(a===0)return Yn(t.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}t=t.nextSibling}return null}function hv(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return t;a--}else s!=="/$"&&s!=="/&"||a++}t=t.previousSibling}return null}function pv(t,a,s){switch(a=Ku(s),t){case"html":if(t=a.documentElement,!t)throw Error(r(452));return t;case"head":if(t=a.head,!t)throw Error(r(453));return t;case"body":if(t=a.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function zl(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ws(t)}var $n=new Map,mv=new Set;function Yu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var yi=ce.d;ce.d={f:z1,r:U1,D:B1,C:H1,L:q1,m:F1,X:Q1,S:G1,M:K1};function z1(){var t=yi.f(),a=zu();return t||a}function U1(t){var a=Ln(t);a!==null&&a.tag===5&&a.type==="form"?Oy(a):yi.r(t)}var oo=typeof document>"u"?null:document;function gv(t,a,s){var l=oo;if(l&&typeof a=="string"&&a){var f=pn(a);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),mv.has(f)||(mv.add(f),t={rel:t,crossOrigin:s,href:a},l.querySelector(f)===null&&(a=l.createElement("link"),Zt(a,"link",t),Ct(a),l.head.appendChild(a)))}}function B1(t){yi.D(t),gv("dns-prefetch",t,null)}function H1(t,a){yi.C(t,a),gv("preconnect",t,a)}function q1(t,a,s){yi.L(t,a,s);var l=oo;if(l&&t&&a){var f='link[rel="preload"][as="'+pn(a)+'"]';a==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+pn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+pn(s.imageSizes)+'"]')):f+='[href="'+pn(t)+'"]';var h=f;switch(a){case"style":h=lo(t);break;case"script":h=co(t)}$n.has(h)||(t=E({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),$n.set(h,t),l.querySelector(f)!==null||a==="style"&&l.querySelector(Ul(h))||a==="script"&&l.querySelector(Bl(h))||(a=l.createElement("link"),Zt(a,"link",t),Ct(a),l.head.appendChild(a)))}}function F1(t,a){yi.m(t,a);var s=oo;if(s&&t){var l=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+pn(l)+'"][href="'+pn(t)+'"]',h=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=co(t)}if(!$n.has(h)&&(t=E({rel:"modulepreload",href:t},a),$n.set(h,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Bl(h)))return}l=s.createElement("link"),Zt(l,"link",t),Ct(l),s.head.appendChild(l)}}}function G1(t,a,s){yi.S(t,a,s);var l=oo;if(l&&t){var f=Ra(l).hoistableStyles,h=lo(t);a=a||"default";var b=f.get(h);if(!b){var A={loading:0,preload:null};if(b=l.querySelector(Ul(h)))A.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":a},s),(s=$n.get(h))&&up(t,s);var D=b=l.createElement("link");Ct(D),Zt(D,"link",t),D._p=new Promise(function(F,ee){D.onload=F,D.onerror=ee}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,$u(b,a,l)}b={type:"stylesheet",instance:b,count:1,state:A},f.set(h,b)}}}function Q1(t,a){yi.X(t,a);var s=oo;if(s&&t){var l=Ra(s).hoistableScripts,f=co(t),h=l.get(f);h||(h=s.querySelector(Bl(f)),h||(t=E({src:t,async:!0},a),(a=$n.get(f))&&dp(t,a),h=s.createElement("script"),Ct(h),Zt(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function K1(t,a){yi.M(t,a);var s=oo;if(s&&t){var l=Ra(s).hoistableScripts,f=co(t),h=l.get(f);h||(h=s.querySelector(Bl(f)),h||(t=E({src:t,async:!0,type:"module"},a),(a=$n.get(f))&&dp(t,a),h=s.createElement("script"),Ct(h),Zt(h,"link",t),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function yv(t,a,s,l){var f=(f=de.current)?Yu(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=lo(s.href),s=Ra(f).hoistableStyles,l=s.get(a),l||(l={type:"style",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=lo(s.href);var h=Ra(f).hoistableStyles,b=h.get(t);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,b),(h=f.querySelector(Ul(t)))&&!h._p&&(b.instance=h,b.state.loading=5),$n.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},$n.set(t,s),h||Y1(f,t,s,b.state))),a&&l===null)throw Error(r(528,""));return b}if(a&&l!==null)throw Error(r(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=co(s),s=Ra(f).hoistableScripts,l=s.get(a),l||(l={type:"script",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function lo(t){return'href="'+pn(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function vv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Y1(t,a,s,l){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=t.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),Zt(a,"link",s),Ct(a),t.head.appendChild(a))}function co(t){return'[src="'+pn(t)+'"]'}function Bl(t){return"script[async]"+t}function bv(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var l=t.querySelector('style[data-href~="'+pn(s.href)+'"]');if(l)return a.instance=l,Ct(l),l;var f=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ct(l),Zt(l,"style",f),$u(l,s.precedence,t),a.instance=l;case"stylesheet":f=lo(s.href);var h=t.querySelector(Ul(f));if(h)return a.state.loading|=4,a.instance=h,Ct(h),h;l=vv(s),(f=$n.get(f))&&up(l,f),h=(t.ownerDocument||t).createElement("link"),Ct(h);var b=h;return b._p=new Promise(function(A,D){b.onload=A,b.onerror=D}),Zt(h,"link",l),a.state.loading|=4,$u(h,s.precedence,t),a.instance=h;case"script":return h=co(s.src),(f=t.querySelector(Bl(h)))?(a.instance=f,Ct(f),f):(l=s,(f=$n.get(h))&&(l=E({},s),dp(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ct(f),Zt(f,"link",l),t.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,$u(l,s.precedence,t));return a.instance}function $u(t,a,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,h=f,b=0;b<l.length;b++){var A=l[b];if(A.dataset.precedence===a)h=A;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function up(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function dp(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Xu=null;function _v(t,a,s){if(Xu===null){var l=new Map,f=Xu=new Map;f.set(s,l)}else f=Xu,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var h=s[f];if(!(h[wa]||h[Rt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var b=h.getAttribute(a)||"";b=t+b;var A=l.get(b);A?A.push(h):l.set(b,[h])}}return l}function xv(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function $1(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(t=a.disabled,typeof a.precedence=="string"&&t==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function X1(t,a,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=lo(l.href),h=a.querySelector(Ul(f));if(h){a=h._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=Ju.bind(t),a.then(t,t)),s.state.loading|=4,s.instance=h,Ct(h);return}h=a.ownerDocument||a,l=vv(l),(f=$n.get(f))&&up(l,f),h=h.createElement("link"),Ct(h);var b=h;b._p=new Promise(function(A,D){b.onload=A,b.onerror=D}),Zt(h,"link",l),s.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Ju.bind(t),a.addEventListener("load",s),a.addEventListener("error",s))}}var fp=0;function J1(t,a){return t.stylesheets&&t.count===0&&Wu(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Wu(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+a);0<t.imgBytes&&fp===0&&(fp=62500*M1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Wu(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>fp?50:800)+a);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Ju(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zu=null;function Wu(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zu=new Map,a.forEach(Z1,t),Zu=null,Ju.call(t))}function Z1(t,a){if(!(a.state.loading&4)){var s=Zu.get(t);if(s)var l=s.get(null);else{s=new Map,Zu.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var b=f[h];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(s.set(b.dataset.precedence,b),l=b)}l&&s.set(null,l)}f=a.instance,b=f.getAttribute("data-precedence"),h=s.get(b)||l,h===l&&s.set(null,f),s.set(b,f),this.count++,l=Ju.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),a.state.loading|=4}}var Hl={$$typeof:se,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function W1(t,a,s,l,f,h,b,A,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.hiddenUpdates=Ta(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Av(t,a,s,l,f,h,b,A,D,F,ee,ie){return t=new W1(t,a,s,b,D,F,ee,ie,A),a=1,h===!0&&(a|=24),h=Rn(3,null,null,a),t.current=h,h.stateNode=t,a=Gf(),a.refCount++,t.pooledCache=a,a.refCount++,h.memoizedState={element:l,isDehydrated:s,cache:a},$f(h),t}function Tv(t){return t?(t=Us,t):Us}function Sv(t,a,s,l,f,h){f=Tv(f),l.context===null?l.context=f:l.pendingContext=f,l=Yi(a),l.payload={element:s},h=h===void 0?null:h,h!==null&&(l.callback=h),s=$i(t,l,a),s!==null&&(_n(s,t,a),_l(s,t,a))}function wv(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function hp(t,a){wv(t,a),(t=t.alternate)&&wv(t,a)}function Nv(t){if(t.tag===13||t.tag===31){var a=Jr(t,67108864);a!==null&&_n(a,t,67108864),hp(t,67108864)}}function Rv(t){if(t.tag===13||t.tag===31){var a=Dn();a=zr(a);var s=Jr(t,a);s!==null&&_n(s,t,a),hp(t,a)}}var ed=!0;function eT(t,a,s,l){var f=J.T;J.T=null;var h=ce.p;try{ce.p=2,pp(t,a,s,l)}finally{ce.p=h,J.T=f}}function tT(t,a,s,l){var f=J.T;J.T=null;var h=ce.p;try{ce.p=8,pp(t,a,s,l)}finally{ce.p=h,J.T=f}}function pp(t,a,s,l){if(ed){var f=mp(l);if(f===null)ep(t,a,l,td,s),Iv(t,l);else if(aT(f,t,a,s,l))l.stopPropagation();else if(Iv(t,l),a&4&&-1<nT.indexOf(t)){for(;f!==null;){var h=Ln(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var b=Ea(h.pendingLanes);if(b!==0){var A=h;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var D=1<<31-xt(b);A.entanglements[1]|=D,b&=~D}Ba(h),(Je&6)===0&&(Vu=cn()+500,Pl(0))}}break;case 31:case 13:A=Jr(h,2),A!==null&&_n(A,h,2),zu(),hp(h,2)}if(h=mp(l),h===null&&ep(t,a,l,td,s),h===f)break;f=h}f!==null&&l.stopPropagation()}else ep(t,a,l,null,s)}}function mp(t){return t=zn(t),gp(t)}var td=null;function gp(t){if(td=null,t=Na(t),t!==null){var a=c(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=d(a),t!==null)return t;t=null}else if(s===31){if(t=m(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return td=t,null}function Cv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jr()){case Go:return 2;case Qo:return 8;case Di:case Ef:return 32;case Dc:return 268435456;default:return 32}default:return 32}}var yp=!1,sr=null,or=null,lr=null,ql=new Map,Fl=new Map,cr=[],nT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(t,a){switch(t){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":ql.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(a.pointerId)}}function Gl(t,a,s,l,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:a,domEventName:s,eventSystemFlags:l,nativeEvent:h,targetContainers:[f]},a!==null&&(a=Ln(a),a!==null&&Nv(a)),t):(t.eventSystemFlags|=l,a=t.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),t)}function aT(t,a,s,l,f){switch(a){case"focusin":return sr=Gl(sr,t,a,s,l,f),!0;case"dragenter":return or=Gl(or,t,a,s,l,f),!0;case"mouseover":return lr=Gl(lr,t,a,s,l,f),!0;case"pointerover":var h=f.pointerId;return ql.set(h,Gl(ql.get(h)||null,t,a,s,l,f)),!0;case"gotpointercapture":return h=f.pointerId,Fl.set(h,Gl(Fl.get(h)||null,t,a,s,l,f)),!0}return!1}function Mv(t){var a=Na(t.target);if(a!==null){var s=c(a);if(s!==null){if(a=s.tag,a===13){if(a=d(s),a!==null){t.blockedOn=a,ra(t.priority,function(){Rv(s)});return}}else if(a===31){if(a=m(s),a!==null){t.blockedOn=a,ra(t.priority,function(){Rv(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nd(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=mp(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);il=l,s.target.dispatchEvent(l),il=null}else return a=Ln(s),a!==null&&Nv(a),t.blockedOn=s,!1;a.shift()}return!0}function Ov(t,a,s){nd(t)&&s.delete(a)}function iT(){yp=!1,sr!==null&&nd(sr)&&(sr=null),or!==null&&nd(or)&&(or=null),lr!==null&&nd(lr)&&(lr=null),ql.forEach(Ov),Fl.forEach(Ov)}function ad(t,a){t.blockedOn===a&&(t.blockedOn=null,yp||(yp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,iT)))}var id=null;function Dv(t){id!==t&&(id=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){id===t&&(id=null);for(var a=0;a<t.length;a+=3){var s=t[a],l=t[a+1],f=t[a+2];if(typeof l!="function"){if(gp(l||s)===null)continue;break}var h=Ln(s);h!==null&&(t.splice(a,3),a-=3,mh(h,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function uo(t){function a(D){return ad(D,t)}sr!==null&&ad(sr,t),or!==null&&ad(or,t),lr!==null&&ad(lr,t),ql.forEach(a),Fl.forEach(a);for(var s=0;s<cr.length;s++){var l=cr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<cr.length&&(s=cr[0],s.blockedOn===null);)Mv(s),s.blockedOn===null&&cr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],h=s[l+1],b=f[Ht]||null;if(typeof h=="function")b||Dv(s);else if(b){var A=null;if(h&&h.hasAttribute("formAction")){if(f=h,b=h[Ht]||null)A=b.formAction;else if(gp(f)!==null)continue}else A=b.action;typeof A=="function"?s[l+1]=A:(s.splice(l,3),l-=3),Dv(s)}}}function kv(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function a(){f!==null&&(f(),f=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),f!==null&&(f(),f=null)}}}function vp(t){this._internalRoot=t}rd.prototype.render=vp.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(r(409));var s=a.current,l=Dn();Sv(s,l,t,a,null,null)},rd.prototype.unmount=vp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Sv(t.current,2,null,t,null,null),zu(),a[Sa]=null}};function rd(t){this._internalRoot=t}rd.prototype.unstable_scheduleHydration=function(t){if(t){var a=zc();t={blockedOn:null,target:t,priority:a};for(var s=0;s<cr.length&&a!==0&&a<cr[s].priority;s++);cr.splice(s,0,t),s===0&&Mv(t)}};var jv=e.version;if(jv!=="19.2.4")throw Error(r(527,jv,"19.2.4"));ce.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(a),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var rT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{aa=sd.inject(rT),Kt=sd}catch{}}return Kl.createRoot=function(t,a){if(!o(t))throw Error(r(299));var s=!1,l="",f=Hy,h=qy,b=Fy;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=Av(t,1,!1,null,null,s,l,null,f,h,b,kv),t[Sa]=a.current,Wh(t),new vp(a)},Kl.hydrateRoot=function(t,a,s){if(!o(t))throw Error(r(299));var l=!1,f="",h=Hy,b=qy,A=Fy,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),a=Av(t,1,!0,a,s??null,l,f,D,h,b,A,kv),a.context=Tv(null),s=a.current,l=Dn(),l=zr(l),f=Yi(l),f.callback=null,$i(s,f,l),s=l,a.current.lanes=s,Vr(a,s),Ba(a),t[Sa]=a.current,Wh(t),new rd(a)},Kl.version="19.2.4",Kl}var Gv;function gT(){if(Gv)return xp.exports;Gv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),xp.exports=mT(),xp.exports}var yT=gT();const vT=C_(yT);var Qv="popstate";function bT(i={}){function e(o,c){let{pathname:d="/",search:m="",hash:g=""}=xs(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Up("",{pathname:d,search:m,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let d=o.document.querySelector("base"),m="";if(d&&d.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof c=="string"?c:cc(c))}function r(o,c){ea(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return xT(e,n,r,i)}function mt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ea(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _T(){return Math.random().toString(36).substring(2,10)}function Kv(i,e){return{usr:i.state,key:i.key,idx:e}}function Up(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?xs(e):e,state:n,key:e&&e.key||r||_T()}}function cc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function xs(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function xT(i,e,n,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,d=o.history,m="POP",g=null,y=x();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function x(){return(d.state||{idx:null}).idx}function E(){m="POP";let K=x(),oe=K==null?null:K-y;y=K,g&&g({action:m,location:U.location,delta:oe})}function w(K,oe){m="PUSH";let B=Up(U.location,K,oe);n&&n(B,K),y=x()+1;let se=Kv(B,y),pe=U.createHref(B);try{d.pushState(se,"",pe)}catch(_e){if(_e instanceof DOMException&&_e.name==="DataCloneError")throw _e;o.location.assign(pe)}c&&g&&g({action:m,location:U.location,delta:1})}function L(K,oe){m="REPLACE";let B=Up(U.location,K,oe);n&&n(B,K),y=x();let se=Kv(B,y),pe=U.createHref(B);d.replaceState(se,"",pe),c&&g&&g({action:m,location:U.location,delta:0})}function G(K){return ET(K)}let U={get action(){return m},get location(){return i(o,d)},listen(K){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Qv,E),g=K,()=>{o.removeEventListener(Qv,E),g=null}},createHref(K){return e(o,K)},createURL:G,encodeLocation(K){let oe=G(K);return{pathname:oe.pathname,search:oe.search,hash:oe.hash}},push:w,replace:L,go(K){return d.go(K)}};return U}function ET(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:cc(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function I_(i,e,n="/"){return AT(i,e,n,!1)}function AT(i,e,n,r){let o=typeof e=="string"?xs(e):e,c=Ai(o.pathname||"/",n);if(c==null)return null;let d=M_(i);TT(d);let m=null;for(let g=0;m==null&&g<d.length;++g){let y=jT(c);m=DT(d[g],y,r)}return m}function M_(i,e=[],n=[],r="",o=!1){let c=(d,m,g=o,y)=>{let x={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(r)&&g)return;mt(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length)}let E=_i([r,x.relativePath]),w=n.concat(x);d.children&&d.children.length>0&&(mt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),M_(d.children,e,w,E,g)),!(d.path==null&&!d.index)&&e.push({path:E,score:MT(E,d.index),routesMeta:w})};return i.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))c(d,m);else for(let g of O_(d.path))c(d,m,!0,g)}),e}function O_(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let d=O_(r.join("/")),m=[];return m.push(...d.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...d),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function TT(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:OT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ST=/^:[\w-]+$/,wT=3,NT=2,RT=1,CT=10,IT=-2,Yv=i=>i==="*";function MT(i,e){let n=i.split("/"),r=n.length;return n.some(Yv)&&(r+=IT),e&&(r+=NT),n.filter(o=>!Yv(o)).reduce((o,c)=>o+(ST.test(c)?wT:c===""?RT:CT),r)}function OT(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function DT(i,e,n=!1){let{routesMeta:r}=i,o={},c="/",d=[];for(let m=0;m<r.length;++m){let g=r[m],y=m===r.length-1,x=c==="/"?e:e.slice(c.length)||"/",E=Nd({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),w=g.route;if(!E&&y&&n&&!r[r.length-1].route.index&&(E=Nd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!E)return null;Object.assign(o,E.params),d.push({params:o,pathname:_i([c,E.pathname]),pathnameBase:zT(_i([c,E.pathnameBase])),route:w}),E.pathnameBase!=="/"&&(c=_i([c,E.pathnameBase]))}return d}function Nd(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=kT(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((y,{paramName:x,isOptional:E},w)=>{if(x==="*"){let G=m[w]||"";d=c.slice(0,c.length-G.length).replace(/(.)\/+$/,"$1")}const L=m[w];return E&&!L?y[x]=void 0:y[x]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:i}}function kT(i,e=!1,n=!0){ea(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function jT(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ea(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ai(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}var PT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function VT(i,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof i=="string"?xs(i):i,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=$v(n.substring(1),"/"):c=$v(n,e)):c=e,{pathname:c,search:UT(r),hash:BT(o)}}function $v(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sp(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LT(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mm(i){let e=LT(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function gm(i,e,n,r=!1){let o;typeof i=="string"?o=xs(i):(o={...i},mt(!o.pathname||!o.pathname.includes("?"),Sp("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),Sp("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),Sp("#","search","hash",o)));let c=i===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=n;else{let E=e.length-1;if(!r&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),E-=1;o.pathname=w.join("/")}m=E>=0?e[E]:"/"}let g=VT(o,m),y=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}var _i=i=>i.join("/").replace(/\/\/+/g,"/"),zT=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),UT=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,BT=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,HT=class{constructor(i,e,n,r=!1){this.status=i,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function qT(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function FT(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var D_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function k_(i,e){let n=i;if(typeof n!="string"||!PT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(D_)try{let c=new URL(window.location.href),d=n.startsWith("//")?new URL(c.protocol+n):new URL(n),m=Ai(d.pathname,e);d.origin===c.origin&&m!=null?n=m+d.search+d.hash:o=!0}catch{ea(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var j_=["POST","PUT","PATCH","DELETE"];new Set(j_);var GT=["GET",...j_];new Set(GT);var Do=O.createContext(null);Do.displayName="DataRouter";var $d=O.createContext(null);$d.displayName="DataRouterState";var QT=O.createContext(!1),P_=O.createContext({isTransitioning:!1});P_.displayName="ViewTransition";var KT=O.createContext(new Map);KT.displayName="Fetchers";var YT=O.createContext(null);YT.displayName="Await";var Pn=O.createContext(null);Pn.displayName="Navigation";var bc=O.createContext(null);bc.displayName="Location";var Ja=O.createContext({outlet:null,matches:[],isDataRoute:!1});Ja.displayName="Route";var ym=O.createContext(null);ym.displayName="RouteError";var V_="REACT_ROUTER_ERROR",$T="REDIRECT",XT="ROUTE_ERROR_RESPONSE";function JT(i){if(i.startsWith(`${V_}:${$T}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ZT(i){if(i.startsWith(`${V_}:${XT}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new HT(e.status,e.statusText,e.data)}catch{}}function WT(i,{relative:e}={}){mt(ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(Pn),{hash:o,pathname:c,search:d}=_c(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:_i([n,c])),r.createHref({pathname:m,search:d,hash:o})}function ko(){return O.useContext(bc)!=null}function Cr(){return mt(ko(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(bc).location}var L_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z_(i){O.useContext(Pn).static||O.useLayoutEffect(i)}function jo(){let{isDataRoute:i}=O.useContext(Ja);return i?fS():eS()}function eS(){mt(ko(),"useNavigate() may be used only in the context of a <Router> component.");let i=O.useContext(Do),{basename:e,navigator:n}=O.useContext(Pn),{matches:r}=O.useContext(Ja),{pathname:o}=Cr(),c=JSON.stringify(mm(r)),d=O.useRef(!1);return z_(()=>{d.current=!0}),O.useCallback((g,y={})=>{if(ea(d.current,L_),!d.current)return;if(typeof g=="number"){n.go(g);return}let x=gm(g,JSON.parse(c),o,y.relative==="path");i==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:_i([e,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[e,n,c,o,i])}O.createContext(null);function _c(i,{relative:e}={}){let{matches:n}=O.useContext(Ja),{pathname:r}=Cr(),o=JSON.stringify(mm(n));return O.useMemo(()=>gm(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function tS(i,e){return U_(i,e)}function U_(i,e,n,r,o){mt(ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=O.useContext(Pn),{matches:d}=O.useContext(Ja),m=d[d.length-1],g=m?m.params:{},y=m?m.pathname:"/",x=m?m.pathnameBase:"/",E=m&&m.route;{let B=E&&E.path||"";H_(y,!E||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let w=Cr(),L;if(e){let B=typeof e=="string"?xs(e):e;mt(x==="/"||B.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${B.pathname}" was given in the \`location\` prop.`),L=B}else L=w;let G=L.pathname||"/",U=G;if(x!=="/"){let B=x.replace(/^\//,"").split("/");U="/"+G.replace(/^\//,"").split("/").slice(B.length).join("/")}let K=I_(i,{pathname:U});ea(E||K!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),ea(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let oe=sS(K&&K.map(B=>Object.assign({},B,{params:Object.assign({},g,B.params),pathname:_i([x,c.encodeLocation?c.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?x:_i([x,c.encodeLocation?c.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),d,n,r,o);return e&&oe?O.createElement(bc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},oe):oe}function nS(){let i=dS(),e=qT(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:c},"ErrorBoundary")," or"," ",O.createElement("code",{style:c},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:o},n):null,d)}var aS=O.createElement(nS,null),B_=class extends O.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=ZT(i.digest);n&&(i=n)}let e=i!==void 0?O.createElement(Ja.Provider,{value:this.props.routeContext},O.createElement(ym.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?O.createElement(iS,{error:i},e):e}};B_.contextType=QT;var wp=new WeakMap;function iS({children:i,error:e}){let{basename:n}=O.useContext(Pn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=JT(e.digest);if(r){let o=wp.get(e);if(o)throw o;let c=k_(r.location,n);if(D_&&!wp.get(e))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw wp.set(e,d),d}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return i}function rS({routeContext:i,match:e,children:n}){let r=O.useContext(Do);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Ja.Provider,{value:i},n)}function sS(i,e=[],n=null,r=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,d=n?.errors;if(d!=null){let x=c.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);mt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let m=!1,g=-1;if(n)for(let x=0;x<c.length;x++){let E=c[x];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=x),E.route.id){let{loaderData:w,errors:L}=n,G=E.route.loader&&!w.hasOwnProperty(E.route.id)&&(!L||L[E.route.id]===void 0);if(E.route.lazy||G){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&r?(x,E)=>{r(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:FT(n.matches),errorInfo:E})}:void 0;return c.reduceRight((x,E,w)=>{let L,G=!1,U=null,K=null;n&&(L=d&&E.route.id?d[E.route.id]:void 0,U=E.route.errorElement||aS,m&&(g<0&&w===0?(H_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,K=null):g===w&&(G=!0,K=E.route.hydrateFallbackElement||null)));let oe=e.concat(c.slice(0,w+1)),B=()=>{let se;return L?se=U:G?se=K:E.route.Component?se=O.createElement(E.route.Component,null):E.route.element?se=E.route.element:se=x,O.createElement(rS,{match:E,routeContext:{outlet:x,matches:oe,isDataRoute:n!=null},children:se})};return n&&(E.route.ErrorBoundary||E.route.errorElement||w===0)?O.createElement(B_,{location:n.location,revalidation:n.revalidation,component:U,error:L,children:B(),routeContext:{outlet:null,matches:oe,isDataRoute:!0},onError:y}):B()},null)}function vm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oS(i){let e=O.useContext(Do);return mt(e,vm(i)),e}function lS(i){let e=O.useContext($d);return mt(e,vm(i)),e}function cS(i){let e=O.useContext(Ja);return mt(e,vm(i)),e}function bm(i){let e=cS(i),n=e.matches[e.matches.length-1];return mt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function uS(){return bm("useRouteId")}function dS(){let i=O.useContext(ym),e=lS("useRouteError"),n=bm("useRouteError");return i!==void 0?i:e.errors?.[n]}function fS(){let{router:i}=oS("useNavigate"),e=bm("useNavigate"),n=O.useRef(!1);return z_(()=>{n.current=!0}),O.useCallback(async(o,c={})=>{ea(n.current,L_),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var Xv={};function H_(i,e,n){!e&&!Xv[i]&&(Xv[i]=!0,ea(!1,n))}O.memo(hS);function hS({routes:i,future:e,state:n,onError:r}){return U_(i,void 0,n,r,e)}function q_({to:i,replace:e,state:n,relative:r}){mt(ko(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(Pn);ea(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=O.useContext(Ja),{pathname:d}=Cr(),m=jo(),g=gm(i,mm(c),d,r==="path"),y=JSON.stringify(g);return O.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:r})},[m,y,r,e,n]),null}function Ha(i){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pS({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:c=!1,unstable_useTransitions:d}){mt(!ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),g=O.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:d,future:{}}),[m,o,c,d]);typeof n=="string"&&(n=xs(n));let{pathname:y="/",search:x="",hash:E="",state:w=null,key:L="default"}=n,G=O.useMemo(()=>{let U=Ai(y,m);return U==null?null:{location:{pathname:U,search:x,hash:E,state:w,key:L},navigationType:r}},[m,y,x,E,w,L,r]);return ea(G!=null,`<Router basename="${m}"> is not able to match the URL "${y}${x}${E}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:O.createElement(Pn.Provider,{value:g},O.createElement(bc.Provider,{children:e,value:G}))}function mS({children:i,location:e}){return tS(Bp(i),e)}function Bp(i,e=[]){let n=[];return O.Children.forEach(i,(r,o)=>{if(!O.isValidElement(r))return;let c=[...e,o];if(r.type===O.Fragment){n.push.apply(n,Bp(r.props.children,c));return}mt(r.type===Ha,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Bp(r.props.children,c)),n.push(d)}),n}var pd="get",md="application/x-www-form-urlencoded";function Xd(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function gS(i){return Xd(i)&&i.tagName.toLowerCase()==="button"}function yS(i){return Xd(i)&&i.tagName.toLowerCase()==="form"}function vS(i){return Xd(i)&&i.tagName.toLowerCase()==="input"}function bS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function _S(i,e){return i.button===0&&(!e||e==="_self")&&!bS(i)}var od=null;function xS(){if(od===null)try{new FormData(document.createElement("form"),0),od=!1}catch{od=!0}return od}var ES=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Np(i){return i!=null&&!ES.has(i)?(ea(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${md}"`),null):i}function AS(i,e){let n,r,o,c,d;if(yS(i)){let m=i.getAttribute("action");r=m?Ai(m,e):null,n=i.getAttribute("method")||pd,o=Np(i.getAttribute("enctype"))||md,c=new FormData(i)}else if(gS(i)||vS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(r=g?Ai(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||pd,o=Np(i.getAttribute("formenctype"))||Np(m.getAttribute("enctype"))||md,c=new FormData(m,i),!xS()){let{name:y,type:x,value:E}=i;if(x==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,E)}}else{if(Xd(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pd,r=null,o=md,d=i}return c&&o==="text/plain"&&(d=c,c=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _m(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function TS(i,e,n,r){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&Ai(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function SS(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function NS(i,e,n){let r=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await SS(c,n);return d.links?d.links():[]}return[]}));return MS(r.flat(1).filter(wS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Jv(i,e,n,r,o,c){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>d(g,y)||m(g,y)):c==="data"?e.filter((g,y)=>{let x=r.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(d(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function RS(i,e,{includeHydrateFallback:n}={}){return CS(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function CS(i){return[...new Set(i)]}function IS(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function MS(i,e){let n=new Set;return new Set(e),i.reduce((r,o)=>{let c=JSON.stringify(IS(o));return n.has(c)||(n.add(c),r.push({key:c,link:o})),r},[])}function F_(){let i=O.useContext(Do);return _m(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function OS(){let i=O.useContext($d);return _m(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var xm=O.createContext(void 0);xm.displayName="FrameworkContext";function G_(){let i=O.useContext(xm);return _m(i,"You must render this element inside a <HydratedRouter> element"),i}function DS(i,e){let n=O.useContext(xm),[r,o]=O.useState(!1),[c,d]=O.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:x,onTouchStart:E}=e,w=O.useRef(null);O.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let U=oe=>{oe.forEach(B=>{d(B.isIntersecting)})},K=new IntersectionObserver(U,{threshold:.5});return w.current&&K.observe(w.current),()=>{K.disconnect()}}},[i]),O.useEffect(()=>{if(r){let U=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(U)}}},[r]);let L=()=>{o(!0)},G=()=>{o(!1),d(!1)};return n?i!=="intent"?[c,w,{}]:[c,w,{onFocus:Yl(m,L),onBlur:Yl(g,G),onMouseEnter:Yl(y,L),onMouseLeave:Yl(x,G),onTouchStart:Yl(E,L)}]:[!1,w,{}]}function Yl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function kS({page:i,...e}){let{router:n}=F_(),r=O.useMemo(()=>I_(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?O.createElement(PS,{page:i,matches:r,...e}):null}function jS(i){let{manifest:e,routeModules:n}=G_(),[r,o]=O.useState([]);return O.useEffect(()=>{let c=!1;return NS(i,e,n).then(d=>{c||o(d)}),()=>{c=!0}},[i,e,n]),r}function PS({page:i,matches:e,...n}){let r=Cr(),{future:o,manifest:c,routeModules:d}=G_(),{basename:m}=F_(),{loaderData:g,matches:y}=OS(),x=O.useMemo(()=>Jv(i,e,y,c,r,"data"),[i,e,y,c,r]),E=O.useMemo(()=>Jv(i,e,y,c,r,"assets"),[i,e,y,c,r]),w=O.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let U=new Set,K=!1;if(e.forEach(B=>{let se=c.routes[B.route.id];!se||!se.hasLoader||(!x.some(pe=>pe.route.id===B.route.id)&&B.route.id in g&&d[B.route.id]?.shouldRevalidate||se.hasClientLoader?K=!0:U.add(B.route.id))}),U.size===0)return[];let oe=TS(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return K&&U.size>0&&oe.searchParams.set("_routes",e.filter(B=>U.has(B.route.id)).map(B=>B.route.id).join(",")),[oe.pathname+oe.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,r,c,x,e,i,d]),L=O.useMemo(()=>RS(E,c),[E,c]),G=jS(E);return O.createElement(O.Fragment,null,w.map(U=>O.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),L.map(U=>O.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),G.map(({key:U,link:K})=>O.createElement("link",{key:U,nonce:n.nonce,...K,crossOrigin:K.crossOrigin??n.crossOrigin})))}function VS(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var LS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LS&&(window.__reactRouterVersion="7.13.0")}catch{}function zS({basename:i,children:e,unstable_useTransitions:n,window:r}){let o=O.useRef();o.current==null&&(o.current=bT({window:r,v5Compat:!0}));let c=o.current,[d,m]=O.useState({action:c.action,location:c.location}),g=O.useCallback(y=>{n===!1?m(y):O.startTransition(()=>m(y))},[n]);return O.useLayoutEffect(()=>c.listen(g),[c,g]),O.createElement(pS,{basename:i,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:n})}var Q_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K_=O.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:c,replace:d,state:m,target:g,to:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:w,...L},G){let{basename:U,unstable_useTransitions:K}=O.useContext(Pn),oe=typeof y=="string"&&Q_.test(y),B=k_(y,U);y=B.to;let se=WT(y,{relative:o}),[pe,_e,ye]=DS(r,L),I=qS(y,{replace:d,state:m,target:g,preventScrollReset:x,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:w,unstable_useTransitions:K});function R(T){e&&e(T),T.defaultPrevented||I(T)}let N=O.createElement("a",{...L,...ye,href:B.absoluteURL||se,onClick:B.isExternal||c?e:R,ref:VS(G,_e),target:g,"data-discover":!oe&&n==="render"?"true":void 0});return pe&&!oe?O.createElement(O.Fragment,null,N,O.createElement(kS,{page:se})):N});K_.displayName="Link";var US=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:c,to:d,viewTransition:m,children:g,...y},x){let E=_c(d,{relative:y.relative}),w=Cr(),L=O.useContext($d),{navigator:G,basename:U}=O.useContext(Pn),K=L!=null&&YS(E)&&m===!0,oe=G.encodeLocation?G.encodeLocation(E).pathname:E.pathname,B=w.pathname,se=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(B=B.toLowerCase(),se=se?se.toLowerCase():null,oe=oe.toLowerCase()),se&&U&&(se=Ai(se,U)||se);const pe=oe!=="/"&&oe.endsWith("/")?oe.length-1:oe.length;let _e=B===oe||!o&&B.startsWith(oe)&&B.charAt(pe)==="/",ye=se!=null&&(se===oe||!o&&se.startsWith(oe)&&se.charAt(oe.length)==="/"),I={isActive:_e,isPending:ye,isTransitioning:K},R=_e?e:void 0,N;typeof r=="function"?N=r(I):N=[r,_e?"active":null,ye?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let T=typeof c=="function"?c(I):c;return O.createElement(K_,{...y,"aria-current":R,className:N,ref:x,style:T,to:d,viewTransition:m},typeof g=="function"?g(I):g)});US.displayName="NavLink";var BS=O.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:c,method:d=pd,action:m,onSubmit:g,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:w,...L},G)=>{let{unstable_useTransitions:U}=O.useContext(Pn),K=QS(),oe=KS(m,{relative:y}),B=d.toLowerCase()==="get"?"get":"post",se=typeof m=="string"&&Q_.test(m),pe=_e=>{if(g&&g(_e),_e.defaultPrevented)return;_e.preventDefault();let ye=_e.nativeEvent.submitter,I=ye?.getAttribute("formmethod")||d,R=()=>K(ye||_e.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:c,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:w});U&&n!==!1?O.startTransition(()=>R()):R()};return O.createElement("form",{ref:G,method:B,action:oe,onSubmit:r?g:pe,...L,"data-discover":!se&&i==="render"?"true":void 0})});BS.displayName="Form";function HS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y_(i){let e=O.useContext(Do);return mt(e,HS(i)),e}function qS(i,{target:e,replace:n,state:r,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=jo(),x=Cr(),E=_c(i,{relative:c});return O.useCallback(w=>{if(_S(w,e)){w.preventDefault();let L=n!==void 0?n:cc(x)===cc(E),G=()=>y(i,{replace:L,state:r,preventScrollReset:o,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:m});g?O.startTransition(()=>G()):G()}},[x,y,E,n,r,e,i,o,c,d,m,g])}var FS=0,GS=()=>`__${String(++FS)}__`;function QS(){let{router:i}=Y_("useSubmit"),{basename:e}=O.useContext(Pn),n=uS(),r=i.fetch,o=i.navigate;return O.useCallback(async(c,d={})=>{let{action:m,method:g,encType:y,formData:x,body:E}=AS(c,e);if(d.navigate===!1){let w=d.fetcherKey||GS();await r(w,n,d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:E,formMethod:d.method||g,formEncType:d.encType||y,flushSync:d.flushSync})}else await o(d.action||m,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:x,body:E,formMethod:d.method||g,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,o,e,n])}function KS(i,{relative:e}={}){let{basename:n}=O.useContext(Pn),r=O.useContext(Ja);mt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={..._c(i||".",{relative:e})},d=Cr();if(i==null){c.search=d.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(x=>x==="")){m.delete("index"),g.filter(E=>E).forEach(E=>m.append("index",E));let x=m.toString();c.search=x?`?${x}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:_i([n,c.pathname])),cc(c)}function YS(i,{relative:e}={}){let n=O.useContext(P_);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Y_("useViewTransitionState"),o=_c(i,{relative:e});if(!n.isTransitioning)return!1;let c=Ai(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=Ai(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nd(o.pathname,d)!=null||Nd(o.pathname,c)!=null}const $S=()=>{};var Zv={};const $_=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},XS=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],d=i[n++],m=i[n++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],d=i[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},X_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const c=i[o],d=o+1<i.length,m=d?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,x=c>>2,E=(c&3)<<4|m>>4;let w=(m&15)<<2|y>>6,L=y&63;g||(L=64,d||(w=64)),r.push(n[x],n[E],n[w],n[L])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray($_(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):XS(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const E=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||m==null||y==null||E==null)throw new JS;const w=c<<2|m>>4;if(r.push(w),y!==64){const L=m<<4&240|y>>2;if(r.push(L),E!==64){const G=y<<6&192|E;r.push(G)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class JS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZS=function(i){const e=$_(i);return X_.encodeByteArray(e,!0)},Rd=function(i){return ZS(i).replace(/\./g,"")},J_=function(i){try{return X_.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function WS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ew=()=>WS().__FIREBASE_DEFAULTS__,tw=()=>{if(typeof process>"u"||typeof Zv>"u")return;const i=Zv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},nw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&J_(i[1]);return e&&JSON.parse(e)},Jd=()=>{try{return $S()||ew()||tw()||nw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Z_=i=>Jd()?.emulatorHosts?.[i],aw=i=>{const e=Z_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},W_=()=>Jd()?.config,ex=i=>Jd()?.[`_${i}`];class iw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Po(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tx(i){return(await fetch(i,{credentials:"include"})).ok}function rw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Rd(JSON.stringify(n)),Rd(JSON.stringify(d)),""].join(".")}const nc={};function sw(){const i={prod:[],emulator:[]};for(const e of Object.keys(nc))nc[e]?i.emulator.push(e):i.prod.push(e);return i}function ow(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Wv=!1;function nx(i,e){if(typeof window>"u"||typeof document>"u"||!Po(window.location.host)||nc[i]===e||nc[i]||Wv)return;nc[i]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",c=sw().prod.length>0;function d(){const w=document.getElementById(r);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,L){w.setAttribute("width","24"),w.setAttribute("id",L),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Wv=!0,d()},w}function x(w,L){w.setAttribute("id",L),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function E(){const w=ow(r),L=n("text"),G=document.getElementById(L)||document.createElement("span"),U=n("learnmore"),K=document.getElementById(U)||document.createElement("a"),oe=n("preprendIcon"),B=document.getElementById(oe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const se=w.element;m(se),x(K,U);const pe=y();g(B,oe),se.append(B,G,K,pe),document.body.appendChild(se)}c?(G.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function cw(){const i=Jd()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function fw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hw(){const i=ln();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function pw(){return!cw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mw(){try{return typeof indexedDB=="object"}catch{return!1}}function gw(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const yw="FirebaseError";class Ci extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yw,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xc.prototype.create)}}class xc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?vw(c,r):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Ci(o,m,r)}}function vw(i,e){return i.replace(bw,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const bw=/\{\$([^}]+)}/g;function _w(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Er(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=i[o],d=e[o];if(eb(c)&&eb(d)){if(!Er(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function eb(i){return i!==null&&typeof i=="object"}function Ec(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Jl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function xw(i,e){const n=new Ew(i,e);return n.subscribe.bind(n)}class Ew{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Aw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Rp),o.error===void 0&&(o.error=Rp),o.complete===void 0&&(o.complete=Rp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Aw(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Rp(){}function Bt(i){return i&&i._delegate?i._delegate:i}class ms{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const us="[DEFAULT]";class Tw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new iw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ww(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&d.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Sw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sw(i){return i===us?void 0:i}function ww(i){return i.instantiationMode==="EAGER"}class Nw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Tw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Be;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Be||(Be={}));const Rw={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},Cw=Be.INFO,Iw={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},Mw=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=Iw[e];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Em{constructor(e){this.name=e,this._logLevel=Cw,this._logHandler=Mw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Rw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const Ow=(i,e)=>e.some(n=>i instanceof n);let tb,nb;function Dw(){return tb||(tb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kw(){return nb||(nb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ax=new WeakMap,Hp=new WeakMap,ix=new WeakMap,Cp=new WeakMap,Am=new WeakMap;function jw(i){const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(yr(i.result)),o()},d=()=>{r(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&ax.set(n,i)}).catch(()=>{}),Am.set(e,i),e}function Pw(i){if(Hp.has(i))return;const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});Hp.set(i,e)}let qp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Hp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||ix.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Vw(i){qp=i(qp)}function Lw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(Ip(this),e,...n);return ix.set(r,e.sort?e.sort():[e]),yr(r)}:kw().includes(i)?function(...e){return i.apply(Ip(this),e),yr(ax.get(this))}:function(...e){return yr(i.apply(Ip(this),e))}}function zw(i){return typeof i=="function"?Lw(i):(i instanceof IDBTransaction&&Pw(i),Ow(i,Dw())?new Proxy(i,qp):i)}function yr(i){if(i instanceof IDBRequest)return jw(i);if(Cp.has(i))return Cp.get(i);const e=zw(i);return e!==i&&(Cp.set(i,e),Am.set(e,i)),e}const Ip=i=>Am.get(i);function Uw(i,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(i,e),m=yr(d);return r&&d.addEventListener("upgradeneeded",g=>{r(yr(d.result),g.oldVersion,g.newVersion,yr(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Bw=["get","getKey","getAll","getAllKeys","count"],Hw=["put","add","delete","clear"],Mp=new Map;function ab(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Mp.get(e))return Mp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=Hw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Bw.includes(n)))return;const c=async function(d,...m){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Mp.set(e,c),c}Vw(i=>({...i,get:(e,n,r)=>ab(e,n)||i.get(e,n,r),has:(e,n)=>!!ab(e,n)||i.has(e,n)}));class qw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Fw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Fw(i){return i.getComponent()?.type==="VERSION"}const Fp="@firebase/app",ib="0.14.7";const Ti=new Em("@firebase/app"),Gw="@firebase/app-compat",Qw="@firebase/analytics-compat",Kw="@firebase/analytics",Yw="@firebase/app-check-compat",$w="@firebase/app-check",Xw="@firebase/auth",Jw="@firebase/auth-compat",Zw="@firebase/database",Ww="@firebase/data-connect",eN="@firebase/database-compat",tN="@firebase/functions",nN="@firebase/functions-compat",aN="@firebase/installations",iN="@firebase/installations-compat",rN="@firebase/messaging",sN="@firebase/messaging-compat",oN="@firebase/performance",lN="@firebase/performance-compat",cN="@firebase/remote-config",uN="@firebase/remote-config-compat",dN="@firebase/storage",fN="@firebase/storage-compat",hN="@firebase/firestore",pN="@firebase/ai",mN="@firebase/firestore-compat",gN="firebase",yN="12.8.0";const Gp="[DEFAULT]",vN={[Fp]:"fire-core",[Gw]:"fire-core-compat",[Kw]:"fire-analytics",[Qw]:"fire-analytics-compat",[$w]:"fire-app-check",[Yw]:"fire-app-check-compat",[Xw]:"fire-auth",[Jw]:"fire-auth-compat",[Zw]:"fire-rtdb",[Ww]:"fire-data-connect",[eN]:"fire-rtdb-compat",[tN]:"fire-fn",[nN]:"fire-fn-compat",[aN]:"fire-iid",[iN]:"fire-iid-compat",[rN]:"fire-fcm",[sN]:"fire-fcm-compat",[oN]:"fire-perf",[lN]:"fire-perf-compat",[cN]:"fire-rc",[uN]:"fire-rc-compat",[dN]:"fire-gcs",[fN]:"fire-gcs-compat",[hN]:"fire-fst",[mN]:"fire-fst-compat",[pN]:"fire-vertex","fire-js":"fire-js",[gN]:"fire-js-all"};const Cd=new Map,bN=new Map,Qp=new Map;function rb(i,e){try{i.container.addComponent(e)}catch(n){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ao(i){const e=i.name;if(Qp.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;Qp.set(e,i);for(const n of Cd.values())rb(n,i);for(const n of bN.values())rb(n,i);return!0}function Tm(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Jn(i){return i==null?!1:i.settings!==void 0}const _N={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new xc("app","Firebase",_N);class xN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}const Vo=yN;function rx(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:Gp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw vr.create("bad-app-name",{appName:String(o)});if(n||(n=W_()),!n)throw vr.create("no-options");const c=Cd.get(o);if(c){if(Er(n,c.options)&&Er(r,c.config))return c;throw vr.create("duplicate-app",{appName:o})}const d=new Nw(o);for(const g of Qp.values())d.addComponent(g);const m=new xN(n,r,d);return Cd.set(o,m),m}function sx(i=Gp){const e=Cd.get(i);if(!e&&i===Gp&&W_())return rx();if(!e)throw vr.create("no-app",{appName:i});return e}function br(i,e,n){let r=vN[i]??i;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(d.join(" "));return}Ao(new ms(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const EN="firebase-heartbeat-database",AN=1,uc="firebase-heartbeat-store";let Op=null;function ox(){return Op||(Op=Uw(EN,AN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(uc)}catch(n){console.warn(n)}}}}).catch(i=>{throw vr.create("idb-open",{originalErrorMessage:i.message})})),Op}async function TN(i){try{const n=(await ox()).transaction(uc),r=await n.objectStore(uc).get(lx(i));return await n.done,r}catch(e){if(e instanceof Ci)Ti.warn(e.message);else{const n=vr.create("idb-get",{originalErrorMessage:e?.message});Ti.warn(n.message)}}}async function sb(i,e){try{const r=(await ox()).transaction(uc,"readwrite");await r.objectStore(uc).put(e,lx(i)),await r.done}catch(n){if(n instanceof Ci)Ti.warn(n.message);else{const r=vr.create("idb-set",{originalErrorMessage:n?.message});Ti.warn(r.message)}}}function lx(i){return`${i.name}!${i.options.appId}`}const SN=1024,wN=30;class NN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ob();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>wN){const o=IN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ti.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ob(),{heartbeatsToSend:n,unsentEntries:r}=RN(this._heartbeatsCache.heartbeats),o=Rd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ti.warn(e),""}}}function ob(){return new Date().toISOString().substring(0,10)}function RN(i,e=SN){const n=[];let r=i.slice();for(const o of i){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),lb(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),lb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mw()?gw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function lb(i){return Rd(JSON.stringify({version:2,heartbeats:i})).length}function IN(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}function MN(i){Ao(new ms("platform-logger",e=>new qw(e),"PRIVATE")),Ao(new ms("heartbeat",e=>new NN(e),"PRIVATE")),br(Fp,ib,i),br(Fp,ib,"esm2020"),br("fire-js","")}MN("");var ON="firebase",DN="12.8.0";br(ON,DN,"app");function cx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kN=cx,ux=new xc("auth","Firebase",cx());const Id=new Em("@firebase/auth");function jN(i,...e){Id.logLevel<=Be.WARN&&Id.warn(`Auth (${Vo}): ${i}`,...e)}function gd(i,...e){Id.logLevel<=Be.ERROR&&Id.error(`Auth (${Vo}): ${i}`,...e)}function ba(i,...e){throw Sm(i,...e)}function Fa(i,...e){return Sm(i,...e)}function dx(i,e,n){const r={...kN(),[e]:n};return new xc("auth","Firebase",r).create(e,{appName:i.name})}function xi(i){return dx(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sm(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return ux.create(i,...e)}function Se(i,e,...n){if(!i)throw Sm(e,...n)}function vi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw gd(e),new Error(e)}function Si(i,e){i||vi(e)}function Kp(){return typeof self<"u"&&self.location?.href||""}function PN(){return cb()==="http:"||cb()==="https:"}function cb(){return typeof self<"u"&&self.location?.protocol||null}function VN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PN()||dw()||"connection"in navigator)?navigator.onLine:!0}function LN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,Si(n>e,"Short delay should be less than long delay!"),this.isMobile=lw()||fw()}get(){return VN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wm(i,e){Si(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class fx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const UN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BN=new Ac(3e4,6e4);function Ii(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Za(i,e,n,r,o={}){return hx(i,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const m=Ec({key:i.config.apiKey,...d}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...c};return uw()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Po(i.emulatorConfig.host)&&(y.credentials="include"),fx.fetch()(await px(i,i.config.apiHost,n,m),y)})}async function hx(i,e,n){i._canInitEmulator=!1;const r={...zN,...e};try{const o=new qN(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw ld(i,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ld(i,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw ld(i,"email-already-in-use",d);if(g==="USER_DISABLED")throw ld(i,"user-disabled",d);const x=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw dx(i,x,y);ba(i,x)}}catch(o){if(o instanceof Ci)throw o;ba(i,"network-request-failed",{message:String(o)})}}async function Tc(i,e,n,r,o={}){const c=await Za(i,e,n,r,o);return"mfaPendingCredential"in c&&ba(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function px(i,e,n,r){const o=`${e}${n}?${r}`,c=i,d=c.config.emulator?wm(i.config,o):`${i.config.apiScheme}://${o}`;return UN.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function HN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fa(this.auth,"network-request-failed")),BN.get())})}}function ld(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Fa(i,e,r);return o.customData._tokenResponse=n,o}function ub(i){return i!==void 0&&i.enterprise!==void 0}class FN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GN(i,e){return Za(i,"GET","/v2/recaptchaConfig",Ii(i,e))}async function QN(i,e){return Za(i,"POST","/v1/accounts:delete",e)}async function Md(i,e){return Za(i,"POST","/v1/accounts:lookup",e)}function ac(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KN(i,e=!1){const n=Bt(i),r=await n.getIdToken(e),o=Nm(r);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:r,authTime:ac(Dp(o.auth_time)),issuedAtTime:ac(Dp(o.iat)),expirationTime:ac(Dp(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Dp(i){return Number(i)*1e3}function Nm(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return gd("JWT malformed, contained fewer than 3 sections"),null;try{const o=J_(n);return o?JSON.parse(o):(gd("Failed to decode base64 JWT payload"),null)}catch(o){return gd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function db(i){const e=Nm(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function To(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ci&&YN(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function YN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class $N{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Yp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ac(this.lastLoginAt),this.creationTime=ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Od(i){const e=i.auth,n=await i.getIdToken(),r=await To(i,Md(e,{idToken:n}));Se(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?mx(o.providerUserInfo):[],d=JN(i.providerData,c),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!d?.length,y=m?g:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Yp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,x)}async function XN(i){const e=Bt(i);await Od(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JN(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function mx(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function ZN(i,e){const n=await hx(i,{},async()=>{const r=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,d=await px(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return i.emulatorConfig&&Po(i.emulatorConfig.host)&&(g.credentials="include"),fx.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WN(i,e){return Za(i,"POST","/v2/accounts:revokeToken",Ii(i,e))}class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):db(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=db(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await ZN(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,d=new yo;return r&&(Se(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Se(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Se(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return vi("not implemented")}}function dr(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ma{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new $N(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Yp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await To(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KN(this,e)}reload(){return XN(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ma({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Od(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await To(this,QN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:E,emailVerified:w,isAnonymous:L,providerData:G,stsTokenManager:U}=n;Se(E&&U,e,"internal-error");const K=yo.fromJSON(this.name,U);Se(typeof E=="string",e,"internal-error"),dr(r,e.name),dr(o,e.name),Se(typeof w=="boolean",e,"internal-error"),Se(typeof L=="boolean",e,"internal-error"),dr(c,e.name),dr(d,e.name),dr(m,e.name),dr(g,e.name),dr(y,e.name),dr(x,e.name);const oe=new ma({uid:E,auth:e,email:o,emailVerified:w,displayName:r,isAnonymous:L,photoURL:d,phoneNumber:c,tenantId:m,stsTokenManager:K,createdAt:y,lastLoginAt:x});return G&&Array.isArray(G)&&(oe.providerData=G.map(B=>({...B}))),g&&(oe._redirectEventId=g),oe}static async _fromIdTokenResponse(e,n,r=!1){const o=new yo;o.updateFromServerResponse(n);const c=new ma({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Od(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?mx(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,m=new yo;m.updateFromIdToken(r);const g=new ma({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Yp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const fb=new Map;function bi(i){Si(i instanceof Function,"Expected a class definition");let e=fb.get(i);return e?(Si(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,fb.set(i,e),e)}class gx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gx.type="NONE";const hb=gx;function yd(i,e,n){return`firebase:${i}:${e}:${n}`}class vo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=yd(this.userKey,o.apiKey,c),this.fullPersistenceKey=yd("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Md(this.auth,{idToken:e}).catch(()=>{});return n?ma._fromGetAccountInfoResponse(this.auth,n,e):null}return ma._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new vo(bi(hb),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||bi(hb);const d=yd(r,e.config.apiKey,e.name);let m=null;for(const y of n)try{const x=await y._get(d);if(x){let E;if(typeof x=="string"){const w=await Md(e,{idToken:x}).catch(()=>{});if(!w)break;E=await ma._fromGetAccountInfoResponse(e,w,x)}else E=ma._fromJSON(e,x);y!==c&&(m=E),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new vo(c,e,r):(c=g[0],m&&await c._set(d,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new vo(c,e,r))}}function pb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_x(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ex(e))return"Blackberry";if(Ax(e))return"Webos";if(vx(e))return"Safari";if((e.includes("chrome/")||bx(e))&&!e.includes("edge/"))return"Chrome";if(xx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function yx(i=ln()){return/firefox\//i.test(i)}function vx(i=ln()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bx(i=ln()){return/crios\//i.test(i)}function _x(i=ln()){return/iemobile/i.test(i)}function xx(i=ln()){return/android/i.test(i)}function Ex(i=ln()){return/blackberry/i.test(i)}function Ax(i=ln()){return/webos/i.test(i)}function Rm(i=ln()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function eR(i=ln()){return Rm(i)&&!!window.navigator?.standalone}function tR(){return hw()&&document.documentMode===10}function Tx(i=ln()){return Rm(i)||xx(i)||Ax(i)||Ex(i)||/windows phone/i.test(i)||_x(i)}function Sx(i,e=[]){let n;switch(i){case"Browser":n=pb(ln());break;case"Worker":n=`${pb(ln())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vo}/${r}`}class nR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((d,m)=>{try{const g=e(c);d(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function aR(i,e={}){return Za(i,"GET","/v2/passwordPolicy",Ii(i,e))}const iR=6;class rR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class sR{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mb(this),this.idTokenSubscription=new mb(this),this.beforeStateQueue=new nR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ux,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Md(this,{idToken:e}),r=await ma._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Od(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(xi(this));const n=e?Bt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aR(this),n=new rR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await WN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bi(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&jN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ir(i){return Bt(i)}class mb{constructor(e){this.auth=e,this.observer=null,this.addObserver=xw(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oR(i){Zd=i}function wx(i){return Zd.loadJS(i)}function lR(){return Zd.recaptchaEnterpriseScript}function cR(){return Zd.gapiScript}function uR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class dR{constructor(){this.enterprise=new fR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class fR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const hR="recaptcha-enterprise",Nx="NO_RECAPTCHA";class pR{constructor(e){this.type=hR,this.auth=Ir(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,m)=>{GN(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new FN(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{m(g)})})}function o(c,d,m){const g=window.grecaptcha;ub(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(Nx)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dR().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(m=>{if(!n&&ub(window.grecaptcha))o(m,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=lR();g.length!==0&&(g+=m),wx(g).then(()=>{o(m,c,d)}).catch(y=>{d(y)})}}).catch(m=>{d(m)})})}}async function gb(i,e,n,r=!1,o=!1){const c=new pR(i);let d;if(o)d=Nx;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Dd(i,e,n,r,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await gb(i,e,n,n==="getOobCode");return r(i,c)}else return r(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await gb(i,e,n,n==="getOobCode");return r(i,d)}else return Promise.reject(c)})}function mR(i,e){const n=Tm(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Er(c,e??{}))return o;ba(o,"already-initialized")}return n.initialize({options:e})}function gR(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(bi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function yR(i,e,n){const r=Ir(i);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=Rx(e),{host:d,port:m}=vR(e),g=m===null?"":`:${m}`,y={url:`${c}//${d}${g}/`},x=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(Er(y,r.config.emulator)&&Er(x,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=x,r.settings.appVerificationDisabledForTesting=!0,Po(d)?(tx(`${c}//${d}${g}`),nx("Auth",!0)):bR()}function Rx(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function vR(i){const e=Rx(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:yb(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:yb(d)}}}function yb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function bR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Cm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,n){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}}async function _R(i,e){return Za(i,"POST","/v1/accounts:update",e)}async function xR(i,e){return Za(i,"POST","/v1/accounts:signUp",e)}async function ER(i,e){return Tc(i,"POST","/v1/accounts:signInWithPassword",Ii(i,e))}async function AR(i,e){return Za(i,"POST","/v1/accounts:sendOobCode",Ii(i,e))}async function TR(i,e){return AR(i,e)}async function SR(i,e){return Tc(i,"POST","/v1/accounts:signInWithEmailLink",Ii(i,e))}async function wR(i,e){return Tc(i,"POST","/v1/accounts:signInWithEmailLink",Ii(i,e))}class dc extends Cm{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new dc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new dc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dd(e,n,"signInWithPassword",ER);case"emailLink":return SR(e,{email:this._email,oobCode:this._password});default:ba(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dd(e,r,"signUpPassword",xR);case"emailLink":return wR(e,{idToken:n,email:this._email,oobCode:this._password});default:ba(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function bo(i,e){return Tc(i,"POST","/v1/accounts:signInWithIdp",Ii(i,e))}const NR="http://localhost";class gs extends Cm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ba("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const d=new gs(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bo(e,n)}buildRequest(){const e={requestUri:NR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ec(n)}return e}}function RR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CR(i){const e=Xl(Jl(i)).link,n=e?Xl(Jl(e)).deep_link_id:null,r=Xl(Jl(i)).deep_link_id;return(r?Xl(Jl(r)).link:null)||r||n||e||i}class Im{constructor(e){const n=Xl(Jl(e)),r=n.apiKey??null,o=n.oobCode??null,c=RR(n.mode??null);Se(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=CR(e);try{return new Im(n)}catch{return null}}}class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,n){return dc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Im.parseLink(n);return Se(r,"argument-error"),dc._fromEmailAndCode(e,r.code,r.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Cx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Sc extends Cx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fr extends Sc{constructor(){super("facebook.com")}static credential(e){return gs._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";class hr extends Sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gs._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hr.credential(n,r)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";class pr extends Sc{constructor(){super("github.com")}static credential(e){return gs._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.GITHUB_SIGN_IN_METHOD="github.com";pr.PROVIDER_ID="github.com";class mr extends Sc{constructor(){super("twitter.com")}static credential(e,n){return gs._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return mr.credential(n,r)}catch{return null}}}mr.TWITTER_SIGN_IN_METHOD="twitter.com";mr.PROVIDER_ID="twitter.com";async function IR(i,e){return Tc(i,"POST","/v1/accounts:signUp",Ii(i,e))}class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await ma._fromIdTokenResponse(e,r,o),d=vb(r);return new ys({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=vb(r);return new ys({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function vb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class kd extends Ci{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,kd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new kd(e,n,r,o)}}function Ix(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?kd._fromErrorAndOperation(i,c,e,r):c})}async function MR(i,e,n=!1){const r=await To(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ys._forOperation(i,"link",r)}async function OR(i,e,n=!1){const{auth:r}=i;if(Jn(r.app))return Promise.reject(xi(r));const o="reauthenticate";try{const c=await To(i,Ix(r,o,e,i),n);Se(c.idToken,r,"internal-error");const d=Nm(c.idToken);Se(d,r,"internal-error");const{sub:m}=d;return Se(i.uid===m,r,"user-mismatch"),ys._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ba(r,"user-mismatch"),c}}async function Mx(i,e,n=!1){if(Jn(i.app))return Promise.reject(xi(i));const r="signIn",o=await Ix(i,r,e),c=await ys._fromIdTokenResponse(i,r,o);return n||await i._updateCurrentUser(c.user),c}async function DR(i,e){return Mx(Ir(i),e)}async function Ox(i){const e=Ir(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kR(i,e,n){const r=Ir(i);await Dd(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",TR)}async function jR(i,e,n){if(Jn(i.app))return Promise.reject(xi(i));const r=Ir(i),d=await Dd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",IR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Ox(i),g}),m=await ys._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(m.user),m}function Dx(i,e,n){return Jn(i.app)?Promise.reject(xi(i)):DR(Bt(i),Lo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ox(i),r})}function PR(i,e){return VR(Bt(i),null,e)}async function VR(i,e,n){const{auth:r}=i,c={idToken:await i.getIdToken(),returnSecureToken:!0};n&&(c.password=n);const d=await To(i,_R(r,c));await i._updateTokensIfNecessary(d,!0)}function LR(i,e,n,r){return Bt(i).onIdTokenChanged(e,n,r)}function zR(i,e,n){return Bt(i).beforeAuthStateChanged(e,n)}function UR(i,e,n,r){return Bt(i).onAuthStateChanged(e,n,r)}const jd="__sak";class kx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jd,"1"),this.storage.removeItem(jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const BR=1e3,HR=10;class jx extends kx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,m,g)=>{this.notifyListeners(d,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);tR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,HR):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},BR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jx.type="LOCAL";const qR=jx;class Px extends kx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Px.type="SESSION";const Vx=Px;function FR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Wd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(d).map(async y=>y(n.origin,c)),g=await FR(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wd.receivers=[];function Mm(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}class GR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((m,g)=>{const y=Mm("",20);o.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(E){const w=E;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(w.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ga(){return window}function QR(i){Ga().location.href=i}function Lx(){return typeof Ga().WorkerGlobalScope<"u"&&typeof Ga().importScripts=="function"}async function KR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YR(){return navigator?.serviceWorker?.controller||null}function $R(){return Lx()?self:null}const zx="firebaseLocalStorageDb",XR=1,Pd="firebaseLocalStorage",Ux="fbase_key";class wc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ef(i,e){return i.transaction([Pd],e?"readwrite":"readonly").objectStore(Pd)}function JR(){const i=indexedDB.deleteDatabase(zx);return new wc(i).toPromise()}function $p(){const i=indexedDB.open(zx,XR);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Pd,{keyPath:Ux})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Pd)?e(r):(r.close(),await JR(),e(await $p()))})})}async function bb(i,e,n){const r=ef(i,!0).put({[Ux]:e,value:n});return new wc(r).toPromise()}async function ZR(i,e){const n=ef(i,!1).get(e),r=await new wc(n).toPromise();return r===void 0?null:r.value}function _b(i,e){const n=ef(i,!0).delete(e);return new wc(n).toPromise()}const WR=800,eC=3;class Bx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $p(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>eC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wd._getInstance($R()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await KR(),!this.activeServiceWorker)return;this.sender=new GR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $p();return await bb(e,jd,"1"),await _b(e,jd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ZR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_b(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=ef(o,!1).getAll();return new wc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Bx.type="LOCAL";const tC=Bx;new Ac(3e4,6e4);function nC(i,e){return e?bi(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Om extends Cm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aC(i){return Mx(i.auth,new Om(i),i.bypassAuthState)}function iC(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),OR(n,new Om(i),i.bypassAuthState)}async function rC(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),MR(n,new Om(i),i.bypassAuthState)}class Hx{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:d,type:m}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aC;case"linkViaPopup":case"linkViaRedirect":return rC;case"reauthViaPopup":case"reauthViaRedirect":return iC;default:ba(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sC=new Ac(2e3,1e4);class go extends Hx{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sC.get())};e()}}go.currentPopupAction=null;const oC="pendingRedirect",vd=new Map;class lC extends Hx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vd.get(this.auth._key());if(!e){try{const r=await cC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vd.set(this.auth._key(),e)}return this.bypassAuthState||vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cC(i,e){const n=fC(e),r=dC(i);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function uC(i,e){vd.set(i._key(),e)}function dC(i){return bi(i._redirectPersistence)}function fC(i){return yd(oC,i.config.apiKey,i.name)}async function hC(i,e,n=!1){if(Jn(i.app))return Promise.reject(xi(i));const r=Ir(i),o=nC(r,e),d=await new lC(r,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const pC=600*1e3;class mC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!qx(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Fa(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pC&&this.cachedEventUids.clear(),this.cachedEventUids.has(xb(e))}saveEventToCache(e){this.cachedEventUids.add(xb(e)),this.lastProcessedEventTime=Date.now()}}function xb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function qx({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function gC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qx(i);default:return!1}}async function yC(i,e={}){return Za(i,"GET","/v1/projects",e)}const vC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bC=/^https?/;async function _C(i){if(i.config.emulator)return;const{authorizedDomains:e}=await yC(i);for(const n of e)try{if(xC(n))return}catch{}ba(i,"unauthorized-domain")}function xC(i){const e=Kp(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!bC.test(n))return!1;if(vC.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const EC=new Ac(3e4,6e4);function Eb(){const i=Ga().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function AC(i){return new Promise((e,n)=>{function r(){Eb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Eb(),n(Fa(i,"network-request-failed"))},timeout:EC.get()})}if(Ga().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ga().gapi?.load)r();else{const o=uR("iframefcb");return Ga()[o]=()=>{gapi.load?r():n(Fa(i,"network-request-failed"))},wx(`${cR()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw bd=null,e})}let bd=null;function TC(i){return bd=bd||AC(i),bd}const SC=new Ac(5e3,15e3),wC="__/auth/iframe",NC="emulator/auth/iframe",RC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IC(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?wm(e,NC):`https://${i.config.authDomain}/${wC}`,r={apiKey:e.apiKey,appName:i.name,v:Vo},o=CC.get(i.config.apiHost);o&&(r.eid=o);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Ec(r).slice(1)}`}async function MC(i){const e=await TC(i),n=Ga().gapi;return Se(n,i,"internal-error"),e.open({where:document.body,url:IC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RC,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=Fa(i,"network-request-failed"),m=Ga().setTimeout(()=>{c(d)},SC.get());function g(){Ga().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{c(d)})}))}const OC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DC=500,kC=600,jC="_blank",PC="http://localhost";class Ab{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VC(i,e,n,r=DC,o=kC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...OC,width:r.toString(),height:o.toString(),top:c,left:d},y=ln().toLowerCase();n&&(m=bx(y)?jC:n),yx(y)&&(e=e||PC,g.scrollbars="yes");const x=Object.entries(g).reduce((w,[L,G])=>`${w}${L}=${G},`,"");if(eR(y)&&m!=="_self")return LC(e||"",m),new Ab(null);const E=window.open(e||"",m,x);Se(E,i,"popup-blocked");try{E.focus()}catch{}return new Ab(E)}function LC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const zC="__/auth/handler",UC="emulator/auth/handler",BC=encodeURIComponent("fac");async function Tb(i,e,n,r,o,c){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:Vo,eventId:o};if(e instanceof Cx){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",_w(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,E]of Object.entries({}))d[x]=E}if(e instanceof Sc){const x=e.getScopes().filter(E=>E!=="");x.length>0&&(d.scopes=x.join(","))}i.tenantId&&(d.tid=i.tenantId);const m=d;for(const x of Object.keys(m))m[x]===void 0&&delete m[x];const g=await i._getAppCheckToken(),y=g?`#${BC}=${encodeURIComponent(g)}`:"";return`${HC(i)}?${Ec(m).slice(1)}${y}`}function HC({config:i}){return i.emulator?wm(i,UC):`https://${i.authDomain}/${zC}`}const kp="webStorageSupport";class qC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vx,this._completeRedirectFn=hC,this._overrideRedirectResult=uC}async _openPopup(e,n,r,o){Si(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Tb(e,n,r,Kp(),o);return VC(e,c,Mm())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await Tb(e,n,r,Kp(),o);return QR(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Si(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await MC(e),r=new mC(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kp,{type:kp},o=>{const c=o?.[0]?.[kp];c!==void 0&&n(!!c),ba(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_C(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Tx()||vx()||Rm()}}const FC=qC;var Sb="@firebase/auth",wb="1.12.0";class GC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function QC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KC(i){Ao(new ms("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=r.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sx(i)},y=new sR(r,o,c,g);return gR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ao(new ms("auth-internal",e=>{const n=Ir(e.getProvider("auth").getImmediate());return(r=>new GC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),br(Sb,wb,QC(i)),br(Sb,wb,"esm2020")}const YC=300,$C=ex("authIdTokenMaxAge")||YC;let Nb=null;const XC=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$C)return;const o=n?.token;Nb!==o&&(Nb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function JC(i=sx()){const e=Tm(i,"auth");if(e.isInitialized())return e.getImmediate();const n=mR(i,{popupRedirectResolver:FC,persistence:[tC,qR,Vx]}),r=ex("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=XC(c.toString());zR(n,d,()=>d(n.currentUser)),LR(n,m=>d(m))}}const o=Z_("auth");return o&&yR(n,`http://${o}`),n}function ZC(){return document.getElementsByTagName("head")?.[0]??document}oR({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const c=Fa("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",ZC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KC("Browser");var Rb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _r,Fx;(function(){var i;function e(I,R){function N(){}N.prototype=R.prototype,I.F=R.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(T,M,j){for(var C=Array(arguments.length-2),De=2;De<arguments.length;De++)C[De-2]=arguments[De];return R.prototype[M].apply(T,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,N){N||(N=0);const T=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)T[M]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(M=0;M<16;++M)T[M]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=I.g[0],N=I.g[1],M=I.g[2];let j=I.g[3],C;C=R+(j^N&(M^j))+T[0]+3614090360&4294967295,R=N+(C<<7&4294967295|C>>>25),C=j+(M^R&(N^M))+T[1]+3905402710&4294967295,j=R+(C<<12&4294967295|C>>>20),C=M+(N^j&(R^N))+T[2]+606105819&4294967295,M=j+(C<<17&4294967295|C>>>15),C=N+(R^M&(j^R))+T[3]+3250441966&4294967295,N=M+(C<<22&4294967295|C>>>10),C=R+(j^N&(M^j))+T[4]+4118548399&4294967295,R=N+(C<<7&4294967295|C>>>25),C=j+(M^R&(N^M))+T[5]+1200080426&4294967295,j=R+(C<<12&4294967295|C>>>20),C=M+(N^j&(R^N))+T[6]+2821735955&4294967295,M=j+(C<<17&4294967295|C>>>15),C=N+(R^M&(j^R))+T[7]+4249261313&4294967295,N=M+(C<<22&4294967295|C>>>10),C=R+(j^N&(M^j))+T[8]+1770035416&4294967295,R=N+(C<<7&4294967295|C>>>25),C=j+(M^R&(N^M))+T[9]+2336552879&4294967295,j=R+(C<<12&4294967295|C>>>20),C=M+(N^j&(R^N))+T[10]+4294925233&4294967295,M=j+(C<<17&4294967295|C>>>15),C=N+(R^M&(j^R))+T[11]+2304563134&4294967295,N=M+(C<<22&4294967295|C>>>10),C=R+(j^N&(M^j))+T[12]+1804603682&4294967295,R=N+(C<<7&4294967295|C>>>25),C=j+(M^R&(N^M))+T[13]+4254626195&4294967295,j=R+(C<<12&4294967295|C>>>20),C=M+(N^j&(R^N))+T[14]+2792965006&4294967295,M=j+(C<<17&4294967295|C>>>15),C=N+(R^M&(j^R))+T[15]+1236535329&4294967295,N=M+(C<<22&4294967295|C>>>10),C=R+(M^j&(N^M))+T[1]+4129170786&4294967295,R=N+(C<<5&4294967295|C>>>27),C=j+(N^M&(R^N))+T[6]+3225465664&4294967295,j=R+(C<<9&4294967295|C>>>23),C=M+(R^N&(j^R))+T[11]+643717713&4294967295,M=j+(C<<14&4294967295|C>>>18),C=N+(j^R&(M^j))+T[0]+3921069994&4294967295,N=M+(C<<20&4294967295|C>>>12),C=R+(M^j&(N^M))+T[5]+3593408605&4294967295,R=N+(C<<5&4294967295|C>>>27),C=j+(N^M&(R^N))+T[10]+38016083&4294967295,j=R+(C<<9&4294967295|C>>>23),C=M+(R^N&(j^R))+T[15]+3634488961&4294967295,M=j+(C<<14&4294967295|C>>>18),C=N+(j^R&(M^j))+T[4]+3889429448&4294967295,N=M+(C<<20&4294967295|C>>>12),C=R+(M^j&(N^M))+T[9]+568446438&4294967295,R=N+(C<<5&4294967295|C>>>27),C=j+(N^M&(R^N))+T[14]+3275163606&4294967295,j=R+(C<<9&4294967295|C>>>23),C=M+(R^N&(j^R))+T[3]+4107603335&4294967295,M=j+(C<<14&4294967295|C>>>18),C=N+(j^R&(M^j))+T[8]+1163531501&4294967295,N=M+(C<<20&4294967295|C>>>12),C=R+(M^j&(N^M))+T[13]+2850285829&4294967295,R=N+(C<<5&4294967295|C>>>27),C=j+(N^M&(R^N))+T[2]+4243563512&4294967295,j=R+(C<<9&4294967295|C>>>23),C=M+(R^N&(j^R))+T[7]+1735328473&4294967295,M=j+(C<<14&4294967295|C>>>18),C=N+(j^R&(M^j))+T[12]+2368359562&4294967295,N=M+(C<<20&4294967295|C>>>12),C=R+(N^M^j)+T[5]+4294588738&4294967295,R=N+(C<<4&4294967295|C>>>28),C=j+(R^N^M)+T[8]+2272392833&4294967295,j=R+(C<<11&4294967295|C>>>21),C=M+(j^R^N)+T[11]+1839030562&4294967295,M=j+(C<<16&4294967295|C>>>16),C=N+(M^j^R)+T[14]+4259657740&4294967295,N=M+(C<<23&4294967295|C>>>9),C=R+(N^M^j)+T[1]+2763975236&4294967295,R=N+(C<<4&4294967295|C>>>28),C=j+(R^N^M)+T[4]+1272893353&4294967295,j=R+(C<<11&4294967295|C>>>21),C=M+(j^R^N)+T[7]+4139469664&4294967295,M=j+(C<<16&4294967295|C>>>16),C=N+(M^j^R)+T[10]+3200236656&4294967295,N=M+(C<<23&4294967295|C>>>9),C=R+(N^M^j)+T[13]+681279174&4294967295,R=N+(C<<4&4294967295|C>>>28),C=j+(R^N^M)+T[0]+3936430074&4294967295,j=R+(C<<11&4294967295|C>>>21),C=M+(j^R^N)+T[3]+3572445317&4294967295,M=j+(C<<16&4294967295|C>>>16),C=N+(M^j^R)+T[6]+76029189&4294967295,N=M+(C<<23&4294967295|C>>>9),C=R+(N^M^j)+T[9]+3654602809&4294967295,R=N+(C<<4&4294967295|C>>>28),C=j+(R^N^M)+T[12]+3873151461&4294967295,j=R+(C<<11&4294967295|C>>>21),C=M+(j^R^N)+T[15]+530742520&4294967295,M=j+(C<<16&4294967295|C>>>16),C=N+(M^j^R)+T[2]+3299628645&4294967295,N=M+(C<<23&4294967295|C>>>9),C=R+(M^(N|~j))+T[0]+4096336452&4294967295,R=N+(C<<6&4294967295|C>>>26),C=j+(N^(R|~M))+T[7]+1126891415&4294967295,j=R+(C<<10&4294967295|C>>>22),C=M+(R^(j|~N))+T[14]+2878612391&4294967295,M=j+(C<<15&4294967295|C>>>17),C=N+(j^(M|~R))+T[5]+4237533241&4294967295,N=M+(C<<21&4294967295|C>>>11),C=R+(M^(N|~j))+T[12]+1700485571&4294967295,R=N+(C<<6&4294967295|C>>>26),C=j+(N^(R|~M))+T[3]+2399980690&4294967295,j=R+(C<<10&4294967295|C>>>22),C=M+(R^(j|~N))+T[10]+4293915773&4294967295,M=j+(C<<15&4294967295|C>>>17),C=N+(j^(M|~R))+T[1]+2240044497&4294967295,N=M+(C<<21&4294967295|C>>>11),C=R+(M^(N|~j))+T[8]+1873313359&4294967295,R=N+(C<<6&4294967295|C>>>26),C=j+(N^(R|~M))+T[15]+4264355552&4294967295,j=R+(C<<10&4294967295|C>>>22),C=M+(R^(j|~N))+T[6]+2734768916&4294967295,M=j+(C<<15&4294967295|C>>>17),C=N+(j^(M|~R))+T[13]+1309151649&4294967295,N=M+(C<<21&4294967295|C>>>11),C=R+(M^(N|~j))+T[4]+4149444226&4294967295,R=N+(C<<6&4294967295|C>>>26),C=j+(N^(R|~M))+T[11]+3174756917&4294967295,j=R+(C<<10&4294967295|C>>>22),C=M+(R^(j|~N))+T[2]+718787259&4294967295,M=j+(C<<15&4294967295|C>>>17),C=N+(j^(M|~R))+T[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+j&4294967295}r.prototype.v=function(I,R){R===void 0&&(R=I.length);const N=R-this.blockSize,T=this.C;let M=this.h,j=0;for(;j<R;){if(M==0)for(;j<=N;)o(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<R;)if(T[M++]=I.charCodeAt(j++),M==this.blockSize){o(this,T),M=0;break}}else for(;j<R;)if(T[M++]=I[j++],M==this.blockSize){o(this,T),M=0;break}}this.h=M,this.o+=R},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,N=0;N<4;++N)for(let T=0;T<32;T+=8)I[R++]=this.g[N]>>>T&255;return I};function c(I,R){var N=m;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=R(I)}function d(I,R){this.h=R;const N=[];let T=!0;for(let M=I.length-1;M>=0;M--){const j=I[M]|0;T&&j==R||(N[M]=j,T=!1)}this.g=N}var m={};function g(I){return-128<=I&&I<128?c(I,function(R){return new d([R|0],R<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return E;if(I<0)return K(y(-I));const R=[];let N=1;for(let T=0;I>=N;T++)R[T]=I/N|0,N*=4294967296;return new d(R,0)}function x(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return K(x(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(R,8));let T=E;for(let j=0;j<I.length;j+=8){var M=Math.min(8,I.length-j);const C=parseInt(I.substring(j,j+M),R);M<8?(M=y(Math.pow(R,M)),T=T.j(M).add(y(C))):(T=T.j(N),T=T.add(y(C)))}return T}var E=g(0),w=g(1),L=g(16777216);i=d.prototype,i.m=function(){if(U(this))return-K(this).m();let I=0,R=1;for(let N=0;N<this.g.length;N++){const T=this.i(N);I+=(T>=0?T:4294967296+T)*R,R*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(G(this))return"0";if(U(this))return"-"+K(this).toString(I);const R=y(Math.pow(I,6));var N=this;let T="";for(;;){const M=pe(N,R).g;N=oe(N,M.j(R));let j=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=M,G(N))return j+T;for(;j.length<6;)j="0"+j;T=j+T}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function G(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function U(I){return I.h==-1}i.l=function(I){return I=oe(this,I),U(I)?-1:G(I)?0:1};function K(I){const R=I.g.length,N=[];for(let T=0;T<R;T++)N[T]=~I.g[T];return new d(N,~I.h).add(w)}i.abs=function(){return U(this)?K(this):this},i.add=function(I){const R=Math.max(this.g.length,I.g.length),N=[];let T=0;for(let M=0;M<=R;M++){let j=T+(this.i(M)&65535)+(I.i(M)&65535),C=(j>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);T=C>>>16,j&=65535,C&=65535,N[M]=C<<16|j}return new d(N,N[N.length-1]&-2147483648?-1:0)};function oe(I,R){return I.add(K(R))}i.j=function(I){if(G(this)||G(I))return E;if(U(this))return U(I)?K(this).j(K(I)):K(K(this).j(I));if(U(I))return K(this.j(K(I)));if(this.l(L)<0&&I.l(L)<0)return y(this.m()*I.m());const R=this.g.length+I.g.length,N=[];for(var T=0;T<2*R;T++)N[T]=0;for(T=0;T<this.g.length;T++)for(let M=0;M<I.g.length;M++){const j=this.i(T)>>>16,C=this.i(T)&65535,De=I.i(M)>>>16,Ke=I.i(M)&65535;N[2*T+2*M]+=C*Ke,B(N,2*T+2*M),N[2*T+2*M+1]+=j*Ke,B(N,2*T+2*M+1),N[2*T+2*M+1]+=C*De,B(N,2*T+2*M+1),N[2*T+2*M+2]+=j*De,B(N,2*T+2*M+2)}for(I=0;I<R;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=R;I<2*R;I++)N[I]=0;return new d(N,0)};function B(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function se(I,R){this.g=I,this.h=R}function pe(I,R){if(G(R))throw Error("division by zero");if(G(I))return new se(E,E);if(U(I))return R=pe(K(I),R),new se(K(R.g),K(R.h));if(U(R))return R=pe(I,K(R)),new se(K(R.g),R.h);if(I.g.length>30){if(U(I)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var N=w,T=R;T.l(I)<=0;)N=_e(N),T=_e(T);var M=ye(N,1),j=ye(T,1);for(T=ye(T,2),N=ye(N,2);!G(T);){var C=j.add(T);C.l(I)<=0&&(M=M.add(N),j=C),T=ye(T,1),N=ye(N,1)}return R=oe(I,M.j(R)),new se(M,R)}for(M=E;I.l(R)>=0;){for(N=Math.max(1,Math.floor(I.m()/R.m())),T=Math.ceil(Math.log(N)/Math.LN2),T=T<=48?1:Math.pow(2,T-48),j=y(N),C=j.j(R);U(C)||C.l(I)>0;)N-=T,j=y(N),C=j.j(R);G(j)&&(j=w),M=M.add(j),I=oe(I,C)}return new se(M,I)}i.B=function(I){return pe(this,I).h},i.and=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let T=0;T<R;T++)N[T]=this.i(T)&I.i(T);return new d(N,this.h&I.h)},i.or=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let T=0;T<R;T++)N[T]=this.i(T)|I.i(T);return new d(N,this.h|I.h)},i.xor=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let T=0;T<R;T++)N[T]=this.i(T)^I.i(T);return new d(N,this.h^I.h)};function _e(I){const R=I.g.length+1,N=[];for(let T=0;T<R;T++)N[T]=I.i(T)<<1|I.i(T-1)>>>31;return new d(N,I.h)}function ye(I,R){const N=R>>5;R%=32;const T=I.g.length-N,M=[];for(let j=0;j<T;j++)M[j]=R>0?I.i(j+N)>>>R|I.i(j+N+1)<<32-R:I.i(j+N);return new d(M,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Fx=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=x,_r=d}).apply(typeof Rb<"u"?Rb:typeof self<"u"?self:typeof window<"u"?window:{});var cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gx,Zl,Qx,_d,Xp,Kx,Yx,$x;(function(){var i,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cd=="object"&&cd];for(var v=0;v<u.length;++v){var _=u[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function o(u,v){if(v)e:{var _=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var H=u[S];if(!(H in _))break e;_=_[H]}u=u[u.length-1],S=_[u],v=v(S),v!=S&&v!=null&&e(_,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var _=[],S;for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&_.push([S,v[S]]);return _}});var c=c||{},d=this||self;function m(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function g(u,v,_){return u.call.apply(u.bind,arguments)}function y(u,v,_){return y=g,y.apply(null,arguments)}function x(u,v){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function E(u,v){function _(){}_.prototype=v.prototype,u.Z=v.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(S,H,$){for(var ue=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ue[Me-2]=arguments[Me];return v.prototype[H].apply(S,ue)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function L(u){const v=u.length;if(v>0){const _=Array(v);for(let S=0;S<v;S++)_[S]=u[S];return _}return[]}function G(u,v){for(let S=1;S<arguments.length;S++){const H=arguments[S];var _=typeof H;if(_=_!="object"?_:H?Array.isArray(H)?"array":_:"null",_=="array"||_=="object"&&typeof H.length=="number"){_=u.length||0;const $=H.length||0;u.length=_+$;for(let ue=0;ue<$;ue++)u[_+ue]=H[ue]}else u.push(H)}}class U{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function K(u){d.setTimeout(()=>{throw u},0)}function oe(){var u=I;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class B{constructor(){this.h=this.g=null}add(v,_){const S=se.get();S.set(v,_),this.h?this.h.next=S:this.g=S,this.h=S}}var se=new U(()=>new pe,u=>u.reset());class pe{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,ye=!1,I=new B,R=()=>{const u=Promise.resolve(void 0);_e=()=>{u.then(N)}};function N(){for(var u;u=oe();){try{u.h.call(u.g)}catch(_){K(_)}var v=se;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}ye=!1}function T(){this.u=this.u,this.C=this.C}T.prototype.u=!1,T.prototype.dispose=function(){this.u||(this.u=!0,this.N())},T.prototype[Symbol.dispose]=function(){this.dispose()},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,v),d.removeEventListener("test",_,v)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function De(u,v){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}E(De,M),De.prototype.init=function(u,v){const _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(_=="mouseover"?v=u.fromElement:_=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&De.Z.h.call(this)},De.prototype.h=function(){De.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ke="closure_listenable_"+(Math.random()*1e6|0),J=0;function ce(u,v,_,S,H){this.listener=u,this.proxy=null,this.src=v,this.type=_,this.capture=!!S,this.ha=H,this.key=++J,this.da=this.fa=!1}function Z(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function me(u,v,_){for(const S in u)v.call(_,u[S],S,u)}function xe(u,v){for(const _ in u)v.call(void 0,u[_],_,u)}function k(u){const v={};for(const _ in u)v[_]=u[_];return v}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,v){let _,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(_ in S)u[_]=S[_];for(let $=0;$<W.length;$++)_=W[$],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function te(u){this.src=u,this.g={},this.h=0}te.prototype.add=function(u,v,_,S,H){const $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);const ue=de(u,v,S,H);return ue>-1?(v=u[ue],_||(v.fa=!1)):(v=new ce(v,this.src,$,!!S,H),v.fa=_,u.push(v)),v};function le(u,v){const _=v.type;if(_ in u.g){var S=u.g[_],H=Array.prototype.indexOf.call(S,v,void 0),$;($=H>=0)&&Array.prototype.splice.call(S,H,1),$&&(Z(v),u.g[_].length==0&&(delete u.g[_],u.h--))}}function de(u,v,_,S){for(let H=0;H<u.length;++H){const $=u[H];if(!$.da&&$.listener==v&&$.capture==!!_&&$.ha==S)return H}return-1}var be="closure_lm_"+(Math.random()*1e6|0),je={};function Fe(u,v,_,S,H){if(Array.isArray(v)){for(let $=0;$<v.length;$++)Fe(u,v[$],_,S,H);return null}return _=Tn(_),u&&u[Ke]?u.J(v,_,m(S)?!!S.capture:!1,H):fn(u,v,_,!1,S,H)}function fn(u,v,_,S,H,$){if(!v)throw Error("Invalid event type");const ue=m(H)?!!H.capture:!!H;let Me=Qt(u);if(Me||(u[be]=Me=new te(u)),_=Me.add(v,_,S,ue,$),_.proxy)return _;if(S=ta(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)j||(H=ue),H===void 0&&(H=!1),u.addEventListener(v.toString(),S,H);else if(u.attachEvent)u.attachEvent(Y(v.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ta(){function u(_){return v.call(u.src,u.listener,_)}const v=Pe;return u}function Mi(u,v,_,S,H){if(Array.isArray(v))for(var $=0;$<v.length;$++)Mi(u,v[$],_,S,H);else S=m(S)?!!S.capture:!!S,_=Tn(_),u&&u[Ke]?(u=u.i,$=String(v).toString(),$ in u.g&&(v=u.g[$],_=de(v,_,S,H),_>-1&&(Z(v[_]),Array.prototype.splice.call(v,_,1),v.length==0&&(delete u.g[$],u.h--)))):u&&(u=Qt(u))&&(v=u.g[v.toString()],u=-1,v&&(u=de(v,_,S,H)),(_=u>-1?v[u]:null)&&Oi(_))}function Oi(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[Ke])le(v.i,u);else{var _=u.type,S=u.proxy;v.removeEventListener?v.removeEventListener(_,S,u.capture):v.detachEvent?v.detachEvent(Y(_),S):v.addListener&&v.removeListener&&v.removeListener(S),(_=Qt(v))?(le(_,u),_.h==0&&(_.src=null,v[be]=null)):Z(u)}}}function Y(u){return u in je?je[u]:je[u]="on"+u}function Pe(u,v){if(u.da)u=!0;else{v=new De(v,this);const _=u.listener,S=u.ha||u.src;u.fa&&Oi(u),u=_.call(S,v)}return u}function Qt(u){return u=u[be],u instanceof te?u:null}var na="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tn(u){return typeof u=="function"?u:(u[na]||(u[na]=function(v){return u.handleEvent(v)}),u[na])}function yt(){T.call(this),this.i=new te(this),this.M=this,this.G=null}E(yt,T),yt.prototype[Ke]=!0,yt.prototype.removeEventListener=function(u,v,_,S){Mi(this,u,v,_,S)};function wt(u,v){var _,S=u.G;if(S)for(_=[];S;S=S.G)_.push(S);if(u=u.M,S=v.type||v,typeof v=="string")v=new M(v,u);else if(v instanceof M)v.target=v.target||u;else{var H=v;v=new M(S,u),V(v,H)}H=!0;let $,ue;if(_)for(ue=_.length-1;ue>=0;ue--)$=v.g=_[ue],H=nn($,S,!0,v)&&H;if($=v.g=u,H=nn($,S,!0,v)&&H,H=nn($,S,!1,v)&&H,_)for(ue=0;ue<_.length;ue++)$=v.g=_[ue],H=nn($,S,!1,v)&&H}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const _=u.g[v];for(let S=0;S<_.length;S++)Z(_[S]);delete u.g[v],u.h--}}this.G=null},yt.prototype.J=function(u,v,_,S){return this.i.add(String(u),v,!1,_,S)},yt.prototype.K=function(u,v,_,S){return this.i.add(String(u),v,!0,_,S)};function nn(u,v,_,S){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let $=0;$<v.length;++$){const ue=v[$];if(ue&&!ue.da&&ue.capture==_){const Me=ue.listener,Et=ue.ha||ue.src;ue.fa&&le(u.i,ue),H=Me.call(Et,S)!==!1&&H}}return H&&!S.defaultPrevented}function hn(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(u,v||0)}function kr(u){u.g=hn(()=>{u.g=null,u.i&&(u.i=!1,kr(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class cn extends T{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:kr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(u){T.call(this),this.h=u,this.g={}}E(jr,T);var Go=[];function Qo(u){me(u.g,function(v,_){this.g.hasOwnProperty(_)&&Oi(v)},u),u.g={}}jr.prototype.N=function(){jr.Z.N.call(this),Qo(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Di=d.JSON.stringify,Ef=d.JSON.parse,Dc=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function kc(){}function jc(){}var aa={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){M.call(this,"d")}E(Kt,M);function Vn(){M.call(this,"c")}E(Vn,M);var xt={},Pc=null;function Ts(){return Pc=Pc||new yt}xt.Ia="serverreachability";function Vc(u){M.call(this,xt.Ia,u)}E(Vc,M);function xa(u){const v=Ts();wt(v,new Vc(v))}xt.STAT_EVENT="statevent";function Pr(u,v){M.call(this,xt.STAT_EVENT,u),this.stat=v}E(Pr,M);function Nt(u){const v=Ts();wt(v,new Pr(v,u))}xt.Ja="timingevent";function Ea(u,v){M.call(this,xt.Ja,u),this.size=v}E(Ea,M);function Aa(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},v)}function ia(){this.g=!0}ia.prototype.ua=function(){this.g=!1};function Af(u,v,_,S,H,$){u.info(function(){if(u.g)if($){var ue="",Me=$.split("&");for(let Xe=0;Xe<Me.length;Xe++){var Et=Me[Xe].split("=");if(Et.length>1){const ht=Et[0];Et=Et[1];const Bn=ht.split("_");ue=Bn.length>=2&&Bn[1]=="type"?ue+(ht+"="+Et+"&"):ue+(ht+"=redacted&")}}}else ue=null;else ue=$;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+v+`
`+_+`
`+ue})}function Lc(u,v,_,S,H,$,ue){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+v+`
`+_+`
`+$+" "+ue})}function Ta(u,v,_,S){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+Tf(u,_)+(S?" "+S:"")})}function Vr(u,v){u.info(function(){return"TIMEOUT: "+v})}ia.prototype.info=function(){};function Tf(u,v){if(!u.g)return v;if(!v)return null;try{const $=JSON.parse(v);if($){for(u=0;u<$.length;u++)if(Array.isArray($[u])){var _=$[u];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var H=S[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ue=1;ue<S.length;ue++)S[ue]=""}}}}return Di($)}catch{return v}}var Lr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yo;function zr(){}E(zr,kc),zr.prototype.g=function(){return new XMLHttpRequest},Yo=new zr;function Wa(u){return encodeURIComponent(String(u))}function zc(u){var v=1;u=u.split(":");const _=[];for(;v>0&&u.length;)_.push(u.shift()),v--;return u.length&&_.push(u.join(":")),_}function ra(u,v,_,S){this.j=u,this.i=v,this.l=_,this.S=S||1,this.V=new jr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new sa}function sa(){this.i=null,this.g="",this.h=!1}var Rt={},Ht={};function Sa(u,v,_){u.M=1,u.A=Ur(It(v)),u.u=_,u.R=!0,Ss(u,null)}function Ss(u,v){u.F=Date.now(),wa(u),u.B=It(u.A);var _=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Cs(_.i,"t",S),u.C=0,_=u.j.L,u.h=new sa,u.g=eu(u.j,_?v:null,!u.u),u.P>0&&(u.O=new cn(y(u.Y,u,u.g),u.P)),v=u.V,_=u.g,S=u.ba;var H="readystatechange";Array.isArray(H)||(H&&(Go[0]=H.toString()),H=Go);for(let $=0;$<H.length;$++){const ue=Fe(_,H[$],S||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=u.J?k(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),xa(),Af(u.i,u.v,u.B,u.l,u.S,u.u)}ra.prototype.ba=function(u){u=u.target;const v=this.O;v&&ca(u)==3?v.j():this.Y(u)},ra.prototype.Y=function(u){try{if(u==this.g)e:{const Me=ca(this.g),Et=this.g.ya(),Xe=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||Me!=4||Et==7||(Et==8||Xe<=0?xa(3):xa(2)),Na(this);var v=this.g.ca();this.X=v;var _=Sf(this);if(this.o=v==200,Lc(this.i,this.v,this.B,this.l,this.S,Me,v),this.o){if(this.U&&!this.L){t:{if(this.g){var S,H=this.g;if((S=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var $=S;break t}}$=null}if(u=$)Ta(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ra(this,u);else{this.o=!1,this.m=3,Nt(12),Sn(this),Ln(this);break e}}if(this.R){u=!0;let ht;for(;!this.K&&this.C<_.length;)if(ht=Bc(this,_),ht==Ht){Me==4&&(this.m=4,Nt(14),u=!1),Ta(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==Rt){this.m=4,Nt(15),Ta(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Ta(this.i,this.l,ht,null),Ra(this,ht);if(Uc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||_.length!=0||this.h.h||(this.m=1,Nt(16),u=!1),this.o=this.o&&u,!u)Ta(this.i,this.l,_,"[Invalid Chunked Response]"),Sn(this),Ln(this);else if(_.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),cl(ue),ue.P=!0,Nt(11))}}else Ta(this.i,this.l,_,null),Ra(this,_);Me==4&&Sn(this),this.o&&!this.K&&(Me==4?Xc(this.j,this):(this.o=!1,wa(this)))}else ti(this.g),v==400&&_.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),Sn(this),Ln(this)}}}catch{}};function Sf(u){if(!Uc(u))return u.g.la();const v=Yt(u.g);if(v==="")return"";let _="";const S=v.length,H=ca(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),Ln(u),"";u.h.i=new d.TextDecoder}for(let $=0;$<S;$++)u.h.h=!0,_+=u.h.i.decode(v[$],{stream:!(H&&$==S-1)});return v.length=0,u.h.g+=_,u.C=0,u.h.g}function Uc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Bc(u,v){var _=u.C,S=v.indexOf(`
`,_);return S==-1?Ht:(_=Number(v.substring(_,S)),isNaN(_)?Rt:(S+=1,S+_>v.length?Ht:(v=v.slice(S,S+_),u.C=S+_,v)))}ra.prototype.cancel=function(){this.K=!0,Sn(this)};function wa(u){u.T=Date.now()+u.H,ws(u,u.H)}function ws(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Aa(y(u.aa,u),v)}function Na(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ra.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Vr(this.i,this.B),this.M!=2&&(xa(),Nt(17)),Sn(this),this.m=2,Ln(this)):ws(this,this.T-u)};function Ln(u){u.j.I==0||u.K||Xc(u.j,u)}function Sn(u){Na(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,Qo(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function Ra(u,v){try{var _=u.j;if(_.I!=0&&(_.g==u||Ia(_.h,u))){if(!u.L&&Ia(_.h,u)&&_.I==3){try{var S=_.Ba.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ks(_),Bi(_);else break e;Kr(_),Nt(18)}}else _.xa=H[1],0<_.xa-_.K&&H[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Aa(y(_.Va,_),6e3));Ca(_.h)<=1&&_.ta&&(_.ta=void 0)}else Pa(_,11)}else if((u.L||_.g==u)&&ks(_),!C(v))for(H=_.Ba.g.parse(v),v=0;v<H.length;v++){let Xe=H[v];const ht=Xe[0];if(!(ht<=_.K))if(_.K=ht,Xe=Xe[1],_.I==2)if(Xe[0]=="c"){_.M=Xe[1],_.ba=Xe[2];const Bn=Xe[3];Bn!=null&&(_.ka=Bn,_.j.info("VER="+_.ka));const Va=Xe[4];Va!=null&&(_.za=Va,_.j.info("SVER="+_.za));const ua=Xe[5];ua!=null&&typeof ua=="number"&&ua>0&&(S=1.5*ua,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const da=u.g;if(da){const Yr=da.g?da.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yr){var $=S.h;$.g||Yr.indexOf("spdy")==-1&&Yr.indexOf("quic")==-1&&Yr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Jo($,$.h),$.h=null))}if(S.G){const js=da.g?da.g.getResponseHeader("X-HTTP-Session-Id"):null;js&&(S.wa=js,et(S.J,S.G,js))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var ue=u;if(S.na=Wc(S,S.L?S.ba:null,S.W),ue.L){Zo(S.h,ue);var Me=ue,Et=S.O;Et&&(Me.H=Et),Me.D&&(Na(Me),wa(Me)),S.g=ue}else Yc(S);_.i.length>0&&ja(_)}else Xe[0]!="stop"&&Xe[0]!="close"||Pa(_,7);else _.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Pa(_,7):ol(_):Xe[0]!="noop"&&_.l&&_.l.qa(Xe),_.A=0)}}xa(4)}catch{}}var Ct=class{constructor(u,v){this.g=u,this.map=v}};function $o(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ca(u){return u.h?1:u.g?u.g.size:0}function Ia(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function Jo(u,v){u.g?u.g.add(v):u.h=v}function Zo(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}$o.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const _ of u.g.values())v=v.concat(_.G);return v}return L(u.i)}var Hc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ns(u,v){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const S=u[_].indexOf("=");let H,$=null;S>=0?(H=u[_].substring(0,S),$=u[_].substring(S+1)):H=u[_],v(H,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function wn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof wn?(this.l=u.l,qt(this,u.j),this.o=u.o,this.g=u.g,ki(this,u.u),this.h=u.h,el(this,Qc(u.i)),this.m=u.m):u&&(v=String(u).match(Hc))?(this.l=!1,qt(this,v[1]||"",!0),this.o=Ma(v[2]||""),this.g=Ma(v[3]||"",!0),ki(this,v[4]),this.h=Ma(v[5]||"",!0),el(this,v[6]||"",!0),this.m=Ma(v[7]||"")):(this.l=!1,this.i=new Pi(null,this.l))}wn.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(Br(v,Rs,!0),":");var _=this.g;return(_||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Br(v,Rs,!0),"@"),u.push(Wa(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Br(_,_.charAt(0)=="/"?tl:qc,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Br(_,Fc)),u.join("")},wn.prototype.resolve=function(u){const v=It(this);let _=!!u.j;_?qt(v,u.j):_=!!u.o,_?v.o=u.o:_=!!u.g,_?v.g=u.g:_=u.u!=null;var S=u.h;if(_)ki(v,u.u);else if(_=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var H=v.h.lastIndexOf("/");H!=-1&&(S=v.h.slice(0,H+1)+S)}if(H=S,H==".."||H==".")S="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){S=H.lastIndexOf("/",0)==0,H=H.split("/");const $=[];for(let ue=0;ue<H.length;){const Me=H[ue++];Me=="."?S&&ue==H.length&&$.push(""):Me==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),S&&ue==H.length&&$.push("")):($.push(Me),S=!0)}S=$.join("/")}else S=H}return _?v.h=S:_=u.i.toString()!=="",_?el(v,Qc(u.i)):_=!!u.m,_&&(v.m=u.m),v};function It(u){return new wn(u)}function qt(u,v,_){u.j=_?Ma(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function ki(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function el(u,v,_){v instanceof Pi?(u.i=v,Is(u.i,u.l)):(_||(v=Br(v,ji)),u.i=new Pi(v,u.l))}function et(u,v,_){u.i.set(v,_)}function Ur(u){return et(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ma(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Br(u,v,_){return typeof u=="string"?(u=encodeURI(u).replace(v,pn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Rs=/[#\/\?@]/g,qc=/[#\?:]/g,tl=/[#\?]/g,ji=/[#\?@]/g,Fc=/#/g;function Pi(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ns(u.i,function(v,_){u.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}i=Pi.prototype,i.add=function(u,v){mn(this),this.i=null,u=Vi(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(v),this.h+=1,this};function Gc(u,v){mn(u),v=Vi(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function nl(u,v){return mn(u),v=Vi(u,v),u.g.has(v)}i.forEach=function(u,v){mn(this),this.g.forEach(function(_,S){_.forEach(function(H){u.call(v,H,S,this)},this)},this)};function al(u,v){mn(u);let _=[];if(typeof v=="string")nl(u,v)&&(_=_.concat(u.g.get(Vi(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)_=_.concat(u[v]);return _}i.set=function(u,v){return mn(this),this.i=null,u=Vi(this,u),nl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},i.get=function(u,v){return u?(u=al(this,u),u.length>0?String(u[0]):v):v};function Cs(u,v,_){Gc(u,v),_.length>0&&(u.i=null,u.g.set(Vi(u,v),L(_)),u.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let S=0;S<v.length;S++){var _=v[S];const H=Wa(_);_=al(this,_);for(let $=0;$<_.length;$++){let ue=H;_[$]!==""&&(ue+="="+Wa(_[$])),u.push(ue)}}return this.i=u.join("&")};function Qc(u){const v=new Pi;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function Vi(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Is(u,v){v&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(_,S){const H=S.toLowerCase();S!=H&&(Gc(this,S),Cs(this,H,_))},u)),u.j=v}function oa(u,v){const _=new ia;if(d.Image){const S=new Image;S.onload=x(zn,_,"TestLoadImage: loaded",!0,v,S),S.onerror=x(zn,_,"TestLoadImage: error",!1,v,S),S.onabort=x(zn,_,"TestLoadImage: abort",!1,v,S),S.ontimeout=x(zn,_,"TestLoadImage: timeout",!1,v,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else v(!1)}function il(u,v){const _=new ia,S=new AbortController,H=setTimeout(()=>{S.abort(),zn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:S.signal}).then($=>{clearTimeout(H),$.ok?zn(_,"TestPingServer: ok",!0,v):zn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),zn(_,"TestPingServer: error",!1,v)})}function zn(u,v,_,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(_)}catch{}}function Li(){this.g=new Dc}function Oa(u){this.i=u.Sb||null,this.h=u.ab||!1}E(Oa,kc),Oa.prototype.g=function(){return new Hr(this.i,this.h)};function Hr(u,v){yt.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Hr,yt),i=Hr.prototype,i.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,la(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zi(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,la(this)),this.g&&(this.readyState=3,la(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ms(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ms(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?zi(this):la(this),this.readyState==3&&Ms(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,zi(this))},i.Na=function(u){this.g&&(this.response=u,zi(this))},i.ga=function(){this.g&&zi(this)};function zi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,la(u)}i.setRequestHeader=function(u,v){this.A.append(u,v)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=v.next();return u.join(`\r
`)};function la(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let v="";return me(u,function(_,S){v+=S,v+=":",v+=_,v+=`\r
`}),v}function qr(u,v,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Un(_),typeof u=="string"?_!=null&&Wa(_):et(u,v,_))}function at(u){yt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(at,yt);var Da=/^https?$/i,rl=["POST","PUT"];i=at.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,v,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yo.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch($){Fr(this,$);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)_.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())_.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),H=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(rl,v,void 0)>=0)||S||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ue]of _)this.g.setRequestHeader($,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch($){Fr(this,$)}};function Fr(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,sl(u),ei(u)}function sl(u){u.A||(u.A=!0,wt(u,"complete"),wt(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,wt(this,"complete"),wt(this,"abort"),ei(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),at.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Gr(this):this.Xa())},i.Xa=function(){Gr(this)};function Gr(u){if(u.h&&typeof c<"u"){if(u.v&&ca(u)==4)setTimeout(u.Ca.bind(u),0);else if(wt(u,"readystatechange"),ca(u)==4){u.h=!1;try{const $=u.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var S;if(S=$===0){let ue=String(u.D).match(Hc)[1]||null;!ue&&d.self&&d.self.location&&(ue=d.self.location.protocol.slice(0,-1)),S=!Da.test(ue?ue.toLowerCase():"")}_=S}if(_)wt(u,"complete"),wt(u,"success");else{u.o=6;try{var H=ca(u)>2?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.ca()+"]",sl(u)}}finally{ei(u)}}}}function ei(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,v||wt(u,"ready");try{_.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ca(u){return u.g?u.g.readyState:0}i.ca=function(){try{return ca(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),Ef(v)}};function Yt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ti(u){const v={};u=(u.g&&ca(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var _=zc(u[S]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=v[H]||[];v[H]=$,$.push(_)}xe(v,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ka(u,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||v}function Ui(u){this.za=0,this.i=[],this.j=new ia,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ka("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ka("baseRetryDelayMs",5e3,u),this.Za=ka("retryDelaySeedMs",1e4,u),this.Ta=ka("forwardChannelMaxRetries",2,u),this.va=ka("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new $o(u&&u.concurrentRequestLimit),this.Ba=new Li,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ui.prototype,i.ka=8,i.I=1,i.connect=function(u,v,_,S){Nt(0),this.W=u,this.H=v||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=Wc(this,null,this.W),ja(this)};function ol(u){if(Os(u),u.I==3){var v=u.V++,_=It(u.J);if(et(_,"SID",u.M),et(_,"RID",v),et(_,"TYPE","terminate"),Qr(u,_),v=new ra(u,u.j,v),v.M=2,v.A=Ur(It(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=v.A,_=!0),_||(v.g=eu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),wa(v)}Zc(u)}function Bi(u){u.g&&(cl(u),u.g.cancel(),u.g=null)}function Os(u){Bi(u),u.v&&(d.clearTimeout(u.v),u.v=null),ks(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ja(u){if(!Xo(u.h)&&!u.m){u.m=!0;var v=u.Ea;_e||R(),ye||(_e(),ye=!0),I.add(v,u),u.D=0}}function Ds(u,v){return Ca(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Aa(y(u.Ea,u,v),Jc(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const H=new ra(this,this.j,u);let $=this.o;if(this.U&&($?($=k($),V($,this.U)):$=this.U),this.u!==null||this.R||(H.J=$,$=null),this.S)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,v>4096){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=Kc(this,H,v),_=It(this.J),et(_,"RID",u),et(_,"CVER",22),this.G&&et(_,"X-HTTP-Session-Id",this.G),Qr(this,_),$&&(this.R?v="headers="+Wa(Un($))+"&"+v:this.u&&qr(_,this.u,$)),Jo(this.h,H),this.Ra&&et(_,"TYPE","init"),this.S?(et(_,"$req",v),et(_,"SID","null"),H.U=!0,Sa(H,_,null)):Sa(H,_,v),this.I=2}}else this.I==3&&(u?ll(this,u):this.i.length==0||Xo(this.h)||ll(this))};function ll(u,v){var _;v?_=v.l:_=u.V++;const S=It(u.J);et(S,"SID",u.M),et(S,"RID",_),et(S,"AID",u.K),Qr(u,S),u.u&&u.o&&qr(S,u.u,u.o),_=new ra(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),v&&(u.i=v.G.concat(u.i)),v=Kc(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Jo(u.h,_),Sa(_,S,v)}function Qr(u,v){u.H&&me(u.H,function(_,S){et(v,S,_)}),u.l&&me({},function(_,S){et(v,S,_)})}function Kc(u,v,_){_=Math.min(u.i.length,_);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var H=u.i;let Me=-1;for(;;){const Et=["count="+_];Me==-1?_>0?(Me=H[0].g,Et.push("ofs="+Me)):Me=0:Et.push("ofs="+Me);let Xe=!0;for(let ht=0;ht<_;ht++){var $=H[ht].g;const Bn=H[ht].map;if($-=Me,$<0)Me=Math.max(0,H[ht].g-100),Xe=!1;else try{$="req"+$+"_"||"";try{var ue=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Va,ua]of ue){let da=ua;m(ua)&&(da=Di(ua)),Et.push($+Va+"="+encodeURIComponent(da))}}catch(Va){throw Et.push($+"type="+encodeURIComponent("_badmap")),Va}}catch{S&&S(Bn)}}if(Xe){ue=Et.join("&");break e}}ue=void 0}return u=u.i.splice(0,_),v.G=u,ue}function Yc(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;_e||R(),ye||(_e(),ye=!0),I.add(v,u),u.A=0}}function Kr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Aa(y(u.Da,u),Jc(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,$c(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Aa(y(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),Bi(this),$c(this))};function cl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function $c(u){u.g=new ra(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=It(u.na);et(v,"RID","rpc"),et(v,"SID",u.M),et(v,"AID",u.K),et(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&et(v,"TO",u.ia),et(v,"TYPE","xmlhttp"),Qr(u,v),u.u&&u.o&&qr(v,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Ur(It(v)),_.u=null,_.R=!0,Ss(_,u)}i.Va=function(){this.C!=null&&(this.C=null,Bi(this),Kr(this),Nt(19))};function ks(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Xc(u,v){var _=null;if(u.g==v){ks(u),cl(u),u.g=null;var S=2}else if(Ia(u.h,v))_=v.G,Zo(u.h,v),S=1;else return;if(u.I!=0){if(v.o)if(S==1){_=v.u?v.u.length:0,v=Date.now()-v.F;var H=u.D;S=Ts(),wt(S,new Ea(S,_)),ja(u)}else Yc(u);else if(H=v.m,H==3||H==0&&v.X>0||!(S==1&&Ds(u,v)||S==2&&Kr(u)))switch(_&&_.length>0&&(v=u.h,v.i=v.i.concat(_)),H){case 1:Pa(u,5);break;case 4:Pa(u,10);break;case 3:Pa(u,6);break;default:Pa(u,2)}}}function Jc(u,v){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*v}function Pa(u,v){if(u.j.info("Error code "+v),v==2){var _=y(u.bb,u),S=u.Ua;const H=!S;S=new wn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qt(S,"https"),Ur(S),H?oa(S.toString(),_):il(S.toString(),_)}else Nt(2);u.I=0,u.l&&u.l.pa(v),Zc(u),Os(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Zc(u){if(u.I=0,u.ja=[],u.l){const v=Wo(u.h);(v.length!=0||u.i.length!=0)&&(G(u.ja,v),G(u.ja,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.oa()}}function Wc(u,v,_){var S=_ instanceof wn?It(_):new wn(_);if(S.g!="")v&&(S.g=v+"."+S.g),ki(S,S.u);else{var H=d.location;S=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const $=new wn(null);S&&qt($,S),v&&($.g=v),H&&ki($,H),_&&($.h=_),S=$}return _=u.G,v=u.wa,_&&v&&et(S,_,v),et(S,"VER",u.ka),Qr(u,S),S}function eu(u,v,_){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new at(new Oa({ab:_})):new at(u.ma),v.Fa(u.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}i=tu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Hi(){}Hi.prototype.g=function(u,v){return new un(u,v)};function un(u,v){yt.call(this),this.g=new Ui(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!C(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!C(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new ni(this)}E(un,yt),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){ol(this.g)},un.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Di(u),u=_);v.i.push(new Ct(v.Ya++,u)),v.I==3&&ja(v)},un.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,un.Z.N.call(this)};function nu(u){Kt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const _ in v){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}E(nu,Kt);function au(){Vn.call(this),this.status=1}E(au,Vn);function ni(u){this.g=u}E(ni,tu),ni.prototype.ra=function(){wt(this.g,"a")},ni.prototype.qa=function(u){wt(this.g,new nu(u))},ni.prototype.pa=function(u){wt(this.g,new au)},ni.prototype.oa=function(){wt(this.g,"b")},Hi.prototype.createWebChannel=Hi.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,$x=function(){return new Hi},Yx=function(){return Ts()},Kx=xt,Xp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Lr.NO_ERROR=0,Lr.TIMEOUT=8,Lr.HTTP_ERROR=6,_d=Lr,Ko.COMPLETE="complete",Qx=Ko,jc.EventType=aa,aa.OPEN="a",aa.CLOSE="b",aa.ERROR="c",aa.MESSAGE="d",yt.prototype.listen=yt.prototype.J,Zl=jc,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,Gx=at}).apply(typeof cd<"u"?cd:typeof self<"u"?self:typeof window<"u"?window:{});class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let zo="12.8.0";function WC(i){zo=i}const vs=new Em("@firebase/firestore");function fo(){return vs.logLevel}function he(i,...e){if(vs.logLevel<=Be.DEBUG){const n=e.map(Dm);vs.debug(`Firestore (${zo}): ${i}`,...n)}}function wi(i,...e){if(vs.logLevel<=Be.ERROR){const n=e.map(Dm);vs.error(`Firestore (${zo}): ${i}`,...n)}}function So(i,...e){if(vs.logLevel<=Be.WARN){const n=e.map(Dm);vs.warn(`Firestore (${zo}): ${i}`,...n)}}function Dm(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function we(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Xx(i,r,n)}function Xx(i,e,n){let r=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw wi(r),new Error(r)}function We(i,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,i||Xx(e,o,r)}function Ie(i,e){return i}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ei{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Jx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class t2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class n2{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ei,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ei)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new Jx(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class a2{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class i2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new a2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const r=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Cb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Cb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function s2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}class km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=s2(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function He(i,e){return i<e?-1:i>e?1:0}function Jp(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const o=i.charAt(r),c=e.charAt(r);if(o!==c)return jp(o)===jp(c)?He(o,c):jp(o)?1:-1}return He(i.length,e.length)}const o2=55296,l2=57343;function jp(i){const e=i.charCodeAt(0);return e>=o2&&e<=l2}function wo(i,e,n){return i.length===e.length&&i.every(((r,o)=>n(r,e[o])))}const Ib="__name__";class qa{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&we(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=qa.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return He(e.length,n.length)}static compareSegments(e,n){const r=qa.isNumericId(e),o=qa.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?qa.extractNumericId(e).compare(qa.extractNumericId(n)):Jp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _r.fromString(e.substring(4,e.length-2))}}class ct extends qa{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ct(n)}static emptyPath(){return new ct([])}}const c2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends qa{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return c2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ib}static keyField(){return new en([Ib])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new fe(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new fe(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(r+=m,o++):(c(),o++)}if(c(),d)throw new fe(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ct.fromString(e))}static fromName(e){return new Ae(ct.fromString(e).popFirst(5))}static empty(){return new Ae(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ct(e.slice()))}}function Zx(i,e,n){if(!n)throw new fe(ae.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function u2(i,e,n,r){if(e===!0&&r===!0)throw new fe(ae.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Mb(i){if(!Ae.isDocumentKey(i))throw new fe(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Ob(i){if(Ae.isDocumentKey(i))throw new fe(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Wx(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function tf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we(12329,{type:typeof i})}function An(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tf(i);throw new fe(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Vt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Nc(i,e){if(!Wx(i))throw new fe(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const d=i[r];if(o&&typeof d!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new fe(ae.INVALID_ARGUMENT,n);return!0}const Db=-62135596800,kb=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*kb);return new ft(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Db)throw new fe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kb}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nc(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Db;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Vt("string",ft._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new ft(0,0))}static max(){return new Ne(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fc=-1;function d2(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new Ar(o,Ae.empty(),e)}function f2(i){return new Ar(i.readTime,i.key,fc)}class Ar{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ar(Ne.min(),Ae.empty(),fc)}static max(){return new Ar(Ne.max(),Ae.empty(),fc)}}function h2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(i.documentKey,e.documentKey),n!==0?n:He(i.largestBatchId,e.largestBatchId))}const p2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Uo(i){if(i.code!==ae.FAILED_PRECONDITION||i.message!==p2)throw i;he("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,r)=>{n(e)}))}static reject(e){return new re(((n,r)=>{r(e)}))}static waitFor(e){return new re(((n,r)=>{let o=0,c=0,d=!1;e.forEach((m=>{++o,m.next((()=>{++c,d&&c===o&&n()}),(g=>r(g)))})),d=!0,c===o&&n()}))}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next((o=>o?re.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new re(((r,o)=>{const c=e.length,d=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((x=>{d[y]=x,++m,m===c&&r(d)}),(x=>o(x)))}}))}static doWhile(e,n){return new re(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function g2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bo(i){return i.name==="IndexedDbTransactionError"}class nf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nf.ce=-1;const jm=-1;function af(i){return i==null}function Vd(i){return i===0&&1/i==-1/0}function y2(i){return typeof i=="number"&&Number.isInteger(i)&&!Vd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const eE="";function v2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=jb(e)),e=b2(i.get(n),e);return jb(e)}function b2(i,e){let n=e;const r=i.length;for(let o=0;o<r;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case eE:n+="";break;default:n+=c}}return n}function jb(i){return i+eE+""}function Pb(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Mr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function tE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class gt{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ud(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ud(this.root,e,this.comparator,!1)}getReverseIterator(){return new ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ud(this.root,e,this.comparator,!0)}}class ud{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=o??Wt.EMPTY,this.right=c??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new Wt(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vb(this.data.getIterator())}getIteratorFrom(e){return new Vb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class Vb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new jn([])}unionWith(e){let n=new Ut(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class nE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new nE("Invalid base64 string: "+c):c}})(e);return new tn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const _2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(i){if(We(!!i,39018),typeof i=="string"){let e=0;const n=_2.exec(i);if(We(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(i.seconds),nanos:St(i.nanos)}}function St(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Sr(i){return typeof i=="string"?tn.fromBase64String(i):tn.fromUint8Array(i)}const aE="server_timestamp",iE="__type__",rE="__previous_value__",sE="__local_write_time__";function Pm(i){return(i?.mapValue?.fields||{})[iE]?.stringValue===aE}function rf(i){const e=i.mapValue.fields[rE];return Pm(e)?rf(e):e}function hc(i){const e=Tr(i.mapValue.fields[sE].timestampValue);return new ft(e.seconds,e.nanos)}class x2{constructor(e,n,r,o,c,d,m,g,y,x,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x,this.apiKey=E}}const Ld="(default)";class pc{constructor(e,n){this.projectId=e,this.database=n||Ld}static empty(){return new pc("","")}get isDefaultDatabase(){return this.database===Ld}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}function E2(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new fe(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(i.options.projectId,e)}const oE="__type__",A2="__max__",dd={mapValue:{}},lE="__vector__",zd="value";function wr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Pm(i)?4:S2(i)?9007199254740991:T2(i)?10:11:we(28295,{value:i})}function Xa(i,e){if(i===e)return!0;const n=wr(i);if(n!==wr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return hc(i).isEqual(hc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Tr(o.timestampValue),m=Tr(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return Sr(o.bytesValue).isEqual(Sr(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return St(o.geoPointValue.latitude)===St(c.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return St(o.integerValue)===St(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=St(o.doubleValue),m=St(c.doubleValue);return d===m?Vd(d)===Vd(m):isNaN(d)&&isNaN(m)}return!1})(i,e);case 9:return wo(i.arrayValue.values||[],e.arrayValue.values||[],Xa);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(Pb(d)!==Pb(m))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(m[g]===void 0||!Xa(d[g],m[g])))return!1;return!0})(i,e);default:return we(52216,{left:i})}}function mc(i,e){return(i.values||[]).find((n=>Xa(n,e)))!==void 0}function No(i,e){if(i===e)return 0;const n=wr(i),r=wr(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(i.booleanValue,e.booleanValue);case 2:return(function(c,d){const m=St(c.integerValue||c.doubleValue),g=St(d.integerValue||d.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return Lb(i.timestampValue,e.timestampValue);case 4:return Lb(hc(i),hc(e));case 5:return Jp(i.stringValue,e.stringValue);case 6:return(function(c,d){const m=Sr(c),g=Sr(d);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(c,d){const m=c.split("/"),g=d.split("/");for(let y=0;y<m.length&&y<g.length;y++){const x=He(m[y],g[y]);if(x!==0)return x}return He(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,d){const m=He(St(c.latitude),St(d.latitude));return m!==0?m:He(St(c.longitude),St(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return zb(i.arrayValue,e.arrayValue);case 10:return(function(c,d){const m=c.fields||{},g=d.fields||{},y=m[zd]?.arrayValue,x=g[zd]?.arrayValue,E=He(y?.values?.length||0,x?.values?.length||0);return E!==0?E:zb(y,x)})(i.mapValue,e.mapValue);case 11:return(function(c,d){if(c===dd.mapValue&&d===dd.mapValue)return 0;if(c===dd.mapValue)return 1;if(d===dd.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=d.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let E=0;E<g.length&&E<x.length;++E){const w=Jp(g[E],x[E]);if(w!==0)return w;const L=No(m[g[E]],y[x[E]]);if(L!==0)return L}return He(g.length,x.length)})(i.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function Lb(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return He(i,e);const n=Tr(i),r=Tr(e),o=He(n.seconds,r.seconds);return o!==0?o:He(n.nanos,r.nanos)}function zb(i,e){const n=i.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=No(n[o],r[o]);if(c)return c}return He(n.length,r.length)}function Ro(i){return Zp(i)}function Zp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=Tr(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Sr(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Ae.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=Zp(c);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${Zp(n.fields[d])}`;return o+"}"})(i.mapValue):we(61005,{value:i})}function xd(i){switch(wr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rf(i);return e?16+xd(e):16;case 5:return 2*i.stringValue.length;case 6:return Sr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+xd(c)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return Mr(r.fields,((c,d)=>{o+=c.length+xd(d)})),o})(i.mapValue);default:throw we(13486,{value:i})}}function Ub(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Wp(i){return!!i&&"integerValue"in i}function Vm(i){return!!i&&"arrayValue"in i}function Bb(i){return!!i&&"nullValue"in i}function Hb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ed(i){return!!i&&"mapValue"in i}function T2(i){return(i?.mapValue?.fields||{})[oE]?.stringValue===lE}function ic(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Mr(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ic(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ic(i.arrayValue.values[n]);return e}return{...i}}function S2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===A2}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ed(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(n)}setAll(e){let n=en.emptyPath(),r={},o=[];e.forEach(((d,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}d?r[m.lastSegment()]=ic(d):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());Ed(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Ed(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Mr(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new En(ic(this.value))}}function cE(i){const e=[];return Mr(i.fields,((n,r)=>{const o=new en([n]);if(Ed(r)){const c=cE(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new jn(e)}class on{constructor(e,n,r,o,c,d,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new on(e,0,Ne.min(),Ne.min(),Ne.min(),En.empty(),0)}static newFoundDocument(e,n,r,o){return new on(e,1,n,Ne.min(),r,o,0)}static newNoDocument(e,n){return new on(e,2,n,Ne.min(),Ne.min(),En.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,Ne.min(),Ne.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ud{constructor(e,n){this.position=e,this.inclusive=n}}function qb(i,e,n){let r=0;for(let o=0;o<i.position.length;o++){const c=e[o],d=i.position[o];if(c.field.isKeyField()?r=Ae.comparator(Ae.fromName(d.referenceValue),n.key):r=No(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fb(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Xa(i.position[n],e.position[n]))return!1;return!0}class gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function w2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class uE{}class Pt extends uE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new R2(e,n,r):n==="array-contains"?new M2(e,r):n==="in"?new O2(e,r):n==="not-in"?new D2(e,r):n==="array-contains-any"?new k2(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new C2(e,r):new I2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(No(n,this.value)):n!==null&&wr(this.value)===wr(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _a extends uE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _a(e,n)}matches(e){return dE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dE(i){return i.op==="and"}function fE(i){return N2(i)&&dE(i)}function N2(i){for(const e of i.filters)if(e instanceof _a)return!1;return!0}function em(i){if(i instanceof Pt)return i.field.canonicalString()+i.op.toString()+Ro(i.value);if(fE(i))return i.filters.map((e=>em(e))).join(",");{const e=i.filters.map((n=>em(n))).join(",");return`${i.op}(${e})`}}function hE(i,e){return i instanceof Pt?(function(r,o){return o instanceof Pt&&r.op===o.op&&r.field.isEqual(o.field)&&Xa(r.value,o.value)})(i,e):i instanceof _a?(function(r,o){return o instanceof _a&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,d,m)=>c&&hE(d,o.filters[m])),!0):!1})(i,e):void we(19439)}function pE(i){return i instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ro(n.value)}`})(i):i instanceof _a?(function(n){return n.op.toString()+" {"+n.getFilters().map(pE).join(" ,")+"}"})(i):"Filter"}class R2 extends Pt{constructor(e,n,r){super(e,n,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class C2 extends Pt{constructor(e,n){super(e,"in",n),this.keys=mE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class I2 extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=mE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function mE(i,e){return(e.arrayValue?.values||[]).map((n=>Ae.fromName(n.referenceValue)))}class M2 extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vm(n)&&mc(n.arrayValue,this.value)}}class O2 extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class D2 extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}}class k2 extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>mc(this.value.arrayValue,r)))}}class j2{constructor(e,n=null,r=[],o=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.Te=null}}function Gb(i,e=null,n=[],r=[],o=null,c=null,d=null){return new j2(i,e,n,r,o,c,d)}function Lm(i){const e=Ie(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>em(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ro(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ro(r))).join(",")),e.Te=n}return e.Te}function zm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!w2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!hE(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Fb(i.startAt,e.startAt)&&Fb(i.endAt,e.endAt)}function tm(i){return Ae.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Ho{constructor(e,n=null,r=[],o=[],c=null,d="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function P2(i,e,n,r,o,c,d,m){return new Ho(i,e,n,r,o,c,d,m)}function sf(i){return new Ho(i)}function Qb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function V2(i){return Ae.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function gE(i){return i.collectionGroup!==null}function rc(i){const e=Ie(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Ut(en.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new gc(c,r))})),n.has(en.keyField().canonicalString())||e.Ie.push(new gc(en.keyField(),r))}return e.Ie}function Qa(i){const e=Ie(i);return e.Ee||(e.Ee=L2(e,rc(i))),e.Ee}function L2(i,e){if(i.limitType==="F")return Gb(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new gc(o.field,c)}));const n=i.endAt?new Ud(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Ud(i.startAt.position,i.startAt.inclusive):null;return Gb(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function nm(i,e){const n=i.filters.concat([e]);return new Ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function z2(i,e){const n=i.explicitOrderBy.concat([e]);return new Ho(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function am(i,e,n){return new Ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function of(i,e){return zm(Qa(i),Qa(e))&&i.limitType===e.limitType}function yE(i){return`${Lm(Qa(i))}|lt:${i.limitType}`}function ho(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>pE(o))).join(", ")}]`),af(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Ro(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Ro(o))).join(",")),`Target(${r})`})(Qa(i))}; limitType=${i.limitType})`}function lf(i,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Ae.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(i,e)&&(function(r,o){for(const c of rc(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(d,m,g){const y=qb(d,m,g);return d.inclusive?y<=0:y<0})(r.startAt,rc(r),o)||r.endAt&&!(function(d,m,g){const y=qb(d,m,g);return d.inclusive?y>=0:y>0})(r.endAt,rc(r),o))})(i,e)}function U2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function vE(i){return(e,n)=>{let r=!1;for(const o of rc(i)){const c=B2(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function B2(i,e,n){const r=i.field.isKeyField()?Ae.comparator(e.key,n.key):(function(c,d,m){const g=d.data.field(c),y=m.data.field(c);return g!==null&&y!==null?No(g,y):we(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:i.dir})}}class Es{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Mr(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return tE(this.inner)}size(){return this.innerSize}}const H2=new gt(Ae.comparator);function Ni(){return H2}const bE=new gt(Ae.comparator);function Wl(...i){let e=bE;for(const n of i)e=e.insert(n.key,n);return e}function _E(i){let e=bE;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ds(){return sc()}function xE(){return sc()}function sc(){return new Es((i=>i.toString()),((i,e)=>i.isEqual(e)))}const q2=new gt(Ae.comparator),F2=new Ut(Ae.comparator);function qe(...i){let e=F2;for(const n of i)e=e.add(n);return e}const G2=new Ut(He);function Q2(){return G2}function Um(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vd(e)?"-0":e}}function EE(i){return{integerValue:""+i}}function K2(i,e){return y2(e)?EE(e):Um(i,e)}class cf{constructor(){this._=void 0}}function Y2(i,e,n){return i instanceof yc?(function(o,c){const d={fields:{[iE]:{stringValue:aE},[sE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Pm(c)&&(c=rf(c)),c&&(d.fields[rE]=c),{mapValue:d}})(n,e):i instanceof Co?TE(i,e):i instanceof vc?SE(i,e):(function(o,c){const d=AE(o,c),m=Kb(d)+Kb(o.Ae);return Wp(d)&&Wp(o.Ae)?EE(m):Um(o.serializer,m)})(i,e)}function $2(i,e,n){return i instanceof Co?TE(i,e):i instanceof vc?SE(i,e):n}function AE(i,e){return i instanceof Bd?(function(r){return Wp(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class yc extends cf{}class Co extends cf{constructor(e){super(),this.elements=e}}function TE(i,e){const n=wE(e);for(const r of i.elements)n.some((o=>Xa(o,r)))||n.push(r);return{arrayValue:{values:n}}}class vc extends cf{constructor(e){super(),this.elements=e}}function SE(i,e){let n=wE(e);for(const r of i.elements)n=n.filter((o=>!Xa(o,r)));return{arrayValue:{values:n}}}class Bd extends cf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Kb(i){return St(i.integerValue||i.doubleValue)}function wE(i){return Vm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class NE{constructor(e,n){this.field=e,this.transform=n}}function X2(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof Co&&o instanceof Co||r instanceof vc&&o instanceof vc?wo(r.elements,o.elements,Xa):r instanceof Bd&&o instanceof Bd?Xa(r.Ae,o.Ae):r instanceof yc&&o instanceof yc})(i.transform,e.transform)}class J2{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ad(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class uf{}function RE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Bm(i.key,Wn.none()):new Rc(i.key,i.data,Wn.none());{const n=i.data,r=En.empty();let o=new Ut(en.comparator);for(let c of e.fields)if(!o.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new Or(i.key,r,new jn(o.toArray()),Wn.none())}}function Z2(i,e,n){i instanceof Rc?(function(o,c,d){const m=o.value.clone(),g=$b(o.fieldTransforms,c,d.transformResults);m.setAll(g),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Or?(function(o,c,d){if(!Ad(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=$b(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(CE(o)),g.setAll(m),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(i,e,n):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function oc(i,e,n,r){return i instanceof Rc?(function(c,d,m,g){if(!Ad(c.precondition,d))return m;const y=c.value.clone(),x=Xb(c.fieldTransforms,g,d);return y.setAll(x),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(i,e,n,r):i instanceof Or?(function(c,d,m,g){if(!Ad(c.precondition,d))return m;const y=Xb(c.fieldTransforms,g,d),x=d.data;return x.setAll(CE(c)),x.setAll(y),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(i,e,n,r):(function(c,d,m){return Ad(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m})(i,e,n)}function W2(i,e){let n=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),c=AE(r.transform,o||null);c!=null&&(n===null&&(n=En.empty()),n.set(r.field,c))}return n||null}function Yb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&wo(r,o,((c,d)=>X2(c,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Rc extends uf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Or extends uf{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function CE(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function $b(i,e,n){const r=new Map;We(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const c=i[o],d=c.transform,m=e.data.field(c.field);r.set(c.field,$2(d,m,n[o]))}return r}function Xb(i,e,n){const r=new Map;for(const o of i){const c=o.transform,d=n.data.field(o.field);r.set(o.field,Y2(c,d,e))}return r}class Bm extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eI extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tI{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Z2(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=oc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=oc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xE();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=n.has(o.key)?null:m;const g=RE(d,m);g!==null&&r.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Ne.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,((n,r)=>Yb(n,r)))&&wo(this.baseMutations,e.baseMutations,((n,r)=>Yb(n,r)))}}class Hm{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return q2})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new Hm(e,n,r,o)}}class nI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class aI{constructor(e,n){this.count=e,this.unchangedNames=n}}var jt,Qe;function iI(i){switch(i){case ae.OK:return we(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return we(15467,{code:i})}}function IE(i){if(i===void 0)return wi("GRPC error has no .code"),ae.UNKNOWN;switch(i){case jt.OK:return ae.OK;case jt.CANCELLED:return ae.CANCELLED;case jt.UNKNOWN:return ae.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ae.INTERNAL;case jt.UNAVAILABLE:return ae.UNAVAILABLE;case jt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case jt.NOT_FOUND:return ae.NOT_FOUND;case jt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case jt.ABORTED:return ae.ABORTED;case jt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case jt.DATA_LOSS:return ae.DATA_LOSS;default:return we(39323,{code:i})}}(Qe=jt||(jt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function rI(){return new TextEncoder}const sI=new _r([4294967295,4294967295],0);function Jb(i){const e=rI().encode(i),n=new Fx;return n.update(e),new Uint8Array(n.digest())}function Zb(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new _r([n,r],0),new _r([o,c],0)]}class qm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ec(`Invalid padding: ${n}`);if(r<0)throw new ec(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ec(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ec(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_r.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(_r.fromNumber(r)));return o.compare(sI)===1&&(o=new _r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Jb(e),[r,o]=Zb(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new qm(c,o,n);return r.forEach((m=>d.insert(m))),d}insert(e){if(this.ge===0)return;const n=Jb(e),[r,o]=Zb(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.be(d)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class df{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new df(Ne.min(),o,new gt(He),Ni(),qe())}}class Cc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cc(r,n,qe(),qe(),qe())}}class Td{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class ME{constructor(e,n){this.targetId=e,this.Ce=n}}class OE{constructor(e,n,r=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Wb{constructor(){this.ve=0,this.Fe=e_(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),r=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:we(38017,{changeType:c})}})),new Cc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=e_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class oI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ni(),this.He=fd(),this.Je=fd(),this.Ze=new gt(He)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(tm(c))if(r===0){const d=new Ae(c.path);this.et(n,d,on.newNoDocument(d,Ne.min()))}else We(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const m=this.ut(e),g=m?this.ct(m,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let d,m;try{d=Sr(r).toUint8Array()}catch(g){if(g instanceof nE)return So("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new qm(d,o,c)}catch(g){return So(g instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const d=this.Ge.ht(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const m=this.ot(d);if(m){if(c.current&&tm(m.target)){const g=new Ae(m.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,on.newNoDocument(g,e))}c.Be&&(n.set(d,c.ke()),c.Ke())}}));let r=qe();this.Je.forEach(((c,d)=>{let m=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new df(e,n,this.Ze,this.je,r);return this.je=Ni(),this.He=fd(),this.Je=fd(),this.Ze=new gt(He),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Wb,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ut(He),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ut(He),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function fd(){return new gt(Ae.comparator)}function e_(){return new gt(Ae.comparator)}const lI={asc:"ASCENDING",desc:"DESCENDING"},cI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uI={and:"AND",or:"OR"};class dI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function im(i,e){return i.useProto3Json||af(e)?e:{value:e}}function Hd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function fI(i,e){return Hd(i,e.toTimestamp())}function Ka(i){return We(!!i,49232),Ne.fromTimestamp((function(n){const r=Tr(n);return new ft(r.seconds,r.nanos)})(i))}function Fm(i,e){return rm(i,e).canonicalString()}function rm(i,e){const n=(function(o){return new ct(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function kE(i){const e=ct.fromString(i);return We(zE(e),10190,{key:e.toString()}),e}function sm(i,e){return Fm(i.databaseId,e.path)}function Pp(i,e){const n=kE(e);if(n.get(1)!==i.databaseId.projectId)throw new fe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new fe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ae(PE(n))}function jE(i,e){return Fm(i.databaseId,e)}function hI(i){const e=kE(i);return e.length===4?ct.emptyPath():PE(e)}function om(i){return new ct(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function PE(i){return We(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function t_(i,e,n){return{name:sm(i,e),fields:n.value.mapValue.fields}}function pI(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,x){return y.useProto3Json?(We(x===void 0||typeof x=="string",58123),tn.fromBase64String(x||"")):(We(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),tn.fromUint8Array(x||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&(function(y){const x=y.code===void 0?ae.UNKNOWN:IE(y.code);return new fe(x,y.message||"")})(d);n=new OE(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Pp(i,r.document.name),c=Ka(r.document.updateTime),d=r.document.createTime?Ka(r.document.createTime):Ne.min(),m=new En({mapValue:{fields:r.document.fields}}),g=on.newFoundDocument(o,c,d,m),y=r.targetIds||[],x=r.removedTargetIds||[];n=new Td(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Pp(i,r.document),c=r.readTime?Ka(r.readTime):Ne.min(),d=on.newNoDocument(o,c),m=r.removedTargetIds||[];n=new Td([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Pp(i,r.document),c=r.removedTargetIds||[];n=new Td([],c,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new aI(o,c),m=r.targetId;n=new ME(m,d)}}return n}function mI(i,e){let n;if(e instanceof Rc)n={update:t_(i,e.key,e.value)};else if(e instanceof Bm)n={delete:sm(i,e.key)};else if(e instanceof Or)n={update:t_(i,e.key,e.data),updateMask:TI(e.fieldMask)};else{if(!(e instanceof eI))return we(16599,{dt:e.type});n={verify:sm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const m=d.transform;if(m instanceof yc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Co)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof vc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Bd)return{fieldPath:d.field.canonicalString(),increment:m.Ae};throw we(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:fI(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:we(27497)})(i,e.precondition)),n}function gI(i,e){return i&&i.length>0?(We(e!==void 0,14353),i.map((n=>(function(o,c){let d=o.updateTime?Ka(o.updateTime):Ka(c);return d.isEqual(Ne.min())&&(d=Ka(c)),new J2(d,o.transformResults||[])})(n,e)))):[]}function yI(i,e){return{documents:[jE(i,e.path)]}}function vI(i,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jE(i,o);const c=(function(y){if(y.length!==0)return LE(_a.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((x=>(function(w){return{field:po(w.field),direction:xI(w.dir)}})(x)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=im(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function bI(i){let e=hI(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){We(r===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(E){const w=VE(E);return w instanceof _a&&fE(w)?w.getFilters():[w]})(n.where));let d=[];n.orderBy&&(d=(function(E){return E.map((w=>(function(G){return new gc(mo(G.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(E){let w;return w=typeof E=="object"?E.value:E,af(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(E){const w=!!E.before,L=E.values||[];return new Ud(L,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const w=!E.before,L=E.values||[];return new Ud(L,w)})(n.endAt)),P2(e,o,d,c,m,"F",g,y)}function _I(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VE(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mo(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(n.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=mo(n.unaryFilter.field);return Pt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=mo(n.unaryFilter.field);return Pt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Pt.create(mo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return _a.create(n.compositeFilter.filters.map((r=>VE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(i):we(30097,{filter:i})}function xI(i){return lI[i]}function EI(i){return cI[i]}function AI(i){return uI[i]}function po(i){return{fieldPath:i.canonicalString()}}function mo(i){return en.fromServerFormat(i.fieldPath)}function LE(i){return i instanceof Pt?(function(n){if(n.op==="=="){if(Hb(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NAN"}};if(Bb(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Hb(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NAN"}};if(Bb(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(n.field),op:EI(n.op),value:n.value}}})(i):i instanceof _a?(function(n){const r=n.getFilters().map((o=>LE(o)));return r.length===1?r[0]:{compositeFilter:{op:AI(n.op),filters:r}}})(i):we(54877,{filter:i})}function TI(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function zE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function UE(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class gr{constructor(e,n,r,o,c=Ne.min(),d=Ne.min(),m=tn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class SI{constructor(e){this.yt=e}}function wI(i){const e=bI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?am(e,e.limit,"L"):e}class NI{constructor(){this.Sn=new RI}addToCollectionParentIndex(e,n){return this.Sn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Ar.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class RI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Ut(ct.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ut(ct.comparator)).toArray()}}const n_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BE=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(BE,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class Io{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Io(0)}static ar(){return new Io(-1)}}const a_="LruGarbageCollector",CI=1048576;function i_([i,e],[n,r]){const o=He(i,n);return o===0?He(e,r):o}class II{constructor(e){this.Pr=e,this.buffer=new Ut(i_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();i_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(a_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bo(n)?he(a_,"Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.Ar(3e5)}))}}class OI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(nf.ce);const r=new II(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(n_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,c,d,m,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,d=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(r=E,m=Date.now(),this.removeTargets(e,r,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(y=Date.now(),fo()<=Be.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function DI(i,e){return new OI(i,e)}class kI{constructor(){this.changes=new Es((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class PI{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&oc(r.mutation,o,jn.empty(),ft.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,qe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=qe()){const o=ds();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let d=Wl();return c.forEach(((m,g)=>{d=d.insert(m,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=ds();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,qe())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,m)=>{n.set(d,m)}))}))}computeViews(e,n,r,o){let c=Ni();const d=sc(),m=(function(){return sc()})();return n.forEach(((g,y)=>{const x=r.get(y.key);o.has(y.key)&&(x===void 0||x.mutation instanceof Or)?c=c.insert(y.key,y):x!==void 0?(d.set(y.key,x.mutation.getFieldMask()),oc(x.mutation,y,x.mutation.getFieldMask(),ft.now())):d.set(y.key,jn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,x)=>d.set(y,x))),n.forEach(((y,x)=>m.set(y,new jI(x,d.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=sc();let o=new gt(((d,m)=>d-m)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const m of d)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let x=r.get(g)||jn.empty();x=m.applyToLocalView(y,x),r.set(g,x);const E=(o.get(m.batchId)||qe()).add(g);o=o.insert(m.batchId,E)}))})).next((()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,x=g.value,E=xE();x.forEach((w=>{if(!c.has(w)){const L=RE(n.get(w),r.get(w));L!==null&&E.set(w,L),c=c.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,E))}return re.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return V2(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):re.resolve(ds());let m=fc,g=c;return d.next((y=>re.forEach(y,((x,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),c.get(x)?re.resolve():this.remoteDocumentCache.getEntry(e,x).next((w=>{g=g.insert(x,w)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,qe()))).next((x=>({batchId:m,changes:_E(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((r=>{let o=Wl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let d=Wl();return this.indexManager.getCollectionParents(e,c).next((m=>re.forEach(m,(g=>{const y=(function(E,w){return new Ho(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((x=>{x.forEach(((E,w)=>{d=d.insert(E,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((d=>{c.forEach(((g,y)=>{const x=y.getKey();d.get(x)===null&&(d=d.insert(x,on.newInvalidDocument(x)))}));let m=Wl();return d.forEach(((g,y)=>{const x=c.get(g);x!==void 0&&oc(x.mutation,y,jn.empty(),ft.now()),lf(n,y)&&(m=m.insert(g,y))})),m}))}}class VI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return re.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ka(o.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:wI(o.bundledQuery),readTime:Ka(o.readTime)}})(n)),re.resolve()}}class LI{constructor(){this.overlays=new gt(Ae.comparator),this.Lr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ds();return re.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.bt(e,n,c)})),re.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const o=ds(),c=n.length+1,d=new Ae(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new gt(((y,x)=>y-x));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let x=c.get(y.largestBatchId);x===null&&(x=ds(),c=c.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const m=ds(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,x)=>m.set(y,x))),!(m.size()>=o)););return re.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new nI(n,r));let c=this.Lr.get(n);c===void 0&&(c=qe(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}class zI{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class Gm{constructor(){this.kr=new Ut(Gt.Kr),this.qr=new Ut(Gt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Gt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Gt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Ae(new ct([])),r=new Gt(n,e),o=new Gt(n,e+1),c=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ae(new ct([])),r=new Gt(n,e),o=new Gt(n,e+1);let c=qe();return this.qr.forEachInRange([r,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Gt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ae.comparator(e.key,n.key)||He(e.Hr,n.Hr)}static Ur(e,n){return He(e.Hr,n.Hr)||Ae.comparator(e.key,n.key)}}class UI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ut(Gt.Kr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new tI(c,n,r,o);this.mutationQueue.push(d);for(const m of o)this.Jr=this.Jr.add(new Gt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(d)}lookupMutationBatch(e,n){return re.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),c=o<0?0:o;return re.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?jm:this.Yn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gt(n,0),o=new Gt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(d=>{const m=this.Zr(d.Hr);c.push(m)})),re.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(He);return n.forEach((o=>{const c=new Gt(o,0),d=new Gt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(m=>{r=r.add(m.Hr)}))})),re.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;Ae.isDocumentKey(c)||(c=c.child(""));const d=new Gt(new Ae(c),0);let m=new Ut(He);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),d),re.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){We(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return re.forEach(n.mutations,(o=>{const c=new Gt(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Gt(n,0),o=this.Jr.firstAfterOrEqual(r);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class BI{constructor(e){this.ti=e,this.docs=(function(){return new gt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,d=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=Ni();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():on.newInvalidDocument(o))})),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=Ni();const d=n.path,m=new Ae(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||h2(f2(x),r)<=0||(o.has(x.key)||lf(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return re.resolve(c)}getAllFromCollectionGroup(e,n,r,o){we(9500)}ni(e,n){return re.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new HI(this)}getSize(e){return re.resolve(this.size)}}class HI extends kI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),re.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class qI{constructor(e){this.persistence=e,this.ri=new Es((n=>Lm(n)),zm),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new Gm,this.targetCount=0,this.oi=Io._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),re.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.lr(n),re.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.ri.forEach(((d,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),re.waitFor(c).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),re.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.si.containsKey(n))}}class HE{constructor(e,n){this._i={},this.overlays={},this.ai=new nf(0),this.ui=!1,this.ui=!0,this.ci=new zI,this.referenceDelegate=e(this),this.li=new qI(this),this.indexManager=new NI,this.remoteDocumentCache=(function(o){return new BI(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new SI(n),this.Pi=new VI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new UI(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const o=new FI(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return re.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class FI extends m2{constructor(e){super(),this.currentSequenceNumber=e}}class Qm{constructor(e){this.persistence=e,this.Ri=new Gm,this.Ai=null}static Vi(e){return new Qm(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,(r=>{const o=Ae.fromPath(r);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Ne.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class qd{constructor(e,n){this.persistence=e,this.fi=new Es((r=>v2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=DI(this,n)}static Vi(e,n){return new qd(e,n)}Ti(){}Ii(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return re.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?re.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,n).next((m=>{m||(r++,c.removeEntry(d,Ne.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xd(e.data.value)),n}wr(e,n,r){return re.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return re.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Km{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=qe(),o=qe();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Km(e,n.fromCache,r,o)}}class GI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class QI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return pw()?8:g2(ln())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.gs(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,n,o,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new GI;return this.ys(e,n,d).next((m=>{if(c.result=m,this.As)return this.ws(e,n,d,m.size)}))})).next((()=>c.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(fo()<=Be.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(fo()<=Be.DEBUG&&he("QueryEngine","Query:",ho(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(fo()<=Be.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qa(n))):re.resolve())}gs(e,n){if(Qb(n))return re.resolve(null);let r=Qa(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=am(n,null,"F"),r=Qa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=qe(...c);return this.fs.getDocuments(e,d).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,d,g.readTime)?this.gs(e,am(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,r,o){return Qb(n)||o.isEqual(Ne.min())?re.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(n,c);return this.Ss(n,d,r,o)?re.resolve(null):(fo()<=Be.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(n)),this.Ds(e,d,n,d2(o,fc)).next((m=>m)))}))}bs(e,n){let r=new Ut(vE(e));return n.forEach(((o,c)=>{lf(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,r){return fo()<=Be.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ho(n)),this.fs.getDocumentsMatchingQuery(e,n,Ar.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Ym="LocalStore",KI=3e8;class YI{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new gt(He),this.Fs=new Es((c=>Lm(c)),zm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function $I(i,e,n,r){return new YI(i,e,n,r)}async function qE(i,e){const n=Ie(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],m=[];let g=qe();for(const y of o){d.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of c){m.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:m})))}))}))}function XI(i,e){const n=Ie(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,x){const E=y.batch,w=E.keys();let L=re.resolve();return w.forEach((G=>{L=L.next((()=>x.getEntry(g,G))).next((U=>{const K=y.docVersions.get(G);We(K!==null,48541),U.version.compareTo(K)<0&&(E.applyToRemoteDocument(U,y),U.isValidDocument()&&(U.setReadTime(y.commitVersion),x.addEntry(U)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(g,E)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=qe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function FE(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function JI(i,e){const n=Ie(i),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((x,E)=>{const w=o.get(E);if(!w)return;m.push(n.li.removeMatchingKeys(c,x.removedDocuments,E).next((()=>n.li.addMatchingKeys(c,x.addedDocuments,E))));let L=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?L=L.withResumeToken(tn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):x.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(x.resumeToken,r)),o=o.insert(E,L),(function(U,K,oe){return U.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=KI?!0:oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0})(w,L,x)&&m.push(n.li.updateTargetData(c,L))}));let g=Ni(),y=qe();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),m.push(ZI(c,d,e.documentUpdates).next((x=>{g=x.Bs,y=x.Ls}))),!r.isEqual(Ne.min())){const x=n.li.getLastRemoteSnapshotVersion(c).next((E=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(x)}return re.waitFor(m).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=o,c)))}function ZI(i,e,n){let r=qe(),o=qe();return n.forEach((c=>r=r.add(c))),e.getEntries(i,r).next((c=>{let d=Ni();return n.forEach(((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ne.min())?(e.removeEntry(m,g.readTime),d=d.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(m,g)):he(Ym,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:d,Ls:o}}))}function WI(i,e){const n=Ie(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=jm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function eM(i,e){const n=Ie(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((c=>c?(o=c,re.resolve(o)):n.li.allocateTargetId(r).next((d=>(o=new gr(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function lm(i,e,n){const r=Ie(i),o=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Bo(d))throw d;he(Ym,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function r_(i,e,n){const r=Ie(i);let o=Ne.min(),c=qe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,x){const E=Ie(g),w=E.Fs.get(x);return w!==void 0?re.resolve(E.vs.get(w)):E.li.getTargetData(y,x)})(r,d,Qa(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,m.targetId).next((g=>{c=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,n?o:Ne.min(),n?c:qe()))).next((m=>(tM(r,U2(e),m),{documents:m,ks:c})))))}function tM(i,e,n){let r=i.Ms.get(e)||Ne.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),i.Ms.set(e,r)}class s_{constructor(){this.activeTargetIds=Q2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nM{constructor(){this.vo=new s_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new s_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aM{Mo(e){}shutdown(){}}const o_="ConnectivityMonitor";class l_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(o_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(o_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hd=null;function cm(){return hd===null?hd=(function(){return 268435456+Math.round(2147483648*Math.random())})():hd++,"0x"+hd.toString(16)}const Vp="RestConnection",iM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class rM{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Ld?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,c){const d=cm(),m=this.Qo(e,n.toUriEncodedString());he(Vp,`Sending RPC '${e}' ${d}:`,m,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:y}=new URL(m),x=Po(y);return this.zo(e,m,g,r,x).then((E=>(he(Vp,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw So(Vp,`RPC '${e}' ${d} failed with error: `,E,"url: ",m,"request:",r),E}))}jo(e,n,r,o,c,d){return this.Wo(e,n,r,o,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const r=iM[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class sM{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const rn="WebChannelConnection",$l=(i,e,n)=>{i.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class _o extends rM{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!_o.c_){const e=Yx();$l(e,Kx.STAT_EVENT,(n=>{n.stat===Xp.PROXY?he(rn,"STAT_EVENT: detected buffering proxy"):n.stat===Xp.NOPROXY&&he(rn,"STAT_EVENT: detected no buffering proxy")})),_o.c_=!0}}zo(e,n,r,o,c){const d=cm();return new Promise(((m,g)=>{const y=new Gx;y.setWithCredentials(!0),y.listenOnce(Qx.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case _d.NO_ERROR:const E=y.getResponseJson();he(rn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),m(E);break;case _d.TIMEOUT:he(rn,`RPC '${e}' ${d} timed out`),g(new fe(ae.DEADLINE_EXCEEDED,"Request time out"));break;case _d.HTTP_ERROR:const w=y.getStatus();if(he(rn,`RPC '${e}' ${d} failed with status:`,w,"response text:",y.getResponseText()),w>0){let L=y.getResponseJson();Array.isArray(L)&&(L=L[0]);const G=L?.error;if(G&&G.status&&G.message){const U=(function(oe){const B=oe.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(B)>=0?B:ae.UNKNOWN})(G.status);g(new fe(U,G.message))}else g(new fe(ae.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new fe(ae.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(rn,`RPC '${e}' ${d} completed.`)}}));const x=JSON.stringify(o);he(rn,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",x,r,15)}))}T_(e,n,r){const o=cm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=c.join("");he(rn,`Creating RPC '${e}' stream ${o}: ${y}`,m);const x=d.createWebChannel(y,m);this.I_(x);let E=!1,w=!1;const L=new sM({Ho:G=>{w?he(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(E||(he(rn,`Opening RPC '${e}' stream ${o} transport.`),x.open(),E=!0),he(rn,`RPC '${e}' stream ${o} sending:`,G),x.send(G))},Jo:()=>x.close()});return $l(x,Zl.EventType.OPEN,(()=>{w||(he(rn,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),$l(x,Zl.EventType.CLOSE,(()=>{w||(w=!0,he(rn,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(x))})),$l(x,Zl.EventType.ERROR,(G=>{w||(w=!0,So(rn,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),L.o_(new fe(ae.UNAVAILABLE,"The operation could not be completed")))})),$l(x,Zl.EventType.MESSAGE,(G=>{if(!w){const U=G.data[0];We(!!U,16349);const K=U,oe=K?.error||K[0]?.error;if(oe){he(rn,`RPC '${e}' stream ${o} received error:`,oe);const B=oe.status;let se=(function(ye){const I=jt[ye];if(I!==void 0)return IE(I)})(B),pe=oe.message;se===void 0&&(se=ae.INTERNAL,pe="Unknown error status: "+B+" with message "+oe.message),w=!0,L.o_(new fe(se,pe)),x.close()}else he(rn,`RPC '${e}' stream ${o} received:`,U),L.__(U)}})),_o.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return $x()}}function oM(i){return new _o(i)}function Lp(){return typeof document<"u"?document:null}function ff(i){return new dI(i,!0)}_o.c_=!1;class GE{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const c_="PersistentStream";class QE{constructor(e,n,r,o,c,d,m,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(wi(n.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new fe(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(c_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(he(c_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lM extends QE{constructor(e,n,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=pI(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ne.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ne.min():d.readTime?Ka(d.readTime):Ne.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=om(this.serializer),n.addTarget=(function(c,d){let m;const g=d.target;if(m=tm(g)?{documents:yI(c,g)}:{query:vI(c,g).ft},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=DE(c,d.resumeToken);const y=im(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ne.min())>0){m.readTime=Hd(c,d.snapshotVersion.toTimestamp());const y=im(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=_I(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=om(this.serializer),n.removeTarget=e,this.K_(n)}}class cM extends QE{constructor(e,n,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=gI(e.writeResults,e.commitTime),r=Ka(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=om(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>mI(this.serializer,r)))};this.K_(n)}}class uM{}class dM extends uM{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,rm(n,r),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(ae.UNKNOWN,c.toString())}))}jo(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,m])=>this.connection.jo(e,rm(n,r),o,d,m,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new fe(ae.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function fM(i,e,n,r){return new dM(i,e,n,r)}class hM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wi(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const bs="RemoteStore";class pM{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{As(this)&&(he(bs,"Restarting streams for network reachability change."),await(async function(g){const y=Ie(g);y.Ea.add(4),await Ic(y),y.Va.set("Unknown"),y.Ea.delete(4),await hf(y)})(this))}))})),this.Va=new hM(r,o)}}async function hf(i){if(As(i))for(const e of i.Ra)await e(!0)}async function Ic(i){for(const e of i.Ra)await e(!1)}function KE(i,e){const n=Ie(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zm(n)?Jm(n):qo(n).O_()&&Xm(n,e))}function $m(i,e){const n=Ie(i),r=qo(n);n.Ia.delete(e),r.O_()&&YE(n,e),n.Ia.size===0&&(r.O_()?r.L_():As(n)&&n.Va.set("Unknown"))}function Xm(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qo(i).Z_(e)}function YE(i,e){i.da.$e(e),qo(i).X_(e)}function Jm(i){i.da=new oI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),qo(i).start(),i.Va.ua()}function Zm(i){return As(i)&&!qo(i).x_()&&i.Ia.size>0}function As(i){return Ie(i).Ea.size===0}function $E(i){i.da=void 0}async function mM(i){i.Va.set("Online")}async function gM(i){i.Ia.forEach(((e,n)=>{Xm(i,e)}))}async function yM(i,e){$E(i),Zm(i)?(i.Va.ha(e),Jm(i)):i.Va.set("Unknown")}async function vM(i,e,n){if(i.Va.set("Online"),e instanceof OE&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(r){he(bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fd(i,r)}else if(e instanceof Td?i.da.Xe(e):e instanceof ME?i.da.st(e):i.da.tt(e),!n.isEqual(Ne.min()))try{const r=await FE(i.localStore);n.compareTo(r)>=0&&await(function(c,d){const m=c.da.Tt(d);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(y);x&&c.Ia.set(y,x.withResumeToken(g.resumeToken,d))}})),m.targetMismatches.forEach(((g,y)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(tn.EMPTY_BYTE_STRING,x.snapshotVersion)),YE(c,g);const E=new gr(x.target,g,y,x.sequenceNumber);Xm(c,E)})),c.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(r){he(bs,"Failed to raise snapshot:",r),await Fd(i,r)}}async function Fd(i,e,n){if(!Bo(e))throw e;i.Ea.add(1),await Ic(i),i.Va.set("Offline"),n||(n=()=>FE(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{he(bs,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await hf(i)}))}function XE(i,e){return e().catch((n=>Fd(i,n,e)))}async function pf(i){const e=Ie(i),n=Nr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jm;for(;bM(e);)try{const o=await WI(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,_M(e,o)}catch(o){await Fd(e,o)}JE(e)&&ZE(e)}function bM(i){return As(i)&&i.Ta.length<10}function _M(i,e){i.Ta.push(e);const n=Nr(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function JE(i){return As(i)&&!Nr(i).x_()&&i.Ta.length>0}function ZE(i){Nr(i).start()}async function xM(i){Nr(i).ra()}async function EM(i){const e=Nr(i);for(const n of i.Ta)e.ea(n.mutations)}async function AM(i,e,n){const r=i.Ta.shift(),o=Hm.from(r,e,n);await XE(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await pf(i)}async function TM(i,e){e&&Nr(i).Y_&&await(async function(r,o){if((function(d){return iI(d)&&d!==ae.ABORTED})(o.code)){const c=r.Ta.shift();Nr(r).B_(),await XE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await pf(r)}})(i,e),JE(i)&&ZE(i)}async function u_(i,e){const n=Ie(i);n.asyncQueue.verifyOperationInProgress(),he(bs,"RemoteStore received new credentials");const r=As(n);n.Ea.add(3),await Ic(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hf(n)}async function SM(i,e){const n=Ie(i);e?(n.Ea.delete(2),await hf(n)):e||(n.Ea.add(2),await Ic(n),n.Va.set("Unknown"))}function qo(i){return i.ma||(i.ma=(function(n,r,o){const c=Ie(n);return c.sa(),new lM(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:mM.bind(null,i),Yo:gM.bind(null,i),t_:yM.bind(null,i),J_:vM.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),Zm(i)?Jm(i):i.Va.set("Unknown")):(await i.ma.stop(),$E(i))}))),i.ma}function Nr(i){return i.fa||(i.fa=(function(n,r,o){const c=Ie(n);return c.sa(),new cM(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:xM.bind(null,i),t_:TM.bind(null,i),ta:EM.bind(null,i),na:AM.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await pf(i)):(await i.fa.stop(),i.Ta.length>0&&(he(bs,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Wm{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const d=Date.now()+r,m=new Wm(e,n,d,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(i,e){if(wi("AsyncQueue",`${e}: ${i}`),Bo(i))return new fe(ae.UNAVAILABLE,`${e}: ${i}`);throw i}class xo{static emptySet(e){return new xo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ae.comparator(n.key,r.key):(n,r)=>Ae.comparator(n.key,r.key),this.keyedMap=Wl(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class d_{constructor(){this.ga=new gt(Ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Mo{constructor(e,n,r,o,c,d,m,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,c){const d=[];return n.forEach((m=>{d.push({type:0,doc:m})})),new Mo(e,n,xo.emptySet(n),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class wM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class NM{constructor(){this.queries=f_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ie(n),c=o.queries;o.queries=f_(),c.forEach(((d,m)=>{for(const g of m.ba)g.onError(r)}))})(this,new fe(ae.ABORTED,"Firestore shutting down"))}}function f_(){return new Es((i=>yE(i)),of)}async function tg(i,e){const n=Ie(i);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new wM,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const m=eg(d,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&ag(n)}async function ng(i,e){const n=Ie(i),r=e.query;let o=3;const c=n.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RM(i,e){const n=Ie(i);let r=!1;for(const o of e){const c=o.query,d=n.queries.get(c);if(d){for(const m of d.ba)m.Fa(o)&&(r=!0);d.wa=o}}r&&ag(n)}function CM(i,e,n){const r=Ie(i),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(n);r.queries.delete(e)}function ag(i){i.Ca.forEach((e=>{e.next()}))}var um,h_;(h_=um||(um={})).Ma="default",h_.Cache="cache";class ig{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Mo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==um.Cache}}class WE{constructor(e){this.key=e}}class eA{constructor(e){this.key=e}}class IM{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.eu=vE(e),this.tu=new xo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new d_,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,E)=>{const w=o.get(x),L=lf(this.query,E)?E:null,G=!!w&&this.mutatedKeys.has(w.key),U=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let K=!1;w&&L?w.data.isEqual(L.data)?G!==U&&(r.track({type:3,doc:L}),K=!0):this.su(w,L)||(r.track({type:2,doc:L}),K=!0,(g&&this.eu(L,g)>0||y&&this.eu(L,y)<0)&&(m=!0)):!w&&L?(r.track({type:0,doc:L}),K=!0):w&&!L&&(r.track({type:1,doc:w}),K=!0,(g||y)&&(m=!0)),K&&(L?(d=d.add(L),c=U?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),r.track({type:1,doc:x})}return{tu:d,iu:r,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((x,E)=>(function(L,G){const U=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:K})}};return U(L)-U(G)})(x.type,E.type)||this.eu(x.doc,E.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,d.length!==0||y?{snapshot:new Mo(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new d_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new eA(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new WE(r))})),n}cu(e){this.Za=e.ks,this.Ya=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const rg="SyncEngine";class MM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class OM{constructor(e){this.key=e,this.hu=!1}}class DM{constructor(e,n,r,o,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Es((m=>yE(m)),of),this.Iu=new Map,this.Eu=new Set,this.Ru=new gt(Ae.comparator),this.Au=new Map,this.Vu=new Gm,this.du={},this.mu=new Map,this.fu=Io.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kM(i,e,n=!0){const r=sA(i);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await tA(r,e,n,!0),o}async function jM(i,e){const n=sA(i);await tA(n,e,!0,!1)}async function tA(i,e,n,r){const o=await eM(i.localStore,Qa(e)),c=o.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let m;return r&&(m=await PM(i,e,c,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&KE(i.remoteStore,o),m}async function PM(i,e,n,r,o){i.pu=(E,w,L)=>(async function(U,K,oe,B){let se=K.view.ru(oe);se.Ss&&(se=await r_(U.localStore,K.query,!1).then((({documents:I})=>K.view.ru(I,se))));const pe=B&&B.targetChanges.get(K.targetId),_e=B&&B.targetMismatches.get(K.targetId)!=null,ye=K.view.applyChanges(se,U.isPrimaryClient,pe,_e);return m_(U,K.targetId,ye.au),ye.snapshot})(i,E,w,L);const c=await r_(i.localStore,e,!0),d=new IM(e,c.ks),m=d.ru(c.documents),g=Cc.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",o),y=d.applyChanges(m,i.isPrimaryClient,g);m_(i,n,y.au);const x=new MM(e,n,d);return i.Tu.set(e,x),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function VM(i,e,n){const r=Ie(i),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((d=>!of(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await lm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&$m(r.remoteStore,o.targetId),dm(r,o.targetId)})).catch(Uo)):(dm(r,o.targetId),await lm(r.localStore,o.targetId,!0))}async function LM(i,e){const n=Ie(i),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$m(n.remoteStore,r.targetId))}async function zM(i,e,n){const r=QM(i);try{const o=await(function(d,m){const g=Ie(d),y=ft.now(),x=m.reduce(((L,G)=>L.add(G.key)),qe());let E,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let G=Ni(),U=qe();return g.xs.getEntries(L,x).next((K=>{G=K,G.forEach(((oe,B)=>{B.isValidDocument()||(U=U.add(oe))}))})).next((()=>g.localDocuments.getOverlayedDocuments(L,G))).next((K=>{E=K;const oe=[];for(const B of m){const se=W2(B,E.get(B.key).overlayedDocument);se!=null&&oe.push(new Or(B.key,se,cE(se.value.mapValue),Wn.exists(!0)))}return g.mutationQueue.addMutationBatch(L,y,oe,m)})).next((K=>{w=K;const oe=K.applyToLocalDocumentSet(E,U);return g.documentOverlayCache.saveOverlays(L,K.batchId,oe)}))})).then((()=>({batchId:w.batchId,changes:_E(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,m,g){let y=d.du[d.currentUser.toKey()];y||(y=new gt(He)),y=y.insert(m,g),d.du[d.currentUser.toKey()]=y})(r,o.batchId,n),await Mc(r,o.changes),await pf(r.remoteStore)}catch(o){const c=eg(o,"Failed to persist write");n.reject(c)}}async function nA(i,e){const n=Ie(i);try{const r=await JI(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=n.Au.get(c);d&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?We(d.hu,14607):o.removedDocuments.size>0&&(We(d.hu,42227),d.hu=!1))})),await Mc(n,r,e)}catch(r){await Uo(r)}}function p_(i,e,n){const r=Ie(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,d)=>{const m=d.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(d,m){const g=Ie(d);g.onlineState=m;let y=!1;g.queries.forEach(((x,E)=>{for(const w of E.ba)w.va(m)&&(y=!0)})),y&&ag(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UM(i,e,n){const r=Ie(i);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new gt(Ae.comparator);d=d.insert(c,on.newNoDocument(c,Ne.min()));const m=qe().add(c),g=new df(Ne.min(),new Map,new gt(He),d,m);await nA(r,g),r.Ru=r.Ru.remove(c),r.Au.delete(e),sg(r)}else await lm(r.localStore,e,!1).then((()=>dm(r,e,n))).catch(Uo)}async function BM(i,e){const n=Ie(i),r=e.batch.batchId;try{const o=await XI(n.localStore,e);iA(n,r,null),aA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mc(n,o)}catch(o){await Uo(o)}}async function HM(i,e,n){const r=Ie(i);try{const o=await(function(d,m){const g=Ie(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return g.mutationQueue.lookupMutationBatch(y,m).next((E=>(We(E!==null,37113),x=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>g.localDocuments.getDocuments(y,x)))}))})(r.localStore,e);iA(r,e,n),aA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mc(r,o)}catch(o){await Uo(o)}}function aA(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function iA(i,e,n){const r=Ie(i);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function dm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((r=>{i.Vu.containsKey(r)||rA(i,r)}))}function rA(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&($m(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),sg(i))}function m_(i,e,n){for(const r of n)r instanceof WE?(i.Vu.addReference(r.key,e),qM(i,r)):r instanceof eA?(he(rg,"Document no longer in limbo: "+r.key),i.Vu.removeReference(r.key,e),i.Vu.containsKey(r.key)||rA(i,r.key)):we(19791,{wu:r})}function qM(i,e){const n=e.key,r=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(r)||(he(rg,"New document in limbo: "+n),i.Eu.add(r),sg(i))}function sg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Ae(ct.fromString(e)),r=i.fu.next();i.Au.set(r,new OM(n)),i.Ru=i.Ru.insert(n,r),KE(i.remoteStore,new gr(Qa(sf(n.path)),r,"TargetPurposeLimboResolution",nf.ce))}}async function Mc(i,e,n){const r=Ie(i),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{d.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const x=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){o.push(y);const x=Km.Es(g.targetId,y);c.push(x)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(g,y){const x=Ie(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>re.forEach(y,(w=>re.forEach(w.Ts,(L=>x.persistence.referenceDelegate.addReference(E,w.targetId,L))).next((()=>re.forEach(w.Is,(L=>x.persistence.referenceDelegate.removeReference(E,w.targetId,L)))))))))}catch(E){if(!Bo(E))throw E;he(Ym,"Failed to update sequence numbers: "+E)}for(const E of y){const w=E.targetId;if(!E.fromCache){const L=x.vs.get(w),G=L.snapshotVersion,U=L.withLastLimboFreeSnapshotVersion(G);x.vs=x.vs.insert(w,U)}}})(r.localStore,c))}async function FM(i,e){const n=Ie(i);if(!n.currentUser.isEqual(e)){he(rg,"User change. New user:",e.toKey());const r=await qE(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new fe(ae.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mc(n,r.Ns)}}function GM(i,e){const n=Ie(i),r=n.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let o=qe();const c=n.Iu.get(e);if(!c)return o;for(const d of c){const m=n.Tu.get(d);o=o.unionWith(m.view.nu)}return o}}function sA(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=nA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UM.bind(null,e),e.Pu.J_=RM.bind(null,e.eventManager),e.Pu.yu=CM.bind(null,e.eventManager),e}function QM(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HM.bind(null,e),e}class Gd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $I(this.persistence,new QI,e.initialUser,this.serializer)}Cu(e){return new HE(Qm.Vi,this.serializer)}Du(e){return new nM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gd.provider={build:()=>new Gd};class KM extends Gd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof qd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new MI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new HE((r=>qd.Vi(r,n)),this.serializer)}}class fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>p_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FM.bind(null,this.syncEngine),await SM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NM})()}createDatastore(e){const n=ff(e.databaseInfo.databaseId),r=oM(e.databaseInfo);return fM(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,d,m){return new pM(r,o,c,d,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>p_(this.syncEngine,n,0)),(function(){return l_.v()?new l_:new aM})())}createSyncEngine(e,n){return(function(o,c,d,m,g,y,x){const E=new DM(o,c,d,m,g,y);return x&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ie(n);he(bs,"RemoteStore shutting down."),r.Ea.add(5),await Ic(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fm.provider={build:()=>new fm};class og{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Rr="FirestoreClient";class YM{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{he(Rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(he(Rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=eg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function zp(i,e){i.asyncQueue.verifyOperationInProgress(),he(Rr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await qE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function g_(i,e){i.asyncQueue.verifyOperationInProgress();const n=await $M(i);he(Rr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>u_(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>u_(e.remoteStore,o))),i._onlineComponents=e}async function $M(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(Rr,"Using user provided OfflineComponentProvider");try{await zp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await zp(i,new Gd)}}else he(Rr,"Using default OfflineComponentProvider"),await zp(i,new KM(void 0));return i._offlineComponents}async function oA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(Rr,"Using user provided OnlineComponentProvider"),await g_(i,i._uninitializedComponentsProvider._online)):(he(Rr,"Using default OnlineComponentProvider"),await g_(i,new fm))),i._onlineComponents}function XM(i){return oA(i).then((e=>e.syncEngine))}async function Qd(i){const e=await oA(i),n=e.eventManager;return n.onListen=kM.bind(null,e.syncEngine),n.onUnlisten=VM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LM.bind(null,e.syncEngine),n}function JM(i,e,n,r){const o=new og(r),c=new ig(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>tg(await Qd(i),c))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>ng(await Qd(i),c)))}}function ZM(i,e,n={}){const r=new Ei;return i.asyncQueue.enqueueAndForget((async()=>(function(c,d,m,g,y){const x=new og({next:w=>{x.Nu(),d.enqueueAndForget((()=>ng(c,E)));const L=w.docs.has(m);!L&&w.fromCache?y.reject(new fe(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&w.fromCache&&g&&g.source==="server"?y.reject(new fe(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),E=new ig(sf(m.path),x,{includeMetadataChanges:!0,Ka:!0});return tg(c,E)})(await Qd(i),i.asyncQueue,e,n,r))),r.promise}function WM(i,e,n={}){const r=new Ei;return i.asyncQueue.enqueueAndForget((async()=>(function(c,d,m,g,y){const x=new og({next:w=>{x.Nu(),d.enqueueAndForget((()=>ng(c,E))),w.fromCache&&g.source==="server"?y.reject(new fe(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),E=new ig(m,x,{includeMetadataChanges:!0,Ka:!0});return tg(c,E)})(await Qd(i),i.asyncQueue,e,n,r))),r.promise}function eO(i,e){const n=new Ei;return i.asyncQueue.enqueueAndForget((async()=>zM(await XM(i),e,n))),n.promise}function lA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const tO="ComponentProvider",y_=new Map;function nO(i,e,n,r,o){return new x2(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,lA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const cA="firestore.googleapis.com",v_=!0;class b_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cA,this.ssl=v_}else this.host=e.host,this.ssl=e.ssl??v_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CI)throw new fe(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new e2;switch(r.type){case"firstParty":return new i2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=y_.get(n);r&&(he(tO,"Removing Datastore"),y_.delete(n),r.terminate())})(this),Promise.resolve()}}function aO(i,e,n,r={}){i=An(i,mf);const o=Po(e),c=i._getSettings(),d={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(tx(`https://${m}`),nx("Firestore",!0)),c.host!==cA&&c.host!==m&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:r};if(!Er(g,d)&&(i._setSettings(g),r.mockUserToken)){let y,x;if(typeof r.mockUserToken=="string")y=r.mockUserToken,x=sn.MOCK_USER;else{y=rw(r.mockUserToken,i._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new fe(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new sn(E)}i._authCredentials=new t2(new Jx(y,x))}}class Dr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dr(this.firestore,e,this._query)}}class _t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Nc(n,_t._jsonSchema))return new _t(e,r||null,new Ae(ct.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Vt("string",_t._jsonSchemaVersion),referencePath:Vt("string")};class xr extends Dr{constructor(e,n,r){super(e,n,sf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new Ae(e))}withConverter(e){return new xr(this.firestore,e,this._path)}}function zt(i,e,...n){if(i=Bt(i),Zx("collection","path",e),i instanceof mf){const r=ct.fromString(e,...n);return Ob(r),new xr(i,null,r)}{if(!(i instanceof _t||i instanceof xr))throw new fe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ct.fromString(e,...n));return Ob(r),new xr(i.firestore,null,r)}}function lt(i,e,...n){if(i=Bt(i),arguments.length===1&&(e=km.newId()),Zx("doc","path",e),i instanceof mf){const r=ct.fromString(e,...n);return Mb(r),new _t(i,null,new Ae(r))}{if(!(i instanceof _t||i instanceof xr))throw new fe(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ct.fromString(e,...n));return Mb(r),new _t(i.firestore,i instanceof xr?i.converter:null,new Ae(r))}}const __="AsyncQueue";class x_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GE(this,"async_queue_retry"),this._c=()=>{const r=Lp();r&&he(__,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Lp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ei;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Bo(e))throw e;he(__,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,wi("INTERNAL UNHANDLED ERROR: ",E_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Wm.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:E_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function E_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Ri extends mf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new x_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new x_(e),this._firestoreClient=void 0,await e}}}function iO(i,e){const n=typeof i=="object"?i:sx(),r=typeof i=="string"?i:Ld,o=Tm(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=aw("firestore");c&&aO(o,...c)}return o}function gf(i){if(i._terminated)throw new fe(ae.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||rO(i),i._firestoreClient}function rO(i){const e=i._freezeSettings(),n=nO(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new YM(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(tn.fromBase64String(e))}catch(n){throw new fe(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nc(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Vt("string",Zn._jsonSchemaVersion),bytes:Vt("string")};class lg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oc{constructor(e){this._methodName=e}}class Ya{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ya._jsonSchemaVersion}}static fromJSON(e){if(Nc(e,Ya._jsonSchema))return new Ya(e.latitude,e.longitude)}}Ya._jsonSchemaVersion="firestore/geoPoint/1.0",Ya._jsonSchema={type:Vt("string",Ya._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class ya{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ya._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nc(e,ya._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ya(e.vectorValues);throw new fe(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ya._jsonSchemaVersion="firestore/vectorValue/1.0",ya._jsonSchema={type:Vt("string",ya._jsonSchemaVersion),vectorValues:Vt("object")};const sO=/^__.*__$/;class oO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Or(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rc(e,this.data,n,this.fieldTransforms)}}class uA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Or(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:i})}}class yf{constructor(e,n,r,o,c,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new yf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Kd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(dA(this.dataSource)&&sO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class lO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ff(e)}createContext(e,n,r,o=!1){return new yf({dataSource:e,methodName:n,targetDoc:r,path:en.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vf(i){const e=i._freezeSettings(),n=ff(i._databaseId);return new lO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function fA(i,e,n,r,o,c={}){const d=i.createContext(c.merge||c.mergeFields?2:0,e,n,o);dg("Data must be an object, but it was:",d,r);const m=hA(r,d);let g,y;if(c.merge)g=new jn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const E of c.mergeFields){const w=_s(e,E,n);if(!d.contains(w))throw new fe(ae.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);gA(x,w)||x.push(w)}g=new jn(x),y=d.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=d.fieldTransforms;return new oO(new En(m),g,y)}class bf extends Oc{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bf}}function cO(i,e,n){return new yf({dataSource:3,targetDoc:e.settings.targetDoc,methodName:i._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class cg extends Oc{_toFieldTransform(e){return new NE(e.path,new yc)}isEqual(e){return e instanceof cg}}class ug extends Oc{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=cO(this,e,!0),r=this.Ac.map((c=>Fo(c,n))),o=new Co(r);return new NE(e.path,o)}isEqual(e){return e instanceof ug&&Er(this.Ac,e.Ac)}}function uO(i,e,n,r){const o=i.createContext(1,e,n);dg("Data must be an object, but it was:",o,r);const c=[],d=En.empty();Mr(r,((g,y)=>{const x=mA(e,g,n);y=Bt(y);const E=o.childContextForFieldPath(x);if(y instanceof bf)c.push(x);else{const w=Fo(y,E);w!=null&&(c.push(x),d.set(x,w))}}));const m=new jn(c);return new uA(d,m,o.fieldTransforms)}function dO(i,e,n,r,o,c){const d=i.createContext(1,e,n),m=[_s(e,r,n)],g=[o];if(c.length%2!=0)throw new fe(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)m.push(_s(e,c[w])),g.push(c[w+1]);const y=[],x=En.empty();for(let w=m.length-1;w>=0;--w)if(!gA(y,m[w])){const L=m[w];let G=g[w];G=Bt(G);const U=d.childContextForFieldPath(L);if(G instanceof bf)y.push(L);else{const K=Fo(G,U);K!=null&&(y.push(L),x.set(L,K))}}const E=new jn(y);return new uA(x,E,d.fieldTransforms)}function fO(i,e,n,r=!1){return Fo(n,i.createContext(r?4:3,e))}function Fo(i,e){if(pA(i=Bt(i)))return dg("Unsupported field value:",e,i),hA(i,e);if(i instanceof Oc)return(function(r,o){if(!dA(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let d=0;for(const m of r){let g=Fo(m,o.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(i,e)}return(function(r,o){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return K2(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ft.fromDate(r);return{timestampValue:Hd(o.serializer,c)}}if(r instanceof ft){const c=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hd(o.serializer,c)}}if(r instanceof Ya)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zn)return{bytesValue:DE(o.serializer,r._byteString)};if(r instanceof _t){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Fm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ya)return(function(d,m){const g=d instanceof ya?d.toArray():d;return{mapValue:{fields:{[oE]:{stringValue:lE},[zd]:{arrayValue:{values:g.map((x=>{if(typeof x!="number")throw m.createError("VectorValues must only contain numeric values.");return Um(m.serializer,x)}))}}}}}})(r,o);if(UE(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${tf(r)}`)})(i,e)}function hA(i,e){const n={};return tE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mr(i,((r,o)=>{const c=Fo(o,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function pA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ft||i instanceof Ya||i instanceof Zn||i instanceof _t||i instanceof Oc||i instanceof ya||UE(i))}function dg(i,e,n){if(!pA(n)||!Wx(n)){const r=tf(n);throw r==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+r)}}function _s(i,e,n){if((e=Bt(e))instanceof lg)return e._internalPath;if(typeof e=="string")return mA(i,e);throw Kd("Field path arguments must be of type string or ",i,!1,void 0,n)}const hO=new RegExp("[~\\*/\\[\\]]");function mA(i,e,n){if(e.search(hO)>=0)throw Kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new lg(...e.split("."))._internalPath}catch{throw Kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Kd(i,e,n,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${o}`),g+=")"),new fe(ae.INVALID_ARGUMENT,m+i+g)}function gA(i,e){return i.some((n=>n.isEqual(e)))}class pO{convertValue(e,n="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Mr(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[zd].arrayValue?.values?.map((r=>St(r.doubleValue)));return new ya(n)}convertGeoPoint(e){return new Ya(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){const n=Tr(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);We(zE(r),9688,{name:e});const o=new pc(r.get(1),r.get(3)),c=new Ae(r.popFirst(5));return o.isEqual(n)||wi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class fg extends pO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function kn(){return new cg("serverTimestamp")}function mO(...i){return new ug("arrayUnion",i)}const A_="@firebase/firestore",T_="4.10.0";function S_(i){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class yA{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(_s("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gO extends yA{data(){return super.data()}}function vA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hg{}class bA extends hg{}function va(i,e,...n){let r=[];e instanceof hg&&r.push(e),r=r.concat(n),(function(c){const d=c.filter((g=>g instanceof pg)).length,m=c.filter((g=>g instanceof _f)).length;if(d>1||d>0&&m>0)throw new fe(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class _f extends bA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _f(e,n,r)}_apply(e){const n=this._parse(e);return _A(e._query,n),new Dr(e.firestore,e.converter,nm(e._query,n))}_parse(e){const n=vf(e.firestore);return(function(c,d,m,g,y,x,E){let w;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new fe(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){N_(E,x);const G=[];for(const U of E)G.push(w_(g,c,U));w={arrayValue:{values:G}}}else w=w_(g,c,E)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||N_(E,x),w=fO(m,d,E,x==="in"||x==="not-in");return Pt.create(y,x,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $a(i,e,n){const r=e,o=_s("where",i);return _f._create(o,r,n)}class pg extends hg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:_a.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let d=o;const m=c.getFlattenedFilters();for(const g of m)_A(d,g),d=nm(d,g)})(e._query,n),new Dr(e.firestore,e.converter,nm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mg extends bA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new mg(e,n)}_apply(e){const n=(function(o,c,d){if(o.startAt!==null)throw new fe(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gc(c,d)})(e._query,this._field,this._direction);return new Dr(e.firestore,e.converter,z2(e._query,n))}}function Eo(i,e="asc"){const n=e,r=_s("orderBy",i);return mg._create(r,n)}function w_(i,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new fe(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gE(e)&&n.indexOf("/")!==-1)throw new fe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ct.fromString(n));if(!Ae.isDocumentKey(r))throw new fe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ub(i,new Ae(r))}if(n instanceof _t)return Ub(i,n._key);throw new fe(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(n)}.`)}function N_(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _A(i,e){const n=(function(o,c){for(const d of o)for(const m of d.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function xA(i,e,n){let r;return r=i?i.toFirestore(e):e,r}class tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fs extends yA{constructor(e,n,r,o,c,d){super(e,n,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_s("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",fs._jsonSchema={type:Vt("string",fs._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Sd extends fs{data(e={}){return super.data(e)}}class hs{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new tc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Sd(this._firestore,this._userDataWriter,r.key,r,new tc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((m=>{const g=new Sd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new tc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new Sd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new tc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,x=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),x=d.indexOf(m.doc.key)),{type:yO(m.type),doc:g,oldIndex:y,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:i})}}hs._jsonSchemaVersion="firestore/querySnapshot/1.0",hs._jsonSchema={type:Vt("string",hs._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};function wd(i){i=An(i,_t);const e=An(i.firestore,Ri),n=gf(e);return ZM(n,i._key).then((r=>AA(e,i,r)))}function Yd(i){i=An(i,Dr);const e=An(i.firestore,Ri),n=gf(e),r=new fg(e);return vA(i._query),WM(n,i._query).then((o=>new hs(e,r,i,o)))}function EA(i,e,n){i=An(i,_t);const r=An(i.firestore,Ri),o=xA(i.converter,e),c=vf(r);return xf(r,[fA(c,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Wn.none())])}function Xn(i,e,n,...r){i=An(i,_t);const o=An(i.firestore,Ri),c=vf(o);let d;return d=typeof(e=Bt(e))=="string"||e instanceof lg?dO(c,"updateDoc",i._key,e,n,r):uO(c,"updateDoc",i._key,e),xf(o,[d.toMutation(i._key,Wn.exists(!0))])}function ps(i){return xf(An(i.firestore,Ri),[new Bm(i._key,Wn.none())])}function lc(i,e){const n=An(i.firestore,Ri),r=lt(i),o=xA(i.converter,e),c=vf(i.firestore);return xf(n,[fA(c,"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,Wn.exists(!1))]).then((()=>r))}function ga(i,...e){i=Bt(i);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||S_(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(S_(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,d,m;if(i instanceof _t)d=An(i.firestore,Ri),m=sf(i._key.path),c={next:y=>{e[r]&&e[r](AA(d,i,y))},error:e[r+1],complete:e[r+2]};else{const y=An(i,Dr);d=An(y.firestore,Ri),m=y._query;const x=new fg(d);c={next:E=>{e[r]&&e[r](new hs(d,x,y,E))},error:e[r+1],complete:e[r+2]},vA(i._query)}const g=gf(d);return JM(g,m,o,c)}function xf(i,e){const n=gf(i);return eO(n,e)}function AA(i,e,n){const r=n.docs.get(e._key),o=new fg(i);return new fs(i,o,e._key,r,new tc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){WC(Vo),Ao(new ms("firestore",((r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),m=new Ri(new n2(r.getProvider("auth-internal")),new r2(d,r.getProvider("app-check-internal")),E2(d,o),d);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),br(A_,T_,e),br(A_,T_,"esm2020")})();const vO={apiKey:"AIzaSyB3p9kAAb0TJXvJMKzUS6pummdlkbzlt6I",authDomain:"fft12l.firebaseapp.com",projectId:"fft12l",storageBucket:"fft12l.firebasestorage.app",messagingSenderId:"459190857682",appId:"1:459190857682:web:d857f4bf1fa2e5ec11220b"},TA=rx(vO),Ze=JC(TA),Re=iO(TA),SA=(i,e)=>Dx(Ze,i,e),bO="/FF-12Liberation/assets/chocobo-loading-CZsGc2ZM.gif",wA="/FF-12Liberation/assets/musica-tema-78rqvj_H.mp3",_O="/FF-12Liberation/assets/fundo-rpg-BXz1tR4K.jpg",Oo=new Audio(wA);Oo.loop=!0;function xO(){const i=jo(),e=()=>{Oo.play().then(()=>{console.log("ter musical sintonizado.")}).catch(n=>{console.log("Aguardando interao para liberar udio: ",n)}),i("/login")};return p.jsxs("div",{className:"landing-container",onClick:e,children:[p.jsxs("div",{className:"content",children:[p.jsx("h1",{className:"game-title",children:"FINAL FANTASY"}),p.jsx("h2",{className:"sub-title",children:"12 Libertao"}),p.jsx("div",{className:"press-start",children:"PRESS START"})]}),p.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .landing-container {
          height: 100vh;
          width: 100vw;
          display: flex;
          align-items: center;
          justify-content: center;
          /* Gradiente FF clssico sobre a imagem de fundo */
          background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), 
                      url(${_O}) no-repeat center center;
          background-size: cover; 
          cursor: pointer;
          position: fixed;
          top: 0;
          left: 0;
          z-index: 1000;
        }

        .content {
          text-align: center;
          /* Animao de entrada suave com blur */
          animation: fadeInSuave 4s ease-in-out; 
        }

        .game-title {
          font-size: clamp(30px, 8vw, 60px);
          letter-spacing: 8px;
          color: #fff;
          text-shadow: 3px 3px 5px #000, 0 0 20px rgba(0, 242, 255, 0.5);
          font-family: 'serif';
        }

        .sub-title {
          font-size: clamp(14px, 4vw, 24px);
          color: #ffcc00;
          margin-top: 10px;
          text-shadow: 1px 1px 3px #000;
          font-family: 'serif';
        }

        .press-start {
          margin-top: 80px;
          font-size: 20px;
          color: #fff;
          letter-spacing: 5px;
          text-shadow: 0 0 10px #00f2ff;
          /* Efeito pulsante clssico de menu */
          animation: blink 1.5s infinite;
          font-family: 'sans-serif';
        }

        @keyframes blink {
          0%, 100% { opacity: 0; }
          50% { opacity: 1; }
        }

        @keyframes fadeInSuave {
          from { opacity: 0; filter: blur(15px); transform: scale(0.9); }
          to { opacity: 1; filter: blur(0); transform: scale(1); }
        }
      `}})]})}const NA="/FF-12Liberation/assets/video-fundo-B5LPnOg0.mp4",EO="/FF-12Liberation/assets/botao-admin-T-iaDg61.png";function AO(){const i=jo(),e=O.useRef(null),[n,r]=O.useState(null),[o,c]=O.useState(""),[d,m]=O.useState(""),[g,y]=O.useState(""),x=()=>{e.current&&(e.current.pause(),e.current.currentTime=0)};O.useEffect(()=>{if(e.current){e.current.volume=.1;const L=e.current.play();L!==void 0&&L.catch(G=>{console.log("Autoplay bloqueado pelo navegador (interao necessria):",G)})}return()=>{x()}},[]);const E=async L=>{L.preventDefault(),y("");try{const U=(await SA(o,d)).user,K=lt(Re,"users",U.uid),oe=await wd(K);if(oe.exists()){const B=oe.data();if(n==="master"&&B.role!=="mestre"){y("ACESSO NEGADO: VOC NO  UM MESTRE.");return}if(x(),B.role==="mestre")i("/mestre");else{const se=lt(Re,"characters",U.uid);(await wd(se)).exists()?i("/jogador-vtt"):i("/create-character")}}else{const B=lt(Re,"characters",U.uid),se=await wd(B);x(),se.exists()?i("/jogador-vtt"):i("/create-character")}}catch(G){console.error(G),y("FALHA NA CONEXO COM O TER.")}},w=()=>{x(),i("/admin-login")};return p.jsxs("div",{className:"login-container",children:[p.jsx("audio",{ref:e,loop:!0,children:p.jsx("source",{src:wA,type:"audio/mp3"})}),p.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:"background-video",children:p.jsx("source",{src:NA,type:"video/mp4"})}),p.jsx("div",{className:"content-overlay",children:n?p.jsxs("form",{className:"login-panel fade-in",onSubmit:E,children:[p.jsx("button",{type:"button",className:"ff-back",onClick:()=>r(null),children:" RETORNAR"}),p.jsx("h3",{className:"ff-subtitle",children:n==="master"?"NARRADOR":"JOGADOR"}),p.jsxs("div",{className:"ff-input-group",children:[p.jsx("input",{type:"email",placeholder:"E-MAIL",value:o,onChange:L=>c(L.target.value),required:!0}),p.jsx("input",{type:"password",placeholder:"SENHA",value:d,onChange:L=>m(L.target.value),required:!0})]}),g&&p.jsx("p",{className:"ff-error",children:g}),p.jsx("button",{type:"submit",className:"ff-submit",children:"ENTRAR"})]}):p.jsxs("div",{className:"selection-screen fade-in",children:[p.jsx("h2",{className:"ff-title",children:"ESCOLHA SUA JORNADA"}),p.jsxs("div",{className:"ff-button-group",children:[p.jsx("button",{className:"ff-btn",onClick:()=>r("player"),children:"JOGADOR"}),p.jsx("button",{className:"ff-btn",onClick:()=>r("master"),children:"NARRADOR"})]})]})}),p.jsx("button",{className:"admin-portal-btn",onClick:w,title:"Acesso ao Narrador",children:p.jsx("img",{src:EO,alt:"Portal Admin"})}),p.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .login-container {
          height: 100vh;
          width: 100vw;
          background: #000;
          display: flex;
          align-items: center;
          justify-content: center;
          overflow: hidden;
          position: relative;
        }

        .background-video {
          position: absolute;
          top: 50%;
          left: 50%;
          min-width: 100%;
          min-height: 100%;
          width: auto;
          height: auto;
          z-index: 1; 
          transform: translate(-50%, -50%);
          object-fit: cover;
          animation: quickLoopFade 0.5s ease-in-out;
        }

        @keyframes quickLoopFade {
          0% { opacity: 0; }
          100% { opacity: 1; }
        }

        .content-overlay {
          position: relative;
          z-index: 10;
          display: flex;
          align-items: center;
          justify-content: center;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.4);
        }

        .ff-title { 
          color: #fff; 
          font-size: 32px; 
          letter-spacing: 8px; 
          margin-bottom: 40px; 
          text-shadow: 0 0 15px rgba(255, 255, 255, 0.5); 
          text-align: center;
          font-family: 'serif'; 
        }

        .ff-subtitle { color: #ffcc00; letter-spacing: 4px; margin-bottom: 30px; text-align: center; }
        .ff-button-group { display: flex; flex-direction: column; gap: 20px; align-items: center; }
        
        /* Botes Iniciais */
        .ff-btn {
          background: rgba(0, 0, 30, 0.6); 
          border: 1px solid rgba(255, 255, 255, 0.6);
          color: #fff;
          padding: 15px 50px;
          letter-spacing: 3px;
          cursor: pointer;
          transition: 0.4s;
          width: 280px;
          backdrop-filter: blur(5px);
          font-weight: bold;
        }

        /* Boto de Entrar (Ajustado para igualar a largura dos inputs) */
        .ff-submit {
          background: rgba(0, 0, 30, 0.6); 
          border: 1px solid rgba(255, 255, 255, 0.6);
          color: #fff;
          padding: 15px 0; /* padding lateral removido para usar width */
          letter-spacing: 3px;
          cursor: pointer;
          transition: 0.4s;
          width: 326px; /* 300px input + 24px padding + 2px border */
          backdrop-filter: blur(5px);
          font-weight: bold;
          margin: 0 auto;
          display: block;
        }

        .ff-btn:hover, .ff-submit:hover { 
          background: #fff; 
          color: #000; 
          box-shadow: 0 0 20px #fff; 
        }

        .ff-input-group input {
          display: block; 
          width: 300px; 
          padding: 12px; 
          margin: 0 auto 20px auto;
          background: rgba(0, 0, 0, 0.7); 
          border: 1px solid #444;
          color: #fff; 
          text-align: center; 
          letter-spacing: 2px; 
          outline: none;
        }

        .ff-input-group input:focus { border-color: #ffcc00; }
        .ff-back { background: none; border: none; color: #ffcc00; cursor: pointer; margin-bottom: 15px; display: block; font-weight: bold; }
        .ff-error { color: #ff4444; font-size: 12px; margin-bottom: 15px; text-shadow: 0 0 5px #000; text-align: center; }

        .admin-portal-btn {
          position: absolute;
          bottom: 30px;
          right: 30px;
          z-index: 100;
          background: none;
          border: none;
          cursor: pointer;
          width: 70px;
          transition: 0.5s;
          filter: drop-shadow(0 0 8px rgba(0, 242, 255, 0.6));
        }

        .admin-portal-btn img { width: 100%; height: auto; }
        .admin-portal-btn:hover { transform: scale(1.2) rotate(-5deg); filter: drop-shadow(0 0 15px #00f2ff); }

        .fade-in { animation: fadeInFF 2s ease-out forwards; }

        @keyframes fadeInFF {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `}})]})}function TO(){const[i,e]=O.useState(""),[n,r]=O.useState(""),[o,c]=O.useState(""),d=jo(),m=async g=>{if(g.preventDefault(),i!=="fffvtt10@gmail.com"){c("VOC NO TEM PERMISSO DE NARRADOR.");return}try{await Dx(Ze,i,n),d("/admin")}catch{c("SENHA INCORRETA PARA O MESTRE.")}};return p.jsxs("div",{className:"login-container",children:[p.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"background-video",children:p.jsx("source",{src:NA,type:"video/mp4"})}),p.jsx("div",{className:"content-overlay",children:p.jsxs("form",{className:"login-panel fade-in",onSubmit:m,children:[p.jsx("button",{type:"button",className:"ff-back",onClick:()=>d("/"),children:" RETORNAR"}),p.jsx("h3",{className:"ff-subtitle",children:"PORTAL DO ADMINISTRADOR"}),p.jsxs("div",{className:"ff-input-group",children:[p.jsx("input",{type:"email",placeholder:"E-MAIL",value:i,onChange:g=>e(g.target.value),required:!0}),p.jsx("input",{type:"password",placeholder:"CHAVE DE ACESSO",value:n,onChange:g=>r(g.target.value),required:!0})]}),o&&p.jsx("p",{className:"ff-error",children:o}),p.jsx("button",{type:"submit",className:"ff-submit",children:"DESBLOQUEAR"})]})}),p.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .login-container { height: 100vh; width: 100vw; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; background: #000; }
        .background-video { position: absolute; top: 50%; left: 50%; min-width: 100%; min-height: 100%; transform: translate(-50%, -50%); object-fit: cover; z-index: 1; }
        .content-overlay { position: relative; z-index: 10; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.5); }
        .login-panel { 
          background: rgba(0, 0, 30, 0.7); 
          padding: 40px; 
          border: 1px solid #00f2ff; 
          backdrop-filter: blur(10px); 
          text-align: center;
          box-shadow: 0 0 20px rgba(0, 242, 255, 0.2);
        }
        .ff-subtitle { color: #ffcc00; letter-spacing: 4px; margin-bottom: 20px; }
        input { display: block; width: 280px; padding: 12px; margin: 10px auto; background: rgba(0,0,0,0.8); border: 1px solid #444; color: #fff; text-align: center; outline: none; }
        input:focus { border-color: #00f2ff; }
        .ff-submit { background: transparent; border: 1px solid #fff; color: #fff; padding: 12px 40px; cursor: pointer; transition: 0.3s; width: 100%; letter-spacing: 2px; }
        .ff-submit:hover { background: #fff; color: #000; box-shadow: 0 0 15px #fff; }
        .ff-back { background: none; border: none; color: #ffcc00; cursor: pointer; margin-bottom: 10px; }
        .fade-in { animation: fadeInFF 1.5s ease-out; }
        @keyframes fadeInFF { from { opacity: 0; } to { opacity: 1; } }
      `}})]})}function SO(){const[i,e]=O.useState([]),[n,r]=O.useState([]),[o,c]=O.useState(""),[d,m]=O.useState(""),[g,y]=O.useState("jogador"),[x,E]=O.useState("");O.useEffect(()=>{Oo&&Oo.pause()},[]),O.useEffect(()=>{w()},[]);const w=async()=>{try{const se=(await Yd(zt(Re,"users"))).docs.map(ye=>({id:ye.id,...ye.data()})).filter(ye=>ye.email!=="fffvtt10@gmail.com"),_e=(await Yd(zt(Re,"characters"))).docs.map(ye=>({id:ye.id,...ye.data()}));e(se),r(_e)}catch(B){console.error("Erro ao carregar dados do ter: ",B)}},L=async B=>{B.preventDefault();const se="fffvtt10@gmail.com",pe="SUA_SENHA_AQUI";try{const ye=(await jR(Ze,o,d)).user;await EA(lt(Re,"users",ye.uid),{email:o,role:g,active:!0,createdAt:new Date}),alert("Usurio invocado! Reconectando Admin..."),await SA(se,pe),c(""),m(""),w()}catch(_e){alert("Erro no processo (Verifique a senha no cdigo!): "+_e.message)}},G=async(B,se)=>{if(window.confirm(`Deseja banir permanentemente ${se} do ter?`))try{await ps(lt(Re,"users",B)),await ps(lt(Re,"characters",B)),alert("Conta e personagem banidos com sucesso."),w()}catch(pe){alert("Erro ao banir usurio: "+pe.message)}},U=async B=>{if(window.confirm("Tem certeza que deseja apagar APENAS o personagem deste usurio? Ele ter que criar outro."))try{await ps(lt(Re,"characters",B)),alert("Personagem deletado. O usurio continua ativo."),w()}catch(se){alert("Erro ao deletar personagem: "+se.message)}},K=B=>{const se=n.find(pe=>pe.uid===B);return se||null},oe=async()=>{if(x.length<6)return alert("A senha deve ter no mnimo 6 caracteres.");try{await PR(Ze.currentUser,x),alert("Sua chave de mestre foi alterada!"),E("")}catch{alert("Erro ao trocar senha. Tente fazer login novamente.")}};return p.jsxs("div",{className:"admin-dashboard",children:[p.jsx("div",{className:"ether-vortex"}),p.jsxs("div",{className:"admin-content",children:[p.jsx("h1",{className:"main-title",children:"GESTO DO TER SUPREMO"}),p.jsxs("div",{className:"cards-grid",children:[p.jsxs("div",{className:"ff-card fade-in",children:[p.jsx("h3",{children:"INVOCAR NOVA CONTA"}),p.jsxs("form",{onSubmit:L,children:[p.jsx("input",{type:"email",placeholder:"E-mail do Alvo",value:o,onChange:B=>c(B.target.value),required:!0}),p.jsx("input",{type:"password",placeholder:"Definir Senha Inicial",value:d,onChange:B=>m(B.target.value),required:!0}),p.jsxs("select",{value:g,onChange:B=>y(B.target.value),children:[p.jsx("option",{value:"jogador",children:"JOGADOR"}),p.jsx("option",{value:"mestre",children:"MESTRE"})]}),p.jsx("button",{type:"submit",children:"CRIAR ACESSO"})]})]}),p.jsxs("div",{className:"ff-card fade-in",children:[p.jsx("h3",{children:"VIAJANTES E MESTRES"}),p.jsx("div",{className:"list-box",children:i.map(B=>{const se=K(B.id);return p.jsxs("div",{className:"item",children:[p.jsxs("div",{style:{flex:1},children:[p.jsx("span",{className:`badge ${B.role}`,children:B.role.toUpperCase()}),p.jsx("p",{className:"email-text",children:B.email}),se&&p.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"4px"},children:[p.jsxs("span",{style:{fontSize:"10px",color:"#ffcc00",marginRight:"10px"},children:[" ",se.name," (",se.class,")"]}),p.jsx("button",{className:"btn-mini-del",onClick:()=>U(B.id),title:"Apagar Personagem",children:" Excluir Char"})]})]}),p.jsxs("div",{className:"btn-group",children:[p.jsx("button",{onClick:()=>{kR(Ze,B.email),alert("E-mail de reset enviado.")},children:"RESET"}),p.jsx("button",{className:"del",onClick:()=>G(B.id,B.email),children:"BANIR"})]})]},B.id)})})]}),p.jsxs("div",{className:"ff-card fade-in",children:[p.jsx("h3",{children:"MINHA CHAVE DE ADMIN"}),p.jsx("input",{type:"password",placeholder:"Nova Senha",value:x,onChange:B=>E(B.target.value)}),p.jsx("button",{onClick:oe,children:"TROCAR MINHA SENHA"})]})]})]}),p.jsx("style",{children:`
        .admin-dashboard { background: radial-gradient(circle at center, #001a33 0%, #000000 100%); min-height: 100vh; color: #fff; font-family: 'Segoe UI', sans-serif; position: relative; overflow: hidden; }
        .ether-vortex { content: ""; position: absolute; top: -100%; left: -100%; width: 300%; height: 300%; background: conic-gradient(from 0deg, transparent, rgba(0, 242, 255, 0.08), transparent); animation: rotateEther 30s linear infinite; z-index: 0; pointer-events: none; }
        @keyframes rotateEther { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .admin-content { position: relative; z-index: 1; padding: 40px; }
        .main-title { color: #ffcc00; text-align: center; letter-spacing: 5px; margin-bottom: 50px; text-shadow: 0 0 10px #ffcc00; }
        .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 30px; }
        .ff-card { background: rgba(0, 10, 30, 0.85); border: 1px solid rgba(0, 242, 255, 0.5); padding: 25px; border-radius: 8px; box-shadow: 0 0 20px rgba(0,242,255,0.1); backdrop-filter: blur(10px); }
        h3 { color: #00f2ff; font-size: 14px; border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 20px; }
        .item { display: flex; justify-content: space-between; align-items: flex-start; padding: 10px 0; border-bottom: 1px solid #111; }
        .email-text { font-size: 11px; color: #ccc; margin: 2px 0; overflow: hidden; text-overflow: ellipsis; }
        .badge { font-size: 9px; padding: 2px 6px; border-radius: 3px; font-weight: bold; color: #000; }
        .badge.mestre { background: #ffcc00; }
        .badge.jogador { background: #00f2ff; }
        .btn-group { display: flex; gap: 8px; align-items: center; }
        input, select { background: rgba(0,0,0,0.8); border: 1px solid #444; color: #fff; padding: 12px; width: 100%; margin-bottom: 15px; outline: none; transition: 0.3s; }
        input:focus { border-color: #ffcc00; }
        button { background: transparent; border: 1px solid #00f2ff; color: #fff; padding: 8px 15px; cursor: pointer; transition: 0.3s; font-size: 11px; }
        button:hover { background: #fff; color: #000; box-shadow: 0 0 10px #fff; }
        button.del { border-color: #ff4444; color: #ff4444; }
        button.del:hover { background: #ff4444; color: white; border-color: #ff4444; }
        .btn-mini-del { padding: 2px 6px; font-size: 9px; border-color: #ff4444; color: #ff4444; margin-left: 0; }
        .btn-mini-del:hover { background: #ff4444; color: #fff; }
        .list-box { max-height: 250px; overflow-y: auto; }
        .list-box::-webkit-scrollbar { width: 4px; }
        .list-box::-webkit-scrollbar-thumb { background: #00f2ff; }
        .fade-in { animation: fadeIn 1.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
      `})]})}const wO="/FF-12Liberation/assets/fundo-mestre-OTxRyTTC.jpg",hm="/FF-12Liberation/assets/sanchez-1nilABmc.jpeg",RA="/FF-12Liberation/assets/papiro-CRka9pgw.png",NO="/FF-12Liberation/assets/bazar-DZ7p321B.png";function CA({isMestre:i,playerData:e}){const[n,r]=O.useState(!1),[o,c]=O.useState([]),[d,m]=O.useState([]),[g,y]=O.useState(""),[x,E]=O.useState(null),[w,L]=O.useState(""),[G,U]=O.useState({nome:"",descricao:"",imagem:"",valorGil:"",valorReal:""});O.useEffect(()=>{if(!n)return;const T=va(zt(Re,"game_items"),$a("status","==","bazar"),Eo("updatedAt","desc")),M=ga(T,j=>{c(j.docs.map(C=>({id:C.id,...C.data()})))});return()=>M()},[n]),O.useEffect(()=>{if(!n||!i)return;const T=va(zt(Re,"game_items"),$a("status","==","vault"),Eo("nome","asc")),M=ga(T,j=>{m(j.docs.map(C=>({id:C.id,...C.data()})))});return()=>M()},[n,i]);const K=T=>{const M=T.target.value;if(L(M),!M)return;const j=d.find(C=>C.id===M);j&&U({...G,nome:j.nome,descricao:j.descricao,imagem:j.imagem,valorGil:"",valorReal:""})},oe=async T=>{if(T.preventDefault(),!G.nome||!G.valorGil)return alert("Preencha nome e valor em Gil!");try{const M={...G,updatedAt:kn()};x?(await Xn(lt(Re,"game_items",x),M),E(null)):w?(await Xn(lt(Re,"game_items",w),{...M,status:"bazar"}),L("")):await lc(zt(Re,"game_items"),{...M,status:"bazar",ownerId:null,createdAt:kn()}),U({nome:"",descricao:"",imagem:"",valorGil:"",valorReal:""})}catch{alert("Erro ao salvar item no Bazar.")}},B=async T=>{window.confirm("Remover do mercado? O item voltar para a Forja.")&&await Xn(lt(Re,"game_items",T),{status:"vault",updatedAt:kn()})},se=async T=>{if(!Ze.currentUser)return alert("Voc precisa estar logado.");const M=e?.character_sheet?.inventory?.gil||0,j=Number(T.valorGil);if(M<j)return alert(`Saldo insuficiente! Voc tem ${M} Gil, mas o item custa ${j} Gil.`);if(window.confirm(`Comprar "${T.nome}" por ${T.valorGil} Gil?`))try{const De=M-j,Ke=lt(Re,"characters",Ze.currentUser.uid),J=JSON.parse(JSON.stringify(e.character_sheet));J.inventory.gil=De,await Xn(Ke,{character_sheet:J}),await Xn(lt(Re,"game_items",T.id),{status:"requested",ownerId:Ze.currentUser.uid,buyerName:e.name,updatedAt:kn()}),alert(`Solicitao enviada! O Mestre aprovar a entrega em breve. Saldo restante: ${De} Gil.`)}catch(De){console.error(De),alert("Erro na transao.")}},[pe,_e]=O.useState([]);O.useEffect(()=>{if(!i||!n)return;const T=va(zt(Re,"game_items"),$a("status","==","requested")),M=ga(T,j=>{_e(j.docs.map(C=>({id:C.id,...C.data()})))});return()=>M()},[i,n]);const ye=async T=>{try{await Xn(lt(Re,"game_items",T.id),{status:"inventory",updatedAt:kn()}),alert(`Venda aprovada! O item agora pertence a ${T.buyerName}.`)}catch{alert("Erro ao aprovar.")}},I=T=>{E(T.id),L(""),U(T)},R=()=>{E(null),L(""),U({nome:"",descricao:"",imagem:"",valorGil:"",valorReal:""})},N=o.filter(T=>T.nome.toLowerCase().includes(g.toLowerCase()));return p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"bazar-trigger-btn",onClick:()=>r(!0),title:"Abrir Bazar",children:p.jsx("img",{src:NO,alt:"Bazar",onError:T=>{T.target.style.display="none",T.target.parentNode.innerText="BAZAR"}})}),n&&p.jsx("div",{className:"bazar-overlay-flex",onClick:()=>r(!1),children:p.jsxs("div",{className:"bazar-modal-centered",onClick:T=>T.stopPropagation(),children:[p.jsxs("div",{className:"bazar-header",children:[p.jsx("h2",{children:"MERCADO NEGRO"}),p.jsx("button",{className:"close-btn",onClick:()=>r(!1),children:""})]}),i&&p.jsxs("div",{className:"mestre-panel",children:[pe.length>0&&p.jsxs("div",{className:"requests-box",children:[p.jsxs("h4",{children:["PEDIDOS DE COMPRA (",pe.length,")"]}),pe.map(T=>p.jsxs("div",{className:"request-row",children:[p.jsxs("span",{children:[p.jsx("strong",{children:T.buyerName})," quer comprar ",p.jsx("strong",{children:T.nome})," (",T.valorGil," G)"]}),p.jsx("button",{className:"btn-approve",onClick:()=>ye(T),children:"APROVAR ENTREGA"})]},T.id))]}),p.jsxs("form",{onSubmit:oe,className:"bazar-form",children:[!x&&p.jsx("div",{className:"row",style:{marginBottom:"10px"},children:p.jsxs("select",{className:"bazar-input",onChange:K,value:w,children:[p.jsx("option",{value:"",children:" Selecionar Item do Cofre (Forja)..."}),d.map(T=>p.jsx("option",{value:T.id,children:T.nome},T.id))]})}),p.jsxs("div",{className:"row",children:[p.jsx("input",{placeholder:"Nome do Item",value:G.nome,onChange:T=>U({...G,nome:T.target.value}),className:"bazar-input",readOnly:!!w&&!x}),p.jsx("input",{placeholder:"Link Imagem",value:G.imagem,onChange:T=>U({...G,imagem:T.target.value}),className:"bazar-input"})]}),p.jsxs("div",{className:"row",children:[p.jsx("input",{placeholder:"Valor Gil",type:"number",value:G.valorGil,onChange:T=>U({...G,valorGil:T.target.value}),className:"bazar-input",required:!0}),p.jsx("input",{placeholder:"Valor Real (R$)",type:"number",value:G.valorReal,onChange:T=>U({...G,valorReal:T.target.value}),className:"bazar-input"})]}),p.jsx("textarea",{placeholder:"Descrio do item...",value:G.descricao,onChange:T=>U({...G,descricao:T.target.value}),className:"bazar-input area"}),p.jsxs("div",{className:"form-actions",children:[p.jsx("button",{type:"submit",className:"btn-save",children:x?"SALVAR ALTERAES":w?"COLOCAR  VENDA":"CRIAR E VENDER"}),(x||w)&&p.jsx("button",{type:"button",onClick:R,className:"btn-cancel",children:"CANCELAR"})]})]})]}),p.jsx("div",{className:"search-bar-container",children:p.jsx("input",{type:"text",placeholder:" Procurar mercadoria...",value:g,onChange:T=>y(T.target.value),className:"search-input"})}),p.jsxs("div",{className:"bazar-grid",children:[N.map(T=>p.jsxs("div",{className:"bazar-item-card",children:[p.jsx("div",{className:"item-img",style:{backgroundImage:`url(${T.imagem||"https://via.placeholder.com/150?text=Item"})`}}),p.jsxs("div",{className:"item-info",children:[p.jsx("h4",{children:T.nome}),p.jsx("p",{className:"desc",children:T.descricao}),p.jsxs("div",{className:"prices",children:[p.jsxs("span",{className:"price-tag gil",children:[" ",T.valorGil," G"]}),T.valorReal&&p.jsxs("span",{className:"price-tag real",children:[" R$ ",T.valorReal]})]})]}),p.jsx("div",{className:"item-actions",children:i?p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"btn-icon edit",onClick:()=>I(T),title:"Editar Preo",children:""}),p.jsx("button",{className:"btn-icon delete",onClick:()=>B(T.id),title:"Devolver para a Forja",children:""})]}):p.jsx("button",{className:"btn-buy",onClick:()=>se(T),children:"COMPRAR"})})]},T.id)),N.length===0&&p.jsx("p",{className:"empty-msg",children:"Nenhum item  venda no momento."})]})]})}),p.jsx("style",{children:`
        .bazar-trigger-btn { position: fixed; bottom: 30px; right: 30px; width: 70px; height: 70px; border-radius: 50%; border: 2px solid #ffcc00; background: #000; cursor: pointer; z-index: 9999; transition: transform 0.2s, box-shadow 0.2s; padding: 0; display: flex; align-items: center; justify-content: center; }
        .bazar-trigger-btn:hover { transform: scale(1.1); box-shadow: 0 0 25px #ffcc00; }
        .bazar-trigger-btn img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }

        /* NOVO CSS PARA CENTRALIZAR O MODAL SEM CORTAR */
        .bazar-overlay-flex { 
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; 
            background: rgba(0,0,0,0.85); z-index: 100000; 
            display: flex; align-items: center; justify-content: center; 
            backdrop-filter: blur(5px); 
        }
        .bazar-modal-centered { 
            width: 800px; max-width: 95vw; 
            height: 750px; max-height: 90vh; /* Garante que cabe na tela */
            background: #0d0d15; border: 1px solid #ffcc00; 
            display: flex; flex-direction: column; 
            box-shadow: 0 0 50px rgba(0,0,0,0.8); border-radius: 8px; 
            overflow: hidden; 
        }

        .bazar-header { background: linear-gradient(90deg, #1a1a1a, #000); padding: 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #ffcc00; }
        .bazar-header h2 { margin: 0; color: #ffcc00; font-family: serif; letter-spacing: 2px; text-shadow: 0 0 10px #ffcc00; font-size: 24px; }
        .close-btn { background: transparent; border: none; color: #fff; font-size: 30px; cursor: pointer; }

        .mestre-panel { background: rgba(255, 204, 0, 0.05); padding: 15px; border-bottom: 1px solid #333; }
        
        .requests-box { background: rgba(0, 242, 255, 0.1); border: 1px solid #00f2ff; padding: 10px; margin-bottom: 15px; border-radius: 4px; }
        .requests-box h4 { color: #00f2ff; margin: 0 0 10px 0; font-size: 12px; }
        .request-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px; font-size: 12px; color: #fff; }
        .btn-approve { background: #00f2ff; color: #000; border: none; padding: 5px 10px; font-weight: bold; cursor: pointer; border-radius: 3px; }

        .bazar-form { display: flex; flex-direction: column; gap: 10px; }
        .bazar-form .row { display: flex; gap: 10px; }
        .bazar-input { background: #000; border: 1px solid #444; color: #fff; padding: 10px; flex: 1; outline: none; font-family: serif; }
        .bazar-input.area { height: 60px; resize: none; }
        .form-actions { display: flex; gap: 10px; }
        .btn-save { flex: 1; background: #ffcc00; border: none; padding: 10px; font-weight: bold; cursor: pointer; color: #000; }
        .btn-cancel { background: #333; color: #fff; border: 1px solid #555; padding: 10px; cursor: pointer; }

        .search-bar-container { padding: 15px; background: #000; border-bottom: 1px solid #333; }
        .search-input { width: 100%; background: #111; border: 1px solid #444; color: #fff; padding: 12px; border-radius: 20px; text-align: center; outline: none; font-size: 16px; }

        .bazar-grid { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; scrollbar-width: none; -ms-overflow-style: none; }
        .bazar-grid::-webkit-scrollbar { display: none; }

        .bazar-item-card { background: linear-gradient(90deg, rgba(20,20,30,0.9), rgba(0,0,0,0.8)); border: 1px solid #444; display: flex; align-items: center; padding: 10px; border-radius: 4px; transition: 0.2s; }
        .bazar-item-card:hover { border-color: #00f2ff; box-shadow: 0 0 15px rgba(0, 242, 255, 0.1); }
        
        .item-img { width: 80px; height: 80px; background-size: cover; background-position: center; border: 1px solid #666; margin-right: 15px; border-radius: 4px; background-color: #000; }
        .item-info { flex: 1; }
        .item-info h4 { margin: 0 0 5px 0; color: #fff; font-size: 18px; letter-spacing: 1px; }
        .item-info .desc { margin: 0 0 10px 0; color: #aaa; font-size: 12px; font-style: italic; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        
        .prices { display: flex; gap: 10px; }
        .price-tag { padding: 4px 8px; border-radius: 3px; font-weight: bold; font-size: 12px; }
        .price-tag.gil { background: rgba(255,255,0,0.1); color: #ffcc00; border: 1px solid #ffcc00; }
        .price-tag.real { background: rgba(0, 242, 255, 0.1); color: #00f2ff; border: 1px solid #00f2ff; }

        .item-actions { display: flex; gap: 8px; align-items: center; margin-left: 15px; }
        .btn-buy { background: #00f2ff; color: #000; border: none; padding: 10px 20px; font-weight: bold; cursor: pointer; clip-path: polygon(10% 0, 100% 0, 100% 70%, 90% 100%, 0 100%, 0 30%); transition: 0.2s; }
        .btn-buy:hover { background: #fff; box-shadow: 0 0 15px #00f2ff; }
        
        .btn-icon { background: transparent; border: 1px solid #444; color: #fff; padding: 8px; cursor: pointer; border-radius: 4px; font-size: 16px; }
        .btn-icon:hover { background: #fff; color: #000; }
        .btn-icon.delete:hover { background: #f44; border-color: #f44; color: #fff; }
        .empty-msg { text-align: center; color: #666; margin-top: 50px; font-style: italic; }
      `})]})}const RO="/FF-12Liberation/assets/forja-Dr7AylP_.png";function CO(){const[i,e]=O.useState(!1),[n,r]=O.useState([]),[o,c]=O.useState(""),[d,m]=O.useState(null),[g,y]=O.useState({nome:"",descricao:"",imagem:""});O.useEffect(()=>{if(!i)return;const U=va(zt(Re,"game_items"),$a("status","==","vault"),Eo("createdAt","desc")),K=ga(U,oe=>{r(oe.docs.map(B=>({id:B.id,...B.data()})))});return()=>K()},[i]);const x=async U=>{if(U.preventDefault(),!g.nome)return alert("O item precisa de um nome!");try{const K={...g,updatedAt:kn()};d?(await Xn(lt(Re,"game_items",d),K),m(null)):await lc(zt(Re,"game_items"),{...K,status:"vault",ownerId:null,valorGil:0,createdAt:kn()}),y({nome:"",descricao:"",imagem:""})}catch(K){alert("Erro ao forjar item."),console.error(K)}},E=async U=>{window.confirm("ATENO: Isso destruir o item permanentemente. Deseja continuar?")&&await ps(lt(Re,"game_items",U))},w=U=>{m(U.id),y(U)},L=()=>{m(null),y({nome:"",descricao:"",imagem:""})},G=n.filter(U=>U.nome.toLowerCase().includes(o.toLowerCase()));return p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"forja-trigger-btn",onClick:()=>e(!0),title:"Abrir Forja",children:p.jsx("img",{src:RO,alt:"Forja",onError:U=>{U.target.style.display="none",U.target.parentNode.innerText="FORJA"}})}),i&&p.jsx("div",{className:"forja-overlay",onClick:()=>e(!1),children:p.jsxs("div",{className:"forja-modal",onClick:U=>U.stopPropagation(),children:[p.jsxs("div",{className:"forja-header",children:[p.jsx("h2",{children:"A FORJA ANTIGA"}),p.jsx("button",{className:"close-btn",onClick:()=>e(!1),children:""})]}),p.jsxs("div",{className:"mestre-panel-forja",children:[p.jsx("h4",{style:{color:"#f44",margin:"0 0 10px 0"},children:"FORJAR NOVO ARTEFATO"}),p.jsxs("form",{onSubmit:x,className:"forja-form",children:[p.jsxs("div",{className:"row",children:[p.jsx("input",{placeholder:"Nome do Artefato",value:g.nome,onChange:U=>y({...g,nome:U.target.value}),className:"forja-input"}),p.jsx("input",{placeholder:"URL da Imagem (Imgur)",value:g.imagem,onChange:U=>y({...g,imagem:U.target.value}),className:"forja-input"})]}),p.jsx("textarea",{placeholder:"Descrio detalhada e lore do item...",value:g.descricao,onChange:U=>y({...g,descricao:U.target.value}),className:"forja-input area"}),p.jsxs("div",{className:"form-actions",children:[p.jsx("button",{type:"submit",className:"btn-forjar",children:d?"REFUNDIR (SALVAR)":"FORJAR ITEM"}),d&&p.jsx("button",{type:"button",onClick:L,className:"btn-cancel",children:"CANCELAR"})]})]})]}),p.jsx("div",{className:"search-bar-container-forja",children:p.jsx("input",{type:"text",placeholder:" Buscar nos arquivos da forja...",value:o,onChange:U=>c(U.target.value),className:"search-input-forja"})}),p.jsxs("div",{className:"forja-grid",children:[G.map(U=>p.jsxs("div",{className:"forja-item-card",children:[p.jsx("div",{className:"item-img",style:{backgroundImage:`url(${U.imagem||"https://via.placeholder.com/150?text=?"})`}}),p.jsxs("div",{className:"item-info",children:[p.jsx("h4",{children:U.nome}),p.jsx("p",{className:"desc",children:U.descricao}),p.jsx("small",{style:{color:"#666"},children:"Status: Cofre"})]}),p.jsxs("div",{className:"item-actions",children:[p.jsx("button",{className:"btn-icon edit",onClick:()=>w(U),title:"Editar",children:""}),p.jsx("button",{className:"btn-icon delete",onClick:()=>E(U.id),title:"Destruir",children:""})]})]},U.id)),G.length===0&&p.jsx("p",{className:"empty-msg",children:"A forja est fria. Nenhum item no cofre."})]})]})}),p.jsx("style",{children:`
        .forja-trigger-btn {
          position: fixed; bottom: 30px; right: 110px; width: 70px; height: 70px;
          border-radius: 50%; border: 2px solid #f44; background: #000; cursor: pointer; z-index: 9999;
          transition: transform 0.2s, box-shadow 0.2s; padding: 0; display: flex; align-items: center; justify-content: center;
          color: #f44; font-weight: bold; font-size: 10px;
        }
        .forja-trigger-btn:hover { transform: scale(1.1); box-shadow: 0 0 20px #f44; }
        .forja-trigger-btn img { width: 80%; height: 80%; object-fit: contain; }

        .forja-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.9); z-index: 100000; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
        .forja-modal { width: 800px; max-height: 90vh; background: #150a0a; border: 1px solid #f44; display: flex; flex-direction: column; box-shadow: 0 0 50px rgba(255, 68, 68, 0.2); border-radius: 8px; overflow: hidden; }

        .forja-header { background: linear-gradient(90deg, #2a0e0e, #000); padding: 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #f44; }
        .forja-header h2 { margin: 0; color: #f44; font-family: serif; letter-spacing: 2px; text-shadow: 0 0 10px #f44; font-size: 24px; }
        .close-btn { background: transparent; border: none; color: #fff; font-size: 30px; cursor: pointer; }

        .mestre-panel-forja { background: rgba(255, 68, 68, 0.05); padding: 20px; border-bottom: 1px solid #333; }
        .forja-form { display: flex; flex-direction: column; gap: 10px; }
        .forja-form .row { display: flex; gap: 10px; }
        .forja-input { background: #000; border: 1px solid #522; color: #fff; padding: 10px; flex: 1; outline: none; font-family: serif; }
        .forja-input:focus { border-color: #f44; }
        .forja-input.area { height: 80px; resize: none; }
        
        .btn-forjar { flex: 1; background: #f44; border: none; padding: 12px; font-weight: bold; cursor: pointer; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        .btn-forjar:hover { background: #d00; box-shadow: 0 0 10px #d00; }
        .btn-cancel { background: #333; color: #fff; border: 1px solid #555; padding: 10px; cursor: pointer; }

        .search-bar-container-forja { padding: 15px; background: #000; border-bottom: 1px solid #333; }
        .search-input-forja { width: 100%; background: #111; border: 1px solid #522; color: #fff; padding: 12px; border-radius: 20px; text-align: center; outline: none; font-size: 16px; }

        .forja-grid { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; scrollbar-width: none; -ms-overflow-style: none; }
        .forja-grid::-webkit-scrollbar { display: none; }

        .forja-item-card { background: linear-gradient(90deg, rgba(40,10,10,0.9), rgba(0,0,0,0.8)); border: 1px solid #522; display: flex; align-items: center; padding: 10px; border-radius: 4px; transition: 0.2s; }
        .forja-item-card:hover { border-color: #f44; }
        
        .item-img { width: 70px; height: 70px; background-size: cover; background-position: center; border: 1px solid #633; margin-right: 15px; border-radius: 4px; background-color: #000; }
        .item-info { flex: 1; }
        .item-info h4 { margin: 0 0 5px 0; color: #fff; font-size: 18px; }
        .item-info .desc { margin: 0; color: #aaa; font-size: 12px; font-style: italic; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }

        .item-actions { display: flex; gap: 8px; margin-left: 15px; }
        .btn-icon { background: transparent; border: 1px solid #444; color: #fff; padding: 8px; cursor: pointer; border-radius: 4px; }
        .btn-icon:hover { background: #fff; color: #000; }
        .btn-icon.delete:hover { background: #f44; border-color: #f44; color: #fff; }
        
        .empty-msg { text-align: center; color: #666; margin-top: 50px; font-style: italic; }
      `})]})}const IO=({isOpen:i,onClose:e,onSave:n,label:r})=>{const[o,c]=O.useState("");return i?p.jsx("div",{className:"img-modal-overlay",onClick:e,children:p.jsxs("div",{className:"img-modal-content",onClick:d=>d.stopPropagation(),children:[p.jsxs("h3",{children:["ALTERAR IMAGEM: ",r.toUpperCase()]}),p.jsx("input",{placeholder:"Cole o link da imagem (Imgur, Discord, etc)...",value:o,onChange:d=>c(d.target.value),autoFocus:!0}),p.jsxs("div",{className:"img-modal-actions",children:[p.jsx("button",{onClick:()=>{n(o),e()},className:"btn-confirm",children:"CONFIRMAR"}),p.jsx("button",{onClick:e,className:"btn-cancel",children:"CANCELAR"})]})]})}):null};function IA({characterData:i,isMaster:e,onClose:n}){const[r,o]=O.useState(()=>{const V={basic_info:{character_name:i.name,level:1,experience:{current:0,max:100},race:i.race,class:i.class,guild_rank:"Iniciado",guild_insignia:"",guild_rank_image:""},attributes:{FOR:{value:0},CONS:{value:0},INT:{value:0},SOR:{value:0},CAR:{value:0},VEL:{value:0}},status:{hp:{current:10,max:10},mp:{current:5,max:5},arm:{value:0},res:{value:0},mov:{value:3}},equipment:{slots:Array(7).fill({item_id:null,item_name:"",item_img:"",effect:"",description:""})},job_system:{primary_class:{name:i.class||"Classe Primria",skills:Array(4).fill({name:"",cost:"",effect:""})},secondary_class:{name:"Classe Secundria",skills:Array(4).fill({name:"",cost:"",effect:""})},reaction_ability:{name:"",effect:""},passive_ability:{name:"",effect:""},class_bonus:{value:""}},inventory:{gil:0,items:[]},imgUrl:""};return i.character_sheet?{...V,...i.character_sheet}:V}),[c,d]=O.useState("geral"),[m,g]=O.useState(!1),[y,x]=O.useState(!1),[E,w]=O.useState(!1),[L,G]=O.useState(""),[U,K]=O.useState(null),[oe,B]=O.useState(!1),[se,pe]=O.useState([]),[_e,ye]=O.useState(null),[I,R]=O.useState(null),N=O.useRef(r.basic_info.level);O.useEffect(()=>{if(i.character_sheet){const V=JSON.stringify(i.character_sheet),te=JSON.stringify(r);V!==te&&!y&&o(i.character_sheet),i.character_sheet.basic_info?.level>N.current&&(g(!0),setTimeout(()=>g(!1),4e3),N.current=i.character_sheet.basic_info.level)}},[i,y]);const T=(V,te)=>{if(!e)return;const le=JSON.parse(JSON.stringify(r)),de=V.split(".");let be=le;for(let je=0;je<de.length-1;je++)be[de[je]]||(be[de[je]]={}),be=be[de[je]];be[de[de.length-1]]=te,o(le),x(!0)},M=async()=>{try{const V=lt(Re,"characters",i.uid||i.id);await Xn(V,{character_sheet:r}),x(!1)}catch(V){console.error("Erro ao salvar:",V),alert("Erro ao salvar ficha.")}},j=(V,te)=>{e&&(G(V),K(()=>te),w(!0))},C=async V=>{if(!e)return;ye(V);const te=va(zt(Re,"game_items"),$a("status","==","vault")),le=await Yd(te);pe(le.docs.map(de=>({id:de.id,...de.data()}))),B(!0)},De=async V=>{const te=JSON.parse(JSON.stringify(r));te.equipment.slots[_e]={item_id:V.id,item_name:V.nome,item_img:V.imagem,description:V.descricao,effect:""},o(te),x(!0);const le=lt(Re,"game_items",V.id);await Xn(le,{status:"equipped",ownerId:i.uid||i.id,slotIndex:_e,updatedAt:kn()}),B(!1)},Ke=async V=>{if(!e)return;const te=r.equipment.slots[V];if(te.item_id&&window.confirm("Isso devolver o item para a Forja (Cofre). Confirmar?")){const de=lt(Re,"game_items",te.item_id);await Xn(de,{status:"vault",ownerId:null,slotIndex:null,updatedAt:kn()})}const le=JSON.parse(JSON.stringify(r));le.equipment.slots[V]={item_name:"",item_img:"",effect:""},o(le),x(!0)},J=async()=>{e&&(g(!0),setTimeout(async()=>{g(!1);const V=r.basic_info.level||1,te=Math.floor(r.basic_info.experience.max*1.5),le=JSON.parse(JSON.stringify(r));le.basic_info.level=V+1,le.basic_info.experience.current=0,le.basic_info.experience.max=te,o(le);const de=lt(Re,"characters",i.uid||i.id);await Xn(de,{character_sheet:le})},4e3))},ce=["FOR","INT","SOR","CAR","VEL","CONS"],Z=100,me=90,xe=150,k=(V,te,le)=>{const de=Math.PI*2*te/le-Math.PI/2,be=xe+me*(V/Z)*Math.cos(de),je=xe+me*(V/Z)*Math.sin(de);return{x:be,y:je}},W=ce.map((V,te)=>{const le=r.attributes?.[V]?.value||0,{x:de,y:be}=k(le,te,ce.length);return`${de},${be}`}).join(" ");return p.jsxs("div",{className:"ficha-overlay-fixed",children:[p.jsxs("div",{className:"ficha-container fade-in",children:[p.jsx("button",{className:"close-btn-ficha",onClick:n,children:""}),e&&y&&p.jsx("button",{className:"save-fab glowing",onClick:M,title:"Salvar Alteraes",children:""}),p.jsxs("div",{className:"ficha-header",children:[p.jsxs("div",{className:"guild-insignia-box",children:[p.jsx("span",{className:"header-label-top",children:"SIGNO"}),p.jsx("div",{className:`insignia-display ${e?"clickable":""}`,style:{backgroundImage:`url(${r.basic_info.guild_insignia||"https://via.placeholder.com/60?text=?"})`},onClick:()=>j("Signo",V=>T("basic_info.guild_insignia",V)),title:e?"Clique para alterar imagem":""})]}),p.jsxs("div",{className:"header-info",children:[p.jsx("h1",{children:r.basic_info.character_name}),p.jsxs("span",{className:"sub-header",children:[r.basic_info.race," // ",i.class]}),p.jsxs("div",{className:"xp-container",children:[p.jsxs("div",{className:"lvl-box",children:[p.jsx("small",{children:"LVL"}),e?p.jsx("input",{className:"lvl-input",type:"number",value:r.basic_info.level,onChange:V=>T("basic_info.level",Number(V.target.value))}):p.jsx("span",{children:r.basic_info.level})]}),p.jsxs("div",{className:"xp-bar-box",children:[p.jsxs("div",{className:"xp-text",children:["XP",e?p.jsx("input",{className:"xp-mini-input",value:r.basic_info.experience.current,onChange:V=>T("basic_info.experience.current",Number(V.target.value))}):r.basic_info.experience.current,"/",e?p.jsx("input",{className:"xp-mini-input",value:r.basic_info.experience.max,onChange:V=>T("basic_info.experience.max",Number(V.target.value))}):r.basic_info.experience.max]}),p.jsx("div",{className:"xp-track",children:p.jsx("div",{className:"xp-fill",style:{width:`${Math.min(r.basic_info.experience.current/r.basic_info.experience.max*100,100)}%`}})})]}),e&&r.basic_info.experience.current>=r.basic_info.experience.max&&p.jsx("button",{className:"btn-levelup glowing",onClick:J,children:" UP"})]})]}),p.jsxs("div",{className:"guild-rank-box",children:[p.jsx("span",{className:"header-label-top",children:"RANK"}),p.jsx("div",{className:`rank-display ${e?"clickable":""}`,style:{backgroundImage:`url(${r.basic_info.guild_rank_image||"https://via.placeholder.com/60?text=?"})`},onClick:()=>j("Rank",V=>T("basic_info.guild_rank_image",V)),title:e?"Clique para alterar imagem":""})]})]}),p.jsxs("div",{className:"ficha-tabs",children:[p.jsx("button",{className:`tab-btn ${c==="geral"?"active":""}`,onClick:()=>d("geral"),children:"VISO GERAL"}),p.jsx("button",{className:`tab-btn ${c==="habilidades"?"active":""}`,onClick:()=>d("habilidades"),children:"GRIMRIO DE HABILIDADES"})]}),p.jsx("div",{className:"ficha-body",children:c==="geral"?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"col-attributes",children:[p.jsx("h3",{className:"section-title",children:"ATRIBUTOS"}),p.jsx("div",{className:"radar-wrapper",children:p.jsxs("svg",{width:"260",height:"260",viewBox:"0 0 300 300",children:[[20,40,60,80,100].map(V=>p.jsx("polygon",{points:ce.map((te,le)=>{const{x:de,y:be}=k(V,le,6);return`${de},${be}`}).join(" "),fill:"none",stroke:"#333",strokeWidth:"1"},V)),p.jsx("polygon",{points:W,fill:"rgba(0, 242, 255, 0.2)",stroke:"#00f2ff",strokeWidth:"2"}),ce.map((V,te)=>{const{x:le,y:de}=k(125,te,6),be=r.attributes?.[V]?.value||0;return p.jsx("foreignObject",{x:le-20,y:de-15,width:"40",height:"30",children:p.jsxs("div",{className:"stat-box-chart",children:[p.jsx("span",{className:"sb-label",children:V}),e?p.jsx("input",{className:"sb-input",value:be,onChange:je=>T(`attributes.${V}.value`,Number(je.target.value))}):p.jsx("span",{className:"sb-val",children:be})]})},V)})]})}),p.jsxs("div",{className:"secondary-stats",children:[p.jsxs("div",{className:"stat-row",children:[p.jsx("label",{children:"HP"}),p.jsxs("div",{className:"stat-bars-inputs",children:[e?p.jsx("input",{value:r.status.hp.current,onChange:V=>T("status.hp.current",Number(V.target.value))}):p.jsx("span",{children:r.status.hp.current}),"/",e?p.jsx("input",{value:r.status.hp.max,onChange:V=>T("status.hp.max",Number(V.target.value))}):p.jsx("span",{children:r.status.hp.max})]})]}),p.jsxs("div",{className:"stat-row",children:[p.jsx("label",{children:"MP"}),p.jsxs("div",{className:"stat-bars-inputs mp",children:[e?p.jsx("input",{value:r.status.mp.current,onChange:V=>T("status.mp.current",Number(V.target.value))}):p.jsx("span",{children:r.status.mp.current}),"/",e?p.jsx("input",{value:r.status.mp.max,onChange:V=>T("status.mp.max",Number(V.target.value))}):p.jsx("span",{children:r.status.mp.max})]})]}),p.jsxs("div",{className:"stat-row-simple",children:[p.jsxs("div",{className:"s-box",children:[p.jsx("label",{children:"ARM"}),e?p.jsx("input",{value:r.status.arm.value,onChange:V=>T("status.arm.value",Number(V.target.value))}):p.jsx("span",{children:r.status.arm.value})]}),p.jsxs("div",{className:"s-box",children:[p.jsx("label",{children:"RES"}),e?p.jsx("input",{value:r.status.res.value,onChange:V=>T("status.res.value",Number(V.target.value))}):p.jsx("span",{children:r.status.res.value})]}),p.jsxs("div",{className:"s-box",children:[p.jsx("label",{children:"MOV"}),e?p.jsx("input",{value:r.status.mov?.value||3,onChange:V=>T("status.mov.value",Number(V.target.value))}):p.jsx("span",{children:r.status.mov?.value||3})]})]})]})]}),p.jsxs("div",{className:"col-center-equip",children:[p.jsx("div",{className:`char-image-frame ${e?"clickable":""}`,onClick:()=>j("Personagem",V=>T("imgUrl",V)),title:e?"Clique para alterar foto":"",children:p.jsx("div",{className:"image-display",style:{backgroundImage:`url(${r.imgUrl||"https://via.placeholder.com/300x400?text=Heroi"})`}})}),p.jsx("div",{className:"equip-slots-overlay",children:[{id:0,label:"CABEA",style:{top:"-30px",left:"50%",transform:"translateX(-50%)"}},{id:1,label:"CORPO",style:{top:"80px",right:"-15px"}},{id:2,label:"MO DIR.",style:{bottom:"120px",right:"-15px"}},{id:3,label:"MO ESQ.",style:{bottom:"120px",left:"-15px"}},{id:4,label:"ACESS. 1",style:{top:"80px",left:"-15px"}},{id:5,label:"ACESS. 2",style:{bottom:"-20px",left:"60px"}},{id:6,label:"PS",style:{bottom:"-20px",right:"60px"}}].map((V,te)=>p.jsxs("div",{className:"equip-slot",style:V.style,children:[p.jsx("div",{className:"slot-label",children:V.label}),p.jsxs("div",{className:"slot-square",children:[!r.equipment?.slots?.[te]?.item_img&&e&&p.jsx("button",{className:"btn-plus-item",onClick:()=>C(te),children:"+"}),r.equipment?.slots?.[te]?.item_img?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"item-bg",style:{backgroundImage:`url(${r.equipment.slots[te].item_img})`}}),p.jsx("button",{className:"btn-eye-item",onClick:()=>R(r.equipment.slots[te]),children:""}),e&&p.jsx("button",{className:"btn-return-forge",title:"Devolver para Forja",onClick:()=>Ke(te),children:""})]}):!e&&p.jsx("span",{className:"empty-text",children:"Vazio"})]})]},te))})]}),p.jsxs("div",{className:"col-inventory",children:[p.jsx("h3",{className:"section-title",children:"BOLSA & GIL"}),p.jsxs("div",{className:"gil-display",children:[p.jsx("span",{className:"coin-icon",children:""}),e?p.jsx("input",{type:"number",className:"gil-input-master",value:r.inventory.gil,onChange:V=>T("inventory.gil",Number(V.target.value))}):p.jsx("span",{className:"gil-amount",children:r.inventory.gil}),p.jsx("span",{className:"currency",children:"GIL"})]}),p.jsxs("div",{className:"items-list",children:[p.jsx("h4",{children:"MOCHILA"}),p.jsxs("div",{className:"items-scroll",children:[(r.inventory.items||[]).map((V,te)=>p.jsx("div",{className:"inv-row",children:e?p.jsxs(p.Fragment,{children:[p.jsx("input",{className:"inv-name",value:V.name,onChange:le=>T(`inventory.items.${te}.name`,le.target.value)}),p.jsx("input",{className:"inv-qtd",type:"number",value:V.quantity,onChange:le=>T(`inventory.items.${te}.quantity`,Number(le.target.value))}),p.jsx("button",{className:"btn-x-red",onClick:()=>{const le=r.inventory.items.filter((de,be)=>be!==te);T("inventory.items",le)},children:""})]}):p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"i-name",children:V.name||"Slot Vazio"}),p.jsxs("span",{className:"i-qtd",children:["x",V.quantity||0]})]})},te)),e&&p.jsx("button",{className:"add-item-btn",onClick:()=>T("inventory.items",[...r.inventory.items||[],{name:"Novo Item",quantity:1}]),children:"+ Slot"})]})]})]})]}):p.jsxs("div",{className:"skills-tab-content",children:[p.jsxs("div",{className:"skills-col",children:[p.jsx("h3",{className:"class-header",children:e?p.jsx("input",{className:"class-name-input",value:r.job_system?.primary_class?.name,onChange:V=>T("job_system.primary_class.name",V.target.value)}):r.job_system?.primary_class?.name}),p.jsx("div",{className:"skills-list",children:(r.job_system?.primary_class?.skills||[]).map((V,te)=>p.jsxs("div",{className:"skill-card",children:[p.jsxs("div",{className:"skill-top",children:[e?p.jsx("input",{placeholder:"Nome Habilidade",value:V.name,onChange:le=>T(`job_system.primary_class.skills.${te}.name`,le.target.value),className:"skill-name-in"}):p.jsx("strong",{className:"skill-name",children:V.name||"Slot Vazio"}),e?p.jsx("input",{placeholder:"Custo",value:V.cost,onChange:le=>T(`job_system.primary_class.skills.${te}.cost`,le.target.value),className:"skill-cost-in"}):p.jsx("span",{className:"skill-cost",children:V.cost})]}),e?p.jsx("textarea",{placeholder:"Efeito...",value:V.effect,onChange:le=>T(`job_system.primary_class.skills.${te}.effect`,le.target.value),className:"skill-desc-in"}):p.jsx("p",{className:"skill-desc",children:V.effect})]},te))})]}),p.jsxs("div",{className:"skills-col",children:[p.jsx("h3",{className:"class-header secondary",children:e?p.jsx("input",{className:"class-name-input",value:r.job_system?.secondary_class?.name,onChange:V=>T("job_system.secondary_class.name",V.target.value)}):r.job_system?.secondary_class?.name}),p.jsx("div",{className:"skills-list",children:(r.job_system?.secondary_class?.skills||[]).map((V,te)=>p.jsxs("div",{className:"skill-card secondary",children:[p.jsxs("div",{className:"skill-top",children:[e?p.jsx("input",{placeholder:"Nome Habilidade",value:V.name,onChange:le=>T(`job_system.secondary_class.skills.${te}.name`,le.target.value),className:"skill-name-in"}):p.jsx("strong",{className:"skill-name",children:V.name||"Slot Vazio"}),e?p.jsx("input",{placeholder:"Custo",value:V.cost,onChange:le=>T(`job_system.secondary_class.skills.${te}.cost`,le.target.value),className:"skill-cost-in"}):p.jsx("span",{className:"skill-cost",children:V.cost})]}),e?p.jsx("textarea",{placeholder:"Efeito...",value:V.effect,onChange:le=>T(`job_system.secondary_class.skills.${te}.effect`,le.target.value),className:"skill-desc-in"}):p.jsx("p",{className:"skill-desc",children:V.effect})]},te))}),p.jsxs("div",{className:"extra-abilities-box",children:[p.jsxs("div",{className:"ability-row",children:[p.jsx("label",{children:"REAO"}),e?p.jsx("input",{value:r.job_system?.reaction_ability?.name,onChange:V=>T("job_system.reaction_ability.name",V.target.value),className:"ab-input"}):p.jsx("span",{children:r.job_system?.reaction_ability?.name||"-"})]}),p.jsxs("div",{className:"ability-row",children:[p.jsx("label",{children:"PASSIVA"}),e?p.jsx("input",{value:r.job_system?.passive_ability?.name,onChange:V=>T("job_system.passive_ability.name",V.target.value),className:"ab-input"}):p.jsx("span",{children:r.job_system?.passive_ability?.name||"-"})]}),p.jsxs("div",{className:"bonus-row",children:[p.jsx("label",{children:"BNUS DE CLASSE"}),e?p.jsx("textarea",{value:r.job_system?.class_bonus?.value,onChange:V=>T("job_system.class_bonus.value",V.target.value),className:"bonus-area"}):p.jsx("p",{children:r.job_system?.class_bonus?.value||"Nenhum"})]})]})]})]})}),p.jsx(IO,{isOpen:E,onClose:()=>w(!1),onSave:U,label:L}),oe&&p.jsx("div",{className:"item-selector-overlay",onClick:()=>B(!1),children:p.jsxs("div",{className:"item-selector-box",onClick:V=>V.stopPropagation(),children:[p.jsx("h3",{children:"EQUIPAR DO COFRE"}),p.jsxs("div",{className:"forge-list-scroll",children:[se.length===0&&p.jsx("p",{className:"empty-text",children:"Nenhum item disponvel na Forja."}),se.map(V=>p.jsxs("div",{className:"forge-item-row",onClick:()=>De(V),children:[p.jsx("img",{src:V.imagem,alt:V.nome}),p.jsxs("div",{children:[p.jsx("strong",{children:V.nome}),p.jsxs("p",{children:[V.descricao.substring(0,40),"..."]})]})]},V.id))]}),p.jsx("button",{className:"btn-cancel-modal",onClick:()=>B(!1),children:"CANCELAR"})]})}),I&&p.jsx("div",{className:"item-selector-overlay",onClick:()=>R(null),children:p.jsxs("div",{className:"item-details-box",onClick:V=>V.stopPropagation(),children:[p.jsx("img",{src:I.item_img,alt:I.item_name}),p.jsx("h3",{children:I.item_name}),p.jsx("p",{className:"details-desc",children:I.description||"Sem descrio"}),p.jsxs("p",{className:"details-effect",children:["Efeito: ",I.effect||"Nenhum"]}),p.jsx("button",{className:"btn-cancel-modal",onClick:()=>R(null),children:"FECHAR"})]})}),m&&p.jsx("div",{className:"level-up-overlay",children:p.jsx("h1",{className:"levelup-text",children:"LEVEL UP!"})})]}),p.jsx("style",{children:`
        /* GERAL */
        .ficha-overlay-fixed { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.95); z-index: 200000; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(8px); }
        .ficha-container { width: 1200px; height: 850px; max-width: 95vw; max-height: 98vh; background: #050a10; border: 2px solid #ffcc00; display: flex; flex-direction: column; position: relative; box-shadow: 0 0 50px rgba(255, 204, 0, 0.2); border-radius: 8px; overflow: hidden; font-family: 'Cinzel', serif; color: #fff; }
        
        .close-btn-ficha { position: absolute; top: 10px; right: 15px; background: transparent; border: none; color: #f44; font-size: 24px; cursor: pointer; z-index: 200; font-weight: bold; }
        
        /* Boto Salvar Flutuante (FAB) */
        .save-fab { position: absolute; bottom: 30px; right: 30px; width: 60px; height: 60px; border-radius: 50%; background: #222; border: 2px solid #444; color: #fff; font-size: 30px; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 300; transition: 0.3s; box-shadow: 0 0 15px #000; }
        .save-fab:hover { background: #00f2ff; border-color: #fff; color: #000; box-shadow: 0 0 30px #00f2ff; }
        .save-fab.glowing { animation: pulseSave 1.5s infinite; border-color: #00f2ff; color: #00f2ff; }
        @keyframes pulseSave { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

        /* HEADER */
        .ficha-header { padding: 25px 30px 10px 30px; background: linear-gradient(90deg, #101020, #000); border-bottom: 2px solid #333; display: flex; justify-content: space-between; align-items: center; height: 140px; position: relative; }
        .guild-insignia-box, .guild-rank-box { display: flex; flex-direction: column; align-items: center; width: 80px; position: relative; padding-top: 10px; }
        .header-label-top { font-size: 10px; color: #ffcc00; font-weight: bold; letter-spacing: 1px; margin-bottom: 2px; }
        .insignia-display, .rank-display { width: 70px; height: 70px; background-size: contain; background-repeat: no-repeat; background-position: center; border: 1px solid #333; border-radius: 50%; background-color: #000; position: relative; transition: 0.2s; }
        .clickable:hover { cursor: pointer; border-color: #ffcc00; box-shadow: 0 0 10px #ffcc00; }

        .header-info { flex: 1; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .header-info h1 { margin: 0; color: #ffcc00; font-size: 36px; letter-spacing: 4px; text-shadow: 0 0 10px rgba(255,204,0,0.3); }
        .sub-header { color: #00f2ff; font-size: 14px; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 15px; }
        
        .xp-container { display: flex; align-items: center; gap: 15px; width: 60%; margin-top: -5px; }
        .lvl-box { display: flex; flex-direction: column; align-items: center; background: #222; border: 1px solid #ffcc00; padding: 5px 12px; border-radius: 4px; box-shadow: 0 0 10px rgba(255,204,0,0.2); }
        .lvl-box small { font-size: 8px; color: #ffcc00; }
        .lvl-box span { font-size: 24px; font-weight: bold; line-height: 1; }
        .lvl-input { width: 40px; background: transparent; border: none; color: #fff; font-size: 24px; font-weight: bold; text-align: center; }
        .xp-bar-box { flex: 1; display: flex; flex-direction: column; }
        .xp-text { text-align: right; font-size: 10px; color: #aaa; margin-bottom: 2px; }
        .xp-mini-input { background: #111; border: none; color: #fff; width: 30px; text-align: center; font-size: 10px; }
        .xp-track { width: 100%; height: 8px; background: #111; border: 1px solid #444; border-radius: 4px; overflow: hidden; }
        .xp-fill { height: 100%; background: linear-gradient(90deg, #00f2ff, #0088ff); transition: width 0.5s; }
        .btn-levelup { background: linear-gradient(to bottom, #ffcc00, #ff8800); border: 2px solid #fff; color: #000; font-weight: bold; padding: 5px 15px; cursor: pointer; border-radius: 20px; animation: glow 1s infinite alternate; font-family: 'Cinzel', serif; font-size: 10px; }
        @keyframes glow { from { box-shadow: 0 0 10px #ffcc00; } to { box-shadow: 0 0 30px #ffcc00; transform: scale(1.05); } }

        /* TABS */
        .ficha-tabs { display: flex; background: #111; border-bottom: 1px solid #333; margin-top: 0; }
        .tab-btn { flex: 1; background: transparent; border: none; padding: 15px; color: #666; font-family: 'Cinzel', serif; font-size: 16px; cursor: pointer; transition: 0.3s; border-bottom: 3px solid transparent; }
        .tab-btn:hover { color: #fff; background: rgba(255,255,255,0.05); }
        .tab-btn.active { color: #ffcc00; border-bottom: 3px solid #ffcc00; background: rgba(255, 204, 0, 0.05); }

        .ficha-body { flex: 1; display: flex; padding: 30px 20px; gap: 20px; overflow: hidden; position: relative; }
        
        /* COLUNA ATRIBUTOS */
        .col-attributes { width: 300px; display: flex; flex-direction: column; align-items: center; border-right: 1px solid #333; padding-right: 20px; }
        .section-title { color: #aaa; font-size: 14px; border-bottom: 1px solid #00f2ff; width: 100%; text-align: center; margin-bottom: 15px; padding-bottom: 5px; }
        .radar-wrapper { position: relative; margin-bottom: 20px; }
        .stat-box-chart { background: #000; border: 1px solid #ffcc00; width: 40px; height: 30px; display: flex; flex-direction: column; align-items: center; justify-content: center; border-radius: 4px; box-shadow: 0 0 5px #000; }
        .sb-label { font-size: 8px; color: #aaa; }
        .sb-val { font-size: 12px; font-weight: bold; color: #fff; }
        .sb-input { width: 100%; height: 100%; background: transparent; border: none; color: #ffcc00; text-align: center; font-weight: bold; padding: 0; font-size: 12px; }

        .secondary-stats { width: 100%; }
        .stat-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; }
        .stat-row label { font-weight: bold; color: #ffcc00; width: 30px; }
        .stat-bars-inputs { flex: 1; background: rgba(255,0,0,0.1); border: 1px solid #522; padding: 5px; display: flex; align-items: center; justify-content: center; gap: 5px; color: #fff; border-radius: 4px; }
        .stat-bars-inputs.mp { background: rgba(0,0,255,0.1); border-color: #225; }
        .stat-bars-inputs input { background: transparent; border: none; color: #fff; width: 40px; text-align: center; font-family: 'serif'; font-weight: bold; }
        .stat-row-simple { display: flex; justify-content: space-between; gap: 10px; margin-top: 15px; }
        .s-box { flex: 1; background: #111; border: 1px solid #444; padding: 10px; text-align: center; border-radius: 4px; }
        .s-box label { display: block; font-size: 10px; color: #888; margin-bottom: 5px; }
        .s-box input { background: transparent; border: none; color: #fff; text-align: center; font-size: 18px; width: 100%; font-weight: bold; }
        .s-box span { font-size: 18px; font-weight: bold; }

        /* COLUNA EQUIPAMENTOS */
        .col-center-equip { flex: 1; position: relative; display: flex; justify-content: center; align-items: center; }
        .char-image-frame { width: 300px; height: 450px; border: 2px solid #333; position: relative; background: #000; border-radius: 150px; overflow: hidden; box-shadow: inset 0 0 50px #000; margin-top: -20px; z-index: 1; }
        .image-display { width: 100%; height: 100%; background-size: cover; background-position: center; opacity: 0.8; }
        
        .equip-slots-overlay { position: absolute; width: 300px; height: 450px; left: 50%; top: 50%; transform: translate(-50%, -50%); pointer-events: none; z-index: 2; margin-top: -10px; }
        .equip-slot { position: absolute; width: 80px; display: flex; flex-direction: column; align-items: center; pointer-events: auto; }
        .slot-label { font-size: 9px; color: #00f2ff; text-shadow: 0 0 2px #000; margin-bottom: 2px; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; }
        .slot-square { width: 60px; height: 60px; background: rgba(0, 10, 30, 0.9); border: 1px solid #ffcc00; display: flex; align-items: center; justify-content: center; box-shadow: 0 0 15px rgba(0,0,0,0.8); position: relative; overflow: hidden; border-radius: 4px; }
        .item-bg { width: 100%; height: 100%; background-size: cover; background-position: center; position: absolute; top: 0; left: 0; }
        .empty-text { font-size: 9px; color: #666; text-align: center; line-height: 1; padding: 2px; }
        
        .btn-plus-item { background: transparent; color: #ffcc00; font-size: 24px; border: none; cursor: pointer; font-weight: bold; }
        .btn-eye-item { position: absolute; bottom: 2px; right: 2px; font-size: 10px; background: rgba(0,0,0,0.8); color: #fff; border: none; border-radius: 3px; cursor: pointer; padding: 2px 4px; z-index: 5; }
        .btn-return-forge { position: absolute; top: 2px; left: 2px; font-size: 10px; background: rgba(200, 0, 0, 0.8); color: #fff; border: none; border-radius: 3px; cursor: pointer; padding: 2px 4px; z-index: 5; }

        /* COLUNA INVENTRIO */
        .col-inventory { width: 280px; border-left: 1px solid #333; padding-left: 20px; display: flex; flex-direction: column; }
        .gil-display { background: linear-gradient(90deg, rgba(255,204,0,0.1), transparent); border: 1px solid #ffcc00; padding: 15px; border-radius: 4px; display: flex; align-items: center; gap: 10px; margin-bottom: 20px; }
        .coin-icon { font-size: 20px; }
        .gil-amount { font-size: 24px; font-weight: bold; color: #fff; flex: 1; text-align: right; }
        .gil-input-master { background: transparent; border: none; color: #fff; font-size: 24px; font-weight: bold; width: 100%; text-align: right; outline: none; }
        /* NO SPIN BUTTONS */
        input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
        .currency { font-size: 10px; color: #ffcc00; font-weight: bold; }
        .items-list { flex: 1; display: flex; flex-direction: column; }
        .items-list h4 { color: #888; font-size: 12px; border-bottom: 1px solid #444; padding-bottom: 5px; margin-bottom: 10px; }
        .items-scroll { flex: 1; overflow-y: auto; padding-right: 5px; }
        .inv-row { display: flex; justify-content: space-between; border-bottom: 1px solid #222; padding: 8px 0; font-size: 12px; align-items: center; }
        .inv-name { background: transparent; border: none; color: #ddd; flex: 1; font-family: 'serif'; }
        .inv-qtd { background: transparent; border: none; color: #00f2ff; width: 40px; text-align: right; font-weight: bold; }
        .btn-x-red { color: #f44; background: none; border: none; cursor: pointer; font-weight: bold; margin-left: 5px; }
        .i-name { color: #ddd; }
        .i-qtd { color: #00f2ff; font-weight: bold; }
        .add-item-btn { width: 100%; background: #222; border: 1px dashed #555; color: #888; padding: 5px; cursor: pointer; margin-top: 10px; font-size: 10px; }
        
        /* MODAL UPLOAD IMG */
        .img-modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 300000; display: flex; align-items: center; justify-content: center; }
        .img-modal-content { background: #111; border: 1px solid #ffcc00; padding: 25px; width: 400px; border-radius: 8px; text-align: center; box-shadow: 0 0 30px rgba(255,204,0,0.2); }
        .img-modal-content h3 { color: #ffcc00; margin-top: 0; font-family: 'Cinzel', serif; border-bottom: 1px solid #444; padding-bottom: 10px; margin-bottom: 20px; }
        .img-modal-content input { width: 100%; padding: 12px; background: #000; border: 1px solid #444; color: #fff; margin-bottom: 20px; outline: none; border-radius: 4px; }
        .img-modal-content input:focus { border-color: #00f2ff; }
        .img-modal-actions { display: flex; gap: 15px; justify-content: center; }
        .btn-confirm { background: #00f2ff; color: #000; padding: 10px 25px; border: none; cursor: pointer; font-weight: bold; border-radius: 4px; transition: 0.2s; }
        .btn-confirm:hover { background: #fff; box-shadow: 0 0 15px #00f2ff; }
        .btn-cancel { background: #333; color: #fff; padding: 10px 25px; border: none; cursor: pointer; border-radius: 4px; }
        .btn-cancel:hover { background: #444; }

        /* MODAIS DE ITEM */
        .item-selector-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 300000; display: flex; align-items: center; justify-content: center; }
        .item-selector-box { width: 400px; height: 500px; background: #111; border: 1px solid #ffcc00; padding: 20px; display: flex; flex-direction: column; border-radius: 8px; }
        .item-selector-box h3 { color: #ffcc00; border-bottom: 1px solid #333; padding-bottom: 10px; margin-top: 0; }
        .forge-list-scroll { flex: 1; overflow-y: auto; margin-bottom: 15px; }
        .forge-item-row { display: flex; align-items: center; padding: 10px; border-bottom: 1px solid #333; cursor: pointer; }
        .forge-item-row:hover { background: rgba(255,255,255,0.1); }
        .forge-item-row img { width: 40px; height: 40px; border: 1px solid #555; margin-right: 10px; }
        .forge-item-row strong { color: #00f2ff; display: block; font-size: 12px; }
        .forge-item-row p { font-size: 10px; color: #aaa; margin: 0; }
        .btn-cancel-modal { width: 100%; padding: 10px; background: #333; color: #fff; border: none; cursor: pointer; }
        
        .item-details-box { width: 300px; background: #000; border: 1px solid #00f2ff; padding: 20px; text-align: center; border-radius: 8px; }
        .item-details-box img { width: 80px; height: 80px; border: 1px solid #fff; margin-bottom: 10px; }
        .item-details-box h3 { color: #00f2ff; margin: 0 0 10px 0; }
        .details-desc { font-size: 12px; color: #ccc; margin-bottom: 10px; font-style: italic; }
        .details-effect { font-size: 12px; color: #ffcc00; font-weight: bold; margin-bottom: 20px; }

        /* ABA HABILIDADES (Estilos mantidos) */
        .skills-tab-content { display: flex; width: 100%; height: 100%; gap: 30px; }
        .skills-col { flex: 1; display: flex; flex-direction: column; background: rgba(0,0,0,0.3); border: 1px solid #333; padding: 15px; border-radius: 4px; }
        .class-header { color: #00f2ff; font-size: 18px; border-bottom: 2px solid #00f2ff; padding-bottom: 10px; margin-bottom: 15px; text-transform: uppercase; letter-spacing: 2px; }
        .class-header.secondary { color: #aaa; border-color: #666; }
        .class-name-input { background: transparent; border: none; color: inherit; font-size: inherit; font-weight: bold; width: 100%; text-transform: uppercase; }
        .skills-list { flex: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
        .skill-card { background: rgba(0, 30, 60, 0.4); border: 1px solid #005577; padding: 10px; border-radius: 4px; }
        .skill-card.secondary { background: rgba(30, 30, 30, 0.4); border-color: #444; }
        .skill-top { display: flex; justify-content: space-between; margin-bottom: 5px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 5px; }
        .skill-name { color: #ffcc00; font-size: 14px; }
        .skill-cost { color: #00f2ff; font-size: 12px; font-weight: bold; }
        .skill-desc { font-size: 12px; color: #ccc; line-height: 1.4; margin: 0; }
        .skill-name-in, .skill-cost-in { background: transparent; border: none; color: #fff; font-size: 12px; }
        .skill-name-in { flex: 1; font-weight: bold; color: #ffcc00; }
        .skill-cost-in { width: 50px; text-align: right; color: #00f2ff; }
        .skill-desc-in { width: 100%; background: transparent; border: none; color: #ccc; font-size: 12px; resize: none; font-family: sans-serif; }
        .extra-abilities-box { margin-top: 20px; border-top: 2px solid #444; padding-top: 15px; }
        .ability-row { display: flex; align-items: center; margin-bottom: 10px; background: #222; padding: 8px; border-radius: 4px; border-left: 3px solid #ffcc00; }
        .ability-row label { font-size: 10px; color: #888; width: 60px; font-weight: bold; }
        .ability-row span { font-size: 12px; color: #fff; font-weight: bold; }
        .ab-input { background: transparent; border: none; color: #fff; font-weight: bold; flex: 1; font-size: 12px; }
        .bonus-row { margin-top: 10px; }
        .bonus-row label { font-size: 10px; color: #00f2ff; display: block; margin-bottom: 5px; font-weight: bold; }
        .bonus-row p { font-size: 12px; color: #ddd; font-style: italic; background: rgba(0,0,0,0.5); padding: 8px; border-radius: 4px; }
        .bonus-area { width: 100%; height: 60px; background: rgba(0,0,0,0.5); border: 1px solid #444; color: #ddd; font-size: 12px; padding: 5px; resize: none; }

        .level-up-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 100; display: flex; align-items: center; justify-content: center; animation: fadeOverlay 4s forwards; pointer-events: none; }
        .levelup-text { font-size: 80px; color: #ffcc00; text-shadow: 0 0 50px #ffcc00, 0 0 20px #fff; animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); letter-spacing: 5px; }
        @keyframes popIn { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @keyframes fadeOverlay { 0% { opacity: 1; } 80% { opacity: 1; } 100% { opacity: 0; } }
        
        .fade-in { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
      `})]})}const MO="/FF-12Liberation/assets/ficha-icon-Ds6_MepT.png",R_=({expiry:i})=>{const[e,n]=O.useState("");return O.useEffect(()=>{const r=setInterval(()=>{const o=new Date().getTime(),c=new Date(i).getTime()-o;if(c<0)n("EXPIRADA"),clearInterval(r);else{const d=Math.floor(c/864e5),m=Math.floor(c%(1e3*60*60*24)/(1e3*60*60)),g=Math.floor(c%(1e3*60*60)/(1e3*60));n(`${d}d ${m}h ${g}m`)}},1e3);return()=>clearInterval(r)},[i]),p.jsxs("span",{className:"mission-timer",children:[" ",e]})};function OO(){const[i,e]=O.useState([]),[n,r]=O.useState([]),[o,c]=O.useState([]),[d,m]=O.useState([]),[g,y]=O.useState(!1),[x,E]=O.useState(!1),[w,L]=O.useState(!1),[G,U]=O.useState(!1),[K,oe]=O.useState(null),[B,se]=O.useState(null),[pe,_e]=O.useState(null),[ye,I]=O.useState(null),[R,N]=O.useState(null),[T,M]=O.useState(""),[j,C]=O.useState(""),[De,Ke]=O.useState([]),[J,ce]=O.useState([]),[Z,me]=O.useState({nome:"",local:"",contratante:"",descricaoMissao:"",objetivosMissao:"",requisitos:"",grupo:"",recompensa:"",rank:"E",imagem:"",duracao:"",gilRecompensa:""}),[xe,k]=O.useState({missaoId:"",dataInicio:"",cenarios:[],tokens:[]}),[W,V]=O.useState(""),[te,le]=O.useState("cenario"),[de,be]=O.useState(()=>localStorage.getItem("mestreAssinatura")||Ze.currentUser?.email?.split("@")[0]||"Narrador");O.useEffect(()=>{localStorage.setItem("mestreAssinatura",de)},[de]),O.useEffect(()=>{if(Oo&&Oo.pause(),!Ze.currentUser)return;const Y=va(zt(Re,"missoes"),$a("mestreId","==",Ze.currentUser.uid),Eo("createdAt","desc")),Pe=ga(Y,nn=>e(nn.docs.map(hn=>({id:hn.id,...hn.data()})))),Qt=va(zt(Re,"resenhas"),$a("mestreId","==",Ze.currentUser.uid),Eo("createdAt","desc")),na=ga(Qt,nn=>r(nn.docs.map(hn=>({id:hn.id,...hn.data()})))),Tn=va(zt(Re,"sessoes"),$a("mestreId","==",Ze.currentUser.uid),Eo("dataInicio","asc")),yt=ga(Tn,nn=>{const hn=nn.docs.map(kr=>({id:kr.id,...kr.data()}));c(hn)});return(async()=>{const nn=await Yd(zt(Re,"characters"));m(nn.docs.map(hn=>({id:hn.id,...hn.data()})))})(),()=>{Pe(),na(),yt()}},[]);const je=async Y=>{Y.preventDefault();try{const Pe=(Z.duracao.match(/(\d+)w/)||[0,0])[1]*6048e5+(Z.duracao.match(/(\d+)d/)||[0,0])[1]*864e5+(Z.duracao.match(/(\d+)h/)||[0,0])[1]*36e5;await lc(zt(Re,"missoes"),{...Z,mestreNome:de,mestreId:Ze.currentUser.uid,createdAt:kn(),expiraEm:new Date(Date.now()+(Pe||36e5)).toISOString()}),y(!1),me({nome:"",local:"",contratante:"",descricaoMissao:"",objetivosMissao:"",requisitos:"",grupo:"",recompensa:"",rank:"E",imagem:"",duracao:"",gilRecompensa:""})}catch{alert("Erro ao forjar cartaz.")}},Fe=async()=>{if(!j||!T)return alert("Preencha ttulo e contedo!");try{const Y=new Date;Y.setDate(Y.getDate()+1),await lc(zt(Re,"resenhas"),{titulo:j,conteudo:T,mestre:de,mestreId:Ze.currentUser.uid,destinatarios:De,createdAt:kn(),expiraEm:Y.toISOString()}),E(!1),M(""),C(""),Ke([])}catch{alert("Erro ao publicar.")}},fn=()=>{W&&(k(te==="cenario"?Y=>({...Y,cenarios:[...Y.cenarios,W]}):Y=>({...Y,tokens:[...Y.tokens,W]})),V(""))},ta=(Y,Pe)=>{k(Y==="cenario"?Qt=>({...Qt,cenarios:Qt.cenarios.filter((na,Tn)=>Tn!==Pe)}):Qt=>({...Qt,tokens:Qt.tokens.filter((na,Tn)=>Tn!==Pe)}))},Mi=async Y=>{if(Y.preventDefault(),!xe.missaoId||!xe.dataInicio)return alert("Selecione a misso e o horrio!");try{const Pe=i.find(Tn=>Tn.id===xe.missaoId),Qt=new Date(xe.dataInicio),na=new Date(Qt.getTime()+1440*60*1e3);await lc(zt(Re,"sessoes"),{missaoId:xe.missaoId,missaoNome:Pe?Pe.nome:"Misso Desconhecida",mestreId:Ze.currentUser.uid,dataInicio:xe.dataInicio,expiraEm:na.toISOString(),participantes:J,cenarios:xe.cenarios,tokens:xe.tokens,createdAt:kn()}),L(!1),k({missaoId:"",dataInicio:"",cenarios:[],tokens:[]}),ce([]),alert("Sesso criada com sucesso!")}catch(Pe){alert("Erro ao criar sesso: "+Pe.message)}},Oi=Y=>{alert(`Entrando no VTT do Mestre para a sesso: ${Y.missaoNome}
Carregando ${Y.cenarios?.length||0} cenrios e ${Y.tokens?.length||0} tokens...`)};return p.jsxs("div",{className:"mestre-container",children:[p.jsx("div",{className:"mestre-bg-image-full",style:{backgroundImage:`url(${wO})`}}),p.jsxs("div",{className:"mestre-content",children:[p.jsxs("div",{className:"top-bar-flex",children:[p.jsx("h1",{className:"ff-title",children:"HUB DO NARRADOR"}),p.jsxs("div",{className:"mestre-identity-box ff-card fade-in",children:[p.jsx("label",{children:"ASSINATURA DO MESTRE:"}),p.jsx("input",{type:"text",value:de,onChange:Y=>be(Y.target.value)})]})]}),p.jsxs("div",{className:"mestre-grid",children:[p.jsxs("div",{className:"ff-card board-column",children:[p.jsxs("div",{className:"card-header no-border",children:[p.jsx("h3",{children:"QUADRO DE MISSES"}),p.jsxs("button",{className:"ff-add-btn",onClick:()=>y(!0),children:[p.jsx("span",{children:"+"})," ADICIONAR CARTAZ"]})]}),p.jsx("div",{className:"mission-scroll",children:i.map(Y=>p.jsxs("div",{className:`mission-poster rank-${Y.rank}`,children:[p.jsx("div",{className:"poster-rank-label-fixed",children:Y.rank}),p.jsxs("span",{className:"mestre-tag",children:["Narrador: ",Y.mestreNome]}),p.jsx("h4",{children:Y.nome}),p.jsxs("p",{className:"gil-recompensa",children:[" Recompensa: ",Y.gilRecompensa," Gil"]}),Y.candidatos&&Y.candidatos.length>0&&p.jsxs("div",{className:"candidates-mini-box",children:[p.jsx("strong",{children:"Candidatos:"}),Y.candidatos.map(Pe=>p.jsxs("div",{style:{fontSize:"10px",color:Pe.isLeader?"#ffcc00":"#ccc"},children:[Pe.isLeader&&""," ",Pe.nome," (",Pe.classe,")"]},Pe.uid))]}),p.jsx(R_,{expiry:Y.expiraEm}),p.jsxs("div",{className:"poster-actions",children:[p.jsx("button",{className:"btn-cyan",onClick:()=>I(Y.imagem),children:"CARTAZ"}),p.jsx("button",{className:"btn-cyan",onClick:()=>se(Y),children:"DETALHES"}),p.jsx("button",{className:"btn-red",onClick:()=>ps(lt(Re,"missoes",Y.id)),children:"EXCLUIR"})]})]},Y.id))})]}),p.jsxs("div",{className:"ff-card sanchez-card board-column",children:[p.jsxs("div",{className:"sanchez-header-top no-border",children:[p.jsx("h3",{children:"RESENHA DO SANCHEZ"}),p.jsx("button",{className:"ff-add-btn-gold-small",onClick:()=>E(!0),children:"+ CRIAR NOVA RESENHA"})]}),p.jsx("div",{className:"mission-scroll",children:n.map(Y=>p.jsxs("div",{className:"resenha-item-card",children:[p.jsx("h4",{children:Y.titulo}),p.jsx(R_,{expiry:Y.expiraEm}),p.jsxs("div",{className:"poster-actions",children:[p.jsx("button",{className:"btn-cyan",onClick:()=>_e(Y),children:"VISUALIZAR"}),p.jsx("button",{className:"btn-red",onClick:()=>ps(lt(Re,"resenhas",Y.id)),children:"EXCLUIR"})]})]},Y.id))})]}),p.jsxs("div",{className:"ff-card board-column",children:[p.jsxs("div",{className:"card-header no-border",children:[p.jsx("h3",{children:"SESSES DE JOGO"}),p.jsx("button",{className:"ff-add-btn small-btn",onClick:()=>L(!0),children:"INICIAR NOVA SESSO"})]}),p.jsx("div",{className:"mission-scroll",children:o.length===0?p.jsx("div",{className:"empty-instancia",children:"NENHUMA INSTNCIA ATIVA"}):o.map(Y=>p.jsxs("div",{className:"sessao-card",children:[p.jsx("div",{className:"sessao-status",children:" AO VIVO / AGENDADA"}),p.jsx("h4",{className:"sessao-title",children:Y.missaoNome}),p.jsxs("div",{className:"sessao-info",children:[p.jsxs("span",{children:[" ",new Date(Y.dataInicio).toLocaleString()]}),p.jsxs("span",{className:"sessao-players",children:[" ",Y.participantes?.length||0," Jogadores"]})]}),p.jsxs("div",{className:"sessao-assets-count",children:[" ",Y.cenarios?.length||0," Cenrios   ",Y.tokens?.length||0," Tokens"]}),p.jsxs("div",{className:"poster-actions",style:{marginTop:"15px"},children:[p.jsx("button",{className:"btn-cyan",onClick:()=>N(Y),children:" MEMBROS"}),p.jsx("button",{className:"btn-play-vtt",onClick:()=>Oi(Y),children:" ACESSAR VTT"}),p.jsx("button",{className:"btn-red",onClick:()=>ps(lt(Re,"sessoes",Y.id)),children:"CANCELAR"})]})]},Y.id))})]})]})]}),G&&p.jsx("div",{className:"ff-modal-overlay-fixed",onClick:()=>U(!1),children:p.jsxs("div",{className:"ff-modal-scrollable ff-card",onClick:Y=>Y.stopPropagation(),children:[p.jsx("h3",{className:"modal-title-ff",children:"PERSONAGENS REGISTRADOS"}),p.jsx("div",{className:"destinatarios-grid-fixed",children:d.map(Y=>p.jsxs("div",{className:"ficha-list-item",children:[p.jsxs("div",{className:"ficha-row-name",children:[p.jsx("strong",{children:Y.name}),p.jsxs("small",{children:[Y.race," // ",Y.class]})]}),p.jsx("button",{className:"btn-cyan",onClick:()=>{oe(Y),U(!1)},children:"ABRIR FICHA "})]},Y.id))}),p.jsx("button",{className:"btn-cancelar-main",style:{marginTop:"20px"},onClick:()=>U(!1),children:"FECHAR"})]})}),K&&p.jsx(IA,{characterData:K,isMaster:!0,onClose:()=>oe(null)}),g&&p.jsx("div",{className:"ff-modal-overlay-fixed",children:p.jsxs("div",{className:"ff-modal-scrollable ff-card",children:[p.jsx("h3",{className:"modal-title-ff",children:"NOVA MISSO"}),p.jsxs("form",{onSubmit:je,children:[p.jsxs("div",{className:"modal-input-group",children:[p.jsx("label",{children:"NOME DA MISSO"}),p.jsx("input",{placeholder:"Ttulo...",value:Z.nome,onChange:Y=>me({...Z,nome:Y.target.value}),required:!0})]}),p.jsxs("div",{className:"modal-input-group",children:[p.jsx("label",{children:"LOCAL"}),p.jsx("input",{placeholder:"Onde ocorre...",value:Z.local,onChange:Y=>me({...Z,local:Y.target.value})})]}),p.jsxs("div",{className:"modal-input-group",children:[p.jsx("label",{children:"CONTRATANTE"}),p.jsx("input",{placeholder:"Quem paga...",value:Z.contratante,onChange:Y=>me({...Z,contratante:Y.target.value})})]}),p.jsxs("div",{className:"modal-input-group",children:[p.jsx("label",{children:"DESCRIO DA MISSO"}),p.jsx("textarea",{className:"tall-area-dark",placeholder:"Detalhes da histria e contexto...",value:Z.descricaoMissao,onChange:Y=>me({...Z,descricaoMissao:Y.target.value})})]}),p.jsxs("div",{className:"modal-input-group",children:[p.jsx("label",{children:"OBJETIVOS DA MISSO"}),p.jsx("textarea",{className:"tall-area-dark",placeholder:"O que deve ser feito passo a passo...",value:Z.objetivosMissao,onChange:Y=>me({...Z,objetivosMissao:Y.target.value})})]}),p.jsxs("div",{className:"modal-input-group",children:[p.jsx("label",{children:"REQUISITOS DA MISSO"}),p.jsx("textarea",{className:"tall-area-dark",placeholder:"O que  necessrio para aceitar...",value:Z.requisitos,onChange:Y=>me({...Z,requisitos:Y.target.value})})]}),p.jsxs("div",{className:"row-double-ff",children:[p.jsxs("div",{className:"field-group",children:[p.jsx("label",{children:"GRUPO MXIMO"}),p.jsx("input",{placeholder:"Ex: 6 jogadores",value:Z.grupo,onChange:Y=>me({...Z,grupo:Y.target.value})})]}),p.jsxs("div",{className:"field-group",children:[p.jsx("label",{children:"RANK"}),p.jsx("select",{value:Z.rank,onChange:Y=>me({...Z,rank:Y.target.value}),children:["E","D","C","B","A","S","SS","SC"].map(Y=>p.jsxs("option",{value:Y,children:["RANK ",Y]},Y))})]})]}),p.jsxs("div",{className:"modal-input-group",children:[p.jsx("label",{children:"RECOMPENSAS EXTRAS"}),p.jsx("textarea",{className:"tall-area-dark",placeholder:"Itens, especiarias...",value:Z.recompensa,onChange:Y=>me({...Z,recompensa:Y.target.value})})]}),p.jsxs("div",{className:"row-double-ff",children:[p.jsxs("div",{className:"field-group",children:[p.jsx("label",{children:"GIL"}),p.jsx("input",{type:"text",className:"gil-input",placeholder:"Ex: 5000",value:Z.gilRecompensa,onChange:Y=>me({...Z,gilRecompensa:Y.target.value.replace(/\D/g,"")})})]}),p.jsxs("div",{className:"field-group",children:[p.jsx("label",{children:"DURAO"}),p.jsx("input",{placeholder:"Ex: 1d 10h",value:Z.duracao,onChange:Y=>me({...Z,duracao:Y.target.value}),required:!0})]})]}),p.jsxs("div",{className:"modal-input-group",children:[p.jsx("label",{children:"IMAGEM"}),p.jsx("input",{placeholder:"Link Imgur...",value:Z.imagem,onChange:Y=>me({...Z,imagem:Y.target.value})})]}),p.jsxs("div",{className:"btn-group-ff",children:[p.jsx("button",{type:"submit",className:"btn-forjar-main",children:"FORJAR MISSO"}),p.jsx("button",{type:"button",className:"btn-cancelar-main",onClick:()=>y(!1),children:"FECHAR"})]})]})]})}),x&&p.jsx("div",{className:"ff-modal-overlay-fixed",children:p.jsxs("div",{className:"ff-modal-scrollable ff-card",children:[p.jsx("h3",{className:"modal-title-ff",children:"ESCREVER CRNICA"}),p.jsxs("div",{className:"modal-input-group",children:[p.jsx("label",{children:"TTULO"}),p.jsx("input",{className:"ff-modal-input-dark",value:j,onChange:Y=>C(Y.target.value)})]}),p.jsxs("div",{className:"modal-input-group",children:[p.jsx("label",{children:"CORPO"}),p.jsx("textarea",{className:"tall-area-ff-dark",value:T,onChange:Y=>M(Y.target.value)})]}),p.jsxs("div",{className:"player-selector-box-fixed",children:[p.jsx("label",{children:"DESTINATRIOS:"}),p.jsx("div",{className:"destinatarios-grid-fixed",children:d.map(Y=>p.jsxs("label",{className:"chip-label-ff",children:[p.jsx("input",{type:"checkbox",checked:De.includes(Y.name),onChange:()=>De.includes(Y.name)?Ke(De.filter(Pe=>Pe!==Y.name)):Ke([...De,Y.name])})," ",Y.name]},Y.id))})]}),p.jsxs("div",{className:"btn-group-ff",children:[p.jsx("button",{className:"btn-forjar-main",onClick:Fe,children:"PUBLICAR"}),p.jsx("button",{className:"btn-cancelar-main",onClick:()=>E(!1),children:"FECHAR"})]})]})}),w&&p.jsx("div",{className:"ff-modal-overlay-fixed",children:p.jsxs("div",{className:"ff-modal-scrollable ff-card",children:[p.jsx("h3",{className:"modal-title-ff",children:"CRIAR NOVA SESSO"}),p.jsxs("form",{onSubmit:Mi,children:[p.jsxs("div",{className:"modal-input-group",children:[p.jsx("label",{children:"SELECIONAR MISSO"}),p.jsxs("select",{className:"ff-select-dark",value:xe.missaoId,onChange:Y=>k({...xe,missaoId:Y.target.value}),required:!0,children:[p.jsx("option",{value:"",children:"-- Escolha --"}),i.map(Y=>p.jsxs("option",{value:Y.id,children:[Y.nome," (Rank ",Y.rank,")"]},Y.id))]})]}),p.jsxs("div",{className:"modal-input-group",children:[p.jsx("label",{children:"DATA E HORRIO"}),p.jsx("input",{type:"datetime-local",className:"ff-input-dark",value:xe.dataInicio,onChange:Y=>k({...xe,dataInicio:Y.target.value}),required:!0})]}),p.jsxs("div",{className:"player-selector-box-fixed",children:[p.jsx("label",{children:"JOGADORES:"}),p.jsx("div",{className:"destinatarios-grid-fixed",children:d.map(Y=>p.jsxs("label",{className:"chip-label-ff",children:[p.jsx("input",{type:"checkbox",checked:J.includes(Y.name),onChange:()=>J.includes(Y.name)?ce(J.filter(Pe=>Pe!==Y.name)):ce([...J,Y.name])})," ",Y.name," (",Y.class,")"]},Y.id))})]}),p.jsxs("div",{className:"upload-section-box",children:[p.jsx("h4",{className:"upload-section-title",children:"IMPORTAR IMAGENS"}),p.jsxs("div",{className:"link-import-row",children:[p.jsx("input",{className:"ff-input-dark",value:W,onChange:Y=>V(Y.target.value)}),p.jsxs("select",{className:"ff-select-dark small-select",value:te,onChange:Y=>le(Y.target.value),children:[p.jsx("option",{value:"cenario",children:"Cenrio"}),p.jsx("option",{value:"token",children:"Token"})]}),p.jsx("button",{type:"button",className:"btn-cyan",onClick:fn,children:"+"})]}),p.jsxs("div",{className:"assets-lists",children:[xe.cenarios.map((Y,Pe)=>p.jsxs("div",{className:"asset-item",children:[p.jsx("span",{className:"truncate-link",children:Y}),p.jsx("button",{type:"button",className:"btn-remove-x",onClick:()=>ta("cenario",Pe),children:""})]},Pe)),xe.tokens.map((Y,Pe)=>p.jsxs("div",{className:"asset-item",children:[p.jsx("span",{className:"truncate-link",children:Y}),p.jsx("button",{type:"button",className:"btn-remove-x",onClick:()=>ta("token",Pe),children:""})]},Pe))]})]}),p.jsxs("div",{className:"btn-group-ff",children:[p.jsx("button",{type:"submit",className:"btn-forjar-main",children:"AGENDAR"}),p.jsx("button",{type:"button",className:"btn-cancelar-main",onClick:()=>L(!1),children:"CANCELAR"})]})]})]})}),R&&p.jsx("div",{className:"ff-modal-overlay-fixed",onClick:()=>N(null),children:p.jsxs("div",{className:"ff-modal-scrollable ff-card",onClick:Y=>Y.stopPropagation(),style:{height:"auto",maxHeight:"500px"},children:[p.jsx("h3",{className:"modal-title-ff",children:"MEMBROS ALOCADOS"}),p.jsx("div",{className:"destinatarios-grid-fixed",children:R.participantes?.map((Y,Pe)=>p.jsxs("div",{className:"chip-label-ff",style:{cursor:"default",color:"#fff",borderColor:"#00f2ff"},children:[" ",Y]},Pe))}),p.jsx("button",{className:"btn-cancelar-main",style:{marginTop:"20px",width:"100%"},onClick:()=>N(null),children:"FECHAR"})]})}),B&&p.jsx("div",{className:"ff-modal-overlay-fixed",onClick:()=>se(null),children:p.jsxs("div",{className:"ff-modal ff-card detail-view-main",onClick:Y=>Y.stopPropagation(),children:[p.jsxs("div",{className:"detail-header-modern",children:[p.jsx("div",{className:`detail-rank-badge rank-${B.rank}`,children:B.rank}),p.jsxs("div",{className:"detail-title-col",children:[p.jsx("h2",{children:B.nome}),p.jsxs("span",{className:"detail-narrator",children:["Narrador: ",B.mestreNome]})]})]}),p.jsxs("div",{className:"detail-body-grid",children:[p.jsxs("div",{className:"detail-info-row",children:[p.jsxs("div",{className:"info-item",children:[p.jsx("label",{children:" LOCAL"}),p.jsx("span",{children:B.local||"Desconhecido"})]}),p.jsxs("div",{className:"info-item",children:[p.jsx("label",{children:" CONTRATANTE"}),p.jsx("span",{children:B.contratante||"Annimo"})]})]}),p.jsxs("div",{className:"detail-section",children:[p.jsx("label",{className:"section-label",children:" DESCRIO"}),p.jsx("p",{className:"section-text",children:B.descricaoMissao})]}),p.jsxs("div",{className:"detail-section",children:[p.jsx("label",{className:"section-label",children:" OBJETIVOS"}),p.jsx("p",{className:"section-text",children:B.objetivosMissao})]}),p.jsxs("div",{className:"detail-section",children:[p.jsx("label",{className:"section-label",children:" REQUISITOS"}),p.jsx("p",{className:"section-text",children:B.requisitos})]}),p.jsxs("div",{className:"detail-section reward-section",children:[p.jsx("label",{className:"section-label",children:" RECOMPENSAS"}),p.jsxs("div",{className:"reward-content-box",children:[p.jsxs("div",{className:"gil-display-row",children:[p.jsx("span",{className:"gil-icon",children:""})," ",p.jsxs("span",{className:"gil-value",children:[B.gilRecompensa||0," GIL"]})]}),B.recompensa&&p.jsx("div",{className:"extra-rewards-list",children:B.recompensa.split(`
`).map((Y,Pe)=>p.jsxs("div",{className:"reward-item",children:[" ",Y]},Pe))})]})]})]}),p.jsx("button",{className:"ff-final-close-btn",onClick:()=>se(null),children:"FECHAR RELATRIO"})]})}),ye&&p.jsx("div",{className:"ff-modal-overlay-fixed",onClick:()=>I(null),children:p.jsxs("div",{className:"lightbox-wrap",children:[p.jsx("button",{className:"close-lightbox",onClick:()=>I(null),children:""}),p.jsx("img",{src:ye,alt:"Cartaz",className:"cartaz-full-view"})]})}),pe&&p.jsx("div",{className:"papiro-overlay-full",onClick:()=>_e(null),children:p.jsxs("div",{className:"papiro-real-container",style:{backgroundImage:`url(${RA})`},onClick:Y=>Y.stopPropagation(),children:[p.jsx("div",{className:"sanchez-oval-view-no-border",style:{backgroundImage:`url(${hm})`}}),p.jsx("h2",{className:"papiro-title-real",children:pe.titulo}),p.jsxs("p",{className:"papiro-mestre-sub",children:["Narrador: ",pe.mestre]}),p.jsx("div",{className:"papiro-body-real",dangerouslySetInnerHTML:{__html:pe.conteudo.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br/>")}}),p.jsxs("div",{className:"papiro-dest-list",children:[p.jsx("strong",{children:"ENVIADO PARA:"})," ",pe.destinatarios?.join(", ")]}),p.jsx("button",{className:"papiro-close-btn",onClick:()=>_e(null),children:"FECHAR"})]})}),p.jsxs("div",{className:"master-floating-group",children:[p.jsx(CO,{}),p.jsx(CA,{isMestre:!0}),p.jsx("button",{className:"fichas-trigger-btn",onClick:()=>U(!0),title:"Gerenciar Fichas",children:p.jsx("img",{src:MO,alt:"Fichas",onError:Y=>{Y.target.style.display="none",Y.target.parentNode.innerText="FICHAS"}})})]}),p.jsx("style",{children:`
        /* ESTILOS MANTIDOS + NOVOS */
        .mestre-container { background: #000; min-height: 100vh; position: relative; color: #fff; font-family: 'serif'; overflow: hidden; }
        .mestre-bg-image-full { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center top; background-repeat: no-repeat; opacity: 0.35; z-index: 0; filter: contrast(125%) brightness(75%); }
        .mestre-content { position: relative; z-index: 1; padding: 20px; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }
        
        .top-bar-flex { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .ff-title { color: #ffcc00; text-shadow: 0 0 10px #ffcc00; letter-spacing: 5px; font-size: 2rem; margin: 0; }
        .mestre-identity-box { display: flex; align-items: center; gap: 10px; border: 1px solid #ffcc00; padding: 8px 15px; background: rgba(0, 10, 30, 0.9); }
        .mestre-identity-box input { background: #fff; border: 1px solid #ffcc00; color: #000; padding: 5px 10px; font-weight: bold; font-family: 'serif'; outline: none; }

        /* GRID RESPONSIVO TELA NICA */
        .mestre-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; flex: 1; overflow: hidden; padding-bottom: 60px; /* Espao para botes flutuantes */ }
        
        /* CARDS TELA NICA - REDUZIDO ALTURA */
        .ff-card { background: rgba(0, 10, 30, 0.95); border: 1px solid #ffcc00; padding: 15px; border-radius: 4px; backdrop-filter: blur(10px); display: flex; flex-direction: column; max-height: 100%; }
        .board-column { flex: 1; overflow: hidden; min-height: 0; }
        
        .card-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 15px; flex-shrink: 0; }
        .card-header.no-border { border-bottom: none; }
        
        .mission-scroll { flex: 1; overflow-y: auto; padding-right: 5px; scrollbar-width: thin; scrollbar-color: #ffcc00 #000; }
        .mission-scroll::-webkit-scrollbar { width: 6px; }
        .mission-scroll::-webkit-scrollbar-thumb { background: #ffcc00; }

        .mission-poster { background: rgba(255,255,255,0.04); border: 1px solid #444; margin-bottom: 15px; padding: 18px; border-left: 4px solid #00f2ff; position: relative; }
        .poster-rank-label-fixed { position: absolute; top: 12px; right: 18px; font-size: 32px; color: #ffcc00; opacity: 0.35; font-weight: bold; }
        .mestre-tag { color: #ffcc00; font-size: 10px; text-transform: uppercase; font-weight: bold; display: block; margin-bottom: 8px; }
        .candidates-mini-box { margin-top: 8px; background: rgba(0,0,0,0.3); padding: 5px; border-radius: 3px; }
        .sanchez-card { position: relative; overflow: hidden; }
        .sanchez-header-top { position: relative; z-index: 1; margin-bottom: 15px; border-bottom: 1px solid #333; padding-bottom: 10px; flex-shrink: 0; }
        .sanchez-header-top.no-border { border-bottom: none; }
        .resenha-item-card { background: rgba(255,255,255,0.05); border: 1px solid #333; padding: 15px; margin-top: 12px; border-radius: 4px; }
        .sessao-card { background: linear-gradient(135deg, rgba(20,20,50,0.9), rgba(0,0,20,0.9)); border: 1px solid #00f2ff; padding: 15px; margin-bottom: 15px; border-radius: 4px; box-shadow: 0 0 10px rgba(0,242,255,0.1); }
        .sessao-status { font-size: 10px; color: #f44; font-weight: bold; margin-bottom: 8px; animation: pulse 2s infinite; }
        .sessao-title { color: #fff; font-size: 18px; margin: 0 0 10px 0; border-bottom: 1px solid #333; padding-bottom: 8px; }
        .sessao-info { display: flex; justify-content: space-between; font-size: 12px; color: #aaa; margin-bottom: 10px; }
        .sessao-assets-count { font-size: 11px; color: #ffcc00; background: rgba(0,0,0,0.3); padding: 5px; border-radius: 3px; display: inline-block; }
        .btn-play-vtt { background: #00f2ff; color: #000; border: none; padding: 8px 15px; font-weight: bold; cursor: pointer; flex: 1; margin-right: 10px; transition: 0.3s; }
        .btn-play-vtt:hover { background: #fff; box-shadow: 0 0 15px #00f2ff; }
        @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
        .upload-section-box { border: 1px dashed #444; padding: 15px; margin: 20px 0; background: rgba(0,0,0,0.3); }
        .upload-section-title { color: #00f2ff; font-size: 12px; margin-bottom: 15px; border-bottom: 1px solid #00f2ff; padding-bottom: 5px; display: inline-block; }
        .ff-select-dark { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; outline: none; font-family: 'serif'; }
        .ff-input-dark { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; outline: none; font-family: 'serif'; color-scheme: dark; }
        .link-import-row { display: flex; gap: 10px; margin-bottom: 15px; }
        .small-select { width: 120px; }
        .assets-lists { display: flex; flex-direction: column; gap: 10px; }
        .asset-group { background: rgba(255,255,255,0.05); padding: 10px; border-radius: 4px; }
        .asset-group label { display: block; color: #ffcc00; font-size: 10px; font-weight: bold; margin-bottom: 5px; border-bottom: 1px solid #333; }
        .asset-item { display: flex; justify-content: space-between; align-items: center; font-size: 11px; color: #ddd; margin-bottom: 4px; }
        .truncate-link { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 350px; }
        .btn-remove-x { background: transparent; border: none; color: #f44; font-weight: bold; cursor: pointer; font-size: 14px; }
        .ff-modal-overlay-fixed { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.94); z-index: 99999; display: flex; align-items: center; justify-content: center; }
        .ff-modal-scrollable { width: 550px; max-height: 90vh; overflow-y: auto; background: #000c1d; border: 2px solid #ffcc00; padding: 35px; box-shadow: 0 0 60px rgba(0,0,0,0.9); }
        .modal-title-ff { color: #fff; font-size: 22px; border-bottom: 1px solid #ffcc00; padding-bottom: 10px; margin-bottom: 20px; letter-spacing: 2px; }
        .modal-input-group { margin-bottom: 20px; }
        .modal-input-group label { color: #ffcc00; font-size: 11px; display: block; margin-bottom: 8px; font-weight: bold; letter-spacing: 1px; }
        .modal-input-group input { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; outline: none; font-family: 'serif'; font-size: 14px; }
        .row-double-ff { display: flex; gap: 20px; margin-bottom: 20px; }
        .field-group { flex: 1; display: flex; flex-direction: column; }
        .field-group label { color: #ffcc00; font-size: 11px; display: block; margin-bottom: 8px; font-weight: bold; }
        .field-group input, .field-group select { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; font-family: 'serif'; outline: none; }
        .tall-area-dark { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; height: 110px; resize: none; font-family: 'serif'; outline: none; }
        .tall-area-ff-dark { width: 100%; background: #000; border: 1px solid #ffcc00; color: #fff; padding: 15px; height: 250px; resize: none; font-family: 'serif'; outline: none; font-size: 16px; border-radius: 4px; }
        .detail-view-main { width: 600px; background: #000814; border: 1px solid #ffcc00; padding: 0; box-shadow: 0 0 40px rgba(255, 204, 0, 0.1); overflow: hidden; display: flex; flex-direction: column; }
        .detail-header-modern { background: linear-gradient(90deg, #1a1a1a 0%, #000 100%); padding: 25px 30px; display: flex; align-items: center; border-bottom: 1px solid #333; gap: 20px; }
        .detail-rank-badge { font-size: 32px; font-weight: bold; color: #ffcc00; text-shadow: 0 0 10px rgba(255,204,0,0.5); border: 2px solid #ffcc00; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background: rgba(0,0,0,0.5); }
        .detail-title-col h2 { margin: 0; font-size: 24px; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        .detail-narrator { color: #00f2ff; font-size: 12px; font-weight: bold; text-transform: uppercase; margin-top: 4px; display: block; }
        .detail-body-grid { padding: 30px; display: flex; flex-direction: column; gap: 20px; }
        .detail-info-row { display: flex; gap: 25px; margin-bottom: 10px; border-bottom: 1px solid #333; padding-bottom: 15px; }
        .info-item { flex: 1; }
        .info-item label { color: #ffcc00; font-size: 10px; display: block; margin-bottom: 5px; font-weight: bold; opacity: 0.8; }
        .info-item span { color: #fff; font-size: 14px; font-weight: bold; letter-spacing: 0.5px; }
        .detail-section { margin-bottom: 5px; }
        .section-label { color: #ffcc00; font-size: 11px; font-weight: bold; display: block; margin-bottom: 8px; letter-spacing: 1px; text-transform: uppercase; border-bottom: 1px solid #333; padding-bottom: 4px; }
        .section-text { font-size: 15px; line-height: 1.5; color: #ddd; margin: 0; white-space: pre-wrap; }
        .reward-section { margin-top: 10px; background: rgba(255,204,0,0.05); padding: 15px; border-radius: 4px; border: 1px solid rgba(255,204,0,0.2); }
        .gil-display-row { display: flex; align-items: center; gap: 10px; font-size: 18px; color: #ffcc00; font-weight: bold; margin-bottom: 8px; }
        .extra-rewards-list { margin-top: 8px; padding-left: 5px; }
        .reward-item { color: #aaa; font-size: 14px; margin-bottom: 4px; font-style: italic; }
        .ff-final-close-btn { width: 100%; background: #111; color: #fff; border: none; border-top: 1px solid #333; padding: 20px; font-weight: bold; cursor: pointer; font-size: 13px; text-transform: uppercase; transition: 0.2s; }
        .ff-final-close-btn:hover { background: #222; color: #ffcc00; }
        .papiro-overlay-full { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); z-index: 100000; display: flex; align-items: center; justify-content: center; }
        .papiro-real-container { width: 1000px; height: 800px; max-width: 95vw; max-height: 95vh; background-size: 100% 100%; background-repeat: no-repeat; padding: 110px 160px; color: #3b2b1a; position: relative; display: flex; flex-direction: column; }
        .sanchez-oval-view-no-border { width: 110px; height: 110px; float: right; border-radius: 50%; background-size: cover; margin-left: 20px; mask-image: radial-gradient(circle, black 60%, transparent 100%); -webkit-mask-image: radial-gradient(circle, black 60%, transparent 100%); opacity: 0.9; }
        .papiro-title-real { border-bottom: 2px solid #3b2b1a; padding-bottom: 5px; margin-top: 0; font-size: 32px; font-weight: bold; }
        .papiro-mestre-sub { font-size: 14px; font-style: italic; opacity: 0.8; margin-top: 5px; }
        .papiro-body-real { margin-top: 25px; flex: 1; overflow-y: auto; line-height: 1.6; font-size: 18px; padding-right: 10px; scrollbar-width: none; -ms-overflow-style: none; }
        .papiro-body-real::-webkit-scrollbar { display: none; }
        .papiro-dest-list { margin-top: 15px; font-size: 14px; border-top: 1px solid rgba(59, 43, 26, 0.3); padding-top: 10px; }
        .papiro-close-btn { position: absolute; bottom: 45px; right: 110px; background: #3b2b1a; color: #f4e4bc; border: none; padding: 8px 20px; cursor: pointer; font-weight: bold; font-size: 13px; border-radius: 2px; }
        .ff-add-btn { background: transparent; border: 1px solid #00f2ff; color: #00f2ff; padding: 8px 15px; cursor: pointer; font-weight: bold; font-size: 11px; }
        .ff-add-btn-gold-small { background: transparent; border: 1px solid #ffcc00; color: #ffcc00; padding: 8px 15px; cursor: pointer; font-weight: bold; font-size: 11px; transition: 0.3s; }
        .ff-add-btn-gold-small:hover { background: #ffcc00; color: #000; box-shadow: 0 0 15px #ffcc00; }
        .btn-cyan { border: 1px solid #00f2ff; color: #00f2ff; padding: 6px 15px; background: transparent; cursor: pointer; font-size: 11px; margin-right: 10px; font-weight: bold; }
        .btn-red { border: 1px solid #f44; color: #f44; padding: 6px 15px; background: transparent; cursor: pointer; font-size: 11px; font-weight: bold; }
        .btn-group-ff { display: flex; gap: 20px; margin-top: 25px; }
        .btn-forjar-main { flex: 1; background: #ffcc00; color: #000; border: none; padding: 14px; font-weight: bold; cursor: pointer; font-size: 14px; text-transform: uppercase; }
        .btn-cancelar-main { flex: 1; background: #000; color: #fff; border: 1px solid #fff; padding: 14px; cursor: pointer; text-align: center; font-size: 14px; text-transform: uppercase; }
        .player-selector-box-fixed { margin: 25px 0; border-top: 1px solid #333; padding-top: 15px; }
        .destinatarios-grid-fixed { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 12px; }
        .chip-label-ff { background: rgba(0, 10, 30, 0.8); border: 1px solid #ffcc00; color: #ffcc00; padding: 8px 18px; border-radius: 4px; font-size: 12px; cursor: pointer; display: inline-block; }
        .mission-timer { font-size: 12px; color: #00f2ff; display: block; margin-top: 10px; font-weight: bold; letter-spacing: 1px; }
        .fade-in { animation: fadeIn 1s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .lightbox-wrap { position: relative; max-width: 90vw; max-height: 90vh; }
        .cartaz-full-view { max-width: 100%; max-height: 90vh; border: 3px solid #ffcc00; box-shadow: 0 0 50px #000; }
        .close-lightbox { position: absolute; top: -40px; right: -40px; background: transparent; border: none; color: #fff; font-size: 40px; cursor: pointer; }
        
        /* BOTO FLUTUANTE DE FICHAS */
        .fichas-trigger-btn { position: fixed; bottom: 30px; right: 190px; width: 70px; height: 70px; border-radius: 50%; border: 2px solid #00f2ff; background: #000; cursor: pointer; z-index: 9999; transition: transform 0.2s, box-shadow 0.2s; padding: 0; display: flex; align-items: center; justify-content: center; }
        .fichas-trigger-btn:hover { transform: scale(1.1); box-shadow: 0 0 25px #00f2ff; }
        .fichas-trigger-btn img { width: 70%; height: 70%; object-fit: contain; }

        /* LISTA DE FICHAS */
        .ficha-list-item { display: flex; justify-content: space-between; align-items: center; background: rgba(0,0,0,0.5); border: 1px solid #333; padding: 15px; cursor: pointer; transition: 0.2s; border-radius: 4px; width: 100%; }
        .ficha-list-item:hover { border-color: #00f2ff; background: rgba(0, 242, 255, 0.1); }
        .ficha-row-name { display: flex; flex-direction: column; flex: 1; margin-right: 15px; }
        .ficha-row-name strong { color: #fff; font-size: 16px; }
        .ficha-row-name small { color: #aaa; font-size: 12px; }
      `})]})}const DO=[{id:"humes",name:"Humes",image:"races/humes.png",description:"Os Humes so a raa mais comum e predominante em Ivalice. Adaptveis, curiosos e persistentes, habitam desde as grandes capitais at vilarejos fronteirios. Sua origem  antiga e pouco documentada, mas acredita-se que foram os primeiros a construir grandes cidades e fundar os cls atuais.",characteristics:"Sua maior qualidade  a versatilidade. No se destacam naturalmente em nenhum atributo especfico, mas aprendem qualquer funo rapidamente, prosperando em qualquer lugar que chamem de lar.",racial_bonus:{value:5,detail:"5 pontos extras para distribuir livremente entre os atributos durante a criao de personagem."},base_classes:["Soldado","Mago Branco","Qumico"]},{id:"viera",name:"Viera",image:"races/viera.png",description:"Uma raa graciosa e enigmtica, marcada por longas orelhas e aparncia esguia. Vivem em florestas profundas, isoladas do mundo exterior e conectadas aos espritos da natureza. A sociedade  matriarcal.",characteristics:"Conhecidas por sentidos aguados, velocidade impressionante e habilidades mgicas refinadas. Os machos so raros e exilados ao atingirem a maturidade.",racial_bonus:{female:{VEL:3,INT:2},male_exiled:{"pontos-livres":5}},base_classes:{female:["Arqueira","Esgrimista","Curandeira"],male:["Exilado"]}},{id:"moogles",name:"Moogles",image:"races/moogles.png",description:"Pequenos, adorveis e envoltos em mistrio. Possuem corpos peludos, antenas com pompons flutuantes e pequenas asas de morcego. No possuem gnero definido.",characteristics:"Extremamente inteligentes e obcecados por tecnologia e invenes, misturando cincia com feitiaria. Carregam um estranho 'magnetismo da sorte'.",racial_bonus:{SOR:5},base_classes:["Animista","Engenheiro"]},{id:"bangaa",name:"Bangaa",image:"races/bangaa.png",description:"Guerreiros reptilianos robustos, com pele escamosa e traos que lembram drages antigos. So temidos pela fora bruta e respeitados pela honra em combate.",characteristics:"Sua origem remonta a tempos ancestrais e acredita-se que possuam sangue dracnico. Valorizam a lealdade, a disciplina fsica e o dever.",racial_bonus:{FOR:3,CONS:2},base_classes:["Monge","Guerreiro"]},{id:"grias",name:"Grias",image:"races/grias.png",description:"Guerreiras aladas, exclusivamente femininas, nascidas para dominar os cus. Possuem corpos atlticos, chifres, caudas e asas fortes.",characteristics:"Mestres da caa alada e emboscadas areas. Usam a altura como vantagem ttica e seus ataques de mergulho so devastadores.",racial_bonus:{VEL:2},passive_ability:{name:"Imunidade a Dano de Queda",effect:"No sofrem dano ao cair de qualquer altura nem de impactos ascendentes."},base_classes:["Monge","Guerreiro"]},{id:"elvaan",name:"Elvaan",image:"races/elvaan.png",description:"Originrios de Valendia, so guerreiros altos, nobres e disciplinados, com orelhas alongadas. Simbolizam tradio e justia em Ivalice.",characteristics:"Treinados desde a infncia no manejo de lminas e estilos de combate ancestrais. Desprezam truques e valorizam o confronto direto.",racial_bonus:{FOR:2},passive_ability:{name:"Domnio de Reao",effect:"Aprendem habilidades de reao com o dobro de rapidez."},base_classes:["Soldado","Espadachim"]},{id:"mithra",name:"Mithra",image:"races/mithra.png",description:"Raa com traos felinos, gil e astuta. Compartilham uma origem ancestral com as Viera, mas se espalharam por matas tropicais e runas.",characteristics:"Especialistas em furtividade, espionagem e ladronagem. Possuem forte senso de honra ligado  astcia.",racial_bonus:{VEL:2},passive_ability:{name:"Bnus de Camuflagem",effect:"Recebem vantagem em testes de furtividade, infiltrao e disfarce."},base_classes:["Ladra","Rastreadora"]},{id:"nu_mou",name:"Nu Mou",image:"races/nu-mou.png",description:"Pequenos em estatura, com aparncia canina e pelagem espessa, mas imensos em conhecimento. So magos natos que vivem sculos acumulando sabedoria.",characteristics:"Frequentemente ocupam cargos de conselheiros. Possuem empatia natural com a vida selvagem, comunicando-se com monstros e animais.",racial_bonus:{INT:3,CAR:2},base_classes:["Mago Branco","Adestrador"]},{id:"hypello",name:"Hypello",image:"races/hypello.png",description:"Raa anfbia dos pntanos de Kerwon. Possuem grande estatura, corpos robustos e pele azulada ou esverdeada.",characteristics:"Herbalistas por excelncia, mestres em usar plantas para curas ou venenos. Sua maior fora  a vitalidade e a empatia.",racial_bonus:{CONS:5},base_classes:["Escudeiro","Curandeiro"]},{id:"umbros",name:"Umbros",image:"races/umbros.png",description:"Seres de pele negra e marcas brilhantes que reagem  lua. Descendentes dos seres tocados pelas Pedras Zodiacais.",characteristics:"Alta resistncia  corrupo e aptido mgica. Vistos como orculos ou andarilhos que carregam segredos esquecidos.",racial_bonus:{INT:2},passive_ability:{name:"Modo Luar",effect:"Sob luz direta da lua visvel, causam o dobro de dano final com qualquer magia."},base_classes:["Mago Negro","Ocultista"]}],kO={races:DO},jO=JSON.parse(`[{"id":"soldado","name":"Soldado","type":"Bsica","role":"Tanque / Suporte de status","description":"Guerreiros de linha de frente, treinados para resistir aos maiores impactos do campo de batalha e desestabilizar o inimigo com habilidades tticas conhecidas como 'Pausas'.","bonus_class":{"CONS":5},"requirements":[],"abilities":[{"name":"Primeiro Socorro","description":"Trata os prprios ferimentos, restaurando 25% do HP.","cost":"N/A","type":"HB"},{"name":"Quebra de Poder","description":"Reduz a FOR do alvo pela metade, por trs turnos.","cost":"N/A","type":"HB"},{"name":"Quebra Magia","description":"Reduz a INT do alvo pela metade, por trs turnos.","cost":"N/A","type":"HB"},{"name":"Quebra de Mana","description":"Reduz a MP do alvo pela metade por trs turnos.","cost":"N/A","type":"HB"},{"name":"Provocar","description":"Inflige FURIA a um alvo.","cost":"N/A","type":"HB"},{"name":"Shieldbearer","description":"Permite ao usurio equipar escudos, mesmo fora da classe Soldado.","cost":"N/A","type":"Passiva"}]},{"id":"mago_branco","name":"Mago Branco","type":"Bsica","role":"Suporte / Cura / Anti-morto-vivo","description":"Especialistas em suporte mgico, sua principal funo  manter o grupo de p com curas poderosas, proteo espiritual e magias de ressuscitao.","bonus_class":{"MP":5},"requirements":[],"abilities":[{"name":"Cure","description":"Cura magicamente os ferimentos do alvo. Restaura 10% do PV e causa dano a mortos-vivos.","cost":"8 MP","type":"Magia"},{"name":"Cura","description":"Restaura magicamente 25% de HP. Causa dano a mortos-vivos.","cost":"18 MP","type":"Magia"},{"name":"Curaga","description":"Restaura magicamente 75% de HP. Causa dano a mortos-vivos.","cost":"32 MP","type":"Magia"},{"name":"Esuna","description":"Remove magicamente os efeitos negativos do alvo.","cost":"10 MP","type":"Magia"},{"name":"Arise","description":"Revive magicamente o alvo, removendo o KO. Causa dano a mortos-vivos.","cost":"40 MP","type":"Magia"},{"name":"Turbo MP","description":"Os feitios custam o dobro de seus MP normais, e do o dobro de dano.","cost":"N/A","type":"Passiva"}]},{"id":"quimico","name":"Qumico","type":"Bsica","role":"Suporte / Manipulador de Itens","description":"Mestres do preparo e uso ttico de poes. Utilizam conhecimentos alqumicos para curar aliados e enfraquecer inimigos.","bonus_class":{"SOR":2,"CAR":3},"requirements":[],"abilities":[{"name":"Preparar Poo","description":"Cria uma poo bsica durante o turno.","cost":"N/A","type":"HB"},{"name":"Arremessar Poo","description":"Permite arremessar qualquer poo equipada em um aliado ou inimigo a at 3 quadrados.","cost":"N/A","type":"HB"},{"name":"Frasco Instvel","description":"Arremessa uma mistura explosiva improvisada que causa dano de elemento aleatrio.","cost":"N/A","type":"HB"},{"name":"Reao em Cadeia","description":"Permite usar duas poes diferentes ao mesmo tempo.","cost":"N/A","type":"HB"},{"name":"Reciclagem Alqumica","description":"Recupera uma poo gasta no combate.","cost":"N/A","type":"HB"},{"name":"Inventrio Estendido","description":"Bolsa exclusiva para poes que no ocupa espao no inventrio padro (at 8 poes).","cost":"N/A","type":"Passiva"}]},{"id":"arqueira","name":"Arqueira","type":"Bsica","role":"Atiradora / Controle de Campo","description":"Especialistas em combate  distncia, treinadas para derrubar inimigos com preciso e neutralizar alvos.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Foco","description":"Aumenta drasticamente a preciso e dobra o dano final do ataque.","cost":"N/A","type":"HB"},{"name":"Acerto na Perna","description":"Causa IMOBILIZAO, impedindo movimentos por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Acerto na Mo","description":"Causa DESARME por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Mira Precisa","description":"Adiciona o atributo SORTE ao dano final do ataque.","cost":"N/A","type":"HB"},{"name":"Apago","description":"Causa CEGUEIRA, reduzindo severamente a chance de acerto do alvo por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Concentrao","description":"Aumenta a chance de acerto em todos os disparos de longa distncia.","cost":"N/A","type":"Passiva"}]},{"id":"esgrimista","name":"Esgrimista","type":"Bsica","role":"Duelista / Assassina de preciso","description":"Combatentes graciosas e letais, treinadas no uso refinado da rapieira.","bonus_class":{"VEL":3,"FOR":2},"requirements":[],"abilities":[{"name":"Picada Venenosa","description":"Causa dano e aplica VENENO ao alvo.","cost":"N/A","type":"HB"},{"name":"Voo da Andorinha","description":"Ataca todos os inimigos ao redor, podendo derrub-los.","cost":"N/A","type":"HB"},{"name":"Golpe Perfurante","description":"Estocada que atravessa o primeiro alvo e atinge um segundo atrs dele.","cost":"N/A","type":"HB"},{"name":"Golpe de Mana","description":"Causa dano e reduz o MP do inimigo.","cost":"N/A","type":"HB"},{"name":"Xeque-mate","description":"Inflige CONDENAO (morte aps 3 turnos).","cost":"N/A","type":"HB"},{"name":"Passos Leves","description":"Pode atravessar reas de gua rasa sem perder mobilidade.","cost":"N/A","type":"Passiva"}]},{"id":"curandeira","name":"Curandeira","type":"Bsica","role":"Suporte / Cura Natural","description":"Guardis da vida e das florestas, conectadas  energia da natureza para curar e proteger.","bonus_class":{"HP":3,"MP":2},"requirements":[],"abilities":[{"name":"Folha Serena","description":"Cura um aliado em 10 de HP.","cost":"8 MP","type":"Magia"},{"name":"Broto Purificador","description":"Remove um status negativo de um aliado.","cost":"18 MP","type":"Magia"},{"name":"Conexo Natural","description":"25% do dano recebido pelo aliado  transferido para a Curandeira por 3 turnos.","cost":"20 MP","type":"Magia"},{"name":"Vinhas Enlaantes","description":"Prende at 3 inimigos, impedindo movimento por 2 turnos.","cost":"24 MP","type":"Magia"},{"name":"Nvoa Vigorosa","description":"Cura leve em todos os aliados prximos (rea 3 blocos).","cost":"35 MP","type":"Magia"},{"name":"Refrigrio da Floresta","description":"30% de chance de conceder Resistncia Natural (+5 ARM ou +5 RES) ao curar.","cost":"N/A","type":"Passiva"}]},{"id":"exilado","name":"Exilado","type":"Bsica","role":"Lutador Adaptvel / Sobrevivente","description":"Viera masculinos banidos que aprenderam a sobreviver por conta prpria, adaptando-se a qualquer arma.","bonus_class":{"Livre":5},"requirements":[],"abilities":[{"name":"Tiro Preciso","description":"Disparo com preciso perfeita (usa SOR).","cost":"N/A","type":"HB (Arco)"},{"name":"Golpe Silencioso","description":"Causa DANO CRTICO automtico se o alvo estiver de costas.","cost":"N/A","type":"HB (Adaga)"},{"name":"Finta Desarmante","description":"Reduz o ATAQUE do inimigo por 2 turnos.","cost":"N/A","type":"HB (Espada)"},{"name":"Ruptura Selvagem","description":"Ignora a DEFESA do inimigo e causa dano elevado.","cost":"N/A","type":"HB (Espado)"},{"name":"Primeiros Socorros","description":"Cura 20% do HP a si mesmo ou aliado.","cost":"N/A","type":"HB"},{"name":"Adaptao de Combate","description":"Pode trocar a arma equipada 1 vez por turno sem custo de ao.","cost":"N/A","type":"Passiva"}]},{"id":"guerreiro","name":"Guerreiro","type":"Bsica","role":"Linha de Frente / Espancador","description":"Muralhas de msculo treinados para esmagar o inimigo com pura fora fsica.","bonus_class":{"CONS":5},"requirements":[],"abilities":[{"name":"Primeiro Socorro","description":"Trata os prprios ferimentos, restaurando 20% do HP.","cost":"N/A","type":"HB"},{"name":"Poder de Rend","description":"Reduz o ATAQUE do alvo.","cost":"N/A","type":"HB"},{"name":"Rend Magick","description":"Reduz a MAGIA do alvo.","cost":"N/A","type":"HB"},{"name":"Batida Corporal","description":"Investida causando dano FOR+CONS, volta 40% do dano a si mesmo.","cost":"N/A","type":"HB"},{"name":"Grito de Guerra","description":"Imobiliza o inimigo por 2 turnos e pode causar medo.","cost":"N/A","type":"HB"},{"name":"Monkey Grip","description":"Permite empunhar armas de duas mos com uma mo s.","cost":"N/A","type":"Passiva"}]},{"id":"monge","name":"Monge","type":"Bsica","role":"Linha de Frente / Espancador","description":"Lutadores que usam o ki e seus prprios corpos como armas letais.","bonus_class":{"FOR":3,"CONS":2},"requirements":[],"abilities":[{"name":"Onda Giratria","description":"Ataque giratrio que atinge todos ao redor em 1 bloco.","cost":"N/A","type":"HB"},{"name":"Pulso de Ar","description":"Soco com ki que causa dano e empurra o alvo 2 blocos.","cost":"N/A","type":"HB"},{"name":"Pulso de Terra","description":"Dano terrestre em linha reta (at 3 blocos).","cost":"N/A","type":"HB"},{"name":"Exploso de Ki","description":"Dano em rea de 2 blocos ao redor do monge.","cost":"N/A","type":"HB"},{"name":"Meditao","description":"Restaura 20% de HP e remove status negativos.","cost":"N/A","type":"HB"},{"name":"Reflexo","description":"50% de chance de desviar de ataques bsicos fsicos.","cost":"N/A","type":"Reao"}]},{"id":"animista","name":"Animista","type":"Bsica","role":"Suporte / Manipulador de Status","description":"Moogles que usam instrumentos e talentos imprevisveis para causar efeitos absurdos no campo.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"L Fofa","description":"Garante status 'Proteo' e 'Shell' por 3 turnos.","cost":"8 MP","type":"Magia"},{"name":"Erva de Gato","description":"Aplica 'BERSERK' no inimigo.","cost":"8 MP","type":"HB"},{"name":"Canto do Sapo","description":"Transforma o alvo em SAPO por 2 turnos.","cost":"22 MP","type":"Magia"},{"name":"Cozinhar","description":"Restaura 50% do HP do Alvo.","cost":"22 MP","type":"HB"},{"name":"Conte Ovelhinhas","description":"Faz todos os inimigos em pequena rea adormecerem.","cost":"15 MP","type":"Magia"},{"name":"Abanar o Rabo","description":"20% de chance de ENCANTAR o atacante quando alvejado.","cost":"N/A","type":"Reao"}]},{"id":"engenheiro","name":"Engenheiro","type":"Bsica","role":"Suporte Aleatrio / Caos Tecnolgico","description":"Gnios insanos que usam aparatos e mecanismos imprevisveis.","bonus_class":{"SOR":3,"INT":2},"requirements":[],"abilities":[{"name":"Box Vermelha","description":"Lana 'Haste' em uma unidade aleatria.","cost":"8 MP","type":"HB"},{"name":"Kit Azul","description":"Lana 'Dissipar' ao colidir com alvo aleatrio.","cost":"8 MP","type":"HB"},{"name":"Chaves Negras","description":"Aplica 'Condenao' em quem for atingido.","cost":"20 MP","type":"HB"},{"name":"Bateria Dourada","description":"Restaura 50% HP em uma unidade aleatria.","cost":"16 MP","type":"HB"},{"name":"Borrifador Verde","description":"Aplica VENENO em uma unidade aleatria na rea.","cost":"8 MP","type":"HB"},{"name":"Ajuste Rpido","description":"Permite reutilizar habilidade que falhou no turno seguinte sem custo de MP.","cost":"N/A","type":"Passiva"}]},{"id":"raptora","name":"Raptora","type":"Bsica","role":"Lutadora de Linha de Frente / Alta Mobilidade","description":"Guerreiras aladas que usam velocidade e instintos aguados para ataques rpidos.","bonus_class":{"FOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Ciclone","description":"Causa dano de vento em rea pequena.","cost":"N/A","type":"HB"},{"name":"Poder de Rend","description":"Reduz o ATAQUE do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Rend Magick","description":"Reduz a MAGIA do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Rend MP","description":"Diminui MP do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Redemoinho","description":"Lminas de vento causam dano e CONFUSO.","cost":"N/A","type":"HB"},{"name":"Salvaguarda","description":"Impede que a arma seja roubada ou destruda.","cost":"N/A","type":"Passiva"}]},{"id":"rastreadora","name":"Rastreadora","type":"Bsica","role":"Caadora / Suporte de Rastreio e Preciso","description":"Mestres da observao que leem o terreno e perseguem presas.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Sonic Boom","description":"Dano sonoro impossvel de desviar.","cost":"N/A","type":"HB"},{"name":"Expulsar","description":"Fora um monstro a fugir do combate.","cost":"N/A","type":"HB"},{"name":"Rastrear","description":"Marca um Monstro como 'presa', causando DANO DOBRADO.","cost":"N/A","type":"HB"},{"name":"Investigar","description":"Revela todas as informaes do alvo.","cost":"N/A","type":"HB"},{"name":"ltimo Tiro","description":"Alto dano com chance de infligir CONDENAO.","cost":"N/A","type":"HB"},{"name":"Sobrevivente","description":"Recebe REGEN quando estiver com 20% de HP ou menos.","cost":"N/A","type":"Passiva"}]},{"id":"espadachim","name":"Espadachim","type":"Bsica","role":"Lutador Verstil / Duelo & Tcnica","description":"Guerreiros disciplinados que combinam preciso fsica e poder mgico na lmina.","bonus_class":{"FOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Corte Cruzado","description":"Dano em rea frontal (arco) em at 3 inimigos.","cost":"N/A","type":"HB"},{"name":"Olhos no Duelo","description":"+25% de dano se enfrentar apenas um inimigo.","cost":"N/A","type":"HB"},{"name":"Corte Etreo","description":"Golpe mgico  distncia (FOR+INT).","cost":"10 MP","type":"HB"},{"name":"Passo Veloz","description":"Move-se para trs do inimigo com +50% de chance de crtico.","cost":"N/A","type":"HB"},{"name":"Trifria","description":"Combo de 3 ataques com chance de Sangramento.","cost":"N/A","type":"HB"},{"name":"Corte Reflexivo","description":"30% de chance de aparar projteis fsicos.","cost":"N/A","type":"Reao"}]},{"id":"ladra","name":"Ladra","type":"Bsica","role":"Furtividade / Roubo","description":"Mestras do furto e agilidade que roubam itens e gil em combate.","bonus_class":{"SOR":3,"CAR":2},"requirements":[],"abilities":[{"name":"Roubar Gil","description":"Tenta roubar dinheiro.","cost":"N/A","type":"HB"},{"name":"Roubar Item","description":"Tenta roubar um item.","cost":"N/A","type":"HB"},{"name":"Roubar Equipamento","description":"Tenta roubar o Equipamento do alvo.","cost":"N/A","type":"HB"},{"name":"Destrancar","description":"Pode destrancar portas ou bas.","cost":"N/A","type":"HB"},{"name":"Golpe Furtivo","description":"Dobro de dano se estiver Escondida.","cost":"N/A","type":"HB"},{"name":"Instinto Possessivo","description":"Evita roubo e tenta roubar a arma do ladro.","cost":"N/A","type":"Reao"}]},{"id":"espreitadora","name":"Espreitadora","type":"Bsica","role":"Furtividade / Infiltrao","description":"Especialistas em camuflagem e eliminao silenciosa.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Ataque Surpresa","description":"Crtico automtico se fora do campo de viso.","cost":"N/A","type":"HB"},{"name":"Rpida e Escondida","description":"Velocidade dobrada quando camuflada.","cost":"N/A","type":"Passiva"},{"name":"Manto Noturno","description":"Aumenta chance de camuflagem  noite.","cost":"N/A","type":"Passiva"},{"name":"Silncio","description":"Aplica Silncio por 3 turnos (apenas camuflada).","cost":"N/A","type":"HB"},{"name":"Derrubada Mortal","description":"Elimina instantaneamente alvo pelas costas (apenas camuflada).","cost":"N/A","type":"HB"},{"name":"Morte Silenciosa","description":"50% de chance de permanecer camuflada aps eliminar alvo.","cost":"N/A","type":"Passiva"}]},{"id":"adestrador","name":"Adestrador","type":"Bsica","role":"Controle de Criaturas / Suporte Ttico","description":"Especialistas em lidar com a vida selvagem, controlando monstros temporariamente.","bonus_class":{"CAR":5},"requirements":[],"abilities":[{"name":"Adestrar","description":"Controla um monstro por 5 turnos.","cost":"N/A","type":"HB"},{"name":"Bater ou Correr","description":"Recebe Haste quando HP chega a 10%.","cost":"N/A","type":"Reao"}]},{"id":"escudeiro","name":"Escudeiro","type":"Bsica","role":"Defensor / Suporte com Itens","description":"Pilares de defesa que protegem aliados e usam itens de suporte.","bonus_class":{"CONS":5},"requirements":[],"abilities":[{"name":"Postura de Defesa","description":"Reduz pela metade o dano recebido at o prximo turno.","cost":"N/A","type":"HB"},{"name":"Apoio Vital","description":"Usa at 2 poes para curar aliados adjacentes.","cost":"N/A","type":"HB"},{"name":"Eu te Protejo!","description":"Salta no aliado que tomar dano e absorve o golpe.","cost":"N/A","type":"Reao"},{"name":"Lanamento Cuidadoso","description":"Arremessa item a at 3 blocos.","cost":"N/A","type":"HB"},{"name":"Grito Protetor","description":"Provoca inimigos forando ataque ao Escudeiro.","cost":"N/A","type":"HB"},{"name":"Reao Instintiva","description":"Usa poo automaticamente ao sofrer golpe com HP baixo.","cost":"N/A","type":"Reao"}]},{"id":"mago_negro","name":"Mago Negro","type":"Bsica","role":"Ofensivo Mgico / Controle Elemental","description":"Conjuradores que dominam a magia elemental destrutiva.","bonus_class":{"INT":3,"MP":2},"requirements":[],"abilities":[{"name":"Fire","description":"Esfera de fogo em rea (alvo + 1 casa cada lado).","cost":"10 MP","type":"Magia"},{"name":"Blizzard","description":"Fragmento congelante perfurante.","cost":"10 MP","type":"Magia"},{"name":"Thunder","description":"Raio direto sobre inimigo e adjacentes.","cost":"10 MP","type":"Magia"},{"name":"Aero","description":"Turbilho de vento em rea.","cost":"10 MP","type":"Magia"},{"name":"Telecinese","description":"Move objeto/unidade at 5 blocos.","cost":"10 MP","type":"Magia"},{"name":"Absorver Mana","description":"Absorve 20% do dano mgico recebido como Mana.","cost":"N/A","type":"Reao"}]},{"id":"ocultista","name":"Ocultista","type":"Bsica","role":"Mago das Sombras / Maldies","description":"Estudiosos do proibido que manipulam trevas e maldies.","bonus_class":{"MP":3,"INT":2},"requirements":[],"abilities":[{"name":"Escurido","description":"Dano mgico de trevas em rea.","cost":"10 MP","type":"Magia"},{"name":"Ritual da Condenao","description":"Aplica CONDENAO no alvo.","cost":"15 MP","type":"Magia"},{"name":"Barreira do Silncio","description":"Aplica SILNCIO no alvo.","cost":"15 MP","type":"Magia"},{"name":"Vu Cego","description":"Aplica CEGUEIRA no alvo.","cost":"15 MP","type":"Magia"},{"name":"Avada Mortis","description":"Tenta aplicar morte instantnea.","cost":"30 MP","type":"Magia"},{"name":"Olhar do Abismo","description":"Aumenta INT aps concluir maldio.","cost":"N/A","type":"Passiva"}]},{"id":"quimico_avancado","name":"Qumico Avanado","type":"Avanada","role":"Suporte / Manipulador de Itens","description":"Evoluo do Qumico, usa reaes elementares e poes ofensivas em rea.","bonus_class":{"SOR":4,"CAR":2},"requirements":["3 Habilidades Mestre em Qumico","+30 SOR"],"abilities":[{"name":"Criar Poo Avanada","description":"Cria poes de qualidade superior.","cost":"N/A","type":"HB"},{"name":"Arremesso Rpido","description":"Arremessa at 3 poes em um movimento.","cost":"N/A","type":"HB"},{"name":"Frasco Venenoso","description":"Libera veneno em rea.","cost":"N/A","type":"HB"},{"name":"Frasco Milagroso","description":"Remove todos status negativos.","cost":"N/A","type":"HB"},{"name":"Dose Grande","description":"Aumenta rea de efeito da poo.","cost":"N/A","type":"HB"},{"name":"Pr-Preparo","description":"Inicia combate com 2 poes prontas.","cost":"N/A","type":"Passiva"}]},{"id":"clerigo","name":"Clrigo","type":"Avanada","role":"Curandeiro de Linha de Frente","description":"Elo entre fora e f, luta na frente enquanto cura aliados.","bonus_class":{"CONS":4,"MANA":2},"requirements":["1 Habilidade Mestre em Soldado","2 Habilidades Mestre em Mago Branco","+20 FOR"],"abilities":[{"name":"Julgamento Divino","description":"Dano sagrado (FOR+Luz).","cost":"20 MP","type":"Magia"},{"name":"Palavras de F","description":"Concede Barreira e Shell.","cost":"15 MP","type":"Magia"},{"name":"Espurgar","description":"Expulsa monstros espirituais.","cost":"25 MP","type":"Magia"},{"name":"Martelo Giratrio","description":"Dano em rea ao redor (CONS+FOR+Luz).","cost":"30 MP","type":"HB"},{"name":"Ruptura Divina","description":"Exploso triangular de luz.","cost":"50 MP","type":"HB"},{"name":"Estou com Voc","description":"Cura auto 10% de aliado adjacente por turno.","cost":"N/A","type":"Passiva"}]},{"id":"alquimista","name":"Alquimista","type":"Avanada","role":"Suporte / Manipulador de Campo","description":"Molda o mundo convertendo solo e energia em poder.","bonus_class":{"INT":4,"MANA":2},"requirements":["2 Habilidades Mestre em Mago Branco","1 Habilidade Mestre em Qumico","+30 INT"],"abilities":[{"name":"Pilar de Pedra","description":"Pilar de rocha atinge inimigo (INT+Terra).","cost":"20 MP","type":"Magia"},{"name":"Canho de Pedra","description":"Projtil de rocha distante.","cost":"20 MP","type":"Magia"},{"name":"Correntes de Solo","description":"Imobiliza inimigo.","cost":"17 MP","type":"Magia"},{"name":"Transmutao Peridica","description":"Altera elemento natural de rea/objeto.","cost":"30 MP","type":"Magia"},{"name":"Golem de Pedra","description":"Cria golem controlvel.","cost":"50 MP","type":"Magia"},{"name":"Muro","description":"Bloqueia ataque com muro de pedra.","cost":"N/A","type":"Reao"}]},{"id":"duelista","name":"Duelista","type":"Avanada","role":"Lutador de Elite / Combate Singular","description":"pice do domnio da espada, focado em preciso e duelos.","bonus_class":{"FOR":4,"VEL":2},"requirements":["3 Habilidades Mestre em Espadachim","+30 FOR","+20 VEL"],"abilities":[{"name":"BackStep","description":"Salta 2 blocos para esquiva.","cost":"N/A","type":"HB"},{"name":"Eu Contra Voc","description":"+50% dano em alvo nico.","cost":"N/A","type":"HB"},{"name":"Chuva de Lminas","description":"Trs cortes de ar consecutivos.","cost":"N/A","type":"HB"},{"name":"Postura de Batalha","description":"Aumenta ataque fsico em 50%.","cost":"N/A","type":"HB"},{"name":"Grande Slash","description":"Golpe que percorre o campo todo.","cost":"N/A","type":"HB"},{"name":"Defesa Contnua","description":"Desvia golpe se FOR > inimigo.","cost":"N/A","type":"Reao"}]},{"id":"iluminista","name":"Iluminista","type":"Avanada","role":"Mago Supremo / Controlador Elemental Global","description":"Concentra energia para ataques globais ou curas totais.","bonus_class":{"INT":5,"MANA":5},"requirements":["5 Habilidades Mestre em Mago Branco","5 Habilidades Mestre em Mago Negro"],"abilities":[{"name":"Piromancia","description":"Dano global de Fogo aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Aquamancia","description":"Dano global de gua aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Raiomancia","description":"Dano global de Trovo aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Whitemancia","description":"Cura global 50% HP aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Tretamancia","description":"Plasma linear de ponta a ponta.","cost":"50 MP","type":"Magia"},{"name":"Ritual Seguro","description":"Ativa Barreira/Veloz ao ser alvejado conjurando.","cost":"N/A","type":"Reao"}]},{"id":"oppenheir","name":"Oppenheir","type":"Avanada","role":"Mestre Qumico / Manipulador da Destruio","description":"Alquimia levada ao limite de exploses e reaes em cadeia.","bonus_class":{"SOR":10},"requirements":["5 Habilidades Mestre em Qumico","5 Habilidades Mestre em Qumico Avanado"],"abilities":[{"name":"Reao Altrusta","description":"Exploso de cura e remoo de status.","cost":"N/A","type":"HB"},{"name":"Nuvem Txica","description":"Veneno em rea e reduz preciso.","cost":"N/A","type":"HB"},{"name":"Ignis Vitae","description":"Chamas conscientes perseguidoras.","cost":"N/A","type":"HB"},{"name":"Fragmento Celular","description":"Microexploso de dano massivo.","cost":"N/A","type":"HB"},{"name":"Bomba Atmica","description":"Exploso que elimina todos no campo (exceto cobertura).","cost":"N/A","type":"HB"},{"name":"Entropia Perfeita","description":"Chance de remover penalidades ao explodir.","cost":"N/A","type":"Passiva"}]},{"id":"eremita","name":"Eremita","type":"Avanada","role":"Tanque / Protetor Espiritual","description":"Sacerdote de batalha que converte dano em sacrifcio e proteo.","bonus_class":{"CONS":10},"requirements":["5 Habilidades Mestre em Clrigo","+100 CONS"],"abilities":[{"name":"F ao Meu Redor","description":"Aura cura 50% HP aliados prximos.","cost":"N/A","type":"HB"},{"name":"F do Sol","description":"Raio solar expurga mortos-vivos e queima.","cost":"N/A","type":"HB"},{"name":"F da Lua","description":"Cura 100% HP aliados prximos.","cost":"N/A","type":"HB"},{"name":"F do Ferro","description":"Concede Shell+ e Barreira+.","cost":"N/A","type":"HB"},{"name":"F do Brbaro","description":"Provoca inimigos e soma CONS ao dano.","cost":"N/A","type":"HB"},{"name":"Aquele que Me Protege","description":"Converte 20% do dano recebido em cura.","cost":"N/A","type":"Passiva"}]},{"id":"arquidenio","name":"Arquidnio","type":"Avanada","role":"Suporte / Manipulador de Probabilidades","description":"Mago matemtico que manipula valores e estatsticas de combate.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Alquimista","+100 INT"],"abilities":[{"name":"O Dobro","description":"Dobra qualquer valor por 1 turno.","cost":"50 MP","type":"Magia"},{"name":"Pela Metade","description":"Divide qualquer valor por 2.","cost":"50 MP","type":"Magia"},{"name":"100%","description":"Garante acerto absoluto.","cost":"70 MP","type":"Magia"},{"name":"0%","description":"Anula valor ou chance a 0.","cost":"70 MP","type":"Magia"},{"name":"Septania","description":"Multiplica valor por 7x.","cost":"100 MP","type":"Magia"},{"name":"Lgica Perfeita","description":"Resultado natural 20 uma vez por batalha.","cost":"N/A","type":"Passiva"}]},{"id":"samurai","name":"Samurai","type":"Avanada","role":"Ofensivo / Especialista em Duelo","description":"Guerreiro disciplinado que une velocidade e fora em cortes perfeitos.","bonus_class":{"FOR":5,"VEL":5},"requirements":["5 Habilidades Mestre em Espadachim","5 Habilidades Mestre em Duelista"],"abilities":[{"name":"Saque Rpido","description":"Duplica FOR e VEL por 1 turno.","cost":"N/A","type":"HB"},{"name":"Furaco da Folha","description":"Tornado de cortes em linha reta.","cost":"N/A","type":"HB"},{"name":"Olhos de Falco","description":"Soma FOR + SOR contra alvo.","cost":"N/A","type":"HB"},{"name":"Corte do Drago","description":"Golpe instantneo. 20 natural elimina alvo.","cost":"N/A","type":"HB"},{"name":"Cu Limpo","description":"Corte vertical colossal aps preparao.","cost":"N/A","type":"HB"},{"name":"Empunhadura Dupla","description":"Pode empunhar duas armas.","cost":"N/A","type":"Passiva"}]},{"id":"gladiador","name":"Gladiador","type":"Avanada","role":"Linha de Frente / Controle e Fora Bruta","description":"Colosso de arena que luta por glria e brutalidade.","bonus_class":{"FOR":4,"CONS":2},"requirements":["2 Habilidades Mestre em Guerreiro","+30 FOR"],"abilities":[{"name":"Grito Selvagem","description":"Aumenta FOR e provoca inimigos.","cost":"N/A","type":"HB"},{"name":"Investida de Escudo","description":"Dano de impacto com escudo.","cost":"N/A","type":"HB"},{"name":"Espancamento","description":"5 golpes consecutivos, pode imobilizar.","cost":"N/A","type":"HB"},{"name":"Espada Flamejante","description":"Causa Queimadura com ataques fsicos.","cost":"N/A","type":"HB"},{"name":"Postura de Luta","description":"Evita ataques e contra-ataca.","cost":"N/A","type":"HB"},{"name":"Escudeiro","description":"Pode usar escudos em qualquer classe.","cost":"N/A","type":"Passiva"}]},{"id":"artista_marcial","name":"Artista Marcial","type":"Avanada","role":"Linha de Frente / Especialista em Combos","description":"Especialista em golpes precisos e canalizao de fora vital.","bonus_class":{"VEL":4,"CONS":2},"requirements":["2 Habilidades Mestre em Monge","+30 VEL"],"abilities":[{"name":"Combo do Tigre","description":"3 golpes, dano aumenta a cada acerto.","cost":"N/A","type":"HB"},{"name":"Golpe Serpenteante","description":"Aproximao em zigue-zague e crtico.","cost":"N/A","type":"HB"},{"name":"Palma Sagrada","description":"Golpe de dano puro que ignora armadura.","cost":"N/A","type":"HB"},{"name":"Passo do Vento","description":"Teleporte curto e ataque surpresa.","cost":"N/A","type":"HB"},{"name":"Punhos do Drago","description":"5 golpes simultneos com chance de atordoar.","cost":"N/A","type":"HB"},{"name":"Esprito Indomvel","description":"Ganha FOR e VEL quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"lanceiro","name":"Lanceiro","type":"Avanada","role":"Ofensivo / Alcance e Preciso","description":"Predador de longo alcance com lanas.","bonus_class":{"VEL":4,"SOR":2},"requirements":["2 Habilidades Mestre em Guerreiro","+30 VEL"],"abilities":[{"name":"Ponta Longa","description":"Estende alcance para 4 blocos.","cost":"N/A","type":"HB"},{"name":"Dardo de Javali","description":"Arremessa a lana perfurando linha reta.","cost":"N/A","type":"HB"},{"name":"Jump","description":"Salta e cai sobre inimigo com dano alto.","cost":"N/A","type":"HB"},{"name":"Barreira de Cabo","description":"Empurra inimigos adjacentes.","cost":"N/A","type":"HB"},{"name":"Ponta Perfurante","description":"Golpe linear que perfura alvos.","cost":"N/A","type":"HB"},{"name":"Rpido como uma Lana","description":"Converte VEL em dano quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"lutador_de_rua","name":"Lutador de Rua","type":"Avanada","role":"Ofensivo / Anti-Honra","description":"Brigo desonesto que usa fora bruta e truques sujos.","bonus_class":{"Livre":6},"requirements":["2 Habilidades Mestre em Monge","1 Habilidade Mestre em outra classe"],"abilities":[{"name":"Vou te Arrebentar!","description":"+20% dano contra alvo marcado.","cost":"N/A","type":"HB"},{"name":"Lariat de Msculos","description":"Golpe de brao com chance de Atordoar.","cost":"N/A","type":"HB"},{"name":"Soco na Costela","description":"Finta e golpe crtico preciso.","cost":"N/A","type":"HB"},{"name":"Rasteira Malandra","description":"Aplica Imobilizado.","cost":"N/A","type":"HB"},{"name":"Sequncia de Raiva","description":"5 ataques e entra em Fria.","cost":"N/A","type":"HB"},{"name":"Covarde","description":"Dobra VEL para fugir quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"vinking","name":"Vinking","type":"Avanada","role":"Brbaro Mstico","description":"Guerreiro ancestral guiado por troves e fria divina.","bonus_class":{"FOR":4,"CONS":2},"requirements":["3 Habilidades Mestre em Gladiador","+50 FOR","+50 CONS"],"abilities":[{"name":"Marchar de Heimdall","description":"Dobra VEL prpria e de aliados.","cost":"N/A","type":"HB"},{"name":"Trovo de Thor","description":"Raio cai a distncia.","cost":"N/A","type":"HB"},{"name":"Confronto de Tyr","description":"Dobra FOR por 5 turnos.","cost":"N/A","type":"HB"},{"name":"Ma de Iduna","description":"Recupera 80% HP e remove status.","cost":"N/A","type":"HB"},{"name":"Por Odin!","description":"Aumenta todos atributos por 1 turno.","cost":"N/A","type":"HB"},{"name":"At Valhalla","description":"Converte CONS em FOR quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"templario","name":"Templrio","type":"Avanada","role":"Mobilidade Extrema / Linha de Frente","description":"Soldado perfeito que domina o campo com lana e velocidade.","bonus_class":{"VEL":4,"CONS":2},"requirements":["3 Habilidades Mestre em Lanceiro","+50 VEL","+50 FOR"],"abilities":[{"name":"Salto Rpido","description":"Teleporte para qualquer parte do mapa.","cost":"N/A","type":"HB"},{"name":"Avano Perfurante","description":"Avano linear perfurante.","cost":"N/A","type":"HB"},{"name":"Dardos Perfurantes","description":"5 ataques em sequncia.","cost":"N/A","type":"HB"},{"name":"Lana Flamejante","description":"Adiciona Fogo aos ataques.","cost":"N/A","type":"HB"},{"name":"Dardo do Drago","description":"Arremesso perfurante em linha reta.","cost":"N/A","type":"HB"},{"name":"Lana Giratria","description":"Evita ataques  distncia.","cost":"N/A","type":"Reao"}]},{"id":"mestre_artes_marciais","name":"Mestre das Artes Marciais","type":"Avanada","role":"Duelista / Manipulador de Ki","description":"Harmonia total entre corpo e Ki.","bonus_class":{"CONS":4,"Livre":2},"requirements":["5 Habilidades Mestre em Monge","5 Habilidades Mestre em Artista Marcial"],"abilities":[{"name":"Dana do Carvalho Vermelho","description":"Combo de 5 golpes de vento.","cost":"N/A","type":"HB"},{"name":"Palma do Drago","description":"Ondas de ar  distncia.","cost":"N/A","type":"HB"},{"name":"Teken","description":"Dobra ARM e RES por 5 turnos.","cost":"N/A","type":"HB"},{"name":"Dana do Sabugueiro Marrom","description":"Reduz ARM do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Dana do Esprito Branco","description":"Clone dobra aes por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Intuio de Ki","description":"Imune a surpresas.","cost":"N/A","type":"Passiva"}]},{"id":"brutamontes","name":"Brutamontes","type":"Avanada","role":"Tanque Ofensivo","description":"Muralha do submundo que protege e esmaga.","bonus_class":{"CAR":4,"SOR":2},"requirements":["5 Habilidades Mestre em Lutador de Rua","100 FOR"],"abilities":[{"name":"No Vai Passar","description":"Bloqueia avano inimigo e dobra defesa.","cost":"N/A","type":"HB"},{"name":"Lariat Duplo","description":"Arrasta inimigos adjacentes.","cost":"N/A","type":"HB"},{"name":"Emboscada","description":"Recupera HP e contra-ataca quem aproximar.","cost":"N/A","type":"HB"},{"name":"Pose do Brutamontes","description":"Salto esmagador com onda de choque.","cost":"N/A","type":"HB"},{"name":"Manda-Chuva","description":"Buffa aliados e debuffa inimigos em rea.","cost":"N/A","type":"HB"},{"name":"Fraco Demais","description":"Nega dano menor que sua FOR.","cost":"N/A","type":"Passiva"}]},{"id":"cavaleiro_dragao","name":"Cavaleiro Drago","type":"Avanada","role":"Caador de Drages / Ofensivo Elemental","description":"Guerreiros que usam poderes de drago.","bonus_class":{"CONS":5,"BonusDanoDragao":"20%"},"requirements":["Eliminar um Drago"],"abilities":[{"name":"Bafo do Drago Vermelho","description":"Fogo em rea triangular.","cost":"N/A","type":"HB"},{"name":"Garras do Drago Ciano","description":"Golpe de gelo com avano.","cost":"N/A","type":"HB"},{"name":"Salto do Drago Amarelo","description":"Salto eltrico (1 turno no ar).","cost":"N/A","type":"HB"},{"name":"Beno do Drago Azul","description":"Cura 50% HP.","cost":"N/A","type":"HB"},{"name":"Energia do Drago Branco","description":"Raio de luz linear.","cost":"N/A","type":"HB"},{"name":"Aura de Drago","description":"Monstros fracos sentem medo.","cost":"N/A","type":"Passiva"}]},{"id":"dragonslayer","name":"Dragonslayer","type":"Avanada","role":"Anti-Drago / Executador","description":"Arma final contra drages, capaz de subjugar feras colossais.","bonus_class":{"FOR":6,"BonusDanoDragao":"60%"},"requirements":["5 Habilidades Mestre em Cavaleiro Drago"],"abilities":[{"name":"Sopro do Drago Esmeralda","description":"Nuvem txica em rea.","cost":"N/A","type":"HB"},{"name":"Rasante do Drago Prateado","description":"Rasante de vento linear mapa todo.","cost":"N/A","type":"HB"},{"name":"Escamas do Drago Ouro","description":"Dobra ARM e RES.","cost":"N/A","type":"HB"},{"name":"Tremor do Drago de Bronze","description":"Estacas de pedra e tremor.","cost":"N/A","type":"HB"},{"name":"Ameaa do Drago Negro","description":"Miasma negra aplica Condenao.","cost":"N/A","type":"HB"},{"name":"Escamas Elementais","description":"Absorve dano elemental convertendo em CONS.","cost":"N/A","type":"Passiva"}]},{"id":"xama","name":"Xam","type":"Avanada","role":"Debuff / Manipulador de Caos","description":"Lida com foras ocultas e ancestrais dos pntanos.","bonus_class":{"MANA":3,"CONS":2},"requirements":["2 Habilidades Mestre em Curandeiro","+30 MANA"],"abilities":[{"name":"Xabala Cegaris","description":"Cega alvo por 5 turnos.","cost":"15 MP","type":"Magia"},{"name":"Ziriki Sileci","description":"Silencia alvo por 5 turnos.","cost":"15 MP","type":"Magia"},{"name":"Urucubaca","description":"Aplica Envenenamento.","cost":"20 MP","type":"Magia"},{"name":"Ianhamaj","description":"Imobiliza alvo por 5 turnos.","cost":"20 MP","type":"Magia"},{"name":"Zakarinhad","description":"Aplica Condenao.","cost":"30 MP","type":"Magia"},{"name":"Oshala","description":"Imune a status negativos.","cost":"N/A","type":"Passiva"}]},{"id":"monge_do_pantano","name":"Monge do Pntano","type":"Avanada","role":"Lutador de Terreno / Porradeiro","description":"Canaliza a densidade do pntano em golpes pesados.","bonus_class":{"CONS":3,"FOR":2},"requirements":["1 Habilidade Mestre em Curandeiro","1 Habilidade Mestre em Escudeiro","+20 FOR"],"abilities":[{"name":"Soco do Pntano","description":"Golpe aqutico carregado.","cost":"N/A","type":"HB"},{"name":"Barrigada","description":"Esmaga e empurra.","cost":"N/A","type":"HB"},{"name":"Vu do Pntano","description":"Dobra RES por 3 turnos.","cost":"N/A","type":"HB"},{"name":"Abrao do Pntano","description":"Agarro esmagador.","cost":"N/A","type":"HB"},{"name":"Boxe do Pntano","description":"3 golpes consecutivos pantanosos.","cost":"N/A","type":"HB"},{"name":"gua Est Comigo","description":"Dobra dano em terreno de gua.","cost":"N/A","type":"Passiva"}]},{"id":"glutao","name":"Gluto","type":"Avanada","role":"Tank / Absorvedor de Dano","description":"Foras da natureza famintas e indestrutveis.","bonus_class":{"CONS":5},"requirements":["1 Habilidade Mestre em Curandeiro","1 Habilidade Mestre em Escudeiro","+20 CONS"],"abilities":[{"name":"Investida do Sapo","description":"Atropela em linha reta.","cost":"N/A","type":"HB"},{"name":"Descanso do Sapo","description":"Cura e dobra defesa (imvel).","cost":"N/A","type":"HB"},{"name":"Arroto do Sapo","description":"Dano de impacto sonoro.","cost":"N/A","type":"HB"},{"name":"Pulo do Sapo","description":"Esmaga alvo com peso.","cost":"N/A","type":"HB"},{"name":"Vou Te Comer","description":"Devora inimigo com 25% HP ou menos.","cost":"N/A","type":"HB"},{"name":"Boca Sempre Mexendo","description":"Recupera 10% HP se no agir.","cost":"N/A","type":"Passiva"}]},{"id":"protetor","name":"Protetor","type":"Avanada","role":"Tank / Guardio de Campo","description":"Muralhas vivas dedicadas a proteger aliados.","bonus_class":{"CONS":5},"requirements":["2 Habilidades Mestre em Escudeiro","+30 CONS"],"abilities":[{"name":"Eu Tanko, Voc Mata","description":"Absorve 80% do dano de aliado e buffa FOR dele.","cost":"N/A","type":"HB"},{"name":"Investida do Escudo","description":"Corre com escudo e atordoa.","cost":"N/A","type":"HB"},{"name":"Reflexo do Escudo","description":"Escudo ricocheteia em inimigos.","cost":"N/A","type":"HB"},{"name":"Sapo Protetor","description":"Compartilha defesa com aliados ao redor.","cost":"N/A","type":"HB"},{"name":"Escudo de Proteo Areo","description":"Anula prximo dano em aliado.","cost":"N/A","type":"HB"},{"name":"Socorros Rpidos","description":"Salta para tomar golpe por aliado.","cost":"N/A","type":"Reao"}]},{"id":"pai_do_pantano","name":"Pai do Pntano","type":"Avanada","role":"Mago de Terreno / Controle","description":"Tornou-se um com o pntano, controlando razes e mars.","bonus_class":{"MANA":6},"requirements":["5 Habilidades Mestre em Xam","5 Habilidades Mestre em Curandeiro"],"abilities":[{"name":"Razes do Sabugueiro de Ihoa","description":"Imobiliza inimigos em rea.","cost":"50 MP","type":"Magia"},{"name":"Pico dos Pinheiros","description":"Pinheiros empalam inimigos.","cost":"50 MP","type":"Magia"},{"name":"Gota de Orvalho","description":"Cura 100% HP e remove status (rea).","cost":"50 MP","type":"Magia"},{"name":"Primavera Serena","description":"Dobra INT e RES de aliados.","cost":"40 MP","type":"Magia"},{"name":"Mar do Mangue","description":"Empurra inimigos, remove buffs e cura aliados (global).","cost":"100 MP","type":"Magia"},{"name":"Floresta Viva","description":"Razes prendem inimigos engajados.","cost":"N/A","type":"Passiva"}]},{"id":"sabio_do_pantano","name":"Sbio do Pntano","type":"Avanada","role":"Controle de gua / Contra-Golpe","description":"Domina a energia viva do pntano com constituio colossal.","bonus_class":{"CONS":6},"requirements":["5 Habilidades Mestre em Monge do Pntano","+100 CONS"],"abilities":[{"name":"Punho do Pntano","description":"Ataques ganham elemento gua.","cost":"N/A","type":"Passiva"},{"name":"Serpente do Pntano","description":"Ataque linear de gua.","cost":"N/A","type":"HB"},{"name":"AquaReflete","description":"Esfera de gua empurra alvo.","cost":"N/A","type":"HB"},{"name":"Pantanogan","description":"Esfera de gua empurra alvo.","cost":"N/A","type":"HB"},{"name":"Bola de Canho","description":"Projtil vivo de dano massivo.","cost":"N/A","type":"HB"},{"name":"Contra-Corpo","description":"Contra-ataca fsico e empurra.","cost":"N/A","type":"Reao"}]},{"id":"burgues_do_pantano","name":"Burgus do Pntano","type":"Avanada","role":"Tanque / Controle","description":"Suprema ganncia, usa corpo colossal e autoridade.","bonus_class":{"CONS":6},"requirements":["5 Habilidades Mestre em Gluto","+100 CONS"],"abilities":[{"name":"Imposto do Pntano","description":"Rouba 20% HP do alvo e remove buff.","cost":"N/A","type":"HB"},{"name":"Barriga Monrquica","description":"Dobra defesa e bloqueia passagem.","cost":"N/A","type":"HB"},{"name":"Banquete Exclusivo","description":"Cura 100% HP e ganha Fria.","cost":"N/A","type":"HB"},{"name":"Tesouro do Pntano","description":"Exploso de cofre.","cost":"N/A","type":"HB"},{"name":"Decreto de Propriedade","description":"Debuffa inimigos e buffa aliados em rea.","cost":"N/A","type":"HB"},{"name":"Soberania do Pntano","description":"Cura ao aproximar inimigo e aplica Lentido.","cost":"N/A","type":"Passiva"}]},{"id":"guardiao_do_pantano","name":"Guardio do Pntano","type":"Avanada","role":"Tanque / Suporte Supremo","description":"Monlito vivo que ergue muralhas de escudos.","bonus_class":{"CONS":10},"requirements":["5 Habilidades Mestre em Escudeiro","5 Habilidades Mestre em Protetor"],"abilities":[{"name":"Priso de Escudo","description":"Prende alvo em 4 escudos.","cost":"N/A","type":"HB"},{"name":"Dobro de Escudo","description":"Dobra qualquer escudo em jogo.","cost":"N/A","type":"HB"},{"name":"Grande Escudo","description":"Protege rea enorme atrs dele.","cost":"N/A","type":"HB"},{"name":"Escudo Revitalizador","description":"Cura 100% HP rea.","cost":"N/A","type":"HB"},{"name":"Proteo em Grande Escala","description":"Anula prximo dano em TODOS aliados.","cost":"N/A","type":"HB"},{"name":"Proteo Mgica","description":"Usa habilidade de proteo em aliado alvejado.","cost":"N/A","type":"Reao"}]},{"id":"cantor_das_mares","name":"Cantor das Mars","type":"Avanada","role":"Suporte / Buffer Musical","description":"Bardos que usam melodias espirituais.","bonus_class":{"CAR":5},"requirements":["+50 CAR"],"abilities":[{"name":"Cantar","description":"Executa msica do repertrio (efeitos variados).","cost":"N/A","type":"HB"},{"name":"Palco Improvisado","description":"Dobro de efeito se estiver em terreno elevado.","cost":"N/A","type":"Passiva"}]},{"id":"astro_do_pantano","name":"Astro do Pntano","type":"Avanada","role":"Suporte Musical / Manipulador de Moral","description":"cone musical que move multides.","bonus_class":{"CAR":10},"requirements":["Ttulo musical com Cantor das Mars"],"abilities":[{"name":"Mashup","description":"Combina duas msicas simultneas.","cost":"N/A","type":"HB"},{"name":"Charme Musical","description":"Enfeitia atacante.","cost":"N/A","type":"Reao"}]},{"id":"sutileira","name":"Sutileira","type":"Avanada","role":"Roubo de Elite / Suporte Social","description":"Ladras de alta classe, elegantes e imperceptveis.","bonus_class":{"CAR":3,"SOR":2},"requirements":["2 Habilidades Mestre em Ladra","+20 SOR"],"abilities":[{"name":"Roubar Arma Principal","description":"Furta a arma equipada do alvo.","cost":"N/A","type":"HB"},{"name":"Roubar Acessrios","description":"Furta anis/colares.","cost":"N/A","type":"HB"},{"name":"Roubar Item de Luxo","description":"Furta item mais raro.","cost":"N/A","type":"HB"},{"name":"Detectar Armadilhas","description":"Percebe armadilhas em raio de 5 blocos.","cost":"N/A","type":"HB"},{"name":"Famme Fatale","description":"Encanta alvo e pode aplicar Condenao.","cost":"N/A","type":"HB"},{"name":"Mestre dos Assaltos","description":"No ativa armadilhas.","cost":"N/A","type":"Passiva"}]},{"id":"rastreadora_avancada","name":"Rastreadora (Avanada)","type":"Avanada","role":"Dano / Furtividade / Controle","description":"Felinas letais que unem furtividade com caa predatria.","bonus_class":{"SOR":3,"VEL":2},"requirements":["2 Habilidades Mestre em Espreitadora","+20 VEL"],"abilities":[{"name":"Cheiro do Medo","description":"Dobra MOV na direo do alvo.","cost":"N/A","type":"HB"},{"name":"Detectar Fraqueza","description":"Prximo ataque soma SOR ao dano.","cost":"N/A","type":"HB"},{"name":"Colocar Armadilhas","description":"Instala armadilha no campo.","cost":"N/A","type":"HB"},{"name":"Salto da Morte","description":"Ataque de cima com bnus de SOR.","cost":"N/A","type":"HB"},{"name":"Morte em Sequncia","description":"Golpe linear em todos no trajeto.","cost":"N/A","type":"HB"},{"name":"Contra Ataque","description":"Contra-ataca fsico adjacente.","cost":"N/A","type":"Reao"}]},{"id":"kunoichi","name":"Kunoichi","type":"Avanada","role":"Ninjutsu / Controle Elemental","description":"Assassinas discretas que usam iluses e ninjutsu.","bonus_class":{"INT":3,"SOR":2},"requirements":["2 Habilidades Mestre em Ladra","2 Habilidades Mestre em Espreitadora"],"abilities":[{"name":"Arremesso de Kunai","description":"Kunai amplificada com INT.","cost":"N/A","type":"HB"},{"name":"Bomba de Fumaa","description":"Fica camuflada instantaneamente.","cost":"N/A","type":"HB"},{"name":"Genjutsu","description":"Iluso causa Confuso.","cost":"25 MP","type":"Magia"},{"name":"Suiton","description":"Vrtice de gua (INT+gua).","cost":"30 MP","type":"Magia"},{"name":"Doton","description":"Pilar de terra (INT+Terra).","cost":"30 MP","type":"Magia"},{"name":"Clone das Sombras","description":"Clone repete ninjutsu.","cost":"N/A","type":"Passiva"}]},{"id":"chefona","name":"Chefona","type":"Avanada","role":"DPS / Suporte Criminoso","description":"Mandachuva do crime que usa pistolas e capangas.","bonus_class":{"SOR":6},"requirements":["5 Habilidades Mestre em Ladra","5 Habilidades Mestre em Sutileira","+100 SOR"],"abilities":[{"name":"Paredo","description":"Saraivada de balas em alvo.","cost":"N/A","type":"HB"},{"name":"Tiroteio","description":"Tiros em rea ao redor.","cost":"N/A","type":"HB"},{"name":"Estragar o Velrio","description":"Tiro na cabea (morte instantnea) se camuflada.","cost":"N/A","type":"HB"},{"name":"Bora Rapaziada","description":"Buffa MOV e VEL de aliados.","cost":"N/A","type":"HB"},{"name":"Meus Capangas","description":"Invoca 2 capangas.","cost":"N/A","type":"HB"},{"name":"Dois Ferros","description":"Pode usar duas armas de fogo.","cost":"N/A","type":"Passiva"}]},{"id":"assassina","name":"Assassina","type":"Avanada","role":"Eliminadora de Alvos","description":"Lenda das sombras, elimina alvos silenciosamente.","bonus_class":{"SOR":10},"requirements":["5 Habilidades Mestre em Espreitadora","5 Habilidades Mestre em Rastreadora","+100 SOR"],"abilities":[{"name":"Lmina de Veneno","description":"Ataques causam Envenenamento.","cost":"N/A","type":"HB"},{"name":"Sombras Caminhantes","description":"Teleporte via sombras.","cost":"N/A","type":"HB"},{"name":"Tendes Frgeis","description":"Aplica Imobilizado.","cost":"N/A","type":"HB"},{"name":"Instinto Assassino","description":"Causa Medo em alvos com <20% HP.","cost":"N/A","type":"Passiva"},{"name":"Frenesi das Sombras","description":"Fria de sombra, dobra VEL.","cost":"N/A","type":"HB"},{"name":"Minha Garrucha","description":"Finaliza alvo com <15% HP.","cost":"N/A","type":"Reao"}]},{"id":"jounin","name":"Jounin","type":"Avanada","role":"Mestre Elemental / Ttico","description":"Elite ninja que domina ninjutsu avanado.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Kunoichi","+100 INT"],"abilities":[{"name":"Futon","description":"5 lminas de ar em alvos diversos.","cost":"50 MP","type":"Magia"},{"name":"Raiton","description":"5 troves em alvos diversos.","cost":"50 MP","type":"Magia"},{"name":"Katon","description":"Esfera de fogo linear larga.","cost":"50 MP","type":"Magia"},{"name":"Embuir Arma","description":"Infunde arma com elemento.","cost":"30 MP","type":"Magia"},{"name":"Invocao","description":"Invoca animal ninja (D20).","cost":"N/A","type":"HB"},{"name":"Substituio","description":"Troca com tronco ao ser alvejada.","cost":"N/A","type":"Reao"}]},{"id":"dancarina","name":"Danarina","type":"Avanada","role":"Performer Mstica","description":"Transforma o campo em palco com performances mgicas.","bonus_class":{"CAR":5},"requirements":["+50 CAR"],"abilities":[{"name":"Danar","description":"Executa performance ligada ao equipamento.","cost":"N/A","type":"HB"},{"name":"Pirueta Defensiva","description":"Chance de esquivar de ataque fsico.","cost":"N/A","type":"Reao"}]},{"id":"odalisca_de_batalha","name":"Odalisca de Batalha","type":"Avanada","role":"Suporte Supremo / DPS Elegante","description":"Danarina de elite com armas exticas e danas agressivas.","bonus_class":{"CAR":10},"requirements":["4 Performances de Danarina"],"abilities":[{"name":"Swicth","description":"Troca equipamento de dana sem gastar ao.","cost":"N/A","type":"HB"},{"name":"Mestre da Dana","description":"Equipa dois instrumentos simultneos.","cost":"N/A","type":"Passiva"}]},{"id":"cavaleira_alada","name":"Cavaleira Alada","type":"Avanada","role":"Duelista Area","description":"Elite militar do cu, mergulha com velocidade devastadora.","bonus_class":{"FOR":3,"VEL":2},"requirements":["3 Habilidades Mestre em Raptora","+30 FOR"],"abilities":[{"name":"Por Glria","description":"Buffa FOR de aliados.","cost":"N/A","type":"HB"},{"name":"Redemoinho de Lmina","description":"Corte circular de vento.","cost":"N/A","type":"HB"},{"name":"Brisa da Guerra","description":"Ataques ganham lmina de vento extra.","cost":"N/A","type":"HB"},{"name":"Slash de Vento","description":"Lmina de ar  distncia.","cost":"N/A","type":"HB"},{"name":"Suplex Aero","description":"Agarra e arremessa inimigo do cu.","cost":"N/A","type":"HB"},{"name":"Escudo Meu","description":"Pode usar escudos.","cost":"N/A","type":"Passiva"}]},{"id":"cacadora_alada","name":"Caadora Alada","type":"Avanada","role":"DPS / Rastreio","description":"Predadora do cu com viso aguada e arco.","bonus_class":{"VEL":3,"SOR":2},"requirements":["3 Habilidades Mestre em Ranged","+30 VEL"],"abilities":[{"name":"Animal Guia","description":"Invoca esprito animal companheiro.","cost":"N/A","type":"HB"},{"name":"Camuflagem","description":"Entra em camuflagem.","cost":"N/A","type":"HB"},{"name":"Saraivada Area","description":"Chuva de flechas em rea.","cost":"N/A","type":"HB"},{"name":"Colocar Armadilhas","description":"Posiciona armadilha.","cost":"N/A","type":"HB"},{"name":"Tiro Avanado","description":"Flecha colossal linear (Arco Grande).","cost":"N/A","type":"HB"},{"name":"Tiro Duplo","description":"Dispara duas flechas por ataque.","cost":"N/A","type":"Passiva"}]},{"id":"terrana","name":"Terrana","type":"Avanada","role":"Lutadora Arcana / Terra","description":"Devotada  fora bruta da terra, usa martelos e magia.","bonus_class":{"INT":3,"MANA":2},"requirements":["1 Habilidade Mestre em Raptora","1 Habilidade Mestre em Ranged","+30 INT"],"abilities":[{"name":"Me Terra","description":"Cura em rea ao bater martelo.","cost":"20 MP","type":"Magia"},{"name":"Fissura Terrana","description":"Cria fissura no solo.","cost":"30 MP","type":"Magia"},{"name":"A Terra Sobre Mim","description":"Armadura de rocha (dobra AMR/RES).","cost":"20 MP","type":"Magia"},{"name":"Pilar do Martelo","description":"Ataque  distncia com pilar.","cost":"40 MP","type":"Magia"},{"name":"Terremoto Aero","description":"Impacto ssmico ao saltar.","cost":"50 MP","type":"Magia"},{"name":"Vibrao do Solo","description":"Detecta inimigos no solo.","cost":"N/A","type":"Passiva"}]},{"id":"devastadora","name":"Devastadora","type":"Avanada","role":"Dano Areo / Linha de Frente","description":"Especialista em combate areo com espades colossais.","bonus_class":{"FOR":4,"VEL":2},"requirements":["5 Habilidades Mestre em Raptora","5 Habilidades Mestre em Cavaleira Alada","+100 FOR"],"abilities":[{"name":"Ventania do Espado","description":"Empurra alvos com vento.","cost":"N/A","type":"HB"},{"name":"Arrasante Cortante","description":"Corte em alta velocidade.","cost":"N/A","type":"HB"},{"name":"Furaco de Lminas","description":"Tornado de lminas em rea.","cost":"N/A","type":"HB"},{"name":"Rpida e Veloz","description":"Dobra VEL.","cost":"N/A","type":"HB"},{"name":"Corte da Montanha","description":"Corte colossal de vento.","cost":"N/A","type":"HB"},{"name":"Contra-ataque do Vento","description":"Rebate fsico e empurra.","cost":"N/A","type":"Reao"}]},{"id":"atiradora_dos_ceus","name":"Atiradora dos Cus","type":"Avanada","role":"DPS Area","description":"Caadora suprema que domina territrios do ar.","bonus_class":{"VEL":4,"SOR":2},"requirements":["5 Habilidades Mestre em Ranged","5 Habilidades Mestre em Caadora Alada","+100 VEL"],"abilities":[{"name":"Ataque Areo","description":"Disparo vertical preciso.","cost":"N/A","type":"HB"},{"name":"Reposicionamento Areo","description":"Voo rpido e ataque.","cost":"N/A","type":"HB"},{"name":"Bombardeio Areo","description":"Atinge inimigos no trajeto de voo.","cost":"N/A","type":"HB"},{"name":"Alvo Marcado","description":"Marca alvo adicionando SOR ao dano.","cost":"N/A","type":"HB"},{"name":"Alvos Certeiros","description":"Tiros perfeitos em 5 alvos.","cost":"N/A","type":"HB"},{"name":"Minha Flecha  Melhor","description":"Desvia de projtil e contra-ataca.","cost":"N/A","type":"Reao"}]},{"id":"geomancer","name":"Geomancer","type":"Avanada","role":"Maga Elemental / Joias","description":"Maga que desperta poder oculto de joias antigas.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Terrana","+100 INT"],"abilities":[{"name":"Ressonncia","description":"Disparo elemental da joia.","cost":"30 MP","type":"Magia"},{"name":"Jia Equipada","description":"Engata joia na arma (dano elemental).","cost":"N/A","type":"HB"},{"name":"Joia Astral","description":"Buff poderoso da joia.","cost":"30 MP","type":"Magia"},{"name":"Sacrifcio da Jia","description":"Destri joia para duplicar efeito.","cost":"40 MP","type":"Magia"},{"name":"Triplo Gen","description":"Feixe combinado de 3 joias.","cost":"70 MP","type":"Magia"},{"name":"Joalheira","description":"Troca de joias sem gastar ao.","cost":"N/A","type":"Passiva"}]},{"id":"demon","name":"Demon","type":"Avanada","role":"Ameaa / Controle","description":"Guerreiras marcadas pela morte, brutais e imprevisveis.","bonus_class":{"Livre":5},"requirements":["Voltar da morte 10 vezes"],"abilities":[{"name":"Rugido do Demnio","description":"Aplica Medo em rea.","cost":"N/A","type":"HB"},{"name":"Vampirismo","description":"Rouba HP do alvo.","cost":"N/A","type":"HB"},{"name":"Consumir Arma","description":"Destri arma para ganhar status.","cost":"N/A","type":"HB"},{"name":"Embuir Demon","description":"Infunde arma com escurido.","cost":"N/A","type":"HB"},{"name":"Demon Ark","description":"Aplica Medo/Condenao/Morte.","cost":"N/A","type":"HB"},{"name":"Mestre de Armas","description":"Equipa arma instantaneamente.","cost":"N/A","type":"Passiva"}]},{"id":"lord_demon","name":"Lord Demon","type":"Avanada","role":"Senhora da Morte","description":"pice da linhagem demonaca, comanda almas.","bonus_class":{"Livre":10},"requirements":["5 Habilidades Mestre em Demon","Colher 100 almas"],"abilities":[{"name":"Dark Esfera","description":"Absorve alma de inimigos com Medo.","cost":"N/A","type":"HB"},{"name":"Colheita","description":"Suga alma de alvo com Medo (Morte).","cost":"N/A","type":"HB"},{"name":"Aura da Lord","description":"Dobra RES e fora Medo.","cost":"N/A","type":"HB"},{"name":"Dark Arma","description":"Lana armas sacrificadas.","cost":"N/A","type":"HB"},{"name":"ltimo Rugido","description":"Medo global e morte em quem j tem.","cost":"N/A","type":"HB"},{"name":"Tenha Medo de Mim","description":"Chance de aplicar Medo ao receber dano.","cost":"N/A","type":"Reao"}]},{"id":"magos_elementais","name":"Magos Elementais","type":"Avanada","role":"DPS Mgico de rea","description":"Umbros que transformam magia em cataclismos.","bonus_class":{"INT":3,"MANA":2},"requirements":["3 Habilidades Mestre em Mago Negro","+30 INT"],"abilities":[{"name":"Fire+","description":"Exploso de fogo grande rea.","cost":"20 MP","type":"Magia"},{"name":"Blizzard+","description":"Estilhaos de gelo grande rea.","cost":"20 MP","type":"Magia"},{"name":"Thunder+","description":"Trovo colossal em rea.","cost":"20 MP","type":"Magia"},{"name":"Maremoto","description":"Onda empurra inimigos.","cost":"40 MP","type":"Magia"},{"name":"Trifsico","description":"Combina 3 elementos em exploso.","cost":"50 MP","type":"Magia"},{"name":"Manto Refletor","description":"Reflete magia com 50% dano.","cost":"N/A","type":"Reao"}]},{"id":"arcanistas","name":"Arcanistas","type":"Avanada","role":"Maldies / Invocador","description":"Preservam artes proibidas e invocam demnios.","bonus_class":{"MANA":3,"INT":2},"requirements":["3 Habilidades Mestre em Ocultista","+50 MANA"],"abilities":[{"name":"Escurido+","description":"Exploso de trevas.","cost":"25 MP","type":"Magia"},{"name":"Cruz Mana","description":"Drena Mana.","cost":"30 MP","type":"Magia"},{"name":"Sentidus Mortis","description":"Remove sentidos (Silncio/Cegueira).","cost":"40 MP","type":"Magia"},{"name":"Petrificatis","description":"Petrifica alvo.","cost":"40 MP","type":"Magia"},{"name":"Invocar Demnio Menor","description":"Invoca demnio (D20).","cost":"50 MP","type":"Magia"},{"name":"Pacto","description":"Dobra VEL e RES com demnio ativo.","cost":"N/A","type":"Passiva"}]},{"id":"malandro","name":"Malandro","type":"Avanada","role":"Suporte Social / Manipulao","description":"Usa lbia e cartas para manipular o campo.","bonus_class":{"CAR":3,"SOR":2},"requirements":["+20 CAR"],"abilities":[{"name":"Fala Positiva","description":"Dobra atributo de alvo.","cost":"N/A","type":"HB"},{"name":"Fala Negativa","description":"Reduz atributo pela metade.","cost":"N/A","type":"HB"},{"name":"Carta Voadora","description":"Carta ricocheteia em alvos.","cost":"N/A","type":"HB"},{"name":"Carta Marcada","description":"Dobra dano recebido pelo alvo.","cost":"N/A","type":"HB"},{"name":"Malabarismo de Cartas","description":"Impede movimentos em rea.","cost":"N/A","type":"HB"},{"name":"Fala Mansa","description":"Chance de convencer atacante a desistir.","cost":"N/A","type":"Reao"}]},{"id":"arquimagos","name":"Arquimagos","type":"Avanada","role":"DPS Mgico Supremo","description":"Moldam elementos, invocando meteoros e tempestades.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Mago Negro","5 Habilidades Mestre em Mago Elemental","+100 INT"],"abilities":[{"name":"Meteoro","description":"Destruio massiva em rea.","cost":"100 MP","type":"Magia"},{"name":"Vrtex de Fogo","description":"Vrtex que queima rea por turnos.","cost":"50 MP","type":"Magia"},{"name":"Chuva de Raios","description":"Atinge inimigos aleatrios por turnos.","cost":"50 MP","type":"Magia"},{"name":"Nevasca Afiada","description":"Estalactites aleatrias por turnos.","cost":"50 MP","type":"Magia"},{"name":"Super Lua","description":"Lua cura aliados e permanece.","cost":"80 MP","type":"Magia"},{"name":"OVER LUNA","description":"Ignora RES sob efeito da Lua.","cost":"N/A","type":"Passiva"}]},{"id":"necromago","name":"Necromago","type":"Avanada","role":"Controle Absoluto / Necromancia","description":"Traz mortos e usa rituais profanos.","bonus_class":{"MANA":10},"requirements":["5 Habilidades Mestre em Ocultista","5 Habilidades Mestre em Arcanista","+100 INT"],"abilities":[{"name":"Necromancia","description":"Controla alma cada.","cost":"70 MP","type":"Magia"},{"name":"Mortis Dorner","description":"Tenta Morte Instantnea.","cost":"40 MP","type":"Magia"},{"name":"Redoma Sentis","description":"Cega e Silencia rea ao redor.","cost":"50 MP","type":"Magia"},{"name":"Invocar Demnio Superior","description":"Invoca demnio brutal (D20).","cost":"90 MP","type":"Magia"},{"name":"Buraco Negro","description":"Remove todos do campo.","cost":"200 MP","type":"Magia"},{"name":"Toque da Morte","description":"Chance de Condenao ao ser atacado.","cost":"N/A","type":"Reao"}]},{"id":"king_street","name":"King Street","type":"Avanada","role":"Controle Mental / Dominao Social","description":"Rei das ruas que controla vontades com a voz.","bonus_class":{"CAR":10},"requirements":["5 Habilidades Mestre em Malandro","+100 CAR"],"abilities":[{"name":"Corra!","description":"Impulsiona mobilidade de alvo.","cost":"N/A","type":"HB"},{"name":"Beleza Sedutora","description":"Encanta alvos em rea.","cost":"N/A","type":"HB"},{"name":"Ajoelhe-se","description":"Obriga inimigos a se ajoelharem.","cost":"N/A","type":"HB"},{"name":" Sua Vez de Novo","description":"Concede ao extra a aliado.","cost":"N/A","type":"HB"},{"name":"Charme do Malandro","description":"Transforma inimigo em aliado.","cost":"N/A","type":"HB"},{"name":"Estrondo Vocal","description":"Atinge todos atributos do alvo.","cost":"N/A","type":"Passiva"}]},{"id":"apostador","name":"Apostador","type":"Avanada","role":"Manipulador de Probabilidades","description":"Usa baralho especial para efeitos aleatrios poderosos.","bonus_class":{"SOR":10},"requirements":["5 Habilidades Mestre em Malandro","+100 SOR"],"abilities":[{"name":"Escolha uma Carta","description":"Puxa carta (D80) com efeito contnuo.","cost":"N/A","type":"HB"},{"name":"Valete Rpido","description":"Dobra status fsicos (Carta Valete).","cost":"N/A","type":"HB"},{"name":"Dama Salvadora","description":"Cura e remove status (Carta Dama).","cost":"N/A","type":"HB"},{"name":"Rei do Poder","description":"Exploso em rea (Carta Rei).","cost":"N/A","type":"HB"},{"name":"s da Sorte","description":"Puxa todas cartas (Carta s).","cost":"N/A","type":"HB"},{"name":"Carta na Manga","description":"Troca carta guardada instantaneamente.","cost":"N/A","type":"Passiva"}]},{"id":"shadow_hunters","name":"Shadow Hunters","type":"Avanada","role":"Invocador Sombrio","description":"Extrai sombras de mortos para lutar.","bonus_class":{"Livre":10},"requirements":["Chegar a 1 HP em batalha 100 vezes"],"abilities":[{"name":"Erga-se","description":"Extrai sombra de cadver como soldado.","cost":"N/A","type":"HB"},{"name":"Sombra Salvadora","description":"Sombra absorve dano fatal.","cost":"N/A","type":"Reao"}]},{"id":"monarca_das_sombras","name":"Monarca das Sombras","type":"Avanada","role":"Exrcito Vivo","description":"Comanda exrcito sombrio sozinho.","bonus_class":{"Livre":10},"requirements":["Possuir 4 sombras no nvel 10"],"abilities":[{"name":"Troca de Sombra","description":"Troca de lugar com sombra.","cost":"N/A","type":"HB"},{"name":"Retorno das Sombras","description":"Cura ao perder sombra.","cost":"N/A","type":"Passiva"}]}]`),PO={classes:jO},VO=()=>{const i=jo(),e=O.useRef(null),[n,r]=O.useState("carousel"),[o,c]=O.useState(0),[d,m]=O.useState(null),[g,y]=O.useState("female"),[x,E]=O.useState(null),[w,L]=O.useState(!1),[G,U]=O.useState(""),K=kO.races;O.useEffect(()=>{(async()=>{if(Ze.currentUser)try{const T=lt(Re,"characters",Ze.currentUser.uid);(await wd(T)).exists()&&(console.log("Personagem j existe. Redirecionando..."),i("/jogador-vtt"))}catch(T){console.error("Erro ao verificar personagem:",T)}})()},[i]),O.useEffect(()=>{const N=()=>{document.querySelectorAll("audio, video").forEach(j=>{if(!(j.tagName==="VIDEO"&&j.classList.contains("background-video")))try{j.pause(),j.currentTime=0}catch{}})};N();const T=setTimeout(N,500);return()=>clearTimeout(T)},[]),O.useEffect(()=>{if(n==="carousel"&&e.current){const T=window.innerWidth/2-130,M=o*300-T+130;e.current.scrollTo({left:M,behavior:"smooth"})}},[o,n]);const oe=N=>{e.current&&(e.current.scrollLeft+=N.deltaY*4)},B=N=>{if(!N)return"Nenhum";const T={value:"Valor",detail:"Detalhes",details:"Detalhes",free_points:"Pontos Livres",female:"Feminino",male:"Masculino",male_exiled:"Masculino (Exilado)"};return typeof N=="object"?Object.entries(N).map(([M,j],C)=>{if(M==="type")return null;const De=T[M]||M.toUpperCase().replace(/_/g," ");let Ke=j;return typeof j=="object"&&(Ke=JSON.stringify(j).replace(/["{}]/g,"").replace(/:/g,": ").replace(/,/g,", ")),p.jsxs("div",{className:"mb-1",children:[p.jsxs("span",{className:"text-gray-400 font-bold",children:[De,":"]})," ",p.jsx("span",{className:"text-gray-200",children:Ke})]},C)}):N},se=()=>d?typeof d.base_classes=="object"&&!Array.isArray(d.base_classes)?d.id==="viera"?g==="female"?d.base_classes.female:d.base_classes.male||d.base_classes.male_exiled:[]:d.base_classes||[]:[],pe=N=>PO.classes.find(T=>T.name===N),_e=()=>{m(K[o]),E(null),r("details")},ye=()=>{r("carousel"),E(null)},I=async()=>{if(!(!G.trim()||!Ze.currentUser))try{await EA(lt(Re,"characters",Ze.currentUser.uid),{uid:Ze.currentUser.uid,email:Ze.currentUser.email,name:G,race:d.name,class:x,gender:g,createdAt:kn()}),console.log(`Personagem Criado: ${G}`),i("/jogador-vtt")}catch(N){console.error("Erro ao salvar personagem:",N),alert("Falha ao invocar personagem no banco de dados.")}},R=K[o];return p.jsxs("div",{className:"relative w-full h-screen overflow-hidden",children:[p.jsx("style",{children:`
        @keyframes scaleIn { 0% { transform: scale(0.8); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
        .rpg-modal-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-color: rgba(0, 0, 0, 0.85); backdrop-filter: blur(8px); z-index: 9999; display: flex; align-items: center; justify-content: center; }
        .rpg-modal-box { position: relative; width: 500px; max-width: 90%; background: #1a120b; border: 2px solid #b45309; box-shadow: 0 0 50px rgba(234, 179, 8, 0.4); padding: 6px; border-radius: 8px; animation: scaleIn 0.3s ease-out forwards; }
        .rpg-modal-inner { background: linear-gradient(to bottom, #f3e6d5, #e7cba8); border: 1px solid #78350f; padding: 40px 20px; border-radius: 4px; text-align: center; display: flex; flex-direction: column; align-items: center; gap: 20px; }
        .rpg-modal-title { font-family: 'Cinzel', serif; font-size: 32px; color: #78350f; font-weight: bold; text-transform: uppercase; text-shadow: 0px 1px 0px rgba(255,255,255,0.6); margin-bottom: 5px; }
        .rpg-modal-subtitle { font-family: 'Cinzel', serif; font-size: 14px; color: #92400e; font-style: italic; border-top: 1px solid rgba(146, 64, 14, 0.3); padding-top: 10px; width: 100%; }
        .rpg-input { width: 100%; padding: 12px; background: #fff8ed; border: 2px solid #854d0e; font-family: 'Cinzel', serif; font-size: 18px; color: #451a03; outline: none; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1); border-radius: 4px; }
        .rpg-input:focus { border-color: #d97706; background: #ffffff; }
        .rpg-btn-go { background: linear-gradient(to bottom, #fcd34d, #d97706); border: 1px solid #92400e; padding: 10px 30px; font-family: 'Cinzel', serif; font-weight: bold; font-size: 18px; color: #451a03; text-transform: uppercase; cursor: pointer; border-radius: 4px; box-shadow: 0 4px 0 #92400e; transition: transform 0.1s; }
        .rpg-btn-go:active { transform: translateY(4px); box-shadow: 0 0 0 #92400e; }
        .rpg-btn-go:disabled { filter: grayscale(1); opacity: 0.6; cursor: not-allowed; }
        .rpg-close-btn { position: absolute; top: 10px; right: 15px; background: none; border: none; font-size: 20px; color: #92400e; cursor: pointer; font-weight: bold; }
        .rpg-close-btn:hover { color: #ff0000; }
        .corner { position: absolute; width: 20px; height: 20px; border-color: #fcd34d; border-style: solid; }
        .tl { top: -2px; left: -2px; border-width: 3px 0 0 3px; }
        .tr { top: -2px; right: -2px; border-width: 3px 3px 0 0; }
        .bl { bottom: -2px; left: -2px; border-width: 0 0 3px 3px; }
        .br { bottom: -2px; right: -2px; border-width: 0 3px 3px 0; }
      `}),p.jsxs("div",{className:"ether-container",children:[p.jsx("div",{className:"ether-vortex"}),p.jsx("div",{className:"ether-particles"})]}),p.jsxs("header",{className:"absolute top-0 w-full p-6 z-50 flex justify-between items-center bg-gradient-to-b from-black/90 to-transparent",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"rpg-title text-3xl",children:"Gnese da Alma"}),p.jsx("p",{className:"rpg-subtitle-styled mt-2",children:n==="carousel"?"Determine sua Linhagem Ancestral":`${d?.name} // Customizao`})]}),n==="details"&&p.jsxs("button",{onClick:ye,className:"nav-back-btn",children:[p.jsx("span",{children:""})," Seleo"]})]}),n==="carousel"&&p.jsxs("div",{className:"w-full h-full flex flex-col justify-center animate-[fadeIn_1s]",children:[p.jsx("div",{className:"text-center mb-4 z-10",children:p.jsx("h2",{className:"rpg-title text-5xl text-yellow-500 drop-shadow-lg",children:R.name})}),p.jsx("div",{ref:e,onWheel:oe,className:"carousel-viewport",children:K.map((N,T)=>p.jsxs("div",{onClick:()=>c(T),className:`race-card-frame ${T===o?"active":""}`,children:[p.jsx("img",{src:N.image,alt:N.name}),p.jsx("div",{className:"card-label",children:N.name})]},N.id))}),p.jsx("div",{className:"text-center mt-10 z-10",children:p.jsxs("button",{onClick:_e,className:"confirm-btn w-64 mx-auto",children:["Escolher ",R.name]})})]}),n==="details"&&d&&p.jsxs("div",{className:"details-grid",children:[p.jsx("div",{className:"char-portrait-container",children:p.jsx("img",{src:d.image,alt:d.name,className:"char-portrait"})}),p.jsxs("div",{className:"info-scroll-area custom-scrollbar",children:[p.jsxs("div",{className:"glass-panel mt-8 border-l-4 border-yellow-600",children:[p.jsx("h3",{className:"section-header !border-none !mb-2 text-yellow-500",children:"Descrio"}),p.jsxs("p",{className:"description-text",children:['"',d.description,'"']}),p.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-[10px] uppercase text-blue-400 font-bold",children:"Caractersticas"}),p.jsx("p",{className:"text-xs text-gray-400 mt-1",children:d.characteristics})]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-[10px] uppercase text-green-400 font-bold",children:"Bnus Racial"}),p.jsx("div",{className:"text-xs text-gray-300 font-mono mt-1",children:B(d.racial_bonus)})]})]})]}),p.jsxs("div",{className:"glass-panel flex flex-col gap-2",children:[p.jsx("span",{className:"text-xs text-gray-400 uppercase font-bold tracking-widest",children:"Gnero"}),p.jsxs("div",{className:"flex w-full",children:[p.jsx("div",{onClick:()=>{y("female"),E(null)},className:`gender-option ${g==="female"?"active":""}`,children:"Feminino"}),p.jsx("div",{onClick:()=>{y("male"),E(null)},className:`gender-option ${g==="male"?"active":""}`,children:"Masculino"})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"rpg-title text-xl mb-4 text-white",children:"Vocao"}),p.jsx("div",{className:"class-selector-grid",children:se().map(N=>{const T=pe(N);return p.jsxs("div",{onClick:()=>E(N),className:`class-btn ${x===N?"selected":""}`,children:[p.jsx("span",{className:"class-btn-title",children:N}),p.jsx("span",{className:"class-btn-role",children:T?.role||"Bsico"})]},N)})}),x&&(()=>{const N=pe(x);return N?p.jsxs("div",{className:"class-detail-container",children:[p.jsxs("div",{className:"cd-header",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"cd-title rpg-title",children:N.name}),p.jsxs("div",{className:"cd-meta text-blue-400",children:[N.type," // ",N.role]})]}),p.jsxs("div",{className:"cd-req",children:[p.jsx("span",{className:"cd-req-label",children:"Requisitos"}),p.jsx("div",{className:"cd-req-val",children:N.requirements?.length?N.requirements.join(", "):"Nenhum"})]})]}),p.jsxs("div",{className:"cd-desc",children:['"',N.description,'"']}),p.jsxs("div",{className:"cd-bonus-box",children:[p.jsx("span",{className:"text-xs uppercase font-bold text-blue-300",children:"Bnus de Classe"}),p.jsx("span",{className:"font-mono text-sm text-white",children:B(N.bonus_class)})]}),p.jsxs("div",{children:[p.jsx("h5",{className:"text-xs uppercase text-yellow-500 font-bold mb-3 tracking-wider border-b border-white/10 pb-1 inline-block",children:"Habilidades Iniciais"}),p.jsx("div",{className:"cd-abilities-grid",children:N.abilities?.map((T,M)=>p.jsxs("div",{className:"cd-ability-card",children:[p.jsxs("div",{className:"cd-ab-header",children:[p.jsx("span",{className:"cd-ab-name",children:T.name}),p.jsx("span",{className:"cd-ab-cost",children:T.cost})]}),p.jsx("p",{className:"cd-ab-desc",children:T.description})]},M))})]})]}):p.jsx("div",{className:"p-4 text-center",children:"Carregando..."})})()]}),p.jsx("div",{className:"mt-8 mb-10",children:p.jsx("button",{disabled:!x,onClick:()=>L(!0),className:"confirm-btn",children:x?"Finalizar Criao":"Selecione uma Vocao"})})]})]}),w&&p.jsx("div",{className:"rpg-modal-overlay",children:p.jsxs("div",{className:"rpg-modal-box",children:[p.jsx("div",{className:"corner tl"}),p.jsx("div",{className:"corner tr"}),p.jsx("div",{className:"corner bl"}),p.jsx("div",{className:"corner br"}),p.jsxs("div",{className:"rpg-modal-inner",children:[p.jsxs("div",{className:"w-full",children:[p.jsx("h3",{className:"rpg-modal-title",children:"Identidade"}),p.jsx("p",{className:"rpg-modal-subtitle",children:"Como a histria o conhecer?"})]}),p.jsxs("div",{className:"w-full flex gap-2",children:[p.jsx("input",{type:"text",value:G,onChange:N=>U(N.target.value),placeholder:"Nome do Aventureiro",className:"rpg-input",autoFocus:!0}),p.jsx("button",{onClick:I,disabled:!G.trim(),className:"rpg-btn-go",children:"GO"})]}),p.jsx("button",{className:"rpg-close-btn",onClick:()=>L(!1),children:""})]})]})})]})},LO="/FF-12Liberation/assets/fundo-jogador-nsWQkznx.jpg",zO="/FF-12Liberation/assets/level-up-BOEM_DXL.mp3",UO=({targetDate:i,onComplete:e})=>{const[n,r]=O.useState("");return O.useEffect(()=>{const o=setInterval(()=>{const c=new Date().getTime(),d=new Date(i).getTime()-c;if(d<0)clearInterval(o),e&&e(),r("AGORA");else{const m=Math.floor(d/864e5),g=Math.floor(d%(1e3*60*60*24)/(1e3*60*60)),y=Math.floor(d%(1e3*60*60)/(1e3*60)),x=Math.floor(d%(1e3*60)/1e3);r(`${m}d ${g}h ${y}m ${x}s`)}},1e3);return()=>clearInterval(o)},[i,e]),p.jsx("span",{className:"countdown-text",children:n})};function BO(){const[i,e]=O.useState(null),[n,r]=O.useState([]),[o,c]=O.useState([]),[d,m]=O.useState([]),[g,y]=O.useState(!1),[x,E]=O.useState(!1),[w,L]=O.useState(null),[G,U]=O.useState([]),[K,oe]=O.useState(!1),[B,se]=O.useState(null),[pe,_e]=O.useState(null),[ye,I]=O.useState(null),[R,N]=O.useState(!1),[T,M]=O.useState(!1),j=O.useRef(null),C=O.useRef(new Audio(zO));O.useEffect(()=>{C.current.volume=.2},[]),O.useEffect(()=>{(async()=>{if(!Ze.currentUser)return;const me=lt(Re,"characters",Ze.currentUser.uid),xe=ga(me,k=>{if(k.exists()){const W=k.data(),V=W.character_sheet?.basic_info?.level||1;j.current!==null&&V>j.current&&(M(!0),C.current.currentTime=0,C.current.play().catch(te=>console.log("Autoplay bloqueado:",te))),j.current=V,e(W)}});return()=>xe()})()},[]);const De=()=>{M(!1),C.current.pause(),C.current.currentTime=0};O.useEffect(()=>{if(!Ze.currentUser||!i)return;const Z=va(zt(Re,"missoes")),me=ga(Z,te=>{r(te.docs.map(le=>({id:le.id,...le.data()})))}),xe=va(zt(Re,"sessoes"),$a("participantes","array-contains",i.name)),k=ga(xe,te=>{const le=new Date,de=te.docs.map(Fe=>({id:Fe.id,...Fe.data()})),be=[],je=[];de.forEach(Fe=>{const fn=new Date(Fe.dataInicio),ta=new Date(Fe.expiraEm);le>=fn&&le<=ta?be.push(Fe):le<fn&&je.push(Fe)}),c(be),m(je),ye&&be.find(fn=>fn.id===ye.id)&&_e("connected")}),W=va(zt(Re,"resenhas"),$a("destinatarios","array-contains",i.name)),V=ga(W,te=>{const le=te.docs.map(je=>({id:je.id,...je.data()})),de=new Date,be=le.filter(je=>new Date(je.expiraEm)>de);U(be)});return()=>{me(),k(),V()}},[i,ye]);const Ke=async Z=>{if(!i)return;if(Z.candidatos?.some(W=>W.uid===Ze.currentUser.uid))return alert("Voc j se candidatou para esta misso!");const xe=!Z.candidatos||Z.candidatos.length===0,k={uid:Ze.currentUser.uid,nome:i.name,classe:i.class,isLeader:xe,dataCandidatura:new Date().toISOString()};try{const W=lt(Re,"missoes",Z.id);await Xn(W,{candidatos:mO(k)}),alert(xe?"Voc se candidatou e foi marcado como LDER DO GRUPO!":"Candidatura realizada com sucesso!")}catch(W){console.error("Erro ao candidatar:",W),alert("Falha ao enviar candidatura.")}},J=Z=>{I(Z),y(!0);const me=new Date,xe=new Date(Z.dataInicio);me>=xe?_e("connected"):_e("waiting")};if(!i)return p.jsx("div",{className:"loading-screen",children:"Carregando Grimrio..."});const ce=i.character_sheet?.basic_info?.level||1;return p.jsxs("div",{className:"jogador-container",children:[p.jsx("div",{className:"background-layer",style:{backgroundImage:`url(${LO})`}}),p.jsxs("div",{className:"content-layer",children:[p.jsxs("div",{className:"char-hud clickable-hud",onClick:()=>N(!0),title:"Abrir Ficha do Personagem",children:[p.jsx("div",{className:"char-avatar",children:p.jsx("div",{className:"avatar-circle",children:p.jsx("span",{className:"hud-level",children:ce})})}),p.jsxs("div",{className:"char-info",children:[p.jsx("h2",{className:"char-name",children:i.name}),p.jsxs("span",{className:"char-meta",children:[i.race," // ",i.class]})]})]}),T&&p.jsx("div",{className:"levelup-global-overlay",children:p.jsxs("div",{className:"levelup-content",children:[p.jsx("h1",{className:"levelup-title",children:"LEVEL UP!"}),p.jsx("p",{className:"levelup-subtitle",children:"Seu poder cresce..."}),p.jsx("button",{className:"levelup-confirm-btn",onClick:De,children:"CONFIRMAR"})]})}),d.length>0&&o.length===0&&!g&&p.jsxs("div",{className:"upcoming-sessions-banner",children:[p.jsx("h3",{children:"A SESSO VAI COMEAR EM BREVE"}),d.map(Z=>p.jsxs("div",{className:"countdown-row",children:[p.jsx("span",{children:Z.missaoNome}),p.jsx(UO,{targetDate:Z.dataInicio})]},Z.id))]}),o.length>0&&!g&&p.jsxs("div",{className:"active-sessions-banner fade-in",children:[p.jsx("h3",{children:"SESSO EM ANDAMENTO!"}),o.map(Z=>p.jsxs("div",{className:"session-entry-row",children:[p.jsx("span",{children:Z.missaoNome}),p.jsx("button",{className:"btn-enter-session",onClick:()=>J(Z),children:"ENTRAR AGORA"})]},Z.id))]}),pe&&ye&&p.jsxs("div",{className:`vtt-status-widget ${pe}`,children:[p.jsx("div",{className:"status-indicator"}),p.jsxs("div",{className:"status-text",children:[pe==="waiting"&&p.jsxs(p.Fragment,{children:[p.jsx("h4",{children:"AGUARDANDO MESTRE"}),p.jsx("small",{children:"Sesso Conectada! Aguardando..."})]}),pe==="connected"&&p.jsxs(p.Fragment,{children:[p.jsx("h4",{children:"BEM-VINDO, AVENTUREIRO"}),p.jsx("small",{children:"Sesso Conectada!"})]})]})]}),p.jsx("button",{className:"floating-mission-btn",onClick:()=>E(!0),title:"Quadro de Misses",children:""}),G.length>0&&p.jsxs("button",{className:"floating-sanchez-btn",onClick:()=>oe(!0),title:"Resenhas do Sanchez",children:[p.jsx("div",{className:"sanchez-icon-face",style:{backgroundImage:`url(${hm})`}}),p.jsx("span",{className:"notification-badge",children:G.length})]}),p.jsx(CA,{isMestre:!1,playerData:i}),x&&p.jsx("div",{className:"ff-modal-overlay-flex",onClick:()=>E(!1),children:p.jsxs("div",{className:"ff-modal-content ff-card",onClick:Z=>Z.stopPropagation(),children:[p.jsxs("div",{className:"modal-header-row",children:[p.jsx("h3",{className:"modal-title-ff",children:"QUADRO DE CONTRATOS"}),p.jsx("button",{className:"btn-close-x",onClick:()=>E(!1),children:""})]}),p.jsxs("div",{className:"missions-list-player",children:[n.map(Z=>p.jsxs("div",{className:`mission-poster-player rank-${Z.rank}`,children:[p.jsxs("div",{className:"mp-header",children:[p.jsx("span",{className:"mp-rank",children:Z.rank}),p.jsx("h4",{children:Z.nome})]}),p.jsxs("div",{className:"mp-details",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Local:"})," ",Z.local]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Recompensa:"})," ",Z.gilRecompensa," Gil"]}),p.jsx("p",{className:"mp-desc",children:Z.descricaoMissao})]}),Z.candidatos&&Z.candidatos.length>0&&p.jsxs("div",{className:"candidates-box",children:[p.jsx("small",{children:"Grupo em formao:"}),p.jsx("div",{className:"cand-tags",children:Z.candidatos.map((me,xe)=>p.jsxs("span",{className:`cand-tag ${me.isLeader?"leader":""}`,children:[me.isLeader&&""," ",me.nome]},xe))})]}),p.jsxs("div",{className:"mp-actions-row",children:[p.jsx("button",{className:"btn-details-outline",onClick:()=>L(Z),children:"DETALHES"}),p.jsx("button",{className:"btn-candidatar",disabled:Z.candidatos?.some(me=>me.uid===Ze.currentUser.uid),onClick:()=>Ke(Z),children:Z.candidatos?.some(me=>me.uid===Ze.currentUser.uid)?"ENVIADO":"ACEITAR"})]})]},Z.id)),n.length===0&&p.jsx("p",{style:{textAlign:"center",padding:"20px"},children:"Nenhum contrato disponvel no momento."})]})]})}),w&&p.jsx("div",{className:"ff-modal-overlay-flex",onClick:()=>L(null),style:{zIndex:1e5},children:p.jsxs("div",{className:"ff-modal ff-card detail-view-main",onClick:Z=>Z.stopPropagation(),children:[p.jsxs("div",{className:"detail-header-modern",children:[p.jsx("div",{className:`detail-rank-badge rank-${w.rank}`,children:w.rank}),p.jsxs("div",{className:"detail-title-col",children:[p.jsx("h2",{children:w.nome}),p.jsxs("span",{className:"detail-narrator",children:["Narrador: ",w.mestreNome]})]})]}),p.jsxs("div",{className:"detail-body-grid",children:[p.jsxs("div",{className:"detail-info-row",children:[p.jsxs("div",{className:"info-item",children:[p.jsx("label",{children:" LOCAL"}),p.jsx("span",{children:w.local||"Desconhecido"})]}),p.jsxs("div",{className:"info-item",children:[p.jsx("label",{children:" CONTRATANTE"}),p.jsx("span",{children:w.contratante||"Annimo"})]})]}),p.jsxs("div",{className:"detail-section",children:[p.jsx("label",{className:"section-label",children:" DESCRIO DA MISSO"}),p.jsx("p",{className:"section-text",children:w.descricaoMissao||"Sem descrio."})]}),p.jsxs("div",{className:"detail-section",children:[p.jsx("label",{className:"section-label",children:" OBJETIVOS DA MISSO"}),p.jsx("p",{className:"section-text",children:w.objetivosMissao||"Sem objetivos definidos."})]}),p.jsxs("div",{className:"detail-section",children:[p.jsx("label",{className:"section-label",children:" REQUISITOS"}),p.jsx("p",{className:"section-text",children:w.requisitos||"Sem requisitos especiais."})]}),p.jsxs("div",{className:"detail-section reward-section",children:[p.jsx("label",{className:"section-label",children:" RECOMPENSAS"}),p.jsxs("div",{className:"reward-content-box",children:[p.jsxs("div",{className:"gil-display-row",children:[p.jsx("span",{className:"gil-icon",children:""})," ",p.jsxs("span",{className:"gil-value",children:[w.gilRecompensa||0," GIL"]})]}),w.recompensa&&p.jsx("div",{className:"extra-rewards-list",children:w.recompensa.split(`
`).map((Z,me)=>p.jsxs("div",{className:"reward-item",children:[" ",Z]},me))})]})]})]}),p.jsx("button",{className:"ff-final-close-btn",onClick:()=>L(null),children:"FECHAR RELATRIO"})]})}),K&&p.jsx("div",{className:"ff-modal-overlay-flex",onClick:()=>oe(!1),children:p.jsxs("div",{className:"ff-modal-content ff-card",style:{height:"auto",maxHeight:"600px"},onClick:Z=>Z.stopPropagation(),children:[p.jsxs("div",{className:"modal-header-row",children:[p.jsx("h3",{className:"modal-title-ff",children:"RESENHAS RECEBIDAS"}),p.jsx("button",{className:"btn-close-x",onClick:()=>oe(!1),children:""})]}),p.jsx("div",{className:"resenhas-list-container",children:G.map(Z=>p.jsxs("div",{className:"resenha-row-player",onClick:()=>{se(Z),oe(!1)},children:[p.jsx("span",{className:"r-icon",children:""}),p.jsxs("div",{className:"r-info",children:[p.jsx("h4",{children:Z.titulo}),p.jsxs("small",{children:["De: ",Z.mestre]})]}),p.jsx("button",{className:"btn-read-arrow",children:"LER "})]},Z.id))})]})}),B&&p.jsx("div",{className:"papiro-overlay-full",onClick:()=>se(null),children:p.jsxs("div",{className:"papiro-real-container",style:{backgroundImage:`url(${RA})`},onClick:Z=>Z.stopPropagation(),children:[p.jsx("div",{className:"sanchez-oval-view-no-border",style:{backgroundImage:`url(${hm})`}}),p.jsx("h2",{className:"papiro-title-real",children:B.titulo}),p.jsxs("p",{className:"papiro-mestre-sub",children:["Narrador: ",B.mestre]}),p.jsx("div",{className:"papiro-body-real",dangerouslySetInnerHTML:{__html:B.conteudo.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br/>")}}),p.jsx("button",{className:"papiro-close-btn",onClick:()=>se(null),children:"FECHAR"})]})}),R&&i&&p.jsx(IA,{characterData:i,isMaster:!1,onClose:()=>N(!1)})]}),p.jsx("style",{children:`
        /* ESTILOS PRESERVADOS */
        .jogador-container { position: relative; width: 100vw; height: 100vh; overflow: hidden; background: #000; font-family: 'Cinzel', serif; color: white; }
        .background-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center; background-repeat: no-repeat; z-index: 0; }
        .content-layer { position: relative; z-index: 10; width: 100%; height: 100%; }
        .loading-screen { width: 100vw; height: 100vh; background: #000; color: #ffcc00; display: flex; align-items: center; justify-content: center; font-size: 24px; font-family: 'Cinzel', serif; }
        
        /* HUD */
        .char-hud { position: absolute; top: 20px; left: 20px; display: flex; align-items: center; gap: 15px; background: rgba(0,0,0,0.8); padding: 15px 25px; border-radius: 50px; border: 1px solid #ffcc00; box-shadow: 0 0 15px rgba(255,204,0,0.3); backdrop-filter: blur(5px); z-index: 50; transition: transform 0.2s; }
        .char-hud.clickable-hud:hover { transform: scale(1.05); cursor: pointer; border-color: #fff; box-shadow: 0 0 25px #ffcc00; }
        .avatar-circle { width: 60px; height: 60px; background: #222; border-radius: 50%; border: 2px solid #fff; display: flex; align-items: center; justify-content: center; }
        .hud-level { font-size: 28px; font-weight: bold; color: #ffcc00; text-shadow: 0 0 5px #000; }
        .char-info h2 { margin: 0; font-size: 20px; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        .char-meta { font-size: 12px; color: #00f2ff; font-weight: bold; }

        /* LEVEL UP GLOBAL OVERLAY */
        .levelup-global-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); z-index: 999999; display: flex; align-items: center; justify-content: center; animation: fadeOverlay 0.5s forwards; }
        .levelup-content { text-align: center; }
        .levelup-title { font-size: 80px; color: #ffcc00; text-shadow: 0 0 50px #ffcc00, 0 0 20px #fff; animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); letter-spacing: 5px; margin-bottom: 10px; }
        .levelup-subtitle { font-size: 24px; color: #fff; margin-bottom: 40px; font-family: 'Lato', sans-serif; opacity: 0.8; }
        .levelup-confirm-btn { background: transparent; border: 2px solid #ffcc00; color: #ffcc00; padding: 15px 40px; font-size: 18px; font-family: 'Cinzel', serif; font-weight: bold; cursor: pointer; transition: 0.3s; text-transform: uppercase; letter-spacing: 2px; }
        .levelup-confirm-btn:hover { background: #ffcc00; color: #000; box-shadow: 0 0 30px #ffcc00; transform: scale(1.1); }

        /* SESSES, BOTES, ETC (Mantidos) */
        .upcoming-sessions-banner { position: absolute; top: 120px; left: 50%; transform: translateX(-50%); background: rgba(0, 0, 0, 0.8); border: 2px solid #ffcc00; padding: 20px; border-radius: 8px; text-align: center; box-shadow: 0 0 30px rgba(255,204,0,0.3); z-index: 5; width: 400px; }
        .upcoming-sessions-banner h3 { color: #ffcc00; margin-bottom: 10px; font-size: 18px; }
        .countdown-row { display: flex; flex-direction: column; gap: 5px; border-top: 1px solid #333; padding-top: 10px; margin-top: 10px; }
        .countdown-text { font-size: 24px; color: #fff; font-weight: bold; font-family: 'Lato', sans-serif; }
        .active-sessions-banner { position: absolute; top: 120px; left: 50%; transform: translateX(-50%); background: rgba(20, 0, 0, 0.9); border: 2px solid #f00; padding: 20px; border-radius: 8px; text-align: center; box-shadow: 0 0 30px #f00; animation: pulseRed 2s infinite; z-index: 5; }
        .session-entry-row { display: flex; gap: 20px; align-items: center; margin-top: 10px; justify-content: center; }
        .btn-enter-session { background: #f00; color: #fff; border: none; padding: 10px 20px; font-weight: bold; cursor: pointer; font-family: 'Cinzel', serif; font-size: 16px; }
        .btn-enter-session:hover { background: #fff; color: #f00; }
        @keyframes pulseRed { 0% { box-shadow: 0 0 10px #f00; } 50% { box-shadow: 0 0 30px #f00; } 100% { box-shadow: 0 0 10px #f00; } }
        .vtt-status-widget { position: fixed; top: 20px; right: 20px; background: rgba(0,0,0,0.9); border: 2px solid; padding: 15px; border-radius: 8px; display: flex; align-items: center; gap: 15px; z-index: 9999; width: 280px; transition: 0.5s; box-shadow: 0 5px 20px rgba(0,0,0,0.5); }
        .vtt-status-widget.waiting { border-color: #ffcc00; }
        .vtt-status-widget.connected { border-color: #0f0; box-shadow: 0 0 20px rgba(0,255,0,0.3); }
        .status-indicator { width: 15px; height: 15px; border-radius: 50%; }
        .waiting .status-indicator { background: #ffcc00; animation: blink 1s infinite; }
        .connected .status-indicator { background: #0f0; box-shadow: 0 0 10px #0f0; }
        .status-text h4 { margin: 0; font-size: 14px; color: #fff; text-transform: uppercase; }
        .status-text small { font-size: 11px; color: #ccc; }
        .waiting .status-text h4 { color: #ffcc00; }
        .connected .status-text h4 { color: #0f0; }
        @keyframes blink { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
        .floating-mission-btn { position: fixed; bottom: 30px; left: 30px; width: 70px; height: 70px; border-radius: 50%; border: 2px solid #ffcc00; background: #000; color: #fff; font-size: 30px; cursor: pointer; z-index: 999; box-shadow: 0 0 15px rgba(0,0,0,0.8); transition: transform 0.2s, box-shadow 0.2s; display: flex; align-items: center; justify-content: center; }
        .floating-mission-btn:hover { transform: scale(1.1); box-shadow: 0 0 25px #ffcc00; }
        .floating-sanchez-btn { position: fixed; bottom: 110px; left: 30px; width: 70px; height: 70px; border-radius: 50%; border: 2px solid #00f2ff; background: #000; cursor: pointer; z-index: 999; box-shadow: 0 0 15px rgba(0,242,255,0.5); transition: transform 0.2s; display: flex; align-items: center; justify-content: center; overflow: visible; }
        .floating-sanchez-btn:hover { transform: scale(1.1); box-shadow: 0 0 25px #00f2ff; }
        .sanchez-icon-face { width: 100%; height: 100%; border-radius: 50%; background-size: cover; background-position: center; }
        .notification-badge { position: absolute; top: -5px; right: -5px; background: #f00; color: #fff; border-radius: 50%; width: 24px; height: 24px; font-size: 12px; font-weight: bold; display: flex; align-items: center; justify-content: center; border: 2px solid #fff; }
        .ff-modal-overlay-flex { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); z-index: 99999; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(10px); }
        .ff-modal-content { width: 600px; max-width: 95vw; max-height: 85vh; background: #0d0d15; border: 2px solid #ffcc00; padding: 25px; border-radius: 8px; box-shadow: 0 0 50px rgba(0,0,0,0.9); overflow-y: auto; display: flex; flex-direction: column; }
        .modal-header-row { display: flex; justify-content: space-between; align-items: flex-start; border-bottom: 1px solid #444; padding-bottom: 10px; margin-bottom: 15px; }
        .modal-title-ff { color: #ffcc00; margin: 0; font-size: 22px; letter-spacing: 2px; }
        .btn-close-x { background: none; border: none; color: #fff; font-size: 24px; cursor: pointer; }
        .btn-close-x:hover { color: #f00; }
        .missions-list-player { display: grid; grid-template-columns: 1fr; gap: 15px; }
        .mission-poster-player { background: rgba(255,255,255,0.05); border: 1px solid #444; padding: 15px; border-radius: 4px; position: relative; }
        .mp-header { display: flex; align-items: center; gap: 10px; border-bottom: 1px solid #333; padding-bottom: 8px; margin-bottom: 8px; }
        .mp-rank { font-size: 24px; font-weight: bold; color: #ffcc00; }
        .mp-details p { margin: 4px 0; font-size: 14px; color: #ccc; }
        .mp-desc { font-style: italic; color: #aaa; margin-top: 8px; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
        .mp-actions-row { display: flex; gap: 10px; margin-top: 15px; }
        .btn-details-outline { flex: 1; border: 1px solid #00f2ff; color: #00f2ff; background: transparent; padding: 10px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .btn-details-outline:hover { background: #00f2ff; color: #000; }
        .btn-candidatar { flex: 2; background: #00f2ff; color: #000; font-weight: bold; border: none; padding: 10px; cursor: pointer; transition: 0.3s; }
        .btn-candidatar:hover:not(:disabled) { background: #fff; box-shadow: 0 0 10px #00f2ff; }
        .btn-candidatar:disabled { background: #333; color: #666; cursor: not-allowed; }
        .candidates-box { margin-top: 10px; background: rgba(0,0,0,0.3); padding: 8px; border-radius: 4px; }
        .cand-tags { display: flex; flex-wrap: wrap; gap: 5px; margin-top: 5px; }
        .cand-tag { font-size: 11px; padding: 2px 6px; background: #222; border: 1px solid #444; border-radius: 3px; color: #ddd; }
        .cand-tag.leader { border-color: #ffcc00; color: #ffcc00; }
        .resenhas-list-container { display: flex; flex-direction: column; gap: 10px; }
        .resenha-row-player { display: flex; align-items: center; background: rgba(255,255,255,0.05); border: 1px solid #333; padding: 15px; border-radius: 4px; cursor: pointer; transition: 0.2s; }
        .resenha-row-player:hover { background: rgba(255,255,255,0.1); border-color: #ffcc00; }
        .r-icon { font-size: 24px; margin-right: 15px; }
        .r-info { flex: 1; }
        .r-info h4 { margin: 0; color: #ffcc00; font-size: 16px; }
        .r-info small { color: #aaa; }
        .btn-read-arrow { background: none; border: none; color: #00f2ff; font-weight: bold; cursor: pointer; }
        .detail-view-main { width: 600px; background: #000814; border: 1px solid #ffcc00; padding: 0; box-shadow: 0 0 40px rgba(255, 204, 0, 0.1); overflow: hidden; display: flex; flex-direction: column; }
        .detail-header-modern { background: linear-gradient(90deg, #1a1a1a 0%, #000 100%); padding: 25px 30px; display: flex; align-items: center; border-bottom: 1px solid #333; gap: 20px; }
        .detail-rank-badge { font-size: 32px; font-weight: bold; color: #ffcc00; text-shadow: 0 0 10px rgba(255,204,0,0.5); border: 2px solid #ffcc00; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background: rgba(0,0,0,0.5); }
        .detail-title-col h2 { margin: 0; font-size: 24px; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        .detail-narrator { color: #00f2ff; font-size: 12px; font-weight: bold; text-transform: uppercase; margin-top: 4px; display: block; }
        .detail-body-grid { padding: 30px; display: flex; flex-direction: column; gap: 20px; }
        .detail-info-row { display: flex; gap: 25px; margin-bottom: 10px; border-bottom: 1px solid #333; padding-bottom: 15px; }
        .info-item { flex: 1; }
        .info-item label { color: #ffcc00; font-size: 10px; display: block; margin-bottom: 5px; font-weight: bold; opacity: 0.8; }
        .info-item span { color: #fff; font-size: 14px; font-weight: bold; letter-spacing: 0.5px; }
        .detail-section { margin-bottom: 5px; }
        .section-label { color: #ffcc00; font-size: 11px; font-weight: bold; display: block; margin-bottom: 8px; letter-spacing: 1px; text-transform: uppercase; border-bottom: 1px solid #333; padding-bottom: 4px; }
        .section-text { font-size: 15px; line-height: 1.5; color: #ddd; margin: 0; white-space: pre-wrap; }
        .reward-section { margin-top: 10px; background: rgba(255,204,0,0.05); padding: 15px; border-radius: 4px; border: 1px solid rgba(255,204,0,0.2); }
        .gil-display-row { display: flex; align-items: center; gap: 10px; font-size: 18px; color: #ffcc00; font-weight: bold; margin-bottom: 8px; }
        .extra-rewards-list { margin-top: 8px; padding-left: 5px; }
        .reward-item { color: #aaa; font-size: 14px; margin-bottom: 4px; font-style: italic; }
        .ff-final-close-btn { width: 100%; background: #111; color: #fff; border: none; border-top: 1px solid #333; padding: 20px; font-weight: bold; cursor: pointer; font-size: 13px; text-transform: uppercase; transition: 0.2s; }
        .ff-final-close-btn:hover { background: #222; color: #ffcc00; }
        .papiro-overlay-full { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); z-index: 100000; display: flex; align-items: center; justify-content: center; }
        .papiro-real-container { width: 1000px; height: 800px; max-width: 95vw; max-height: 95vh; background-size: 100% 100%; background-repeat: no-repeat; padding: 110px 160px; color: #3b2b1a; position: relative; display: flex; flex-direction: column; }
        .sanchez-oval-view-no-border { width: 110px; height: 110px; float: right; border-radius: 50%; background-size: cover; margin-left: 20px; mask-image: radial-gradient(circle, black 60%, transparent 100%); -webkit-mask-image: radial-gradient(circle, black 60%, transparent 100%); opacity: 0.9; }
        .papiro-title-real { border-bottom: 2px solid #3b2b1a; padding-bottom: 5px; margin-top: 0; font-size: 32px; font-weight: bold; }
        .papiro-mestre-sub { font-size: 14px; font-style: italic; opacity: 0.8; margin-top: 5px; }
        .papiro-body-real { margin-top: 25px; flex: 1; overflow-y: auto; line-height: 1.6; font-size: 18px; padding-right: 10px; scrollbar-width: none; -ms-overflow-style: none; }
        .papiro-body-real::-webkit-scrollbar { display: none; }
        .papiro-close-btn { position: absolute; bottom: 45px; right: 110px; background: #3b2b1a; color: #f4e4bc; border: none; padding: 8px 20px; cursor: pointer; font-weight: bold; font-size: 13px; border-radius: 2px; }
        .fade-in { animation: fadeIn 1s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes popIn { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @keyframes fadeOverlay { 0% { opacity: 1; } 100% { opacity: 1; } }
      `})]})}const HO=()=>p.jsx("div",{style:{color:"white",padding:"50px"},children:"PGINA DO JOGADOR EM CONSTRUO"}),qO=({user:i,children:e})=>i&&i.email==="fffvtt10@gmail.com"?e:p.jsx(q_,{to:"/admin-login"});function FO(){const[i,e]=O.useState(!0),[n,r]=O.useState(null);return O.useEffect(()=>{const o=UR(Ze,c=>{r(c);const d=setTimeout(()=>{e(!1)},1e3);return()=>clearTimeout(d)});return()=>o()},[]),i?p.jsxs("div",{className:"ether-loading",children:[p.jsx("div",{className:"loading-blur-bg"}),p.jsxs("div",{className:"loading-content",children:[p.jsx("img",{src:bO,alt:"Carregando...",className:"chocobo-anim"}),p.jsx("div",{className:"loading-bar",children:p.jsx("div",{className:"loading-fill"})}),p.jsx("p",{children:"SINTONIZANDO COM O TER..."})]}),p.jsx("style",{children:`
          .ether-loading {
            height: 100vh; width: 100vw; background: #000;
            display: flex; align-items: center; justify-content: center;
            position: fixed; top: 0; left: 0; z-index: 9999;
          }
          .loading-blur-bg {
            position: absolute; width: 100%; height: 100%;
            background: radial-gradient(circle, #001a33 0%, #000 100%);
            filter: blur(40px);
            animation: pulseBlur 2s infinite alternate;
          }
          .loading-content { position: relative; z-index: 10; text-align: center; }
          .chocobo-anim { width: 120px; filter: drop-shadow(0 0 10px #ffcc00); margin-bottom: 20px; }
          
          .loading-bar {
            width: 200px; height: 2px; background: rgba(255, 255, 255, 0.1);
            margin: 0 auto 15px auto; border-radius: 10px; overflow: hidden;
          }
          .loading-fill {
            height: 100%; width: 0%; background: #ffcc00;
            box-shadow: 0 0 10px #ffcc00;
            animation: fillProgress 1s ease-in-out forwards;
          }
          
          p { color: #ffcc00; font-family: 'serif'; font-size: 10px; letter-spacing: 3px; animation: fadeText 1s infinite alternate; }
          
          @keyframes fillProgress { from { width: 0%; } to { width: 100%; } }
          @keyframes pulseBlur { from { opacity: 0.5; } to { opacity: 0.8; } }
          @keyframes fadeText { from { opacity: 0.4; } to { opacity: 1; } }
        `})]}):p.jsxs(mS,{children:[p.jsx(Ha,{path:"/",element:p.jsx(xO,{})}),p.jsx(Ha,{path:"/login",element:p.jsx(AO,{})}),p.jsx(Ha,{path:"/mestre",element:p.jsx(OO,{})}),p.jsx(Ha,{path:"/jogador",element:p.jsx(HO,{})}),p.jsx(Ha,{path:"/create-character",element:p.jsx(VO,{})}),p.jsx(Ha,{path:"/admin-login",element:p.jsx(TO,{})}),p.jsx(Ha,{path:"/jogador-vtt",element:p.jsx(BO,{})}),p.jsx(Ha,{path:"/admin",element:p.jsx(qO,{user:n,children:p.jsx(SO,{})})}),p.jsx(Ha,{path:"*",element:p.jsx(q_,{to:"/"})})]})}vT.createRoot(document.getElementById("root")).render(p.jsx(uT.StrictMode,{children:p.jsx(zS,{children:p.jsx(FO,{})})}));
