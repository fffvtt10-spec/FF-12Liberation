(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function Vx(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var xp={exports:{}},Xl={};var qb;function mS(){if(qb)return Xl;qb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:f,ref:o!==void 0?o:null,props:c}}return Xl.Fragment=e,Xl.jsx=n,Xl.jsxs=n,Xl}var Fb;function gS(){return Fb||(Fb=1,xp.exports=mS()),xp.exports}var h=gS(),_p={exports:{}},je={};var Gb;function yS(){if(Gb)return je;Gb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),R=Symbol.iterator;function j(N){return N===null||typeof N!="object"?null:(N=R&&N[R]||N["@@iterator"],typeof N=="function"?N:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,Q={};function ie(N,Y,se){this.props=N,this.context=Y,this.refs=Q,this.updater=se||B}ie.prototype.isReactComponent={},ie.prototype.setState=function(N,Y){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Y,"setState")},ie.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function q(){}q.prototype=ie.prototype;function ne(N,Y,se){this.props=N,this.context=Y,this.refs=Q,this.updater=se||B}var pe=ne.prototype=new q;pe.constructor=ne,L(pe,ie.prototype),pe.isPureReactComponent=!0;var ue=Array.isArray;function ge(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function O(N,Y,se){var oe=se.ref;return{$$typeof:i,type:N,key:Y,ref:oe!==void 0?oe:null,props:se}}function P(N,Y){return O(N.type,Y,N.props)}function S(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function k(N){var Y={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(se){return Y[se]})}var w=/\/+/g;function Te(N,Y){return typeof N=="object"&&N!==null&&N.key!=null?k(""+N.key):Y.toString(36)}function De(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ge,ge):(N.status="pending",N.then(function(Y){N.status==="pending"&&(N.status="fulfilled",N.value=Y)},function(Y){N.status==="pending"&&(N.status="rejected",N.reason=Y)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function J(N,Y,se,oe,he){var ve=typeof N;(ve==="undefined"||ve==="boolean")&&(N=null);var Ne=!1;if(N===null)Ne=!0;else switch(ve){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(N.$$typeof){case i:case e:Ne=!0;break;case _:return Ne=N._init,J(Ne(N._payload),Y,se,oe,he)}}if(Ne)return he=he(N),Ne=oe===""?"."+Te(N,0):oe,ue(he)?(se="",Ne!=null&&(se=Ne.replace(w,"$&/")+"/"),J(he,Y,se,"",function(mt){return mt})):he!=null&&(S(he)&&(he=P(he,se+(he.key==null||N&&N.key===he.key?"":(""+he.key).replace(w,"$&/")+"/")+Ne)),Y.push(he)),1;Ne=0;var Ge=oe===""?".":oe+":";if(ue(N))for(var ke=0;ke<N.length;ke++)oe=N[ke],ve=Ge+Te(oe,ke),Ne+=J(oe,Y,se,ve,he);else if(ke=j(N),typeof ke=="function")for(N=ke.call(N),ke=0;!(oe=N.next()).done;)oe=oe.value,ve=Ge+Te(oe,ke++),Ne+=J(oe,Y,se,ve,he);else if(ve==="object"){if(typeof N.then=="function")return J(De(N),Y,se,oe,he);throw Y=String(N),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function le(N,Y,se){if(N==null)return N;var oe=[],he=0;return J(N,oe,"","",function(ve){return Y.call(se,ve,he++)}),oe}function xe(N){if(N._status===-1){var Y=N._result;Y=Y(),Y.then(function(se){(N._status===0||N._status===-1)&&(N._status=1,N._result=se)},function(se){(N._status===0||N._status===-1)&&(N._status=2,N._result=se)}),N._status===-1&&(N._status=0,N._result=Y)}if(N._status===1)return N._result.default;throw N._result}var Ve=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},He={map:le,forEach:function(N,Y,se){le(N,function(){Y.apply(this,arguments)},se)},count:function(N){var Y=0;return le(N,function(){Y++}),Y},toArray:function(N){return le(N,function(Y){return Y})||[]},only:function(N){if(!S(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return je.Activity=E,je.Children=He,je.Component=ie,je.Fragment=n,je.Profiler=o,je.PureComponent=ne,je.StrictMode=r,je.Suspense=g,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,je.__COMPILER_RUNTIME={__proto__:null,c:function(N){return I.H.useMemoCache(N)}},je.cache=function(N){return function(){return N.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(N,Y,se){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var oe=L({},N.props),he=N.key;if(Y!=null)for(ve in Y.key!==void 0&&(he=""+Y.key),Y)!C.call(Y,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&Y.ref===void 0||(oe[ve]=Y[ve]);var ve=arguments.length-2;if(ve===1)oe.children=se;else if(1<ve){for(var Ne=Array(ve),Ge=0;Ge<ve;Ge++)Ne[Ge]=arguments[Ge+2];oe.children=Ne}return O(N.type,he,oe)},je.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},je.createElement=function(N,Y,se){var oe,he={},ve=null;if(Y!=null)for(oe in Y.key!==void 0&&(ve=""+Y.key),Y)C.call(Y,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(he[oe]=Y[oe]);var Ne=arguments.length-2;if(Ne===1)he.children=se;else if(1<Ne){for(var Ge=Array(Ne),ke=0;ke<Ne;ke++)Ge[ke]=arguments[ke+2];he.children=Ge}if(N&&N.defaultProps)for(oe in Ne=N.defaultProps,Ne)he[oe]===void 0&&(he[oe]=Ne[oe]);return O(N,ve,he)},je.createRef=function(){return{current:null}},je.forwardRef=function(N){return{$$typeof:m,render:N}},je.isValidElement=S,je.lazy=function(N){return{$$typeof:_,_payload:{_status:-1,_result:N},_init:xe}},je.memo=function(N,Y){return{$$typeof:y,type:N,compare:Y===void 0?null:Y}},je.startTransition=function(N){var Y=I.T,se={};I.T=se;try{var oe=N(),he=I.S;he!==null&&he(se,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ge,Ve)}catch(ve){Ve(ve)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),I.T=Y}},je.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},je.use=function(N){return I.H.use(N)},je.useActionState=function(N,Y,se){return I.H.useActionState(N,Y,se)},je.useCallback=function(N,Y){return I.H.useCallback(N,Y)},je.useContext=function(N){return I.H.useContext(N)},je.useDebugValue=function(){},je.useDeferredValue=function(N,Y){return I.H.useDeferredValue(N,Y)},je.useEffect=function(N,Y){return I.H.useEffect(N,Y)},je.useEffectEvent=function(N){return I.H.useEffectEvent(N)},je.useId=function(){return I.H.useId()},je.useImperativeHandle=function(N,Y,se){return I.H.useImperativeHandle(N,Y,se)},je.useInsertionEffect=function(N,Y){return I.H.useInsertionEffect(N,Y)},je.useLayoutEffect=function(N,Y){return I.H.useLayoutEffect(N,Y)},je.useMemo=function(N,Y){return I.H.useMemo(N,Y)},je.useOptimistic=function(N,Y){return I.H.useOptimistic(N,Y)},je.useReducer=function(N,Y,se){return I.H.useReducer(N,Y,se)},je.useRef=function(N){return I.H.useRef(N)},je.useState=function(N){return I.H.useState(N)},je.useSyncExternalStore=function(N,Y,se){return I.H.useSyncExternalStore(N,Y,se)},je.useTransition=function(){return I.H.useTransition()},je.version="19.2.4",je}var Qb;function gm(){return Qb||(Qb=1,_p.exports=yS()),_p.exports}var D=gm();const bS=Vx(D);var Ep={exports:{}},Jl={},Ap={exports:{}},Sp={};var Kb;function vS(){return Kb||(Kb=1,(function(i){function e(J,le){var xe=J.length;J.push(le);e:for(;0<xe;){var Ve=xe-1>>>1,He=J[Ve];if(0<o(He,le))J[Ve]=le,J[xe]=He,xe=Ve;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var le=J[0],xe=J.pop();if(xe!==le){J[0]=xe;e:for(var Ve=0,He=J.length,N=He>>>1;Ve<N;){var Y=2*(Ve+1)-1,se=J[Y],oe=Y+1,he=J[oe];if(0>o(se,xe))oe<He&&0>o(he,se)?(J[Ve]=he,J[oe]=xe,Ve=oe):(J[Ve]=se,J[Y]=xe,Ve=Y);else if(oe<He&&0>o(he,xe))J[Ve]=he,J[oe]=xe,Ve=oe;else break e}}return le}function o(J,le){var xe=J.sortIndex-le.sortIndex;return xe!==0?xe:J.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],y=[],_=1,E=null,R=3,j=!1,B=!1,L=!1,Q=!1,ie=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function pe(J){for(var le=n(y);le!==null;){if(le.callback===null)r(y);else if(le.startTime<=J)r(y),le.sortIndex=le.expirationTime,e(g,le);else break;le=n(y)}}function ue(J){if(L=!1,pe(J),!B)if(n(g)!==null)B=!0,ge||(ge=!0,k());else{var le=n(y);le!==null&&De(ue,le.startTime-J)}}var ge=!1,I=-1,C=5,O=-1;function P(){return Q?!0:!(i.unstable_now()-O<C)}function S(){if(Q=!1,ge){var J=i.unstable_now();O=J;var le=!0;try{e:{B=!1,L&&(L=!1,q(I),I=-1),j=!0;var xe=R;try{t:{for(pe(J),E=n(g);E!==null&&!(E.expirationTime>J&&P());){var Ve=E.callback;if(typeof Ve=="function"){E.callback=null,R=E.priorityLevel;var He=Ve(E.expirationTime<=J);if(J=i.unstable_now(),typeof He=="function"){E.callback=He,pe(J),le=!0;break t}E===n(g)&&r(g),pe(J)}else r(g);E=n(g)}if(E!==null)le=!0;else{var N=n(y);N!==null&&De(ue,N.startTime-J),le=!1}}break e}finally{E=null,R=xe,j=!1}le=void 0}}finally{le?k():ge=!1}}}var k;if(typeof ne=="function")k=function(){ne(S)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Te=w.port2;w.port1.onmessage=S,k=function(){Te.postMessage(null)}}else k=function(){ie(S,0)};function De(J,le){I=ie(function(){J(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_next=function(J){switch(R){case 1:case 2:case 3:var le=3;break;default:le=R}var xe=R;R=le;try{return J()}finally{R=xe}},i.unstable_requestPaint=function(){Q=!0},i.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var xe=R;R=J;try{return le()}finally{R=xe}},i.unstable_scheduleCallback=function(J,le,xe){var Ve=i.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?Ve+xe:Ve):xe=Ve,J){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=xe+He,J={id:_++,callback:le,priorityLevel:J,startTime:xe,expirationTime:He,sortIndex:-1},xe>Ve?(J.sortIndex=xe,e(y,J),n(g)===null&&J===n(y)&&(L?(q(I),I=-1):L=!0,De(ue,xe-Ve))):(J.sortIndex=He,e(g,J),B||j||(B=!0,ge||(ge=!0,k()))),J},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(J){var le=R;return function(){var xe=R;R=le;try{return J.apply(this,arguments)}finally{R=xe}}}})(Sp)),Sp}var Yb;function xS(){return Yb||(Yb=1,Ap.exports=vS()),Ap.exports}var Tp={exports:{}},fn={};var $b;function _S(){if($b)return fn;$b=1;var i=gm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:y,implementation:_}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,fn.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,_)},fn.flushSync=function(g){var y=f.T,_=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=y,r.p=_,r.d.f()}},fn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},fn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},fn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,E=m(_,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:R,fetchPriority:j}):_==="script"&&r.d.X(g,{crossOrigin:E,integrity:R,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},fn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},fn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,E=m(_,y.crossOrigin);r.d.L(g,_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},fn.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},fn.requestFormReset=function(g){r.d.r(g)},fn.unstable_batchedUpdates=function(g,y){return g(y)},fn.useFormState=function(g,y,_){return f.H.useFormState(g,y,_)},fn.useFormStatus=function(){return f.H.useHostTransitionStatus()},fn.version="19.2.4",fn}var Xb;function ES(){if(Xb)return Tp.exports;Xb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Tp.exports=_S(),Tp.exports}var Jb;function AS(){if(Jb)return Jl;Jb=1;var i=xS(),e=gm(),n=ES();function r(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function f(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function m(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var a=t.alternate;if(!a){if(a=c(t),a===null)throw Error(r(188));return a!==t?null:t}for(var s=t,l=a;;){var d=s.return;if(d===null)break;var p=d.alternate;if(p===null){if(l=d.return,l!==null){s=l;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===s)return g(d),t;if(p===l)return g(d),a;p=p.sibling}throw Error(r(188))}if(s.return!==l.return)s=d,l=p;else{for(var v=!1,A=d.child;A;){if(A===s){v=!0,s=d,l=p;break}if(A===l){v=!0,l=d,s=p;break}A=A.sibling}if(!v){for(A=p.child;A;){if(A===s){v=!0,s=p,l=d;break}if(A===l){v=!0,l=p,s=d;break}A=A.sibling}if(!v)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:a}function _(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=_(t),a!==null)return a;t=t.sibling}return null}var E=Object.assign,R=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),S=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=S&&t[S]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Te(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case ie:return"Profiler";case Q:return"StrictMode";case ue:return"Suspense";case ge:return"SuspenseList";case O:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case ne:return t.displayName||"Context";case q:return(t._context.displayName||"Context")+".Consumer";case pe:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return a=t.displayName||null,a!==null?a:Te(t.type)||"Memo";case C:a=t._payload,t=t._init;try{return Te(t(a))}catch{}}return null}var De=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},Ve=[],He=-1;function N(t){return{current:t}}function Y(t){0>He||(t.current=Ve[He],Ve[He]=null,He--)}function se(t,a){He++,Ve[He]=t.current,t.current=a}var oe=N(null),he=N(null),ve=N(null),Ne=N(null);function Ge(t,a){switch(se(ve,a),se(he,t),se(oe,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?fb(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=fb(a),t=hb(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(oe),se(oe,t)}function ke(){Y(oe),Y(he),Y(ve)}function mt(t){t.memoizedState!==null&&se(Ne,t);var a=oe.current,s=hb(a,t.type);a!==s&&(se(he,t),se(oe,s))}function cn(t){he.current===t&&(Y(oe),Y(he)),Ne.current===t&&(Y(Ne),Ql._currentValue=xe)}var Kt,Z;function Ee(t){if(Kt===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Kt=a&&a[1]||"",Z=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kt+t+Z}var de=!1;function Re(t,a){if(!t||de)return"";de=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var K=X}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(X){K=X}t.call(ae.prototype)}}else{try{throw Error()}catch(X){K=X}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),v=p[0],A=p[1];if(v&&A){var M=v.split(`
`),G=A.split(`
`);for(d=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;if(l===M.length||d===G.length)for(l=M.length-1,d=G.length-1;1<=l&&0<=d&&M[l]!==G[d];)d--;for(;1<=l&&0<=d;l--,d--)if(M[l]!==G[d]){if(l!==1||d!==1)do if(l--,d--,0>d||M[l]!==G[d]){var W=`
`+M[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=d);break}}}finally{de=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ee(s):""}function Le(t,a){switch(t.tag){case 26:case 27:case 5:return Ee(t.type);case 16:return Ee("Lazy");case 13:return t.child!==a&&a!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return Re(t.type,!1);case 11:return Re(t.type.render,!1);case 1:return Re(t.type,!0);case 31:return Ee("Activity");default:return""}}function U(t){try{var a="",s=null;do a+=Le(t,s),s=t,t=t.return;while(t);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var be=Object.prototype.hasOwnProperty,Je=i.unstable_scheduleCallback,un=i.unstable_cancelCallback,xn=i.unstable_shouldYield,kn=i.unstable_requestPaint,Zt=i.unstable_now,ii=i.unstable_getCurrentPriorityLevel,Lr=i.unstable_ImmediatePriority,zr=i.unstable_UserBlockingPriority,dn=i.unstable_NormalPriority,_n=i.unstable_LowPriority,Ur=i.unstable_IdlePriority,jc=i.log,Pc=i.unstable_setDisableYieldValue,ua=null,Wt=null;function Kn(t){if(typeof jc=="function"&&Pc(t),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(ua,t)}catch{}}var Nt=Math.clz32?Math.clz32:Lc,Vc=Math.log,Is=Math.LN2;function Lc(t){return t>>>=0,t===0?32:31-(Vc(t)/Is|0)|0}var Na=256,Br=262144,Mt=4194304;function Ra(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ca(t,a,s){var l=t.pendingLanes;if(l===0)return 0;var d=0,p=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~p,l!==0?d=Ra(l):(v&=A,v!==0?d=Ra(v):s||(s=A&~t,s!==0&&(d=Ra(s))))):(A=l&~p,A!==0?d=Ra(A):v!==0?d=Ra(v):s||(s=l&~t,s!==0&&(d=Ra(s)))),d===0?0:a!==0&&a!==d&&(a&p)===0&&(p=d&-d,s=a&-a,p>=s||p===32&&(s&4194048)!==0)?a:d}function da(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Sf(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zc(){var t=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),t}function Ia(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function Hr(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Tf(t,a,s,l,d,p){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var A=t.entanglements,M=t.expirationTimes,G=t.hiddenUpdates;for(s=v&~s;0<s;){var W=31-Nt(s),ae=1<<W;A[W]=0,M[W]=-1;var K=G[W];if(K!==null)for(G[W]=null,W=0;W<K.length;W++){var X=K[W];X!==null&&(X.lane&=-536870913)}s&=~ae}l!==0&&qr(t,l,0),p!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=p&~(v&~a))}function qr(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var l=31-Nt(a);t.entangledLanes|=a,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Jo(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var l=31-Nt(s),d=1<<l;d&a|t[l]&a&&(t[l]|=a),s&=~d}}function Zo(t,a){var s=a&-a;return s=(s&42)!==0?1:Fr(s),(s&(t.suspendedLanes|a))!==0?0:s}function Fr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ri(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Uc(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Pb(t.type))}function fa(t,a){var s=le.p;try{return le.p=t,a()}finally{le.p=s}}var ha=Math.random().toString(36).slice(2),kt="__reactFiber$"+ha,Yt="__reactProps$"+ha,Oa="__reactContainer$"+ha,Os="__reactEvents$"+ha,wf="__reactListeners$"+ha,Bc="__reactHandles$"+ha,Hc="__reactResources$"+ha,Da="__reactMarker$"+ha;function Ds(t){delete t[kt],delete t[Yt],delete t[Os],delete t[wf],delete t[Bc]}function Ma(t){var a=t[kt];if(a)return a;for(var s=t.parentNode;s;){if(a=s[Oa]||s[kt]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=xb(t);t!==null;){if(s=t[kt])return s;t=xb(t)}return a}t=s,s=t.parentNode}return null}function Yn(t){if(t=t[kt]||t[Oa]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function jn(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(r(33))}function ka(t){var a=t[Hc];return a||(a=t[Hc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function jt(t){t[Da]=!0}var Wo=new Set,el={};function ja(t,a){Pa(t,a),Pa(t+"Capture",a)}function Pa(t,a){for(el[t]=a,t=0;t<a.length;t++)Wo.add(a[t])}var tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},al={};function qc(t){return be.call(al,t)?!0:be.call(nl,t)?!1:tl.test(t)?al[t]=!0:(nl[t]=!0,!1)}function Ms(t,a,s){if(qc(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var l=a.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function Pn(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function Pt(t,a,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+l)}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zi(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function il(t,a,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,p=l.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return d.call(this)},set:function(v){s=""+v,p.call(this,v)}}),Object.defineProperty(t,a,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function ot(t){if(!t._valueTracker){var a=zi(t)?"checked":"value";t._valueTracker=il(t,a,""+t[a])}}function Gr(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),l="";return t&&(l=zi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(a.setValue(t),!0):!1}function Va(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qr=/[\n"\\]/g;function En(t){return t.replace(Qr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ks(t,a,s,l,d,p,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),a!=null?v==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+$t(a)):t.value!==""+$t(a)&&(t.value=""+$t(a)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),a!=null?rl(t,v,$t(a)):s!=null?rl(t,v,$t(s)):l!=null&&t.removeAttribute("value"),d==null&&p!=null&&(t.defaultChecked=!!p),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+$t(A):t.removeAttribute("name")}function Fc(t,a,s,l,d,p,v,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),a!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){ot(t);return}s=s!=null?""+$t(s):"",a=a!=null?""+$t(a):s,A||a===t.value||(t.value=a),t.defaultValue=a}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),ot(t)}function rl(t,a,s){a==="number"&&Va(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ui(t,a,s,l){if(t=t.options,a){a={};for(var d=0;d<s.length;d++)a["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=a.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&l&&(t[s].defaultSelected=!0)}else{for(s=""+$t(s),a=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}a!==null||t[d].disabled||(a=t[d])}a!==null&&(a.selected=!0)}}function Gc(t,a,s){if(a!=null&&(a=""+$t(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+$t(s):""}function Bi(t,a,s,l){if(a==null){if(l!=null){if(s!=null)throw Error(r(92));if(De(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),a=s}s=$t(a),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),ot(t)}function An(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var Qc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sl(t,a,s){var l=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":l?t.setProperty(a,s):typeof s!="number"||s===0||Qc.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function ol(t,a,s){if(a!=null&&typeof a!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||a!=null&&a.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in a)l=a[d],a.hasOwnProperty(d)&&s[d]!==l&&sl(t,d,l)}else for(var p in a)a.hasOwnProperty(p)&&sl(t,p,a[p])}function js(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ps(t){return Hi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function pa(){}var ll=null;function $n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qi=null,La=null;function Kr(t){var a=Yn(t);if(a&&(t=a.stateNode)){var s=t[Yt]||null;e:switch(t=a.stateNode,a.type){case"input":if(ks(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+En(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var l=s[a];if(l!==t&&l.form===t.form){var d=l[Yt]||null;if(!d)throw Error(r(90));ks(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<s.length;a++)l=s[a],l.form===t.form&&Gr(l)}break e;case"textarea":Gc(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&Ui(t,!!s.multiple,a,!1)}}}var Vs=!1;function Fi(t,a,s){if(Vs)return t(a,s);Vs=!0;try{var l=t(a);return l}finally{if(Vs=!1,(qi!==null||La!==null)&&(Uu(),qi&&(a=qi,t=La,La=qi=null,Kr(a),t)))for(a=0;a<t.length;a++)Kr(t[a])}}function ma(t,a){var s=t.stateNode;if(s===null)return null;var l=s[Yt]||null;if(l===null)return null;s=l[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,a,typeof s));return s}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yr=!1;if(Xn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Yr=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Yr=!1}var za=null,cl=null,$r=null;function ul(){if($r)return $r;var t,a=cl,s=a.length,l,d="value"in za?za.value:za.textContent,p=d.length;for(t=0;t<s&&a[t]===d[t];t++);var v=s-t;for(l=1;l<=v&&a[s-l]===d[p-l];l++);return $r=d.slice(t,1<l?1-l:void 0)}function Xr(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function si(){return!0}function ga(){return!1}function en(t){function a(s,l,d,p,v){this._reactName=s,this._targetInst=d,this.type=l,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(s=t[A],this[A]=s?s(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?si:ga,this.isPropagationStopped=ga,this}return E(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),a}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=en(oi),Gi=E({},oi,{view:0,detail:0}),dl=en(Gi),Qi,Ls,Ba,zs=E({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ki,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ba&&(Ba&&t.type==="mousemove"?(Qi=t.screenX-Ba.screenX,Ls=t.screenY-Ba.screenY):Ls=Qi=0,Ba=t),Qi)},movementY:function(t){return"movementY"in t?t.movementY:Ls}}),fl=en(zs),Jr=E({},zs,{dataTransfer:0}),Yc=en(Jr),$c=E({},Gi,{relatedTarget:0}),Zr=en($c),hl=E({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Xc=en(hl),Us=E({},oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jc=en(Us),Zc=E({},oi,{data:0}),Ha=en(Zc),Wc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nu(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=tu[t])?!!a[t]:!1}function Ki(){return nu}var yn=E({},Gi,{key:function(t){if(t.key){var a=Wc[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Xr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ki,charCode:function(t){return t.type==="keypress"?Xr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),au=en(yn),iu=E({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),li=en(iu),u=E({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ki}),b=en(u),x=E({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=en(x),H=E({},zs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=en(H),ce=E({},oi,{newState:0,oldState:0}),ze=en(ce),Rt=[9,13,27,32],it=Xn&&"CompositionEvent"in window,xt=null;Xn&&"documentMode"in document&&(xt=document.documentMode);var Jn=Xn&&"TextEvent"in window&&!xt,qa=Xn&&(!it||xt&&8<xt&&11>=xt),ya=" ",ba=!1;function Wr(t,a){switch(t){case"keyup":return Rt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function zA(t,a){switch(t){case"compositionend":return Bs(a);case"keypress":return a.which!==32?null:(ba=!0,ya);case"textInput":return t=a.data,t===ya&&ba?null:t;default:return null}}function UA(t,a){if(Hs)return t==="compositionend"||!it&&Wr(t,a)?(t=ul(),$r=cl=za=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return qa&&a.locale!=="ko"?null:a.data;default:return null}}var BA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!BA[t.type]:a==="textarea"}function Sg(t,a,s,l){qi?La?La.push(l):La=[l]:qi=l,a=Ku(a,"onChange"),0<a.length&&(s=new Ua("onChange","change",null,s,l),t.push({event:s,listeners:a}))}var pl=null,ml=null;function HA(t){sb(t,0)}function ru(t){var a=jn(t);if(Gr(a))return t}function Tg(t,a){if(t==="change")return a}var wg=!1;if(Xn){var Nf;if(Xn){var Rf="oninput"in document;if(!Rf){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),Rf=typeof Ng.oninput=="function"}Nf=Rf}else Nf=!1;wg=Nf&&(!document.documentMode||9<document.documentMode)}function Rg(){pl&&(pl.detachEvent("onpropertychange",Cg),ml=pl=null)}function Cg(t){if(t.propertyName==="value"&&ru(ml)){var a=[];Sg(a,ml,t,$n(t)),Fi(HA,a)}}function qA(t,a,s){t==="focusin"?(Rg(),pl=a,ml=s,pl.attachEvent("onpropertychange",Cg)):t==="focusout"&&Rg()}function FA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ru(ml)}function GA(t,a){if(t==="click")return ru(a)}function QA(t,a){if(t==="input"||t==="change")return ru(a)}function KA(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Vn=typeof Object.is=="function"?Object.is:KA;function gl(t,a){if(Vn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),l=Object.keys(a);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var d=s[l];if(!be.call(a,d)||!Vn(t[d],a[d]))return!1}return!0}function Ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Og(t,a){var s=Ig(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=a&&l>=a)return{node:s,offset:a-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ig(s)}}function Dg(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Dg(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Mg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Va(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=Va(t.document)}return a}function Cf(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var YA=Xn&&"documentMode"in document&&11>=document.documentMode,qs=null,If=null,yl=null,Of=!1;function kg(t,a,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Of||qs==null||qs!==Va(l)||(l=qs,"selectionStart"in l&&Cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&gl(yl,l)||(yl=l,l=Ku(If,"onSelect"),0<l.length&&(a=new Ua("onSelect","select",null,a,s),t.push({event:a,listeners:l}),a.target=qs)))}function es(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var Fs={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},Df={},jg={};Xn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function ts(t){if(Df[t])return Df[t];if(!Fs[t])return t;var a=Fs[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in jg)return Df[t]=a[s];return t}var Pg=ts("animationend"),Vg=ts("animationiteration"),Lg=ts("animationstart"),$A=ts("transitionrun"),XA=ts("transitionstart"),JA=ts("transitioncancel"),zg=ts("transitionend"),Ug=new Map,Mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mf.push("scrollEnd");function va(t,a){Ug.set(t,a),ja(a,[t])}var su=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Zn=[],Gs=0,kf=0;function ou(){for(var t=Gs,a=kf=Gs=0;a<t;){var s=Zn[a];Zn[a++]=null;var l=Zn[a];Zn[a++]=null;var d=Zn[a];Zn[a++]=null;var p=Zn[a];if(Zn[a++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}p!==0&&Bg(s,d,p)}}function lu(t,a,s,l){Zn[Gs++]=t,Zn[Gs++]=a,Zn[Gs++]=s,Zn[Gs++]=l,kf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function jf(t,a,s,l){return lu(t,a,s,l),cu(t)}function ns(t,a){return lu(t,null,null,a),cu(t)}function Bg(t,a,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var d=!1,p=t.return;p!==null;)p.childLanes|=s,l=p.alternate,l!==null&&(l.childLanes|=s),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(d=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,d&&a!==null&&(d=31-Nt(s),t=p.hiddenUpdates,l=t[d],l===null?t[d]=[a]:l.push(a),a.lane=s|536870912),p):null}function cu(t){if(50<zl)throw zl=0,Fh=null,Error(r(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Qs={};function ZA(t,a,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,a,s,l){return new ZA(t,a,s,l)}function Pf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ci(t,a){var s=t.alternate;return s===null?(s=Ln(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Hg(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function uu(t,a,s,l,d,p){var v=0;if(l=t,typeof t=="function")Pf(t)&&(v=1);else if(typeof t=="string")v=aS(t,s,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case O:return t=Ln(31,s,a,d),t.elementType=O,t.lanes=p,t;case L:return as(s.children,d,p,a);case Q:v=8,d|=24;break;case ie:return t=Ln(12,s,a,d|2),t.elementType=ie,t.lanes=p,t;case ue:return t=Ln(13,s,a,d),t.elementType=ue,t.lanes=p,t;case ge:return t=Ln(19,s,a,d),t.elementType=ge,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:v=10;break e;case q:v=9;break e;case pe:v=11;break e;case I:v=14;break e;case C:v=16,l=null;break e}v=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return a=Ln(v,s,a,d),a.elementType=t,a.type=l,a.lanes=p,a}function as(t,a,s,l){return t=Ln(7,t,l,a),t.lanes=s,t}function Vf(t,a,s){return t=Ln(6,t,null,a),t.lanes=s,t}function qg(t){var a=Ln(18,null,null,0);return a.stateNode=t,a}function Lf(t,a,s){return a=Ln(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var Fg=new WeakMap;function Wn(t,a){if(typeof t=="object"&&t!==null){var s=Fg.get(t);return s!==void 0?s:(a={value:t,source:a,stack:U(a)},Fg.set(t,a),a)}return{value:t,source:a,stack:U(a)}}var Ks=[],Ys=0,du=null,bl=0,ea=[],ta=0,Yi=null,Fa=1,Ga="";function ui(t,a){Ks[Ys++]=bl,Ks[Ys++]=du,du=t,bl=a}function Gg(t,a,s){ea[ta++]=Fa,ea[ta++]=Ga,ea[ta++]=Yi,Yi=t;var l=Fa;t=Ga;var d=32-Nt(l)-1;l&=~(1<<d),s+=1;var p=32-Nt(a)+d;if(30<p){var v=d-d%5;p=(l&(1<<v)-1).toString(32),l>>=v,d-=v,Fa=1<<32-Nt(a)+d|s<<d|l,Ga=p+t}else Fa=1<<p|s<<d|l,Ga=t}function zf(t){t.return!==null&&(ui(t,1),Gg(t,1,0))}function Uf(t){for(;t===du;)du=Ks[--Ys],Ks[Ys]=null,bl=Ks[--Ys],Ks[Ys]=null;for(;t===Yi;)Yi=ea[--ta],ea[ta]=null,Ga=ea[--ta],ea[ta]=null,Fa=ea[--ta],ea[ta]=null}function Qg(t,a){ea[ta++]=Fa,ea[ta++]=Ga,ea[ta++]=Yi,Fa=a.id,Ga=a.overflow,Yi=t}var tn=null,yt=null,Ze=!1,$i=null,na=!1,Bf=Error(r(519));function Xi(t){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(Wn(a,t)),Bf}function Kg(t){var a=t.stateNode,s=t.type,l=t.memoizedProps;switch(a[kt]=t,a[Yt]=l,s){case"dialog":Fe("cancel",a),Fe("close",a);break;case"iframe":case"object":case"embed":Fe("load",a);break;case"video":case"audio":for(s=0;s<Bl.length;s++)Fe(Bl[s],a);break;case"source":Fe("error",a);break;case"img":case"image":case"link":Fe("error",a),Fe("load",a);break;case"details":Fe("toggle",a);break;case"input":Fe("invalid",a),Fc(a,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Fe("invalid",a);break;case"textarea":Fe("invalid",a),Bi(a,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||l.suppressHydrationWarning===!0||ub(a.textContent,s)?(l.popover!=null&&(Fe("beforetoggle",a),Fe("toggle",a)),l.onScroll!=null&&Fe("scroll",a),l.onScrollEnd!=null&&Fe("scrollend",a),l.onClick!=null&&(a.onclick=pa),a=!0):a=!1,a||Xi(t,!0)}function Yg(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 31:case 13:na=!1;return;case 27:case 3:na=!0;return;default:tn=tn.return}}function $s(t){if(t!==tn)return!1;if(!Ze)return Yg(t),Ze=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||rp(t.type,t.memoizedProps)),s=!s),s&&yt&&Xi(t),Yg(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));yt=vb(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));yt=vb(t)}else a===27?(a=yt,ur(t.type)?(t=up,up=null,yt=t):yt=a):yt=tn?ia(t.stateNode.nextSibling):null;return!0}function is(){yt=tn=null,Ze=!1}function Hf(){var t=$i;return t!==null&&(Nn===null?Nn=t:Nn.push.apply(Nn,t),$i=null),t}function vl(t){$i===null?$i=[t]:$i.push(t)}var qf=N(null),rs=null,di=null;function Ji(t,a,s){se(qf,a._currentValue),a._currentValue=s}function fi(t){t._currentValue=qf.current,Y(qf)}function Ff(t,a,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,l!==null&&(l.childLanes|=a)):l!==null&&(l.childLanes&a)!==a&&(l.childLanes|=a),t===s)break;t=t.return}}function Gf(t,a,s,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var p=d.dependencies;if(p!==null){var v=d.child;p=p.firstContext;e:for(;p!==null;){var A=p;p=d;for(var M=0;M<a.length;M++)if(A.context===a[M]){p.lanes|=s,A=p.alternate,A!==null&&(A.lanes|=s),Ff(p.return,s,t),l||(v=null);break e}p=A.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(r(341));v.lanes|=s,p=v.alternate,p!==null&&(p.lanes|=s),Ff(v,s,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Xs(t,a,s,l){t=null;for(var d=a,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var A=d.type;Vn(d.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(d===Ne.current){if(v=d.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ql):t=[Ql])}d=d.return}t!==null&&Gf(a,t,s,l),a.flags|=262144}function fu(t){for(t=t.firstContext;t!==null;){if(!Vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ss(t){rs=t,di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return $g(rs,t)}function hu(t,a){return rs===null&&ss(t),$g(t,a)}function $g(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},di===null){if(t===null)throw Error(r(308));di=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else di=di.next=a;return s}var WA=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},e1=i.unstable_scheduleCallback,t1=i.unstable_NormalPriority,Vt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qf(){return{controller:new WA,data:new Map,refCount:0}}function xl(t){t.refCount--,t.refCount===0&&e1(t1,function(){t.controller.abort()})}var _l=null,Kf=0,Js=0,Zs=null;function n1(t,a){if(_l===null){var s=_l=[];Kf=0,Js=Xh(),Zs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Kf++,a.then(Xg,Xg),a}function Xg(){if(--Kf===0&&_l!==null){Zs!==null&&(Zs.status="fulfilled");var t=_l;_l=null,Js=0,Zs=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function a1(t,a){var s=[],l={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){l.status="fulfilled",l.value=a;for(var d=0;d<s.length;d++)(0,s[d])(a)},function(d){for(l.status="rejected",l.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),l}var Jg=J.S;J.S=function(t,a){ky=Zt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&n1(t,a),Jg!==null&&Jg(t,a)};var os=N(null);function Yf(){var t=os.current;return t!==null?t:pt.pooledCache}function pu(t,a){a===null?se(os,os.current):se(os,a.pool)}function Zg(){var t=Yf();return t===null?null:{parent:Vt._currentValue,pool:t}}var Ws=Error(r(460)),$f=Error(r(474)),mu=Error(r(542)),gu={then:function(){}};function Wg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function e0(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(pa,pa),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,n0(t),t;default:if(typeof a.status=="string")a.then(pa,pa);else{if(t=pt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=a,t.status="pending",t.then(function(l){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=l}},function(l){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=l}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,n0(t),t}throw cs=a,Ws}}function ls(t){try{var a=t._init;return a(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(cs=s,Ws):s}}var cs=null;function t0(){if(cs===null)throw Error(r(459));var t=cs;return cs=null,t}function n0(t){if(t===Ws||t===mu)throw Error(r(483))}var eo=null,El=0;function yu(t){var a=El;return El+=1,eo===null&&(eo=[]),e0(eo,t,a)}function Al(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function bu(t,a){throw a.$$typeof===R?Error(r(525)):(t=Object.prototype.toString.call(a),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function a0(t){function a(z,V){if(t){var F=z.deletions;F===null?(z.deletions=[V],z.flags|=16):F.push(V)}}function s(z,V){if(!t)return null;for(;V!==null;)a(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function d(z,V){return z=ci(z,V),z.index=0,z.sibling=null,z}function p(z,V,F){return z.index=F,t?(F=z.alternate,F!==null?(F=F.index,F<V?(z.flags|=67108866,V):F):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function A(z,V,F,ee){return V===null||V.tag!==6?(V=Vf(F,z.mode,ee),V.return=z,V):(V=d(V,F),V.return=z,V)}function M(z,V,F,ee){var Ae=F.type;return Ae===L?W(z,V,F.props.children,ee,F.key):V!==null&&(V.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===C&&ls(Ae)===V.type)?(V=d(V,F.props),Al(V,F),V.return=z,V):(V=uu(F.type,F.key,F.props,null,z.mode,ee),Al(V,F),V.return=z,V)}function G(z,V,F,ee){return V===null||V.tag!==4||V.stateNode.containerInfo!==F.containerInfo||V.stateNode.implementation!==F.implementation?(V=Lf(F,z.mode,ee),V.return=z,V):(V=d(V,F.children||[]),V.return=z,V)}function W(z,V,F,ee,Ae){return V===null||V.tag!==7?(V=as(F,z.mode,ee,Ae),V.return=z,V):(V=d(V,F),V.return=z,V)}function ae(z,V,F){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Vf(""+V,z.mode,F),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case j:return F=uu(V.type,V.key,V.props,null,z.mode,F),Al(F,V),F.return=z,F;case B:return V=Lf(V,z.mode,F),V.return=z,V;case C:return V=ls(V),ae(z,V,F)}if(De(V)||k(V))return V=as(V,z.mode,F,null),V.return=z,V;if(typeof V.then=="function")return ae(z,yu(V),F);if(V.$$typeof===ne)return ae(z,hu(z,V),F);bu(z,V)}return null}function K(z,V,F,ee){var Ae=V!==null?V.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Ae!==null?null:A(z,V,""+F,ee);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case j:return F.key===Ae?M(z,V,F,ee):null;case B:return F.key===Ae?G(z,V,F,ee):null;case C:return F=ls(F),K(z,V,F,ee)}if(De(F)||k(F))return Ae!==null?null:W(z,V,F,ee,null);if(typeof F.then=="function")return K(z,V,yu(F),ee);if(F.$$typeof===ne)return K(z,V,hu(z,F),ee);bu(z,F)}return null}function X(z,V,F,ee,Ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(F)||null,A(V,z,""+ee,Ae);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case j:return z=z.get(ee.key===null?F:ee.key)||null,M(V,z,ee,Ae);case B:return z=z.get(ee.key===null?F:ee.key)||null,G(V,z,ee,Ae);case C:return ee=ls(ee),X(z,V,F,ee,Ae)}if(De(ee)||k(ee))return z=z.get(F)||null,W(V,z,ee,Ae,null);if(typeof ee.then=="function")return X(z,V,F,yu(ee),Ae);if(ee.$$typeof===ne)return X(z,V,F,hu(V,ee),Ae);bu(V,ee)}return null}function ye(z,V,F,ee){for(var Ae=null,et=null,_e=V,Be=V=0,Ke=null;_e!==null&&Be<F.length;Be++){_e.index>Be?(Ke=_e,_e=null):Ke=_e.sibling;var tt=K(z,_e,F[Be],ee);if(tt===null){_e===null&&(_e=Ke);break}t&&_e&&tt.alternate===null&&a(z,_e),V=p(tt,V,Be),et===null?Ae=tt:et.sibling=tt,et=tt,_e=Ke}if(Be===F.length)return s(z,_e),Ze&&ui(z,Be),Ae;if(_e===null){for(;Be<F.length;Be++)_e=ae(z,F[Be],ee),_e!==null&&(V=p(_e,V,Be),et===null?Ae=_e:et.sibling=_e,et=_e);return Ze&&ui(z,Be),Ae}for(_e=l(_e);Be<F.length;Be++)Ke=X(_e,z,Be,F[Be],ee),Ke!==null&&(t&&Ke.alternate!==null&&_e.delete(Ke.key===null?Be:Ke.key),V=p(Ke,V,Be),et===null?Ae=Ke:et.sibling=Ke,et=Ke);return t&&_e.forEach(function(mr){return a(z,mr)}),Ze&&ui(z,Be),Ae}function Ce(z,V,F,ee){if(F==null)throw Error(r(151));for(var Ae=null,et=null,_e=V,Be=V=0,Ke=null,tt=F.next();_e!==null&&!tt.done;Be++,tt=F.next()){_e.index>Be?(Ke=_e,_e=null):Ke=_e.sibling;var mr=K(z,_e,tt.value,ee);if(mr===null){_e===null&&(_e=Ke);break}t&&_e&&mr.alternate===null&&a(z,_e),V=p(mr,V,Be),et===null?Ae=mr:et.sibling=mr,et=mr,_e=Ke}if(tt.done)return s(z,_e),Ze&&ui(z,Be),Ae;if(_e===null){for(;!tt.done;Be++,tt=F.next())tt=ae(z,tt.value,ee),tt!==null&&(V=p(tt,V,Be),et===null?Ae=tt:et.sibling=tt,et=tt);return Ze&&ui(z,Be),Ae}for(_e=l(_e);!tt.done;Be++,tt=F.next())tt=X(_e,z,Be,tt.value,ee),tt!==null&&(t&&tt.alternate!==null&&_e.delete(tt.key===null?Be:tt.key),V=p(tt,V,Be),et===null?Ae=tt:et.sibling=tt,et=tt);return t&&_e.forEach(function(pS){return a(z,pS)}),Ze&&ui(z,Be),Ae}function ht(z,V,F,ee){if(typeof F=="object"&&F!==null&&F.type===L&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case j:e:{for(var Ae=F.key;V!==null;){if(V.key===Ae){if(Ae=F.type,Ae===L){if(V.tag===7){s(z,V.sibling),ee=d(V,F.props.children),ee.return=z,z=ee;break e}}else if(V.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===C&&ls(Ae)===V.type){s(z,V.sibling),ee=d(V,F.props),Al(ee,F),ee.return=z,z=ee;break e}s(z,V);break}else a(z,V);V=V.sibling}F.type===L?(ee=as(F.props.children,z.mode,ee,F.key),ee.return=z,z=ee):(ee=uu(F.type,F.key,F.props,null,z.mode,ee),Al(ee,F),ee.return=z,z=ee)}return v(z);case B:e:{for(Ae=F.key;V!==null;){if(V.key===Ae)if(V.tag===4&&V.stateNode.containerInfo===F.containerInfo&&V.stateNode.implementation===F.implementation){s(z,V.sibling),ee=d(V,F.children||[]),ee.return=z,z=ee;break e}else{s(z,V);break}else a(z,V);V=V.sibling}ee=Lf(F,z.mode,ee),ee.return=z,z=ee}return v(z);case C:return F=ls(F),ht(z,V,F,ee)}if(De(F))return ye(z,V,F,ee);if(k(F)){if(Ae=k(F),typeof Ae!="function")throw Error(r(150));return F=Ae.call(F),Ce(z,V,F,ee)}if(typeof F.then=="function")return ht(z,V,yu(F),ee);if(F.$$typeof===ne)return ht(z,V,hu(z,F),ee);bu(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,V!==null&&V.tag===6?(s(z,V.sibling),ee=d(V,F),ee.return=z,z=ee):(s(z,V),ee=Vf(F,z.mode,ee),ee.return=z,z=ee),v(z)):s(z,V)}return function(z,V,F,ee){try{El=0;var Ae=ht(z,V,F,ee);return eo=null,Ae}catch(_e){if(_e===Ws||_e===mu)throw _e;var et=Ln(29,_e,null,z.mode);return et.lanes=ee,et.return=z,et}}}var us=a0(!0),i0=a0(!1),Zi=!1;function Xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jf(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function er(t,a,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(rt&2)!==0){var d=l.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),l.pending=a,a=cu(t),Bg(t,null,s),a}return lu(t,l,a,s),cu(t)}function Sl(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var l=a.lanes;l&=t.pendingLanes,s|=l,a.lanes=s,Jo(t,s)}}function Zf(t,a){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var d=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?d=p=v:p=p.next=v,s=s.next}while(s!==null);p===null?d=p=a:p=p.next=a}else d=p=a;s={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var Wf=!1;function Tl(){if(Wf){var t=Zs;if(t!==null)throw t}}function wl(t,a,s,l){Wf=!1;var d=t.updateQueue;Zi=!1;var p=d.firstBaseUpdate,v=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var M=A,G=M.next;M.next=null,v===null?p=G:v.next=G,v=M;var W=t.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==v&&(A===null?W.firstBaseUpdate=G:A.next=G,W.lastBaseUpdate=M))}if(p!==null){var ae=d.baseState;v=0,W=G=M=null,A=p;do{var K=A.lane&-536870913,X=K!==A.lane;if(X?(Qe&K)===K:(l&K)===K){K!==0&&K===Js&&(Wf=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ye=t,Ce=A;K=a;var ht=s;switch(Ce.tag){case 1:if(ye=Ce.payload,typeof ye=="function"){ae=ye.call(ht,ae,K);break e}ae=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ce.payload,K=typeof ye=="function"?ye.call(ht,ae,K):ye,K==null)break e;ae=E({},ae,K);break e;case 2:Zi=!0}}K=A.callback,K!==null&&(t.flags|=64,X&&(t.flags|=8192),X=d.callbacks,X===null?d.callbacks=[K]:X.push(K))}else X={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(G=W=X,M=ae):W=W.next=X,v|=K;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;X=A,A=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);W===null&&(M=ae),d.baseState=M,d.firstBaseUpdate=G,d.lastBaseUpdate=W,p===null&&(d.shared.lanes=0),rr|=v,t.lanes=v,t.memoizedState=ae}}function r0(t,a){if(typeof t!="function")throw Error(r(191,t));t.call(a)}function s0(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)r0(s[t],a)}var to=N(null),vu=N(0);function o0(t,a){t=_i,se(vu,t),se(to,a),_i=t|a.baseLanes}function eh(){se(vu,_i),se(to,to.current)}function th(){_i=vu.current,Y(to),Y(vu)}var zn=N(null),aa=null;function tr(t){var a=t.alternate;se(Ct,Ct.current&1),se(zn,t),aa===null&&(a===null||to.current!==null||a.memoizedState!==null)&&(aa=t)}function nh(t){se(Ct,Ct.current),se(zn,t),aa===null&&(aa=t)}function l0(t){t.tag===22?(se(Ct,Ct.current),se(zn,t),aa===null&&(aa=t)):nr()}function nr(){se(Ct,Ct.current),se(zn,zn.current)}function Un(t){Y(zn),aa===t&&(aa=null),Y(Ct)}var Ct=N(0);function xu(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||lp(s)||cp(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var hi=0,Ue=null,dt=null,Lt=null,_u=!1,no=!1,ds=!1,Eu=0,Nl=0,ao=null,i1=0;function St(){throw Error(r(321))}function ah(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!Vn(t[s],a[s]))return!1;return!0}function ih(t,a,s,l,d,p){return hi=p,Ue=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,J.H=t===null||t.memoizedState===null?G0:vh,ds=!1,p=s(l,d),ds=!1,no&&(p=u0(a,s,l,d)),c0(t),p}function c0(t){J.H=Il;var a=dt!==null&&dt.next!==null;if(hi=0,Lt=dt=Ue=null,_u=!1,Nl=0,ao=null,a)throw Error(r(300));t===null||zt||(t=t.dependencies,t!==null&&fu(t)&&(zt=!0))}function u0(t,a,s,l){Ue=t;var d=0;do{if(no&&(ao=null),Nl=0,no=!1,25<=d)throw Error(r(301));if(d+=1,Lt=dt=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}J.H=Q0,p=a(s,l)}while(no);return p}function r1(){var t=J.H,a=t.useState()[0];return a=typeof a.then=="function"?Rl(a):a,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(Ue.flags|=1024),a}function rh(){var t=Eu!==0;return Eu=0,t}function sh(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function oh(t){if(_u){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}_u=!1}hi=0,Lt=dt=Ue=null,no=!1,Nl=Eu=0,ao=null}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Ue.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function It(){if(dt===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var a=Lt===null?Ue.memoizedState:Lt.next;if(a!==null)Lt=a,dt=t;else{if(t===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Lt===null?Ue.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function Au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(t){var a=Nl;return Nl+=1,ao===null&&(ao=[]),t=e0(ao,t,a),a=Ue,(Lt===null?a.memoizedState:Lt.next)===null&&(a=a.alternate,J.H=a===null||a.memoizedState===null?G0:vh),t}function Su(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rl(t);if(t.$$typeof===ne)return nn(t)}throw Error(r(438,String(t)))}function lh(t){var a=null,s=Ue.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var l=Ue.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(a={data:l.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Au(),Ue.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),l=0;l<t;l++)s[l]=P;return a.index++,s}function pi(t,a){return typeof a=="function"?a(t):a}function Tu(t){var a=It();return ch(a,dt,t)}function ch(t,a,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var d=t.baseQueue,p=l.pending;if(p!==null){if(d!==null){var v=d.next;d.next=p.next,p.next=v}a.baseQueue=d=p,l.pending=null}if(p=t.baseState,d===null)t.memoizedState=p;else{a=d.next;var A=v=null,M=null,G=a,W=!1;do{var ae=G.lane&-536870913;if(ae!==G.lane?(Qe&ae)===ae:(hi&ae)===ae){var K=G.revertLane;if(K===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ae===Js&&(W=!0);else if((hi&K)===K){G=G.next,K===Js&&(W=!0);continue}else ae={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(A=M=ae,v=p):M=M.next=ae,Ue.lanes|=K,rr|=K;ae=G.action,ds&&s(p,ae),p=G.hasEagerState?G.eagerState:s(p,ae)}else K={lane:ae,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(A=M=K,v=p):M=M.next=K,Ue.lanes|=ae,rr|=ae;G=G.next}while(G!==null&&G!==a);if(M===null?v=p:M.next=A,!Vn(p,t.memoizedState)&&(zt=!0,W&&(s=Zs,s!==null)))throw s;t.memoizedState=p,t.baseState=v,t.baseQueue=M,l.lastRenderedState=p}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function uh(t){var a=It(),s=a.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,d=s.pending,p=a.memoizedState;if(d!==null){s.pending=null;var v=d=d.next;do p=t(p,v.action),v=v.next;while(v!==d);Vn(p,a.memoizedState)||(zt=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),s.lastRenderedState=p}return[p,l]}function d0(t,a,s){var l=Ue,d=It(),p=Ze;if(p){if(s===void 0)throw Error(r(407));s=s()}else s=a();var v=!Vn((dt||d).memoizedState,s);if(v&&(d.memoizedState=s,zt=!0),d=d.queue,hh(p0.bind(null,l,d,t),[t]),d.getSnapshot!==a||v||Lt!==null&&Lt.memoizedState.tag&1){if(l.flags|=2048,io(9,{destroy:void 0},h0.bind(null,l,d,s,a),null),pt===null)throw Error(r(349));p||(hi&127)!==0||f0(l,a,s)}return s}function f0(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=Ue.updateQueue,a===null?(a=Au(),Ue.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function h0(t,a,s,l){a.value=s,a.getSnapshot=l,m0(a)&&g0(t)}function p0(t,a,s){return s(function(){m0(a)&&g0(t)})}function m0(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!Vn(t,s)}catch{return!0}}function g0(t){var a=ns(t,2);a!==null&&Rn(a,t,2)}function dh(t){var a=bn();if(typeof t=="function"){var s=t;if(t=s(),ds){Kn(!0);try{s()}finally{Kn(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:t},a}function y0(t,a,s,l){return t.baseState=s,ch(t,dt,typeof l=="function"?l:pi)}function s1(t,a,s,l,d){if(Ru(t))throw Error(r(485));if(t=a.action,t!==null){var p={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};J.T!==null?s(!0):p.isTransition=!1,l(p),s=a.pending,s===null?(p.next=a.pending=p,b0(a,p)):(p.next=s.next,a.pending=s.next=p)}}function b0(t,a){var s=a.action,l=a.payload,d=t.state;if(a.isTransition){var p=J.T,v={};J.T=v;try{var A=s(d,l),M=J.S;M!==null&&M(v,A),v0(t,a,A)}catch(G){fh(t,a,G)}finally{p!==null&&v.types!==null&&(p.types=v.types),J.T=p}}else try{p=s(d,l),v0(t,a,p)}catch(G){fh(t,a,G)}}function v0(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){x0(t,a,l)},function(l){return fh(t,a,l)}):x0(t,a,s)}function x0(t,a,s){a.status="fulfilled",a.value=s,_0(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,b0(t,s)))}function fh(t,a,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do a.status="rejected",a.reason=s,_0(a),a=a.next;while(a!==l)}t.action=null}function _0(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function E0(t,a){return a}function A0(t,a){if(Ze){var s=pt.formState;if(s!==null){e:{var l=Ue;if(Ze){if(yt){t:{for(var d=yt,p=na;d.nodeType!==8;){if(!p){d=null;break t}if(d=ia(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){yt=ia(d.nextSibling),l=d.data==="F!";break e}}Xi(l)}l=!1}l&&(a=s[0])}}return s=bn(),s.memoizedState=s.baseState=a,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:E0,lastRenderedState:a},s.queue=l,s=H0.bind(null,Ue,l),l.dispatch=s,l=dh(!1),p=bh.bind(null,Ue,!1,l.queue),l=bn(),d={state:a,dispatch:null,action:t,pending:null},l.queue=d,s=s1.bind(null,Ue,d,p,s),d.dispatch=s,l.memoizedState=t,[a,s,!1]}function S0(t){var a=It();return T0(a,dt,t)}function T0(t,a,s){if(a=ch(t,a,E0)[0],t=Tu(pi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var l=Rl(a)}catch(v){throw v===Ws?mu:v}else l=a;a=It();var d=a.queue,p=d.dispatch;return s!==a.memoizedState&&(Ue.flags|=2048,io(9,{destroy:void 0},o1.bind(null,d,s),null)),[l,p,t]}function o1(t,a){t.action=a}function w0(t){var a=It(),s=dt;if(s!==null)return T0(a,s,t);It(),a=a.memoizedState,s=It();var l=s.queue.dispatch;return s.memoizedState=t,[a,l,!1]}function io(t,a,s,l){return t={tag:t,create:s,deps:l,inst:a,next:null},a=Ue.updateQueue,a===null&&(a=Au(),Ue.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,a.lastEffect=t),t}function N0(){return It().memoizedState}function wu(t,a,s,l){var d=bn();Ue.flags|=t,d.memoizedState=io(1|a,{destroy:void 0},s,l===void 0?null:l)}function Nu(t,a,s,l){var d=It();l=l===void 0?null:l;var p=d.memoizedState.inst;dt!==null&&l!==null&&ah(l,dt.memoizedState.deps)?d.memoizedState=io(a,p,s,l):(Ue.flags|=t,d.memoizedState=io(1|a,p,s,l))}function R0(t,a){wu(8390656,8,t,a)}function hh(t,a){Nu(2048,8,t,a)}function l1(t){Ue.flags|=4;var a=Ue.updateQueue;if(a===null)a=Au(),Ue.updateQueue=a,a.events=[t];else{var s=a.events;s===null?a.events=[t]:s.push(t)}}function C0(t){var a=It().memoizedState;return l1({ref:a,nextImpl:t}),function(){if((rt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function I0(t,a){return Nu(4,2,t,a)}function O0(t,a){return Nu(4,4,t,a)}function D0(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function M0(t,a,s){s=s!=null?s.concat([t]):null,Nu(4,4,D0.bind(null,a,t),s)}function ph(){}function k0(t,a){var s=It();a=a===void 0?null:a;var l=s.memoizedState;return a!==null&&ah(a,l[1])?l[0]:(s.memoizedState=[t,a],t)}function j0(t,a){var s=It();a=a===void 0?null:a;var l=s.memoizedState;if(a!==null&&ah(a,l[1]))return l[0];if(l=t(),ds){Kn(!0);try{t()}finally{Kn(!1)}}return s.memoizedState=[l,a],l}function mh(t,a,s){return s===void 0||(hi&1073741824)!==0&&(Qe&261930)===0?t.memoizedState=a:(t.memoizedState=s,t=Py(),Ue.lanes|=t,rr|=t,s)}function P0(t,a,s,l){return Vn(s,a)?s:to.current!==null?(t=mh(t,s,l),Vn(t,a)||(zt=!0),t):(hi&42)===0||(hi&1073741824)!==0&&(Qe&261930)===0?(zt=!0,t.memoizedState=s):(t=Py(),Ue.lanes|=t,rr|=t,a)}function V0(t,a,s,l,d){var p=le.p;le.p=p!==0&&8>p?p:8;var v=J.T,A={};J.T=A,bh(t,!1,a,s);try{var M=d(),G=J.S;if(G!==null&&G(A,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var W=a1(M,l);Cl(t,a,W,qn(t))}else Cl(t,a,l,qn(t))}catch(ae){Cl(t,a,{then:function(){},status:"rejected",reason:ae},qn())}finally{le.p=p,v!==null&&A.types!==null&&(v.types=A.types),J.T=v}}function c1(){}function gh(t,a,s,l){if(t.tag!==5)throw Error(r(476));var d=L0(t).queue;V0(t,d,a,xe,s===null?c1:function(){return z0(t),s(l)})}function L0(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:xe},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function z0(t){var a=L0(t);a.next===null&&(a=t.alternate.memoizedState),Cl(t,a.next.queue,{},qn())}function yh(){return nn(Ql)}function U0(){return It().memoizedState}function B0(){return It().memoizedState}function u1(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=qn();t=Wi(s);var l=er(a,t,s);l!==null&&(Rn(l,a,s),Sl(l,a,s)),a={cache:Qf()},t.payload=a;return}a=a.return}}function d1(t,a,s){var l=qn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ru(t)?q0(a,s):(s=jf(t,a,s,l),s!==null&&(Rn(s,t,l),F0(s,a,l)))}function H0(t,a,s){var l=qn();Cl(t,a,s,l)}function Cl(t,a,s,l){var d={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ru(t))q0(a,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var v=a.lastRenderedState,A=p(v,s);if(d.hasEagerState=!0,d.eagerState=A,Vn(A,v))return lu(t,a,d,0),pt===null&&ou(),!1}catch{}if(s=jf(t,a,d,l),s!==null)return Rn(s,t,l),F0(s,a,l),!0}return!1}function bh(t,a,s,l){if(l={lane:2,revertLane:Xh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ru(t)){if(a)throw Error(r(479))}else a=jf(t,s,l,2),a!==null&&Rn(a,t,2)}function Ru(t){var a=t.alternate;return t===Ue||a!==null&&a===Ue}function q0(t,a){no=_u=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function F0(t,a,s){if((s&4194048)!==0){var l=a.lanes;l&=t.pendingLanes,s|=l,a.lanes=s,Jo(t,s)}}var Il={readContext:nn,use:Su,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};Il.useEffectEvent=St;var G0={readContext:nn,use:Su,useCallback:function(t,a){return bn().memoizedState=[t,a===void 0?null:a],t},useContext:nn,useEffect:R0,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,wu(4194308,4,D0.bind(null,a,t),s)},useLayoutEffect:function(t,a){return wu(4194308,4,t,a)},useInsertionEffect:function(t,a){wu(4,2,t,a)},useMemo:function(t,a){var s=bn();a=a===void 0?null:a;var l=t();if(ds){Kn(!0);try{t()}finally{Kn(!1)}}return s.memoizedState=[l,a],l},useReducer:function(t,a,s){var l=bn();if(s!==void 0){var d=s(a);if(ds){Kn(!0);try{s(a)}finally{Kn(!1)}}}else d=a;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=d1.bind(null,Ue,t),[l.memoizedState,t]},useRef:function(t){var a=bn();return t={current:t},a.memoizedState=t},useState:function(t){t=dh(t);var a=t.queue,s=H0.bind(null,Ue,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:ph,useDeferredValue:function(t,a){var s=bn();return mh(s,t,a)},useTransition:function(){var t=dh(!1);return t=V0.bind(null,Ue,t.queue,!0,!1),bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var l=Ue,d=bn();if(Ze){if(s===void 0)throw Error(r(407));s=s()}else{if(s=a(),pt===null)throw Error(r(349));(Qe&127)!==0||f0(l,a,s)}d.memoizedState=s;var p={value:s,getSnapshot:a};return d.queue=p,R0(p0.bind(null,l,p,t),[t]),l.flags|=2048,io(9,{destroy:void 0},h0.bind(null,l,p,s,a),null),s},useId:function(){var t=bn(),a=pt.identifierPrefix;if(Ze){var s=Ga,l=Fa;s=(l&~(1<<32-Nt(l)-1)).toString(32)+s,a="_"+a+"R_"+s,s=Eu++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=i1++,a="_"+a+"r_"+s.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:yh,useFormState:A0,useActionState:A0,useOptimistic:function(t){var a=bn();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=bh.bind(null,Ue,!0,s),s.dispatch=a,[t,a]},useMemoCache:lh,useCacheRefresh:function(){return bn().memoizedState=u1.bind(null,Ue)},useEffectEvent:function(t){var a=bn(),s={impl:t};return a.memoizedState=s,function(){if((rt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},vh={readContext:nn,use:Su,useCallback:k0,useContext:nn,useEffect:hh,useImperativeHandle:M0,useInsertionEffect:I0,useLayoutEffect:O0,useMemo:j0,useReducer:Tu,useRef:N0,useState:function(){return Tu(pi)},useDebugValue:ph,useDeferredValue:function(t,a){var s=It();return P0(s,dt.memoizedState,t,a)},useTransition:function(){var t=Tu(pi)[0],a=It().memoizedState;return[typeof t=="boolean"?t:Rl(t),a]},useSyncExternalStore:d0,useId:U0,useHostTransitionStatus:yh,useFormState:S0,useActionState:S0,useOptimistic:function(t,a){var s=It();return y0(s,dt,t,a)},useMemoCache:lh,useCacheRefresh:B0};vh.useEffectEvent=C0;var Q0={readContext:nn,use:Su,useCallback:k0,useContext:nn,useEffect:hh,useImperativeHandle:M0,useInsertionEffect:I0,useLayoutEffect:O0,useMemo:j0,useReducer:uh,useRef:N0,useState:function(){return uh(pi)},useDebugValue:ph,useDeferredValue:function(t,a){var s=It();return dt===null?mh(s,t,a):P0(s,dt.memoizedState,t,a)},useTransition:function(){var t=uh(pi)[0],a=It().memoizedState;return[typeof t=="boolean"?t:Rl(t),a]},useSyncExternalStore:d0,useId:U0,useHostTransitionStatus:yh,useFormState:w0,useActionState:w0,useOptimistic:function(t,a){var s=It();return dt!==null?y0(s,dt,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:lh,useCacheRefresh:B0};Q0.useEffectEvent=C0;function xh(t,a,s,l){a=t.memoizedState,s=s(l,a),s=s==null?a:E({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var _h={enqueueSetState:function(t,a,s){t=t._reactInternals;var l=qn(),d=Wi(l);d.payload=a,s!=null&&(d.callback=s),a=er(t,d,l),a!==null&&(Rn(a,t,l),Sl(a,t,l))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var l=qn(),d=Wi(l);d.tag=1,d.payload=a,s!=null&&(d.callback=s),a=er(t,d,l),a!==null&&(Rn(a,t,l),Sl(a,t,l))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=qn(),l=Wi(s);l.tag=2,a!=null&&(l.callback=a),a=er(t,l,s),a!==null&&(Rn(a,t,s),Sl(a,t,s))}};function K0(t,a,s,l,d,p,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,p,v):a.prototype&&a.prototype.isPureReactComponent?!gl(s,l)||!gl(d,p):!0}function Y0(t,a,s,l){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,l),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,l),a.state!==t&&_h.enqueueReplaceState(a,a.state,null)}function fs(t,a){var s=a;if("ref"in a){s={};for(var l in a)l!=="ref"&&(s[l]=a[l])}if(t=t.defaultProps){s===a&&(s=E({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}function $0(t){su(t)}function X0(t){console.error(t)}function J0(t){su(t)}function Cu(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(l){setTimeout(function(){throw l})}}function Z0(t,a,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Eh(t,a,s){return s=Wi(s),s.tag=3,s.payload={element:null},s.callback=function(){Cu(t,a)},s}function W0(t){return t=Wi(t),t.tag=3,t}function ey(t,a,s,l){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var p=l.value;t.payload=function(){return d(p)},t.callback=function(){Z0(a,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Z0(a,s,l),typeof d!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function f1(t,a,s,l,d){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(a=s.alternate,a!==null&&Xs(a,s,d,!0),s=zn.current,s!==null){switch(s.tag){case 31:case 13:return aa===null?Bu():s.alternate===null&&Tt===0&&(Tt=3),s.flags&=-257,s.flags|=65536,s.lanes=d,l===gu?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([l]):a.add(l),Kh(t,l,d)),!1;case 22:return s.flags|=65536,l===gu?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([l]):s.add(l)),Kh(t,l,d)),!1}throw Error(r(435,s.tag))}return Kh(t,l,d),Bu(),!1}if(Ze)return a=zn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,l!==Bf&&(t=Error(r(422),{cause:l}),vl(Wn(t,s)))):(l!==Bf&&(a=Error(r(423),{cause:l}),vl(Wn(a,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Wn(l,s),d=Eh(t.stateNode,l,d),Zf(t,d),Tt!==4&&(Tt=2)),!1;var p=Error(r(520),{cause:l});if(p=Wn(p,s),Ll===null?Ll=[p]:Ll.push(p),Tt!==4&&(Tt=2),a===null)return!0;l=Wn(l,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=Eh(s.stateNode,l,t),Zf(s,t),!1;case 1:if(a=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(sr===null||!sr.has(p))))return s.flags|=65536,d&=-d,s.lanes|=d,d=W0(d),ey(d,t,s,l),Zf(s,d),!1}s=s.return}while(s!==null);return!1}var Ah=Error(r(461)),zt=!1;function an(t,a,s,l){a.child=t===null?i0(a,null,s,l):us(a,t.child,s,l)}function ty(t,a,s,l,d){s=s.render;var p=a.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return ss(a),l=ih(t,a,s,v,p,d),A=rh(),t!==null&&!zt?(sh(t,a,d),mi(t,a,d)):(Ze&&A&&zf(a),a.flags|=1,an(t,a,l,d),a.child)}function ny(t,a,s,l,d){if(t===null){var p=s.type;return typeof p=="function"&&!Pf(p)&&p.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=p,ay(t,a,p,l,d)):(t=uu(s.type,null,l,a,a.mode,d),t.ref=a.ref,t.return=a,a.child=t)}if(p=t.child,!Oh(t,d)){var v=p.memoizedProps;if(s=s.compare,s=s!==null?s:gl,s(v,l)&&t.ref===a.ref)return mi(t,a,d)}return a.flags|=1,t=ci(p,l),t.ref=a.ref,t.return=a,a.child=t}function ay(t,a,s,l,d){if(t!==null){var p=t.memoizedProps;if(gl(p,l)&&t.ref===a.ref)if(zt=!1,a.pendingProps=l=p,Oh(t,d))(t.flags&131072)!==0&&(zt=!0);else return a.lanes=t.lanes,mi(t,a,d)}return Sh(t,a,s,l,d)}function iy(t,a,s,l){var d=l.children,p=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|s:s,t!==null){for(l=a.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~p}else l=0,a.child=null;return ry(t,a,p,s,l)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&pu(a,p!==null?p.cachePool:null),p!==null?o0(a,p):eh(),l0(a);else return l=a.lanes=536870912,ry(t,a,p!==null?p.baseLanes|s:s,s,l)}else p!==null?(pu(a,p.cachePool),o0(a,p),nr(),a.memoizedState=null):(t!==null&&pu(a,null),eh(),nr());return an(t,a,d,s),a.child}function Ol(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function ry(t,a,s,l,d){var p=Yf();return p=p===null?null:{parent:Vt._currentValue,pool:p},a.memoizedState={baseLanes:s,cachePool:p},t!==null&&pu(a,null),eh(),l0(a),t!==null&&Xs(t,a,l,!0),a.childLanes=d,null}function Iu(t,a){return a=Du({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function sy(t,a,s){return us(a,t.child,null,s),t=Iu(a,a.pendingProps),t.flags|=2,Un(a),a.memoizedState=null,t}function h1(t,a,s){var l=a.pendingProps,d=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(Ze){if(l.mode==="hidden")return t=Iu(a,l),a.lanes=536870912,Ol(null,t);if(nh(a),(t=yt)?(t=bb(t,na),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Yi!==null?{id:Fa,overflow:Ga}:null,retryLane:536870912,hydrationErrors:null},s=qg(t),s.return=a,a.child=s,tn=a,yt=null)):t=null,t===null)throw Xi(a);return a.lanes=536870912,null}return Iu(a,l)}var p=t.memoizedState;if(p!==null){var v=p.dehydrated;if(nh(a),d)if(a.flags&256)a.flags&=-257,a=sy(t,a,s);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(r(558));else if(zt||Xs(t,a,s,!1),d=(s&t.childLanes)!==0,zt||d){if(l=pt,l!==null&&(v=Zo(l,s),v!==0&&v!==p.retryLane))throw p.retryLane=v,ns(t,v),Rn(l,t,v),Ah;Bu(),a=sy(t,a,s)}else t=p.treeContext,yt=ia(v.nextSibling),tn=a,Ze=!0,$i=null,na=!1,t!==null&&Qg(a,t),a=Iu(a,l),a.flags|=4096;return a}return t=ci(t.child,{mode:l.mode,children:l.children}),t.ref=a.ref,a.child=t,t.return=a,t}function Ou(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function Sh(t,a,s,l,d){return ss(a),s=ih(t,a,s,l,void 0,d),l=rh(),t!==null&&!zt?(sh(t,a,d),mi(t,a,d)):(Ze&&l&&zf(a),a.flags|=1,an(t,a,s,d),a.child)}function oy(t,a,s,l,d,p){return ss(a),a.updateQueue=null,s=u0(a,l,s,d),c0(t),l=rh(),t!==null&&!zt?(sh(t,a,p),mi(t,a,p)):(Ze&&l&&zf(a),a.flags|=1,an(t,a,s,p),a.child)}function ly(t,a,s,l,d){if(ss(a),a.stateNode===null){var p=Qs,v=s.contextType;typeof v=="object"&&v!==null&&(p=nn(v)),p=new s(l,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=_h,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=l,p.state=a.memoizedState,p.refs={},Xf(a),v=s.contextType,p.context=typeof v=="object"&&v!==null?nn(v):Qs,p.state=a.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(xh(a,s,v,l),p.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&_h.enqueueReplaceState(p,p.state,null),wl(a,l,p,d),Tl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),l=!0}else if(t===null){p=a.stateNode;var A=a.memoizedProps,M=fs(s,A);p.props=M;var G=p.context,W=s.contextType;v=Qs,typeof W=="object"&&W!==null&&(v=nn(W));var ae=s.getDerivedStateFromProps;W=typeof ae=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,W||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||G!==v)&&Y0(a,p,l,v),Zi=!1;var K=a.memoizedState;p.state=K,wl(a,l,p,d),Tl(),G=a.memoizedState,A||K!==G||Zi?(typeof ae=="function"&&(xh(a,s,ae,l),G=a.memoizedState),(M=Zi||K0(a,s,M,l,K,G,v))?(W||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=l,a.memoizedState=G),p.props=l,p.state=G,p.context=v,l=M):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),l=!1)}else{p=a.stateNode,Jf(t,a),v=a.memoizedProps,W=fs(s,v),p.props=W,ae=a.pendingProps,K=p.context,G=s.contextType,M=Qs,typeof G=="object"&&G!==null&&(M=nn(G)),A=s.getDerivedStateFromProps,(G=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==ae||K!==M)&&Y0(a,p,l,M),Zi=!1,K=a.memoizedState,p.state=K,wl(a,l,p,d),Tl();var X=a.memoizedState;v!==ae||K!==X||Zi||t!==null&&t.dependencies!==null&&fu(t.dependencies)?(typeof A=="function"&&(xh(a,s,A,l),X=a.memoizedState),(W=Zi||K0(a,s,W,l,K,X,M)||t!==null&&t.dependencies!==null&&fu(t.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,X,M),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,X,M)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(a.flags|=1024),a.memoizedProps=l,a.memoizedState=X),p.props=l,p.state=X,p.context=M,l=W):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(a.flags|=1024),l=!1)}return p=l,Ou(t,a),l=(a.flags&128)!==0,p||l?(p=a.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,t!==null&&l?(a.child=us(a,t.child,null,d),a.child=us(a,null,s,d)):an(t,a,s,d),a.memoizedState=p.state,t=a.child):t=mi(t,a,d),t}function cy(t,a,s,l){return is(),a.flags|=256,an(t,a,s,l),a.child}var Th={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wh(t){return{baseLanes:t,cachePool:Zg()}}function Nh(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=Hn),t}function uy(t,a,s){var l=a.pendingProps,d=!1,p=(a.flags&128)!==0,v;if((v=p)||(v=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),v&&(d=!0,a.flags&=-129),v=(a.flags&32)!==0,a.flags&=-33,t===null){if(Ze){if(d?tr(a):nr(),(t=yt)?(t=bb(t,na),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Yi!==null?{id:Fa,overflow:Ga}:null,retryLane:536870912,hydrationErrors:null},s=qg(t),s.return=a,a.child=s,tn=a,yt=null)):t=null,t===null)throw Xi(a);return cp(t)?a.lanes=32:a.lanes=536870912,null}var A=l.children;return l=l.fallback,d?(nr(),d=a.mode,A=Du({mode:"hidden",children:A},d),l=as(l,d,s,null),A.return=a,l.return=a,A.sibling=l,a.child=A,l=a.child,l.memoizedState=wh(s),l.childLanes=Nh(t,v,s),a.memoizedState=Th,Ol(null,l)):(tr(a),Rh(a,A))}var M=t.memoizedState;if(M!==null&&(A=M.dehydrated,A!==null)){if(p)a.flags&256?(tr(a),a.flags&=-257,a=Ch(t,a,s)):a.memoizedState!==null?(nr(),a.child=t.child,a.flags|=128,a=null):(nr(),A=l.fallback,d=a.mode,l=Du({mode:"visible",children:l.children},d),A=as(A,d,s,null),A.flags|=2,l.return=a,A.return=a,l.sibling=A,a.child=l,us(a,t.child,null,s),l=a.child,l.memoizedState=wh(s),l.childLanes=Nh(t,v,s),a.memoizedState=Th,a=Ol(null,l));else if(tr(a),cp(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var G=v.dgst;v=G,l=Error(r(419)),l.stack="",l.digest=v,vl({value:l,source:null,stack:null}),a=Ch(t,a,s)}else if(zt||Xs(t,a,s,!1),v=(s&t.childLanes)!==0,zt||v){if(v=pt,v!==null&&(l=Zo(v,s),l!==0&&l!==M.retryLane))throw M.retryLane=l,ns(t,l),Rn(v,t,l),Ah;lp(A)||Bu(),a=Ch(t,a,s)}else lp(A)?(a.flags|=192,a.child=t.child,a=null):(t=M.treeContext,yt=ia(A.nextSibling),tn=a,Ze=!0,$i=null,na=!1,t!==null&&Qg(a,t),a=Rh(a,l.children),a.flags|=4096);return a}return d?(nr(),A=l.fallback,d=a.mode,M=t.child,G=M.sibling,l=ci(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,G!==null?A=ci(G,A):(A=as(A,d,s,null),A.flags|=2),A.return=a,l.return=a,l.sibling=A,a.child=l,Ol(null,l),l=a.child,A=t.child.memoizedState,A===null?A=wh(s):(d=A.cachePool,d!==null?(M=Vt._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=Zg(),A={baseLanes:A.baseLanes|s,cachePool:d}),l.memoizedState=A,l.childLanes=Nh(t,v,s),a.memoizedState=Th,Ol(t.child,l)):(tr(a),s=t.child,t=s.sibling,s=ci(s,{mode:"visible",children:l.children}),s.return=a,s.sibling=null,t!==null&&(v=a.deletions,v===null?(a.deletions=[t],a.flags|=16):v.push(t)),a.child=s,a.memoizedState=null,s)}function Rh(t,a){return a=Du({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Du(t,a){return t=Ln(22,t,null,a),t.lanes=0,t}function Ch(t,a,s){return us(a,t.child,null,s),t=Rh(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function dy(t,a,s){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a),Ff(t.return,a,s)}function Ih(t,a,s,l,d,p){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:d,treeForkCount:p}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=s,v.tailMode=d,v.treeForkCount=p)}function fy(t,a,s){var l=a.pendingProps,d=l.revealOrder,p=l.tail;l=l.children;var v=Ct.current,A=(v&2)!==0;if(A?(v=v&1|2,a.flags|=128):v&=1,se(Ct,v),an(t,a,l,s),l=Ze?bl:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dy(t,s,a);else if(t.tag===19)dy(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(s=a.child,d=null;s!==null;)t=s.alternate,t!==null&&xu(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=a.child,a.child=null):(d=s.sibling,s.sibling=null),Ih(a,!1,d,s,p,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,d=a.child,a.child=null;d!==null;){if(t=d.alternate,t!==null&&xu(t)===null){a.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}Ih(a,!0,s,null,p,l);break;case"together":Ih(a,!1,null,null,void 0,l);break;default:a.memoizedState=null}return a.child}function mi(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),rr|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(Xs(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(r(153));if(a.child!==null){for(t=a.child,s=ci(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=ci(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function Oh(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&fu(t)))}function p1(t,a,s){switch(a.tag){case 3:Ge(a,a.stateNode.containerInfo),Ji(a,Vt,t.memoizedState.cache),is();break;case 27:case 5:mt(a);break;case 4:Ge(a,a.stateNode.containerInfo);break;case 10:Ji(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,nh(a),null;break;case 13:var l=a.memoizedState;if(l!==null)return l.dehydrated!==null?(tr(a),a.flags|=128,null):(s&a.child.childLanes)!==0?uy(t,a,s):(tr(a),t=mi(t,a,s),t!==null?t.sibling:null);tr(a);break;case 19:var d=(t.flags&128)!==0;if(l=(s&a.childLanes)!==0,l||(Xs(t,a,s,!1),l=(s&a.childLanes)!==0),d){if(l)return fy(t,a,s);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),se(Ct,Ct.current),l)break;return null;case 22:return a.lanes=0,iy(t,a,s,a.pendingProps);case 24:Ji(a,Vt,t.memoizedState.cache)}return mi(t,a,s)}function hy(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)zt=!0;else{if(!Oh(t,s)&&(a.flags&128)===0)return zt=!1,p1(t,a,s);zt=(t.flags&131072)!==0}else zt=!1,Ze&&(a.flags&1048576)!==0&&Gg(a,bl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var l=a.pendingProps;if(t=ls(a.elementType),a.type=t,typeof t=="function")Pf(t)?(l=fs(t,l),a.tag=1,a=ly(null,a,t,l,s)):(a.tag=0,a=Sh(null,a,t,l,s));else{if(t!=null){var d=t.$$typeof;if(d===pe){a.tag=11,a=ty(null,a,t,l,s);break e}else if(d===I){a.tag=14,a=ny(null,a,t,l,s);break e}}throw a=Te(t)||t,Error(r(306,a,""))}}return a;case 0:return Sh(t,a,a.type,a.pendingProps,s);case 1:return l=a.type,d=fs(l,a.pendingProps),ly(t,a,l,d,s);case 3:e:{if(Ge(a,a.stateNode.containerInfo),t===null)throw Error(r(387));l=a.pendingProps;var p=a.memoizedState;d=p.element,Jf(t,a),wl(a,l,null,s);var v=a.memoizedState;if(l=v.cache,Ji(a,Vt,l),l!==p.cache&&Gf(a,[Vt],s,!0),Tl(),l=v.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:v.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=cy(t,a,l,s);break e}else if(l!==d){d=Wn(Error(r(424)),a),vl(d),a=cy(t,a,l,s);break e}else for(t=a.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,yt=ia(t.firstChild),tn=a,Ze=!0,$i=null,na=!0,s=i0(a,null,l,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(is(),l===d){a=mi(t,a,s);break e}an(t,a,l,s)}a=a.child}return a;case 26:return Ou(t,a),t===null?(s=Sb(a.type,null,a.pendingProps,null))?a.memoizedState=s:Ze||(s=a.type,t=a.pendingProps,l=Yu(ve.current).createElement(s),l[kt]=a,l[Yt]=t,rn(l,s,t),jt(l),a.stateNode=l):a.memoizedState=Sb(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return mt(a),t===null&&Ze&&(l=a.stateNode=_b(a.type,a.pendingProps,ve.current),tn=a,na=!0,d=yt,ur(a.type)?(up=d,yt=ia(l.firstChild)):yt=d),an(t,a,a.pendingProps.children,s),Ou(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&Ze&&((d=l=yt)&&(l=F1(l,a.type,a.pendingProps,na),l!==null?(a.stateNode=l,tn=a,yt=ia(l.firstChild),na=!1,d=!0):d=!1),d||Xi(a)),mt(a),d=a.type,p=a.pendingProps,v=t!==null?t.memoizedProps:null,l=p.children,rp(d,p)?l=null:v!==null&&rp(d,v)&&(a.flags|=32),a.memoizedState!==null&&(d=ih(t,a,r1,null,null,s),Ql._currentValue=d),Ou(t,a),an(t,a,l,s),a.child;case 6:return t===null&&Ze&&((t=s=yt)&&(s=G1(s,a.pendingProps,na),s!==null?(a.stateNode=s,tn=a,yt=null,t=!0):t=!1),t||Xi(a)),null;case 13:return uy(t,a,s);case 4:return Ge(a,a.stateNode.containerInfo),l=a.pendingProps,t===null?a.child=us(a,null,l,s):an(t,a,l,s),a.child;case 11:return ty(t,a,a.type,a.pendingProps,s);case 7:return an(t,a,a.pendingProps,s),a.child;case 8:return an(t,a,a.pendingProps.children,s),a.child;case 12:return an(t,a,a.pendingProps.children,s),a.child;case 10:return l=a.pendingProps,Ji(a,a.type,l.value),an(t,a,l.children,s),a.child;case 9:return d=a.type._context,l=a.pendingProps.children,ss(a),d=nn(d),l=l(d),a.flags|=1,an(t,a,l,s),a.child;case 14:return ny(t,a,a.type,a.pendingProps,s);case 15:return ay(t,a,a.type,a.pendingProps,s);case 19:return fy(t,a,s);case 31:return h1(t,a,s);case 22:return iy(t,a,s,a.pendingProps);case 24:return ss(a),l=nn(Vt),t===null?(d=Yf(),d===null&&(d=pt,p=Qf(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=s),d=p),a.memoizedState={parent:l,cache:d},Xf(a),Ji(a,Vt,d)):((t.lanes&s)!==0&&(Jf(t,a),wl(a,null,null,s),Tl()),d=t.memoizedState,p=a.memoizedState,d.parent!==l?(d={parent:l,cache:l},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),Ji(a,Vt,l)):(l=p.cache,Ji(a,Vt,l),l!==d.cache&&Gf(a,[Vt],s,!0))),an(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function gi(t){t.flags|=4}function Dh(t,a,s,l,d){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(Uy())t.flags|=8192;else throw cs=gu,$f}else t.flags&=-16777217}function py(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cb(a))if(Uy())t.flags|=8192;else throw cs=gu,$f}function Mu(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?zc():536870912,t.lanes|=a,lo|=a)}function Dl(t,a){if(!Ze)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function bt(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(a)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=s,a}function m1(t,a,s){var l=a.pendingProps;switch(Uf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(a),null;case 1:return bt(a),null;case 3:return s=a.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),fi(Vt),ke(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&($s(a)?gi(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Hf())),bt(a),null;case 26:var d=a.type,p=a.memoizedState;return t===null?(gi(a),p!==null?(bt(a),py(a,p)):(bt(a),Dh(a,d,null,l,s))):p?p!==t.memoizedState?(gi(a),bt(a),py(a,p)):(bt(a),a.flags&=-16777217):(t=t.memoizedProps,t!==l&&gi(a),bt(a),Dh(a,d,t,l,s)),null;case 27:if(cn(a),s=ve.current,d=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==l&&gi(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return bt(a),null}t=oe.current,$s(a)?Kg(a):(t=_b(d,l,s),a.stateNode=t,gi(a))}return bt(a),null;case 5:if(cn(a),d=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==l&&gi(a);else{if(!l){if(a.stateNode===null)throw Error(r(166));return bt(a),null}if(p=oe.current,$s(a))Kg(a);else{var v=Yu(ve.current);switch(p){case 1:p=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=v.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}p[kt]=a,p[Yt]=l;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)p.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=p;e:switch(rn(p,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&gi(a)}}return bt(a),Dh(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,s),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==l&&gi(a);else{if(typeof l!="string"&&a.stateNode===null)throw Error(r(166));if(t=ve.current,$s(a)){if(t=a.stateNode,s=a.memoizedProps,l=null,d=tn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[kt]=a,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||ub(t.nodeValue,s)),t||Xi(a,!0)}else t=Yu(t).createTextNode(l),t[kt]=a,a.stateNode=t}return bt(a),null;case 31:if(s=a.memoizedState,t===null||t.memoizedState!==null){if(l=$s(a),s!==null){if(t===null){if(!l)throw Error(r(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[kt]=a}else is(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;bt(a),t=!1}else s=Hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return a.flags&256?(Un(a),a):(Un(a),null);if((a.flags&128)!==0)throw Error(r(558))}return bt(a),null;case 13:if(l=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=$s(a),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[kt]=a}else is(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;bt(a),d=!1}else d=Hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(Un(a),a):(Un(a),null)}return Un(a),(a.flags&128)!==0?(a.lanes=s,a):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=a.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048)),s!==t&&s&&(a.child.flags|=8192),Mu(a,a.updateQueue),bt(a),null);case 4:return ke(),t===null&&ep(a.stateNode.containerInfo),bt(a),null;case 10:return fi(a.type),bt(a),null;case 19:if(Y(Ct),l=a.memoizedState,l===null)return bt(a),null;if(d=(a.flags&128)!==0,p=l.rendering,p===null)if(d)Dl(l,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(p=xu(t),p!==null){for(a.flags|=128,Dl(l,!1),t=p.updateQueue,a.updateQueue=t,Mu(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)Hg(s,t),s=s.sibling;return se(Ct,Ct.current&1|2),Ze&&ui(a,l.treeForkCount),a.child}t=t.sibling}l.tail!==null&&Zt()>Lu&&(a.flags|=128,d=!0,Dl(l,!1),a.lanes=4194304)}else{if(!d)if(t=xu(p),t!==null){if(a.flags|=128,d=!0,t=t.updateQueue,a.updateQueue=t,Mu(a,t),Dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!Ze)return bt(a),null}else 2*Zt()-l.renderingStartTime>Lu&&s!==536870912&&(a.flags|=128,d=!0,Dl(l,!1),a.lanes=4194304);l.isBackwards?(p.sibling=a.child,a.child=p):(t=l.last,t!==null?t.sibling=p:a.child=p,l.last=p)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Zt(),t.sibling=null,s=Ct.current,se(Ct,d?s&1|2:s&1),Ze&&ui(a,l.treeForkCount),t):(bt(a),null);case 22:case 23:return Un(a),th(),l=a.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(a.flags|=8192):l&&(a.flags|=8192),l?(s&536870912)!==0&&(a.flags&128)===0&&(bt(a),a.subtreeFlags&6&&(a.flags|=8192)):bt(a),s=a.updateQueue,s!==null&&Mu(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),l!==s&&(a.flags|=2048),t!==null&&Y(os),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),fi(Vt),bt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function g1(t,a){switch(Uf(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return fi(Vt),ke(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return cn(a),null;case 31:if(a.memoizedState!==null){if(Un(a),a.alternate===null)throw Error(r(340));is()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(Un(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(r(340));is()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return Y(Ct),null;case 4:return ke(),null;case 10:return fi(a.type),null;case 22:case 23:return Un(a),th(),t!==null&&Y(os),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return fi(Vt),null;case 25:return null;default:return null}}function my(t,a){switch(Uf(a),a.tag){case 3:fi(Vt),ke();break;case 26:case 27:case 5:cn(a);break;case 4:ke();break;case 31:a.memoizedState!==null&&Un(a);break;case 13:Un(a);break;case 19:Y(Ct);break;case 10:fi(a.type);break;case 22:case 23:Un(a),th(),t!==null&&Y(os);break;case 24:fi(Vt)}}function Ml(t,a){try{var s=a.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var d=l.next;s=d;do{if((s.tag&t)===t){l=void 0;var p=s.create,v=s.inst;l=p(),v.destroy=l}s=s.next}while(s!==d)}}catch(A){ct(a,a.return,A)}}function ar(t,a,s){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var p=d.next;l=p;do{if((l.tag&t)===t){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,d=a;var M=s,G=A;try{G()}catch(W){ct(d,M,W)}}}l=l.next}while(l!==p)}}catch(W){ct(a,a.return,W)}}function gy(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{s0(a,s)}catch(l){ct(t,t.return,l)}}}function yy(t,a,s){s.props=fs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){ct(t,a,l)}}function kl(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(d){ct(t,a,d)}}function Qa(t,a){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(d){ct(t,a,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){ct(t,a,d)}else s.current=null}function by(t){var a=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(d){ct(t,t.return,d)}}function Mh(t,a,s){try{var l=t.stateNode;L1(l,t.type,s,a),l[Yt]=a}catch(d){ct(t,t.return,d)}}function vy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ur(t.type)||t.tag===4}function kh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ur(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jh(t,a,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=pa));else if(l!==4&&(l===27&&ur(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(jh(t,a,s),t=t.sibling;t!==null;)jh(t,a,s),t=t.sibling}function ku(t,a,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(l!==4&&(l===27&&ur(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ku(t,a,s),t=t.sibling;t!==null;)ku(t,a,s),t=t.sibling}function xy(t){var a=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);rn(a,l,s),a[kt]=t,a[Yt]=s}catch(p){ct(t,t.return,p)}}var yi=!1,Ut=!1,Ph=!1,_y=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function y1(t,a){if(t=t.containerInfo,ap=td,t=Mg(t),Cf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var d=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var v=0,A=-1,M=-1,G=0,W=0,ae=t,K=null;t:for(;;){for(var X;ae!==s||d!==0&&ae.nodeType!==3||(A=v+d),ae!==p||l!==0&&ae.nodeType!==3||(M=v+l),ae.nodeType===3&&(v+=ae.nodeValue.length),(X=ae.firstChild)!==null;)K=ae,ae=X;for(;;){if(ae===t)break t;if(K===s&&++G===d&&(A=v),K===p&&++W===l&&(M=v),(X=ae.nextSibling)!==null)break;ae=K,K=ae.parentNode}ae=X}s=A===-1||M===-1?null:{start:A,end:M}}else s=null}s=s||{start:0,end:0}}else s=null;for(ip={focusedElem:t,selectionRange:s},td=!1,Xt=a;Xt!==null;)if(a=Xt,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Xt=t;else for(;Xt!==null;){switch(a=Xt,p=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)d=t[s],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,s=a,d=p.memoizedProps,p=p.memoizedState,l=s.stateNode;try{var ye=fs(s.type,d);t=l.getSnapshotBeforeUpdate(ye,p),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ce){ct(s,s.return,Ce)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)op(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":op(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=a.sibling,t!==null){t.return=a.return,Xt=t;break}Xt=a.return}}function Ey(t,a,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:vi(t,s),l&4&&Ml(5,s);break;case 1:if(vi(t,s),l&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(v){ct(s,s.return,v)}else{var d=fs(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(d,a,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ct(s,s.return,v)}}l&64&&gy(s),l&512&&kl(s,s.return);break;case 3:if(vi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{s0(t,a)}catch(v){ct(s,s.return,v)}}break;case 27:a===null&&l&4&&xy(s);case 26:case 5:vi(t,s),a===null&&l&4&&by(s),l&512&&kl(s,s.return);break;case 12:vi(t,s);break;case 31:vi(t,s),l&4&&Ty(t,s);break;case 13:vi(t,s),l&4&&wy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=w1.bind(null,s),Q1(t,s))));break;case 22:if(l=s.memoizedState!==null||yi,!l){a=a!==null&&a.memoizedState!==null||Ut,d=yi;var p=Ut;yi=l,(Ut=a)&&!p?xi(t,s,(s.subtreeFlags&8772)!==0):vi(t,s),yi=d,Ut=p}break;case 30:break;default:vi(t,s)}}function Ay(t){var a=t.alternate;a!==null&&(t.alternate=null,Ay(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Ds(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,Sn=!1;function bi(t,a,s){for(s=s.child;s!==null;)Sy(t,a,s),s=s.sibling}function Sy(t,a,s){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(ua,s)}catch{}switch(s.tag){case 26:Ut||Qa(s,a),bi(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ut||Qa(s,a);var l=_t,d=Sn;ur(s.type)&&(_t=s.stateNode,Sn=!1),bi(t,a,s),ql(s.stateNode),_t=l,Sn=d;break;case 5:Ut||Qa(s,a);case 6:if(l=_t,d=Sn,_t=null,bi(t,a,s),_t=l,Sn=d,_t!==null)if(Sn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(s.stateNode)}catch(p){ct(s,a,p)}else try{_t.removeChild(s.stateNode)}catch(p){ct(s,a,p)}break;case 18:_t!==null&&(Sn?(t=_t,gb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),yo(t)):gb(_t,s.stateNode));break;case 4:l=_t,d=Sn,_t=s.stateNode.containerInfo,Sn=!0,bi(t,a,s),_t=l,Sn=d;break;case 0:case 11:case 14:case 15:ar(2,s,a),Ut||ar(4,s,a),bi(t,a,s);break;case 1:Ut||(Qa(s,a),l=s.stateNode,typeof l.componentWillUnmount=="function"&&yy(s,a,l)),bi(t,a,s);break;case 21:bi(t,a,s);break;case 22:Ut=(l=Ut)||s.memoizedState!==null,bi(t,a,s),Ut=l;break;default:bi(t,a,s)}}function Ty(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{yo(t)}catch(s){ct(a,a.return,s)}}}function wy(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yo(t)}catch(s){ct(a,a.return,s)}}function b1(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new _y),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new _y),a;default:throw Error(r(435,t.tag))}}function ju(t,a){var s=b1(t);a.forEach(function(l){if(!s.has(l)){s.add(l);var d=N1.bind(null,t,l);l.then(d,d)}})}function Tn(t,a){var s=a.deletions;if(s!==null)for(var l=0;l<s.length;l++){var d=s[l],p=t,v=a,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(ur(A.type)){_t=A.stateNode,Sn=!1;break e}break;case 5:_t=A.stateNode,Sn=!1;break e;case 3:case 4:_t=A.stateNode.containerInfo,Sn=!0;break e}A=A.return}if(_t===null)throw Error(r(160));Sy(p,v,d),_t=null,Sn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Ny(a,t),a=a.sibling}var xa=null;function Ny(t,a){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(a,t),wn(t),l&4&&(ar(3,t,t.return),Ml(3,t),ar(5,t,t.return));break;case 1:Tn(a,t),wn(t),l&512&&(Ut||s===null||Qa(s,s.return)),l&64&&yi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var d=xa;if(Tn(a,t),wn(t),l&512&&(Ut||s===null||Qa(s,s.return)),l&4){var p=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Da]||p[kt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(l),d.head.insertBefore(p,d.querySelector("head > title"))),rn(p,l,s),p[kt]=t,jt(p),l=p;break e;case"link":var v=Nb("link","href",d).get(l+(s.href||""));if(v){for(var A=0;A<v.length;A++)if(p=v[A],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(A,1);break t}}p=d.createElement(l),rn(p,l,s),d.head.appendChild(p);break;case"meta":if(v=Nb("meta","content",d).get(l+(s.content||""))){for(A=0;A<v.length;A++)if(p=v[A],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(A,1);break t}}p=d.createElement(l),rn(p,l,s),d.head.appendChild(p);break;default:throw Error(r(468,l))}p[kt]=t,jt(p),l=p}t.stateNode=l}else Rb(d,t.type,t.stateNode);else t.stateNode=wb(d,l,t.memoizedProps);else p!==l?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,l===null?Rb(d,t.type,t.stateNode):wb(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Mh(t,t.memoizedProps,s.memoizedProps)}break;case 27:Tn(a,t),wn(t),l&512&&(Ut||s===null||Qa(s,s.return)),s!==null&&l&4&&Mh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Tn(a,t),wn(t),l&512&&(Ut||s===null||Qa(s,s.return)),t.flags&32){d=t.stateNode;try{An(d,"")}catch(ye){ct(t,t.return,ye)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Mh(t,d,s!==null?s.memoizedProps:d)),l&1024&&(Ph=!0);break;case 6:if(Tn(a,t),wn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ye){ct(t,t.return,ye)}}break;case 3:if(Ju=null,d=xa,xa=$u(a.containerInfo),Tn(a,t),xa=d,wn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{yo(a.containerInfo)}catch(ye){ct(t,t.return,ye)}Ph&&(Ph=!1,Ry(t));break;case 4:l=xa,xa=$u(t.stateNode.containerInfo),Tn(a,t),wn(t),xa=l;break;case 12:Tn(a,t),wn(t);break;case 31:Tn(a,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ju(t,l)));break;case 13:Tn(a,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Vu=Zt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ju(t,l)));break;case 22:d=t.memoizedState!==null;var M=s!==null&&s.memoizedState!==null,G=yi,W=Ut;if(yi=G||d,Ut=W||M,Tn(a,t),Ut=W,yi=G,wn(t),l&8192)e:for(a=t.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(s===null||M||yi||Ut||hs(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){M=s=a;try{if(p=M.stateNode,d)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=M.stateNode;var ae=M.memoizedProps.style,K=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ye){ct(M,M.return,ye)}}}else if(a.tag===6){if(s===null){M=a;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(ye){ct(M,M.return,ye)}}}else if(a.tag===18){if(s===null){M=a;try{var X=M.stateNode;d?yb(X,!0):yb(M.stateNode,!1)}catch(ye){ct(M,M.return,ye)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,ju(t,s))));break;case 19:Tn(a,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ju(t,l)));break;case 30:break;case 21:break;default:Tn(a,t),wn(t)}}function wn(t){var a=t.flags;if(a&2){try{for(var s,l=t.return;l!==null;){if(vy(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var d=s.stateNode,p=kh(t);ku(t,p,d);break;case 5:var v=s.stateNode;s.flags&32&&(An(v,""),s.flags&=-33);var A=kh(t);ku(t,A,v);break;case 3:case 4:var M=s.stateNode.containerInfo,G=kh(t);jh(t,G,M);break;default:throw Error(r(161))}}catch(W){ct(t,t.return,W)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Ry(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;Ry(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function vi(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Ey(t,a.alternate,a),a=a.sibling}function hs(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:ar(4,a,a.return),hs(a);break;case 1:Qa(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&yy(a,a.return,s),hs(a);break;case 27:ql(a.stateNode);case 26:case 5:Qa(a,a.return),hs(a);break;case 22:a.memoizedState===null&&hs(a);break;case 30:hs(a);break;default:hs(a)}t=t.sibling}}function xi(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var l=a.alternate,d=t,p=a,v=p.flags;switch(p.tag){case 0:case 11:case 15:xi(d,p,s),Ml(4,p);break;case 1:if(xi(d,p,s),l=p,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(G){ct(l,l.return,G)}if(l=p,d=l.updateQueue,d!==null){var A=l.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)r0(M[d],A)}catch(G){ct(l,l.return,G)}}s&&v&64&&gy(p),kl(p,p.return);break;case 27:xy(p);case 26:case 5:xi(d,p,s),s&&l===null&&v&4&&by(p),kl(p,p.return);break;case 12:xi(d,p,s);break;case 31:xi(d,p,s),s&&v&4&&Ty(d,p);break;case 13:xi(d,p,s),s&&v&4&&wy(d,p);break;case 22:p.memoizedState===null&&xi(d,p,s),kl(p,p.return);break;case 30:break;default:xi(d,p,s)}a=a.sibling}}function Vh(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&xl(s))}function Lh(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&xl(t))}function _a(t,a,s,l){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Cy(t,a,s,l),a=a.sibling}function Cy(t,a,s,l){var d=a.flags;switch(a.tag){case 0:case 11:case 15:_a(t,a,s,l),d&2048&&Ml(9,a);break;case 1:_a(t,a,s,l);break;case 3:_a(t,a,s,l),d&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&xl(t)));break;case 12:if(d&2048){_a(t,a,s,l),t=a.stateNode;try{var p=a.memoizedProps,v=p.id,A=p.onPostCommit;typeof A=="function"&&A(v,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){ct(a,a.return,M)}}else _a(t,a,s,l);break;case 31:_a(t,a,s,l);break;case 13:_a(t,a,s,l);break;case 23:break;case 22:p=a.stateNode,v=a.alternate,a.memoizedState!==null?p._visibility&2?_a(t,a,s,l):jl(t,a):p._visibility&2?_a(t,a,s,l):(p._visibility|=2,ro(t,a,s,l,(a.subtreeFlags&10256)!==0||!1)),d&2048&&Vh(v,a);break;case 24:_a(t,a,s,l),d&2048&&Lh(a.alternate,a);break;default:_a(t,a,s,l)}}function ro(t,a,s,l,d){for(d=d&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=t,v=a,A=s,M=l,G=v.flags;switch(v.tag){case 0:case 11:case 15:ro(p,v,A,M,d),Ml(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?ro(p,v,A,M,d):jl(p,v):(W._visibility|=2,ro(p,v,A,M,d)),d&&G&2048&&Vh(v.alternate,v);break;case 24:ro(p,v,A,M,d),d&&G&2048&&Lh(v.alternate,v);break;default:ro(p,v,A,M,d)}a=a.sibling}}function jl(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,l=a,d=l.flags;switch(l.tag){case 22:jl(s,l),d&2048&&Vh(l.alternate,l);break;case 24:jl(s,l),d&2048&&Lh(l.alternate,l);break;default:jl(s,l)}a=a.sibling}}var Pl=8192;function so(t,a,s){if(t.subtreeFlags&Pl)for(t=t.child;t!==null;)Iy(t,a,s),t=t.sibling}function Iy(t,a,s){switch(t.tag){case 26:so(t,a,s),t.flags&Pl&&t.memoizedState!==null&&iS(s,xa,t.memoizedState,t.memoizedProps);break;case 5:so(t,a,s);break;case 3:case 4:var l=xa;xa=$u(t.stateNode.containerInfo),so(t,a,s),xa=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Pl,Pl=16777216,so(t,a,s),Pl=l):so(t,a,s));break;default:so(t,a,s)}}function Oy(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Vl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];Xt=l,My(l,t)}Oy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dy(t),t=t.sibling}function Dy(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&ar(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Pu(t)):Vl(t);break;default:Vl(t)}}function Pu(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var l=a[s];Xt=l,My(l,t)}Oy(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:ar(8,a,a.return),Pu(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,Pu(a));break;default:Pu(a)}t=t.sibling}}function My(t,a){for(;Xt!==null;){var s=Xt;switch(s.tag){case 0:case 11:case 15:ar(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Xt=l;else e:for(s=t;Xt!==null;){l=Xt;var d=l.sibling,p=l.return;if(Ay(l),l===s){Xt=null;break e}if(d!==null){d.return=p,Xt=d;break e}Xt=p}}}var v1={getCacheForType:function(t){var a=nn(Vt),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s},cacheSignal:function(){return nn(Vt).controller.signal}},x1=typeof WeakMap=="function"?WeakMap:Map,rt=0,pt=null,qe=null,Qe=0,lt=0,Bn=null,ir=!1,oo=!1,zh=!1,_i=0,Tt=0,rr=0,ps=0,Uh=0,Hn=0,lo=0,Ll=null,Nn=null,Bh=!1,Vu=0,ky=0,Lu=1/0,zu=null,sr=null,Ft=0,or=null,co=null,Ei=0,Hh=0,qh=null,jy=null,zl=0,Fh=null;function qn(){return(rt&2)!==0&&Qe!==0?Qe&-Qe:J.T!==null?Xh():Uc()}function Py(){if(Hn===0)if((Qe&536870912)===0||Ze){var t=Br;Br<<=1,(Br&3932160)===0&&(Br=262144),Hn=t}else Hn=536870912;return t=zn.current,t!==null&&(t.flags|=32),Hn}function Rn(t,a,s){(t===pt&&(lt===2||lt===9)||t.cancelPendingCommit!==null)&&(uo(t,0),lr(t,Qe,Hn,!1)),Hr(t,s),((rt&2)===0||t!==pt)&&(t===pt&&((rt&2)===0&&(ps|=s),Tt===4&&lr(t,Qe,Hn,!1)),Ka(t))}function Vy(t,a,s){if((rt&6)!==0)throw Error(r(327));var l=!s&&(a&127)===0&&(a&t.expiredLanes)===0||da(t,a),d=l?A1(t,a):Qh(t,a,!0),p=l;do{if(d===0){oo&&!l&&lr(t,a,0,!1);break}else{if(s=t.current.alternate,p&&!_1(s)){d=Qh(t,a,!1),p=!1;continue}if(d===2){if(p=a,t.errorRecoveryDisabledLanes&p)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){a=v;e:{var A=t;d=Ll;var M=A.current.memoizedState.isDehydrated;if(M&&(uo(A,v).flags|=256),v=Qh(A,v,!1),v!==2){if(zh&&!M){A.errorRecoveryDisabledLanes|=p,ps|=p,d=4;break e}p=Nn,Nn=d,p!==null&&(Nn===null?Nn=p:Nn.push.apply(Nn,p))}d=v}if(p=!1,d!==2)continue}}if(d===1){uo(t,0),lr(t,a,0,!0);break}e:{switch(l=t,p=d,p){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:lr(l,a,Hn,!ir);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(d=Vu+300-Zt(),10<d)){if(lr(l,a,Hn,!ir),Ca(l,0,!0)!==0)break e;Ei=a,l.timeoutHandle=pb(Ly.bind(null,l,s,Nn,zu,Bh,a,Hn,ps,lo,ir,p,"Throttled",-0,0),d);break e}Ly(l,s,Nn,zu,Bh,a,Hn,ps,lo,ir,p,null,-0,0)}}break}while(!0);Ka(t)}function Ly(t,a,s,l,d,p,v,A,M,G,W,ae,K,X){if(t.timeoutHandle=-1,ae=a.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pa},Iy(a,p,ae);var ye=(p&62914560)===p?Vu-Zt():(p&4194048)===p?ky-Zt():0;if(ye=rS(ae,ye),ye!==null){Ei=p,t.cancelPendingCommit=ye(Qy.bind(null,t,a,p,s,l,d,v,A,M,W,ae,null,K,X)),lr(t,p,v,!G);return}}Qy(t,a,p,s,l,d,v,A,M)}function _1(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var d=s[l],p=d.getSnapshot;d=d.value;try{if(!Vn(p(),d))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function lr(t,a,s,l){a&=~Uh,a&=~ps,t.suspendedLanes|=a,t.pingedLanes&=~a,l&&(t.warmLanes|=a),l=t.expirationTimes;for(var d=a;0<d;){var p=31-Nt(d),v=1<<p;l[p]=-1,d&=~v}s!==0&&qr(t,s,a)}function Uu(){return(rt&6)===0?(Ul(0),!1):!0}function Gh(){if(qe!==null){if(lt===0)var t=qe.return;else t=qe,di=rs=null,oh(t),eo=null,El=0,t=qe;for(;t!==null;)my(t.alternate,t),t=t.return;qe=null}}function uo(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,B1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ei=0,Gh(),pt=t,qe=s=ci(t.current,null),Qe=a,lt=0,Bn=null,ir=!1,oo=da(t,a),zh=!1,lo=Hn=Uh=ps=rr=Tt=0,Nn=Ll=null,Bh=!1,(a&8)!==0&&(a|=a&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=a;0<l;){var d=31-Nt(l),p=1<<d;a|=t[d],l&=~p}return _i=a,ou(),s}function zy(t,a){Ue=null,J.H=Il,a===Ws||a===mu?(a=t0(),lt=3):a===$f?(a=t0(),lt=4):lt=a===Ah?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Bn=a,qe===null&&(Tt=1,Cu(t,Wn(a,t.current)))}function Uy(){var t=zn.current;return t===null?!0:(Qe&4194048)===Qe?aa===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?t===aa:!1}function By(){var t=J.H;return J.H=Il,t===null?Il:t}function Hy(){var t=J.A;return J.A=v1,t}function Bu(){Tt=4,ir||(Qe&4194048)!==Qe&&zn.current!==null||(oo=!0),(rr&134217727)===0&&(ps&134217727)===0||pt===null||lr(pt,Qe,Hn,!1)}function Qh(t,a,s){var l=rt;rt|=2;var d=By(),p=Hy();(pt!==t||Qe!==a)&&(zu=null,uo(t,a)),a=!1;var v=Tt;e:do try{if(lt!==0&&qe!==null){var A=qe,M=Bn;switch(lt){case 8:Gh(),v=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(a=!0);var G=lt;if(lt=0,Bn=null,fo(t,A,M,G),s&&oo){v=0;break e}break;default:G=lt,lt=0,Bn=null,fo(t,A,M,G)}}E1(),v=Tt;break}catch(W){zy(t,W)}while(!0);return a&&t.shellSuspendCounter++,di=rs=null,rt=l,J.H=d,J.A=p,qe===null&&(pt=null,Qe=0,ou()),v}function E1(){for(;qe!==null;)qy(qe)}function A1(t,a){var s=rt;rt|=2;var l=By(),d=Hy();pt!==t||Qe!==a?(zu=null,Lu=Zt()+500,uo(t,a)):oo=da(t,a);e:do try{if(lt!==0&&qe!==null){a=qe;var p=Bn;t:switch(lt){case 1:lt=0,Bn=null,fo(t,a,p,1);break;case 2:case 9:if(Wg(p)){lt=0,Bn=null,Fy(a);break}a=function(){lt!==2&&lt!==9||pt!==t||(lt=7),Ka(t)},p.then(a,a);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:Wg(p)?(lt=0,Bn=null,Fy(a)):(lt=0,Bn=null,fo(t,a,p,7));break;case 5:var v=null;switch(qe.tag){case 26:v=qe.memoizedState;case 5:case 27:var A=qe;if(v?Cb(v):A.stateNode.complete){lt=0,Bn=null;var M=A.sibling;if(M!==null)qe=M;else{var G=A.return;G!==null?(qe=G,Hu(G)):qe=null}break t}}lt=0,Bn=null,fo(t,a,p,5);break;case 6:lt=0,Bn=null,fo(t,a,p,6);break;case 8:Gh(),Tt=6;break e;default:throw Error(r(462))}}S1();break}catch(W){zy(t,W)}while(!0);return di=rs=null,J.H=l,J.A=d,rt=s,qe!==null?0:(pt=null,Qe=0,ou(),Tt)}function S1(){for(;qe!==null&&!xn();)qy(qe)}function qy(t){var a=hy(t.alternate,t,_i);t.memoizedProps=t.pendingProps,a===null?Hu(t):qe=a}function Fy(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=oy(s,a,a.pendingProps,a.type,void 0,Qe);break;case 11:a=oy(s,a,a.pendingProps,a.type.render,a.ref,Qe);break;case 5:oh(a);default:my(s,a),a=qe=Hg(a,_i),a=hy(s,a,_i)}t.memoizedProps=t.pendingProps,a===null?Hu(t):qe=a}function fo(t,a,s,l){di=rs=null,oh(a),eo=null,El=0;var d=a.return;try{if(f1(t,d,a,s,Qe)){Tt=1,Cu(t,Wn(s,t.current)),qe=null;return}}catch(p){if(d!==null)throw qe=d,p;Tt=1,Cu(t,Wn(s,t.current)),qe=null;return}a.flags&32768?(Ze||l===1?t=!0:oo||(Qe&536870912)!==0?t=!1:(ir=t=!0,(l===2||l===9||l===3||l===6)&&(l=zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gy(a,t)):Hu(a)}function Hu(t){var a=t;do{if((a.flags&32768)!==0){Gy(a,ir);return}t=a.return;var s=m1(a.alternate,a,_i);if(s!==null){qe=s;return}if(a=a.sibling,a!==null){qe=a;return}qe=a=t}while(a!==null);Tt===0&&(Tt=5)}function Gy(t,a){do{var s=g1(t.alternate,t);if(s!==null){s.flags&=32767,qe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){qe=t;return}qe=t=s}while(t!==null);Tt=6,qe=null}function Qy(t,a,s,l,d,p,v,A,M){t.cancelPendingCommit=null;do qu();while(Ft!==0);if((rt&6)!==0)throw Error(r(327));if(a!==null){if(a===t.current)throw Error(r(177));if(p=a.lanes|a.childLanes,p|=kf,Tf(t,s,p,v,A,M),t===pt&&(qe=pt=null,Qe=0),co=a,or=t,Ei=s,Hh=p,qh=d,jy=l,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,R1(dn,function(){return Jy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,d=le.p,le.p=2,v=rt,rt|=4;try{y1(t,a,s)}finally{rt=v,le.p=d,J.T=l}}Ft=1,Ky(),Yy(),$y()}}function Ky(){if(Ft===1){Ft=0;var t=or,a=co,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=J.T,J.T=null;var l=le.p;le.p=2;var d=rt;rt|=4;try{Ny(a,t);var p=ip,v=Mg(t.containerInfo),A=p.focusedElem,M=p.selectionRange;if(v!==A&&A&&A.ownerDocument&&Dg(A.ownerDocument.documentElement,A)){if(M!==null&&Cf(A)){var G=M.start,W=M.end;if(W===void 0&&(W=G),"selectionStart"in A)A.selectionStart=G,A.selectionEnd=Math.min(W,A.value.length);else{var ae=A.ownerDocument||document,K=ae&&ae.defaultView||window;if(K.getSelection){var X=K.getSelection(),ye=A.textContent.length,Ce=Math.min(M.start,ye),ht=M.end===void 0?Ce:Math.min(M.end,ye);!X.extend&&Ce>ht&&(v=ht,ht=Ce,Ce=v);var z=Og(A,Ce),V=Og(A,ht);if(z&&V&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==V.node||X.focusOffset!==V.offset)){var F=ae.createRange();F.setStart(z.node,z.offset),X.removeAllRanges(),Ce>ht?(X.addRange(F),X.extend(V.node,V.offset)):(F.setEnd(V.node,V.offset),X.addRange(F))}}}}for(ae=[],X=A;X=X.parentNode;)X.nodeType===1&&ae.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ae.length;A++){var ee=ae[A];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}td=!!ap,ip=ap=null}finally{rt=d,le.p=l,J.T=s}}t.current=a,Ft=2}}function Yy(){if(Ft===2){Ft=0;var t=or,a=co,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=J.T,J.T=null;var l=le.p;le.p=2;var d=rt;rt|=4;try{Ey(t,a.alternate,a)}finally{rt=d,le.p=l,J.T=s}}Ft=3}}function $y(){if(Ft===4||Ft===3){Ft=0,kn();var t=or,a=co,s=Ei,l=jy;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ft=5:(Ft=0,co=or=null,Xy(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(sr=null),ri(s),a=a.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(ua,a,void 0,(a.current.flags&128)===128)}catch{}if(l!==null){a=J.T,d=le.p,le.p=2,J.T=null;try{for(var p=t.onRecoverableError,v=0;v<l.length;v++){var A=l[v];p(A.value,{componentStack:A.stack})}}finally{J.T=a,le.p=d}}(Ei&3)!==0&&qu(),Ka(t),d=t.pendingLanes,(s&261930)!==0&&(d&42)!==0?t===Fh?zl++:(zl=0,Fh=t):zl=0,Ul(0)}}function Xy(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,xl(a)))}function qu(){return Ky(),Yy(),$y(),Jy()}function Jy(){if(Ft!==5)return!1;var t=or,a=Hh;Hh=0;var s=ri(Ei),l=J.T,d=le.p;try{le.p=32>s?32:s,J.T=null,s=qh,qh=null;var p=or,v=Ei;if(Ft=0,co=or=null,Ei=0,(rt&6)!==0)throw Error(r(331));var A=rt;if(rt|=4,Dy(p.current),Cy(p,p.current,v,s),rt=A,Ul(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(ua,p)}catch{}return!0}finally{le.p=d,J.T=l,Xy(t,a)}}function Zy(t,a,s){a=Wn(s,a),a=Eh(t.stateNode,a,2),t=er(t,a,2),t!==null&&(Hr(t,2),Ka(t))}function ct(t,a,s){if(t.tag===3)Zy(t,t,s);else for(;a!==null;){if(a.tag===3){Zy(a,t,s);break}else if(a.tag===1){var l=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(sr===null||!sr.has(l))){t=Wn(s,t),s=W0(2),l=er(a,s,2),l!==null&&(ey(s,l,a,t),Hr(l,2),Ka(l));break}}a=a.return}}function Kh(t,a,s){var l=t.pingCache;if(l===null){l=t.pingCache=new x1;var d=new Set;l.set(a,d)}else d=l.get(a),d===void 0&&(d=new Set,l.set(a,d));d.has(s)||(zh=!0,d.add(s),t=T1.bind(null,t,a,s),a.then(t,t))}function T1(t,a,s){var l=t.pingCache;l!==null&&l.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,pt===t&&(Qe&s)===s&&(Tt===4||Tt===3&&(Qe&62914560)===Qe&&300>Zt()-Vu?(rt&2)===0&&uo(t,0):Uh|=s,lo===Qe&&(lo=0)),Ka(t)}function Wy(t,a){a===0&&(a=zc()),t=ns(t,a),t!==null&&(Hr(t,a),Ka(t))}function w1(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),Wy(t,s)}function N1(t,a){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(a),Wy(t,s)}function R1(t,a){return Je(t,a)}var Fu=null,ho=null,Yh=!1,Gu=!1,$h=!1,cr=0;function Ka(t){t!==ho&&t.next===null&&(ho===null?Fu=ho=t:ho=ho.next=t),Gu=!0,Yh||(Yh=!0,I1())}function Ul(t,a){if(!$h&&Gu){$h=!0;do for(var s=!1,l=Fu;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var p=0;else{var v=l.suspendedLanes,A=l.pingedLanes;p=(1<<31-Nt(42|t)+1)-1,p&=d&~(v&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,ab(l,p))}else p=Qe,p=Ca(l,l===pt?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||da(l,p)||(s=!0,ab(l,p));l=l.next}while(s);$h=!1}}function C1(){eb()}function eb(){Gu=Yh=!1;var t=0;cr!==0&&U1()&&(t=cr);for(var a=Zt(),s=null,l=Fu;l!==null;){var d=l.next,p=tb(l,a);p===0?(l.next=null,s===null?Fu=d:s.next=d,d===null&&(ho=s)):(s=l,(t!==0||(p&3)!==0)&&(Gu=!0)),l=d}Ft!==0&&Ft!==5||Ul(t),cr!==0&&(cr=0)}function tb(t,a){for(var s=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var v=31-Nt(p),A=1<<v,M=d[v];M===-1?((A&s)===0||(A&l)!==0)&&(d[v]=Sf(A,a)):M<=a&&(t.expiredLanes|=A),p&=~A}if(a=pt,s=Qe,s=Ca(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===a&&(lt===2||lt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&un(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||da(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(l!==null&&un(l),ri(s)){case 2:case 8:s=zr;break;case 32:s=dn;break;case 268435456:s=Ur;break;default:s=dn}return l=nb.bind(null,t),s=Je(s,l),t.callbackPriority=a,t.callbackNode=s,a}return l!==null&&l!==null&&un(l),t.callbackPriority=2,t.callbackNode=null,2}function nb(t,a){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(qu()&&t.callbackNode!==s)return null;var l=Qe;return l=Ca(t,t===pt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Vy(t,l,a),tb(t,Zt()),t.callbackNode!=null&&t.callbackNode===s?nb.bind(null,t):null)}function ab(t,a){if(qu())return null;Vy(t,a,!0)}function I1(){H1(function(){(rt&6)!==0?Je(Lr,C1):eb()})}function Xh(){if(cr===0){var t=Js;t===0&&(t=Na,Na<<=1,(Na&261888)===0&&(Na=256)),cr=t}return cr}function ib(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ps(""+t)}function rb(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function O1(t,a,s,l,d){if(a==="submit"&&s&&s.stateNode===d){var p=ib((d[Yt]||null).action),v=l.submitter;v&&(a=(a=v[Yt]||null)?ib(a.formAction):v.getAttribute("formAction"),a!==null&&(p=a,v=null));var A=new Ua("action","action",null,l,d);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(cr!==0){var M=v?rb(d,v):new FormData(d);gh(s,{pending:!0,data:M,method:d.method,action:p},null,M)}}else typeof p=="function"&&(A.preventDefault(),M=v?rb(d,v):new FormData(d),gh(s,{pending:!0,data:M,method:d.method,action:p},p,M))},currentTarget:d}]})}}for(var Jh=0;Jh<Mf.length;Jh++){var Zh=Mf[Jh],D1=Zh.toLowerCase(),M1=Zh[0].toUpperCase()+Zh.slice(1);va(D1,"on"+M1)}va(Pg,"onAnimationEnd"),va(Vg,"onAnimationIteration"),va(Lg,"onAnimationStart"),va("dblclick","onDoubleClick"),va("focusin","onFocus"),va("focusout","onBlur"),va($A,"onTransitionRun"),va(XA,"onTransitionStart"),va(JA,"onTransitionCancel"),va(zg,"onTransitionEnd"),Pa("onMouseEnter",["mouseout","mouseover"]),Pa("onMouseLeave",["mouseout","mouseover"]),Pa("onPointerEnter",["pointerout","pointerover"]),Pa("onPointerLeave",["pointerout","pointerover"]),ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ja("onBeforeInput",["compositionend","keypress","textInput","paste"]),ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function sb(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],d=l.event;l=l.listeners;e:{var p=void 0;if(a)for(var v=l.length-1;0<=v;v--){var A=l[v],M=A.instance,G=A.currentTarget;if(A=A.listener,M!==p&&d.isPropagationStopped())break e;p=A,d.currentTarget=G;try{p(d)}catch(W){su(W)}d.currentTarget=null,p=M}else for(v=0;v<l.length;v++){if(A=l[v],M=A.instance,G=A.currentTarget,A=A.listener,M!==p&&d.isPropagationStopped())break e;p=A,d.currentTarget=G;try{p(d)}catch(W){su(W)}d.currentTarget=null,p=M}}}}function Fe(t,a){var s=a[Os];s===void 0&&(s=a[Os]=new Set);var l=t+"__bubble";s.has(l)||(ob(a,t,2,!1),s.add(l))}function Wh(t,a,s){var l=0;a&&(l|=4),ob(s,t,l,a)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function ep(t){if(!t[Qu]){t[Qu]=!0,Wo.forEach(function(s){s!=="selectionchange"&&(k1.has(s)||Wh(s,!1,t),Wh(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Qu]||(a[Qu]=!0,Wh("selectionchange",!1,a))}}function ob(t,a,s,l){switch(Pb(a)){case 2:var d=lS;break;case 8:d=cS;break;default:d=mp}s=d.bind(null,a,s,t),d=void 0,!Yr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(a,s,{capture:!0,passive:d}):t.addEventListener(a,s,!0):d!==void 0?t.addEventListener(a,s,{passive:d}):t.addEventListener(a,s,!1)}function tp(t,a,s,l,d){var p=l;if((a&1)===0&&(a&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===d)break;if(v===4)for(v=l.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;A!==null;){if(v=Ma(A),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){l=p=v;continue e}A=A.parentNode}}l=l.return}Fi(function(){var G=p,W=$n(s),ae=[];e:{var K=Ug.get(t);if(K!==void 0){var X=Ua,ye=t;switch(t){case"keypress":if(Xr(s)===0)break e;case"keydown":case"keyup":X=au;break;case"focusin":ye="focus",X=Zr;break;case"focusout":ye="blur",X=Zr;break;case"beforeblur":case"afterblur":X=Zr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=b;break;case Pg:case Vg:case Lg:X=Xc;break;case zg:X=T;break;case"scroll":case"scrollend":X=dl;break;case"wheel":X=$;break;case"copy":case"cut":case"paste":X=Jc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=li;break;case"toggle":case"beforetoggle":X=ze}var Ce=(a&4)!==0,ht=!Ce&&(t==="scroll"||t==="scrollend"),z=Ce?K!==null?K+"Capture":null:K;Ce=[];for(var V=G,F;V!==null;){var ee=V;if(F=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||F===null||z===null||(ee=ma(V,z),ee!=null&&Ce.push(Hl(V,ee,F))),ht)break;V=V.return}0<Ce.length&&(K=new X(K,ye,null,s,W),ae.push({event:K,listeners:Ce}))}}if((a&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",K&&s!==ll&&(ye=s.relatedTarget||s.fromElement)&&(Ma(ye)||ye[Oa]))break e;if((X||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,X?(ye=s.relatedTarget||s.toElement,X=G,ye=ye?Ma(ye):null,ye!==null&&(ht=c(ye),Ce=ye.tag,ye!==ht||Ce!==5&&Ce!==27&&Ce!==6)&&(ye=null)):(X=null,ye=G),X!==ye)){if(Ce=fl,ee="onMouseLeave",z="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ce=li,ee="onPointerLeave",z="onPointerEnter",V="pointer"),ht=X==null?K:jn(X),F=ye==null?K:jn(ye),K=new Ce(ee,V+"leave",X,s,W),K.target=ht,K.relatedTarget=F,ee=null,Ma(W)===G&&(Ce=new Ce(z,V+"enter",ye,s,W),Ce.target=F,Ce.relatedTarget=ht,ee=Ce),ht=ee,X&&ye)t:{for(Ce=j1,z=X,V=ye,F=0,ee=z;ee;ee=Ce(ee))F++;ee=0;for(var Ae=V;Ae;Ae=Ce(Ae))ee++;for(;0<F-ee;)z=Ce(z),F--;for(;0<ee-F;)V=Ce(V),ee--;for(;F--;){if(z===V||V!==null&&z===V.alternate){Ce=z;break t}z=Ce(z),V=Ce(V)}Ce=null}else Ce=null;X!==null&&lb(ae,K,X,Ce,!1),ye!==null&&ht!==null&&lb(ae,ht,ye,Ce,!0)}}e:{if(K=G?jn(G):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var et=Tg;else if(Ag(K))if(wg)et=QA;else{et=FA;var _e=qA}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&js(G.elementType)&&(et=Tg):et=GA;if(et&&(et=et(t,G))){Sg(ae,et,s,W);break e}_e&&_e(t,K,G),t==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&rl(K,"number",K.value)}switch(_e=G?jn(G):window,t){case"focusin":(Ag(_e)||_e.contentEditable==="true")&&(qs=_e,If=G,yl=null);break;case"focusout":yl=If=qs=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,kg(ae,s,W);break;case"selectionchange":if(YA)break;case"keydown":case"keyup":kg(ae,s,W)}var Be;if(it)e:{switch(t){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Hs?Wr(t,s)&&(Ke="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ke="onCompositionStart");Ke&&(qa&&s.locale!=="ko"&&(Hs||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Hs&&(Be=ul()):(za=W,cl="value"in za?za.value:za.textContent,Hs=!0)),_e=Ku(G,Ke),0<_e.length&&(Ke=new Ha(Ke,t,null,s,W),ae.push({event:Ke,listeners:_e}),Be?Ke.data=Be:(Be=Bs(s),Be!==null&&(Ke.data=Be)))),(Be=Jn?zA(t,s):UA(t,s))&&(Ke=Ku(G,"onBeforeInput"),0<Ke.length&&(_e=new Ha("onBeforeInput","beforeinput",null,s,W),ae.push({event:_e,listeners:Ke}),_e.data=Be)),O1(ae,t,G,s,W)}sb(ae,a)})}function Hl(t,a,s){return{instance:t,listener:a,currentTarget:s}}function Ku(t,a){for(var s=a+"Capture",l=[];t!==null;){var d=t,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=ma(t,s),d!=null&&l.unshift(Hl(t,d,p)),d=ma(t,a),d!=null&&l.push(Hl(t,d,p))),t.tag===3)return l;t=t.return}return[]}function j1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function lb(t,a,s,l,d){for(var p=a._reactName,v=[];s!==null&&s!==l;){var A=s,M=A.alternate,G=A.stateNode;if(A=A.tag,M!==null&&M===l)break;A!==5&&A!==26&&A!==27||G===null||(M=G,d?(G=ma(s,p),G!=null&&v.unshift(Hl(s,G,M))):d||(G=ma(s,p),G!=null&&v.push(Hl(s,G,M)))),s=s.return}v.length!==0&&t.push({event:a,listeners:v})}var P1=/\r\n?/g,V1=/\u0000|\uFFFD/g;function cb(t){return(typeof t=="string"?t:""+t).replace(P1,`
`).replace(V1,"")}function ub(t,a){return a=cb(a),cb(t)===a}function ft(t,a,s,l,d,p){switch(s){case"children":typeof l=="string"?a==="body"||a==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&a!=="body"&&An(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,s,l);break;case"style":ol(t,l,p);break;case"data":if(a!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ps(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(a!=="input"&&ft(t,a,"name",d.name,d,null),ft(t,a,"formEncType",d.formEncType,d,null),ft(t,a,"formMethod",d.formMethod,d,null),ft(t,a,"formTarget",d.formTarget,d,null)):(ft(t,a,"encType",d.encType,d,null),ft(t,a,"method",d.method,d,null),ft(t,a,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ps(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=pa);break;case"onScroll":l!=null&&Fe("scroll",t);break;case"onScrollEnd":l!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ps(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),Ms(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ms(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Kc.get(s)||s,Ms(t,s,l))}}function np(t,a,s,l,d,p){switch(s){case"style":ol(t,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Fe("scroll",t);break;case"onScrollEnd":l!=null&&Fe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=pa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),a=s.slice(2,d?s.length-7:void 0),p=t[Yt]||null,p=p!=null?p[s]:null,typeof p=="function"&&t.removeEventListener(a,p,d),typeof l=="function")){typeof p!="function"&&p!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,l,d);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ms(t,s,l)}}}function rn(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var l=!1,d=!1,p;for(p in s)if(s.hasOwnProperty(p)){var v=s[p];if(v!=null)switch(p){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ft(t,a,p,v,s,null)}}d&&ft(t,a,"srcSet",s.srcSet,s,null),l&&ft(t,a,"src",s.src,s,null);return;case"input":Fe("invalid",t);var A=p=v=d=null,M=null,G=null;for(l in s)if(s.hasOwnProperty(l)){var W=s[l];if(W!=null)switch(l){case"name":d=W;break;case"type":v=W;break;case"checked":M=W;break;case"defaultChecked":G=W;break;case"value":p=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,a));break;default:ft(t,a,l,W,s,null)}}Fc(t,p,A,M,G,v,d,!1);return;case"select":Fe("invalid",t),l=v=p=null;for(d in s)if(s.hasOwnProperty(d)&&(A=s[d],A!=null))switch(d){case"value":p=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:ft(t,a,d,A,s,null)}a=p,s=v,t.multiple=!!l,a!=null?Ui(t,!!l,a,!1):s!=null&&Ui(t,!!l,s,!0);return;case"textarea":Fe("invalid",t),p=d=l=null;for(v in s)if(s.hasOwnProperty(v)&&(A=s[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":d=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:ft(t,a,v,A,s,null)}Bi(t,l,d,p);return;case"option":for(M in s)s.hasOwnProperty(M)&&(l=s[M],l!=null)&&(M==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ft(t,a,M,l,s,null));return;case"dialog":Fe("beforetoggle",t),Fe("toggle",t),Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(l=0;l<Bl.length;l++)Fe(Bl[l],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in s)if(s.hasOwnProperty(G)&&(l=s[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ft(t,a,G,l,s,null)}return;default:if(js(a)){for(W in s)s.hasOwnProperty(W)&&(l=s[W],l!==void 0&&np(t,a,W,l,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(l=s[A],l!=null&&ft(t,a,A,l,s,null))}function L1(t,a,s,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,v=null,A=null,M=null,G=null,W=null;for(X in s){var ae=s[X];if(s.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=ae;default:l.hasOwnProperty(X)||ft(t,a,X,null,l,ae)}}for(var K in l){var X=l[K];if(ae=s[K],l.hasOwnProperty(K)&&(X!=null||ae!=null))switch(K){case"type":p=X;break;case"name":d=X;break;case"checked":G=X;break;case"defaultChecked":W=X;break;case"value":v=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:X!==ae&&ft(t,a,K,X,l,ae)}}ks(t,v,A,M,G,W,p,d);return;case"select":X=v=A=K=null;for(p in s)if(M=s[p],s.hasOwnProperty(p)&&M!=null)switch(p){case"value":break;case"multiple":X=M;default:l.hasOwnProperty(p)||ft(t,a,p,null,l,M)}for(d in l)if(p=l[d],M=s[d],l.hasOwnProperty(d)&&(p!=null||M!=null))switch(d){case"value":K=p;break;case"defaultValue":A=p;break;case"multiple":v=p;default:p!==M&&ft(t,a,d,p,l,M)}a=A,s=v,l=X,K!=null?Ui(t,!!s,K,!1):!!l!=!!s&&(a!=null?Ui(t,!!s,a,!0):Ui(t,!!s,s?[]:"",!1));return;case"textarea":X=K=null;for(A in s)if(d=s[A],s.hasOwnProperty(A)&&d!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ft(t,a,A,null,l,d)}for(v in l)if(d=l[v],p=s[v],l.hasOwnProperty(v)&&(d!=null||p!=null))switch(v){case"value":K=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==p&&ft(t,a,v,d,l,p)}Gc(t,K,X);return;case"option":for(var ye in s)K=s[ye],s.hasOwnProperty(ye)&&K!=null&&!l.hasOwnProperty(ye)&&(ye==="selected"?t.selected=!1:ft(t,a,ye,null,l,K));for(M in l)K=l[M],X=s[M],l.hasOwnProperty(M)&&K!==X&&(K!=null||X!=null)&&(M==="selected"?t.selected=K&&typeof K!="function"&&typeof K!="symbol":ft(t,a,M,K,l,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in s)K=s[Ce],s.hasOwnProperty(Ce)&&K!=null&&!l.hasOwnProperty(Ce)&&ft(t,a,Ce,null,l,K);for(G in l)if(K=l[G],X=s[G],l.hasOwnProperty(G)&&K!==X&&(K!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,a));break;default:ft(t,a,G,K,l,X)}return;default:if(js(a)){for(var ht in s)K=s[ht],s.hasOwnProperty(ht)&&K!==void 0&&!l.hasOwnProperty(ht)&&np(t,a,ht,void 0,l,K);for(W in l)K=l[W],X=s[W],!l.hasOwnProperty(W)||K===X||K===void 0&&X===void 0||np(t,a,W,K,l,X);return}}for(var z in s)K=s[z],s.hasOwnProperty(z)&&K!=null&&!l.hasOwnProperty(z)&&ft(t,a,z,null,l,K);for(ae in l)K=l[ae],X=s[ae],!l.hasOwnProperty(ae)||K===X||K==null&&X==null||ft(t,a,ae,K,l,X)}function db(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var d=s[l],p=d.transferSize,v=d.initiatorType,A=d.duration;if(p&&A&&db(v)){for(v=0,A=d.responseEnd,l+=1;l<s.length;l++){var M=s[l],G=M.startTime;if(G>A)break;var W=M.transferSize,ae=M.initiatorType;W&&db(ae)&&(M=M.responseEnd,v+=W*(M<A?1:(A-G)/(M-G)))}if(--l,a+=8*(p+v)/(d.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ap=null,ip=null;function Yu(t){return t.nodeType===9?t:t.ownerDocument}function fb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hb(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function rp(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var sp=null;function U1(){var t=window.event;return t&&t.type==="popstate"?t===sp?!1:(sp=t,!0):(sp=null,!1)}var pb=typeof setTimeout=="function"?setTimeout:void 0,B1=typeof clearTimeout=="function"?clearTimeout:void 0,mb=typeof Promise=="function"?Promise:void 0,H1=typeof queueMicrotask=="function"?queueMicrotask:typeof mb<"u"?function(t){return mb.resolve(null).then(t).catch(q1)}:pb;function q1(t){setTimeout(function(){throw t})}function ur(t){return t==="head"}function gb(t,a){var s=a,l=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(d),yo(a);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ql(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,ql(s);for(var p=s.firstChild;p;){var v=p.nextSibling,A=p.nodeName;p[Da]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&p.rel.toLowerCase()==="stylesheet"||s.removeChild(p),p=v}}else s==="body"&&ql(t.ownerDocument.body);s=d}while(s);yo(a)}function yb(t,a){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function op(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":op(s),Ds(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function F1(t,a,s,l){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Da])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=ia(t.nextSibling),t===null)break}return null}function G1(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ia(t.nextSibling),t===null))return null;return t}function bb(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ia(t.nextSibling),t===null))return null;return t}function lp(t){return t.data==="$?"||t.data==="$~"}function cp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Q1(t,a){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||s.readyState!=="loading")a();else{var l=function(){a(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ia(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var up=null;function vb(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(a===0)return ia(t.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}t=t.nextSibling}return null}function xb(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return t;a--}else s!=="/$"&&s!=="/&"||a++}t=t.previousSibling}return null}function _b(t,a,s){switch(a=Yu(s),t){case"html":if(t=a.documentElement,!t)throw Error(r(452));return t;case"head":if(t=a.head,!t)throw Error(r(453));return t;case"body":if(t=a.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function ql(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Ds(t)}var ra=new Map,Eb=new Set;function $u(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ai=le.d;le.d={f:K1,r:Y1,D:$1,C:X1,L:J1,m:Z1,X:eS,S:W1,M:tS};function K1(){var t=Ai.f(),a=Uu();return t||a}function Y1(t){var a=Yn(t);a!==null&&a.tag===5&&a.type==="form"?z0(a):Ai.r(t)}var po=typeof document>"u"?null:document;function Ab(t,a,s){var l=po;if(l&&typeof a=="string"&&a){var d=En(a);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),Eb.has(d)||(Eb.add(d),t={rel:t,crossOrigin:s,href:a},l.querySelector(d)===null&&(a=l.createElement("link"),rn(a,"link",t),jt(a),l.head.appendChild(a)))}}function $1(t){Ai.D(t),Ab("dns-prefetch",t,null)}function X1(t,a){Ai.C(t,a),Ab("preconnect",t,a)}function J1(t,a,s){Ai.L(t,a,s);var l=po;if(l&&t&&a){var d='link[rel="preload"][as="'+En(a)+'"]';a==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+En(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+En(s.imageSizes)+'"]')):d+='[href="'+En(t)+'"]';var p=d;switch(a){case"style":p=mo(t);break;case"script":p=go(t)}ra.has(p)||(t=E({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),ra.set(p,t),l.querySelector(d)!==null||a==="style"&&l.querySelector(Fl(p))||a==="script"&&l.querySelector(Gl(p))||(a=l.createElement("link"),rn(a,"link",t),jt(a),l.head.appendChild(a)))}}function Z1(t,a){Ai.m(t,a);var s=po;if(s&&t){var l=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+En(l)+'"][href="'+En(t)+'"]',p=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=go(t)}if(!ra.has(p)&&(t=E({rel:"modulepreload",href:t},a),ra.set(p,t),s.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Gl(p)))return}l=s.createElement("link"),rn(l,"link",t),jt(l),s.head.appendChild(l)}}}function W1(t,a,s){Ai.S(t,a,s);var l=po;if(l&&t){var d=ka(l).hoistableStyles,p=mo(t);a=a||"default";var v=d.get(p);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(Fl(p)))A.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":a},s),(s=ra.get(p))&&dp(t,s);var M=v=l.createElement("link");jt(M),rn(M,"link",t),M._p=new Promise(function(G,W){M.onload=G,M.onerror=W}),M.addEventListener("load",function(){A.loading|=1}),M.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Xu(v,a,l)}v={type:"stylesheet",instance:v,count:1,state:A},d.set(p,v)}}}function eS(t,a){Ai.X(t,a);var s=po;if(s&&t){var l=ka(s).hoistableScripts,d=go(t),p=l.get(d);p||(p=s.querySelector(Gl(d)),p||(t=E({src:t,async:!0},a),(a=ra.get(d))&&fp(t,a),p=s.createElement("script"),jt(p),rn(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function tS(t,a){Ai.M(t,a);var s=po;if(s&&t){var l=ka(s).hoistableScripts,d=go(t),p=l.get(d);p||(p=s.querySelector(Gl(d)),p||(t=E({src:t,async:!0,type:"module"},a),(a=ra.get(d))&&fp(t,a),p=s.createElement("script"),jt(p),rn(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(d,p))}}function Sb(t,a,s,l){var d=(d=ve.current)?$u(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=mo(s.href),s=ka(d).hoistableStyles,l=s.get(a),l||(l={type:"style",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=mo(s.href);var p=ka(d).hoistableStyles,v=p.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,v),(p=d.querySelector(Fl(t)))&&!p._p&&(v.instance=p,v.state.loading=5),ra.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ra.set(t,s),p||nS(d,t,s,v.state))),a&&l===null)throw Error(r(528,""));return v}if(a&&l!==null)throw Error(r(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=go(s),s=ka(d).hoistableScripts,l=s.get(a),l||(l={type:"script",instance:null,count:0,state:null},s.set(a,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function mo(t){return'href="'+En(t)+'"'}function Fl(t){return'link[rel="stylesheet"]['+t+"]"}function Tb(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function nS(t,a,s,l){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=t.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),rn(a,"link",s),jt(a),t.head.appendChild(a))}function go(t){return'[src="'+En(t)+'"]'}function Gl(t){return"script[async]"+t}function wb(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var l=t.querySelector('style[data-href~="'+En(s.href)+'"]');if(l)return a.instance=l,jt(l),l;var d=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),jt(l),rn(l,"style",d),Xu(l,s.precedence,t),a.instance=l;case"stylesheet":d=mo(s.href);var p=t.querySelector(Fl(d));if(p)return a.state.loading|=4,a.instance=p,jt(p),p;l=Tb(s),(d=ra.get(d))&&dp(l,d),p=(t.ownerDocument||t).createElement("link"),jt(p);var v=p;return v._p=new Promise(function(A,M){v.onload=A,v.onerror=M}),rn(p,"link",l),a.state.loading|=4,Xu(p,s.precedence,t),a.instance=p;case"script":return p=go(s.src),(d=t.querySelector(Gl(p)))?(a.instance=d,jt(d),d):(l=s,(d=ra.get(p))&&(l=E({},s),fp(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),jt(d),rn(d,"link",l),t.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(l=a.instance,a.state.loading|=4,Xu(l,s.precedence,t));return a.instance}function Xu(t,a,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,p=d,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===a)p=A;else if(p!==d)break}p?p.parentNode.insertBefore(t,p.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function dp(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function fp(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Ju=null;function Nb(t,a,s){if(Ju===null){var l=new Map,d=Ju=new Map;d.set(s,l)}else d=Ju,l=d.get(s),l||(l=new Map,d.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var p=s[d];if(!(p[Da]||p[kt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(a)||"";v=t+v;var A=l.get(v);A?A.push(p):l.set(v,[p])}}return l}function Rb(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function aS(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(t=a.disabled,typeof a.precedence=="string"&&t==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Cb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function iS(t,a,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=mo(l.href),p=a.querySelector(Fl(d));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=Zu.bind(t),a.then(t,t)),s.state.loading|=4,s.instance=p,jt(p);return}p=a.ownerDocument||a,l=Tb(l),(d=ra.get(d))&&dp(l,d),p=p.createElement("link"),jt(p);var v=p;v._p=new Promise(function(A,M){v.onload=A,v.onerror=M}),rn(p,"link",l),s.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Zu.bind(t),a.addEventListener("load",s),a.addEventListener("error",s))}}var hp=0;function rS(t,a){return t.stylesheets&&t.count===0&&ed(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&ed(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+a);0<t.imgBytes&&hp===0&&(hp=62500*z1());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ed(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>hp?50:800)+a);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Zu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ed(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wu=null;function ed(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wu=new Map,a.forEach(sS,t),Wu=null,Zu.call(t))}function sS(t,a){if(!(a.state.loading&4)){var s=Wu.get(t);if(s)var l=s.get(null);else{s=new Map,Wu.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var v=d[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}d=a.instance,v=d.getAttribute("data-precedence"),p=s.get(v)||l,p===l&&s.set(null,d),s.set(v,d),this.count++,l=Zu.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),p?p.parentNode.insertBefore(d,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),a.state.loading|=4}}var Ql={$$typeof:ne,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function oS(t,a,s,l,d,p,v,A,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.hiddenUpdates=Ia(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Ib(t,a,s,l,d,p,v,A,M,G,W,ae){return t=new oS(t,a,s,v,M,G,W,ae,A),a=1,p===!0&&(a|=24),p=Ln(3,null,null,a),t.current=p,p.stateNode=t,a=Qf(),a.refCount++,t.pooledCache=a,a.refCount++,p.memoizedState={element:l,isDehydrated:s,cache:a},Xf(p),t}function Ob(t){return t?(t=Qs,t):Qs}function Db(t,a,s,l,d,p){d=Ob(d),l.context===null?l.context=d:l.pendingContext=d,l=Wi(a),l.payload={element:s},p=p===void 0?null:p,p!==null&&(l.callback=p),s=er(t,l,a),s!==null&&(Rn(s,t,a),Sl(s,t,a))}function Mb(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function pp(t,a){Mb(t,a),(t=t.alternate)&&Mb(t,a)}function kb(t){if(t.tag===13||t.tag===31){var a=ns(t,67108864);a!==null&&Rn(a,t,67108864),pp(t,67108864)}}function jb(t){if(t.tag===13||t.tag===31){var a=qn();a=Fr(a);var s=ns(t,a);s!==null&&Rn(s,t,a),pp(t,a)}}var td=!0;function lS(t,a,s,l){var d=J.T;J.T=null;var p=le.p;try{le.p=2,mp(t,a,s,l)}finally{le.p=p,J.T=d}}function cS(t,a,s,l){var d=J.T;J.T=null;var p=le.p;try{le.p=8,mp(t,a,s,l)}finally{le.p=p,J.T=d}}function mp(t,a,s,l){if(td){var d=gp(l);if(d===null)tp(t,a,l,nd,s),Vb(t,l);else if(dS(d,t,a,s,l))l.stopPropagation();else if(Vb(t,l),a&4&&-1<uS.indexOf(t)){for(;d!==null;){var p=Yn(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=Ra(p.pendingLanes);if(v!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var M=1<<31-Nt(v);A.entanglements[1]|=M,v&=~M}Ka(p),(rt&6)===0&&(Lu=Zt()+500,Ul(0))}}break;case 31:case 13:A=ns(p,2),A!==null&&Rn(A,p,2),Uu(),pp(p,2)}if(p=gp(l),p===null&&tp(t,a,l,nd,s),p===d)break;d=p}d!==null&&l.stopPropagation()}else tp(t,a,l,null,s)}}function gp(t){return t=$n(t),yp(t)}var nd=null;function yp(t){if(nd=null,t=Ma(t),t!==null){var a=c(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=f(a),t!==null)return t;t=null}else if(s===31){if(t=m(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return nd=t,null}function Pb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ii()){case Lr:return 2;case zr:return 8;case dn:case _n:return 32;case Ur:return 268435456;default:return 32}default:return 32}}var bp=!1,dr=null,fr=null,hr=null,Kl=new Map,Yl=new Map,pr=[],uS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vb(t,a){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":Kl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(a.pointerId)}}function $l(t,a,s,l,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:a,domEventName:s,eventSystemFlags:l,nativeEvent:p,targetContainers:[d]},a!==null&&(a=Yn(a),a!==null&&kb(a)),t):(t.eventSystemFlags|=l,a=t.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),t)}function dS(t,a,s,l,d){switch(a){case"focusin":return dr=$l(dr,t,a,s,l,d),!0;case"dragenter":return fr=$l(fr,t,a,s,l,d),!0;case"mouseover":return hr=$l(hr,t,a,s,l,d),!0;case"pointerover":var p=d.pointerId;return Kl.set(p,$l(Kl.get(p)||null,t,a,s,l,d)),!0;case"gotpointercapture":return p=d.pointerId,Yl.set(p,$l(Yl.get(p)||null,t,a,s,l,d)),!0}return!1}function Lb(t){var a=Ma(t.target);if(a!==null){var s=c(a);if(s!==null){if(a=s.tag,a===13){if(a=f(s),a!==null){t.blockedOn=a,fa(t.priority,function(){jb(s)});return}}else if(a===31){if(a=m(s),a!==null){t.blockedOn=a,fa(t.priority,function(){jb(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ad(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=gp(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);ll=l,s.target.dispatchEvent(l),ll=null}else return a=Yn(s),a!==null&&kb(a),t.blockedOn=s,!1;a.shift()}return!0}function zb(t,a,s){ad(t)&&s.delete(a)}function fS(){bp=!1,dr!==null&&ad(dr)&&(dr=null),fr!==null&&ad(fr)&&(fr=null),hr!==null&&ad(hr)&&(hr=null),Kl.forEach(zb),Yl.forEach(zb)}function id(t,a){t.blockedOn===a&&(t.blockedOn=null,bp||(bp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,fS)))}var rd=null;function Ub(t){rd!==t&&(rd=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){rd===t&&(rd=null);for(var a=0;a<t.length;a+=3){var s=t[a],l=t[a+1],d=t[a+2];if(typeof l!="function"){if(yp(l||s)===null)continue;break}var p=Yn(s);p!==null&&(t.splice(a,3),a-=3,gh(p,{pending:!0,data:d,method:s.method,action:l},l,d))}}))}function yo(t){function a(M){return id(M,t)}dr!==null&&id(dr,t),fr!==null&&id(fr,t),hr!==null&&id(hr,t),Kl.forEach(a),Yl.forEach(a);for(var s=0;s<pr.length;s++){var l=pr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<pr.length&&(s=pr[0],s.blockedOn===null);)Lb(s),s.blockedOn===null&&pr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var d=s[l],p=s[l+1],v=d[Yt]||null;if(typeof p=="function")v||Ub(s);else if(v){var A=null;if(p&&p.hasAttribute("formAction")){if(d=p,v=p[Yt]||null)A=v.formAction;else if(yp(d)!==null)continue}else A=v.action;typeof A=="function"?s[l+1]=A:(s.splice(l,3),l-=3),Ub(s)}}}function Bb(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function a(){d!==null&&(d(),d=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),d!==null&&(d(),d=null)}}}function vp(t){this._internalRoot=t}sd.prototype.render=vp.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(r(409));var s=a.current,l=qn();Db(s,l,t,a,null,null)},sd.prototype.unmount=vp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Db(t.current,2,null,t,null,null),Uu(),a[Oa]=null}};function sd(t){this._internalRoot=t}sd.prototype.unstable_scheduleHydration=function(t){if(t){var a=Uc();t={blockedOn:null,target:t,priority:a};for(var s=0;s<pr.length&&a!==0&&a<pr[s].priority;s++);pr.splice(s,0,t),s===0&&Lb(t)}};var Hb=e.version;if(Hb!=="19.2.4")throw Error(r(527,Hb,"19.2.4"));le.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(a),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var hS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{ua=od.inject(hS),Wt=od}catch{}}return Jl.createRoot=function(t,a){if(!o(t))throw Error(r(299));var s=!1,l="",d=$0,p=X0,v=J0;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(l=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=Ib(t,1,!1,null,null,s,l,null,d,p,v,Bb),t[Oa]=a.current,ep(t),new vp(a)},Jl.hydrateRoot=function(t,a,s){if(!o(t))throw Error(r(299));var l=!1,d="",p=$0,v=X0,A=J0,M=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.formState!==void 0&&(M=s.formState)),a=Ib(t,1,!0,a,s??null,l,d,M,p,v,A,Bb),a.context=Ob(null),s=a.current,l=qn(),l=Fr(l),d=Wi(l),d.callback=null,er(s,d,l),s=l,a.current.lanes=s,Hr(a,s),Ka(a),t[Oa]=a.current,ep(t),new sd(a)},Jl.version="19.2.4",Jl}var Zb;function SS(){if(Zb)return Ep.exports;Zb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ep.exports=AS(),Ep.exports}var TS=SS();const wS=Vx(TS);var Wb="popstate";function NS(i={}){function e(o,c){let{pathname:f="/",search:m="",hash:g=""}=ws(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Bp("",{pathname:f,search:m,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof c=="string"?c:hc(c))}function r(o,c){ca(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return CS(e,n,r,i)}function Et(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ca(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RS(){return Math.random().toString(36).substring(2,10)}function ev(i,e){return{usr:i.state,key:i.key,idx:e}}function Bp(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ws(e):e,state:n,key:e&&e.key||r||RS()}}function hc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ws(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function CS(i,e,n,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,f=o.history,m="POP",g=null,y=_();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function _(){return(f.state||{idx:null}).idx}function E(){m="POP";let Q=_(),ie=Q==null?null:Q-y;y=Q,g&&g({action:m,location:L.location,delta:ie})}function R(Q,ie){m="PUSH";let q=Bp(L.location,Q,ie);n&&n(q,Q),y=_()+1;let ne=ev(q,y),pe=L.createHref(q);try{f.pushState(ne,"",pe)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(pe)}c&&g&&g({action:m,location:L.location,delta:1})}function j(Q,ie){m="REPLACE";let q=Bp(L.location,Q,ie);n&&n(q,Q),y=_();let ne=ev(q,y),pe=L.createHref(q);f.replaceState(ne,"",pe),c&&g&&g({action:m,location:L.location,delta:0})}function B(Q){return IS(Q)}let L={get action(){return m},get location(){return i(o,f)},listen(Q){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Wb,E),g=Q,()=>{o.removeEventListener(Wb,E),g=null}},createHref(Q){return e(o,Q)},createURL:B,encodeLocation(Q){let ie=B(Q);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:R,replace:j,go(Q){return f.go(Q)}};return L}function IS(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:hc(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Lx(i,e,n="/"){return OS(i,e,n,!1)}function OS(i,e,n,r){let o=typeof e=="string"?ws(e):e,c=Ci(o.pathname||"/",n);if(c==null)return null;let f=zx(i);DS(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=qS(c);m=BS(f[g],y,r)}return m}function zx(i,e=[],n=[],r="",o=!1){let c=(f,m,g=o,y)=>{let _={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&g)return;Et(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let E=wi([r,_.relativePath]),R=n.concat(_);f.children&&f.children.length>0&&(Et(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),zx(f.children,e,R,E,g)),!(f.path==null&&!f.index)&&e.push({path:E,score:zS(E,f.index),routesMeta:R})};return i.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))c(f,m);else for(let g of Ux(f.path))c(f,m,!0,g)}),e}function Ux(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let f=Ux(r.join("/")),m=[];return m.push(...f.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function DS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:US(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var MS=/^:[\w-]+$/,kS=3,jS=2,PS=1,VS=10,LS=-2,tv=i=>i==="*";function zS(i,e){let n=i.split("/"),r=n.length;return n.some(tv)&&(r+=LS),e&&(r+=jS),n.filter(o=>!tv(o)).reduce((o,c)=>o+(MS.test(c)?kS:c===""?PS:VS),r)}function US(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function BS(i,e,n=!1){let{routesMeta:r}=i,o={},c="/",f=[];for(let m=0;m<r.length;++m){let g=r[m],y=m===r.length-1,_=c==="/"?e:e.slice(c.length)||"/",E=Rd({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},_),R=g.route;if(!E&&y&&n&&!r[r.length-1].route.index&&(E=Rd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),f.push({params:o,pathname:wi([c,E.pathname]),pathnameBase:KS(wi([c,E.pathnameBase])),route:R}),E.pathnameBase!=="/"&&(c=wi([c,E.pathnameBase]))}return f}function Rd(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=HS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((y,{paramName:_,isOptional:E},R)=>{if(_==="*"){let B=m[R]||"";f=c.slice(0,c.length-B.length).replace(/(.)\/+$/,"$1")}const j=m[R];return E&&!j?y[_]=void 0:y[_]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:i}}function HS(i,e=!1,n=!0){ca(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function qS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ca(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ci(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}var FS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function GS(i,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof i=="string"?ws(i):i,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=nv(n.substring(1),"/"):c=nv(n,e)):c=e,{pathname:c,search:YS(r),hash:$S(o)}}function nv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function wp(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ym(i){let e=QS(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function bm(i,e,n,r=!1){let o;typeof i=="string"?o=ws(i):(o={...i},Et(!o.pathname||!o.pathname.includes("?"),wp("?","pathname","search",o)),Et(!o.pathname||!o.pathname.includes("#"),wp("#","pathname","hash",o)),Et(!o.search||!o.search.includes("#"),wp("#","search","hash",o)));let c=i===""||o.pathname==="",f=c?"/":o.pathname,m;if(f==null)m=n;else{let E=e.length-1;if(!r&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),E-=1;o.pathname=R.join("/")}m=E>=0?e[E]:"/"}let g=GS(o,m),y=f&&f!=="/"&&f.endsWith("/"),_=(c||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||_)&&(g.pathname+="/"),g}var wi=i=>i.join("/").replace(/\/\/+/g,"/"),KS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),YS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,$S=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,XS=class{constructor(i,e,n,r=!1){this.status=i,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function JS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function ZS(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Bx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Hx(i,e){let n=i;if(typeof n!="string"||!FS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(Bx)try{let c=new URL(window.location.href),f=n.startsWith("//")?new URL(c.protocol+n):new URL(n),m=Ci(f.pathname,e);f.origin===c.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{ca(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qx=["POST","PUT","PATCH","DELETE"];new Set(qx);var WS=["GET",...qx];new Set(WS);var Uo=D.createContext(null);Uo.displayName="DataRouter";var $d=D.createContext(null);$d.displayName="DataRouterState";var eT=D.createContext(!1),Fx=D.createContext({isTransitioning:!1});Fx.displayName="ViewTransition";var tT=D.createContext(new Map);tT.displayName="Fetchers";var nT=D.createContext(null);nT.displayName="Await";var Qn=D.createContext(null);Qn.displayName="Navigation";var Ec=D.createContext(null);Ec.displayName="Location";var ni=D.createContext({outlet:null,matches:[],isDataRoute:!1});ni.displayName="Route";var vm=D.createContext(null);vm.displayName="RouteError";var Gx="REACT_ROUTER_ERROR",aT="REDIRECT",iT="ROUTE_ERROR_RESPONSE";function rT(i){if(i.startsWith(`${Gx}:${aT}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function sT(i){if(i.startsWith(`${Gx}:${iT}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new XS(e.status,e.statusText,e.data)}catch{}}function oT(i,{relative:e}={}){Et(Bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=D.useContext(Qn),{hash:o,pathname:c,search:f}=Ac(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:wi([n,c])),r.createHref({pathname:m,search:f,hash:o})}function Bo(){return D.useContext(Ec)!=null}function Mr(){return Et(Bo(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Ec).location}var Qx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kx(i){D.useContext(Qn).static||D.useLayoutEffect(i)}function Pi(){let{isDataRoute:i}=D.useContext(ni);return i?xT():lT()}function lT(){Et(Bo(),"useNavigate() may be used only in the context of a <Router> component.");let i=D.useContext(Uo),{basename:e,navigator:n}=D.useContext(Qn),{matches:r}=D.useContext(ni),{pathname:o}=Mr(),c=JSON.stringify(ym(r)),f=D.useRef(!1);return Kx(()=>{f.current=!0}),D.useCallback((g,y={})=>{if(ca(f.current,Qx),!f.current)return;if(typeof g=="number"){n.go(g);return}let _=bm(g,JSON.parse(c),o,y.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:wi([e,_.pathname])),(y.replace?n.replace:n.push)(_,y.state,y)},[e,n,c,o,i])}D.createContext(null);function Ac(i,{relative:e}={}){let{matches:n}=D.useContext(ni),{pathname:r}=Mr(),o=JSON.stringify(ym(n));return D.useMemo(()=>bm(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function cT(i,e){return Yx(i,e)}function Yx(i,e,n,r,o){Et(Bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=D.useContext(Qn),{matches:f}=D.useContext(ni),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",_=m?m.pathnameBase:"/",E=m&&m.route;{let q=E&&E.path||"";Xx(y,!E||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let R=Mr(),j;if(e){let q=typeof e=="string"?ws(e):e;Et(_==="/"||q.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${q.pathname}" was given in the \`location\` prop.`),j=q}else j=R;let B=j.pathname||"/",L=B;if(_!=="/"){let q=_.replace(/^\//,"").split("/");L="/"+B.replace(/^\//,"").split("/").slice(q.length).join("/")}let Q=Lx(i,{pathname:L});ca(E||Q!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),ca(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ie=pT(Q&&Q.map(q=>Object.assign({},q,{params:Object.assign({},g,q.params),pathname:wi([_,c.encodeLocation?c.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?_:wi([_,c.encodeLocation?c.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),f,n,r,o);return e&&ie?D.createElement(Ec.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},ie):ie}function uT(){let i=vT(),e=JS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:c},"ErrorBoundary")," or"," ",D.createElement("code",{style:c},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:o},n):null,f)}var dT=D.createElement(uT,null),$x=class extends D.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=sT(i.digest);n&&(i=n)}let e=i!==void 0?D.createElement(ni.Provider,{value:this.props.routeContext},D.createElement(vm.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?D.createElement(fT,{error:i},e):e}};$x.contextType=eT;var Np=new WeakMap;function fT({children:i,error:e}){let{basename:n}=D.useContext(Qn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=rT(e.digest);if(r){let o=Np.get(e);if(o)throw o;let c=Hx(r.location,n);if(Bx&&!Np.get(e))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw Np.set(e,f),f}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return i}function hT({routeContext:i,match:e,children:n}){let r=D.useContext(Uo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(ni.Provider,{value:i},n)}function pT(i,e=[],n=null,r=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,f=n?.errors;if(f!=null){let _=c.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);Et(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,_+1))}let m=!1,g=-1;if(n)for(let _=0;_<c.length;_++){let E=c[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=_),E.route.id){let{loaderData:R,errors:j}=n,B=E.route.loader&&!R.hasOwnProperty(E.route.id)&&(!j||j[E.route.id]===void 0);if(E.route.lazy||B){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&r?(_,E)=>{r(_,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:ZS(n.matches),errorInfo:E})}:void 0;return c.reduceRight((_,E,R)=>{let j,B=!1,L=null,Q=null;n&&(j=f&&E.route.id?f[E.route.id]:void 0,L=E.route.errorElement||dT,m&&(g<0&&R===0?(Xx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,Q=null):g===R&&(B=!0,Q=E.route.hydrateFallbackElement||null)));let ie=e.concat(c.slice(0,R+1)),q=()=>{let ne;return j?ne=L:B?ne=Q:E.route.Component?ne=D.createElement(E.route.Component,null):E.route.element?ne=E.route.element:ne=_,D.createElement(hT,{match:E,routeContext:{outlet:_,matches:ie,isDataRoute:n!=null},children:ne})};return n&&(E.route.ErrorBoundary||E.route.errorElement||R===0)?D.createElement($x,{location:n.location,revalidation:n.revalidation,component:L,error:j,children:q(),routeContext:{outlet:null,matches:ie,isDataRoute:!0},onError:y}):q()},null)}function xm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mT(i){let e=D.useContext(Uo);return Et(e,xm(i)),e}function gT(i){let e=D.useContext($d);return Et(e,xm(i)),e}function yT(i){let e=D.useContext(ni);return Et(e,xm(i)),e}function _m(i){let e=yT(i),n=e.matches[e.matches.length-1];return Et(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function bT(){return _m("useRouteId")}function vT(){let i=D.useContext(vm),e=gT("useRouteError"),n=_m("useRouteError");return i!==void 0?i:e.errors?.[n]}function xT(){let{router:i}=mT("useNavigate"),e=_m("useNavigate"),n=D.useRef(!1);return Kx(()=>{n.current=!0}),D.useCallback(async(o,c={})=>{ca(n.current,Qx),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var av={};function Xx(i,e,n){!e&&!av[i]&&(av[i]=!0,ca(!1,n))}D.memo(_T);function _T({routes:i,future:e,state:n,onError:r}){return Yx(i,void 0,n,r,e)}function Jx({to:i,replace:e,state:n,relative:r}){Et(Bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=D.useContext(Qn);ca(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=D.useContext(ni),{pathname:f}=Mr(),m=Pi(),g=bm(i,ym(c),f,r==="path"),y=JSON.stringify(g);return D.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:r})},[m,y,r,e,n]),null}function Ya(i){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ET({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:c=!1,unstable_useTransitions:f}){Et(!Bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),g=D.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:f,future:{}}),[m,o,c,f]);typeof n=="string"&&(n=ws(n));let{pathname:y="/",search:_="",hash:E="",state:R=null,key:j="default"}=n,B=D.useMemo(()=>{let L=Ci(y,m);return L==null?null:{location:{pathname:L,search:_,hash:E,state:R,key:j},navigationType:r}},[m,y,_,E,R,j,r]);return ca(B!=null,`<Router basename="${m}"> is not able to match the URL "${y}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:D.createElement(Qn.Provider,{value:g},D.createElement(Ec.Provider,{children:e,value:B}))}function AT({children:i,location:e}){return cT(Hp(i),e)}function Hp(i,e=[]){let n=[];return D.Children.forEach(i,(r,o)=>{if(!D.isValidElement(r))return;let c=[...e,o];if(r.type===D.Fragment){n.push.apply(n,Hp(r.props.children,c));return}Et(r.type===Ya,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Hp(r.props.children,c)),n.push(f)}),n}var md="get",gd="application/x-www-form-urlencoded";function Xd(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function ST(i){return Xd(i)&&i.tagName.toLowerCase()==="button"}function TT(i){return Xd(i)&&i.tagName.toLowerCase()==="form"}function wT(i){return Xd(i)&&i.tagName.toLowerCase()==="input"}function NT(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function RT(i,e){return i.button===0&&(!e||e==="_self")&&!NT(i)}var ld=null;function CT(){if(ld===null)try{new FormData(document.createElement("form"),0),ld=!1}catch{ld=!0}return ld}var IT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rp(i){return i!=null&&!IT.has(i)?(ca(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gd}"`),null):i}function OT(i,e){let n,r,o,c,f;if(TT(i)){let m=i.getAttribute("action");r=m?Ci(m,e):null,n=i.getAttribute("method")||md,o=Rp(i.getAttribute("enctype"))||gd,c=new FormData(i)}else if(ST(i)||wT(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(r=g?Ci(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||md,o=Rp(i.getAttribute("formenctype"))||Rp(m.getAttribute("enctype"))||gd,c=new FormData(m,i),!CT()){let{name:y,type:_,value:E}=i;if(_==="image"){let R=y?`${y}.`:"";c.append(`${R}x`,"0"),c.append(`${R}y`,"0")}else y&&c.append(y,E)}}else{if(Xd(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=md,r=null,o=gd,f=i}return c&&o==="text/plain"&&(f=c,c=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Em(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function DT(i,e,n,r){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&Ci(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function MT(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kT(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function jT(i,e,n){let r=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await MT(c,n);return f.links?f.links():[]}return[]}));return zT(r.flat(1).filter(kT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function iv(i,e,n,r,o,c){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):c==="data"?e.filter((g,y)=>{let _=r.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function PT(i,e,{includeHydrateFallback:n}={}){return VT(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function VT(i){return[...new Set(i)]}function LT(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function zT(i,e){let n=new Set;return new Set(e),i.reduce((r,o)=>{let c=JSON.stringify(LT(o));return n.has(c)||(n.add(c),r.push({key:c,link:o})),r},[])}function Zx(){let i=D.useContext(Uo);return Em(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function UT(){let i=D.useContext($d);return Em(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Am=D.createContext(void 0);Am.displayName="FrameworkContext";function Wx(){let i=D.useContext(Am);return Em(i,"You must render this element inside a <HydratedRouter> element"),i}function BT(i,e){let n=D.useContext(Am),[r,o]=D.useState(!1),[c,f]=D.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:_,onTouchStart:E}=e,R=D.useRef(null);D.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let L=ie=>{ie.forEach(q=>{f(q.isIntersecting)})},Q=new IntersectionObserver(L,{threshold:.5});return R.current&&Q.observe(R.current),()=>{Q.disconnect()}}},[i]),D.useEffect(()=>{if(r){let L=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(L)}}},[r]);let j=()=>{o(!0)},B=()=>{o(!1),f(!1)};return n?i!=="intent"?[c,R,{}]:[c,R,{onFocus:Zl(m,j),onBlur:Zl(g,B),onMouseEnter:Zl(y,j),onMouseLeave:Zl(_,B),onTouchStart:Zl(E,j)}]:[!1,R,{}]}function Zl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function HT({page:i,...e}){let{router:n}=Zx(),r=D.useMemo(()=>Lx(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?D.createElement(FT,{page:i,matches:r,...e}):null}function qT(i){let{manifest:e,routeModules:n}=Wx(),[r,o]=D.useState([]);return D.useEffect(()=>{let c=!1;return jT(i,e,n).then(f=>{c||o(f)}),()=>{c=!0}},[i,e,n]),r}function FT({page:i,matches:e,...n}){let r=Mr(),{future:o,manifest:c,routeModules:f}=Wx(),{basename:m}=Zx(),{loaderData:g,matches:y}=UT(),_=D.useMemo(()=>iv(i,e,y,c,r,"data"),[i,e,y,c,r]),E=D.useMemo(()=>iv(i,e,y,c,r,"assets"),[i,e,y,c,r]),R=D.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let L=new Set,Q=!1;if(e.forEach(q=>{let ne=c.routes[q.route.id];!ne||!ne.hasLoader||(!_.some(pe=>pe.route.id===q.route.id)&&q.route.id in g&&f[q.route.id]?.shouldRevalidate||ne.hasClientLoader?Q=!0:L.add(q.route.id))}),L.size===0)return[];let ie=DT(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return Q&&L.size>0&&ie.searchParams.set("_routes",e.filter(q=>L.has(q.route.id)).map(q=>q.route.id).join(",")),[ie.pathname+ie.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,r,c,_,e,i,f]),j=D.useMemo(()=>PT(E,c),[E,c]),B=qT(E);return D.createElement(D.Fragment,null,R.map(L=>D.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),j.map(L=>D.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),B.map(({key:L,link:Q})=>D.createElement("link",{key:L,nonce:n.nonce,...Q,crossOrigin:Q.crossOrigin??n.crossOrigin})))}function GT(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var QT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QT&&(window.__reactRouterVersion="7.13.0")}catch{}function KT({basename:i,children:e,unstable_useTransitions:n,window:r}){let o=D.useRef();o.current==null&&(o.current=NS({window:r,v5Compat:!0}));let c=o.current,[f,m]=D.useState({action:c.action,location:c.location}),g=D.useCallback(y=>{n===!1?m(y):D.startTransition(()=>m(y))},[n]);return D.useLayoutEffect(()=>c.listen(g),[c,g]),D.createElement(ET,{basename:i,children:e,location:f.location,navigationType:f.action,navigator:c,unstable_useTransitions:n})}var e_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t_=D.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:c,replace:f,state:m,target:g,to:y,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:R,...j},B){let{basename:L,unstable_useTransitions:Q}=D.useContext(Qn),ie=typeof y=="string"&&e_.test(y),q=Hx(y,L);y=q.to;let ne=oT(y,{relative:o}),[pe,ue,ge]=BT(r,j),I=JT(y,{replace:f,state:m,target:g,preventScrollReset:_,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:R,unstable_useTransitions:Q});function C(P){e&&e(P),P.defaultPrevented||I(P)}let O=D.createElement("a",{...j,...ge,href:q.absoluteURL||ne,onClick:q.isExternal||c?e:C,ref:GT(B,ue),target:g,"data-discover":!ie&&n==="render"?"true":void 0});return pe&&!ie?D.createElement(D.Fragment,null,O,D.createElement(HT,{page:ne})):O});t_.displayName="Link";var YT=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:c,to:f,viewTransition:m,children:g,...y},_){let E=Ac(f,{relative:y.relative}),R=Mr(),j=D.useContext($d),{navigator:B,basename:L}=D.useContext(Qn),Q=j!=null&&nw(E)&&m===!0,ie=B.encodeLocation?B.encodeLocation(E).pathname:E.pathname,q=R.pathname,ne=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(q=q.toLowerCase(),ne=ne?ne.toLowerCase():null,ie=ie.toLowerCase()),ne&&L&&(ne=Ci(ne,L)||ne);const pe=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let ue=q===ie||!o&&q.startsWith(ie)&&q.charAt(pe)==="/",ge=ne!=null&&(ne===ie||!o&&ne.startsWith(ie)&&ne.charAt(ie.length)==="/"),I={isActive:ue,isPending:ge,isTransitioning:Q},C=ue?e:void 0,O;typeof r=="function"?O=r(I):O=[r,ue?"active":null,ge?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let P=typeof c=="function"?c(I):c;return D.createElement(t_,{...y,"aria-current":C,className:O,ref:_,style:P,to:f,viewTransition:m},typeof g=="function"?g(I):g)});YT.displayName="NavLink";var $T=D.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:c,method:f=md,action:m,onSubmit:g,relative:y,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:R,...j},B)=>{let{unstable_useTransitions:L}=D.useContext(Qn),Q=ew(),ie=tw(m,{relative:y}),q=f.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&e_.test(m),pe=ue=>{if(g&&g(ue),ue.defaultPrevented)return;ue.preventDefault();let ge=ue.nativeEvent.submitter,I=ge?.getAttribute("formmethod")||f,C=()=>Q(ge||ue.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:o,state:c,relative:y,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:R});L&&n!==!1?D.startTransition(()=>C()):C()};return D.createElement("form",{ref:B,method:q,action:ie,onSubmit:r?g:pe,...j,"data-discover":!ne&&i==="render"?"true":void 0})});$T.displayName="Form";function XT(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n_(i){let e=D.useContext(Uo);return Et(e,XT(i)),e}function JT(i,{target:e,replace:n,state:r,preventScrollReset:o,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=Pi(),_=Mr(),E=Ac(i,{relative:c});return D.useCallback(R=>{if(RT(R,e)){R.preventDefault();let j=n!==void 0?n:hc(_)===hc(E),B=()=>y(i,{replace:j,state:r,preventScrollReset:o,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:m});g?D.startTransition(()=>B()):B()}},[_,y,E,n,r,e,i,o,c,f,m,g])}var ZT=0,WT=()=>`__${String(++ZT)}__`;function ew(){let{router:i}=n_("useSubmit"),{basename:e}=D.useContext(Qn),n=bT(),r=i.fetch,o=i.navigate;return D.useCallback(async(c,f={})=>{let{action:m,method:g,encType:y,formData:_,body:E}=OT(c,e);if(f.navigate===!1){let R=f.fetcherKey||WT();await r(R,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:_,body:E,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:_,body:E,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,o,e,n])}function tw(i,{relative:e}={}){let{basename:n}=D.useContext(Qn),r=D.useContext(ni);Et(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Ac(i||".",{relative:e})},f=Mr();if(i==null){c.search=f.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(_=>_==="")){m.delete("index"),g.filter(E=>E).forEach(E=>m.append("index",E));let _=m.toString();c.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:wi([n,c.pathname])),hc(c)}function nw(i,{relative:e}={}){let n=D.useContext(Fx);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=n_("useViewTransitionState"),o=Ac(i,{relative:e});if(!n.isTransitioning)return!1;let c=Ci(n.currentLocation.pathname,r)||n.currentLocation.pathname,f=Ci(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rd(o.pathname,f)!=null||Rd(o.pathname,c)!=null}const aw=()=>{};var rv={};const a_=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},iw=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],f=i[n++],m=i[n++],g=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],f=i[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},i_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const c=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,_=c>>2,E=(c&3)<<4|m>>4;let R=(m&15)<<2|y>>6,j=y&63;g||(j=64,f||(R=64)),r.push(n[_],n[E],n[R],n[j])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(a_(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):iw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const E=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||m==null||y==null||E==null)throw new rw;const R=c<<2|m>>4;if(r.push(R),y!==64){const j=m<<4&240|y>>2;if(r.push(j),E!==64){const B=y<<6&192|E;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class rw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sw=function(i){const e=a_(i);return i_.encodeByteArray(e,!0)},Cd=function(i){return sw(i).replace(/\./g,"")},r_=function(i){try{return i_.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ow(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lw=()=>ow().__FIREBASE_DEFAULTS__,cw=()=>{if(typeof process>"u"||typeof rv>"u")return;const i=rv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},uw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&r_(i[1]);return e&&JSON.parse(e)},Jd=()=>{try{return aw()||lw()||cw()||uw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},s_=i=>Jd()?.emulatorHosts?.[i],dw=i=>{const e=s_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},o_=()=>Jd()?.config,l_=i=>Jd()?.[`_${i}`];class fw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ho(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function c_(i){return(await fetch(i,{credentials:"include"})).ok}function hw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Cd(JSON.stringify(n)),Cd(JSON.stringify(f)),""].join(".")}const sc={};function pw(){const i={prod:[],emulator:[]};for(const e of Object.keys(sc))sc[e]?i.emulator.push(e):i.prod.push(e);return i}function mw(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let sv=!1;function u_(i,e){if(typeof window>"u"||typeof document>"u"||!Ho(window.location.host)||sc[i]===e||sc[i]||sv)return;sc[i]=e;function n(R){return`__firebase__banner__${R}`}const r="__firebase__banner",c=pw().prod.length>0;function f(){const R=document.getElementById(r);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,j){R.setAttribute("width","24"),R.setAttribute("id",j),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{sv=!0,f()},R}function _(R,j){R.setAttribute("id",j),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function E(){const R=mw(r),j=n("text"),B=document.getElementById(j)||document.createElement("span"),L=n("learnmore"),Q=document.getElementById(L)||document.createElement("a"),ie=n("preprendIcon"),q=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ne=R.element;m(ne),_(Q,L);const pe=y();g(q,ie),ne.append(q,B,Q,pe),document.body.appendChild(ne)}c?(B.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function yw(){const i=Jd()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function xw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _w(){const i=gn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Ew(){return!yw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Aw(){try{return typeof indexedDB=="object"}catch{return!1}}function Sw(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Tw="FirebaseError";class Vi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Tw,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sc.prototype.create)}}class Sc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?ww(c,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Vi(o,m,r)}}function ww(i,e){return i.replace(Nw,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Nw=/\{\$([^}]+)}/g;function Rw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ii(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=i[o],f=e[o];if(ov(c)&&ov(f)){if(!Ii(c,f))return!1}else if(c!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function ov(i){return i!==null&&typeof i=="object"}function Tc(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ec(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function tc(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function Cw(i,e){const n=new Iw(i,e);return n.subscribe.bind(n)}class Iw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ow(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Cp),o.error===void 0&&(o.error=Cp),o.complete===void 0&&(o.complete=Cp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ow(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Cp(){}function Qt(i){return i&&i._delegate?i._delegate:i}class xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ms="[DEFAULT]";class Dw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kw(e))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ms){return this.instances.has(e)}getOptions(e=ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Mw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ms){return this.component?this.component.multipleInstances?e:ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Mw(i){return i===ms?void 0:i}function kw(i){return i.instantiationMode==="EAGER"}class jw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Dw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ye;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ye||(Ye={}));const Pw={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},Vw=Ye.INFO,Lw={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},zw=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=Lw[e];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sm{constructor(e){this.name=e,this._logLevel=Vw,this._logHandler=zw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Pw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const Uw=(i,e)=>e.some(n=>i instanceof n);let lv,cv;function Bw(){return lv||(lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Hw(){return cv||(cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d_=new WeakMap,qp=new WeakMap,f_=new WeakMap,Ip=new WeakMap,Tm=new WeakMap;function qw(i){const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(Er(i.result)),o()},f=()=>{r(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&d_.set(n,i)}).catch(()=>{}),Tm.set(e,i),e}function Fw(i){if(qp.has(i))return;const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});qp.set(i,e)}let Fp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return qp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||f_.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Er(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Gw(i){Fp=i(Fp)}function Qw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(Op(this),e,...n);return f_.set(r,e.sort?e.sort():[e]),Er(r)}:Hw().includes(i)?function(...e){return i.apply(Op(this),e),Er(d_.get(this))}:function(...e){return Er(i.apply(Op(this),e))}}function Kw(i){return typeof i=="function"?Qw(i):(i instanceof IDBTransaction&&Fw(i),Uw(i,Bw())?new Proxy(i,Fp):i)}function Er(i){if(i instanceof IDBRequest)return qw(i);if(Ip.has(i))return Ip.get(i);const e=Kw(i);return e!==i&&(Ip.set(i,e),Tm.set(e,i)),e}const Op=i=>Tm.get(i);function Yw(i,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const f=indexedDB.open(i,e),m=Er(f);return r&&f.addEventListener("upgradeneeded",g=>{r(Er(f.result),g.oldVersion,g.newVersion,Er(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const $w=["get","getKey","getAll","getAllKeys","count"],Xw=["put","add","delete","clear"],Dp=new Map;function uv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Dp.get(e))return Dp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=Xw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||$w.includes(n)))return;const c=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Dp.set(e,c),c}Gw(i=>({...i,get:(e,n,r)=>uv(e,n)||i.get(e,n,r),has:(e,n)=>!!uv(e,n)||i.has(e,n)}));class Jw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Zw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Zw(i){return i.getComponent()?.type==="VERSION"}const Gp="@firebase/app",dv="0.14.7";const Oi=new Sm("@firebase/app"),Ww="@firebase/app-compat",eN="@firebase/analytics-compat",tN="@firebase/analytics",nN="@firebase/app-check-compat",aN="@firebase/app-check",iN="@firebase/auth",rN="@firebase/auth-compat",sN="@firebase/database",oN="@firebase/data-connect",lN="@firebase/database-compat",cN="@firebase/functions",uN="@firebase/functions-compat",dN="@firebase/installations",fN="@firebase/installations-compat",hN="@firebase/messaging",pN="@firebase/messaging-compat",mN="@firebase/performance",gN="@firebase/performance-compat",yN="@firebase/remote-config",bN="@firebase/remote-config-compat",vN="@firebase/storage",xN="@firebase/storage-compat",_N="@firebase/firestore",EN="@firebase/ai",AN="@firebase/firestore-compat",SN="firebase",TN="12.8.0";const Qp="[DEFAULT]",wN={[Gp]:"fire-core",[Ww]:"fire-core-compat",[tN]:"fire-analytics",[eN]:"fire-analytics-compat",[aN]:"fire-app-check",[nN]:"fire-app-check-compat",[iN]:"fire-auth",[rN]:"fire-auth-compat",[sN]:"fire-rtdb",[oN]:"fire-data-connect",[lN]:"fire-rtdb-compat",[cN]:"fire-fn",[uN]:"fire-fn-compat",[dN]:"fire-iid",[fN]:"fire-iid-compat",[hN]:"fire-fcm",[pN]:"fire-fcm-compat",[mN]:"fire-perf",[gN]:"fire-perf-compat",[yN]:"fire-rc",[bN]:"fire-rc-compat",[vN]:"fire-gcs",[xN]:"fire-gcs-compat",[_N]:"fire-fst",[AN]:"fire-fst-compat",[EN]:"fire-vertex","fire-js":"fire-js",[SN]:"fire-js-all"};const Id=new Map,NN=new Map,Kp=new Map;function fv(i,e){try{i.container.addComponent(e)}catch(n){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Co(i){const e=i.name;if(Kp.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;Kp.set(e,i);for(const n of Id.values())fv(n,i);for(const n of NN.values())fv(n,i);return!0}function wm(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function sa(i){return i==null?!1:i.settings!==void 0}const RN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new Sc("app","Firebase",RN);class CN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}const qo=TN;function h_(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:Qp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ar.create("bad-app-name",{appName:String(o)});if(n||(n=o_()),!n)throw Ar.create("no-options");const c=Id.get(o);if(c){if(Ii(n,c.options)&&Ii(r,c.config))return c;throw Ar.create("duplicate-app",{appName:o})}const f=new jw(o);for(const g of Kp.values())f.addComponent(g);const m=new CN(n,r,f);return Id.set(o,m),m}function p_(i=Qp){const e=Id.get(i);if(!e&&i===Qp&&o_())return h_();if(!e)throw Ar.create("no-app",{appName:i});return e}function Sr(i,e,n){let r=wN[i]??i;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(f.join(" "));return}Co(new xs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const IN="firebase-heartbeat-database",ON=1,pc="firebase-heartbeat-store";let Mp=null;function m_(){return Mp||(Mp=Yw(IN,ON,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(pc)}catch(n){console.warn(n)}}}}).catch(i=>{throw Ar.create("idb-open",{originalErrorMessage:i.message})})),Mp}async function DN(i){try{const n=(await m_()).transaction(pc),r=await n.objectStore(pc).get(g_(i));return await n.done,r}catch(e){if(e instanceof Vi)Oi.warn(e.message);else{const n=Ar.create("idb-get",{originalErrorMessage:e?.message});Oi.warn(n.message)}}}async function hv(i,e){try{const r=(await m_()).transaction(pc,"readwrite");await r.objectStore(pc).put(e,g_(i)),await r.done}catch(n){if(n instanceof Vi)Oi.warn(n.message);else{const r=Ar.create("idb-set",{originalErrorMessage:n?.message});Oi.warn(r.message)}}}function g_(i){return`${i.name}!${i.options.appId}`}const MN=1024,kN=30;class jN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=pv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>kN){const o=LN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Oi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=pv(),{heartbeatsToSend:n,unsentEntries:r}=PN(this._heartbeatsCache.heartbeats),o=Cd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Oi.warn(e),""}}}function pv(){return new Date().toISOString().substring(0,10)}function PN(i,e=MN){const n=[];let r=i.slice();for(const o of i){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),mv(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),mv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class VN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Aw()?Sw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function mv(i){return Cd(JSON.stringify({version:2,heartbeats:i})).length}function LN(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}function zN(i){Co(new xs("platform-logger",e=>new Jw(e),"PRIVATE")),Co(new xs("heartbeat",e=>new jN(e),"PRIVATE")),Sr(Gp,dv,i),Sr(Gp,dv,"esm2020"),Sr("fire-js","")}zN("");var UN="firebase",BN="12.8.0";Sr(UN,BN,"app");function y_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HN=y_,b_=new Sc("auth","Firebase",y_());const Od=new Sm("@firebase/auth");function qN(i,...e){Od.logLevel<=Ye.WARN&&Od.warn(`Auth (${qo}): ${i}`,...e)}function yd(i,...e){Od.logLevel<=Ye.ERROR&&Od.error(`Auth (${qo}): ${i}`,...e)}function Ta(i,...e){throw Nm(i,...e)}function Xa(i,...e){return Nm(i,...e)}function v_(i,e,n){const r={...HN(),[e]:n};return new Sc("auth","Firebase",r).create(e,{appName:i.name})}function Ni(i){return v_(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nm(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return b_.create(i,...e)}function Ie(i,e,...n){if(!i)throw Nm(e,...n)}function Si(i){const e="INTERNAL ASSERTION FAILED: "+i;throw yd(e),new Error(e)}function Di(i,e){i||Si(e)}function Yp(){return typeof self<"u"&&self.location?.href||""}function FN(){return gv()==="http:"||gv()==="https:"}function gv(){return typeof self<"u"&&self.location?.protocol||null}function GN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FN()||vw()||"connection"in navigator)?navigator.onLine:!0}function QN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Di(n>e,"Short delay should be less than long delay!"),this.isMobile=gw()||xw()}get(){return GN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rm(i,e){Di(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class x_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const KN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const YN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$N=new wc(3e4,6e4);function Li(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ai(i,e,n,r,o={}){return __(i,o,async()=>{let c={},f={};r&&(e==="GET"?f=r:c={body:JSON.stringify(r)});const m=Tc({key:i.config.apiKey,...f}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...c};return bw()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&Ho(i.emulatorConfig.host)&&(y.credentials="include"),x_.fetch()(await E_(i,i.config.apiHost,n,m),y)})}async function __(i,e,n){i._canInitEmulator=!1;const r={...KN,...e};try{const o=new JN(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw cd(i,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const m=c.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw cd(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw cd(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw cd(i,"user-disabled",f);const _=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw v_(i,_,y);Ta(i,_)}}catch(o){if(o instanceof Vi)throw o;Ta(i,"network-request-failed",{message:String(o)})}}async function Nc(i,e,n,r,o={}){const c=await ai(i,e,n,r,o);return"mfaPendingCredential"in c&&Ta(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function E_(i,e,n,r){const o=`${e}${n}?${r}`,c=i,f=c.config.emulator?Rm(i.config,o):`${i.config.apiScheme}://${o}`;return YN.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function XN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xa(this.auth,"network-request-failed")),$N.get())})}}function cd(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Xa(i,e,r);return o.customData._tokenResponse=n,o}function yv(i){return i!==void 0&&i.enterprise!==void 0}class ZN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return XN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WN(i,e){return ai(i,"GET","/v2/recaptchaConfig",Li(i,e))}async function eR(i,e){return ai(i,"POST","/v1/accounts:delete",e)}async function Dd(i,e){return ai(i,"POST","/v1/accounts:lookup",e)}function oc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tR(i,e=!1){const n=Qt(i),r=await n.getIdToken(e),o=Cm(r);Ie(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:r,authTime:oc(kp(o.auth_time)),issuedAtTime:oc(kp(o.iat)),expirationTime:oc(kp(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function kp(i){return Number(i)*1e3}function Cm(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return yd("JWT malformed, contained fewer than 3 sections"),null;try{const o=r_(n);return o?JSON.parse(o):(yd("Failed to decode base64 JWT payload"),null)}catch(o){return yd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function bv(i){const e=Cm(i);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Io(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vi&&nR(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function nR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class aR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $p{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oc(this.lastLoginAt),this.creationTime=oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Md(i){const e=i.auth,n=await i.getIdToken(),r=await Io(i,Dd(e,{idToken:n}));Ie(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?A_(o.providerUserInfo):[],f=rR(i.providerData,c),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!f?.length,y=m?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new $p(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,_)}async function iR(i){const e=Qt(i);await Md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rR(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function A_(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function sR(i,e){const n=await __(i,{},async()=>{const r=Tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,f=await E_(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return i.emulatorConfig&&Ho(i.emulatorConfig.host)&&(g.credentials="include"),x_.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oR(i,e){return ai(i,"POST","/v2/accounts:revokeToken",Li(i,e))}class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=bv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await sR(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,f=new Ao;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(Ie(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(Ie(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return Si("not implemented")}}function gr(i,e){Ie(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ea{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new aR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $p(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Io(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tR(this,e)}reload(){return iR(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ea({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Md(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sa(this.auth.app))return Promise.reject(Ni(this.auth));const e=await this.getIdToken();return await Io(this,eR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:E,emailVerified:R,isAnonymous:j,providerData:B,stsTokenManager:L}=n;Ie(E&&L,e,"internal-error");const Q=Ao.fromJSON(this.name,L);Ie(typeof E=="string",e,"internal-error"),gr(r,e.name),gr(o,e.name),Ie(typeof R=="boolean",e,"internal-error"),Ie(typeof j=="boolean",e,"internal-error"),gr(c,e.name),gr(f,e.name),gr(m,e.name),gr(g,e.name),gr(y,e.name),gr(_,e.name);const ie=new Ea({uid:E,auth:e,email:o,emailVerified:R,displayName:r,isAnonymous:j,photoURL:f,phoneNumber:c,tenantId:m,stsTokenManager:Q,createdAt:y,lastLoginAt:_});return B&&Array.isArray(B)&&(ie.providerData=B.map(q=>({...q}))),g&&(ie._redirectEventId=g),ie}static async _fromIdTokenResponse(e,n,r=!1){const o=new Ao;o.updateFromServerResponse(n);const c=new Ea({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Md(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ie(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?A_(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,m=new Ao;m.updateFromIdToken(r);const g=new Ea({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new $p(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const vv=new Map;function Ti(i){Di(i instanceof Function,"Expected a class definition");let e=vv.get(i);return e?(Di(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,vv.set(i,e),e)}class S_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}S_.type="NONE";const xv=S_;function bd(i,e,n){return`firebase:${i}:${e}:${n}`}class So{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=bd(this.userKey,o.apiKey,c),this.fullPersistenceKey=bd("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dd(this.auth,{idToken:e}).catch(()=>{});return n?Ea._fromGetAccountInfoResponse(this.auth,n,e):null}return Ea._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new So(Ti(xv),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Ti(xv);const f=bd(r,e.config.apiKey,e.name);let m=null;for(const y of n)try{const _=await y._get(f);if(_){let E;if(typeof _=="string"){const R=await Dd(e,{idToken:_}).catch(()=>{});if(!R)break;E=await Ea._fromGetAccountInfoResponse(e,R,_)}else E=Ea._fromJSON(e,_);y!==c&&(m=E),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new So(c,e,r):(c=g[0],m&&await c._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new So(c,e,r))}}function _v(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(I_(e))return"Blackberry";if(O_(e))return"Webos";if(w_(e))return"Safari";if((e.includes("chrome/")||N_(e))&&!e.includes("edge/"))return"Chrome";if(C_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function T_(i=gn()){return/firefox\//i.test(i)}function w_(i=gn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N_(i=gn()){return/crios\//i.test(i)}function R_(i=gn()){return/iemobile/i.test(i)}function C_(i=gn()){return/android/i.test(i)}function I_(i=gn()){return/blackberry/i.test(i)}function O_(i=gn()){return/webos/i.test(i)}function Im(i=gn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function lR(i=gn()){return Im(i)&&!!window.navigator?.standalone}function cR(){return _w()&&document.documentMode===10}function D_(i=gn()){return Im(i)||C_(i)||O_(i)||I_(i)||/windows phone/i.test(i)||R_(i)}function M_(i,e=[]){let n;switch(i){case"Browser":n=_v(gn());break;case"Worker":n=`${_v(gn())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qo}/${r}`}class uR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((f,m)=>{try{const g=e(c);f(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function dR(i,e={}){return ai(i,"GET","/v2/passwordPolicy",Li(i,e))}const fR=6;class hR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??fR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class pR{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ev(this),this.idTokenSubscription=new Ev(this),this.beforeStateQueue=new uR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ti(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await So.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dd(this,{idToken:e}),r=await Ea._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(sa(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Md(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sa(this.app))return Promise.reject(Ni(this));const n=e?Qt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sa(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sa(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dR(this),n=new hR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await oR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ti(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[Ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(m,this,"internal-error"),m.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(sa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&qN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function kr(i){return Qt(i)}class Ev{constructor(e){this.auth=e,this.observer=null,this.addObserver=Cw(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mR(i){Zd=i}function k_(i){return Zd.loadJS(i)}function gR(){return Zd.recaptchaEnterpriseScript}function yR(){return Zd.gapiScript}function bR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class vR{constructor(){this.enterprise=new xR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class xR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const _R="recaptcha-enterprise",j_="NO_RECAPTCHA";class ER{constructor(e){this.type=_R,this.auth=kr(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,m)=>{WN(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new ZN(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(c,f,m){const g=window.grecaptcha;yv(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{f(y)}).catch(()=>{f(j_)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vR().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{r(this.auth).then(m=>{if(!n&&yv(window.grecaptcha))o(m,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=gR();g.length!==0&&(g+=m),k_(g).then(()=>{o(m,c,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Av(i,e,n,r=!1,o=!1){const c=new ER(i);let f;if(o)f=j_;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function kd(i,e,n,r,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Av(i,e,n,n==="getOobCode");return r(i,c)}else return r(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Av(i,e,n,n==="getOobCode");return r(i,f)}else return Promise.reject(c)})}function AR(i,e){const n=wm(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Ii(c,e??{}))return o;Ta(o,"already-initialized")}return n.initialize({options:e})}function SR(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ti);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function TR(i,e,n){const r=kr(i);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=P_(e),{host:f,port:m}=wR(e),g=m===null?"":`:${m}`,y={url:`${c}//${f}${g}/`},_=Object.freeze({host:f,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(Ii(y,r.config.emulator)&&Ii(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Ho(f)?(c_(`${c}//${f}${g}`),u_("Auth",!0)):NR()}function P_(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function wR(i){const e=P_(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:Sv(r.substr(c.length+1))}}else{const[c,f]=r.split(":");return{host:c,port:Sv(f)}}}function Sv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function NR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Om{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Si("not implemented")}_getIdTokenResponse(e){return Si("not implemented")}_linkToIdToken(e,n){return Si("not implemented")}_getReauthenticationResolver(e){return Si("not implemented")}}async function RR(i,e){return ai(i,"POST","/v1/accounts:update",e)}async function CR(i,e){return ai(i,"POST","/v1/accounts:signUp",e)}async function IR(i,e){return Nc(i,"POST","/v1/accounts:signInWithPassword",Li(i,e))}async function OR(i,e){return ai(i,"POST","/v1/accounts:sendOobCode",Li(i,e))}async function DR(i,e){return OR(i,e)}async function MR(i,e){return Nc(i,"POST","/v1/accounts:signInWithEmailLink",Li(i,e))}async function kR(i,e){return Nc(i,"POST","/v1/accounts:signInWithEmailLink",Li(i,e))}class mc extends Om{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new mc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new mc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kd(e,n,"signInWithPassword",IR);case"emailLink":return MR(e,{email:this._email,oobCode:this._password});default:Ta(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kd(e,r,"signUpPassword",CR);case"emailLink":return kR(e,{idToken:n,email:this._email,oobCode:this._password});default:Ta(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function To(i,e){return Nc(i,"POST","/v1/accounts:signInWithIdp",Li(i,e))}const jR="http://localhost";class _s extends Om{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ta("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const f=new _s(r,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,To(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:jR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tc(n)}return e}}function PR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VR(i){const e=ec(tc(i)).link,n=e?ec(tc(e)).deep_link_id:null,r=ec(tc(i)).deep_link_id;return(r?ec(tc(r)).link:null)||r||n||e||i}class Dm{constructor(e){const n=ec(tc(e)),r=n.apiKey??null,o=n.oobCode??null,c=PR(n.mode??null);Ie(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=VR(e);try{return new Dm(n)}catch{return null}}}class Fo{constructor(){this.providerId=Fo.PROVIDER_ID}static credential(e,n){return mc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Dm.parseLink(n);return Ie(r,"argument-error"),mc._fromEmailAndCode(e,r.code,r.tenantId)}}Fo.PROVIDER_ID="password";Fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class V_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Rc extends V_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yr extends Rc{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";yr.PROVIDER_ID="facebook.com";class br extends Rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _s._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return br.credential(n,r)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";class vr extends Rc{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.GITHUB_SIGN_IN_METHOD="github.com";vr.PROVIDER_ID="github.com";class xr extends Rc{constructor(){super("twitter.com")}static credential(e,n){return _s._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xr.credential(n,r)}catch{return null}}}xr.TWITTER_SIGN_IN_METHOD="twitter.com";xr.PROVIDER_ID="twitter.com";async function LR(i,e){return Nc(i,"POST","/v1/accounts:signUp",Li(i,e))}class Es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await Ea._fromIdTokenResponse(e,r,o),f=Tv(r);return new Es({user:c,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=Tv(r);return new Es({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function Tv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class jd extends Vi{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,jd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new jd(e,n,r,o)}}function L_(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?jd._fromErrorAndOperation(i,c,e,r):c})}async function zR(i,e,n=!1){const r=await Io(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Es._forOperation(i,"link",r)}async function UR(i,e,n=!1){const{auth:r}=i;if(sa(r.app))return Promise.reject(Ni(r));const o="reauthenticate";try{const c=await Io(i,L_(r,o,e,i),n);Ie(c.idToken,r,"internal-error");const f=Cm(c.idToken);Ie(f,r,"internal-error");const{sub:m}=f;return Ie(i.uid===m,r,"user-mismatch"),Es._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ta(r,"user-mismatch"),c}}async function z_(i,e,n=!1){if(sa(i.app))return Promise.reject(Ni(i));const r="signIn",o=await L_(i,r,e),c=await Es._fromIdTokenResponse(i,r,o);return n||await i._updateCurrentUser(c.user),c}async function BR(i,e){return z_(kr(i),e)}async function U_(i){const e=kr(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HR(i,e,n){const r=kr(i);await kd(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",DR)}async function qR(i,e,n){if(sa(i.app))return Promise.reject(Ni(i));const r=kr(i),f=await kd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&U_(i),g}),m=await Es._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(m.user),m}function B_(i,e,n){return sa(i.app)?Promise.reject(Ni(i)):BR(Qt(i),Fo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&U_(i),r})}function FR(i,e){return GR(Qt(i),null,e)}async function GR(i,e,n){const{auth:r}=i,c={idToken:await i.getIdToken(),returnSecureToken:!0};n&&(c.password=n);const f=await Io(i,RR(r,c));await i._updateTokensIfNecessary(f,!0)}function QR(i,e,n,r){return Qt(i).onIdTokenChanged(e,n,r)}function KR(i,e,n){return Qt(i).beforeAuthStateChanged(e,n)}function Wd(i,e,n,r){return Qt(i).onAuthStateChanged(e,n,r)}const Pd="__sak";class H_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pd,"1"),this.storage.removeItem(Pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const YR=1e3,$R=10;class q_ extends H_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},c=this.storage.getItem(r);cR()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,$R):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}q_.type="LOCAL";const XR=q_;class F_ extends H_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}F_.type="SESSION";const G_=F_;function JR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new ef(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,c)),g=await JR(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];function Mm(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}class ZR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((m,g)=>{const y=Mm("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(E){const R=E;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(R.data.response);break;default:clearTimeout(_),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ja(){return window}function WR(i){Ja().location.href=i}function Q_(){return typeof Ja().WorkerGlobalScope<"u"&&typeof Ja().importScripts=="function"}async function eC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tC(){return navigator?.serviceWorker?.controller||null}function nC(){return Q_()?self:null}const K_="firebaseLocalStorageDb",aC=1,Vd="firebaseLocalStorage",Y_="fbase_key";class Cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(i,e){return i.transaction([Vd],e?"readwrite":"readonly").objectStore(Vd)}function iC(){const i=indexedDB.deleteDatabase(K_);return new Cc(i).toPromise()}function Xp(){const i=indexedDB.open(K_,aC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Vd,{keyPath:Y_})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Vd)?e(r):(r.close(),await iC(),e(await Xp()))})})}async function wv(i,e,n){const r=tf(i,!0).put({[Y_]:e,value:n});return new Cc(r).toPromise()}async function rC(i,e){const n=tf(i,!1).get(e),r=await new Cc(n).toPromise();return r===void 0?null:r.value}function Nv(i,e){const n=tf(i,!0).delete(e);return new Cc(n).toPromise()}const sC=800,oC=3;class $_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>oC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(nC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eC(),!this.activeServiceWorker)return;this.sender=new ZR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xp();return await wv(e,Pd,"1"),await Nv(e,Pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Nv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=tf(o,!1).getAll();return new Cc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$_.type="LOCAL";const lC=$_;new wc(3e4,6e4);function cC(i,e){return e?Ti(e):(Ie(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class km extends Om{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uC(i){return z_(i.auth,new km(i),i.bypassAuthState)}function dC(i){const{auth:e,user:n}=i;return Ie(n,e,"internal-error"),UR(n,new km(i),i.bypassAuthState)}async function fC(i){const{auth:e,user:n}=i;return Ie(n,e,"internal-error"),zR(n,new km(i),i.bypassAuthState)}class X_{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uC;case"linkViaPopup":case"linkViaRedirect":return fC;case"reauthViaPopup":case"reauthViaRedirect":return dC;default:Ta(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hC=new wc(2e3,1e4);class Eo extends X_{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,Eo.currentPopupAction&&Eo.currentPopupAction.cancel(),Eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hC.get())};e()}}Eo.currentPopupAction=null;const pC="pendingRedirect",vd=new Map;class mC extends X_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vd.get(this.auth._key());if(!e){try{const r=await gC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vd.set(this.auth._key(),e)}return this.bypassAuthState||vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gC(i,e){const n=vC(e),r=bC(i);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function yC(i,e){vd.set(i._key(),e)}function bC(i){return Ti(i._redirectPersistence)}function vC(i){return bd(pC,i.config.apiKey,i.name)}async function xC(i,e,n=!1){if(sa(i.app))return Promise.reject(Ni(i));const r=kr(i),o=cC(r,e),f=await new mC(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const _C=600*1e3;class EC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!J_(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Xa(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_C&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rv(e))}saveEventToCache(e){this.cachedEventUids.add(Rv(e)),this.lastProcessedEventTime=Date.now()}}function Rv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function J_({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function AC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J_(i);default:return!1}}async function SC(i,e={}){return ai(i,"GET","/v1/projects",e)}const TC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wC=/^https?/;async function NC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await SC(i);for(const n of e)try{if(RC(n))return}catch{}Ta(i,"unauthorized-domain")}function RC(i){const e=Yp(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!wC.test(n))return!1;if(TC.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const CC=new wc(3e4,6e4);function Cv(){const i=Ja().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function IC(i){return new Promise((e,n)=>{function r(){Cv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cv(),n(Xa(i,"network-request-failed"))},timeout:CC.get()})}if(Ja().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ja().gapi?.load)r();else{const o=bR("iframefcb");return Ja()[o]=()=>{gapi.load?r():n(Xa(i,"network-request-failed"))},k_(`${yR()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw xd=null,e})}let xd=null;function OC(i){return xd=xd||IC(i),xd}const DC=new wc(5e3,15e3),MC="__/auth/iframe",kC="emulator/auth/iframe",jC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VC(i){const e=i.config;Ie(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Rm(e,kC):`https://${i.config.authDomain}/${MC}`,r={apiKey:e.apiKey,appName:i.name,v:qo},o=PC.get(i.config.apiHost);o&&(r.eid=o);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Tc(r).slice(1)}`}async function LC(i){const e=await OC(i),n=Ja().gapi;return Ie(n,i,"internal-error"),e.open({where:document.body,url:VC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jC,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const f=Xa(i,"network-request-failed"),m=Ja().setTimeout(()=>{c(f)},DC.get());function g(){Ja().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{c(f)})}))}const zC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UC=500,BC=600,HC="_blank",qC="http://localhost";class Iv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FC(i,e,n,r=UC,o=BC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...zC,width:r.toString(),height:o.toString(),top:c,left:f},y=gn().toLowerCase();n&&(m=N_(y)?HC:n),T_(y)&&(e=e||qC,g.scrollbars="yes");const _=Object.entries(g).reduce((R,[j,B])=>`${R}${j}=${B},`,"");if(lR(y)&&m!=="_self")return GC(e||"",m),new Iv(null);const E=window.open(e||"",m,_);Ie(E,i,"popup-blocked");try{E.focus()}catch{}return new Iv(E)}function GC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const QC="__/auth/handler",KC="emulator/auth/handler",YC=encodeURIComponent("fac");async function Ov(i,e,n,r,o,c){Ie(i.config.authDomain,i,"auth-domain-config-required"),Ie(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:qo,eventId:o};if(e instanceof V_){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",Rw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))f[_]=E}if(e instanceof Rc){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(f.scopes=_.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const g=await i._getAppCheckToken(),y=g?`#${YC}=${encodeURIComponent(g)}`:"";return`${$C(i)}?${Tc(m).slice(1)}${y}`}function $C({config:i}){return i.emulator?Rm(i,KC):`https://${i.authDomain}/${QC}`}const jp="webStorageSupport";class XC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G_,this._completeRedirectFn=xC,this._overrideRedirectResult=yC}async _openPopup(e,n,r,o){Di(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Ov(e,n,r,Yp(),o);return FC(e,c,Mm())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await Ov(e,n,r,Yp(),o);return WR(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Di(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LC(e),r=new EC(e);return n.register("authEvent",o=>(Ie(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jp,{type:jp},o=>{const c=o?.[0]?.[jp];c!==void 0&&n(!!c),Ta(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return D_()||w_()||Im()}}const JC=XC;var Dv="@firebase/auth",Mv="1.12.0";class ZC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function WC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e2(i){Co(new xs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;Ie(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M_(i)},y=new pR(r,o,c,g);return SR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Co(new xs("auth-internal",e=>{const n=kr(e.getProvider("auth").getImmediate());return(r=>new ZC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(Dv,Mv,WC(i)),Sr(Dv,Mv,"esm2020")}const t2=300,n2=l_("authIdTokenMaxAge")||t2;let kv=null;const a2=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>n2)return;const o=n?.token;kv!==o&&(kv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function i2(i=p_()){const e=wm(i,"auth");if(e.isInitialized())return e.getImmediate();const n=AR(i,{popupRedirectResolver:JC,persistence:[lC,XR,G_]}),r=l_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const f=a2(c.toString());KR(n,f,()=>f(n.currentUser)),QR(n,m=>f(m))}}const o=s_("auth");return o&&TR(n,`http://${o}`),n}function r2(){return document.getElementsByTagName("head")?.[0]??document}mR({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const c=Xa("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",r2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e2("Browser");var jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Tr,Z_;(function(){var i;function e(I,C){function O(){}O.prototype=C.prototype,I.F=C.prototype,I.prototype=new O,I.prototype.constructor=I,I.D=function(P,S,k){for(var w=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)w[Te-2]=arguments[Te];return C.prototype[S].apply(P,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,C,O){O||(O=0);const P=Array(16);if(typeof C=="string")for(var S=0;S<16;++S)P[S]=C.charCodeAt(O++)|C.charCodeAt(O++)<<8|C.charCodeAt(O++)<<16|C.charCodeAt(O++)<<24;else for(S=0;S<16;++S)P[S]=C[O++]|C[O++]<<8|C[O++]<<16|C[O++]<<24;C=I.g[0],O=I.g[1],S=I.g[2];let k=I.g[3],w;w=C+(k^O&(S^k))+P[0]+3614090360&4294967295,C=O+(w<<7&4294967295|w>>>25),w=k+(S^C&(O^S))+P[1]+3905402710&4294967295,k=C+(w<<12&4294967295|w>>>20),w=S+(O^k&(C^O))+P[2]+606105819&4294967295,S=k+(w<<17&4294967295|w>>>15),w=O+(C^S&(k^C))+P[3]+3250441966&4294967295,O=S+(w<<22&4294967295|w>>>10),w=C+(k^O&(S^k))+P[4]+4118548399&4294967295,C=O+(w<<7&4294967295|w>>>25),w=k+(S^C&(O^S))+P[5]+1200080426&4294967295,k=C+(w<<12&4294967295|w>>>20),w=S+(O^k&(C^O))+P[6]+2821735955&4294967295,S=k+(w<<17&4294967295|w>>>15),w=O+(C^S&(k^C))+P[7]+4249261313&4294967295,O=S+(w<<22&4294967295|w>>>10),w=C+(k^O&(S^k))+P[8]+1770035416&4294967295,C=O+(w<<7&4294967295|w>>>25),w=k+(S^C&(O^S))+P[9]+2336552879&4294967295,k=C+(w<<12&4294967295|w>>>20),w=S+(O^k&(C^O))+P[10]+4294925233&4294967295,S=k+(w<<17&4294967295|w>>>15),w=O+(C^S&(k^C))+P[11]+2304563134&4294967295,O=S+(w<<22&4294967295|w>>>10),w=C+(k^O&(S^k))+P[12]+1804603682&4294967295,C=O+(w<<7&4294967295|w>>>25),w=k+(S^C&(O^S))+P[13]+4254626195&4294967295,k=C+(w<<12&4294967295|w>>>20),w=S+(O^k&(C^O))+P[14]+2792965006&4294967295,S=k+(w<<17&4294967295|w>>>15),w=O+(C^S&(k^C))+P[15]+1236535329&4294967295,O=S+(w<<22&4294967295|w>>>10),w=C+(S^k&(O^S))+P[1]+4129170786&4294967295,C=O+(w<<5&4294967295|w>>>27),w=k+(O^S&(C^O))+P[6]+3225465664&4294967295,k=C+(w<<9&4294967295|w>>>23),w=S+(C^O&(k^C))+P[11]+643717713&4294967295,S=k+(w<<14&4294967295|w>>>18),w=O+(k^C&(S^k))+P[0]+3921069994&4294967295,O=S+(w<<20&4294967295|w>>>12),w=C+(S^k&(O^S))+P[5]+3593408605&4294967295,C=O+(w<<5&4294967295|w>>>27),w=k+(O^S&(C^O))+P[10]+38016083&4294967295,k=C+(w<<9&4294967295|w>>>23),w=S+(C^O&(k^C))+P[15]+3634488961&4294967295,S=k+(w<<14&4294967295|w>>>18),w=O+(k^C&(S^k))+P[4]+3889429448&4294967295,O=S+(w<<20&4294967295|w>>>12),w=C+(S^k&(O^S))+P[9]+568446438&4294967295,C=O+(w<<5&4294967295|w>>>27),w=k+(O^S&(C^O))+P[14]+3275163606&4294967295,k=C+(w<<9&4294967295|w>>>23),w=S+(C^O&(k^C))+P[3]+4107603335&4294967295,S=k+(w<<14&4294967295|w>>>18),w=O+(k^C&(S^k))+P[8]+1163531501&4294967295,O=S+(w<<20&4294967295|w>>>12),w=C+(S^k&(O^S))+P[13]+2850285829&4294967295,C=O+(w<<5&4294967295|w>>>27),w=k+(O^S&(C^O))+P[2]+4243563512&4294967295,k=C+(w<<9&4294967295|w>>>23),w=S+(C^O&(k^C))+P[7]+1735328473&4294967295,S=k+(w<<14&4294967295|w>>>18),w=O+(k^C&(S^k))+P[12]+2368359562&4294967295,O=S+(w<<20&4294967295|w>>>12),w=C+(O^S^k)+P[5]+4294588738&4294967295,C=O+(w<<4&4294967295|w>>>28),w=k+(C^O^S)+P[8]+2272392833&4294967295,k=C+(w<<11&4294967295|w>>>21),w=S+(k^C^O)+P[11]+1839030562&4294967295,S=k+(w<<16&4294967295|w>>>16),w=O+(S^k^C)+P[14]+4259657740&4294967295,O=S+(w<<23&4294967295|w>>>9),w=C+(O^S^k)+P[1]+2763975236&4294967295,C=O+(w<<4&4294967295|w>>>28),w=k+(C^O^S)+P[4]+1272893353&4294967295,k=C+(w<<11&4294967295|w>>>21),w=S+(k^C^O)+P[7]+4139469664&4294967295,S=k+(w<<16&4294967295|w>>>16),w=O+(S^k^C)+P[10]+3200236656&4294967295,O=S+(w<<23&4294967295|w>>>9),w=C+(O^S^k)+P[13]+681279174&4294967295,C=O+(w<<4&4294967295|w>>>28),w=k+(C^O^S)+P[0]+3936430074&4294967295,k=C+(w<<11&4294967295|w>>>21),w=S+(k^C^O)+P[3]+3572445317&4294967295,S=k+(w<<16&4294967295|w>>>16),w=O+(S^k^C)+P[6]+76029189&4294967295,O=S+(w<<23&4294967295|w>>>9),w=C+(O^S^k)+P[9]+3654602809&4294967295,C=O+(w<<4&4294967295|w>>>28),w=k+(C^O^S)+P[12]+3873151461&4294967295,k=C+(w<<11&4294967295|w>>>21),w=S+(k^C^O)+P[15]+530742520&4294967295,S=k+(w<<16&4294967295|w>>>16),w=O+(S^k^C)+P[2]+3299628645&4294967295,O=S+(w<<23&4294967295|w>>>9),w=C+(S^(O|~k))+P[0]+4096336452&4294967295,C=O+(w<<6&4294967295|w>>>26),w=k+(O^(C|~S))+P[7]+1126891415&4294967295,k=C+(w<<10&4294967295|w>>>22),w=S+(C^(k|~O))+P[14]+2878612391&4294967295,S=k+(w<<15&4294967295|w>>>17),w=O+(k^(S|~C))+P[5]+4237533241&4294967295,O=S+(w<<21&4294967295|w>>>11),w=C+(S^(O|~k))+P[12]+1700485571&4294967295,C=O+(w<<6&4294967295|w>>>26),w=k+(O^(C|~S))+P[3]+2399980690&4294967295,k=C+(w<<10&4294967295|w>>>22),w=S+(C^(k|~O))+P[10]+4293915773&4294967295,S=k+(w<<15&4294967295|w>>>17),w=O+(k^(S|~C))+P[1]+2240044497&4294967295,O=S+(w<<21&4294967295|w>>>11),w=C+(S^(O|~k))+P[8]+1873313359&4294967295,C=O+(w<<6&4294967295|w>>>26),w=k+(O^(C|~S))+P[15]+4264355552&4294967295,k=C+(w<<10&4294967295|w>>>22),w=S+(C^(k|~O))+P[6]+2734768916&4294967295,S=k+(w<<15&4294967295|w>>>17),w=O+(k^(S|~C))+P[13]+1309151649&4294967295,O=S+(w<<21&4294967295|w>>>11),w=C+(S^(O|~k))+P[4]+4149444226&4294967295,C=O+(w<<6&4294967295|w>>>26),w=k+(O^(C|~S))+P[11]+3174756917&4294967295,k=C+(w<<10&4294967295|w>>>22),w=S+(C^(k|~O))+P[2]+718787259&4294967295,S=k+(w<<15&4294967295|w>>>17),w=O+(k^(S|~C))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(S+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+S&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.v=function(I,C){C===void 0&&(C=I.length);const O=C-this.blockSize,P=this.C;let S=this.h,k=0;for(;k<C;){if(S==0)for(;k<=O;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<C;)if(P[S++]=I.charCodeAt(k++),S==this.blockSize){o(this,P),S=0;break}}else for(;k<C;)if(P[S++]=I[k++],S==this.blockSize){o(this,P),S=0;break}}this.h=S,this.o+=C},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var O=I.length-8;O<I.length;++O)I[O]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,O=0;O<4;++O)for(let P=0;P<32;P+=8)I[C++]=this.g[O]>>>P&255;return I};function c(I,C){var O=m;return Object.prototype.hasOwnProperty.call(O,I)?O[I]:O[I]=C(I)}function f(I,C){this.h=C;const O=[];let P=!0;for(let S=I.length-1;S>=0;S--){const k=I[S]|0;P&&k==C||(O[S]=k,P=!1)}this.g=O}var m={};function g(I){return-128<=I&&I<128?c(I,function(C){return new f([C|0],C<0?-1:0)}):new f([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return E;if(I<0)return Q(y(-I));const C=[];let O=1;for(let P=0;I>=O;P++)C[P]=I/O|0,O*=4294967296;return new f(C,0)}function _(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return Q(_(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=y(Math.pow(C,8));let P=E;for(let k=0;k<I.length;k+=8){var S=Math.min(8,I.length-k);const w=parseInt(I.substring(k,k+S),C);S<8?(S=y(Math.pow(C,S)),P=P.j(S).add(y(w))):(P=P.j(O),P=P.add(y(w)))}return P}var E=g(0),R=g(1),j=g(16777216);i=f.prototype,i.m=function(){if(L(this))return-Q(this).m();let I=0,C=1;for(let O=0;O<this.g.length;O++){const P=this.i(O);I+=(P>=0?P:4294967296+P)*C,C*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(B(this))return"0";if(L(this))return"-"+Q(this).toString(I);const C=y(Math.pow(I,6));var O=this;let P="";for(;;){const S=pe(O,C).g;O=ie(O,S.j(C));let k=((O.g.length>0?O.g[0]:O.h)>>>0).toString(I);if(O=S,B(O))return k+P;for(;k.length<6;)k="0"+k;P=k+P}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function B(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function L(I){return I.h==-1}i.l=function(I){return I=ie(this,I),L(I)?-1:B(I)?0:1};function Q(I){const C=I.g.length,O=[];for(let P=0;P<C;P++)O[P]=~I.g[P];return new f(O,~I.h).add(R)}i.abs=function(){return L(this)?Q(this):this},i.add=function(I){const C=Math.max(this.g.length,I.g.length),O=[];let P=0;for(let S=0;S<=C;S++){let k=P+(this.i(S)&65535)+(I.i(S)&65535),w=(k>>>16)+(this.i(S)>>>16)+(I.i(S)>>>16);P=w>>>16,k&=65535,w&=65535,O[S]=w<<16|k}return new f(O,O[O.length-1]&-2147483648?-1:0)};function ie(I,C){return I.add(Q(C))}i.j=function(I){if(B(this)||B(I))return E;if(L(this))return L(I)?Q(this).j(Q(I)):Q(Q(this).j(I));if(L(I))return Q(this.j(Q(I)));if(this.l(j)<0&&I.l(j)<0)return y(this.m()*I.m());const C=this.g.length+I.g.length,O=[];for(var P=0;P<2*C;P++)O[P]=0;for(P=0;P<this.g.length;P++)for(let S=0;S<I.g.length;S++){const k=this.i(P)>>>16,w=this.i(P)&65535,Te=I.i(S)>>>16,De=I.i(S)&65535;O[2*P+2*S]+=w*De,q(O,2*P+2*S),O[2*P+2*S+1]+=k*De,q(O,2*P+2*S+1),O[2*P+2*S+1]+=w*Te,q(O,2*P+2*S+1),O[2*P+2*S+2]+=k*Te,q(O,2*P+2*S+2)}for(I=0;I<C;I++)O[I]=O[2*I+1]<<16|O[2*I];for(I=C;I<2*C;I++)O[I]=0;return new f(O,0)};function q(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function ne(I,C){this.g=I,this.h=C}function pe(I,C){if(B(C))throw Error("division by zero");if(B(I))return new ne(E,E);if(L(I))return C=pe(Q(I),C),new ne(Q(C.g),Q(C.h));if(L(C))return C=pe(I,Q(C)),new ne(Q(C.g),C.h);if(I.g.length>30){if(L(I)||L(C))throw Error("slowDivide_ only works with positive integers.");for(var O=R,P=C;P.l(I)<=0;)O=ue(O),P=ue(P);var S=ge(O,1),k=ge(P,1);for(P=ge(P,2),O=ge(O,2);!B(P);){var w=k.add(P);w.l(I)<=0&&(S=S.add(O),k=w),P=ge(P,1),O=ge(O,1)}return C=ie(I,S.j(C)),new ne(S,C)}for(S=E;I.l(C)>=0;){for(O=Math.max(1,Math.floor(I.m()/C.m())),P=Math.ceil(Math.log(O)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),k=y(O),w=k.j(C);L(w)||w.l(I)>0;)O-=P,k=y(O),w=k.j(C);B(k)&&(k=R),S=S.add(k),I=ie(I,w)}return new ne(S,I)}i.B=function(I){return pe(this,I).h},i.and=function(I){const C=Math.max(this.g.length,I.g.length),O=[];for(let P=0;P<C;P++)O[P]=this.i(P)&I.i(P);return new f(O,this.h&I.h)},i.or=function(I){const C=Math.max(this.g.length,I.g.length),O=[];for(let P=0;P<C;P++)O[P]=this.i(P)|I.i(P);return new f(O,this.h|I.h)},i.xor=function(I){const C=Math.max(this.g.length,I.g.length),O=[];for(let P=0;P<C;P++)O[P]=this.i(P)^I.i(P);return new f(O,this.h^I.h)};function ue(I){const C=I.g.length+1,O=[];for(let P=0;P<C;P++)O[P]=I.i(P)<<1|I.i(P-1)>>>31;return new f(O,I.h)}function ge(I,C){const O=C>>5;C%=32;const P=I.g.length-O,S=[];for(let k=0;k<P;k++)S[k]=C>0?I.i(k+O)>>>C|I.i(k+O+1)<<32-C:I.i(k+O);return new f(S,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Z_=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=_,Tr=f}).apply(typeof jv<"u"?jv:typeof self<"u"?self:typeof window<"u"?window:{});var ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var W_,nc,eE,_d,Jp,tE,nE,aE;(function(){var i,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ud=="object"&&ud];for(var b=0;b<u.length;++b){var x=u[b];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function o(u,b){if(b)e:{var x=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var H=u[T];if(!(H in x))break e;x=x[H]}u=u[u.length-1],T=x[u],b=b(T),b!=T&&b!=null&&e(x,u,{configurable:!0,writable:!0,value:b})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(b){var x=[],T;for(T in b)Object.prototype.hasOwnProperty.call(b,T)&&x.push([T,b[T]]);return x}});var c=c||{},f=this||self;function m(u){var b=typeof u;return b=="object"&&u!=null||b=="function"}function g(u,b,x){return u.call.apply(u.bind,arguments)}function y(u,b,x){return y=g,y.apply(null,arguments)}function _(u,b){var x=Array.prototype.slice.call(arguments,1);return function(){var T=x.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function E(u,b){function x(){}x.prototype=b.prototype,u.Z=b.prototype,u.prototype=new x,u.prototype.constructor=u,u.Ob=function(T,H,$){for(var ce=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ce[ze-2]=arguments[ze];return b.prototype[H].apply(T,ce)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const b=u.length;if(b>0){const x=Array(b);for(let T=0;T<b;T++)x[T]=u[T];return x}return[]}function B(u,b){for(let T=1;T<arguments.length;T++){const H=arguments[T];var x=typeof H;if(x=x!="object"?x:H?Array.isArray(H)?"array":x:"null",x=="array"||x=="object"&&typeof H.length=="number"){x=u.length||0;const $=H.length||0;u.length=x+$;for(let ce=0;ce<$;ce++)u[x+ce]=H[ce]}else u.push(H)}}class L{constructor(b,x){this.i=b,this.j=x,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function Q(u){f.setTimeout(()=>{throw u},0)}function ie(){var u=I;let b=null;return u.g&&(b=u.g,u.g=u.g.next,u.g||(u.h=null),b.next=null),b}class q{constructor(){this.h=this.g=null}add(b,x){const T=ne.get();T.set(b,x),this.h?this.h.next=T:this.g=T,this.h=T}}var ne=new L(()=>new pe,u=>u.reset());class pe{constructor(){this.next=this.g=this.h=null}set(b,x){this.h=b,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ge=!1,I=new q,C=()=>{const u=Promise.resolve(void 0);ue=()=>{u.then(O)}};function O(){for(var u;u=ie();){try{u.h.call(u.g)}catch(x){Q(x)}var b=ne;b.j(u),b.h<100&&(b.h++,u.next=b.g,b.g=u)}ge=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function S(u,b){this.type=u,this.g=this.target=b,this.defaultPrevented=!1}S.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,b=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};f.addEventListener("test",x,b),f.removeEventListener("test",x,b)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Te(u,b){S.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,b)}E(Te,S),Te.prototype.init=function(u,b){const x=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=b,b=u.relatedTarget,b||(x=="mouseover"?b=u.fromElement:x=="mouseout"&&(b=u.toElement)),this.relatedTarget=b,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Te.Z.h.call(this)},Te.prototype.h=function(){Te.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),J=0;function le(u,b,x,T,H){this.listener=u,this.proxy=null,this.src=b,this.type=x,this.capture=!!T,this.ha=H,this.key=++J,this.da=this.fa=!1}function xe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ve(u,b,x){for(const T in u)b.call(x,u[T],T,u)}function He(u,b){for(const x in u)b.call(void 0,u[x],x,u)}function N(u){const b={};for(const x in u)b[x]=u[x];return b}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,b){let x,T;for(let H=1;H<arguments.length;H++){T=arguments[H];for(x in T)u[x]=T[x];for(let $=0;$<Y.length;$++)x=Y[$],Object.prototype.hasOwnProperty.call(T,x)&&(u[x]=T[x])}}function oe(u){this.src=u,this.g={},this.h=0}oe.prototype.add=function(u,b,x,T,H){const $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);const ce=ve(u,b,T,H);return ce>-1?(b=u[ce],x||(b.fa=!1)):(b=new le(b,this.src,$,!!T,H),b.fa=x,u.push(b)),b};function he(u,b){const x=b.type;if(x in u.g){var T=u.g[x],H=Array.prototype.indexOf.call(T,b,void 0),$;($=H>=0)&&Array.prototype.splice.call(T,H,1),$&&(xe(b),u.g[x].length==0&&(delete u.g[x],u.h--))}}function ve(u,b,x,T){for(let H=0;H<u.length;++H){const $=u[H];if(!$.da&&$.listener==b&&$.capture==!!x&&$.ha==T)return H}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),Ge={};function ke(u,b,x,T,H){if(Array.isArray(b)){for(let $=0;$<b.length;$++)ke(u,b[$],x,T,H);return null}return x=U(x),u&&u[De]?u.J(b,x,m(T)?!!T.capture:!1,H):mt(u,b,x,!1,T,H)}function mt(u,b,x,T,H,$){if(!b)throw Error("Invalid event type");const ce=m(H)?!!H.capture:!!H;let ze=Re(u);if(ze||(u[Ne]=ze=new oe(u)),x=ze.add(b,x,T,ce,$),x.proxy)return x;if(T=cn(),x.proxy=T,T.src=u,T.listener=x,u.addEventListener)k||(H=ce),H===void 0&&(H=!1),u.addEventListener(b.toString(),T,H);else if(u.attachEvent)u.attachEvent(Ee(b.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return x}function cn(){function u(x){return b.call(u.src,u.listener,x)}const b=de;return u}function Kt(u,b,x,T,H){if(Array.isArray(b))for(var $=0;$<b.length;$++)Kt(u,b[$],x,T,H);else T=m(T)?!!T.capture:!!T,x=U(x),u&&u[De]?(u=u.i,$=String(b).toString(),$ in u.g&&(b=u.g[$],x=ve(b,x,T,H),x>-1&&(xe(b[x]),Array.prototype.splice.call(b,x,1),b.length==0&&(delete u.g[$],u.h--)))):u&&(u=Re(u))&&(b=u.g[b.toString()],u=-1,b&&(u=ve(b,x,T,H)),(x=u>-1?b[u]:null)&&Z(x))}function Z(u){if(typeof u!="number"&&u&&!u.da){var b=u.src;if(b&&b[De])he(b.i,u);else{var x=u.type,T=u.proxy;b.removeEventListener?b.removeEventListener(x,T,u.capture):b.detachEvent?b.detachEvent(Ee(x),T):b.addListener&&b.removeListener&&b.removeListener(T),(x=Re(b))?(he(x,u),x.h==0&&(x.src=null,b[Ne]=null)):xe(u)}}}function Ee(u){return u in Ge?Ge[u]:Ge[u]="on"+u}function de(u,b){if(u.da)u=!0;else{b=new Te(b,this);const x=u.listener,T=u.ha||u.src;u.fa&&Z(u),u=x.call(T,b)}return u}function Re(u){return u=u[Ne],u instanceof oe?u:null}var Le="__closure_events_fn_"+(Math.random()*1e9>>>0);function U(u){return typeof u=="function"?u:(u[Le]||(u[Le]=function(b){return u.handleEvent(b)}),u[Le])}function be(){P.call(this),this.i=new oe(this),this.M=this,this.G=null}E(be,P),be.prototype[De]=!0,be.prototype.removeEventListener=function(u,b,x,T){Kt(this,u,b,x,T)};function Je(u,b){var x,T=u.G;if(T)for(x=[];T;T=T.G)x.push(T);if(u=u.M,T=b.type||b,typeof b=="string")b=new S(b,u);else if(b instanceof S)b.target=b.target||u;else{var H=b;b=new S(T,u),se(b,H)}H=!0;let $,ce;if(x)for(ce=x.length-1;ce>=0;ce--)$=b.g=x[ce],H=un($,T,!0,b)&&H;if($=b.g=u,H=un($,T,!0,b)&&H,H=un($,T,!1,b)&&H,x)for(ce=0;ce<x.length;ce++)$=b.g=x[ce],H=un($,T,!1,b)&&H}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var u=this.i;for(const b in u.g){const x=u.g[b];for(let T=0;T<x.length;T++)xe(x[T]);delete u.g[b],u.h--}}this.G=null},be.prototype.J=function(u,b,x,T){return this.i.add(String(u),b,!1,x,T)},be.prototype.K=function(u,b,x,T){return this.i.add(String(u),b,!0,x,T)};function un(u,b,x,T){if(b=u.i.g[String(b)],!b)return!0;b=b.concat();let H=!0;for(let $=0;$<b.length;++$){const ce=b[$];if(ce&&!ce.da&&ce.capture==x){const ze=ce.listener,Rt=ce.ha||ce.src;ce.fa&&he(u.i,ce),H=ze.call(Rt,T)!==!1&&H}}return H&&!T.defaultPrevented}function xn(u,b){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:f.setTimeout(u,b||0)}function kn(u){u.g=xn(()=>{u.g=null,u.i&&(u.i=!1,kn(u))},u.l);const b=u.h;u.h=null,u.m.apply(null,b)}class Zt extends P{constructor(b,x){super(),this.m=b,this.l=x,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:kn(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ii(u){P.call(this),this.h=u,this.g={}}E(ii,P);var Lr=[];function zr(u){Ve(u.g,function(b,x){this.g.hasOwnProperty(x)&&Z(b)},u),u.g={}}ii.prototype.N=function(){ii.Z.N.call(this),zr(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dn=f.JSON.stringify,_n=f.JSON.parse,Ur=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function jc(){}function Pc(){}var ua={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){S.call(this,"d")}E(Wt,S);function Kn(){S.call(this,"c")}E(Kn,S);var Nt={},Vc=null;function Is(){return Vc=Vc||new be}Nt.Ia="serverreachability";function Lc(u){S.call(this,Nt.Ia,u)}E(Lc,S);function Na(u){const b=Is();Je(b,new Lc(b))}Nt.STAT_EVENT="statevent";function Br(u,b){S.call(this,Nt.STAT_EVENT,u),this.stat=b}E(Br,S);function Mt(u){const b=Is();Je(b,new Br(b,u))}Nt.Ja="timingevent";function Ra(u,b){S.call(this,Nt.Ja,u),this.size=b}E(Ra,S);function Ca(u,b){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},b)}function da(){this.g=!0}da.prototype.ua=function(){this.g=!1};function Sf(u,b,x,T,H,$){u.info(function(){if(u.g)if($){var ce="",ze=$.split("&");for(let it=0;it<ze.length;it++){var Rt=ze[it].split("=");if(Rt.length>1){const xt=Rt[0];Rt=Rt[1];const Jn=xt.split("_");ce=Jn.length>=2&&Jn[1]=="type"?ce+(xt+"="+Rt+"&"):ce+(xt+"=redacted&")}}}else ce=null;else ce=$;return"XMLHTTP REQ ("+T+") [attempt "+H+"]: "+b+`
`+x+`
`+ce})}function zc(u,b,x,T,H,$,ce){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+H+"]: "+b+`
`+x+`
`+$+" "+ce})}function Ia(u,b,x,T){u.info(function(){return"XMLHTTP TEXT ("+b+"): "+Tf(u,x)+(T?" "+T:"")})}function Hr(u,b){u.info(function(){return"TIMEOUT: "+b})}da.prototype.info=function(){};function Tf(u,b){if(!u.g)return b;if(!b)return null;try{const $=JSON.parse(b);if($){for(u=0;u<$.length;u++)if(Array.isArray($[u])){var x=$[u];if(!(x.length<2)){var T=x[1];if(Array.isArray(T)&&!(T.length<1)){var H=T[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ce=1;ce<T.length;ce++)T[ce]=""}}}}return dn($)}catch{return b}}var qr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Jo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Zo;function Fr(){}E(Fr,jc),Fr.prototype.g=function(){return new XMLHttpRequest},Zo=new Fr;function ri(u){return encodeURIComponent(String(u))}function Uc(u){var b=1;u=u.split(":");const x=[];for(;b>0&&u.length;)x.push(u.shift()),b--;return u.length&&x.push(u.join(":")),x}function fa(u,b,x,T){this.j=u,this.i=b,this.l=x,this.S=T||1,this.V=new ii(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ha}function ha(){this.i=null,this.g="",this.h=!1}var kt={},Yt={};function Oa(u,b,x){u.M=1,u.A=Gr(Pt(b)),u.u=x,u.R=!0,Os(u,null)}function Os(u,b){u.F=Date.now(),Da(u),u.B=Pt(u.A);var x=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),js(x.i,"t",T),u.C=0,x=u.j.L,u.h=new ha,u.g=tu(u.j,x?b:null,!u.u),u.P>0&&(u.O=new Zt(y(u.Y,u,u.g),u.P)),b=u.V,x=u.g,T=u.ba;var H="readystatechange";Array.isArray(H)||(H&&(Lr[0]=H.toString()),H=Lr);for(let $=0;$<H.length;$++){const ce=ke(x,H[$],T||b.handleEvent,!1,b.h||b);if(!ce)break;b.g[ce.key]=ce}b=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,b)):(u.v="GET",u.g.ea(u.B,u.v,null,b)),Na(),Sf(u.i,u.v,u.B,u.l,u.S,u.u)}fa.prototype.ba=function(u){u=u.target;const b=this.O;b&&ga(u)==3?b.j():this.Y(u)},fa.prototype.Y=function(u){try{if(u==this.g)e:{const ze=ga(this.g),Rt=this.g.ya(),it=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||ze!=4||Rt==7||(Rt==8||it<=0?Na(3):Na(2)),Ma(this);var b=this.g.ca();this.X=b;var x=wf(this);if(this.o=b==200,zc(this.i,this.v,this.B,this.l,this.S,ze,b),this.o){if(this.U&&!this.L){t:{if(this.g){var T,H=this.g;if((T=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var $=T;break t}}$=null}if(u=$)Ia(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ka(this,u);else{this.o=!1,this.m=3,Mt(12),jn(this),Yn(this);break e}}if(this.R){u=!0;let xt;for(;!this.K&&this.C<x.length;)if(xt=Hc(this,x),xt==Yt){ze==4&&(this.m=4,Mt(14),u=!1),Ia(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==kt){this.m=4,Mt(15),Ia(this.i,this.l,x,"[Invalid Chunk]"),u=!1;break}else Ia(this.i,this.l,xt,null),ka(this,xt);if(Bc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||x.length!=0||this.h.h||(this.m=1,Mt(16),u=!1),this.o=this.o&&u,!u)Ia(this.i,this.l,x,"[Invalid Chunked Response]"),jn(this),Yn(this);else if(x.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),hl(ce),ce.P=!0,Mt(11))}}else Ia(this.i,this.l,x,null),ka(this,x);ze==4&&jn(this),this.o&&!this.K&&(ze==4?Jc(this.j,this):(this.o=!1,Da(this)))}else oi(this.g),b==400&&x.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),jn(this),Yn(this)}}}catch{}};function wf(u){if(!Bc(u))return u.g.la();const b=en(u.g);if(b==="")return"";let x="";const T=b.length,H=ga(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return jn(u),Yn(u),"";u.h.i=new f.TextDecoder}for(let $=0;$<T;$++)u.h.h=!0,x+=u.h.i.decode(b[$],{stream:!(H&&$==T-1)});return b.length=0,u.h.g+=x,u.C=0,u.h.g}function Bc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Hc(u,b){var x=u.C,T=b.indexOf(`
`,x);return T==-1?Yt:(x=Number(b.substring(x,T)),isNaN(x)?kt:(T+=1,T+x>b.length?Yt:(b=b.slice(T,T+x),u.C=T+x,b)))}fa.prototype.cancel=function(){this.K=!0,jn(this)};function Da(u){u.T=Date.now()+u.H,Ds(u,u.H)}function Ds(u,b){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ca(y(u.aa,u),b)}function Ma(u){u.D&&(f.clearTimeout(u.D),u.D=null)}fa.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Hr(this.i,this.B),this.M!=2&&(Na(),Mt(17)),jn(this),this.m=2,Yn(this)):Ds(this,this.T-u)};function Yn(u){u.j.I==0||u.K||Jc(u.j,u)}function jn(u){Ma(u);var b=u.O;b&&typeof b.dispose=="function"&&b.dispose(),u.O=null,zr(u.V),u.g&&(b=u.g,u.g=null,b.abort(),b.dispose())}function ka(u,b){try{var x=u.j;if(x.I!=0&&(x.g==u||Pa(x.h,u))){if(!u.L&&Pa(x.h,u)&&x.I==3){try{var T=x.Ba.g.parse(b)}catch{T=null}if(Array.isArray(T)&&T.length==3){var H=T;if(H[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<u.F)Us(x),Qi(x);else break e;Zr(x),Mt(18)}}else x.xa=H[1],0<x.xa-x.K&&H[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Ca(y(x.Va,x),6e3));ja(x.h)<=1&&x.ta&&(x.ta=void 0)}else Ha(x,11)}else if((u.L||x.g==u)&&Us(x),!w(b))for(H=x.Ba.g.parse(b),b=0;b<H.length;b++){let it=H[b];const xt=it[0];if(!(xt<=x.K))if(x.K=xt,it=it[1],x.I==2)if(it[0]=="c"){x.M=it[1],x.ba=it[2];const Jn=it[3];Jn!=null&&(x.ka=Jn,x.j.info("VER="+x.ka));const qa=it[4];qa!=null&&(x.za=qa,x.j.info("SVER="+x.za));const ya=it[5];ya!=null&&typeof ya=="number"&&ya>0&&(T=1.5*ya,x.O=T,x.j.info("backChannelRequestTimeoutMs_="+T)),T=x;const ba=u.g;if(ba){const Wr=ba.g?ba.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wr){var $=T.h;$.g||Wr.indexOf("spdy")==-1&&Wr.indexOf("quic")==-1&&Wr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(tl($,$.h),$.h=null))}if(T.G){const Bs=ba.g?ba.g.getResponseHeader("X-HTTP-Session-Id"):null;Bs&&(T.wa=Bs,ot(T.J,T.G,Bs))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-u.F,x.j.info("Handshake RTT: "+x.T+"ms")),T=x;var ce=u;if(T.na=eu(T,T.L?T.ba:null,T.W),ce.L){nl(T.h,ce);var ze=ce,Rt=T.O;Rt&&(ze.H=Rt),ze.D&&(Ma(ze),Da(ze)),T.g=ce}else $c(T);x.i.length>0&&Ba(x)}else it[0]!="stop"&&it[0]!="close"||Ha(x,7);else x.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Ha(x,7):dl(x):it[0]!="noop"&&x.l&&x.l.qa(it),x.A=0)}}Na(4)}catch{}}var jt=class{constructor(u,b){this.g=u,this.map=b}};function Wo(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function el(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ja(u){return u.h?1:u.g?u.g.size:0}function Pa(u,b){return u.h?u.h==b:u.g?u.g.has(b):!1}function tl(u,b){u.g?u.g.add(b):u.h=b}function nl(u,b){u.h&&u.h==b?u.h=null:u.g&&u.g.has(b)&&u.g.delete(b)}Wo.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function al(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let b=u.i;for(const x of u.g.values())b=b.concat(x.G);return b}return j(u.i)}var qc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ms(u,b){if(u){u=u.split("&");for(let x=0;x<u.length;x++){const T=u[x].indexOf("=");let H,$=null;T>=0?(H=u[x].substring(0,T),$=u[x].substring(T+1)):H=u[x],b(H,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;u instanceof Pn?(this.l=u.l,$t(this,u.j),this.o=u.o,this.g=u.g,zi(this,u.u),this.h=u.h,il(this,Kc(u.i)),this.m=u.m):u&&(b=String(u).match(qc))?(this.l=!1,$t(this,b[1]||"",!0),this.o=Va(b[2]||""),this.g=Va(b[3]||"",!0),zi(this,b[4]),this.h=Va(b[5]||"",!0),il(this,b[6]||"",!0),this.m=Va(b[7]||"")):(this.l=!1,this.i=new Bi(null,this.l))}Pn.prototype.toString=function(){const u=[];var b=this.j;b&&u.push(Qr(b,ks,!0),":");var x=this.g;return(x||b=="file")&&(u.push("//"),(b=this.o)&&u.push(Qr(b,ks,!0),"@"),u.push(ri(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&u.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(Qr(x,x.charAt(0)=="/"?rl:Fc,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",Qr(x,Gc)),u.join("")},Pn.prototype.resolve=function(u){const b=Pt(this);let x=!!u.j;x?$t(b,u.j):x=!!u.o,x?b.o=u.o:x=!!u.g,x?b.g=u.g:x=u.u!=null;var T=u.h;if(x)zi(b,u.u);else if(x=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var H=b.h.lastIndexOf("/");H!=-1&&(T=b.h.slice(0,H+1)+T)}if(H=T,H==".."||H==".")T="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){T=H.lastIndexOf("/",0)==0,H=H.split("/");const $=[];for(let ce=0;ce<H.length;){const ze=H[ce++];ze=="."?T&&ce==H.length&&$.push(""):ze==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),T&&ce==H.length&&$.push("")):($.push(ze),T=!0)}T=$.join("/")}else T=H}return x?b.h=T:x=u.i.toString()!=="",x?il(b,Kc(u.i)):x=!!u.m,x&&(b.m=u.m),b};function Pt(u){return new Pn(u)}function $t(u,b,x){u.j=x?Va(b,!0):b,u.j&&(u.j=u.j.replace(/:$/,""))}function zi(u,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);u.u=b}else u.u=null}function il(u,b,x){b instanceof Bi?(u.i=b,Ps(u.i,u.l)):(x||(b=Qr(b,Ui)),u.i=new Bi(b,u.l))}function ot(u,b,x){u.i.set(b,x)}function Gr(u){return ot(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Va(u,b){return u?b?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Qr(u,b,x){return typeof u=="string"?(u=encodeURI(u).replace(b,En),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function En(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ks=/[#\/\?@]/g,Fc=/[#\?:]/g,rl=/[#\?]/g,Ui=/[#\?@]/g,Gc=/#/g;function Bi(u,b){this.h=this.g=null,this.i=u||null,this.j=!!b}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&Ms(u.i,function(b,x){u.add(decodeURIComponent(b.replace(/\+/g," ")),x)}))}i=Bi.prototype,i.add=function(u,b){An(this),this.i=null,u=Hi(this,u);let x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(b),this.h+=1,this};function Qc(u,b){An(u),b=Hi(u,b),u.g.has(b)&&(u.i=null,u.h-=u.g.get(b).length,u.g.delete(b))}function sl(u,b){return An(u),b=Hi(u,b),u.g.has(b)}i.forEach=function(u,b){An(this),this.g.forEach(function(x,T){x.forEach(function(H){u.call(b,H,T,this)},this)},this)};function ol(u,b){An(u);let x=[];if(typeof b=="string")sl(u,b)&&(x=x.concat(u.g.get(Hi(u,b))));else for(u=Array.from(u.g.values()),b=0;b<u.length;b++)x=x.concat(u[b]);return x}i.set=function(u,b){return An(this),this.i=null,u=Hi(this,u),sl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[b]),this.h+=1,this},i.get=function(u,b){return u?(u=ol(this,u),u.length>0?String(u[0]):b):b};function js(u,b,x){Qc(u,b),x.length>0&&(u.i=null,u.g.set(Hi(u,b),j(x)),u.h+=x.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],b=Array.from(this.g.keys());for(let T=0;T<b.length;T++){var x=b[T];const H=ri(x);x=ol(this,x);for(let $=0;$<x.length;$++){let ce=H;x[$]!==""&&(ce+="="+ri(x[$])),u.push(ce)}}return this.i=u.join("&")};function Kc(u){const b=new Bi;return b.i=u.i,u.g&&(b.g=new Map(u.g),b.h=u.h),b}function Hi(u,b){return b=String(b),u.j&&(b=b.toLowerCase()),b}function Ps(u,b){b&&!u.j&&(An(u),u.i=null,u.g.forEach(function(x,T){const H=T.toLowerCase();T!=H&&(Qc(this,T),js(this,H,x))},u)),u.j=b}function pa(u,b){const x=new da;if(f.Image){const T=new Image;T.onload=_($n,x,"TestLoadImage: loaded",!0,b,T),T.onerror=_($n,x,"TestLoadImage: error",!1,b,T),T.onabort=_($n,x,"TestLoadImage: abort",!1,b,T),T.ontimeout=_($n,x,"TestLoadImage: timeout",!1,b,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else b(!1)}function ll(u,b){const x=new da,T=new AbortController,H=setTimeout(()=>{T.abort(),$n(x,"TestPingServer: timeout",!1,b)},1e4);fetch(u,{signal:T.signal}).then($=>{clearTimeout(H),$.ok?$n(x,"TestPingServer: ok",!0,b):$n(x,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(H),$n(x,"TestPingServer: error",!1,b)})}function $n(u,b,x,T,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),T(x)}catch{}}function qi(){this.g=new Ur}function La(u){this.i=u.Sb||null,this.h=u.ab||!1}E(La,jc),La.prototype.g=function(){return new Kr(this.i,this.h)};function Kr(u,b){be.call(this),this.H=u,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Kr,be),i=Kr.prototype,i.open=function(u,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=b,this.readyState=1,ma(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(b.body=u),(this.H||f).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fi(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vs(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vs(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var b=u.value?u.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!u.done}))&&(this.response=this.responseText+=b)}u.done?Fi(this):ma(this),this.readyState==3&&Vs(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,Fi(this))},i.Na=function(u){this.g&&(this.response=u,Fi(this))},i.ga=function(){this.g&&Fi(this)};function Fi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ma(u)}i.setRequestHeader=function(u,b){this.A.append(u,b)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],b=this.h.entries();for(var x=b.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=b.next();return u.join(`\r
`)};function ma(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xn(u){let b="";return Ve(u,function(x,T){b+=T,b+=":",b+=x,b+=`\r
`}),b}function Yr(u,b,x){e:{for(T in x){var T=!1;break e}T=!0}T||(x=Xn(x),typeof u=="string"?x!=null&&ri(x):ot(u,b,x))}function ut(u){be.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(ut,be);var za=/^https?$/i,cl=["POST","PUT"];i=ut.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,b,x,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);b=b?b.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Zo.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(b,String(u),!0),this.B=!1}catch($){$r(this,$);return}if(u=x||"",x=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var H in T)x.set(H,T[H]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const $ of T.keys())x.set($,T.get($));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(x.keys()).find($=>$.toLowerCase()=="content-type"),H=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(cl,b,void 0)>=0)||T||H||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ce]of x)this.g.setRequestHeader($,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch($){$r(this,$)}};function $r(u,b){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=b,u.o=5,ul(u),si(u)}function ul(u){u.A||(u.A=!0,Je(u,"complete"),Je(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Je(this,"complete"),Je(this,"abort"),si(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),ut.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Xr(this):this.Xa())},i.Xa=function(){Xr(this)};function Xr(u){if(u.h&&typeof c<"u"){if(u.v&&ga(u)==4)setTimeout(u.Ca.bind(u),0);else if(Je(u,"readystatechange"),ga(u)==4){u.h=!1;try{const $=u.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var x;if(!(x=b)){var T;if(T=$===0){let ce=String(u.D).match(qc)[1]||null;!ce&&f.self&&f.self.location&&(ce=f.self.location.protocol.slice(0,-1)),T=!za.test(ce?ce.toLowerCase():"")}x=T}if(x)Je(u,"complete"),Je(u,"success");else{u.o=6;try{var H=ga(u)>2?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.ca()+"]",ul(u)}}finally{si(u)}}}}function si(u,b){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const x=u.g;u.g=null,b||Je(u,"ready");try{x.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ga(u){return u.g?u.g.readyState:0}i.ca=function(){try{return ga(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var b=this.g.responseText;return u&&b.indexOf(u)==0&&(b=b.substring(u.length)),_n(b)}};function en(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function oi(u){const b={};u=(u.g&&ga(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var x=Uc(u[T]);const H=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const $=b[H]||[];b[H]=$,$.push(x)}He(b,function(T){return T.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(u,b,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||b}function Gi(u){this.za=0,this.i=[],this.j=new da,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ua("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ua("baseRetryDelayMs",5e3,u),this.Za=Ua("retryDelaySeedMs",1e4,u),this.Ta=Ua("forwardChannelMaxRetries",2,u),this.va=Ua("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Wo(u&&u.concurrentRequestLimit),this.Ba=new qi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Gi.prototype,i.ka=8,i.I=1,i.connect=function(u,b,x,T){Mt(0),this.W=u,this.H=b||{},x&&T!==void 0&&(this.H.OSID=x,this.H.OAID=T),this.F=this.X,this.J=eu(this,null,this.W),Ba(this)};function dl(u){if(Ls(u),u.I==3){var b=u.V++,x=Pt(u.J);if(ot(x,"SID",u.M),ot(x,"RID",b),ot(x,"TYPE","terminate"),Jr(u,x),b=new fa(u,u.j,b),b.M=2,b.A=Gr(Pt(x)),x=!1,f.navigator&&f.navigator.sendBeacon)try{x=f.navigator.sendBeacon(b.A.toString(),"")}catch{}!x&&f.Image&&(new Image().src=b.A,x=!0),x||(b.g=tu(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Da(b)}Wc(u)}function Qi(u){u.g&&(hl(u),u.g.cancel(),u.g=null)}function Ls(u){Qi(u),u.v&&(f.clearTimeout(u.v),u.v=null),Us(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Ba(u){if(!el(u.h)&&!u.m){u.m=!0;var b=u.Ea;ue||C(),ge||(ue(),ge=!0),I.add(b,u),u.D=0}}function zs(u,b){return ja(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=b.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ca(y(u.Ea,u,b),Zc(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const H=new fa(this,this.j,u);let $=this.o;if(this.U&&($?($=N($),se($,this.U)):$=this.U),this.u!==null||this.R||(H.J=$,$=null),this.S)e:{for(var b=0,x=0;x<this.i.length;x++){t:{var T=this.i[x];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(b+=T,b>4096){b=x;break e}if(b===4096||x===this.i.length-1){b=x+1;break e}}b=1e3}else b=1e3;b=Yc(this,H,b),x=Pt(this.J),ot(x,"RID",u),ot(x,"CVER",22),this.G&&ot(x,"X-HTTP-Session-Id",this.G),Jr(this,x),$&&(this.R?b="headers="+ri(Xn($))+"&"+b:this.u&&Yr(x,this.u,$)),tl(this.h,H),this.Ra&&ot(x,"TYPE","init"),this.S?(ot(x,"$req",b),ot(x,"SID","null"),H.U=!0,Oa(H,x,null)):Oa(H,x,b),this.I=2}}else this.I==3&&(u?fl(this,u):this.i.length==0||el(this.h)||fl(this))};function fl(u,b){var x;b?x=b.l:x=u.V++;const T=Pt(u.J);ot(T,"SID",u.M),ot(T,"RID",x),ot(T,"AID",u.K),Jr(u,T),u.u&&u.o&&Yr(T,u.u,u.o),x=new fa(u,u.j,x,u.D+1),u.u===null&&(x.J=u.o),b&&(u.i=b.G.concat(u.i)),b=Yc(u,x,1e3),x.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),tl(u.h,x),Oa(x,T,b)}function Jr(u,b){u.H&&Ve(u.H,function(x,T){ot(b,T,x)}),u.l&&Ve({},function(x,T){ot(b,T,x)})}function Yc(u,b,x){x=Math.min(u.i.length,x);const T=u.l?y(u.l.Ka,u.l,u):null;e:{var H=u.i;let ze=-1;for(;;){const Rt=["count="+x];ze==-1?x>0?(ze=H[0].g,Rt.push("ofs="+ze)):ze=0:Rt.push("ofs="+ze);let it=!0;for(let xt=0;xt<x;xt++){var $=H[xt].g;const Jn=H[xt].map;if($-=ze,$<0)ze=Math.max(0,H[xt].g-100),it=!1;else try{$="req"+$+"_"||"";try{var ce=Jn instanceof Map?Jn:Object.entries(Jn);for(const[qa,ya]of ce){let ba=ya;m(ya)&&(ba=dn(ya)),Rt.push($+qa+"="+encodeURIComponent(ba))}}catch(qa){throw Rt.push($+"type="+encodeURIComponent("_badmap")),qa}}catch{T&&T(Jn)}}if(it){ce=Rt.join("&");break e}}ce=void 0}return u=u.i.splice(0,x),b.G=u,ce}function $c(u){if(!u.g&&!u.v){u.Y=1;var b=u.Da;ue||C(),ge||(ue(),ge=!0),I.add(b,u),u.A=0}}function Zr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ca(y(u.Da,u),Zc(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Xc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ca(y(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),Qi(this),Xc(this))};function hl(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function Xc(u){u.g=new fa(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var b=Pt(u.na);ot(b,"RID","rpc"),ot(b,"SID",u.M),ot(b,"AID",u.K),ot(b,"CI",u.F?"0":"1"),!u.F&&u.ia&&ot(b,"TO",u.ia),ot(b,"TYPE","xmlhttp"),Jr(u,b),u.u&&u.o&&Yr(b,u.u,u.o),u.O&&(u.g.H=u.O);var x=u.g;u=u.ba,x.M=1,x.A=Gr(Pt(b)),x.u=null,x.R=!0,Os(x,u)}i.Va=function(){this.C!=null&&(this.C=null,Qi(this),Zr(this),Mt(19))};function Us(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Jc(u,b){var x=null;if(u.g==b){Us(u),hl(u),u.g=null;var T=2}else if(Pa(u.h,b))x=b.G,nl(u.h,b),T=1;else return;if(u.I!=0){if(b.o)if(T==1){x=b.u?b.u.length:0,b=Date.now()-b.F;var H=u.D;T=Is(),Je(T,new Ra(T,x)),Ba(u)}else $c(u);else if(H=b.m,H==3||H==0&&b.X>0||!(T==1&&zs(u,b)||T==2&&Zr(u)))switch(x&&x.length>0&&(b=u.h,b.i=b.i.concat(x)),H){case 1:Ha(u,5);break;case 4:Ha(u,10);break;case 3:Ha(u,6);break;default:Ha(u,2)}}}function Zc(u,b){let x=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(x*=2),x*b}function Ha(u,b){if(u.j.info("Error code "+b),b==2){var x=y(u.bb,u),T=u.Ua;const H=!T;T=new Pn(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||$t(T,"https"),Gr(T),H?pa(T.toString(),x):ll(T.toString(),x)}else Mt(2);u.I=0,u.l&&u.l.pa(b),Wc(u),Ls(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Wc(u){if(u.I=0,u.ja=[],u.l){const b=al(u.h);(b.length!=0||u.i.length!=0)&&(B(u.ja,b),B(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function eu(u,b,x){var T=x instanceof Pn?Pt(x):new Pn(x);if(T.g!="")b&&(T.g=b+"."+T.g),zi(T,T.u);else{var H=f.location;T=H.protocol,b=b?b+"."+H.hostname:H.hostname,H=+H.port;const $=new Pn(null);T&&$t($,T),b&&($.g=b),H&&zi($,H),x&&($.h=x),T=$}return x=u.G,b=u.wa,x&&b&&ot(T,x,b),ot(T,"VER",u.ka),Jr(u,T),T}function tu(u,b,x){if(b&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=u.Aa&&!u.ma?new ut(new La({ab:x})):new ut(u.ma),b.Fa(u.L),b}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function nu(){}i=nu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ki(){}Ki.prototype.g=function(u,b){return new yn(u,b)};function yn(u,b){be.call(this),this.g=new Gi(b),this.l=u,this.h=b&&b.messageUrlParams||null,u=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(u?u["X-WebChannel-Content-Type"]=b.messageContentType:u={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(u?u["X-WebChannel-Client-Profile"]=b.sa:u={"X-WebChannel-Client-Profile":b.sa}),this.g.U=u,(u=b&&b.Qb)&&!w(u)&&(this.g.u=u),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!w(b)&&(this.g.G=b,u=this.h,u!==null&&b in u&&(u=this.h,b in u&&delete u[b])),this.j=new li(this)}E(yn,be),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){dl(this.g)},yn.prototype.o=function(u){var b=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.v&&(x={},x.__data__=dn(u),u=x);b.i.push(new jt(b.Ya++,u)),b.I==3&&Ba(b)},yn.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,yn.Z.N.call(this)};function au(u){Wt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var b=u.__sm__;if(b){e:{for(const x in b){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,b=b!==null&&u in b?b[u]:void 0),this.data=b}else this.data=u}E(au,Wt);function iu(){Kn.call(this),this.status=1}E(iu,Kn);function li(u){this.g=u}E(li,nu),li.prototype.ra=function(){Je(this.g,"a")},li.prototype.qa=function(u){Je(this.g,new au(u))},li.prototype.pa=function(u){Je(this.g,new iu)},li.prototype.oa=function(){Je(this.g,"b")},Ki.prototype.createWebChannel=Ki.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,aE=function(){return new Ki},nE=function(){return Is()},tE=Nt,Jp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qr.NO_ERROR=0,qr.TIMEOUT=8,qr.HTTP_ERROR=6,_d=qr,Jo.COMPLETE="complete",eE=Jo,Pc.EventType=ua,ua.OPEN="a",ua.CLOSE="b",ua.ERROR="c",ua.MESSAGE="d",be.prototype.listen=be.prototype.J,nc=Pc,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,W_=ut}).apply(typeof ud<"u"?ud:typeof self<"u"?self:typeof window<"u"?window:{});class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let Go="12.8.0";function s2(i){Go=i}const As=new Sm("@firebase/firestore");function bo(){return As.logLevel}function me(i,...e){if(As.logLevel<=Ye.DEBUG){const n=e.map(jm);As.debug(`Firestore (${Go}): ${i}`,...n)}}function Mi(i,...e){if(As.logLevel<=Ye.ERROR){const n=e.map(jm);As.error(`Firestore (${Go}): ${i}`,...n)}}function Oo(i,...e){if(As.logLevel<=Ye.WARN){const n=e.map(jm);As.warn(`Firestore (${Go}): ${i}`,...n)}}function jm(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Oe(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,iE(i,r,n)}function iE(i,e,n){let r=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Mi(r),new Error(r)}function st(i,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,i||iE(e,o,r)}function Pe(i,e){return i}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Vi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ri{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class rE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class l2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class c2{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ri,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ri)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new rE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class u2{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class d2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new u2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class f2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sa(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const r=c=>{c.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Pv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Pv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function h2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}class Pm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=h2(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function $e(i,e){return i<e?-1:i>e?1:0}function Zp(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const o=i.charAt(r),c=e.charAt(r);if(o!==c)return Pp(o)===Pp(c)?$e(o,c):Pp(o)?1:-1}return $e(i.length,e.length)}const p2=55296,m2=57343;function Pp(i){const e=i.charCodeAt(0);return e>=p2&&e<=m2}function Do(i,e,n){return i.length===e.length&&i.every(((r,o)=>n(r,e[o])))}const Vv="__name__";class $a{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $a.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $a?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=$a.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return $e(e.length,n.length)}static compareSegments(e,n){const r=$a.isNumericId(e),o=$a.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?$a.extractNumericId(e).compare($a.extractNumericId(n)):Zp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}}class gt extends $a{construct(e,n,r){return new gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new gt(n)}static emptyPath(){return new gt([])}}const g2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends $a{construct(e,n,r){return new on(e,n,r)}static isValidIdentifier(e){return g2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vv}static keyField(){return new on([Vv])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(c(),o++)}if(c(),f)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}class Se{constructor(e){this.path=e}static fromPath(e){return new Se(gt.fromString(e))}static fromName(e){return new Se(gt.fromString(e).popFirst(5))}static empty(){return new Se(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new gt(e.slice()))}}function sE(i,e,n){if(!n)throw new fe(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function y2(i,e,n,r){if(e===!0&&r===!0)throw new fe(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Lv(i){if(!Se.isDocumentKey(i))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function zv(i){if(Se.isDocumentKey(i))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function oE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function nf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Oe(12329,{type:typeof i})}function Mn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nf(i);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function qt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Ic(i,e){if(!oE(i))throw new fe(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const f=i[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new fe(te.INVALID_ARGUMENT,n);return!0}const Uv=-62135596800,Bv=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Bv);return new vt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Uv)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bv}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ic(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Uv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:qt("string",vt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new vt(0,0))}static max(){return new Me(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gc=-1;function b2(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Me.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new Nr(o,Se.empty(),e)}function v2(i){return new Nr(i.readTime,i.key,gc)}class Nr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Nr(Me.min(),Se.empty(),gc)}static max(){return new Nr(Me.max(),Se.empty(),gc)}}function x2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(i.documentKey,e.documentKey),n!==0?n:$e(i.largestBatchId,e.largestBatchId))}const _2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Qo(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==_2)throw i;me("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,r)=>{n(e)}))}static reject(e){return new re(((n,r)=>{r(e)}))}static waitFor(e){return new re(((n,r)=>{let o=0,c=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++c,f&&c===o&&n()}),(g=>r(g)))})),f=!0,c===o&&n()}))}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next((o=>o?re.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new re(((r,o)=>{const c=e.length,f=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((_=>{f[y]=_,++m,m===c&&r(f)}),(_=>o(_)))}}))}static doWhile(e,n){return new re(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function A2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ko(i){return i.name==="IndexedDbTransactionError"}class af{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}af.ce=-1;const Vm=-1;function rf(i){return i==null}function Ld(i){return i===0&&1/i==-1/0}function S2(i){return typeof i=="number"&&Number.isInteger(i)&&!Ld(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const lE="";function T2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Hv(e)),e=w2(i.get(n),e);return Hv(e)}function w2(i,e){let n=e;const r=i.length;for(let o=0;o<r;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case lE:n+="";break;default:n+=c}}return n}function Hv(i){return i+lE+""}function qv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function jr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function cE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class At{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dd(this.root,e,this.comparator,!1)}getReverseIterator(){return new dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dd(this.root,e,this.comparator,!0)}}class dd{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??sn.RED,this.left=o??sn.EMPTY,this.right=c??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new sn(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gt{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fv(this.data.getIterator())}getIteratorFrom(e){return new Fv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class Fv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Gt(on.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class uE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new uE("Invalid base64 string: "+c):c}})(e);return new ln(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const N2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(i){if(st(!!i,39018),typeof i=="string"){let e=0;const n=N2.exec(i);if(st(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(i.seconds),nanos:Ot(i.nanos)}}function Ot(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Cr(i){return typeof i=="string"?ln.fromBase64String(i):ln.fromUint8Array(i)}const dE="server_timestamp",fE="__type__",hE="__previous_value__",pE="__local_write_time__";function Lm(i){return(i?.mapValue?.fields||{})[fE]?.stringValue===dE}function sf(i){const e=i.mapValue.fields[hE];return Lm(e)?sf(e):e}function yc(i){const e=Rr(i.mapValue.fields[pE].timestampValue);return new vt(e.seconds,e.nanos)}class R2{constructor(e,n,r,o,c,f,m,g,y,_,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_,this.apiKey=E}}const zd="(default)";class bc{constructor(e,n){this.projectId=e,this.database=n||zd}static empty(){return new bc("","")}get isDefaultDatabase(){return this.database===zd}isEqual(e){return e instanceof bc&&e.projectId===this.projectId&&e.database===this.database}}function C2(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bc(i.options.projectId,e)}const mE="__type__",I2="__max__",fd={mapValue:{}},gE="__vector__",Ud="value";function Ir(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Lm(i)?4:D2(i)?9007199254740991:O2(i)?10:11:Oe(28295,{value:i})}function ti(i,e){if(i===e)return!0;const n=Ir(i);if(n!==Ir(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return yc(i).isEqual(yc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Rr(o.timestampValue),m=Rr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return Cr(o.bytesValue).isEqual(Cr(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ot(o.geoPointValue.latitude)===Ot(c.geoPointValue.latitude)&&Ot(o.geoPointValue.longitude)===Ot(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ot(o.integerValue)===Ot(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Ot(o.doubleValue),m=Ot(c.doubleValue);return f===m?Ld(f)===Ld(m):isNaN(f)&&isNaN(m)}return!1})(i,e);case 9:return Do(i.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(qv(f)!==qv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!ti(f[g],m[g])))return!1;return!0})(i,e);default:return Oe(52216,{left:i})}}function vc(i,e){return(i.values||[]).find((n=>ti(n,e)))!==void 0}function Mo(i,e){if(i===e)return 0;const n=Ir(i),r=Ir(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(i.booleanValue,e.booleanValue);case 2:return(function(c,f){const m=Ot(c.integerValue||c.doubleValue),g=Ot(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return Gv(i.timestampValue,e.timestampValue);case 4:return Gv(yc(i),yc(e));case 5:return Zp(i.stringValue,e.stringValue);case 6:return(function(c,f){const m=Cr(c),g=Cr(f);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(c,f){const m=c.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const _=$e(m[y],g[y]);if(_!==0)return _}return $e(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,f){const m=$e(Ot(c.latitude),Ot(f.latitude));return m!==0?m:$e(Ot(c.longitude),Ot(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Qv(i.arrayValue,e.arrayValue);case 10:return(function(c,f){const m=c.fields||{},g=f.fields||{},y=m[Ud]?.arrayValue,_=g[Ud]?.arrayValue,E=$e(y?.values?.length||0,_?.values?.length||0);return E!==0?E:Qv(y,_)})(i.mapValue,e.mapValue);case 11:return(function(c,f){if(c===fd.mapValue&&f===fd.mapValue)return 0;if(c===fd.mapValue)return 1;if(f===fd.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=f.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let E=0;E<g.length&&E<_.length;++E){const R=Zp(g[E],_[E]);if(R!==0)return R;const j=Mo(m[g[E]],y[_[E]]);if(j!==0)return j}return $e(g.length,_.length)})(i.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function Gv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return $e(i,e);const n=Rr(i),r=Rr(e),o=$e(n.seconds,r.seconds);return o!==0?o:$e(n.nanos,r.nanos)}function Qv(i,e){const n=i.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=Mo(n[o],r[o]);if(c)return c}return $e(n.length,r.length)}function ko(i){return Wp(i)}function Wp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=Rr(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Cr(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Se.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=Wp(c);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of r)c?c=!1:o+=",",o+=`${f}:${Wp(n.fields[f])}`;return o+"}"})(i.mapValue):Oe(61005,{value:i})}function Ed(i){switch(Ir(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sf(i);return e?16+Ed(e):16;case 5:return 2*i.stringValue.length;case 6:return Cr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Ed(c)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return jr(r.fields,((c,f)=>{o+=c.length+Ed(f)})),o})(i.mapValue);default:throw Oe(13486,{value:i})}}function Kv(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function em(i){return!!i&&"integerValue"in i}function zm(i){return!!i&&"arrayValue"in i}function Yv(i){return!!i&&"nullValue"in i}function $v(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ad(i){return!!i&&"mapValue"in i}function O2(i){return(i?.mapValue?.fields||{})[mE]?.stringValue===gE}function lc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return jr(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=lc(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lc(i.arrayValue.values[n]);return e}return{...i}}function D2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===I2}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ad(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lc(n)}setAll(e){let n=on.emptyPath(),r={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=lc(f):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());Ad(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Ad(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){jr(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new In(lc(this.value))}}function yE(i){const e=[];return jr(i.fields,((n,r)=>{const o=new on([n]);if(Ad(r)){const c=yE(r.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new Gn(e)}class mn{constructor(e,n,r,o,c,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new mn(e,0,Me.min(),Me.min(),Me.min(),In.empty(),0)}static newFoundDocument(e,n,r,o){return new mn(e,1,n,Me.min(),r,o,0)}static newNoDocument(e,n){return new mn(e,2,n,Me.min(),Me.min(),In.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,Me.min(),Me.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bd{constructor(e,n){this.position=e,this.inclusive=n}}function Xv(i,e,n){let r=0;for(let o=0;o<i.position.length;o++){const c=e[o],f=i.position[o];if(c.field.isKeyField()?r=Se.comparator(Se.fromName(f.referenceValue),n.key):r=Mo(f,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ti(i.position[n],e.position[n]))return!1;return!0}class xc{constructor(e,n="asc"){this.field=e,this.dir=n}}function M2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class bE{}class Ht extends bE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new j2(e,n,r):n==="array-contains"?new L2(e,r):n==="in"?new z2(e,r):n==="not-in"?new U2(e,r):n==="array-contains-any"?new B2(e,r):new Ht(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new P2(e,r):new V2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Mo(n,this.value)):n!==null&&Ir(this.value)===Ir(n)&&this.matchesComparison(Mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wa extends bE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wa(e,n)}matches(e){return vE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vE(i){return i.op==="and"}function xE(i){return k2(i)&&vE(i)}function k2(i){for(const e of i.filters)if(e instanceof wa)return!1;return!0}function tm(i){if(i instanceof Ht)return i.field.canonicalString()+i.op.toString()+ko(i.value);if(xE(i))return i.filters.map((e=>tm(e))).join(",");{const e=i.filters.map((n=>tm(n))).join(",");return`${i.op}(${e})`}}function _E(i,e){return i instanceof Ht?(function(r,o){return o instanceof Ht&&r.op===o.op&&r.field.isEqual(o.field)&&ti(r.value,o.value)})(i,e):i instanceof wa?(function(r,o){return o instanceof wa&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,f,m)=>c&&_E(f,o.filters[m])),!0):!1})(i,e):void Oe(19439)}function EE(i){return i instanceof Ht?(function(n){return`${n.field.canonicalString()} ${n.op} ${ko(n.value)}`})(i):i instanceof wa?(function(n){return n.op.toString()+" {"+n.getFilters().map(EE).join(" ,")+"}"})(i):"Filter"}class j2 extends Ht{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class P2 extends Ht{constructor(e,n){super(e,"in",n),this.keys=AE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class V2 extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=AE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function AE(i,e){return(e.arrayValue?.values||[]).map((n=>Se.fromName(n.referenceValue)))}class L2 extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zm(n)&&vc(n.arrayValue,this.value)}}class z2 extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vc(this.value.arrayValue,n)}}class U2 extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vc(this.value.arrayValue,n)}}class B2 extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>vc(this.value.arrayValue,r)))}}class H2{constructor(e,n=null,r=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.Te=null}}function Zv(i,e=null,n=[],r=[],o=null,c=null,f=null){return new H2(i,e,n,r,o,c,f)}function Um(i){const e=Pe(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>tm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ko(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ko(r))).join(",")),e.Te=n}return e.Te}function Bm(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!M2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!_E(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Jv(i.startAt,e.startAt)&&Jv(i.endAt,e.endAt)}function nm(i){return Se.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Yo{constructor(e,n=null,r=[],o=[],c=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function q2(i,e,n,r,o,c,f,m){return new Yo(i,e,n,r,o,c,f,m)}function of(i){return new Yo(i)}function Wv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function F2(i){return Se.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function SE(i){return i.collectionGroup!==null}function cc(i){const e=Pe(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Gt(on.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new xc(c,r))})),n.has(on.keyField().canonicalString())||e.Ie.push(new xc(on.keyField(),r))}return e.Ie}function Za(i){const e=Pe(i);return e.Ee||(e.Ee=G2(e,cc(i))),e.Ee}function G2(i,e){if(i.limitType==="F")return Zv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new xc(o.field,c)}));const n=i.endAt?new Bd(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Bd(i.startAt.position,i.startAt.inclusive):null;return Zv(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function am(i,e){const n=i.filters.concat([e]);return new Yo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Q2(i,e){const n=i.explicitOrderBy.concat([e]);return new Yo(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function im(i,e,n){return new Yo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function lf(i,e){return Bm(Za(i),Za(e))&&i.limitType===e.limitType}function TE(i){return`${Um(Za(i))}|lt:${i.limitType}`}function vo(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>EE(o))).join(", ")}]`),rf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>ko(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>ko(o))).join(",")),`Target(${r})`})(Za(i))}; limitType=${i.limitType})`}function cf(i,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Se.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(i,e)&&(function(r,o){for(const c of cc(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(f,m,g){const y=Xv(f,m,g);return f.inclusive?y<=0:y<0})(r.startAt,cc(r),o)||r.endAt&&!(function(f,m,g){const y=Xv(f,m,g);return f.inclusive?y>=0:y>0})(r.endAt,cc(r),o))})(i,e)}function K2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function wE(i){return(e,n)=>{let r=!1;for(const o of cc(i)){const c=Y2(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function Y2(i,e,n){const r=i.field.isKeyField()?Se.comparator(e.key,n.key):(function(c,f,m){const g=f.data.field(c),y=m.data.field(c);return g!==null&&y!==null?Mo(g,y):Oe(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:i.dir})}}class Ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){jr(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return cE(this.inner)}size(){return this.innerSize}}const $2=new At(Se.comparator);function ki(){return $2}const NE=new At(Se.comparator);function ac(...i){let e=NE;for(const n of i)e=e.insert(n.key,n);return e}function RE(i){let e=NE;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function gs(){return uc()}function CE(){return uc()}function uc(){return new Ns((i=>i.toString()),((i,e)=>i.isEqual(e)))}const X2=new At(Se.comparator),J2=new Gt(Se.comparator);function Xe(...i){let e=J2;for(const n of i)e=e.add(n);return e}const Z2=new Gt($e);function W2(){return Z2}function Hm(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ld(e)?"-0":e}}function IE(i){return{integerValue:""+i}}function eI(i,e){return S2(e)?IE(e):Hm(i,e)}class uf{constructor(){this._=void 0}}function tI(i,e,n){return i instanceof _c?(function(o,c){const f={fields:{[fE]:{stringValue:dE},[pE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Lm(c)&&(c=sf(c)),c&&(f.fields[hE]=c),{mapValue:f}})(n,e):i instanceof jo?DE(i,e):i instanceof Po?ME(i,e):(function(o,c){const f=OE(o,c),m=ex(f)+ex(o.Ae);return em(f)&&em(o.Ae)?IE(m):Hm(o.serializer,m)})(i,e)}function nI(i,e,n){return i instanceof jo?DE(i,e):i instanceof Po?ME(i,e):n}function OE(i,e){return i instanceof Hd?(function(r){return em(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class _c extends uf{}class jo extends uf{constructor(e){super(),this.elements=e}}function DE(i,e){const n=kE(e);for(const r of i.elements)n.some((o=>ti(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Po extends uf{constructor(e){super(),this.elements=e}}function ME(i,e){let n=kE(e);for(const r of i.elements)n=n.filter((o=>!ti(o,r)));return{arrayValue:{values:n}}}class Hd extends uf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ex(i){return Ot(i.integerValue||i.doubleValue)}function kE(i){return zm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class qm{constructor(e,n){this.field=e,this.transform=n}}function aI(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof jo&&o instanceof jo||r instanceof Po&&o instanceof Po?Do(r.elements,o.elements,ti):r instanceof Hd&&o instanceof Hd?ti(r.Ae,o.Ae):r instanceof _c&&o instanceof _c})(i.transform,e.transform)}class iI{constructor(e,n){this.version=e,this.transformResults=n}}class la{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new la}static exists(e){return new la(void 0,e)}static updateTime(e){return new la(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sd(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class df{}function jE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Fm(i.key,la.none()):new Oc(i.key,i.data,la.none());{const n=i.data,r=In.empty();let o=new Gt(on.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?r.delete(c):r.set(c,f),o=o.add(c)}return new Pr(i.key,r,new Gn(o.toArray()),la.none())}}function rI(i,e,n){i instanceof Oc?(function(o,c,f){const m=o.value.clone(),g=nx(o.fieldTransforms,c,f.transformResults);m.setAll(g),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Pr?(function(o,c,f){if(!Sd(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=nx(o.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(PE(o)),g.setAll(m),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(i,e,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function dc(i,e,n,r){return i instanceof Oc?(function(c,f,m,g){if(!Sd(c.precondition,f))return m;const y=c.value.clone(),_=ax(c.fieldTransforms,g,f);return y.setAll(_),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(i,e,n,r):i instanceof Pr?(function(c,f,m,g){if(!Sd(c.precondition,f))return m;const y=ax(c.fieldTransforms,g,f),_=f.data;return _.setAll(PE(c)),_.setAll(y),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(i,e,n,r):(function(c,f,m){return Sd(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,e,n)}function sI(i,e){let n=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),c=OE(r.transform,o||null);c!=null&&(n===null&&(n=In.empty()),n.set(r.field,c))}return n||null}function tx(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Do(r,o,((c,f)=>aI(c,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Oc extends df{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Pr extends df{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function PE(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function nx(i,e,n){const r=new Map;st(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const c=i[o],f=c.transform,m=e.data.field(c.field);r.set(c.field,nI(f,m,n[o]))}return r}function ax(i,e,n){const r=new Map;for(const o of i){const c=o.transform,f=n.data.field(o.field);r.set(o.field,tI(c,f,e))}return r}class Fm extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oI extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lI{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&rI(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CE();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(o.key)?null:m;const g=jE(f,m);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Me.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,((n,r)=>tx(n,r)))&&Do(this.baseMutations,e.baseMutations,((n,r)=>tx(n,r)))}}class Gm{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){st(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return X2})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,r[f].version);return new Gm(e,n,r,o)}}class cI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Bt,We;function dI(i){switch(i){case te.OK:return Oe(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Oe(15467,{code:i})}}function VE(i){if(i===void 0)return Mi("GRPC error has no .code"),te.UNKNOWN;switch(i){case Bt.OK:return te.OK;case Bt.CANCELLED:return te.CANCELLED;case Bt.UNKNOWN:return te.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return te.INTERNAL;case Bt.UNAVAILABLE:return te.UNAVAILABLE;case Bt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Bt.NOT_FOUND:return te.NOT_FOUND;case Bt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Bt.ABORTED:return te.ABORTED;case Bt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Bt.DATA_LOSS:return te.DATA_LOSS;default:return Oe(39323,{code:i})}}(We=Bt||(Bt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";function fI(){return new TextEncoder}const hI=new Tr([4294967295,4294967295],0);function ix(i){const e=fI().encode(i),n=new Z_;return n.update(e),new Uint8Array(n.digest())}function rx(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Tr([n,r],0),new Tr([o,c],0)]}class Qm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ic(`Invalid padding: ${n}`);if(r<0)throw new ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Tr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(Tr.fromNumber(r)));return o.compare(hI)===1&&(o=new Tr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ix(e),[r,o]=rx(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Qm(c,o,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=ix(e),[r,o]=rx(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);this.be(f)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ff{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Dc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ff(Me.min(),o,new At($e),ki(),Xe())}}class Dc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Dc(r,n,Xe(),Xe(),Xe())}}class Td{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class LE{constructor(e,n){this.targetId=e,this.Ce=n}}class zE{constructor(e,n,r=ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class sx{constructor(){this.ve=0,this.Fe=ox(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),r=Xe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Oe(38017,{changeType:c})}})),new Dc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=ox()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class pI{constructor(e){this.Ge=e,this.ze=new Map,this.je=ki(),this.He=hd(),this.Je=hd(),this.Ze=new At($e)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(nm(c))if(r===0){const f=new Se(c.path);this.et(n,f,mn.newNoDocument(f,Me.min()))}else st(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let f,m;try{f=Cr(r).toUint8Array()}catch(g){if(g instanceof uE)return Oo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Qm(f,o,c)}catch(g){return Oo(g instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const m=this.ot(f);if(m){if(c.current&&nm(m.target)){const g=new Se(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,mn.newNoDocument(g,e))}c.Be&&(n.set(f,c.ke()),c.Ke())}}));let r=Xe();this.Je.forEach(((c,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new ff(e,n,this.Ze,this.je,r);return this.je=ki(),this.He=hd(),this.Je=hd(),this.Ze=new At($e),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new sx,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Gt($e),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Gt($e),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hd(){return new At(Se.comparator)}function ox(){return new At(Se.comparator)}const mI={asc:"ASCENDING",desc:"DESCENDING"},gI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yI={and:"AND",or:"OR"};class bI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rm(i,e){return i.useProto3Json||rf(e)?e:{value:e}}function qd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function vI(i,e){return qd(i,e.toTimestamp())}function Wa(i){return st(!!i,49232),Me.fromTimestamp((function(n){const r=Rr(n);return new vt(r.seconds,r.nanos)})(i))}function Km(i,e){return sm(i,e).canonicalString()}function sm(i,e){const n=(function(o){return new gt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function BE(i){const e=gt.fromString(i);return st(QE(e),10190,{key:e.toString()}),e}function om(i,e){return Km(i.databaseId,e.path)}function Vp(i,e){const n=BE(e);if(n.get(1)!==i.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Se(qE(n))}function HE(i,e){return Km(i.databaseId,e)}function xI(i){const e=BE(i);return e.length===4?gt.emptyPath():qE(e)}function lm(i){return new gt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function qE(i){return st(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function lx(i,e,n){return{name:om(i,e),fields:n.value.mapValue.fields}}function _I(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Oe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,_){return y.useProto3Json?(st(_===void 0||typeof _=="string",58123),ln.fromBase64String(_||"")):(st(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),ln.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const _=y.code===void 0?te.UNKNOWN:VE(y.code);return new fe(_,y.message||"")})(f);n=new zE(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Vp(i,r.document.name),c=Wa(r.document.updateTime),f=r.document.createTime?Wa(r.document.createTime):Me.min(),m=new In({mapValue:{fields:r.document.fields}}),g=mn.newFoundDocument(o,c,f,m),y=r.targetIds||[],_=r.removedTargetIds||[];n=new Td(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Vp(i,r.document),c=r.readTime?Wa(r.readTime):Me.min(),f=mn.newNoDocument(o,c),m=r.removedTargetIds||[];n=new Td([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Vp(i,r.document),c=r.removedTargetIds||[];n=new Td([],c,o,null)}else{if(!("filter"in e))return Oe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,f=new uI(o,c),m=r.targetId;n=new LE(m,f)}}return n}function EI(i,e){let n;if(e instanceof Oc)n={update:lx(i,e.key,e.value)};else if(e instanceof Fm)n={delete:om(i,e.key)};else if(e instanceof Pr)n={update:lx(i,e.key,e.data),updateMask:OI(e.fieldMask)};else{if(!(e instanceof oI))return Oe(16599,{dt:e.type});n={verify:om(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,f){const m=f.transform;if(m instanceof _c)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof jo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Po)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Hd)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Oe(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:vI(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Oe(27497)})(i,e.precondition)),n}function AI(i,e){return i&&i.length>0?(st(e!==void 0,14353),i.map((n=>(function(o,c){let f=o.updateTime?Wa(o.updateTime):Wa(c);return f.isEqual(Me.min())&&(f=Wa(c)),new iI(f,o.transformResults||[])})(n,e)))):[]}function SI(i,e){return{documents:[HE(i,e.path)]}}function TI(i,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HE(i,o);const c=(function(y){if(y.length!==0)return GE(wa.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((_=>(function(R){return{field:xo(R.field),direction:RI(R.dir)}})(_)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=rm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function wI(i){let e=xI(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){st(r===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];n.where&&(c=(function(E){const R=FE(E);return R instanceof wa&&xE(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(E){return E.map((R=>(function(B){return new xc(_o(B.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(E){let R;return R=typeof E=="object"?E.value:E,rf(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(E){const R=!!E.before,j=E.values||[];return new Bd(j,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const R=!E.before,j=E.values||[];return new Bd(j,R)})(n.endAt)),q2(e,o,f,c,m,"F",g,y)}function NI(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FE(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_o(n.unaryFilter.field);return Ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=_o(n.unaryFilter.field);return Ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=_o(n.unaryFilter.field);return Ht.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=_o(n.unaryFilter.field);return Ht.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ht.create(_o(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return wa.create(n.compositeFilter.filters.map((r=>FE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(n.compositeFilter.op))})(i):Oe(30097,{filter:i})}function RI(i){return mI[i]}function CI(i){return gI[i]}function II(i){return yI[i]}function xo(i){return{fieldPath:i.canonicalString()}}function _o(i){return on.fromServerFormat(i.fieldPath)}function GE(i){return i instanceof Ht?(function(n){if(n.op==="=="){if($v(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NAN"}};if(Yv(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($v(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NAN"}};if(Yv(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(n.field),op:CI(n.op),value:n.value}}})(i):i instanceof wa?(function(n){const r=n.getFilters().map((o=>GE(o)));return r.length===1?r[0]:{compositeFilter:{op:II(n.op),filters:r}}})(i):Oe(54877,{filter:i})}function OI(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function QE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function KE(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class _r{constructor(e,n,r,o,c=Me.min(),f=Me.min(),m=ln.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class DI{constructor(e){this.yt=e}}function MI(i){const e=wI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?im(e,e.limit,"L"):e}class kI{constructor(){this.Sn=new jI}addToCollectionParentIndex(e,n){return this.Sn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Nr.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Nr.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class jI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Gt(gt.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Gt(gt.comparator)).toArray()}}const cx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YE=41943040;class Cn{static withCacheSize(e){return new Cn(e,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(YE,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class Vo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Vo(0)}static ar(){return new Vo(-1)}}const ux="LruGarbageCollector",PI=1048576;function dx([i,e],[n,r]){const o=$e(i,n);return o===0?$e(e,r):o}class VI{constructor(e){this.Pr=e,this.buffer=new Gt(dx),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(ux,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ko(n)?me(ux,"Ignoring IndexedDB error during garbage collection: ",n):await Qo(n)}await this.Ar(3e5)}))}}class zI{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(af.ce);const r=new VI(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(cx)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cx):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,c,f,m,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,f=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(r=E,m=Date.now(),this.removeTargets(e,r,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(y=Date.now(),bo()<=Ye.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-_}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function UI(i,e){return new zI(i,e)}class BI{constructor(){this.changes=new Ns((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class HI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class qI{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&dc(r.mutation,o,Gn.empty(),vt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Xe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Xe()){const o=gs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let f=ac();return c.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=gs();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Xe())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,o){let c=ki();const f=uc(),m=(function(){return uc()})();return n.forEach(((g,y)=>{const _=r.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Pr)?c=c.insert(y.key,y):_!==void 0?(f.set(y.key,_.mutation.getFieldMask()),dc(_.mutation,y,_.mutation.getFieldMask(),vt.now())):f.set(y.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,_)=>f.set(y,_))),n.forEach(((y,_)=>m.set(y,new HI(_,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=uc();let o=new At(((f,m)=>f-m)),c=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let _=r.get(g)||Gn.empty();_=m.applyToLocalView(y,_),r.set(g,_);const E=(o.get(m.batchId)||Xe()).add(g);o=o.insert(m.batchId,E)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,_=g.value,E=CE();_.forEach((R=>{if(!c.has(R)){const j=jE(n.get(R),r.get(R));j!==null&&E.set(R,j),c=c.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,E))}return re.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return F2(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):re.resolve(gs());let m=gc,g=c;return f.next((y=>re.forEach(y,((_,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),c.get(_)?re.resolve():this.remoteDocumentCache.getEntry(e,_).next((R=>{g=g.insert(_,R)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Xe()))).next((_=>({batchId:m,changes:RE(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next((r=>{let o=ac();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let f=ac();return this.indexManager.getCollectionParents(e,c).next((m=>re.forEach(m,(g=>{const y=(function(E,R){return new Yo(R,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((_=>{_.forEach(((E,R)=>{f=f.insert(E,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((f=>{c.forEach(((g,y)=>{const _=y.getKey();f.get(_)===null&&(f=f.insert(_,mn.newInvalidDocument(_)))}));let m=ac();return f.forEach(((g,y)=>{const _=c.get(g);_!==void 0&&dc(_.mutation,y,Gn.empty(),vt.now()),cf(n,y)&&(m=m.insert(g,y))})),m}))}}class FI{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return re.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Wa(o.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:MI(o.bundledQuery),readTime:Wa(o.readTime)}})(n)),re.resolve()}}class GI{constructor(){this.overlays=new At(Se.comparator),this.Lr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gs();return re.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.bt(e,n,c)})),re.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const o=gs(),c=n.length+1,f=new Se(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new At(((y,_)=>y-_));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let _=c.get(y.largestBatchId);_===null&&(_=gs(),c=c.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const m=gs(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,_)=>m.set(y,_))),!(m.size()>=o)););return re.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new cI(n,r));let c=this.Lr.get(n);c===void 0&&(c=Xe(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}class QI{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class Ym{constructor(){this.kr=new Gt(Jt.Kr),this.qr=new Gt(Jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Jt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Jt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Se(new gt([])),r=new Jt(n,e),o=new Jt(n,e+1),c=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),c.push(f.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Se(new gt([])),r=new Jt(n,e),o=new Jt(n,e+1);let c=Xe();return this.qr.forEachInRange([r,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new Jt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Se.comparator(e.key,n.key)||$e(e.Hr,n.Hr)}static Ur(e,n){return $e(e.Hr,n.Hr)||Se.comparator(e.key,n.key)}}class KI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Gt(Jt.Kr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new lI(c,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Jt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(f)}lookupMutationBatch(e,n){return re.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),c=o<0?0:o;return re.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Vm:this.Yn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jt(n,0),o=new Jt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(f=>{const m=this.Zr(f.Hr);c.push(m)})),re.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gt($e);return n.forEach((o=>{const c=new Jt(o,0),f=new Jt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,f],(m=>{r=r.add(m.Hr)}))})),re.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;Se.isDocumentKey(c)||(c=c.child(""));const f=new Jt(new Se(c),0);let m=new Gt($e);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),f),re.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){st(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return re.forEach(n.mutations,(o=>{const c=new Jt(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Jt(n,0),o=this.Jr.firstAfterOrEqual(r);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class YI{constructor(e){this.ti=e,this.docs=(function(){return new At(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let r=ki();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():mn.newInvalidDocument(o))})),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=ki();const f=n.path,m=new Se(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||x2(v2(_),r)<=0||(o.has(_.key)||cf(n,_))&&(c=c.insert(_.key,_.mutableCopy()))}return re.resolve(c)}getAllFromCollectionGroup(e,n,r,o){Oe(9500)}ni(e,n){return re.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new $I(this)}getSize(e){return re.resolve(this.size)}}class $I extends BI{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),re.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class XI{constructor(e){this.persistence=e,this.ri=new Ns((n=>Um(n)),Bm),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.ii=0,this.si=new Ym,this.targetCount=0,this.oi=Vo._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),re.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Vo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.lr(n),re.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),re.waitFor(c).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),re.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.si.containsKey(n))}}class $E{constructor(e,n){this._i={},this.overlays={},this.ai=new af(0),this.ui=!1,this.ui=!0,this.ci=new QI,this.referenceDelegate=e(this),this.li=new XI(this),this.indexManager=new kI,this.remoteDocumentCache=(function(o){return new YI(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new DI(n),this.Pi=new FI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new KI(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const o=new JI(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return re.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class JI extends E2{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Ri=new Ym,this.Ai=null}static Vi(e){return new $m(e)}get di(){if(this.Ai)return this.Ai;throw Oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,(r=>{const o=Se.fromPath(r);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Me.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Fd{constructor(e,n){this.persistence=e,this.fi=new Ns((r=>T2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=UI(this,n)}static Vi(e,n){return new Fd(e,n)}Ti(){}Ii(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return re.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?re.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(r++,c.removeEntry(f,Me.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),re.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ed(e.data.value)),n}wr(e,n,r){return re.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return re.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xm{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=Xe(),o=Xe();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Xm(e,n.fromCache,r,o)}}class ZI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class WI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Ew()?8:A2(gn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.gs(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ps(e,n,o,r).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new ZI;return this.ys(e,n,f).next((m=>{if(c.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>c.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(bo()<=Ye.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(bo()<=Ye.DEBUG&&me("QueryEngine","Query:",vo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(bo()<=Ye.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Za(n))):re.resolve())}gs(e,n){if(Wv(n))return re.resolve(null);let r=Za(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=im(n,null,"F"),r=Za(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const f=Xe(...c);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,f,g.readTime)?this.gs(e,im(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,r,o){return Wv(n)||o.isEqual(Me.min())?re.resolve(null):this.fs.getDocuments(e,r).next((c=>{const f=this.bs(n,c);return this.Ss(n,f,r,o)?re.resolve(null):(bo()<=Ye.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vo(n)),this.Ds(e,f,n,b2(o,gc)).next((m=>m)))}))}bs(e,n){let r=new Gt(wE(e));return n.forEach(((o,c)=>{cf(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,r){return bo()<=Ye.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",vo(n)),this.fs.getDocumentsMatchingQuery(e,n,Nr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const Jm="LocalStore",eO=3e8;class tO{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new At($e),this.Fs=new Ns((c=>Um(c)),Bm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function nO(i,e,n,r){return new tO(i,e,n,r)}async function XE(i,e){const n=Pe(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const f=[],m=[];let g=Xe();for(const y of o){f.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of c){m.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function aO(i,e){const n=Pe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,_){const E=y.batch,R=E.keys();let j=re.resolve();return R.forEach((B=>{j=j.next((()=>_.getEntry(g,B))).next((L=>{const Q=y.docVersions.get(B);st(Q!==null,48541),L.version.compareTo(Q)<0&&(E.applyToRemoteDocument(L,y),L.isValidDocument()&&(L.setReadTime(y.commitVersion),_.addEntry(L)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(g,E)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=Xe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function JE(i){const e=Pe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function iO(i,e){const n=Pe(i),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((_,E)=>{const R=o.get(E);if(!R)return;m.push(n.li.removeMatchingKeys(c,_.removedDocuments,E).next((()=>n.li.addMatchingKeys(c,_.addedDocuments,E))));let j=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?j=j.withResumeToken(ln.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):_.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(_.resumeToken,r)),o=o.insert(E,j),(function(L,Q,ie){return L.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=eO?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(R,j,_)&&m.push(n.li.updateTargetData(c,j))}));let g=ki(),y=Xe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,_))})),m.push(rO(c,f,e.documentUpdates).next((_=>{g=_.Bs,y=_.Ls}))),!r.isEqual(Me.min())){const _=n.li.getLastRemoteSnapshotVersion(c).next((E=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(_)}return re.waitFor(m).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=o,c)))}function rO(i,e,n){let r=Xe(),o=Xe();return n.forEach((c=>r=r.add(c))),e.getEntries(i,r).next((c=>{let f=ki();return n.forEach(((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Me.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):me(Jm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function sO(i,e){const n=Pe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Vm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function oO(i,e){const n=Pe(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((c=>c?(o=c,re.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new _r(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function cm(i,e,n){const r=Pe(i),o=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ko(f))throw f;me(Jm,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function fx(i,e,n){const r=Pe(i);let o=Me.min(),c=Xe();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,_){const E=Pe(g),R=E.Fs.get(_);return R!==void 0?re.resolve(E.vs.get(R)):E.li.getTargetData(y,_)})(r,f,Za(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{c=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,n?o:Me.min(),n?c:Xe()))).next((m=>(lO(r,K2(e),m),{documents:m,ks:c})))))}function lO(i,e,n){let r=i.Ms.get(e)||Me.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),i.Ms.set(e,r)}class hx{constructor(){this.activeTargetIds=W2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cO{constructor(){this.vo=new hx,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new hx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uO{Mo(e){}shutdown(){}}const px="ConnectivityMonitor";class mx{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(px,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(px,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let pd=null;function um(){return pd===null?pd=(function(){return 268435456+Math.round(2147483648*Math.random())})():pd++,"0x"+pd.toString(16)}const Lp="RestConnection",dO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class fO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===zd?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,c){const f=um(),m=this.Qo(e,n.toUriEncodedString());me(Lp,`Sending RPC '${e}' ${f}:`,m,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:y}=new URL(m),_=Ho(y);return this.zo(e,m,g,r,_).then((E=>(me(Lp,`Received RPC '${e}' ${f}: `,E),E)),(E=>{throw Oo(Lp,`RPC '${e}' ${f} failed with error: `,E,"url: ",m,"request:",r),E}))}jo(e,n,r,o,c,f){return this.Wo(e,n,r,o,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Go})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const r=dO[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class hO{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const hn="WebChannelConnection",Wl=(i,e,n)=>{i.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class wo extends fO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!wo.c_){const e=nE();Wl(e,tE.STAT_EVENT,(n=>{n.stat===Jp.PROXY?me(hn,"STAT_EVENT: detected buffering proxy"):n.stat===Jp.NOPROXY&&me(hn,"STAT_EVENT: detected no buffering proxy")})),wo.c_=!0}}zo(e,n,r,o,c){const f=um();return new Promise(((m,g)=>{const y=new W_;y.setWithCredentials(!0),y.listenOnce(eE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case _d.NO_ERROR:const E=y.getResponseJson();me(hn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(E)),m(E);break;case _d.TIMEOUT:me(hn,`RPC '${e}' ${f} timed out`),g(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case _d.HTTP_ERROR:const R=y.getStatus();if(me(hn,`RPC '${e}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const B=j?.error;if(B&&B.status&&B.message){const L=(function(ie){const q=ie.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(q)>=0?q:te.UNKNOWN})(B.status);g(new fe(L,B.message))}else g(new fe(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new fe(te.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{me(hn,`RPC '${e}' ${f} completed.`)}}));const _=JSON.stringify(o);me(hn,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",_,r,15)}))}T_(e,n,r){const o=um(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=c.join("");me(hn,`Creating RPC '${e}' stream ${o}: ${y}`,m);const _=f.createWebChannel(y,m);this.I_(_);let E=!1,R=!1;const j=new hO({Ho:B=>{R?me(hn,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(E||(me(hn,`Opening RPC '${e}' stream ${o} transport.`),_.open(),E=!0),me(hn,`RPC '${e}' stream ${o} sending:`,B),_.send(B))},Jo:()=>_.close()});return Wl(_,nc.EventType.OPEN,(()=>{R||(me(hn,`RPC '${e}' stream ${o} transport opened.`),j.i_())})),Wl(_,nc.EventType.CLOSE,(()=>{R||(R=!0,me(hn,`RPC '${e}' stream ${o} transport closed`),j.o_(),this.E_(_))})),Wl(_,nc.EventType.ERROR,(B=>{R||(R=!0,Oo(hn,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),j.o_(new fe(te.UNAVAILABLE,"The operation could not be completed")))})),Wl(_,nc.EventType.MESSAGE,(B=>{if(!R){const L=B.data[0];st(!!L,16349);const Q=L,ie=Q?.error||Q[0]?.error;if(ie){me(hn,`RPC '${e}' stream ${o} received error:`,ie);const q=ie.status;let ne=(function(ge){const I=Bt[ge];if(I!==void 0)return VE(I)})(q),pe=ie.message;ne===void 0&&(ne=te.INTERNAL,pe="Unknown error status: "+q+" with message "+ie.message),R=!0,j.o_(new fe(ne,pe)),_.close()}else me(hn,`RPC '${e}' stream ${o} received:`,L),j.__(L)}})),wo.u_(),setTimeout((()=>{j.s_()}),0),j}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return aE()}}function pO(i){return new wo(i)}function zp(){return typeof document<"u"?document:null}function hf(i){return new bI(i,!0)}wo.c_=!1;class ZE{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const gx="PersistentStream";class WE{constructor(e,n,r,o,c,f,m,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Mi(n.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new fe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(gx,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(gx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mO extends WE{constructor(e,n,r,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_I(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Me.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Me.min():f.readTime?Wa(f.readTime):Me.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=lm(this.serializer),n.addTarget=(function(c,f){let m;const g=f.target;if(m=nm(g)?{documents:SI(c,g)}:{query:TI(c,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=UE(c,f.resumeToken);const y=rm(c,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Me.min())>0){m.readTime=qd(c,f.snapshotVersion.toTimestamp());const y=rm(c,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=NI(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=lm(this.serializer),n.removeTarget=e,this.K_(n)}}class gO extends WE{constructor(e,n,r,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=AI(e.writeResults,e.commitTime),r=Wa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=lm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>EI(this.serializer,r)))};this.K_(n)}}class yO{}class bO extends yO{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Wo(e,sm(n,r),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(te.UNKNOWN,c.toString())}))}jo(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,sm(n,r),o,f,m,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(te.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function vO(i,e,n,r){return new bO(i,e,n,r)}class xO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mi(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ss="RemoteStore";class _O{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{Rs(this)&&(me(Ss,"Restarting streams for network reachability change."),await(async function(g){const y=Pe(g);y.Ea.add(4),await Mc(y),y.Va.set("Unknown"),y.Ea.delete(4),await pf(y)})(this))}))})),this.Va=new xO(r,o)}}async function pf(i){if(Rs(i))for(const e of i.Ra)await e(!0)}async function Mc(i){for(const e of i.Ra)await e(!1)}function eA(i,e){const n=Pe(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),tg(n)?eg(n):$o(n).O_()&&Wm(n,e))}function Zm(i,e){const n=Pe(i),r=$o(n);n.Ia.delete(e),r.O_()&&tA(n,e),n.Ia.size===0&&(r.O_()?r.L_():Rs(n)&&n.Va.set("Unknown"))}function Wm(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$o(i).Z_(e)}function tA(i,e){i.da.$e(e),$o(i).X_(e)}function eg(i){i.da=new pI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),$o(i).start(),i.Va.ua()}function tg(i){return Rs(i)&&!$o(i).x_()&&i.Ia.size>0}function Rs(i){return Pe(i).Ea.size===0}function nA(i){i.da=void 0}async function EO(i){i.Va.set("Online")}async function AO(i){i.Ia.forEach(((e,n)=>{Wm(i,e)}))}async function SO(i,e){nA(i),tg(i)?(i.Va.ha(e),eg(i)):i.Va.set("Unknown")}async function TO(i,e,n){if(i.Va.set("Online"),e instanceof zE&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(i,e)}catch(r){me(Ss,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gd(i,r)}else if(e instanceof Td?i.da.Xe(e):e instanceof LE?i.da.st(e):i.da.tt(e),!n.isEqual(Me.min()))try{const r=await JE(i.localStore);n.compareTo(r)>=0&&await(function(c,f){const m=c.da.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=c.Ia.get(y);_&&c.Ia.set(y,_.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const _=c.Ia.get(g);if(!_)return;c.Ia.set(g,_.withResumeToken(ln.EMPTY_BYTE_STRING,_.snapshotVersion)),tA(c,g);const E=new _r(_.target,g,y,_.sequenceNumber);Wm(c,E)})),c.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(r){me(Ss,"Failed to raise snapshot:",r),await Gd(i,r)}}async function Gd(i,e,n){if(!Ko(e))throw e;i.Ea.add(1),await Mc(i),i.Va.set("Offline"),n||(n=()=>JE(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{me(Ss,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await pf(i)}))}function aA(i,e){return e().catch((n=>Gd(i,n,e)))}async function mf(i){const e=Pe(i),n=Or(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vm;for(;wO(e);)try{const o=await sO(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,NO(e,o)}catch(o){await Gd(e,o)}iA(e)&&rA(e)}function wO(i){return Rs(i)&&i.Ta.length<10}function NO(i,e){i.Ta.push(e);const n=Or(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function iA(i){return Rs(i)&&!Or(i).x_()&&i.Ta.length>0}function rA(i){Or(i).start()}async function RO(i){Or(i).ra()}async function CO(i){const e=Or(i);for(const n of i.Ta)e.ea(n.mutations)}async function IO(i,e,n){const r=i.Ta.shift(),o=Gm.from(r,e,n);await aA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await mf(i)}async function OO(i,e){e&&Or(i).Y_&&await(async function(r,o){if((function(f){return dI(f)&&f!==te.ABORTED})(o.code)){const c=r.Ta.shift();Or(r).B_(),await aA(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await mf(r)}})(i,e),iA(i)&&rA(i)}async function yx(i,e){const n=Pe(i);n.asyncQueue.verifyOperationInProgress(),me(Ss,"RemoteStore received new credentials");const r=Rs(n);n.Ea.add(3),await Mc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pf(n)}async function DO(i,e){const n=Pe(i);e?(n.Ea.delete(2),await pf(n)):e||(n.Ea.add(2),await Mc(n),n.Va.set("Unknown"))}function $o(i){return i.ma||(i.ma=(function(n,r,o){const c=Pe(n);return c.sa(),new mO(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:EO.bind(null,i),Yo:AO.bind(null,i),t_:SO.bind(null,i),J_:TO.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),tg(i)?eg(i):i.Va.set("Unknown")):(await i.ma.stop(),nA(i))}))),i.ma}function Or(i){return i.fa||(i.fa=(function(n,r,o){const c=Pe(n);return c.sa(),new gO(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:RO.bind(null,i),t_:OO.bind(null,i),ta:CO.bind(null,i),na:IO.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await mf(i)):(await i.fa.stop(),i.Ta.length>0&&(me(Ss,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class ng{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const f=Date.now()+r,m=new ng(e,n,f,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(i,e){if(Mi("AsyncQueue",`${e}: ${i}`),Ko(i))return new fe(te.UNAVAILABLE,`${e}: ${i}`);throw i}class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=ac(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new No;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class bx{constructor(){this.ga=new At(Se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Lo{constructor(e,n,r,o,c,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,c){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Lo(e,n,No.emptySet(n),f,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class MO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class kO{constructor(){this.queries=vx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Pe(n),c=o.queries;o.queries=vx(),c.forEach(((f,m)=>{for(const g of m.ba)g.onError(r)}))})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function vx(){return new Ns((i=>TE(i)),lf)}async function ig(i,e){const n=Pe(i);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new MO,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=ag(f,`Initialization of query '${vo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&sg(n)}async function rg(i,e){const n=Pe(i),r=e.query;let o=3;const c=n.queries.get(r);if(c){const f=c.ba.indexOf(e);f>=0&&(c.ba.splice(f,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jO(i,e){const n=Pe(i);let r=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const m of f.ba)m.Fa(o)&&(r=!0);f.wa=o}}r&&sg(n)}function PO(i,e,n){const r=Pe(i),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(n);r.queries.delete(e)}function sg(i){i.Ca.forEach((e=>{e.next()}))}var dm,xx;(xx=dm||(dm={})).Ma="default",xx.Cache="cache";class og{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Lo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dm.Cache}}class sA{constructor(e){this.key=e}}class oA{constructor(e){this.key=e}}class VO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xe(),this.mutatedKeys=Xe(),this.eu=wE(e),this.tu=new No(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new bx,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,E)=>{const R=o.get(_),j=cf(this.query,E)?E:null,B=!!R&&this.mutatedKeys.has(R.key),L=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Q=!1;R&&j?R.data.isEqual(j.data)?B!==L&&(r.track({type:3,doc:j}),Q=!0):this.su(R,j)||(r.track({type:2,doc:j}),Q=!0,(g&&this.eu(j,g)>0||y&&this.eu(j,y)<0)&&(m=!0)):!R&&j?(r.track({type:0,doc:j}),Q=!0):R&&!j&&(r.track({type:1,doc:R}),Q=!0,(g||y)&&(m=!0)),Q&&(j?(f=f.add(j),c=L?c.add(_):c.delete(_)):(f=f.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const _=this.query.limitType==="F"?f.last():f.first();f=f.delete(_.key),c=c.delete(_.key),r.track({type:1,doc:_})}return{tu:f,iu:r,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((_,E)=>(function(j,B){const L=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Vt:Q})}};return L(j)-L(B)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new Lo(this.query,e.tu,c,f,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bx,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new oA(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new sA(r))})),n}cu(e){this.Za=e.ks,this.Ya=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const lg="SyncEngine";class LO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class zO{constructor(e){this.key=e,this.hu=!1}}class UO{constructor(e,n,r,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ns((m=>TE(m)),lf),this.Iu=new Map,this.Eu=new Set,this.Ru=new At(Se.comparator),this.Au=new Map,this.Vu=new Ym,this.du={},this.mu=new Map,this.fu=Vo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BO(i,e,n=!0){const r=hA(i);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await lA(r,e,n,!0),o}async function HO(i,e){const n=hA(i);await lA(n,e,!0,!1)}async function lA(i,e,n,r){const o=await oO(i.localStore,Za(e)),c=o.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return r&&(m=await qO(i,e,c,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&eA(i.remoteStore,o),m}async function qO(i,e,n,r,o){i.pu=(E,R,j)=>(async function(L,Q,ie,q){let ne=Q.view.ru(ie);ne.Ss&&(ne=await fx(L.localStore,Q.query,!1).then((({documents:I})=>Q.view.ru(I,ne))));const pe=q&&q.targetChanges.get(Q.targetId),ue=q&&q.targetMismatches.get(Q.targetId)!=null,ge=Q.view.applyChanges(ne,L.isPrimaryClient,pe,ue);return Ex(L,Q.targetId,ge.au),ge.snapshot})(i,E,R,j);const c=await fx(i.localStore,e,!0),f=new VO(e,c.ks),m=f.ru(c.documents),g=Dc.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,g);Ex(i,n,y.au);const _=new LO(e,n,f);return i.Tu.set(e,_),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function FO(i,e,n){const r=Pe(i),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((f=>!lf(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await cm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Zm(r.remoteStore,o.targetId),fm(r,o.targetId)})).catch(Qo)):(fm(r,o.targetId),await cm(r.localStore,o.targetId,!0))}async function GO(i,e){const n=Pe(i),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zm(n.remoteStore,r.targetId))}async function QO(i,e,n){const r=WO(i);try{const o=await(function(f,m){const g=Pe(f),y=vt.now(),_=m.reduce(((j,B)=>j.add(B.key)),Xe());let E,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let B=ki(),L=Xe();return g.xs.getEntries(j,_).next((Q=>{B=Q,B.forEach(((ie,q)=>{q.isValidDocument()||(L=L.add(ie))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,B))).next((Q=>{E=Q;const ie=[];for(const q of m){const ne=sI(q,E.get(q.key).overlayedDocument);ne!=null&&ie.push(new Pr(q.key,ne,yE(ne.value.mapValue),la.exists(!0)))}return g.mutationQueue.addMutationBatch(j,y,ie,m)})).next((Q=>{R=Q;const ie=Q.applyToLocalDocumentSet(E,L);return g.documentOverlayCache.saveOverlays(j,Q.batchId,ie)}))})).then((()=>({batchId:R.batchId,changes:RE(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.du[f.currentUser.toKey()];y||(y=new At($e)),y=y.insert(m,g),f.du[f.currentUser.toKey()]=y})(r,o.batchId,n),await kc(r,o.changes),await mf(r.remoteStore)}catch(o){const c=ag(o,"Failed to persist write");n.reject(c)}}async function cA(i,e){const n=Pe(i);try{const r=await iO(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=n.Au.get(c);f&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?st(f.hu,14607):o.removedDocuments.size>0&&(st(f.hu,42227),f.hu=!1))})),await kc(n,r,e)}catch(r){await Qo(r)}}function _x(i,e,n){const r=Pe(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Pe(f);g.onlineState=m;let y=!1;g.queries.forEach(((_,E)=>{for(const R of E.ba)R.va(m)&&(y=!0)})),y&&sg(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function KO(i,e,n){const r=Pe(i);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let f=new At(Se.comparator);f=f.insert(c,mn.newNoDocument(c,Me.min()));const m=Xe().add(c),g=new ff(Me.min(),new Map,new At($e),f,m);await cA(r,g),r.Ru=r.Ru.remove(c),r.Au.delete(e),cg(r)}else await cm(r.localStore,e,!1).then((()=>fm(r,e,n))).catch(Qo)}async function YO(i,e){const n=Pe(i),r=e.batch.batchId;try{const o=await aO(n.localStore,e);dA(n,r,null),uA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await kc(n,o)}catch(o){await Qo(o)}}async function $O(i,e,n){const r=Pe(i);try{const o=await(function(f,m){const g=Pe(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return g.mutationQueue.lookupMutationBatch(y,m).next((E=>(st(E!==null,37113),_=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>g.localDocuments.getDocuments(y,_)))}))})(r.localStore,e);dA(r,e,n),uA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await kc(r,o)}catch(o){await Qo(o)}}function uA(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function dA(i,e,n){const r=Pe(i);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function fm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((r=>{i.Vu.containsKey(r)||fA(i,r)}))}function fA(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(Zm(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),cg(i))}function Ex(i,e,n){for(const r of n)r instanceof sA?(i.Vu.addReference(r.key,e),XO(i,r)):r instanceof oA?(me(lg,"Document no longer in limbo: "+r.key),i.Vu.removeReference(r.key,e),i.Vu.containsKey(r.key)||fA(i,r.key)):Oe(19791,{wu:r})}function XO(i,e){const n=e.key,r=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(r)||(me(lg,"New document in limbo: "+n),i.Eu.add(r),cg(i))}function cg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Se(gt.fromString(e)),r=i.fu.next();i.Au.set(r,new zO(n)),i.Ru=i.Ru.insert(n,r),eA(i.remoteStore,new _r(Za(of(n.path)),r,"TargetPurposeLimboResolution",af.ce))}}async function kc(i,e,n){const r=Pe(i),o=[],c=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{f.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const _=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(y){o.push(y);const _=Xm.Es(g.targetId,y);c.push(_)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(g,y){const _=Pe(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>re.forEach(y,(R=>re.forEach(R.Ts,(j=>_.persistence.referenceDelegate.addReference(E,R.targetId,j))).next((()=>re.forEach(R.Is,(j=>_.persistence.referenceDelegate.removeReference(E,R.targetId,j)))))))))}catch(E){if(!Ko(E))throw E;me(Jm,"Failed to update sequence numbers: "+E)}for(const E of y){const R=E.targetId;if(!E.fromCache){const j=_.vs.get(R),B=j.snapshotVersion,L=j.withLastLimboFreeSnapshotVersion(B);_.vs=_.vs.insert(R,L)}}})(r.localStore,c))}async function JO(i,e){const n=Pe(i);if(!n.currentUser.isEqual(e)){me(lg,"User change. New user:",e.toKey());const r=await XE(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new fe(te.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kc(n,r.Ns)}}function ZO(i,e){const n=Pe(i),r=n.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let o=Xe();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function hA(i){const e=Pe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=cA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KO.bind(null,e),e.Pu.J_=jO.bind(null,e.eventManager),e.Pu.yu=PO.bind(null,e.eventManager),e}function WO(i){const e=Pe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$O.bind(null,e),e}class Qd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return nO(this.persistence,new WI,e.initialUser,this.serializer)}Cu(e){return new $E($m.Vi,this.serializer)}Du(e){return new cO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qd.provider={build:()=>new Qd};class eD extends Qd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof Fd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new LI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new $E((r=>Fd.Vi(r,n)),this.serializer)}}class hm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_x(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JO.bind(null,this.syncEngine),await DO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kO})()}createDatastore(e){const n=hf(e.databaseInfo.databaseId),r=pO(e.databaseInfo);return vO(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,f,m){return new _O(r,o,c,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>_x(this.syncEngine,n,0)),(function(){return mx.v()?new mx:new uO})())}createSyncEngine(e,n){return(function(o,c,f,m,g,y,_){const E=new UO(o,c,f,m,g,y);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Pe(n);me(Ss,"RemoteStore shutting down."),r.Ea.add(5),await Mc(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hm.provider={build:()=>new hm};class ug{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Dr="FirestoreClient";class tD{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=Pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async f=>{me(Dr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(me(Dr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ag(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Up(i,e){i.asyncQueue.verifyOperationInProgress(),me(Dr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await XE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Ax(i,e){i.asyncQueue.verifyOperationInProgress();const n=await nD(i);me(Dr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>yx(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>yx(e.remoteStore,o))),i._onlineComponents=e}async function nD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(Dr,"Using user provided OfflineComponentProvider");try{await Up(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await Up(i,new Qd)}}else me(Dr,"Using default OfflineComponentProvider"),await Up(i,new eD(void 0));return i._offlineComponents}async function pA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(Dr,"Using user provided OnlineComponentProvider"),await Ax(i,i._uninitializedComponentsProvider._online)):(me(Dr,"Using default OnlineComponentProvider"),await Ax(i,new hm))),i._onlineComponents}function aD(i){return pA(i).then((e=>e.syncEngine))}async function Kd(i){const e=await pA(i),n=e.eventManager;return n.onListen=BO.bind(null,e.syncEngine),n.onUnlisten=FO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GO.bind(null,e.syncEngine),n}function iD(i,e,n,r){const o=new ug(r),c=new og(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>ig(await Kd(i),c))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>rg(await Kd(i),c)))}}function rD(i,e,n={}){const r=new Ri;return i.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,g,y){const _=new ug({next:R=>{_.Nu(),f.enqueueAndForget((()=>rg(c,E)));const j=R.docs.has(m);!j&&R.fromCache?y.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&R.fromCache&&g&&g.source==="server"?y.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),E=new og(of(m.path),_,{includeMetadataChanges:!0,Ka:!0});return ig(c,E)})(await Kd(i),i.asyncQueue,e,n,r))),r.promise}function sD(i,e,n={}){const r=new Ri;return i.asyncQueue.enqueueAndForget((async()=>(function(c,f,m,g,y){const _=new ug({next:R=>{_.Nu(),f.enqueueAndForget((()=>rg(c,E))),R.fromCache&&g.source==="server"?y.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),E=new og(m,_,{includeMetadataChanges:!0,Ka:!0});return ig(c,E)})(await Kd(i),i.asyncQueue,e,n,r))),r.promise}function oD(i,e){const n=new Ri;return i.asyncQueue.enqueueAndForget((async()=>QO(await aD(i),e,n))),n.promise}function mA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const lD="ComponentProvider",Sx=new Map;function cD(i,e,n,r,o){return new R2(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,mA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const gA="firestore.googleapis.com",Tx=!0;class wx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gA,this.ssl=Tx}else this.host=e.host,this.ssl=e.ssl??Tx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PI)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new o2;switch(r.type){case"firstParty":return new d2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Sx.get(n);r&&(me(lD,"Removing Datastore"),Sx.delete(n),r.terminate())})(this),Promise.resolve()}}function uD(i,e,n,r={}){i=Mn(i,gf);const o=Ho(e),c=i._getSettings(),f={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(c_(`https://${m}`),u_("Firestore",!0)),c.host!==gA&&c.host!==m&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:r};if(!Ii(g,f)&&(i._setSettings(g),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=pn.MOCK_USER;else{y=hw(r.mockUserToken,i._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new pn(E)}i._authCredentials=new l2(new rE(y,_))}}class Vr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vr(this.firestore,e,this._query)}}class wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ic(n,wt._jsonSchema))return new wt(e,r||null,new Se(gt.fromString(n.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:qt("string",wt._jsonSchemaVersion),referencePath:qt("string")};class wr extends Vr{constructor(e,n,r){super(e,n,of(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new Se(e))}withConverter(e){return new wr(this.firestore,e,this._path)}}function Dt(i,e,...n){if(i=Qt(i),sE("collection","path",e),i instanceof gf){const r=gt.fromString(e,...n);return zv(r),new wr(i,null,r)}{if(!(i instanceof wt||i instanceof wr))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(gt.fromString(e,...n));return zv(r),new wr(i.firestore,null,r)}}function at(i,e,...n){if(i=Qt(i),arguments.length===1&&(e=Pm.newId()),sE("doc","path",e),i instanceof gf){const r=gt.fromString(e,...n);return Lv(r),new wt(i,null,new Se(r))}{if(!(i instanceof wt||i instanceof wr))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(gt.fromString(e,...n));return Lv(r),new wt(i.firestore,i instanceof wr?i.converter:null,new Se(r))}}const Nx="AsyncQueue";class Rx{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZE(this,"async_queue_retry"),this._c=()=>{const r=zp();r&&me(Nx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ri;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ko(e))throw e;me(Nx,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Mi("INTERNAL UNHANDLED ERROR: ",Cx(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ng.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Oe(47125,{Pc:Cx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Cx(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ji extends gf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new Rx,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rx(e),this._firestoreClient=void 0,await e}}}function dD(i,e){const n=typeof i=="object"?i:p_(),r=typeof i=="string"?i:zd,o=wm(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=dw("firestore");c&&uD(o,...c)}return o}function yf(i){if(i._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||fD(i),i._firestoreClient}function fD(i){const e=i._freezeSettings(),n=cD(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new tD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}class oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(ln.fromBase64String(e))}catch(n){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oa(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ic(e,oa._jsonSchema))return oa.fromBase64String(e.bytes)}}oa._jsonSchemaVersion="firestore/bytes/1.0",oa._jsonSchema={type:qt("string",oa._jsonSchemaVersion),bytes:qt("string")};class dg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xo{constructor(e){this._methodName=e}}class ei{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ei._jsonSchemaVersion}}static fromJSON(e){if(Ic(e,ei._jsonSchema))return new ei(e.latitude,e.longitude)}}ei._jsonSchemaVersion="firestore/geoPoint/1.0",ei._jsonSchema={type:qt("string",ei._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};class Aa{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Aa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ic(e,Aa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Aa(e.vectorValues);throw new fe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Aa._jsonSchemaVersion="firestore/vectorValue/1.0",Aa._jsonSchema={type:qt("string",Aa._jsonSchemaVersion),vectorValues:qt("object")};const hD=/^__.*__$/;class pD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oc(e,this.data,n,this.fieldTransforms)}}class yA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Pr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{dataSource:i})}}class bf{constructor(e,n,r,o,c,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new bf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Yd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(bA(this.dataSource)&&hD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class mD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hf(e)}createContext(e,n,r,o=!1){return new bf({dataSource:e,methodName:n,targetDoc:r,path:on.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vf(i){const e=i._freezeSettings(),n=hf(i._databaseId);return new mD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function vA(i,e,n,r,o,c={}){const f=i.createContext(c.merge||c.mergeFields?2:0,e,n,o);mg("Data must be an object, but it was:",f,r);const m=_A(r,f);let g,y;if(c.merge)g=new Gn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const _=[];for(const E of c.mergeFields){const R=Ts(e,E,n);if(!f.contains(R))throw new fe(te.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);SA(_,R)||_.push(R)}g=new Gn(_),y=f.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=f.fieldTransforms;return new pD(new In(m),g,y)}class xf extends Xo{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xf}}function xA(i,e,n){return new bf({dataSource:3,targetDoc:e.settings.targetDoc,methodName:i._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class fg extends Xo{_toFieldTransform(e){return new qm(e.path,new _c)}isEqual(e){return e instanceof fg}}class hg extends Xo{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=xA(this,e,!0),r=this.Ac.map((c=>Cs(c,n))),o=new jo(r);return new qm(e.path,o)}isEqual(e){return e instanceof hg&&Ii(this.Ac,e.Ac)}}class pg extends Xo{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=xA(this,e,!0),r=this.Ac.map((c=>Cs(c,n))),o=new Po(r);return new qm(e.path,o)}isEqual(e){return e instanceof pg&&Ii(this.Ac,e.Ac)}}function gD(i,e,n,r){const o=i.createContext(1,e,n);mg("Data must be an object, but it was:",o,r);const c=[],f=In.empty();jr(r,((g,y)=>{const _=AA(e,g,n);y=Qt(y);const E=o.childContextForFieldPath(_);if(y instanceof xf)c.push(_);else{const R=Cs(y,E);R!=null&&(c.push(_),f.set(_,R))}}));const m=new Gn(c);return new yA(f,m,o.fieldTransforms)}function yD(i,e,n,r,o,c){const f=i.createContext(1,e,n),m=[Ts(e,r,n)],g=[o];if(c.length%2!=0)throw new fe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)m.push(Ts(e,c[R])),g.push(c[R+1]);const y=[],_=In.empty();for(let R=m.length-1;R>=0;--R)if(!SA(y,m[R])){const j=m[R];let B=g[R];B=Qt(B);const L=f.childContextForFieldPath(j);if(B instanceof xf)y.push(j);else{const Q=Cs(B,L);Q!=null&&(y.push(j),_.set(j,Q))}}const E=new Gn(y);return new yA(_,E,f.fieldTransforms)}function bD(i,e,n,r=!1){return Cs(n,i.createContext(r?4:3,e))}function Cs(i,e){if(EA(i=Qt(i)))return mg("Unsupported field value:",e,i),_A(i,e);if(i instanceof Xo)return(function(r,o){if(!bA(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let f=0;for(const m of r){let g=Cs(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}})(i,e)}return(function(r,o){if((r=Qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=vt.fromDate(r);return{timestampValue:qd(o.serializer,c)}}if(r instanceof vt){const c=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qd(o.serializer,c)}}if(r instanceof ei)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oa)return{bytesValue:UE(o.serializer,r._byteString)};if(r instanceof wt){const c=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Km(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Aa)return(function(f,m){const g=f instanceof Aa?f.toArray():f;return{mapValue:{fields:{[mE]:{stringValue:gE},[Ud]:{arrayValue:{values:g.map((_=>{if(typeof _!="number")throw m.createError("VectorValues must only contain numeric values.");return Hm(m.serializer,_)}))}}}}}})(r,o);if(KE(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${nf(r)}`)})(i,e)}function _A(i,e){const n={};return cE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jr(i,((r,o)=>{const c=Cs(o,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function EA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof vt||i instanceof ei||i instanceof oa||i instanceof wt||i instanceof Xo||i instanceof Aa||KE(i))}function mg(i,e,n){if(!EA(n)||!oE(n)){const r=nf(n);throw r==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+r)}}function Ts(i,e,n){if((e=Qt(e))instanceof dg)return e._internalPath;if(typeof e=="string")return AA(i,e);throw Yd("Field path arguments must be of type string or ",i,!1,void 0,n)}const vD=new RegExp("[~\\*/\\[\\]]");function AA(i,e,n){if(e.search(vD)>=0)throw Yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new dg(...e.split("."))._internalPath}catch{throw Yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Yd(i,e,n,r,o){const c=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new fe(te.INVALID_ARGUMENT,m+i+g)}function SA(i,e){return i.some((n=>n.isEqual(e)))}class xD{convertValue(e,n="none"){switch(Ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return jr(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[Ud].arrayValue?.values?.map((r=>Ot(r.doubleValue)));return new Aa(n)}convertGeoPoint(e){return new ei(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yc(e));default:return null}}convertTimestamp(e){const n=Rr(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gt.fromString(e);st(QE(r),9688,{name:e});const o=new bc(r.get(1),r.get(3)),c=new Se(r.popFirst(5));return o.isEqual(n)||Mi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class gg extends xD{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function Fn(){return new fg("serverTimestamp")}function Ix(...i){return new hg("arrayUnion",i)}function TA(...i){return new pg("arrayRemove",i)}const Ox="@firebase/firestore",Dx="4.10.0";function Mx(i){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class wA{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _D(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Ts("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _D extends wA{data(){return super.data()}}function NA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class RA extends yg{}function On(i,e,...n){let r=[];e instanceof yg&&r.push(e),r=r.concat(n),(function(c){const f=c.filter((g=>g instanceof bg)).length,m=c.filter((g=>g instanceof _f)).length;if(f>1||f>0&&m>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class _f extends RA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _f(e,n,r)}_apply(e){const n=this._parse(e);return CA(e._query,n),new Vr(e.firestore,e.converter,am(e._query,n))}_parse(e){const n=vf(e.firestore);return(function(c,f,m,g,y,_,E){let R;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){jx(E,_);const B=[];for(const L of E)B.push(kx(g,c,L));R={arrayValue:{values:B}}}else R=kx(g,c,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||jx(E,_),R=bD(m,f,E,_==="in"||_==="not-in");return Ht.create(y,_,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sa(i,e,n){const r=e,o=Ts("where",i);return _f._create(o,r,n)}class bg extends yg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:wa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let f=o;const m=c.getFlattenedFilters();for(const g of m)CA(f,g),f=am(f,g)})(e._query,n),new Vr(e.firestore,e.converter,am(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vg extends RA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new vg(e,n)}_apply(e){const n=(function(o,c,f){if(o.startAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new xc(c,f)})(e._query,this._field,this._direction);return new Vr(e.firestore,e.converter,Q2(e._query,n))}}function Ro(i,e="asc"){const n=e,r=Ts("orderBy",i);return vg._create(r,n)}function kx(i,e,n){if(typeof(n=Qt(n))=="string"){if(n==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SE(e)&&n.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(gt.fromString(n));if(!Se.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Kv(i,new Se(r))}if(n instanceof wt)return Kv(i,n._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(n)}.`)}function jx(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CA(i,e){const n=(function(o,c){for(const f of o)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function IA(i,e,n){let r;return r=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,r}class rc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ys extends wA{constructor(e,n,r,o,c,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ts("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",ys._jsonSchema={type:qt("string",ys._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class wd extends ys{data(e={}){return super.data(e)}}class bs{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new rc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new wd(this._firestore,this._userDataWriter,r.key,r,new rc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new wd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new rc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new wd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new rc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),_=f.indexOf(m.doc.key)),{type:ED(m.type),doc:g,oldIndex:y,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ED(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:i})}}bs._jsonSchemaVersion="firestore/querySnapshot/1.0",bs._jsonSchema={type:qt("string",bs._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};function Nd(i){i=Mn(i,wt);const e=Mn(i.firestore,ji),n=yf(e);return rD(n,i._key).then((r=>OA(e,i,r)))}function pm(i){i=Mn(i,Vr);const e=Mn(i.firestore,ji),n=yf(e),r=new gg(e);return NA(i._query),sD(n,i._query).then((o=>new bs(e,r,i,o)))}function xg(i,e,n){i=Mn(i,wt);const r=Mn(i.firestore,ji),o=IA(i.converter,e,n),c=vf(r);return Ef(r,[vA(c,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,la.none())])}function vn(i,e,n,...r){i=Mn(i,wt);const o=Mn(i.firestore,ji),c=vf(o);let f;return f=typeof(e=Qt(e))=="string"||e instanceof dg?yD(c,"updateDoc",i._key,e,n,r):gD(c,"updateDoc",i._key,e),Ef(o,[f.toMutation(i._key,la.exists(!0))])}function vs(i){return Ef(Mn(i.firestore,ji),[new Fm(i._key,la.none())])}function fc(i,e){const n=Mn(i.firestore,ji),r=at(i),o=IA(i.converter,e),c=vf(i.firestore);return Ef(n,[vA(c,"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,la.exists(!1))]).then((()=>r))}function Dn(i,...e){i=Qt(i);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Mx(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Mx(e[r])){const y=e[r];e[r]=y.next?.bind(y),e[r+1]=y.error?.bind(y),e[r+2]=y.complete?.bind(y)}let c,f,m;if(i instanceof wt)f=Mn(i.firestore,ji),m=of(i._key.path),c={next:y=>{e[r]&&e[r](OA(f,i,y))},error:e[r+1],complete:e[r+2]};else{const y=Mn(i,Vr);f=Mn(y.firestore,ji),m=y._query;const _=new gg(f);c={next:E=>{e[r]&&e[r](new bs(f,_,y,E))},error:e[r+1],complete:e[r+2]},NA(i._query)}const g=yf(f);return iD(g,m,o,c)}function Ef(i,e){const n=yf(i);return oD(n,e)}function OA(i,e,n){const r=n.docs.get(e._key),o=new gg(i);return new ys(i,o,e._key,r,new rc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){s2(qo),Co(new xs("firestore",((r,{instanceIdentifier:o,options:c})=>{const f=r.getProvider("app").getImmediate(),m=new ji(new c2(r.getProvider("auth-internal")),new f2(f,r.getProvider("app-check-internal")),C2(f,o),f);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Sr(Ox,Dx,e),Sr(Ox,Dx,"esm2020")})();const AD={apiKey:"AIzaSyB3p9kAAb0TJXvJMKzUS6pummdlkbzlt6I",authDomain:"fft12l.firebaseapp.com",projectId:"fft12l",storageBucket:"fft12l.firebasestorage.app",messagingSenderId:"459190857682",appId:"1:459190857682:web:d857f4bf1fa2e5ec11220b"},DA=h_(AD),nt=i2(DA),we=dD(DA),MA=(i,e)=>B_(nt,i,e),Af="/FF-12Liberation/assets/chocobo-loading-CZsGc2ZM.gif",kA="/FF-12Liberation/assets/musica-tema-78rqvj_H.mp3",SD="/FF-12Liberation/assets/fundo-rpg-BXz1tR4K.jpg",zo=new Audio(kA);zo.loop=!0;function TD(){const i=Pi(),e=()=>{zo.play().then(()=>{console.log("ter musical sintonizado.")}).catch(n=>{console.log("Aguardando interao para liberar udio: ",n)}),i("/login")};return h.jsxs("div",{className:"landing-container",onClick:e,children:[h.jsxs("div",{className:"content",children:[h.jsx("h1",{className:"game-title",children:"FINAL FANTASY"}),h.jsx("h2",{className:"sub-title",children:"12 Libertao"}),h.jsx("div",{className:"press-start",children:"PRESS START"})]}),h.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .landing-container {
          height: 100vh;
          width: 100vw;
          display: flex;
          align-items: center;
          justify-content: center;
          /* Gradiente FF clssico sobre a imagem de fundo */
          background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), 
                      url(${SD}) no-repeat center center;
          background-size: cover; 
          cursor: pointer;
          position: fixed;
          top: 0;
          left: 0;
          z-index: 1000;
        }

        .content {
          text-align: center;
          /* Animao de entrada suave com blur */
          animation: fadeInSuave 4s ease-in-out; 
        }

        .game-title {
          font-size: clamp(30px, 8vw, 60px);
          letter-spacing: 8px;
          color: #fff;
          text-shadow: 3px 3px 5px #000, 0 0 20px rgba(0, 242, 255, 0.5);
          font-family: 'serif';
        }

        .sub-title {
          font-size: clamp(14px, 4vw, 24px);
          color: #ffcc00;
          margin-top: 10px;
          text-shadow: 1px 1px 3px #000;
          font-family: 'serif';
        }

        .press-start {
          margin-top: 80px;
          font-size: 20px;
          color: #fff;
          letter-spacing: 5px;
          text-shadow: 0 0 10px #00f2ff;
          /* Efeito pulsante clssico de menu */
          animation: blink 1.5s infinite;
          font-family: 'sans-serif';
        }

        @keyframes blink {
          0%, 100% { opacity: 0; }
          50% { opacity: 1; }
        }

        @keyframes fadeInSuave {
          from { opacity: 0; filter: blur(15px); transform: scale(0.9); }
          to { opacity: 1; filter: blur(0); transform: scale(1); }
        }
      `}})]})}const jA="/FF-12Liberation/assets/video-fundo-B5LPnOg0.mp4",wD="/FF-12Liberation/assets/botao-admin-T-iaDg61.png";function ND(){const i=Pi(),e=D.useRef(null),[n,r]=D.useState(null),[o,c]=D.useState(""),[f,m]=D.useState(""),[g,y]=D.useState(""),_=()=>{e.current&&(e.current.pause(),e.current.currentTime=0)};D.useEffect(()=>{if(e.current){e.current.volume=.1;const j=e.current.play();j!==void 0&&j.catch(B=>{console.log("Autoplay bloqueado pelo navegador (interao necessria):",B)})}return()=>{_()}},[]);const E=async j=>{j.preventDefault(),y("");try{const L=(await MA(o,f)).user,Q=at(we,"users",L.uid),ie=await Nd(Q);if(ie.exists()){const q=ie.data();if(n==="master"&&q.role!=="mestre"){y("ACESSO NEGADO: VOC NO  UM MESTRE.");return}if(_(),q.role==="mestre")i("/mestre");else{const ne=at(we,"characters",L.uid);(await Nd(ne)).exists()?i("/jogador-vtt"):i("/create-character")}}else{const q=at(we,"characters",L.uid),ne=await Nd(q);_(),ne.exists()?i("/jogador-vtt"):i("/create-character")}}catch(B){console.error(B),y("FALHA NA CONEXO COM O TER.")}},R=()=>{_(),i("/admin-login")};return h.jsxs("div",{className:"login-container",children:[h.jsx("audio",{ref:e,loop:!0,children:h.jsx("source",{src:kA,type:"audio/mp3"})}),h.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:"background-video",children:h.jsx("source",{src:jA,type:"video/mp4"})}),h.jsx("div",{className:"content-overlay",children:n?h.jsxs("form",{className:"login-panel fade-in",onSubmit:E,children:[h.jsx("button",{type:"button",className:"ff-back",onClick:()=>r(null),children:" RETORNAR"}),h.jsx("h3",{className:"ff-subtitle",children:n==="master"?"NARRADOR":"JOGADOR"}),h.jsxs("div",{className:"ff-input-group",children:[h.jsx("input",{type:"email",placeholder:"E-MAIL",value:o,onChange:j=>c(j.target.value),required:!0}),h.jsx("input",{type:"password",placeholder:"SENHA",value:f,onChange:j=>m(j.target.value),required:!0})]}),g&&h.jsx("p",{className:"ff-error",children:g}),h.jsx("button",{type:"submit",className:"ff-submit",children:"ENTRAR"})]}):h.jsxs("div",{className:"selection-screen fade-in",children:[h.jsx("h2",{className:"ff-title",children:"ESCOLHA SUA JORNADA"}),h.jsxs("div",{className:"ff-button-group",children:[h.jsx("button",{className:"ff-btn",onClick:()=>r("player"),children:"JOGADOR"}),h.jsx("button",{className:"ff-btn",onClick:()=>r("master"),children:"NARRADOR"})]})]})}),h.jsx("button",{className:"admin-portal-btn",onClick:R,title:"Acesso ao Narrador",children:h.jsx("img",{src:wD,alt:"Portal Admin"})}),h.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .login-container {
          height: 100vh;
          width: 100vw;
          background: #000;
          display: flex;
          align-items: center;
          justify-content: center;
          overflow: hidden;
          position: relative;
        }

        .background-video {
          position: absolute;
          top: 50%;
          left: 50%;
          min-width: 100%;
          min-height: 100%;
          width: auto;
          height: auto;
          z-index: 1; 
          transform: translate(-50%, -50%);
          object-fit: cover;
          animation: quickLoopFade 0.5s ease-in-out;
        }

        @keyframes quickLoopFade {
          0% { opacity: 0; }
          100% { opacity: 1; }
        }

        .content-overlay {
          position: relative;
          z-index: 10;
          display: flex;
          align-items: center;
          justify-content: center;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.4);
        }

        .ff-title { 
          color: #fff; 
          font-size: 32px; 
          letter-spacing: 8px; 
          margin-bottom: 40px; 
          text-shadow: 0 0 15px rgba(255, 255, 255, 0.5); 
          text-align: center;
          font-family: 'serif'; 
        }

        .ff-subtitle { color: #ffcc00; letter-spacing: 4px; margin-bottom: 30px; text-align: center; }
        .ff-button-group { display: flex; flex-direction: column; gap: 20px; align-items: center; }
        
        /* Botes Iniciais */
        .ff-btn {
          background: rgba(0, 0, 30, 0.6); 
          border: 1px solid rgba(255, 255, 255, 0.6);
          color: #fff;
          padding: 15px 50px;
          letter-spacing: 3px;
          cursor: pointer;
          transition: 0.4s;
          width: 280px;
          backdrop-filter: blur(5px);
          font-weight: bold;
        }

        /* Boto de Entrar (Ajustado para igualar a largura dos inputs) */
        .ff-submit {
          background: rgba(0, 0, 30, 0.6); 
          border: 1px solid rgba(255, 255, 255, 0.6);
          color: #fff;
          padding: 15px 0; /* padding lateral removido para usar width */
          letter-spacing: 3px;
          cursor: pointer;
          transition: 0.4s;
          width: 326px; /* 300px input + 24px padding + 2px border */
          backdrop-filter: blur(5px);
          font-weight: bold;
          margin: 0 auto;
          display: block;
        }

        .ff-btn:hover, .ff-submit:hover { 
          background: #fff; 
          color: #000; 
          box-shadow: 0 0 20px #fff; 
        }

        .ff-input-group input {
          display: block; 
          width: 300px; 
          padding: 12px; 
          margin: 0 auto 20px auto;
          background: rgba(0, 0, 0, 0.7); 
          border: 1px solid #444;
          color: #fff; 
          text-align: center; 
          letter-spacing: 2px; 
          outline: none;
        }

        .ff-input-group input:focus { border-color: #ffcc00; }
        .ff-back { background: none; border: none; color: #ffcc00; cursor: pointer; margin-bottom: 15px; display: block; font-weight: bold; }
        .ff-error { color: #ff4444; font-size: 12px; margin-bottom: 15px; text-shadow: 0 0 5px #000; text-align: center; }

        .admin-portal-btn {
          position: absolute;
          bottom: 30px;
          right: 30px;
          z-index: 100;
          background: none;
          border: none;
          cursor: pointer;
          width: 70px;
          transition: 0.5s;
          filter: drop-shadow(0 0 8px rgba(0, 242, 255, 0.6));
        }

        .admin-portal-btn img { width: 100%; height: auto; }
        .admin-portal-btn:hover { transform: scale(1.2) rotate(-5deg); filter: drop-shadow(0 0 15px #00f2ff); }

        .fade-in { animation: fadeInFF 2s ease-out forwards; }

        @keyframes fadeInFF {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `}})]})}function RD(){const[i,e]=D.useState(""),[n,r]=D.useState(""),[o,c]=D.useState(""),f=Pi(),m=async g=>{if(g.preventDefault(),c(""),i!=="fffvtt10@gmail.com"){c("VOC NO TEM PERMISSO DE NARRADOR.");return}try{await B_(nt,i,n),f("/admin")}catch(y){console.error(y),c("SENHA INCORRETA OU FALHA NA CONEXO.")}};return h.jsxs("div",{className:"login-container",children:[h.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"background-video",children:h.jsx("source",{src:jA,type:"video/mp4"})}),h.jsx("div",{className:"content-overlay",children:h.jsxs("form",{className:"login-panel fade-in",onSubmit:m,children:[h.jsx("button",{type:"button",className:"ff-back",onClick:()=>f("/"),children:" RETORNAR"}),h.jsx("h3",{className:"ff-subtitle",children:"PORTAL DO ADMINISTRADOR"}),h.jsxs("div",{className:"ff-input-group",children:[h.jsx("input",{type:"email",placeholder:"E-MAIL",value:i,onChange:g=>e(g.target.value),required:!0}),h.jsx("input",{type:"password",placeholder:"CHAVE DE ACESSO",value:n,onChange:g=>r(g.target.value),required:!0})]}),o&&h.jsx("p",{className:"ff-error",style:{color:"#ff4444",fontSize:"12px",marginBottom:"10px"},children:o}),h.jsx("button",{type:"submit",className:"ff-submit",children:"DESBLOQUEAR"})]})}),h.jsx("style",{children:`
        .login-container { 
          height: 100vh; 
          width: 100vw; 
          display: flex; 
          align-items: center; 
          justify-content: center; 
          position: relative; 
          overflow: hidden; 
          background: #000; 
        }
        .background-video { 
          position: absolute; 
          top: 50%; 
          left: 50%; 
          min-width: 100%; 
          min-height: 100%; 
          transform: translate(-50%, -50%); 
          object-fit: cover; 
          z-index: 1; 
        }
        .content-overlay { 
          position: absolute; 
          top: 0; 
          left: 0; 
          z-index: 10; 
          width: 100%; 
          height: 100%; 
          display: flex; 
          align-items: center; 
          justify-content: center; 
          background: rgba(0,0,0,0.6); 
        }
        .login-panel { 
          background: rgba(0, 0, 30, 0.85); 
          padding: 40px; 
          border: 1px solid #00f2ff; 
          backdrop-filter: blur(15px); 
          text-align: center;
          box-shadow: 0 0 30px rgba(0, 242, 255, 0.3);
          width: 350px;
        }
        .ff-subtitle { color: #ffcc00; letter-spacing: 4px; margin-bottom: 25px; font-weight: bold; }
        .ff-input-group input { 
          display: block; 
          width: 100%; 
          padding: 12px; 
          margin: 10px 0; 
          background: rgba(0,0,0,0.8); 
          border: 1px solid #444; 
          color: #fff; 
          text-align: center; 
          outline: none; 
          box-sizing: border-box;
        }
        .ff-input-group input:focus { border-color: #00f2ff; box-shadow: 0 0 10px rgba(0, 242, 255, 0.2); }
        .ff-submit { 
          background: transparent; 
          border: 1px solid #fff; 
          color: #fff; 
          padding: 12px 40px; 
          cursor: pointer; 
          transition: 0.3s; 
          width: 100%; 
          letter-spacing: 2px; 
          margin-top: 10px;
        }
        .ff-submit:hover { background: #fff; color: #000; box-shadow: 0 0 15px #fff; }
        .ff-back { background: none; border: none; color: #ffcc00; cursor: pointer; margin-bottom: 20px; font-size: 12px; }
        .fade-in { animation: fadeInFF 1.5s ease-out; }
        @keyframes fadeInFF { from { opacity: 0; } to { opacity: 1; } }
      `})]})}function CD(){const[i,e]=D.useState([]),[n,r]=D.useState([]),[o,c]=D.useState(""),[f,m]=D.useState(""),[g,y]=D.useState("jogador"),[_,E]=D.useState("");D.useEffect(()=>{zo&&zo.pause()},[]),D.useEffect(()=>{R()},[]);const R=async()=>{try{const ne=(await pm(Dt(we,"users"))).docs.map(ge=>({id:ge.id,...ge.data()})).filter(ge=>ge.email!=="fffvtt10@gmail.com"),ue=(await pm(Dt(we,"characters"))).docs.map(ge=>({id:ge.id,...ge.data()}));e(ne),r(ue)}catch(q){console.error("Erro ao carregar dados do ter: ",q)}},j=async q=>{q.preventDefault();const ne="fffvtt10@gmail.com",pe="SUA_SENHA_AQUI";try{const ge=(await qR(nt,o,f)).user;await xg(at(we,"users",ge.uid),{email:o,role:g,active:!0,createdAt:new Date}),alert("Usurio invocado! Reconectando Admin..."),await MA(ne,pe),c(""),m(""),R()}catch(ue){alert("Erro no processo (Verifique a senha no cdigo!): "+ue.message)}},B=async(q,ne)=>{if(window.confirm(`Deseja banir permanentemente ${ne} do ter?`))try{await vs(at(we,"users",q)),await vs(at(we,"characters",q)),alert("Conta e personagem banidos com sucesso."),R()}catch(pe){alert("Erro ao banir usurio: "+pe.message)}},L=async q=>{if(window.confirm("Tem certeza que deseja apagar APENAS o personagem deste usurio? Ele ter que criar outro."))try{await vs(at(we,"characters",q)),alert("Personagem deletado. O usurio continua ativo."),R()}catch(ne){alert("Erro ao deletar personagem: "+ne.message)}},Q=q=>{const ne=n.find(pe=>pe.uid===q);return ne||null},ie=async()=>{if(_.length<6)return alert("A senha deve ter no mnimo 6 caracteres.");try{await FR(nt.currentUser,_),alert("Sua chave de mestre foi alterada!"),E("")}catch{alert("Erro ao trocar senha. Tente fazer login novamente.")}};return h.jsxs("div",{className:"admin-dashboard",children:[h.jsx("div",{className:"ether-vortex"}),h.jsxs("div",{className:"admin-content",children:[h.jsx("h1",{className:"main-title",children:"GESTO DO TER SUPREMO"}),h.jsxs("div",{className:"cards-grid",children:[h.jsxs("div",{className:"ff-card fade-in",children:[h.jsx("h3",{children:"INVOCAR NOVA CONTA"}),h.jsxs("form",{onSubmit:j,children:[h.jsx("input",{type:"email",placeholder:"E-mail do Alvo",value:o,onChange:q=>c(q.target.value),required:!0}),h.jsx("input",{type:"password",placeholder:"Definir Senha Inicial",value:f,onChange:q=>m(q.target.value),required:!0}),h.jsxs("select",{value:g,onChange:q=>y(q.target.value),children:[h.jsx("option",{value:"jogador",children:"JOGADOR"}),h.jsx("option",{value:"mestre",children:"MESTRE"})]}),h.jsx("button",{type:"submit",children:"CRIAR ACESSO"})]})]}),h.jsxs("div",{className:"ff-card fade-in",children:[h.jsx("h3",{children:"VIAJANTES E MESTRES"}),h.jsx("div",{className:"list-box",children:i.map(q=>{const ne=Q(q.id);return h.jsxs("div",{className:"item",children:[h.jsxs("div",{style:{flex:1},children:[h.jsx("span",{className:`badge ${q.role}`,children:q.role.toUpperCase()}),h.jsx("p",{className:"email-text",children:q.email}),ne&&h.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:"4px"},children:[h.jsxs("span",{style:{fontSize:"10px",color:"#ffcc00",marginRight:"10px"},children:[" ",ne.name," (",ne.class,")"]}),h.jsx("button",{className:"btn-mini-del",onClick:()=>L(q.id),title:"Apagar Personagem",children:" Excluir Char"})]})]}),h.jsxs("div",{className:"btn-group",children:[h.jsx("button",{onClick:()=>{HR(nt,q.email),alert("E-mail de reset enviado.")},children:"RESET"}),h.jsx("button",{className:"del",onClick:()=>B(q.id,q.email),children:"BANIR"})]})]},q.id)})})]}),h.jsxs("div",{className:"ff-card fade-in",children:[h.jsx("h3",{children:"MINHA CHAVE DE ADMIN"}),h.jsx("input",{type:"password",placeholder:"Nova Senha",value:_,onChange:q=>E(q.target.value)}),h.jsx("button",{onClick:ie,children:"TROCAR MINHA SENHA"})]})]})]}),h.jsx("style",{children:`
        .admin-dashboard { background: radial-gradient(circle at center, #001a33 0%, #000000 100%); min-height: 100vh; color: #fff; font-family: 'Segoe UI', sans-serif; position: relative; overflow: hidden; }
        .ether-vortex { content: ""; position: absolute; top: -100%; left: -100%; width: 300%; height: 300%; background: conic-gradient(from 0deg, transparent, rgba(0, 242, 255, 0.08), transparent); animation: rotateEther 30s linear infinite; z-index: 0; pointer-events: none; }
        @keyframes rotateEther { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .admin-content { position: relative; z-index: 1; padding: 40px; }
        .main-title { color: #ffcc00; text-align: center; letter-spacing: 5px; margin-bottom: 50px; text-shadow: 0 0 10px #ffcc00; }
        .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap: 30px; }
        .ff-card { background: rgba(0, 10, 30, 0.85); border: 1px solid rgba(0, 242, 255, 0.5); padding: 25px; border-radius: 8px; box-shadow: 0 0 20px rgba(0,242,255,0.1); backdrop-filter: blur(10px); }
        h3 { color: #00f2ff; font-size: 14px; border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 20px; }
        .item { display: flex; justify-content: space-between; align-items: flex-start; padding: 10px 0; border-bottom: 1px solid #111; }
        .email-text { font-size: 11px; color: #ccc; margin: 2px 0; overflow: hidden; text-overflow: ellipsis; }
        .badge { font-size: 9px; padding: 2px 6px; border-radius: 3px; font-weight: bold; color: #000; }
        .badge.mestre { background: #ffcc00; }
        .badge.jogador { background: #00f2ff; }
        .btn-group { display: flex; gap: 8px; align-items: center; }
        input, select { background: rgba(0,0,0,0.8); border: 1px solid #444; color: #fff; padding: 12px; width: 100%; margin-bottom: 15px; outline: none; transition: 0.3s; }
        input:focus { border-color: #ffcc00; }
        button { background: transparent; border: 1px solid #00f2ff; color: #fff; padding: 8px 15px; cursor: pointer; transition: 0.3s; font-size: 11px; }
        button:hover { background: #fff; color: #000; box-shadow: 0 0 10px #fff; }
        button.del { border-color: #ff4444; color: #ff4444; }
        button.del:hover { background: #ff4444; color: white; border-color: #ff4444; }
        .btn-mini-del { padding: 2px 6px; font-size: 9px; border-color: #ff4444; color: #ff4444; margin-left: 0; }
        .btn-mini-del:hover { background: #ff4444; color: #fff; }
        .list-box { max-height: 250px; overflow-y: auto; }
        .list-box::-webkit-scrollbar { width: 4px; }
        .list-box::-webkit-scrollbar-thumb { background: #00f2ff; }
        .fade-in { animation: fadeIn 1.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
      `})]})}const PA="/FF-12Liberation/assets/fundo-mestre-OTxRyTTC.jpg",mm="/FF-12Liberation/assets/sanchez-1nilABmc.jpeg",VA="/FF-12Liberation/assets/papiro-CRka9pgw.png",ID="/FF-12Liberation/assets/bazar-DZ7p321B.png";function _g({isMestre:i,playerData:e}){const[n,r]=D.useState(!1),[o,c]=D.useState([]),[f,m]=D.useState([]),[g,y]=D.useState(""),[_,E]=D.useState(null),[R,j]=D.useState(""),[B,L]=D.useState({nome:"",descricao:"",imagem:"",valorGil:"",valorReal:""});D.useEffect(()=>{if(!n)return;const S=On(Dt(we,"game_items"),Sa("status","==","bazar"),Ro("updatedAt","desc")),k=Dn(S,w=>{c(w.docs.map(Te=>({id:Te.id,...Te.data()})))});return()=>k()},[n]),D.useEffect(()=>{if(!n||!i)return;const S=On(Dt(we,"game_items"),Sa("status","==","vault"),Ro("nome","asc")),k=Dn(S,w=>{const Te=w.docs.map(De=>({id:De.id,...De.data()})).filter(De=>!De.ownerId);m(Te)});return()=>k()},[n,i]);const Q=S=>{const k=S.target.value;if(j(k),!k)return;const w=f.find(Te=>Te.id===k);w&&L({...B,nome:w.nome,descricao:w.descricao,imagem:w.imagem,valorGil:"",valorReal:""})},ie=async S=>{if(S.preventDefault(),!B.nome||!B.valorGil)return alert("Preencha nome e valor em Gil!");try{const k={...B,updatedAt:Fn()};_?(await vn(at(we,"game_items",_),k),E(null)):R?(await vn(at(we,"game_items",R),{...k,status:"bazar"}),j("")):await fc(Dt(we,"game_items"),{...k,status:"bazar",ownerId:null,createdAt:Fn()}),L({nome:"",descricao:"",imagem:"",valorGil:"",valorReal:""})}catch{alert("Erro ao salvar item no Bazar.")}},q=async S=>{window.confirm("Remover do mercado? O item voltar para a Forja.")&&await vn(at(we,"game_items",S),{status:"vault",updatedAt:Fn()})},ne=async S=>{if(!nt.currentUser)return alert("Voc precisa estar logado.");const k=e?.character_sheet?.inventory?.gil||0,w=Number(S.valorGil);if(k<w)return alert(`Saldo insuficiente! Voc tem ${k} Gil, mas o item custa ${w} Gil.`);if(window.confirm(`Comprar "${S.nome}" por ${S.valorGil} Gil?`))try{const De=k-w,J=at(we,"characters",nt.currentUser.uid),le=JSON.parse(JSON.stringify(e.character_sheet));le.inventory.gil=De,await xg(J,{character_sheet:le},{merge:!0}),await vn(at(we,"game_items",S.id),{status:"requested",ownerId:nt.currentUser.uid,buyerName:e.name,updatedAt:Fn()}),alert(`Solicitao enviada! O Mestre aprovar a entrega em breve. Saldo restante: ${De} Gil.`)}catch(De){console.error("Erro na compra:",De),alert("Erro na transao. Verifique o console.")}},[pe,ue]=D.useState([]);D.useEffect(()=>{if(!i||!n)return;const S=On(Dt(we,"game_items"),Sa("status","==","requested")),k=Dn(S,w=>{ue(w.docs.map(Te=>({id:Te.id,...Te.data()})))});return()=>k()},[i,n]);const ge=async S=>{try{await vn(at(we,"game_items",S.id),{status:"vault",ownerId:S.ownerId,buyerName:S.buyerName,updatedAt:Fn()}),alert(`Venda aprovada! O item "${S.nome}" foi enviado para o Cofre Pessoal de ${S.buyerName}.`)}catch{alert("Erro ao aprovar.")}},I=S=>{E(S.id),j(""),L(S)},C=()=>{E(null),j(""),L({nome:"",descricao:"",imagem:"",valorGil:"",valorReal:""})},O=o.filter(S=>S.nome.toLowerCase().includes(g.toLowerCase())),P=S=>S&&S.startsWith("http")?`url(${S})`:"url('https://via.placeholder.com/150?text=Item')";return h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"bazar-trigger-btn",onClick:()=>r(!0),title:"Abrir Bazar",children:h.jsx("img",{src:ID,alt:"Bazar",onError:S=>{S.target.style.display="none",S.target.parentNode.innerText="BAZAR"}})}),n&&h.jsx("div",{className:"bazar-overlay-flex",onClick:()=>r(!1),children:h.jsxs("div",{className:"bazar-modal-centered",onClick:S=>S.stopPropagation(),children:[h.jsxs("div",{className:"bazar-header",children:[h.jsx("h2",{children:"MERCADO NEGRO"}),h.jsx("button",{className:"close-btn",onClick:()=>r(!1),children:""})]}),i&&h.jsxs("div",{className:"mestre-panel",children:[pe.length>0&&h.jsxs("div",{className:"requests-box",children:[h.jsxs("h4",{children:["PEDIDOS DE COMPRA (",pe.length,")"]}),pe.map(S=>h.jsxs("div",{className:"request-row",children:[h.jsxs("span",{children:[h.jsx("strong",{children:S.buyerName})," quer comprar ",h.jsx("strong",{children:S.nome})," (",S.valorGil," G)"]}),h.jsx("button",{className:"btn-approve",onClick:()=>ge(S),children:"APROVAR ENTREGA"})]},S.id))]}),h.jsxs("form",{onSubmit:ie,className:"bazar-form",children:[!_&&h.jsx("div",{className:"row",style:{marginBottom:"10px"},children:h.jsxs("select",{className:"bazar-input",onChange:Q,value:R,children:[h.jsx("option",{value:"",children:" Selecionar Item do Cofre (Forja)..."}),f.map(S=>h.jsx("option",{value:S.id,children:S.nome},S.id))]})}),h.jsxs("div",{className:"row",children:[h.jsx("input",{placeholder:"Nome do Item",value:B.nome,onChange:S=>L({...B,nome:S.target.value}),className:"bazar-input",readOnly:!!R&&!_}),h.jsx("input",{placeholder:"Link Imagem",value:B.imagem,onChange:S=>L({...B,imagem:S.target.value}),className:"bazar-input"})]}),h.jsxs("div",{className:"row",children:[h.jsx("input",{placeholder:"Valor Gil",type:"number",value:B.valorGil,onChange:S=>L({...B,valorGil:S.target.value}),className:"bazar-input",required:!0}),h.jsx("input",{placeholder:"Valor Real (R$)",type:"number",value:B.valorReal,onChange:S=>L({...B,valorReal:S.target.value}),className:"bazar-input"})]}),h.jsx("textarea",{placeholder:"Descrio do item...",value:B.descricao,onChange:S=>L({...B,descricao:S.target.value}),className:"bazar-input area"}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"submit",className:"btn-save",children:_?"SALVAR ALTERAES":R?"COLOCAR  VENDA":"CRIAR E VENDER"}),(_||R)&&h.jsx("button",{type:"button",onClick:C,className:"btn-cancel",children:"CANCELAR"})]})]})]}),h.jsx("div",{className:"search-bar-container",children:h.jsx("input",{type:"text",placeholder:" Procurar mercadoria...",value:g,onChange:S=>y(S.target.value),className:"search-input"})}),h.jsxs("div",{className:"bazar-grid",children:[O.map(S=>h.jsxs("div",{className:"bazar-item-card",children:[h.jsx("div",{className:"item-img",style:{backgroundImage:P(S.imagem)}}),h.jsxs("div",{className:"item-info",children:[h.jsx("h4",{children:S.nome}),h.jsx("p",{className:"desc",children:S.descricao}),h.jsxs("div",{className:"prices",children:[h.jsxs("span",{className:"price-tag gil",children:[" ",S.valorGil," G"]}),S.valorReal&&h.jsxs("span",{className:"price-tag real",children:[" R$ ",S.valorReal]})]})]}),h.jsx("div",{className:"item-actions",children:i?h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"btn-icon edit",onClick:()=>I(S),title:"Editar Preo",children:""}),h.jsx("button",{className:"btn-icon delete",onClick:()=>q(S.id),title:"Devolver para a Forja",children:""})]}):h.jsx("button",{className:"btn-buy",onClick:()=>ne(S),children:"COMPRAR"})})]},S.id)),O.length===0&&h.jsx("p",{className:"empty-msg",children:"Nenhum item  venda no momento."})]})]})}),h.jsx("style",{children:`
        .bazar-trigger-btn { position: fixed; bottom: 30px; right: 30px; width: 70px; height: 70px; border-radius: 50%; border: 2px solid #ffcc00; background: #000; cursor: pointer; z-index: 9999; transition: transform 0.2s, box-shadow 0.2s; padding: 0; display: flex; align-items: center; justify-content: center; }
        .bazar-trigger-btn:hover { transform: scale(1.1); box-shadow: 0 0 25px #ffcc00; }
        .bazar-trigger-btn img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }

        /* NOVO CSS PARA CENTRALIZAR O MODAL SEM CORTAR */
        .bazar-overlay-flex { 
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; 
            background: rgba(0,0,0,0.85); z-index: 100000; 
            display: flex; align-items: center; justify-content: center; 
            backdrop-filter: blur(5px); 
        }
        .bazar-modal-centered { 
            width: 800px; max-width: 95vw; 
            height: 750px; max-height: 90vh; /* Garante que cabe na tela */
            background: #0d0d15; border: 1px solid #ffcc00; 
            display: flex; flex-direction: column; 
            box-shadow: 0 0 50px rgba(0,0,0,0.8); border-radius: 8px; 
            overflow: hidden; 
        }

        .bazar-header { background: linear-gradient(90deg, #1a1a1a, #000); padding: 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #ffcc00; }
        .bazar-header h2 { margin: 0; color: #ffcc00; font-family: serif; letter-spacing: 2px; text-shadow: 0 0 10px #ffcc00; font-size: 24px; }
        .close-btn { background: transparent; border: none; color: #fff; font-size: 30px; cursor: pointer; }

        .mestre-panel { background: rgba(255, 204, 0, 0.05); padding: 15px; border-bottom: 1px solid #333; }
        
        .requests-box { background: rgba(0, 242, 255, 0.1); border: 1px solid #00f2ff; padding: 10px; margin-bottom: 15px; border-radius: 4px; }
        .requests-box h4 { color: #00f2ff; margin: 0 0 10px 0; font-size: 12px; }
        .request-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px; font-size: 12px; color: #fff; }
        .btn-approve { background: #00f2ff; color: #000; border: none; padding: 5px 10px; font-weight: bold; cursor: pointer; border-radius: 3px; }

        .bazar-form { display: flex; flex-direction: column; gap: 10px; }
        .bazar-form .row { display: flex; gap: 10px; }
        .bazar-input { background: #000; border: 1px solid #444; color: #fff; padding: 10px; flex: 1; outline: none; font-family: serif; }
        .bazar-input.area { height: 60px; resize: none; }
        .form-actions { display: flex; gap: 10px; }
        .btn-save { flex: 1; background: #ffcc00; border: none; padding: 10px; font-weight: bold; cursor: pointer; color: #000; }
        .btn-cancel { background: #333; color: #fff; border: 1px solid #555; padding: 10px; cursor: pointer; }

        .search-bar-container { padding: 15px; background: #000; border-bottom: 1px solid #333; }
        .search-input { width: 100%; background: #111; border: 1px solid #444; color: #fff; padding: 12px; border-radius: 20px; text-align: center; outline: none; font-size: 16px; }

        .bazar-grid { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; scrollbar-width: none; -ms-overflow-style: none; }
        .bazar-grid::-webkit-scrollbar { display: none; }

        .bazar-item-card { background: linear-gradient(90deg, rgba(20,20,30,0.9), rgba(0,0,0,0.8)); border: 1px solid #444; display: flex; align-items: center; padding: 10px; border-radius: 4px; transition: 0.2s; }
        .bazar-item-card:hover { border-color: #00f2ff; box-shadow: 0 0 15px rgba(0, 242, 255, 0.1); }
        
        .item-img { width: 80px; height: 80px; background-size: cover; background-position: center; border: 1px solid #666; margin-right: 15px; border-radius: 4px; background-color: #000; }
        .item-info { flex: 1; }
        .item-info h4 { margin: 0 0 5px 0; color: #fff; font-size: 18px; letter-spacing: 1px; }
        .item-info .desc { margin: 0 0 10px 0; color: #aaa; font-size: 12px; font-style: italic; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        
        .prices { display: flex; gap: 10px; }
        .price-tag { padding: 4px 8px; border-radius: 3px; font-weight: bold; font-size: 12px; }
        .price-tag.gil { background: rgba(255,255,0,0.1); color: #ffcc00; border: 1px solid #ffcc00; }
        .price-tag.real { background: rgba(0, 242, 255, 0.1); color: #00f2ff; border: 1px solid #00f2ff; }

        .item-actions { display: flex; gap: 8px; align-items: center; margin-left: 15px; }
        .btn-buy { background: #00f2ff; color: #000; border: none; padding: 10px 20px; font-weight: bold; cursor: pointer; clip-path: polygon(10% 0, 100% 0, 100% 70%, 90% 100%, 0 100%, 0 30%); transition: 0.2s; }
        .btn-buy:hover { background: #fff; box-shadow: 0 0 15px #00f2ff; }
        
        .btn-icon { background: transparent; border: 1px solid #444; color: #fff; padding: 8px; cursor: pointer; border-radius: 4px; font-size: 16px; }
        .btn-icon:hover { background: #fff; color: #000; }
        .btn-icon.delete:hover { background: #f44; border-color: #f44; color: #fff; }
        .empty-msg { text-align: center; color: #666; margin-top: 50px; font-style: italic; }
      `})]})}const OD="/FF-12Liberation/assets/forja-Dr7AylP_.png";function LA(){const[i,e]=D.useState(!1),[n,r]=D.useState([]),[o,c]=D.useState(""),[f,m]=D.useState(null),[g,y]=D.useState({nome:"",descricao:"",imagem:""});D.useEffect(()=>{if(!i)return;const L=On(Dt(we,"game_items"),Sa("status","==","vault"),Ro("createdAt","desc")),Q=Dn(L,ie=>{r(ie.docs.map(q=>({id:q.id,...q.data()})))});return()=>Q()},[i]);const _=async L=>{if(L.preventDefault(),!g.nome)return alert("O item precisa de um nome!");try{const Q={...g,updatedAt:Fn()};f?(await vn(at(we,"game_items",f),Q),m(null)):await fc(Dt(we,"game_items"),{...Q,status:"vault",ownerId:null,valorGil:0,createdAt:Fn()}),y({nome:"",descricao:"",imagem:""})}catch(Q){alert("Erro ao forjar item."),console.error(Q)}},E=async L=>{window.confirm("ATENO: Isso destruir o item permanentemente. Deseja continuar?")&&await vs(at(we,"game_items",L))},R=L=>{m(L.id),y(L)},j=()=>{m(null),y({nome:"",descricao:"",imagem:""})},B=n.filter(L=>L.nome.toLowerCase().includes(o.toLowerCase()));return h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"forja-trigger-btn",onClick:()=>e(!0),title:"Abrir Forja",children:h.jsx("img",{src:OD,alt:"Forja",onError:L=>{L.target.style.display="none",L.target.parentNode.innerText="FORJA"}})}),i&&h.jsx("div",{className:"forja-overlay",onClick:()=>e(!1),children:h.jsxs("div",{className:"forja-modal",onClick:L=>L.stopPropagation(),children:[h.jsxs("div",{className:"forja-header",children:[h.jsx("h2",{children:"A FORJA ANTIGA"}),h.jsx("button",{className:"close-btn",onClick:()=>e(!1),children:""})]}),h.jsxs("div",{className:"mestre-panel-forja",children:[h.jsx("h4",{style:{color:"#f44",margin:"0 0 10px 0"},children:"FORJAR NOVO ARTEFATO"}),h.jsxs("form",{onSubmit:_,className:"forja-form",children:[h.jsxs("div",{className:"row",children:[h.jsx("input",{placeholder:"Nome do Artefato",value:g.nome,onChange:L=>y({...g,nome:L.target.value}),className:"forja-input"}),h.jsx("input",{placeholder:"URL da Imagem (Imgur)",value:g.imagem,onChange:L=>y({...g,imagem:L.target.value}),className:"forja-input"})]}),h.jsx("textarea",{placeholder:"Descrio detalhada e lore do item...",value:g.descricao,onChange:L=>y({...g,descricao:L.target.value}),className:"forja-input area"}),h.jsxs("div",{className:"form-actions",children:[h.jsx("button",{type:"submit",className:"btn-forjar",children:f?"REFUNDIR (SALVAR)":"FORJAR ITEM"}),f&&h.jsx("button",{type:"button",onClick:j,className:"btn-cancel",children:"CANCELAR"})]})]})]}),h.jsx("div",{className:"search-bar-container-forja",children:h.jsx("input",{type:"text",placeholder:" Buscar nos arquivos da forja...",value:o,onChange:L=>c(L.target.value),className:"search-input-forja"})}),h.jsxs("div",{className:"forja-grid",children:[B.map(L=>h.jsxs("div",{className:"forja-item-card",children:[h.jsx("div",{className:"item-img",style:{backgroundImage:`url(${L.imagem||"https://via.placeholder.com/150?text=?"})`}}),h.jsxs("div",{className:"item-info",children:[h.jsx("h4",{children:L.nome}),L.ownerId&&h.jsxs("div",{className:"owner-tag",children:["COMPRADO POR: ",L.buyerName||"Jogador"]}),h.jsx("p",{className:"desc",children:L.descricao}),h.jsxs("small",{style:{color:"#666"},children:["Status: ",L.ownerId?"Cofre Pessoal":"Cofre Global"]})]}),h.jsxs("div",{className:"item-actions",children:[h.jsx("button",{className:"btn-icon edit",onClick:()=>R(L),title:"Editar",children:""}),h.jsx("button",{className:"btn-icon delete",onClick:()=>E(L.id),title:"Destruir",children:""})]})]},L.id)),B.length===0&&h.jsx("p",{className:"empty-msg",children:"A forja est fria. Nenhum item no cofre."})]})]})}),h.jsx("style",{children:`
        .forja-trigger-btn {
          position: fixed; bottom: 30px; right: 110px; width: 70px; height: 70px;
          border-radius: 50%; border: 2px solid #f44; background: #000; cursor: pointer; z-index: 9999;
          transition: transform 0.2s, box-shadow 0.2s; padding: 0; display: flex; align-items: center; justify-content: center;
          color: #f44; font-weight: bold; font-size: 10px;
        }
        .forja-trigger-btn:hover { transform: scale(1.1); box-shadow: 0 0 20px #f44; }
        .forja-trigger-btn img { width: 80%; height: 80%; object-fit: contain; }

        .forja-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.9); z-index: 100000; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
        .forja-modal { width: 800px; max-height: 90vh; background: #150a0a; border: 1px solid #f44; display: flex; flex-direction: column; box-shadow: 0 0 50px rgba(255, 68, 68, 0.2); border-radius: 8px; overflow: hidden; }

        .forja-header { background: linear-gradient(90deg, #2a0e0e, #000); padding: 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #f44; }
        .forja-header h2 { margin: 0; color: #f44; font-family: serif; letter-spacing: 2px; text-shadow: 0 0 10px #f44; font-size: 24px; }
        .close-btn { background: transparent; border: none; color: #fff; font-size: 30px; cursor: pointer; }

        .mestre-panel-forja { background: rgba(255, 68, 68, 0.05); padding: 20px; border-bottom: 1px solid #333; }
        .forja-form { display: flex; flex-direction: column; gap: 10px; }
        .forja-form .row { display: flex; gap: 10px; }
        .forja-input { background: #000; border: 1px solid #522; color: #fff; padding: 10px; flex: 1; outline: none; font-family: serif; }
        .forja-input:focus { border-color: #f44; }
        .forja-input.area { height: 80px; resize: none; }
        
        .btn-forjar { flex: 1; background: #f44; border: none; padding: 12px; font-weight: bold; cursor: pointer; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        .btn-forjar:hover { background: #d00; box-shadow: 0 0 10px #d00; }
        .btn-cancel { background: #333; color: #fff; border: 1px solid #555; padding: 10px; cursor: pointer; }

        .search-bar-container-forja { padding: 15px; background: #000; border-bottom: 1px solid #333; }
        .search-input-forja { width: 100%; background: #111; border: 1px solid #522; color: #fff; padding: 12px; border-radius: 20px; text-align: center; outline: none; font-size: 16px; }

        .forja-grid { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; scrollbar-width: none; -ms-overflow-style: none; }
        .forja-grid::-webkit-scrollbar { display: none; }

        .forja-item-card { background: linear-gradient(90deg, rgba(40,10,10,0.9), rgba(0,0,0,0.8)); border: 1px solid #522; display: flex; align-items: center; padding: 10px; border-radius: 4px; transition: 0.2s; }
        .forja-item-card:hover { border-color: #f44; }
        
        .item-img { width: 70px; height: 70px; background-size: cover; background-position: center; border: 1px solid #633; margin-right: 15px; border-radius: 4px; background-color: #000; }
        .item-info { flex: 1; }
        .item-info h4 { margin: 0 0 5px 0; color: #fff; font-size: 18px; }
        .item-info .desc { margin: 0; color: #aaa; font-size: 12px; font-style: italic; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        
        /* NOVA ETIQUETA DE DONO */
        .owner-tag { background: #00f2ff; color: #000; font-size: 10px; font-weight: bold; padding: 2px 6px; border-radius: 4px; display: inline-block; margin-bottom: 4px; }

        .item-actions { display: flex; gap: 8px; margin-left: 15px; }
        .btn-icon { background: transparent; border: 1px solid #444; color: #fff; padding: 8px; cursor: pointer; border-radius: 4px; }
        .btn-icon:hover { background: #fff; color: #000; }
        .btn-icon.delete:hover { background: #f44; border-color: #f44; color: #fff; }
        
        .empty-msg { text-align: center; color: #666; margin-top: 50px; font-style: italic; }
      `})]})}const DD=({isOpen:i,onClose:e,onSave:n,label:r})=>{const[o,c]=D.useState("");return i?h.jsx("div",{className:"img-modal-overlay",onClick:e,children:h.jsxs("div",{className:"img-modal-content",onClick:f=>f.stopPropagation(),children:[h.jsxs("h3",{children:["ALTERAR IMAGEM: ",r.toUpperCase()]}),h.jsx("input",{placeholder:"Cole o link da imagem (Imgur, Discord, etc)...",value:o,onChange:f=>c(f.target.value),autoFocus:!0}),h.jsxs("div",{className:"img-modal-actions",children:[h.jsx("button",{onClick:()=>{n(o),e()},className:"btn-confirm",children:"CONFIRMAR"}),h.jsx("button",{onClick:e,className:"btn-cancel",children:"CANCELAR"})]})]})}):null};function Eg({characterData:i,isMaster:e,onClose:n}){const[r,o]=D.useState(i.character_sheet||{}),[c,f]=D.useState("geral"),[m,g]=D.useState(!1),[y,_]=D.useState(!1),[E,R]=D.useState(!1),[j,B]=D.useState(""),[L,Q]=D.useState(null),[ie,q]=D.useState(!1),[ne,pe]=D.useState([]),[ue,ge]=D.useState(null),[I,C]=D.useState(null),[O,P]=D.useState(null),[S,k]=D.useState(null);D.useRef(r.basic_info?.level),D.useEffect(()=>{i&&i.character_sheet&&o(i.character_sheet)},[i]);const w=(Z,Ee)=>{if(!e)return;const de=JSON.parse(JSON.stringify(r)),Re=Z.split(".");let Le=de;for(let U=0;U<Re.length-1;U++)Le[Re[U]]||(Le[Re[U]]={}),Le=Le[Re[U]];Le[Re[Re.length-1]]=Ee,o(de),_(!0)},Te=async()=>{try{const Z=at(we,"characters",i.uid||i.id);await vn(Z,{character_sheet:r}),_(!1)}catch(Z){console.error("Erro ao salvar:",Z),alert("Erro ao salvar ficha.")}},De=(Z,Ee)=>{e&&(B(Z),Q(()=>Ee),R(!0))},J=(Z,Ee,de,Re)=>{e&&(P({skill:Ee,index:Re}),k(de),Z.dataTransfer.effectAllowed="move")},le=Z=>{Z.preventDefault()},xe=(Z,Ee,de)=>{if(Z.preventDefault(),!O||!e)return;const Re=JSON.parse(JSON.stringify(r)),Le=Re.job_system[S==="primary"?"primary_class":"secondary_class"].skills,U=Re.job_system[Ee==="primary"?"primary_class":"secondary_class"].skills,[be]=Le.splice(O.index,1);S===Ee?Le.splice(de,0,be):U.splice(de,0,be),o(Re),_(!0),P(null),k(null)},Ve=Z=>{const Ee=()=>"_"+Math.random().toString(36).substr(2,9),de=JSON.parse(JSON.stringify(r));de.job_system[Z].skills.push({id:Ee(),name:"",cost:"",effect:"",xp:{current:0,max:100},master:!1}),o(de),_(!0)},He=(Z,Ee)=>{if(!window.confirm("Remover este slot de habilidade?"))return;const de=JSON.parse(JSON.stringify(r));de.job_system[Z].skills.splice(Ee,1),o(de),_(!0)},N=(Z,Ee)=>{const de=JSON.parse(JSON.stringify(r)),Re=de.job_system[Z].skills[Ee];Re.master=!0,Re.xp.current=Re.xp.max,o(de),_(!0)},Y=async Z=>{if(!e)return;ge(Z);const Ee=On(Dt(we,"game_items"),Sa("status","==","vault")),Le=(await pm(Ee)).docs.map(U=>({id:U.id,...U.data()})).filter(U=>!U.ownerId||U.ownerId===(i.uid||i.id));pe(Le),q(!0)},se=async Z=>{const Ee=JSON.parse(JSON.stringify(r));Ee.equipment.slots[ue]={item_id:Z.id,item_name:Z.nome,item_img:Z.imagem,description:Z.descricao,effect:""},o(Ee),_(!0);const de=at(we,"game_items",Z.id);await vn(de,{status:"equipped",ownerId:i.uid||i.id,slotIndex:ue,updatedAt:Fn()}),q(!1)},oe=async Z=>{if(!e)return;const Ee=r.equipment.slots[Z];if(Ee.item_id&&window.confirm("Isso devolver o item para a Forja (Cofre). Confirmar?")){const Re=at(we,"game_items",Ee.item_id);await vn(Re,{status:"vault",slotIndex:null,updatedAt:Fn()})}const de=JSON.parse(JSON.stringify(r));de.equipment.slots[Z]={item_name:"",item_img:"",effect:""},o(de),_(!0)},he=async()=>{e&&(g(!0),setTimeout(async()=>{g(!1);const Z=r.basic_info.level||1,Ee=Math.floor(r.basic_info.experience.max*1.5),de=JSON.parse(JSON.stringify(r));de.basic_info.level=Z+1,de.basic_info.experience.current=0,de.basic_info.experience.max=Ee,o(de);const Re=at(we,"characters",i.uid||i.id);await vn(Re,{character_sheet:de})},4e3))},ve=["FOR","INT","SOR","CAR","VEL","CONS"],Ne=100,Ge=85,ke=125,mt=(Z,Ee,de)=>{const Re=Math.PI*2*Ee/de-Math.PI/2,Le=ke+Ge*(Z/Ne)*Math.cos(Re),U=ke+Ge*(Z/Ne)*Math.sin(Re);return{x:Le,y:U}},cn=ve.map((Z,Ee)=>{const de=r.attributes?.[Z]?.value||0,{x:Re,y:Le}=mt(de,Ee,ve.length);return`${Re},${Le}`}).join(" "),Kt=Z=>Z&&Z.length>5?{backgroundImage:`url(${Z})`}:{backgroundColor:"#111",border:"1px solid #333"};return h.jsxs("div",{className:"ficha-overlay-fixed",children:[h.jsx(DD,{isOpen:E,onClose:()=>R(!1),onSave:L,label:j}),e&&y&&h.jsx("button",{className:"save-fab glowing",onClick:Te,title:"Salvar Alteraes",children:""}),h.jsxs("div",{className:"ficha-container fade-in",children:[h.jsx("button",{className:"close-btn-ficha",onClick:n,children:""}),h.jsxs("div",{className:"ficha-header",children:[h.jsxs("div",{className:"guild-insignia-box",children:[h.jsx("span",{className:"header-label-top",children:"SIGNO"}),h.jsx("div",{className:`insignia-display ${e?"clickable":""}`,style:Kt(r.basic_info.guild_insignia),onClick:()=>De("Signo",Z=>w("basic_info.guild_insignia",Z)),title:e?"Clique para alterar imagem":""})]}),h.jsxs("div",{className:"header-info",children:[h.jsx("h1",{children:r.basic_info.character_name}),h.jsxs("span",{className:"sub-header",children:[r.basic_info.race," // ",i.class]}),h.jsxs("div",{className:"xp-container",children:[h.jsxs("div",{className:"lvl-box",children:[h.jsx("small",{children:"LVL"}),e?h.jsx("input",{className:"lvl-input",type:"number",value:r.basic_info.level,onChange:Z=>w("basic_info.level",Number(Z.target.value))}):h.jsx("span",{children:r.basic_info.level})]}),h.jsxs("div",{className:"xp-bar-box",children:[h.jsxs("div",{className:"xp-text",children:["XP ",e?h.jsx("input",{className:"xp-mini-input",value:r.basic_info.experience.current,onChange:Z=>w("basic_info.experience.current",Number(Z.target.value))}):r.basic_info.experience.current," / ",e?h.jsx("input",{className:"xp-mini-input",value:r.basic_info.experience.max,onChange:Z=>w("basic_info.experience.max",Number(Z.target.value))}):r.basic_info.experience.max]}),h.jsx("div",{className:"xp-track",children:h.jsx("div",{className:"xp-fill",style:{width:`${Math.min(r.basic_info.experience.current/r.basic_info.experience.max*100,100)}%`}})})]}),e&&r.basic_info.experience.current>=r.basic_info.experience.max&&h.jsx("button",{className:"btn-levelup glowing",onClick:he,children:" UP"})]})]}),h.jsxs("div",{className:"header-right-group",children:[h.jsxs("div",{className:"guild-item-box",children:[h.jsx("span",{className:"header-label-top",children:"BRASO"}),h.jsx("div",{className:`special-display ${e?"clickable":""}`,style:Kt(r.basic_info.special_image),onClick:()=>De("Especial",Z=>w("basic_info.special_image",Z)),title:e?"Clique para alterar imagem especial":""})]}),h.jsxs("div",{className:"guild-item-box",children:[h.jsx("span",{className:"header-label-top",children:"RANK"}),h.jsx("div",{className:`rank-display ${e?"clickable":""}`,style:Kt(r.basic_info.guild_rank_image),onClick:()=>De("Rank",Z=>w("basic_info.guild_rank_image",Z)),title:e?"Clique para alterar imagem":""})]})]})]}),h.jsxs("div",{className:"ficha-tabs",children:[h.jsx("button",{className:`tab-btn ${c==="geral"?"active":""}`,onClick:()=>f("geral"),children:"VISO GERAL"}),h.jsx("button",{className:`tab-btn ${c==="habilidades"?"active":""}`,onClick:()=>f("habilidades"),children:"GRIMRIO DE HABILIDADES"})]}),h.jsx("div",{className:"ficha-body",children:c==="geral"?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"col-attributes",children:[h.jsx("h3",{className:"section-title",children:"ATRIBUTOS"}),h.jsx("div",{className:"radar-wrapper",children:h.jsxs("svg",{width:"250",height:"250",viewBox:"0 0 250 250",children:[[20,40,60,80,100].map(Z=>h.jsx("polygon",{points:ve.map((Ee,de)=>{const{x:Re,y:Le}=mt(Z,de,6);return`${Re},${Le}`}).join(" "),fill:"none",stroke:"#333",strokeWidth:"1"},Z)),h.jsx("polygon",{points:cn,fill:"rgba(0, 242, 255, 0.2)",stroke:"#00f2ff",strokeWidth:"2"}),ve.map((Z,Ee)=>{const{x:de,y:Re}=mt(120,Ee,6),Le=r.attributes?.[Z]?.value||0;return h.jsx("foreignObject",{x:de-20,y:Re-15,width:"40",height:"30",children:h.jsxs("div",{className:"stat-box-chart",children:[h.jsx("span",{className:"sb-label",children:Z}),e?h.jsx("input",{className:"sb-input",value:Le,onChange:U=>w(`attributes.${Z}.value`,Number(U.target.value))}):h.jsx("span",{className:"sb-val",children:Le})]})},Z)})]})}),h.jsxs("div",{className:"secondary-stats",children:[h.jsxs("div",{className:"stat-row",children:[h.jsx("label",{children:"HP"}),h.jsxs("div",{className:"stat-bars-inputs",children:[e?h.jsx("input",{value:r.status.hp.current,onChange:Z=>w("status.hp.current",Number(Z.target.value))}):h.jsx("span",{children:r.status.hp.current}),"/",e?h.jsx("input",{value:r.status.hp.max,onChange:Z=>w("status.hp.max",Number(Z.target.value))}):h.jsx("span",{children:r.status.hp.max})]})]}),h.jsxs("div",{className:"stat-row",children:[h.jsx("label",{children:"MP"}),h.jsxs("div",{className:"stat-bars-inputs mp",children:[e?h.jsx("input",{value:r.status.mp.current,onChange:Z=>w("status.mp.current",Number(Z.target.value))}):h.jsx("span",{children:r.status.mp.current}),"/",e?h.jsx("input",{value:r.status.mp.max,onChange:Z=>w("status.mp.max",Number(Z.target.value))}):h.jsx("span",{children:r.status.mp.max})]})]}),h.jsxs("div",{className:"stat-row-simple",children:[h.jsxs("div",{className:"s-box",children:[h.jsx("label",{children:"ARM"}),e?h.jsx("input",{value:r.status.arm.value,onChange:Z=>w("status.arm.value",Number(Z.target.value))}):h.jsx("span",{children:r.status.arm.value})]}),h.jsxs("div",{className:"s-box",children:[h.jsx("label",{children:"RES"}),e?h.jsx("input",{value:r.status.res.value,onChange:Z=>w("status.res.value",Number(Z.target.value))}):h.jsx("span",{children:r.status.res.value})]}),h.jsxs("div",{className:"s-box",children:[h.jsx("label",{children:"MOV"}),e?h.jsx("input",{value:r.status.mov?.value||3,onChange:Z=>w("status.mov.value",Number(Z.target.value))}):h.jsx("span",{children:r.status.mov?.value||3})]})]})]})]}),h.jsxs("div",{className:"col-center-equip",children:[h.jsx("div",{className:`char-image-frame ${e?"clickable":""}`,onClick:()=>De("Personagem",Z=>w("imgUrl",Z)),title:e?"Clique para alterar foto":"",children:h.jsx("div",{className:"image-display",style:Kt(r.imgUrl)})}),h.jsx("div",{className:"equip-slots-overlay",children:[{id:0,label:"CABEA",style:{top:"-30px",left:"50%",transform:"translateX(-50%)"}},{id:1,label:"CORPO",style:{top:"80px",right:"-15px"}},{id:2,label:"MO DIR.",style:{bottom:"120px",right:"-15px"}},{id:3,label:"MO ESQ.",style:{bottom:"120px",left:"-15px"}},{id:4,label:"ACESS. 1",style:{top:"80px",left:"-15px"}},{id:5,label:"ACESS. 2",style:{bottom:"-20px",left:"60px"}},{id:6,label:"PS",style:{bottom:"-20px",right:"60px"}}].map((Z,Ee)=>h.jsxs("div",{className:"equip-slot",style:Z.style,children:[h.jsx("div",{className:"slot-label",children:Z.label}),h.jsxs("div",{className:"slot-square",children:[!r.equipment?.slots?.[Ee]?.item_img&&e&&h.jsx("button",{className:"btn-plus-item",onClick:()=>Y(Ee),children:"+"}),r.equipment?.slots?.[Ee]?.item_img?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"item-bg",style:Kt(r.equipment.slots[Ee].item_img)}),h.jsx("button",{className:"btn-eye-item",onClick:()=>C(r.equipment.slots[Ee]),children:""}),e&&h.jsx("button",{className:"btn-return-forge",title:"Devolver para Forja",onClick:()=>oe(Ee),children:""})]}):!e&&h.jsx("span",{className:"empty-text",children:"Vazio"})]})]},Ee))})]}),h.jsxs("div",{className:"col-inventory",children:[h.jsx("h3",{className:"section-title",children:"BOLSA & GIL"}),h.jsxs("div",{className:"gil-display",children:[h.jsx("span",{className:"coin-icon",children:""}),e?h.jsx("input",{type:"number",className:"gil-input-master",value:r.inventory.gil,onChange:Z=>w("inventory.gil",Number(Z.target.value))}):h.jsx("span",{className:"gil-amount",children:r.inventory.gil}),h.jsx("span",{className:"currency",children:"GIL"})]}),h.jsxs("div",{className:"items-list",children:[h.jsx("h4",{children:"MOCHILA"}),h.jsxs("div",{className:"items-scroll",children:[(r.inventory.items||[]).map((Z,Ee)=>h.jsx("div",{className:"inv-row",children:e?h.jsxs(h.Fragment,{children:[h.jsx("input",{className:"inv-name",value:Z.name,onChange:de=>w(`inventory.items.${Ee}.name`,de.target.value)}),h.jsx("input",{className:"inv-qtd",type:"number",value:Z.quantity,onChange:de=>w(`inventory.items.${Ee}.quantity`,Number(de.target.value))}),h.jsx("button",{className:"btn-x-red",onClick:()=>{const de=r.inventory.items.filter((Re,Le)=>Le!==Ee);w("inventory.items",de)},children:""})]}):h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"i-name",children:Z.name||"Slot Vazio"}),h.jsxs("span",{className:"i-qtd",children:["x",Z.quantity||0]})]})},Ee)),e&&h.jsx("button",{className:"add-item-btn",onClick:()=>w("inventory.items",[...r.inventory.items||[],{name:"Novo Item",quantity:1}]),children:"+ Slot"})]})]})]})]}):h.jsxs("div",{className:"skills-tab-content",children:[["primary_class","secondary_class"].map((Z,Ee)=>h.jsxs("div",{className:"skills-col",children:[h.jsxs("h3",{className:`class-header ${Z==="secondary_class"?"secondary":""}`,children:[e?h.jsx("input",{className:"class-name-input",value:r.job_system?.[Z]?.name,onChange:de=>w(`job_system.${Z}.name`,de.target.value)}):r.job_system?.[Z]?.name,e&&h.jsx("button",{className:"btn-add-skill-slot",onClick:()=>Ve(Z),children:"+"})]}),h.jsx("div",{className:"skills-list",children:(r.job_system?.[Z]?.skills||[]).map((de,Re)=>h.jsxs("div",{className:`skill-card ${Z==="secondary_class"?"secondary":""} ${de.master?"mastered":""}`,draggable:e,onDragStart:Le=>J(Le,de,Z==="primary_class"?"primary":"secondary",Re),onDragOver:le,onDrop:Le=>xe(Le,Z==="primary_class"?"primary":"secondary",Re),children:[h.jsxs("div",{className:"skill-top",children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",flex:1},children:[de.master&&h.jsx("span",{className:"star-icon pulsing",children:""}),e?h.jsx("input",{placeholder:"Nome",value:de.name,onChange:Le=>w(`job_system.${Z}.skills.${Re}.name`,Le.target.value),className:"skill-name-in"}):h.jsx("strong",{className:"skill-name",children:de.name||"Slot Vazio"})]}),e?h.jsx("input",{placeholder:"Custo",value:de.cost,onChange:Le=>w(`job_system.${Z}.skills.${Re}.cost`,Le.target.value),className:"skill-cost-in"}):h.jsx("span",{className:"skill-cost",children:de.cost}),e&&h.jsx("button",{className:"btn-x-red-small",onClick:()=>He(Z,Re),children:""})]}),e?h.jsx("textarea",{placeholder:"Efeito...",value:de.effect,onChange:Le=>w(`job_system.${Z}.skills.${Re}.effect`,Le.target.value),className:"skill-desc-in"}):h.jsx("p",{className:"skill-desc",children:de.effect}),h.jsxs("div",{className:"skill-xp-box",children:[h.jsxs("div",{className:"xp-labels",children:[h.jsx("span",{children:"XP"}),e?h.jsxs("div",{style:{display:"flex"},children:[h.jsx("input",{className:"xp-tiny",value:de.xp?.current||0,onChange:Le=>w(`job_system.${Z}.skills.${Re}.xp.current`,Number(Le.target.value))})," /",h.jsx("input",{className:"xp-tiny",value:de.xp?.max||100,onChange:Le=>w(`job_system.${Z}.skills.${Re}.xp.max`,Number(Le.target.value))})]}):h.jsxs("span",{children:[de.xp?.current||0," / ",de.xp?.max||100]})]}),h.jsx("div",{className:`skill-track ${de.master?"grayed":""}`,children:h.jsx("div",{className:"skill-fill",style:{width:`${Math.min((de.xp?.current||0)/(de.xp?.max||100)*100,100)}%`}})}),e&&!de.master&&de.xp?.current>=de.xp?.max&&h.jsx("button",{className:"btn-masterize",onClick:()=>N(Z,Re),children:"MASTERIZAR"})]})]},de.id))})]},Z)),h.jsx("div",{className:"skills-col extra-col",children:h.jsxs("div",{className:"extra-abilities-box",children:[h.jsxs("div",{className:"ability-row",children:[h.jsx("label",{children:"REAO"}),e?h.jsx("input",{value:r.job_system?.reaction_ability?.name,onChange:Z=>w("job_system.reaction_ability.name",Z.target.value),className:"ab-input"}):h.jsx("span",{children:r.job_system?.reaction_ability?.name||"-"})]}),h.jsxs("div",{className:"ability-row",children:[h.jsx("label",{children:"PASSIVA"}),e?h.jsx("input",{value:r.job_system?.passive_ability?.name,onChange:Z=>w("job_system.passive_ability.name",Z.target.value),className:"ab-input"}):h.jsx("span",{children:r.job_system?.passive_ability?.name||"-"})]}),h.jsxs("div",{className:"bonus-row",children:[h.jsx("label",{children:"BNUS DE CLASSE"}),e?h.jsx("textarea",{value:r.job_system?.class_bonus?.value,onChange:Z=>w("job_system.class_bonus.value",Z.target.value),className:"bonus-area"}):h.jsx("p",{children:r.job_system?.class_bonus?.value||"Nenhum"})]})]})})]})}),ie&&h.jsx("div",{className:"item-selector-overlay",onClick:()=>q(!1),children:h.jsxs("div",{className:"item-selector-box",onClick:Z=>Z.stopPropagation(),children:[h.jsx("h3",{children:"EQUIPAR DO COFRE"}),h.jsxs("div",{className:"forge-list-scroll",children:[ne.length===0&&h.jsx("p",{className:"empty-text",children:"Nenhum item disponvel na Forja."}),ne.map(Z=>h.jsxs("div",{className:"forge-item-row",onClick:()=>se(Z),children:[h.jsx("div",{className:"forge-thumb",style:Kt(Z.imagem)}),h.jsxs("div",{children:[h.jsx("strong",{children:Z.nome}),Z.ownerId&&h.jsx("small",{style:{color:"#0f0"},children:" (Seu Item)"}),h.jsxs("p",{children:[Z.descricao.substring(0,40),"..."]})]})]},Z.id))]}),h.jsx("button",{className:"btn-cancel-modal",onClick:()=>q(!1),children:"CANCELAR"})]})}),I&&h.jsx("div",{className:"item-selector-overlay",onClick:()=>C(null),children:h.jsxs("div",{className:"item-details-box",onClick:Z=>Z.stopPropagation(),children:[h.jsx("div",{className:"detail-img-large",style:Kt(I.item_img)}),h.jsx("h3",{children:I.item_name}),h.jsx("p",{className:"details-desc",children:I.description||"Sem descrio"}),h.jsxs("p",{className:"details-effect",children:["Efeito: ",I.effect||"Nenhum"]}),h.jsx("button",{className:"btn-cancel-modal",onClick:()=>C(null),children:"FECHAR"})]})}),m&&h.jsx("div",{className:"level-up-overlay",children:h.jsx("h1",{className:"levelup-text",children:"LEVEL UP!"})})]}),h.jsx("style",{children:`
        /* GERAL */
        .ficha-overlay-fixed { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.95); z-index: 200000; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(8px); }
        .ficha-container { width: 1200px; height: 850px; max-width: 95vw; max-height: 98vh; background: #050a10; border: 2px solid #ffcc00; display: flex; flex-direction: column; position: relative; box-shadow: 0 0 50px rgba(255, 204, 0, 0.2); border-radius: 8px; overflow: hidden; font-family: 'Cinzel', serif; color: #fff; }
        .close-btn-ficha { position: absolute; top: 10px; right: 15px; background: transparent; border: none; color: #f44; font-size: 24px; cursor: pointer; z-index: 200; font-weight: bold; }
        .save-fab { position: absolute; bottom: 30px; right: 30px; width: 60px; height: 60px; border-radius: 50%; background: #222; border: 2px solid #444; color: #fff; font-size: 30px; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 300; transition: 0.3s; box-shadow: 0 0 15px #000; }
        .save-fab:hover { background: #00f2ff; border-color: #fff; color: #000; box-shadow: 0 0 30px #00f2ff; }
        .save-fab.glowing { animation: pulseSave 1.5s infinite; border-color: #00f2ff; color: #00f2ff; }
        @keyframes pulseSave { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        /* HEADER */
        .ficha-header { padding: 25px 30px 10px 30px; background: linear-gradient(90deg, #101020, #000); border-bottom: 2px solid #333; display: flex; justify-content: space-between; align-items: center; height: 140px; position: relative; }
        .guild-insignia-box, .guild-rank-box, .guild-item-box { display: flex; flex-direction: column; align-items: center; width: 80px; position: relative; padding-top: 10px; }
        .header-right-group { display: flex; gap: 20px; align-items: flex-end; }
        .header-label-top { font-size: 10px; color: #ffcc00; font-weight: bold; letter-spacing: 1px; margin-bottom: 2px; }
        .insignia-display, .rank-display, .special-display { width: 70px; height: 70px; background-size: contain; background-repeat: no-repeat; background-position: center; border: 1px solid #333; border-radius: 50%; background-color: #000; position: relative; transition: 0.2s; }
        .special-display { border-radius: 12px; }
        .clickable:hover { cursor: pointer; border-color: #ffcc00; box-shadow: 0 0 10px #ffcc00; }
        .header-info { flex: 1; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .header-info h1 { margin: 0; color: #ffcc00; font-size: 36px; letter-spacing: 4px; text-shadow: 0 0 10px rgba(255,204,0,0.3); }
        .sub-header { color: #00f2ff; font-size: 14px; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 15px; }
        .xp-container { display: flex; align-items: center; gap: 15px; width: 60%; margin-top: -5px; }
        .lvl-box { display: flex; flex-direction: column; align-items: center; background: #222; border: 1px solid #ffcc00; padding: 5px 12px; border-radius: 4px; box-shadow: 0 0 10px rgba(255,204,0,0.2); }
        .lvl-box small { font-size: 8px; color: #ffcc00; }
        .lvl-box span { font-size: 24px; font-weight: bold; line-height: 1; }
        .lvl-input { width: 40px; background: transparent; border: none; color: #fff; font-size: 24px; font-weight: bold; text-align: center; }
        .xp-bar-box { flex: 1; display: flex; flex-direction: column; }
        .xp-text { text-align: right; font-size: 10px; color: #aaa; margin-bottom: 2px; }
        .xp-mini-input { background: #111; border: none; color: #fff; width: 30px; text-align: center; font-size: 10px; }
        .xp-track { width: 100%; height: 8px; background: #111; border: 1px solid #444; border-radius: 4px; overflow: hidden; }
        .xp-fill { height: 100%; background: linear-gradient(90deg, #00f2ff, #0088ff); transition: width 0.5s; }
        .btn-levelup { background: linear-gradient(to bottom, #ffcc00, #ff8800); border: 2px solid #fff; color: #000; font-weight: bold; padding: 5px 15px; cursor: pointer; border-radius: 20px; animation: glow 1s infinite alternate; font-family: 'Cinzel', serif; font-size: 10px; }
        @keyframes glow { from { box-shadow: 0 0 10px #ffcc00; } to { box-shadow: 0 0 30px #ffcc00; transform: scale(1.05); } }
        .ficha-tabs { display: flex; background: #111; border-bottom: 1px solid #333; margin-top: 0; }
        .tab-btn { flex: 1; background: transparent; border: none; padding: 15px; color: #666; font-family: 'Cinzel', serif; font-size: 16px; cursor: pointer; transition: 0.3s; border-bottom: 3px solid transparent; }
        .tab-btn:hover { color: #fff; background: rgba(255,255,255,0.05); }
        .tab-btn.active { color: #ffcc00; border-bottom: 3px solid #ffcc00; background: rgba(255, 204, 0, 0.05); }
        .ficha-body { flex: 1; display: flex; padding: 30px 20px; gap: 20px; overflow: hidden; position: relative; }
        
        /* ESTILOS DE HABILIDADES */
        .skills-tab-content { display: flex; width: 100%; height: 100%; gap: 20px; }
        .skills-col { flex: 1; display: flex; flex-direction: column; background: rgba(0,0,0,0.3); border: 1px solid #333; padding: 10px; border-radius: 4px; overflow: hidden; }
        .skills-col.extra-col { flex: 0.5; }
        .class-header { color: #00f2ff; font-size: 16px; border-bottom: 2px solid #00f2ff; padding-bottom: 5px; margin-bottom: 10px; text-transform: uppercase; display: flex; justify-content: space-between; align-items: center; }
        .class-header.secondary { color: #aaa; border-color: #666; }
        .class-name-input { background: transparent; border: none; color: inherit; font-size: inherit; font-weight: bold; width: 80%; }
        .btn-add-skill-slot { background: transparent; border: 1px solid #555; color: #fff; width: 20px; height: 20px; cursor: pointer; font-size: 14px; line-height: 1; }
        
        .skills-list { flex: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 8px; padding-right: 5px; 
            scrollbar-width: none; 
        }
        .skills-list::-webkit-scrollbar { display: none; }
        
        .skill-card { background: rgba(0, 30, 60, 0.4); border: 1px solid #005577; padding: 8px; border-radius: 4px; cursor: grab; transition: 0.2s; }
        .skill-card.secondary { background: rgba(30, 30, 30, 0.4); border-color: #444; }
        .skill-card:active { cursor: grabbing; border-color: #ffcc00; }
        .skill-card.mastered { border-color: #ffd700; background: rgba(50, 40, 0, 0.4); }
        .skill-top { display: flex; justify-content: space-between; margin-bottom: 5px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 5px; }
        .skill-name { color: #ffcc00; font-size: 13px; }
        .skill-cost { color: #00f2ff; font-size: 11px; font-weight: bold; }
        .skill-desc { font-size: 11px; color: #ccc; line-height: 1.3; margin: 0 0 5px 0; }
        .skill-name-in, .skill-cost-in { background: transparent; border: none; color: #fff; font-size: 12px; }
        .skill-name-in { flex: 1; font-weight: bold; color: #ffcc00; }
        .skill-cost-in { width: 40px; text-align: right; color: #00f2ff; }
        .skill-desc-in { width: 100%; background: transparent; border: none; color: #ccc; font-size: 11px; resize: none; font-family: sans-serif; height: 30px; }
        
        .skill-xp-box { margin-top: 5px; background: rgba(0,0,0,0.3); padding: 4px; border-radius: 3px; }
        .xp-labels { display: flex; justify-content: space-between; font-size: 9px; color: #888; margin-bottom: 2px; }
        .xp-tiny { background: transparent; border: none; color: #aaa; width: 20px; text-align: center; font-size: 9px; }
        .skill-track { width: 100%; height: 5px; background: #222; border-radius: 2px; overflow: hidden; }
        .skill-track.grayed .skill-fill { background: #888; }
        .skill-fill { height: 100%; background: #00f2ff; transition: width 0.3s; }
        .btn-masterize { width: 100%; margin-top: 4px; background: linear-gradient(to right, #d4af37, #b8860b); border: none; color: #000; font-size: 9px; font-weight: bold; cursor: pointer; padding: 2px; border-radius: 2px; }
        .star-icon { color: #ffd700; font-size: 14px; margin-right: 5px; text-shadow: 0 0 5px #ffd700; }
        .pulsing { animation: pulseStar 1.5s infinite; }
        @keyframes pulseStar { 0% { transform: scale(1); opacity: 0.8; } 50% { transform: scale(1.3); opacity: 1; } 100% { transform: scale(1); opacity: 0.8; } }
        .btn-x-red-small { color: #f44; background: none; border: none; font-weight: bold; cursor: pointer; font-size: 12px; margin-left: 5px; }

        /* OUTRAS COLUNAS */
        .col-attributes { width: 300px; display: flex; flex-direction: column; align-items: center; border-right: 1px solid #333; padding-right: 20px; }
        .col-center-equip { flex: 1; position: relative; display: flex; justify-content: center; align-items: center; }
        .col-inventory { width: 280px; border-left: 1px solid #333; padding-left: 20px; display: flex; flex-direction: column; }
        .section-title { color: #aaa; font-size: 14px; border-bottom: 1px solid #00f2ff; width: 100%; text-align: center; margin-bottom: 15px; padding-bottom: 5px; }
        .radar-wrapper { position: relative; margin-bottom: 20px; }
        .stat-box-chart { background: #000; border: 1px solid #ffcc00; width: 40px; height: 30px; display: flex; flex-direction: column; align-items: center; justify-content: center; border-radius: 4px; box-shadow: 0 0 5px #000; }
        .sb-label { font-size: 8px; color: #aaa; }
        .sb-val { font-size: 12px; font-weight: bold; color: #fff; }
        .sb-input { width: 100%; height: 100%; background: transparent; border: none; color: #ffcc00; text-align: center; font-weight: bold; padding: 0; font-size: 12px; }
        .secondary-stats { width: 100%; }
        .stat-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; }
        .stat-row label { font-weight: bold; color: #ffcc00; width: 30px; }
        .stat-bars-inputs { flex: 1; background: rgba(255,0,0,0.1); border: 1px solid #522; padding: 5px; display: flex; align-items: center; justify-content: center; gap: 5px; color: #fff; border-radius: 4px; }
        .stat-bars-inputs.mp { background: rgba(0,0,255,0.1); border-color: #225; }
        .stat-bars-inputs input { background: transparent; border: none; color: #fff; width: 40px; text-align: center; font-family: 'serif'; font-weight: bold; }
        .stat-row-simple { display: flex; justify-content: space-between; gap: 10px; margin-top: 15px; }
        .s-box { flex: 1; background: #111; border: 1px solid #444; padding: 10px; text-align: center; border-radius: 4px; }
        .s-box label { display: block; font-size: 10px; color: #888; margin-bottom: 5px; }
        .s-box input { background: transparent; border: none; color: #fff; text-align: center; font-size: 18px; width: 100%; font-weight: bold; }
        .s-box span { font-size: 18px; font-weight: bold; }
        .char-image-frame { width: 300px; height: 450px; border: 2px solid #333; position: relative; background: #000; border-radius: 150px; overflow: hidden; box-shadow: inset 0 0 50px #000; margin-top: -20px; z-index: 1; transition: 0.2s; }
        .char-image-frame.clickable:hover { border-color: #ffcc00; cursor: pointer; }
        .image-display { width: 100%; height: 100%; background-size: cover; background-position: center; opacity: 0.8; }
        .equip-slots-overlay { position: absolute; width: 300px; height: 450px; left: 50%; top: 50%; transform: translate(-50%, -50%); pointer-events: none; z-index: 2; margin-top: -10px; }
        .equip-slot { position: absolute; width: 80px; display: flex; flex-direction: column; align-items: center; pointer-events: auto; }
        .slot-label { font-size: 9px; color: #00f2ff; text-shadow: 0 0 2px #000; margin-bottom: 2px; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; }
        .slot-square { width: 60px; height: 60px; background: rgba(0, 10, 30, 0.9); border: 1px solid #ffcc00; display: flex; align-items: center; justify-content: center; box-shadow: 0 0 15px rgba(0,0,0,0.8); position: relative; overflow: hidden; border-radius: 4px; }
        .item-bg { width: 100%; height: 100%; background-size: cover; background-position: center; position: absolute; top: 0; left: 0; }
        .empty-text { font-size: 9px; color: #666; text-align: center; line-height: 1; padding: 2px; }
        .btn-plus-item { background: transparent; color: #ffcc00; font-size: 24px; border: none; cursor: pointer; font-weight: bold; }
        .btn-eye-item { position: absolute; bottom: 2px; right: 2px; font-size: 10px; background: rgba(0,0,0,0.8); color: #fff; border: none; border-radius: 3px; cursor: pointer; padding: 2px 4px; z-index: 5; }
        .btn-return-forge { position: absolute; top: 2px; left: 2px; font-size: 10px; background: rgba(200, 0, 0, 0.8); color: #fff; border: none; border-radius: 3px; cursor: pointer; padding: 2px 4px; z-index: 5; }
        .gil-display { background: linear-gradient(90deg, rgba(255,204,0,0.1), transparent); border: 1px solid #ffcc00; padding: 15px; border-radius: 4px; display: flex; align-items: center; gap: 10px; margin-bottom: 20px; }
        .coin-icon { font-size: 20px; }
        .gil-amount { font-size: 24px; font-weight: bold; color: #fff; flex: 1; text-align: right; }
        .gil-input-master { background: transparent; border: none; color: #fff; font-size: 24px; font-weight: bold; width: 100%; text-align: right; outline: none; }
        input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
        .currency { font-size: 10px; color: #ffcc00; font-weight: bold; }
        .items-list { flex: 1; display: flex; flex-direction: column; }
        .items-list h4 { color: #888; font-size: 12px; border-bottom: 1px solid #444; padding-bottom: 5px; margin-bottom: 10px; }
        .items-scroll { flex: 1; overflow-y: auto; padding-right: 5px; }
        .inv-row { display: flex; justify-content: space-between; border-bottom: 1px solid #222; padding: 8px 0; font-size: 12px; align-items: center; }
        .inv-name { background: transparent; border: none; color: #ddd; flex: 1; font-family: 'serif'; }
        .inv-qtd { background: transparent; border: none; color: #00f2ff; width: 40px; text-align: right; font-weight: bold; }
        .btn-x-red { color: #f44; background: none; border: none; cursor: pointer; font-weight: bold; margin-left: 5px; }
        .i-name { color: #ddd; }
        .i-qtd { color: #00f2ff; font-weight: bold; }
        .add-item-btn { width: 100%; background: #222; border: 1px dashed #555; color: #888; padding: 5px; cursor: pointer; margin-top: 10px; font-size: 10px; }
        .img-modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 300000; display: flex; align-items: center; justify-content: center; }
        .img-modal-content { background: #111; border: 1px solid #ffcc00; padding: 25px; width: 400px; border-radius: 8px; text-align: center; box-shadow: 0 0 30px rgba(255,204,0,0.2); }
        .img-modal-content h3 { color: #ffcc00; margin-top: 0; font-family: 'Cinzel', serif; border-bottom: 1px solid #444; padding-bottom: 10px; margin-bottom: 20px; }
        .img-modal-content input { width: 100%; padding: 12px; background: #000; border: 1px solid #444; color: #fff; margin-bottom: 20px; outline: none; border-radius: 4px; }
        .img-modal-content input:focus { border-color: #00f2ff; }
        .img-modal-actions { display: flex; gap: 15px; justify-content: center; }
        .btn-confirm { background: #00f2ff; color: #000; padding: 10px 25px; border: none; cursor: pointer; font-weight: bold; border-radius: 4px; transition: 0.2s; }
        .btn-confirm:hover { background: #fff; box-shadow: 0 0 15px #00f2ff; }
        .btn-cancel { background: #333; color: #fff; padding: 10px 25px; border: none; cursor: pointer; border-radius: 4px; }
        .btn-cancel:hover { background: #444; }
        .item-selector-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 300000; display: flex; align-items: center; justify-content: center; }
        .item-selector-box { width: 400px; height: 500px; background: #111; border: 1px solid #ffcc00; padding: 20px; display: flex; flex-direction: column; border-radius: 8px; }
        .item-selector-box h3 { color: #ffcc00; border-bottom: 1px solid #333; padding-bottom: 10px; margin-top: 0; }
        .forge-list-scroll { flex: 1; overflow-y: auto; margin-bottom: 15px; }
        .forge-item-row { display: flex; align-items: center; padding: 10px; border-bottom: 1px solid #333; cursor: pointer; }
        .forge-item-row:hover { background: rgba(255,255,255,0.1); }
        .forge-item-row img { width: 40px; height: 40px; border: 1px solid #555; margin-right: 10px; }
        .forge-thumb { width: 40px; height: 40px; border: 1px solid #555; margin-right: 10px; background-size: cover; background-position: center; }
        .forge-item-row strong { color: #00f2ff; display: block; font-size: 12px; }
        .forge-item-row p { font-size: 10px; color: #aaa; margin: 0; }
        .btn-cancel-modal { width: 100%; padding: 10px; background: #333; color: #fff; border: none; cursor: pointer; }
        .item-details-box { width: 300px; background: #000; border: 1px solid #00f2ff; padding: 20px; text-align: center; border-radius: 8px; }
        .item-details-box img { width: 80px; height: 80px; border: 1px solid #fff; margin-bottom: 10px; }
        .detail-img-large { width: 80px; height: 80px; border: 1px solid #fff; margin: 0 auto 10px auto; background-size: cover; background-position: center; }
        .item-details-box h3 { color: #00f2ff; margin: 0 0 10px 0; }
        .details-desc { font-size: 12px; color: #ccc; margin-bottom: 10px; font-style: italic; }
        .details-effect { font-size: 12px; color: #ffcc00; font-weight: bold; margin-bottom: 20px; }
        .extra-abilities-box { margin-top: 20px; border-top: 2px solid #444; padding-top: 15px; }
        .ability-row { display: flex; align-items: center; margin-bottom: 10px; background: #222; padding: 8px; border-radius: 4px; border-left: 3px solid #ffcc00; }
        .ability-row label { font-size: 10px; color: #888; width: 60px; font-weight: bold; }
        .ability-row span { font-size: 12px; color: #fff; font-weight: bold; }
        .ab-input { background: transparent; border: none; color: #fff; font-weight: bold; flex: 1; font-size: 12px; }
        .bonus-row { margin-top: 10px; }
        .bonus-row label { font-size: 10px; color: #00f2ff; display: block; margin-bottom: 5px; font-weight: bold; }
        .bonus-row p { font-size: 12px; color: #ddd; font-style: italic; background: rgba(0,0,0,0.5); padding: 8px; border-radius: 4px; }
        .bonus-area { width: 100%; height: 60px; background: rgba(0,0,0,0.5); border: 1px solid #444; color: #ddd; font-size: 12px; padding: 5px; resize: none; }
        .level-up-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 100; display: flex; align-items: center; justify-content: center; animation: fadeOverlay 4s forwards; pointer-events: none; }
        .levelup-text { font-size: 80px; color: #ffcc00; text-shadow: 0 0 50px #ffcc00, 0 0 20px #fff; animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); letter-spacing: 5px; }
        @keyframes popIn { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @keyframes fadeOverlay { 0% { opacity: 1; } 80% { opacity: 1; } 100% { opacity: 0; } }
        .fade-in { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
      `})]})}const MD="/FF-12Liberation/assets/ficha-icon-Ds6_MepT.png",Px=({expiry:i})=>{const[e,n]=D.useState("");return D.useEffect(()=>{const r=setInterval(()=>{const o=new Date().getTime(),c=new Date(i).getTime()-o;if(c<0)n("EXPIRADA"),clearInterval(r);else{const f=Math.floor(c/864e5),m=Math.floor(c%(1e3*60*60*24)/(1e3*60*60)),g=Math.floor(c%(1e3*60*60)/(1e3*60));n(`${f}d ${m}h ${g}m`)}},1e3);return()=>clearInterval(r)},[i]),h.jsxs("span",{className:"mission-timer",children:[" ",e]})};function kD(){const i=Pi(),[e,n]=D.useState([]),[r,o]=D.useState([]),[c,f]=D.useState([]),[m,g]=D.useState([]),[y,_]=D.useState(!0),[E,R]=D.useState(!1),[j,B]=D.useState(!1),[L,Q]=D.useState(!1),[ie,q]=D.useState(!1),[ne,pe]=D.useState(null),[ue,ge]=D.useState(null),[I,C]=D.useState(null),[O,P]=D.useState(null),[S,k]=D.useState(null),[w,Te]=D.useState(""),[De,J]=D.useState(""),[le,xe]=D.useState([]),[Ve,He]=D.useState([]),[N,Y]=D.useState({nome:"",local:"",contratante:"",descricaoMissao:"",objetivosMissao:"",requisitos:"",grupo:"",recompensa:"",rank:"E",imagem:"",duracao:"",gilRecompensa:""}),[se,oe]=D.useState({missaoId:"",dataInicio:"",cenarios:[],tokens:[]}),[he,ve]=D.useState(""),[Ne,Ge]=D.useState("cenario"),[ke,mt]=D.useState(()=>localStorage.getItem("mestreAssinatura")||"Narrador");D.useEffect(()=>{localStorage.setItem("mestreAssinatura",ke)},[ke]),D.useEffect(()=>{zo&&zo.pause();const U=Wd(nt,be=>{if(be){const Je=On(Dt(we,"missoes"),Sa("mestreId","==",be.uid),Ro("createdAt","desc")),un=Dn(Je,dn=>n(dn.docs.map(_n=>({id:_n.id,..._n.data()})))),xn=On(Dt(we,"resenhas"),Sa("mestreId","==",be.uid),Ro("createdAt","desc")),kn=Dn(xn,dn=>o(dn.docs.map(_n=>({id:_n.id,..._n.data()})))),Zt=On(Dt(we,"sessoes"),Sa("mestreId","==",be.uid),Ro("dataInicio","asc")),ii=Dn(Zt,dn=>{const _n=dn.docs.map(Ur=>({id:Ur.id,...Ur.data()}));f(_n)}),Lr=On(Dt(we,"characters")),zr=Dn(Lr,dn=>{g(dn.docs.map(_n=>({id:_n.id,..._n.data()})))});return _(!1),()=>{un(),kn(),ii(),zr()}}else _(!1)});return()=>U()},[]),D.useEffect(()=>{if(ne){const U=m.find(be=>be.id===ne.id);U&&pe(U)}},[m]);const cn=async U=>{if(U.preventDefault(),!!nt.currentUser)try{const be=(N.duracao.match(/(\d+)w/)||[0,0])[1]*6048e5+(N.duracao.match(/(\d+)d/)||[0,0])[1]*864e5+(N.duracao.match(/(\d+)h/)||[0,0])[1]*36e5;await fc(Dt(we,"missoes"),{...N,mestreNome:ke,mestreId:nt.currentUser.uid,createdAt:Fn(),expiraEm:new Date(Date.now()+(be||36e5)).toISOString()}),R(!1),Y({nome:"",local:"",contratante:"",descricaoMissao:"",objetivosMissao:"",requisitos:"",grupo:"",recompensa:"",rank:"E",imagem:"",duracao:"",gilRecompensa:""})}catch{alert("Erro ao forjar cartaz.")}},Kt=async()=>{if(!De||!w||!nt.currentUser)return alert("Preencha ttulo e contedo!");try{const U=new Date;U.setDate(U.getDate()+1),await fc(Dt(we,"resenhas"),{titulo:De,conteudo:w,mestre:ke,mestreId:nt.currentUser.uid,destinatarios:le,createdAt:Fn(),expiraEm:U.toISOString()}),B(!1),Te(""),J(""),xe([])}catch{alert("Erro ao publicar.")}},Z=async(U,be)=>{if(window.confirm(`Remover ${be.nome} da misso?`)){const Je=at(we,"missoes",U);await updateDoc(Je,{candidatos:TA(be)})}},Ee=()=>{he&&(oe(Ne==="cenario"?U=>({...U,cenarios:[...U.cenarios,he]}):U=>({...U,tokens:[...U.tokens,he]})),ve(""))},de=(U,be)=>{oe(U==="cenario"?Je=>({...Je,cenarios:Je.cenarios.filter((un,xn)=>xn!==be)}):Je=>({...Je,tokens:Je.tokens.filter((un,xn)=>xn!==be)}))},Re=async U=>{if(U.preventDefault(),!se.missaoId||!se.dataInicio||!nt.currentUser)return alert("Selecione a misso e o horrio!");try{const be=e.find(xn=>xn.id===se.missaoId),Je=new Date(se.dataInicio),un=new Date(Je.getTime()+1440*60*1e3);await fc(Dt(we,"sessoes"),{missaoId:se.missaoId,missaoNome:be?be.nome:"Misso Desconhecida",mestreId:nt.currentUser.uid,dataInicio:se.dataInicio,expiraEm:un.toISOString(),participantes:Ve,cenarios:se.cenarios,tokens:se.tokens,connected_players:[],dm_online:!1,createdAt:Fn()}),Q(!1),oe({missaoId:"",dataInicio:"",cenarios:[],tokens:[]}),He([]),alert("Sesso criada com sucesso!")}catch(be){alert("Erro ao criar sesso: "+be.message)}},Le=U=>{i("/mestre-vtt")};return y?h.jsxs("div",{className:"ether-loading",children:[h.jsx("div",{className:"loading-blur-bg"}),h.jsxs("div",{className:"loading-content",children:[h.jsx("img",{src:Af,alt:"Carregando...",className:"chocobo-anim"}),h.jsx("div",{className:"loading-bar",children:h.jsx("div",{className:"loading-fill"})}),h.jsx("p",{children:"CARREGANDO DADOS DO MESTRE..."})]}),h.jsx("style",{children:`
          .ether-loading { height: 100vh; width: 100vw; background: #000; display: flex; align-items: center; justify-content: center; position: fixed; top: 0; left: 0; z-index: 9999; }
          .loading-blur-bg { position: absolute; width: 100%; height: 100%; background: radial-gradient(circle, #001a33 0%, #000 100%); filter: blur(40px); animation: pulseBlur 2s infinite alternate; }
          .loading-content { position: relative; z-index: 10; text-align: center; }
          .chocobo-anim { width: 120px; filter: drop-shadow(0 0 10px #ffcc00); margin-bottom: 20px; }
          .loading-bar { width: 200px; height: 2px; background: rgba(255, 255, 255, 0.1); margin: 0 auto 15px auto; border-radius: 10px; overflow: hidden; }
          .loading-fill { height: 100%; width: 0%; background: #ffcc00; box-shadow: 0 0 10px #ffcc00; animation: fillProgress 1s ease-in-out forwards; }
          p { color: #ffcc00; font-family: 'serif'; font-size: 10px; letter-spacing: 3px; animation: fadeText 1s infinite alternate; }
          @keyframes fillProgress { from { width: 0%; } to { width: 100%; } }
          @keyframes pulseBlur { from { opacity: 0.5; } to { opacity: 0.8; } }
          @keyframes fadeText { from { opacity: 0.4; } to { opacity: 1; } }
          `})]}):h.jsxs("div",{className:"mestre-container",children:[h.jsx("div",{className:"mestre-bg-image-full",style:{backgroundImage:`url(${PA})`}}),h.jsxs("div",{className:"mestre-content",children:[h.jsxs("div",{className:"top-bar-flex",children:[h.jsx("h1",{className:"ff-title",children:"HUB DO NARRADOR"}),h.jsxs("div",{className:"mestre-identity-box ff-card fade-in",children:[h.jsx("label",{children:"ASSINATURA DO MESTRE:"}),h.jsx("input",{type:"text",value:ke,onChange:U=>mt(U.target.value)})]})]}),h.jsxs("div",{className:"mestre-grid",children:[h.jsxs("div",{className:"ff-card board-column",children:[h.jsxs("div",{className:"card-header no-border",children:[h.jsx("h3",{children:"QUADRO DE MISSES"}),h.jsxs("button",{className:"ff-add-btn",onClick:()=>R(!0),children:[h.jsx("span",{children:"+"})," ADICIONAR CARTAZ"]})]}),h.jsx("div",{className:"mission-scroll",children:e.map(U=>{const be=parseInt(U.grupo)||0,Je=U.candidatos?U.candidatos.length:0,un=be>0?Je/be*100:0,xn=Je>=be&&be>0;return h.jsxs("div",{className:`mission-poster rank-${U.rank}`,children:[h.jsx("div",{className:"poster-rank-label-fixed",children:U.rank}),h.jsxs("span",{className:"mestre-tag",children:["Narrador: ",U.mestreNome]}),h.jsx("h4",{children:U.nome}),h.jsxs("p",{className:"gil-recompensa",children:[" Recompensa: ",U.gilRecompensa," Gil"]}),h.jsxs("div",{className:"vagas-container",children:[h.jsxs("div",{className:"vagas-labels",children:[h.jsx("span",{children:"JOGADORES:"}),h.jsxs("span",{style:{color:xn?"#f44":"#0f0"},children:[Je," / ",be]})]}),h.jsx("div",{className:"vagas-track",children:h.jsx("div",{className:"vagas-fill",style:{width:`${un}%`,background:xn?"#f44":"#00f2ff"}})})]}),U.candidatos&&U.candidatos.length>0&&h.jsxs("div",{className:"candidates-mini-box",children:[h.jsx("strong",{children:"Candidatos:"}),U.candidatos.map(kn=>h.jsxs("div",{className:"cand-row-master",children:[h.jsxs("span",{style:{color:kn.isLeader?"#ffcc00":"#ccc"},children:[kn.isLeader&&""," ",kn.nome," (",kn.classe,")"]}),h.jsx("button",{className:"btn-kick-x",title:"Remover Jogador",onClick:()=>Z(U.id,kn),children:""})]},kn.uid))]}),h.jsx(Px,{expiry:U.expiraEm}),h.jsxs("div",{className:"poster-actions",children:[h.jsx("button",{className:"btn-cyan",onClick:()=>P(U.imagem),children:"CARTAZ"}),h.jsx("button",{className:"btn-cyan",onClick:()=>ge(U),children:"DETALHES"}),h.jsx("button",{className:"btn-red",onClick:()=>vs(at(we,"missoes",U.id)),children:"EXCLUIR"})]})]},U.id)})})]}),h.jsxs("div",{className:"ff-card sanchez-card board-column",children:[h.jsxs("div",{className:"sanchez-header-top no-border",children:[h.jsx("h3",{children:"RESENHA DO SANCHEZ"}),h.jsx("button",{className:"ff-add-btn-gold-small",onClick:()=>B(!0),children:"+ CRIAR NOVA RESENHA"})]}),h.jsx("div",{className:"mission-scroll",children:r.map(U=>h.jsxs("div",{className:"resenha-item-card",children:[h.jsx("h4",{children:U.titulo}),h.jsx(Px,{expiry:U.expiraEm}),h.jsxs("div",{className:"poster-actions",children:[h.jsx("button",{className:"btn-cyan",onClick:()=>C(U),children:"VISUALIZAR"}),h.jsx("button",{className:"btn-red",onClick:()=>vs(at(we,"resenhas",U.id)),children:"EXCLUIR"})]})]},U.id))})]}),h.jsxs("div",{className:"ff-card board-column",children:[h.jsxs("div",{className:"card-header no-border",children:[h.jsx("h3",{children:"SESSES DE JOGO"}),h.jsx("button",{className:"ff-add-btn small-btn",onClick:()=>Q(!0),children:"INICIAR NOVA SESSO"})]}),h.jsx("div",{className:"mission-scroll",children:c.length===0?h.jsx("div",{className:"empty-instancia",children:"NENHUMA INSTNCIA ATIVA"}):c.map(U=>h.jsxs("div",{className:"sessao-card",children:[h.jsx("div",{className:"sessao-status",children:" AO VIVO / AGENDADA"}),h.jsx("h4",{className:"sessao-title",children:U.missaoNome}),h.jsxs("div",{className:"sessao-info",children:[h.jsxs("span",{children:[" ",new Date(U.dataInicio).toLocaleString()]}),h.jsxs("span",{className:"sessao-players",children:[" ",U.participantes?.length||0," Jogadores"]})]}),h.jsxs("div",{className:"sessao-assets-count",children:[" ",U.cenarios?.length||0," Cenrios   ",U.tokens?.length||0," Tokens"]}),h.jsxs("div",{className:"poster-actions",style:{marginTop:"15px"},children:[h.jsx("button",{className:"btn-cyan",onClick:()=>k(U),children:" MEMBROS"}),h.jsx("button",{className:"btn-play-vtt",onClick:()=>Le(),children:" ACESSAR VTT"}),h.jsx("button",{className:"btn-red",onClick:()=>vs(at(we,"sessoes",U.id)),children:"CANCELAR"})]})]},U.id))})]})]})]}),ie&&h.jsx("div",{className:"ff-modal-overlay-fixed",onClick:()=>q(!1),children:h.jsxs("div",{className:"ff-modal-scrollable ff-card",onClick:U=>U.stopPropagation(),children:[h.jsx("h3",{className:"modal-title-ff",children:"PERSONAGENS REGISTRADOS"}),h.jsx("div",{className:"destinatarios-grid-fixed",children:m.map(U=>h.jsxs("div",{className:"ficha-list-item",children:[h.jsxs("div",{className:"ficha-row-name",children:[h.jsx("strong",{children:U.name}),h.jsxs("small",{children:[U.race," // ",U.class]})]}),h.jsx("button",{className:"btn-cyan",onClick:()=>{pe(U),q(!1)},children:"ABRIR FICHA "})]},U.id))}),h.jsx("button",{className:"btn-cancelar-main",style:{marginTop:"20px"},onClick:()=>q(!1),children:"FECHAR"})]})}),ne&&h.jsx(Eg,{characterData:ne,isMaster:!0,onClose:()=>pe(null)}),E&&h.jsx("div",{className:"ff-modal-overlay-fixed",children:h.jsxs("div",{className:"ff-modal-scrollable ff-card",children:[h.jsx("h3",{className:"modal-title-ff",children:"NOVA MISSO"}),h.jsxs("form",{onSubmit:cn,children:[h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"NOME DA MISSO"}),h.jsx("input",{placeholder:"Ttulo...",value:N.nome,onChange:U=>Y({...N,nome:U.target.value}),required:!0})]}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"LOCAL"}),h.jsx("input",{placeholder:"Onde ocorre...",value:N.local,onChange:U=>Y({...N,local:U.target.value})})]}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"CONTRATANTE"}),h.jsx("input",{placeholder:"Quem paga...",value:N.contratante,onChange:U=>Y({...N,contratante:U.target.value})})]}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"DESCRIO DA MISSO"}),h.jsx("textarea",{className:"tall-area-dark",placeholder:"Detalhes da histria e contexto...",value:N.descricaoMissao,onChange:U=>Y({...N,descricaoMissao:U.target.value})})]}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"OBJETIVOS DA MISSO"}),h.jsx("textarea",{className:"tall-area-dark",placeholder:"O que deve ser feito passo a passo...",value:N.objetivosMissao,onChange:U=>Y({...N,objetivosMissao:U.target.value})})]}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"REQUISITOS DA MISSO"}),h.jsx("textarea",{className:"tall-area-dark",placeholder:"O que  necessrio para aceitar...",value:N.requisitos,onChange:U=>Y({...N,requisitos:U.target.value})})]}),h.jsxs("div",{className:"row-double-ff",children:[h.jsxs("div",{className:"field-group",children:[h.jsx("label",{children:"GRUPO MXIMO"}),h.jsx("input",{placeholder:"Ex: 4",value:N.grupo,onChange:U=>Y({...N,grupo:U.target.value})})]}),h.jsxs("div",{className:"field-group",children:[h.jsx("label",{children:"RANK"}),h.jsx("select",{value:N.rank,onChange:U=>Y({...N,rank:U.target.value}),children:["E","D","C","B","A","S","SS","SC"].map(U=>h.jsxs("option",{value:U,children:["RANK ",U]},U))})]})]}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"RECOMPENSAS EXTRAS"}),h.jsx("textarea",{className:"tall-area-dark",placeholder:"Itens, especiarias...",value:N.recompensa,onChange:U=>Y({...N,recompensa:U.target.value})})]}),h.jsxs("div",{className:"row-double-ff",children:[h.jsxs("div",{className:"field-group",children:[h.jsx("label",{children:"GIL"}),h.jsx("input",{type:"text",className:"gil-input",placeholder:"Ex: 5000",value:N.gilRecompensa,onChange:U=>Y({...N,gilRecompensa:U.target.value.replace(/\D/g,"")})})]}),h.jsxs("div",{className:"field-group",children:[h.jsx("label",{children:"DURAO"}),h.jsx("input",{placeholder:"Ex: 1d 10h",value:N.duracao,onChange:U=>Y({...N,duracao:U.target.value}),required:!0})]})]}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"IMAGEM"}),h.jsx("input",{placeholder:"Link Imgur...",value:N.imagem,onChange:U=>Y({...N,imagem:U.target.value})})]}),h.jsxs("div",{className:"btn-group-ff",children:[h.jsx("button",{type:"submit",className:"btn-forjar-main",children:"FORJAR MISSO"}),h.jsx("button",{type:"button",className:"btn-cancelar-main",onClick:()=>R(!1),children:"FECHAR"})]})]})]})}),j&&h.jsx("div",{className:"ff-modal-overlay-fixed",children:h.jsxs("div",{className:"ff-modal-scrollable ff-card",children:[h.jsx("h3",{className:"modal-title-ff",children:"ESCREVER CRNICA"}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"TTULO"}),h.jsx("input",{className:"ff-modal-input-dark",value:De,onChange:U=>J(U.target.value)})]}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"CORPO"}),h.jsx("textarea",{className:"tall-area-ff-dark",value:w,onChange:U=>Te(U.target.value)})]}),h.jsxs("div",{className:"player-selector-box-fixed",children:[h.jsx("label",{children:"DESTINATRIOS:"}),h.jsx("div",{className:"destinatarios-grid-fixed",children:m.map(U=>h.jsxs("label",{className:"chip-label-ff",children:[h.jsx("input",{type:"checkbox",checked:le.includes(U.name),onChange:()=>le.includes(U.name)?xe(le.filter(be=>be!==U.name)):xe([...le,U.name])})," ",U.name]},U.id))})]}),h.jsxs("div",{className:"btn-group-ff",children:[h.jsx("button",{className:"btn-forjar-main",onClick:Kt,children:"PUBLICAR"}),h.jsx("button",{className:"btn-cancelar-main",onClick:()=>B(!1),children:"FECHAR"})]})]})}),L&&h.jsx("div",{className:"ff-modal-overlay-fixed",children:h.jsxs("div",{className:"ff-modal-scrollable ff-card",children:[h.jsx("h3",{className:"modal-title-ff",children:"CRIAR NOVA SESSO"}),h.jsxs("form",{onSubmit:Re,children:[h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"SELECIONAR MISSO"}),h.jsxs("select",{className:"ff-select-dark",value:se.missaoId,onChange:U=>oe({...se,missaoId:U.target.value}),required:!0,children:[h.jsx("option",{value:"",children:"-- Escolha --"}),e.map(U=>h.jsxs("option",{value:U.id,children:[U.nome," (Rank ",U.rank,")"]},U.id))]})]}),h.jsxs("div",{className:"modal-input-group",children:[h.jsx("label",{children:"DATA E HORRIO"}),h.jsx("input",{type:"datetime-local",className:"ff-input-dark",value:se.dataInicio,onChange:U=>oe({...se,dataInicio:U.target.value}),required:!0})]}),h.jsxs("div",{className:"player-selector-box-fixed",children:[h.jsx("label",{children:"JOGADORES:"}),h.jsx("div",{className:"destinatarios-grid-fixed",children:m.map(U=>h.jsxs("label",{className:"chip-label-ff",children:[h.jsx("input",{type:"checkbox",checked:Ve.includes(U.name),onChange:()=>Ve.includes(U.name)?He(Ve.filter(be=>be!==U.name)):He([...Ve,U.name])})," ",U.name," (",U.class,")"]},U.id))})]}),h.jsxs("div",{className:"upload-section-box",children:[h.jsx("h4",{className:"upload-section-title",children:"IMPORTAR IMAGENS"}),h.jsxs("div",{className:"link-import-row",children:[h.jsx("input",{className:"ff-input-dark",value:he,onChange:U=>ve(U.target.value)}),h.jsxs("select",{className:"ff-select-dark small-select",value:Ne,onChange:U=>Ge(U.target.value),children:[h.jsx("option",{value:"cenario",children:"Cenrio"}),h.jsx("option",{value:"token",children:"Token"})]}),h.jsx("button",{type:"button",className:"btn-cyan",onClick:Ee,children:"+"})]}),h.jsxs("div",{className:"assets-lists",children:[se.cenarios.map((U,be)=>h.jsxs("div",{className:"asset-item",children:[h.jsx("span",{className:"truncate-link",children:U}),h.jsx("button",{type:"button",className:"btn-remove-x",onClick:()=>de("cenario",be),children:""})]},be)),se.tokens.map((U,be)=>h.jsxs("div",{className:"asset-item",children:[h.jsx("span",{className:"truncate-link",children:U}),h.jsx("button",{type:"button",className:"btn-remove-x",onClick:()=>de("token",be),children:""})]},be))]})]}),h.jsxs("div",{className:"btn-group-ff",children:[h.jsx("button",{type:"submit",className:"btn-forjar-main",children:"AGENDAR"}),h.jsx("button",{type:"button",className:"btn-cancelar-main",onClick:()=>Q(!1),children:"CANCELAR"})]})]})]})}),S&&h.jsx("div",{className:"ff-modal-overlay-fixed",onClick:()=>k(null),children:h.jsxs("div",{className:"ff-modal-scrollable ff-card",onClick:U=>U.stopPropagation(),style:{height:"auto",maxHeight:"500px"},children:[h.jsx("h3",{className:"modal-title-ff",children:"MEMBROS ALOCADOS"}),h.jsx("div",{className:"destinatarios-grid-fixed",children:S.participantes?.map((U,be)=>h.jsxs("div",{className:"chip-label-ff",style:{cursor:"default",color:"#fff",borderColor:"#00f2ff"},children:[" ",U]},be))}),h.jsx("button",{className:"btn-cancelar-main",style:{marginTop:"20px",width:"100%"},onClick:()=>k(null),children:"FECHAR"})]})}),ue&&h.jsx("div",{className:"ff-modal-overlay-fixed",onClick:()=>ge(null),children:h.jsxs("div",{className:"ff-modal ff-card detail-view-main",onClick:U=>U.stopPropagation(),children:[h.jsxs("div",{className:"detail-header-modern",children:[h.jsx("div",{className:`detail-rank-badge rank-${ue.rank}`,children:ue.rank}),h.jsxs("div",{className:"detail-title-col",children:[h.jsx("h2",{children:ue.nome}),h.jsxs("span",{className:"detail-narrator",children:["Narrador: ",ue.mestreNome]})]})]}),h.jsxs("div",{className:"detail-body-grid",children:[h.jsxs("div",{className:"detail-info-row",children:[h.jsxs("div",{className:"info-item",children:[h.jsx("label",{children:" LOCAL"}),h.jsx("span",{children:ue.local||"Desconhecido"})]}),h.jsxs("div",{className:"info-item",children:[h.jsx("label",{children:" CONTRATANTE"}),h.jsx("span",{children:ue.contratante||"Annimo"})]})]}),h.jsxs("div",{className:"detail-section",children:[h.jsx("label",{className:"section-label",children:"VAGAS"}),h.jsxs("div",{style:{background:"#111",padding:"10px",borderRadius:"4px"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",color:"#aaa",marginBottom:"5px"},children:[h.jsx("span",{children:"STATUS DO GRUPO"}),h.jsxs("span",{children:[ue.candidatos?ue.candidatos.length:0," / ",ue.grupo||"?"]})]}),h.jsx("div",{style:{width:"100%",height:"6px",background:"#333",borderRadius:"3px"},children:h.jsx("div",{style:{width:`${Math.min((ue.candidatos?.length||0)/(parseInt(ue.grupo)||1)*100,100)}%`,height:"100%",background:ue.candidatos?.length>=parseInt(ue.grupo)?"#f44":"#00f2ff"}})})]})]}),h.jsxs("div",{className:"detail-section",children:[h.jsx("label",{className:"section-label",children:" DESCRIO"}),h.jsx("p",{className:"section-text",children:ue.descricaoMissao})]}),h.jsxs("div",{className:"detail-section",children:[h.jsx("label",{className:"section-label",children:" OBJETIVOS"}),h.jsx("p",{className:"section-text",children:ue.objetivosMissao})]}),h.jsxs("div",{className:"detail-section",children:[h.jsx("label",{className:"section-label",children:" REQUISITOS"}),h.jsx("p",{className:"section-text",children:ue.requisitos})]}),h.jsxs("div",{className:"detail-section reward-section",children:[h.jsx("label",{className:"section-label",children:" RECOMPENSAS"}),h.jsxs("div",{className:"reward-content-box",children:[h.jsxs("div",{className:"gil-display-row",children:[h.jsx("span",{className:"gil-icon",children:""})," ",h.jsxs("span",{className:"gil-value",children:[ue.gilRecompensa||0," GIL"]})]}),ue.recompensa&&h.jsx("div",{className:"extra-rewards-list",children:ue.recompensa.split(`
`).map((U,be)=>h.jsxs("div",{className:"reward-item",children:[" ",U]},be))})]})]})]}),h.jsx("button",{className:"ff-final-close-btn",onClick:()=>ge(null),children:"FECHAR RELATRIO"})]})}),O&&h.jsx("div",{className:"ff-modal-overlay-fixed",onClick:()=>P(null),children:h.jsxs("div",{className:"lightbox-wrap",children:[h.jsx("button",{className:"close-lightbox",onClick:()=>P(null),children:""}),h.jsx("img",{src:O,alt:"Cartaz",className:"cartaz-full-view"})]})}),I&&h.jsx("div",{className:"papiro-overlay-full",onClick:()=>C(null),children:h.jsxs("div",{className:"papiro-real-container",style:{backgroundImage:`url(${VA})`},onClick:U=>U.stopPropagation(),children:[h.jsx("div",{className:"sanchez-oval-view-no-border",style:{backgroundImage:`url(${mm})`}}),h.jsx("h2",{className:"papiro-title-real",children:I.titulo}),h.jsxs("p",{className:"papiro-mestre-sub",children:["Narrador: ",I.mestre]}),h.jsx("div",{className:"papiro-body-real",dangerouslySetInnerHTML:{__html:I.conteudo.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br/>")}}),h.jsxs("div",{className:"papiro-dest-list",children:[h.jsx("strong",{children:"ENVIADO PARA:"})," ",I.destinatarios?.join(", ")]}),h.jsx("button",{className:"papiro-close-btn",onClick:()=>C(null),children:"FECHAR"})]})}),h.jsxs("div",{className:"master-floating-group",children:[h.jsx(LA,{}),h.jsx(_g,{isMestre:!0}),h.jsx("button",{className:"fichas-trigger-btn",onClick:()=>q(!0),title:"Gerenciar Fichas",children:h.jsx("img",{src:MD,alt:"Fichas",onError:U=>{U.target.style.display="none",U.target.parentNode.innerText="FICHAS"}})})]}),h.jsx("style",{children:`
        /* ESTILOS MANTIDOS + NOVOS */
        .mestre-container { background: #000; min-height: 100vh; position: relative; color: #fff; font-family: 'serif'; overflow: hidden; }
        .mestre-bg-image-full { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center top; background-repeat: no-repeat; opacity: 0.35; z-index: 0; filter: contrast(125%) brightness(75%); }
        .mestre-content { position: relative; z-index: 1; padding: 20px; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }
        
        .top-bar-flex { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .ff-title { color: #ffcc00; text-shadow: 0 0 10px #ffcc00; letter-spacing: 5px; font-size: 2rem; margin: 0; }
        .mestre-identity-box { display: flex; align-items: center; gap: 10px; border: 1px solid #ffcc00; padding: 8px 15px; background: rgba(0, 10, 30, 0.9); }
        .mestre-identity-box input { background: #fff; border: 1px solid #ffcc00; color: #000; padding: 5px 10px; font-weight: bold; font-family: 'serif'; outline: none; }

        /* GRID RESPONSIVO TELA NICA */
        .mestre-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; flex: 1; overflow: hidden; padding-bottom: 60px; /* Espao para botes flutuantes */ }
        
        /* CARDS TELA NICA */
        .ff-card { background: rgba(0, 10, 30, 0.95); border: 1px solid #ffcc00; padding: 15px; border-radius: 4px; backdrop-filter: blur(10px); display: flex; flex-direction: column; max-height: 100%; }
        .board-column { flex: 1; overflow: hidden; min-height: 0; }
        
        .card-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 15px; flex-shrink: 0; }
        .card-header.no-border { border-bottom: none; }
        
        .mission-scroll { flex: 1; overflow-y: auto; padding-right: 5px; scrollbar-width: thin; scrollbar-color: #ffcc00 #000; }
        .mission-scroll::-webkit-scrollbar { width: 6px; }
        .mission-scroll::-webkit-scrollbar-thumb { background: #ffcc00; }

        .mission-poster { background: rgba(255,255,255,0.04); border: 1px solid #444; margin-bottom: 15px; padding: 18px; border-left: 4px solid #00f2ff; position: relative; }
        .poster-rank-label-fixed { position: absolute; top: 12px; right: 18px; font-size: 32px; color: #ffcc00; opacity: 0.35; font-weight: bold; }
        .mestre-tag { color: #ffcc00; font-size: 10px; text-transform: uppercase; font-weight: bold; display: block; margin-bottom: 8px; }
        .candidates-mini-box { margin-top: 8px; background: rgba(0,0,0,0.3); padding: 5px; border-radius: 3px; }
        .cand-row-master { display: flex; justify-content: space-between; align-items: center; font-size: 10px; margin-bottom: 2px; }
        .btn-kick-x { background: transparent; border: none; color: #f44; cursor: pointer; font-weight: bold; font-size: 12px; }
        .btn-kick-x:hover { color: #fff; }

        /* VAGAS VISUAL */
        .vagas-container { margin: 10px 0; }
        .vagas-labels { display: flex; justify-content: space-between; font-size: 10px; color: #ccc; margin-bottom: 2px; font-weight: bold; }
        .vagas-track { width: 100%; height: 6px; background: #111; border: 1px solid #444; border-radius: 3px; overflow: hidden; }
        .vagas-fill { height: 100%; transition: width 0.3s; }

        .sanchez-card { position: relative; overflow: hidden; }
        .sanchez-header-top { position: relative; z-index: 1; margin-bottom: 15px; border-bottom: 1px solid #333; padding-bottom: 10px; flex-shrink: 0; }
        .sanchez-header-top.no-border { border-bottom: none; }
        .resenha-item-card { background: rgba(255,255,255,0.05); border: 1px solid #333; padding: 15px; margin-top: 12px; border-radius: 4px; }
        .sessao-card { background: linear-gradient(135deg, rgba(20,20,50,0.9), rgba(0,0,20,0.9)); border: 1px solid #00f2ff; padding: 15px; margin-bottom: 15px; border-radius: 4px; box-shadow: 0 0 10px rgba(0,242,255,0.1); }
        .sessao-status { font-size: 10px; color: #f44; font-weight: bold; margin-bottom: 8px; animation: pulse 2s infinite; }
        .sessao-title { color: #fff; font-size: 18px; margin: 0 0 10px 0; border-bottom: 1px solid #333; padding-bottom: 8px; }
        .sessao-info { display: flex; justify-content: space-between; font-size: 12px; color: #aaa; margin-bottom: 10px; }
        .sessao-assets-count { font-size: 11px; color: #ffcc00; background: rgba(0,0,0,0.3); padding: 5px; border-radius: 3px; display: inline-block; }
        .btn-play-vtt { background: #00f2ff; color: #000; border: none; padding: 8px 15px; font-weight: bold; cursor: pointer; flex: 1; margin-right: 10px; transition: 0.3s; }
        .btn-play-vtt:hover { background: #fff; box-shadow: 0 0 15px #00f2ff; }
        @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
        .upload-section-box { border: 1px dashed #444; padding: 15px; margin: 20px 0; background: rgba(0,0,0,0.3); }
        .upload-section-title { color: #00f2ff; font-size: 12px; margin-bottom: 15px; border-bottom: 1px solid #00f2ff; padding-bottom: 5px; display: inline-block; }
        .ff-select-dark { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; outline: none; font-family: 'serif'; }
        .ff-input-dark { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; outline: none; font-family: 'serif'; color-scheme: dark; }
        .link-import-row { display: flex; gap: 10px; margin-bottom: 15px; }
        .small-select { width: 120px; }
        .assets-lists { display: flex; flex-direction: column; gap: 10px; }
        .asset-group { background: rgba(255,255,255,0.05); padding: 10px; border-radius: 4px; }
        .asset-group label { display: block; color: #ffcc00; font-size: 10px; font-weight: bold; margin-bottom: 5px; border-bottom: 1px solid #333; }
        .asset-item { display: flex; justify-content: space-between; align-items: center; font-size: 11px; color: #ddd; margin-bottom: 4px; }
        .truncate-link { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 350px; }
        .btn-remove-x { background: transparent; border: none; color: #f44; font-weight: bold; cursor: pointer; font-size: 14px; }
        .ff-modal-overlay-fixed { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.94); z-index: 99999; display: flex; align-items: center; justify-content: center; }
        .ff-modal-scrollable { width: 550px; max-height: 90vh; overflow-y: auto; background: #000c1d; border: 2px solid #ffcc00; padding: 35px; box-shadow: 0 0 60px rgba(0,0,0,0.9); }
        .modal-title-ff { color: #fff; font-size: 22px; border-bottom: 1px solid #ffcc00; padding-bottom: 10px; margin-bottom: 20px; letter-spacing: 2px; }
        .modal-input-group { margin-bottom: 20px; }
        .modal-input-group label { color: #ffcc00; font-size: 11px; display: block; margin-bottom: 8px; font-weight: bold; letter-spacing: 1px; }
        .modal-input-group input { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; outline: none; font-family: 'serif'; font-size: 14px; }
        .row-double-ff { display: flex; gap: 20px; margin-bottom: 20px; }
        .field-group { flex: 1; display: flex; flex-direction: column; }
        .field-group label { color: #ffcc00; font-size: 11px; display: block; margin-bottom: 8px; font-weight: bold; }
        .field-group input, .field-group select { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; font-family: 'serif'; outline: none; }
        .tall-area-dark { width: 100%; background: #000; border: 1px solid #444; color: #fff; padding: 12px; height: 110px; resize: none; font-family: 'serif'; outline: none; }
        .tall-area-ff-dark { width: 100%; background: #000; border: 1px solid #ffcc00; color: #fff; padding: 15px; height: 250px; resize: none; font-family: 'serif'; outline: none; font-size: 16px; border-radius: 4px; }
        .detail-view-main { width: 600px; background: #000814; border: 1px solid #ffcc00; padding: 0; box-shadow: 0 0 40px rgba(255, 204, 0, 0.1); overflow: hidden; display: flex; flex-direction: column; }
        .detail-header-modern { background: linear-gradient(90deg, #1a1a1a 0%, #000 100%); padding: 25px 30px; display: flex; align-items: center; border-bottom: 1px solid #333; gap: 20px; }
        .detail-rank-badge { font-size: 32px; font-weight: bold; color: #ffcc00; text-shadow: 0 0 10px rgba(255,204,0,0.5); border: 2px solid #ffcc00; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background: rgba(0,0,0,0.5); }
        .detail-title-col h2 { margin: 0; font-size: 24px; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        .detail-narrator { color: #00f2ff; font-size: 12px; font-weight: bold; text-transform: uppercase; margin-top: 4px; display: block; }
        .detail-body-grid { padding: 30px; display: flex; flex-direction: column; gap: 20px; }
        .detail-info-row { display: flex; gap: 25px; margin-bottom: 10px; border-bottom: 1px solid #333; padding-bottom: 15px; }
        .info-item { flex: 1; }
        .info-item label { color: #ffcc00; font-size: 10px; display: block; margin-bottom: 5px; font-weight: bold; opacity: 0.8; }
        .info-item span { color: #fff; font-size: 14px; font-weight: bold; letter-spacing: 0.5px; }
        .detail-section { margin-bottom: 5px; }
        .section-label { color: #ffcc00; font-size: 11px; font-weight: bold; display: block; margin-bottom: 8px; letter-spacing: 1px; text-transform: uppercase; border-bottom: 1px solid #333; padding-bottom: 4px; }
        .section-text { font-size: 15px; line-height: 1.5; color: #ddd; margin: 0; white-space: pre-wrap; }
        .reward-section { margin-top: 10px; background: rgba(255,204,0,0.05); padding: 15px; border-radius: 4px; border: 1px solid rgba(255,204,0,0.2); }
        .gil-display-row { display: flex; align-items: center; gap: 10px; font-size: 18px; color: #ffcc00; font-weight: bold; margin-bottom: 8px; }
        .extra-rewards-list { margin-top: 8px; padding-left: 5px; }
        .reward-item { color: #aaa; font-size: 14px; margin-bottom: 4px; font-style: italic; }
        .ff-final-close-btn { width: 100%; background: #111; color: #fff; border: none; border-top: 1px solid #333; padding: 20px; font-weight: bold; cursor: pointer; font-size: 13px; text-transform: uppercase; transition: 0.2s; }
        .ff-final-close-btn:hover { background: #222; color: #ffcc00; }
        .papiro-overlay-full { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); z-index: 100000; display: flex; align-items: center; justify-content: center; }
        .papiro-real-container { width: 1000px; height: 800px; max-width: 95vw; max-height: 95vh; background-size: 100% 100%; background-repeat: no-repeat; padding: 110px 160px; color: #3b2b1a; position: relative; display: flex; flex-direction: column; }
        .sanchez-oval-view-no-border { width: 110px; height: 110px; float: right; border-radius: 50%; background-size: cover; margin-left: 20px; mask-image: radial-gradient(circle, black 60%, transparent 100%); -webkit-mask-image: radial-gradient(circle, black 60%, transparent 100%); opacity: 0.9; }
        .papiro-title-real { border-bottom: 2px solid #3b2b1a; padding-bottom: 5px; margin-top: 0; font-size: 32px; font-weight: bold; }
        .papiro-mestre-sub { font-size: 14px; font-style: italic; opacity: 0.8; margin-top: 5px; }
        .papiro-body-real { margin-top: 25px; flex: 1; overflow-y: auto; line-height: 1.6; font-size: 18px; padding-right: 10px; scrollbar-width: none; -ms-overflow-style: none; }
        .papiro-body-real::-webkit-scrollbar { display: none; }
        .papiro-dest-list { margin-top: 15px; font-size: 14px; border-top: 1px solid rgba(59, 43, 26, 0.3); padding-top: 10px; }
        .papiro-close-btn { position: absolute; bottom: 45px; right: 110px; background: #3b2b1a; color: #f4e4bc; border: none; padding: 8px 20px; cursor: pointer; font-weight: bold; font-size: 13px; border-radius: 2px; }
        .ff-add-btn { background: transparent; border: 1px solid #00f2ff; color: #00f2ff; padding: 10px 20px; cursor: pointer; font-weight: bold; font-size: 12px; }
        .ff-add-btn-gold-small { background: transparent; border: 1px solid #ffcc00; color: #ffcc00; padding: 8px 15px; cursor: pointer; font-weight: bold; font-size: 11px; transition: 0.3s; }
        .ff-add-btn-gold-small:hover { background: #ffcc00; color: #000; box-shadow: 0 0 15px #ffcc00; }
        .btn-cyan { border: 1px solid #00f2ff; color: #00f2ff; padding: 6px 15px; background: transparent; cursor: pointer; font-size: 11px; margin-right: 10px; font-weight: bold; }
        .btn-red { border: 1px solid #f44; color: #f44; padding: 6px 15px; background: transparent; cursor: pointer; font-size: 11px; font-weight: bold; }
        .btn-group-ff { display: flex; gap: 20px; margin-top: 25px; }
        .btn-forjar-main { flex: 1; background: #ffcc00; color: #000; border: none; padding: 14px; font-weight: bold; cursor: pointer; font-size: 14px; text-transform: uppercase; }
        .btn-cancel-main { flex: 1; background: #000; color: #fff; border: 1px solid #fff; padding: 14px; cursor: pointer; text-align: center; font-size: 14px; text-transform: uppercase; }
        .player-selector-box-fixed { margin: 25px 0; border-top: 1px solid #333; padding-top: 15px; }
        .destinatarios-grid-fixed { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 12px; }
        .chip-label-ff { background: rgba(0, 10, 30, 0.8); border: 1px solid #ffcc00; color: #ffcc00; padding: 8px 18px; border-radius: 4px; font-size: 12px; cursor: pointer; display: inline-block; }
        .mission-timer { font-size: 12px; color: #00f2ff; display: block; margin-top: 10px; font-weight: bold; letter-spacing: 1px; }
        .fade-in { animation: fadeIn 1s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .lightbox-wrap { position: relative; max-width: 90vw; max-height: 90vh; }
        .cartaz-full-view { max-width: 100%; max-height: 90vh; border: 3px solid #ffcc00; box-shadow: 0 0 50px #000; }
        .close-lightbox { position: absolute; top: -40px; right: -40px; background: transparent; border: none; color: #fff; font-size: 40px; cursor: pointer; }
        
        /* BOTO FLUTUANTE DE FICHAS */
        .fichas-trigger-btn { position: fixed; bottom: 30px; right: 190px; width: 70px; height: 70px; border-radius: 50%; border: 2px solid #00f2ff; background: #000; cursor: pointer; z-index: 9999; transition: transform 0.2s, box-shadow 0.2s; padding: 0; display: flex; align-items: center; justify-content: center; }
        .fichas-trigger-btn:hover { transform: scale(1.1); box-shadow: 0 0 25px #00f2ff; }
        .fichas-trigger-btn img { width: 70%; height: 70%; object-fit: contain; }

        /* LISTA DE FICHAS */
        .ficha-list-item { display: flex; justify-content: space-between; align-items: center; background: rgba(0,0,0,0.5); border: 1px solid #333; padding: 15px; cursor: pointer; transition: 0.2s; border-radius: 4px; width: 100%; }
        .ficha-list-item:hover { border-color: #00f2ff; background: rgba(0, 242, 255, 0.1); }
        .ficha-row-name { display: flex; flex-direction: column; flex: 1; margin-right: 15px; }
        .ficha-row-name strong { color: #fff; font-size: 16px; }
        .ficha-row-name small { color: #aaa; font-size: 12px; }
      `})]})}const jD=[{id:"humes",name:"Humes",image:"races/humes.png",description:"Os Humes so a raa mais comum e predominante em Ivalice. Adaptveis, curiosos e persistentes, habitam desde as grandes capitais at vilarejos fronteirios. Sua origem  antiga e pouco documentada, mas acredita-se que foram os primeiros a construir grandes cidades e fundar os cls atuais.",characteristics:"Sua maior qualidade  a versatilidade. No se destacam naturalmente em nenhum atributo especfico, mas aprendem qualquer funo rapidamente, prosperando em qualquer lugar que chamem de lar.",racial_bonus:{value:5,detail:"5 pontos extras para distribuir livremente entre os atributos durante a criao de personagem."},base_classes:["Soldado","Mago Branco","Qumico"]},{id:"viera",name:"Viera",image:"races/viera.png",description:"Uma raa graciosa e enigmtica, marcada por longas orelhas e aparncia esguia. Vivem em florestas profundas, isoladas do mundo exterior e conectadas aos espritos da natureza. A sociedade  matriarcal.",characteristics:"Conhecidas por sentidos aguados, velocidade impressionante e habilidades mgicas refinadas. Os machos so raros e exilados ao atingirem a maturidade.",racial_bonus:{female:{VEL:3,INT:2},male_exiled:{"pontos-livres":5}},base_classes:{female:["Arqueira","Esgrimista","Curandeira"],male:["Exilado"]}},{id:"moogles",name:"Moogles",image:"races/moogles.png",description:"Pequenos, adorveis e envoltos em mistrio. Possuem corpos peludos, antenas com pompons flutuantes e pequenas asas de morcego. No possuem gnero definido.",characteristics:"Extremamente inteligentes e obcecados por tecnologia e invenes, misturando cincia com feitiaria. Carregam um estranho 'magnetismo da sorte'.",racial_bonus:{SOR:5},base_classes:["Animista","Engenheiro"]},{id:"bangaa",name:"Bangaa",image:"races/bangaa.png",description:"Guerreiros reptilianos robustos, com pele escamosa e traos que lembram drages antigos. So temidos pela fora bruta e respeitados pela honra em combate.",characteristics:"Sua origem remonta a tempos ancestrais e acredita-se que possuam sangue dracnico. Valorizam a lealdade, a disciplina fsica e o dever.",racial_bonus:{FOR:3,CONS:2},base_classes:["Monge","Guerreiro"]},{id:"grias",name:"Grias",image:"races/grias.png",description:"Guerreiras aladas, exclusivamente femininas, nascidas para dominar os cus. Possuem corpos atlticos, chifres, caudas e asas fortes.",characteristics:"Mestres da caa alada e emboscadas areas. Usam a altura como vantagem ttica e seus ataques de mergulho so devastadores.",racial_bonus:{VEL:2},passive_ability:{name:"Imunidade a Dano de Queda",effect:"No sofrem dano ao cair de qualquer altura nem de impactos ascendentes."},base_classes:["Monge","Guerreiro"]},{id:"elvaan",name:"Elvaan",image:"races/elvaan.png",description:"Originrios de Valendia, so guerreiros altos, nobres e disciplinados, com orelhas alongadas. Simbolizam tradio e justia em Ivalice.",characteristics:"Treinados desde a infncia no manejo de lminas e estilos de combate ancestrais. Desprezam truques e valorizam o confronto direto.",racial_bonus:{FOR:2},passive_ability:{name:"Domnio de Reao",effect:"Aprendem habilidades de reao com o dobro de rapidez."},base_classes:["Soldado","Espadachim"]},{id:"mithra",name:"Mithra",image:"races/mithra.png",description:"Raa com traos felinos, gil e astuta. Compartilham uma origem ancestral com as Viera, mas se espalharam por matas tropicais e runas.",characteristics:"Especialistas em furtividade, espionagem e ladronagem. Possuem forte senso de honra ligado  astcia.",racial_bonus:{VEL:2},passive_ability:{name:"Bnus de Camuflagem",effect:"Recebem vantagem em testes de furtividade, infiltrao e disfarce."},base_classes:["Ladra","Rastreadora"]},{id:"nu_mou",name:"Nu Mou",image:"races/nu-mou.png",description:"Pequenos em estatura, com aparncia canina e pelagem espessa, mas imensos em conhecimento. So magos natos que vivem sculos acumulando sabedoria.",characteristics:"Frequentemente ocupam cargos de conselheiros. Possuem empatia natural com a vida selvagem, comunicando-se com monstros e animais.",racial_bonus:{INT:3,CAR:2},base_classes:["Mago Branco","Adestrador"]},{id:"hypello",name:"Hypello",image:"races/hypello.png",description:"Raa anfbia dos pntanos de Kerwon. Possuem grande estatura, corpos robustos e pele azulada ou esverdeada.",characteristics:"Herbalistas por excelncia, mestres em usar plantas para curas ou venenos. Sua maior fora  a vitalidade e a empatia.",racial_bonus:{CONS:5},base_classes:["Escudeiro","Curandeiro"]},{id:"umbros",name:"Umbros",image:"races/umbros.png",description:"Seres de pele negra e marcas brilhantes que reagem  lua. Descendentes dos seres tocados pelas Pedras Zodiacais.",characteristics:"Alta resistncia  corrupo e aptido mgica. Vistos como orculos ou andarilhos que carregam segredos esquecidos.",racial_bonus:{INT:2},passive_ability:{name:"Modo Luar",effect:"Sob luz direta da lua visvel, causam o dobro de dano final com qualquer magia."},base_classes:["Mago Negro","Ocultista"]}],PD={races:jD},VD=JSON.parse(`[{"id":"soldado","name":"Soldado","type":"Bsica","role":"Tanque / Suporte de status","description":"Guerreiros de linha de frente, treinados para resistir aos maiores impactos do campo de batalha e desestabilizar o inimigo com habilidades tticas conhecidas como 'Pausas'.","bonus_class":{"CONS":5},"requirements":[],"abilities":[{"name":"Primeiro Socorro","description":"Trata os prprios ferimentos, restaurando 25% do HP.","cost":"N/A","type":"HB"},{"name":"Quebra de Poder","description":"Reduz a FOR do alvo pela metade, por trs turnos.","cost":"N/A","type":"HB"},{"name":"Quebra Magia","description":"Reduz a INT do alvo pela metade, por trs turnos.","cost":"N/A","type":"HB"},{"name":"Quebra de Mana","description":"Reduz a MP do alvo pela metade por trs turnos.","cost":"N/A","type":"HB"},{"name":"Provocar","description":"Inflige FURIA a um alvo.","cost":"N/A","type":"HB"},{"name":"Shieldbearer","description":"Permite ao usurio equipar escudos, mesmo fora da classe Soldado.","cost":"N/A","type":"Passiva"}]},{"id":"mago_branco","name":"Mago Branco","type":"Bsica","role":"Suporte / Cura / Anti-morto-vivo","description":"Especialistas em suporte mgico, sua principal funo  manter o grupo de p com curas poderosas, proteo espiritual e magias de ressuscitao.","bonus_class":{"MP":5},"requirements":[],"abilities":[{"name":"Cure","description":"Cura magicamente os ferimentos do alvo. Restaura 10% do PV e causa dano a mortos-vivos.","cost":"8 MP","type":"Magia"},{"name":"Cura","description":"Restaura magicamente 25% de HP. Causa dano a mortos-vivos.","cost":"18 MP","type":"Magia"},{"name":"Curaga","description":"Restaura magicamente 75% de HP. Causa dano a mortos-vivos.","cost":"32 MP","type":"Magia"},{"name":"Esuna","description":"Remove magicamente os efeitos negativos do alvo.","cost":"10 MP","type":"Magia"},{"name":"Arise","description":"Revive magicamente o alvo, removendo o KO. Causa dano a mortos-vivos.","cost":"40 MP","type":"Magia"},{"name":"Turbo MP","description":"Os feitios custam o dobro de seus MP normais, e do o dobro de dano.","cost":"N/A","type":"Passiva"}]},{"id":"quimico","name":"Qumico","type":"Bsica","role":"Suporte / Manipulador de Itens","description":"Mestres do preparo e uso ttico de poes. Utilizam conhecimentos alqumicos para curar aliados e enfraquecer inimigos.","bonus_class":{"SOR":2,"CAR":3},"requirements":[],"abilities":[{"name":"Preparar Poo","description":"Cria uma poo bsica durante o turno.","cost":"N/A","type":"HB"},{"name":"Arremessar Poo","description":"Permite arremessar qualquer poo equipada em um aliado ou inimigo a at 3 quadrados.","cost":"N/A","type":"HB"},{"name":"Frasco Instvel","description":"Arremessa uma mistura explosiva improvisada que causa dano de elemento aleatrio.","cost":"N/A","type":"HB"},{"name":"Reao em Cadeia","description":"Permite usar duas poes diferentes ao mesmo tempo.","cost":"N/A","type":"HB"},{"name":"Reciclagem Alqumica","description":"Recupera uma poo gasta no combate.","cost":"N/A","type":"HB"},{"name":"Inventrio Estendido","description":"Bolsa exclusiva para poes que no ocupa espao no inventrio padro (at 8 poes).","cost":"N/A","type":"Passiva"}]},{"id":"arqueira","name":"Arqueira","type":"Bsica","role":"Atiradora / Controle de Campo","description":"Especialistas em combate  distncia, treinadas para derrubar inimigos com preciso e neutralizar alvos.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Foco","description":"Aumenta drasticamente a preciso e dobra o dano final do ataque.","cost":"N/A","type":"HB"},{"name":"Acerto na Perna","description":"Causa IMOBILIZAO, impedindo movimentos por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Acerto na Mo","description":"Causa DESARME por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Mira Precisa","description":"Adiciona o atributo SORTE ao dano final do ataque.","cost":"N/A","type":"HB"},{"name":"Apago","description":"Causa CEGUEIRA, reduzindo severamente a chance de acerto do alvo por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Concentrao","description":"Aumenta a chance de acerto em todos os disparos de longa distncia.","cost":"N/A","type":"Passiva"}]},{"id":"esgrimista","name":"Esgrimista","type":"Bsica","role":"Duelista / Assassina de preciso","description":"Combatentes graciosas e letais, treinadas no uso refinado da rapieira.","bonus_class":{"VEL":3,"FOR":2},"requirements":[],"abilities":[{"name":"Picada Venenosa","description":"Causa dano e aplica VENENO ao alvo.","cost":"N/A","type":"HB"},{"name":"Voo da Andorinha","description":"Ataca todos os inimigos ao redor, podendo derrub-los.","cost":"N/A","type":"HB"},{"name":"Golpe Perfurante","description":"Estocada que atravessa o primeiro alvo e atinge um segundo atrs dele.","cost":"N/A","type":"HB"},{"name":"Golpe de Mana","description":"Causa dano e reduz o MP do inimigo.","cost":"N/A","type":"HB"},{"name":"Xeque-mate","description":"Inflige CONDENAO (morte aps 3 turnos).","cost":"N/A","type":"HB"},{"name":"Passos Leves","description":"Pode atravessar reas de gua rasa sem perder mobilidade.","cost":"N/A","type":"Passiva"}]},{"id":"curandeira","name":"Curandeira","type":"Bsica","role":"Suporte / Cura Natural","description":"Guardis da vida e das florestas, conectadas  energia da natureza para curar e proteger.","bonus_class":{"HP":3,"MP":2},"requirements":[],"abilities":[{"name":"Folha Serena","description":"Cura um aliado em 10 de HP.","cost":"8 MP","type":"Magia"},{"name":"Broto Purificador","description":"Remove um status negativo de um aliado.","cost":"18 MP","type":"Magia"},{"name":"Conexo Natural","description":"25% do dano recebido pelo aliado  transferido para a Curandeira por 3 turnos.","cost":"20 MP","type":"Magia"},{"name":"Vinhas Enlaantes","description":"Prende at 3 inimigos, impedindo movimento por 2 turnos.","cost":"24 MP","type":"Magia"},{"name":"Nvoa Vigorosa","description":"Cura leve em todos os aliados prximos (rea 3 blocos).","cost":"35 MP","type":"Magia"},{"name":"Refrigrio da Floresta","description":"30% de chance de conceder Resistncia Natural (+5 ARM ou +5 RES) ao curar.","cost":"N/A","type":"Passiva"}]},{"id":"exilado","name":"Exilado","type":"Bsica","role":"Lutador Adaptvel / Sobrevivente","description":"Viera masculinos banidos que aprenderam a sobreviver por conta prpria, adaptando-se a qualquer arma.","bonus_class":{"Livre":5},"requirements":[],"abilities":[{"name":"Tiro Preciso","description":"Disparo com preciso perfeita (usa SOR).","cost":"N/A","type":"HB (Arco)"},{"name":"Golpe Silencioso","description":"Causa DANO CRTICO automtico se o alvo estiver de costas.","cost":"N/A","type":"HB (Adaga)"},{"name":"Finta Desarmante","description":"Reduz o ATAQUE do inimigo por 2 turnos.","cost":"N/A","type":"HB (Espada)"},{"name":"Ruptura Selvagem","description":"Ignora a DEFESA do inimigo e causa dano elevado.","cost":"N/A","type":"HB (Espado)"},{"name":"Primeiros Socorros","description":"Cura 20% do HP a si mesmo ou aliado.","cost":"N/A","type":"HB"},{"name":"Adaptao de Combate","description":"Pode trocar a arma equipada 1 vez por turno sem custo de ao.","cost":"N/A","type":"Passiva"}]},{"id":"guerreiro","name":"Guerreiro","type":"Bsica","role":"Linha de Frente / Espancador","description":"Muralhas de msculo treinados para esmagar o inimigo com pura fora fsica.","bonus_class":{"CONS":5},"requirements":[],"abilities":[{"name":"Primeiro Socorro","description":"Trata os prprios ferimentos, restaurando 20% do HP.","cost":"N/A","type":"HB"},{"name":"Poder de Rend","description":"Reduz o ATAQUE do alvo.","cost":"N/A","type":"HB"},{"name":"Rend Magick","description":"Reduz a MAGIA do alvo.","cost":"N/A","type":"HB"},{"name":"Batida Corporal","description":"Investida causando dano FOR+CONS, volta 40% do dano a si mesmo.","cost":"N/A","type":"HB"},{"name":"Grito de Guerra","description":"Imobiliza o inimigo por 2 turnos e pode causar medo.","cost":"N/A","type":"HB"},{"name":"Monkey Grip","description":"Permite empunhar armas de duas mos com uma mo s.","cost":"N/A","type":"Passiva"}]},{"id":"monge","name":"Monge","type":"Bsica","role":"Linha de Frente / Espancador","description":"Lutadores que usam o ki e seus prprios corpos como armas letais.","bonus_class":{"FOR":3,"CONS":2},"requirements":[],"abilities":[{"name":"Onda Giratria","description":"Ataque giratrio que atinge todos ao redor em 1 bloco.","cost":"N/A","type":"HB"},{"name":"Pulso de Ar","description":"Soco com ki que causa dano e empurra o alvo 2 blocos.","cost":"N/A","type":"HB"},{"name":"Pulso de Terra","description":"Dano terrestre em linha reta (at 3 blocos).","cost":"N/A","type":"HB"},{"name":"Exploso de Ki","description":"Dano em rea de 2 blocos ao redor do monge.","cost":"N/A","type":"HB"},{"name":"Meditao","description":"Restaura 20% de HP e remove status negativos.","cost":"N/A","type":"HB"},{"name":"Reflexo","description":"50% de chance de desviar de ataques bsicos fsicos.","cost":"N/A","type":"Reao"}]},{"id":"animista","name":"Animista","type":"Bsica","role":"Suporte / Manipulador de Status","description":"Moogles que usam instrumentos e talentos imprevisveis para causar efeitos absurdos no campo.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"L Fofa","description":"Garante status 'Proteo' e 'Shell' por 3 turnos.","cost":"8 MP","type":"Magia"},{"name":"Erva de Gato","description":"Aplica 'BERSERK' no inimigo.","cost":"8 MP","type":"HB"},{"name":"Canto do Sapo","description":"Transforma o alvo em SAPO por 2 turnos.","cost":"22 MP","type":"Magia"},{"name":"Cozinhar","description":"Restaura 50% do HP do Alvo.","cost":"22 MP","type":"HB"},{"name":"Conte Ovelhinhas","description":"Faz todos os inimigos em pequena rea adormecerem.","cost":"15 MP","type":"Magia"},{"name":"Abanar o Rabo","description":"20% de chance de ENCANTAR o atacante quando alvejado.","cost":"N/A","type":"Reao"}]},{"id":"engenheiro","name":"Engenheiro","type":"Bsica","role":"Suporte Aleatrio / Caos Tecnolgico","description":"Gnios insanos que usam aparatos e mecanismos imprevisveis.","bonus_class":{"SOR":3,"INT":2},"requirements":[],"abilities":[{"name":"Box Vermelha","description":"Lana 'Haste' em uma unidade aleatria.","cost":"8 MP","type":"HB"},{"name":"Kit Azul","description":"Lana 'Dissipar' ao colidir com alvo aleatrio.","cost":"8 MP","type":"HB"},{"name":"Chaves Negras","description":"Aplica 'Condenao' em quem for atingido.","cost":"20 MP","type":"HB"},{"name":"Bateria Dourada","description":"Restaura 50% HP em uma unidade aleatria.","cost":"16 MP","type":"HB"},{"name":"Borrifador Verde","description":"Aplica VENENO em uma unidade aleatria na rea.","cost":"8 MP","type":"HB"},{"name":"Ajuste Rpido","description":"Permite reutilizar habilidade que falhou no turno seguinte sem custo de MP.","cost":"N/A","type":"Passiva"}]},{"id":"raptora","name":"Raptora","type":"Bsica","role":"Lutadora de Linha de Frente / Alta Mobilidade","description":"Guerreiras aladas que usam velocidade e instintos aguados para ataques rpidos.","bonus_class":{"FOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Ciclone","description":"Causa dano de vento em rea pequena.","cost":"N/A","type":"HB"},{"name":"Poder de Rend","description":"Reduz o ATAQUE do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Rend Magick","description":"Reduz a MAGIA do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Rend MP","description":"Diminui MP do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Redemoinho","description":"Lminas de vento causam dano e CONFUSO.","cost":"N/A","type":"HB"},{"name":"Salvaguarda","description":"Impede que a arma seja roubada ou destruda.","cost":"N/A","type":"Passiva"}]},{"id":"rastreadora","name":"Rastreadora","type":"Bsica","role":"Caadora / Suporte de Rastreio e Preciso","description":"Mestres da observao que leem o terreno e perseguem presas.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Sonic Boom","description":"Dano sonoro impossvel de desviar.","cost":"N/A","type":"HB"},{"name":"Expulsar","description":"Fora um monstro a fugir do combate.","cost":"N/A","type":"HB"},{"name":"Rastrear","description":"Marca um Monstro como 'presa', causando DANO DOBRADO.","cost":"N/A","type":"HB"},{"name":"Investigar","description":"Revela todas as informaes do alvo.","cost":"N/A","type":"HB"},{"name":"ltimo Tiro","description":"Alto dano com chance de infligir CONDENAO.","cost":"N/A","type":"HB"},{"name":"Sobrevivente","description":"Recebe REGEN quando estiver com 20% de HP ou menos.","cost":"N/A","type":"Passiva"}]},{"id":"espadachim","name":"Espadachim","type":"Bsica","role":"Lutador Verstil / Duelo & Tcnica","description":"Guerreiros disciplinados que combinam preciso fsica e poder mgico na lmina.","bonus_class":{"FOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Corte Cruzado","description":"Dano em rea frontal (arco) em at 3 inimigos.","cost":"N/A","type":"HB"},{"name":"Olhos no Duelo","description":"+25% de dano se enfrentar apenas um inimigo.","cost":"N/A","type":"HB"},{"name":"Corte Etreo","description":"Golpe mgico  distncia (FOR+INT).","cost":"10 MP","type":"HB"},{"name":"Passo Veloz","description":"Move-se para trs do inimigo com +50% de chance de crtico.","cost":"N/A","type":"HB"},{"name":"Trifria","description":"Combo de 3 ataques com chance de Sangramento.","cost":"N/A","type":"HB"},{"name":"Corte Reflexivo","description":"30% de chance de aparar projteis fsicos.","cost":"N/A","type":"Reao"}]},{"id":"ladra","name":"Ladra","type":"Bsica","role":"Furtividade / Roubo","description":"Mestras do furto e agilidade que roubam itens e gil em combate.","bonus_class":{"SOR":3,"CAR":2},"requirements":[],"abilities":[{"name":"Roubar Gil","description":"Tenta roubar dinheiro.","cost":"N/A","type":"HB"},{"name":"Roubar Item","description":"Tenta roubar um item.","cost":"N/A","type":"HB"},{"name":"Roubar Equipamento","description":"Tenta roubar o Equipamento do alvo.","cost":"N/A","type":"HB"},{"name":"Destrancar","description":"Pode destrancar portas ou bas.","cost":"N/A","type":"HB"},{"name":"Golpe Furtivo","description":"Dobro de dano se estiver Escondida.","cost":"N/A","type":"HB"},{"name":"Instinto Possessivo","description":"Evita roubo e tenta roubar a arma do ladro.","cost":"N/A","type":"Reao"}]},{"id":"espreitadora","name":"Espreitadora","type":"Bsica","role":"Furtividade / Infiltrao","description":"Especialistas em camuflagem e eliminao silenciosa.","bonus_class":{"SOR":3,"VEL":2},"requirements":[],"abilities":[{"name":"Ataque Surpresa","description":"Crtico automtico se fora do campo de viso.","cost":"N/A","type":"HB"},{"name":"Rpida e Escondida","description":"Velocidade dobrada quando camuflada.","cost":"N/A","type":"Passiva"},{"name":"Manto Noturno","description":"Aumenta chance de camuflagem  noite.","cost":"N/A","type":"Passiva"},{"name":"Silncio","description":"Aplica Silncio por 3 turnos (apenas camuflada).","cost":"N/A","type":"HB"},{"name":"Derrubada Mortal","description":"Elimina instantaneamente alvo pelas costas (apenas camuflada).","cost":"N/A","type":"HB"},{"name":"Morte Silenciosa","description":"50% de chance de permanecer camuflada aps eliminar alvo.","cost":"N/A","type":"Passiva"}]},{"id":"adestrador","name":"Adestrador","type":"Bsica","role":"Controle de Criaturas / Suporte Ttico","description":"Especialistas em lidar com a vida selvagem, controlando monstros temporariamente.","bonus_class":{"CAR":5},"requirements":[],"abilities":[{"name":"Adestrar","description":"Controla um monstro por 5 turnos.","cost":"N/A","type":"HB"},{"name":"Bater ou Correr","description":"Recebe Haste quando HP chega a 10%.","cost":"N/A","type":"Reao"}]},{"id":"escudeiro","name":"Escudeiro","type":"Bsica","role":"Defensor / Suporte com Itens","description":"Pilares de defesa que protegem aliados e usam itens de suporte.","bonus_class":{"CONS":5},"requirements":[],"abilities":[{"name":"Postura de Defesa","description":"Reduz pela metade o dano recebido at o prximo turno.","cost":"N/A","type":"HB"},{"name":"Apoio Vital","description":"Usa at 2 poes para curar aliados adjacentes.","cost":"N/A","type":"HB"},{"name":"Eu te Protejo!","description":"Salta no aliado que tomar dano e absorve o golpe.","cost":"N/A","type":"Reao"},{"name":"Lanamento Cuidadoso","description":"Arremessa item a at 3 blocos.","cost":"N/A","type":"HB"},{"name":"Grito Protetor","description":"Provoca inimigos forando ataque ao Escudeiro.","cost":"N/A","type":"HB"},{"name":"Reao Instintiva","description":"Usa poo automaticamente ao sofrer golpe com HP baixo.","cost":"N/A","type":"Reao"}]},{"id":"mago_negro","name":"Mago Negro","type":"Bsica","role":"Ofensivo Mgico / Controle Elemental","description":"Conjuradores que dominam a magia elemental destrutiva.","bonus_class":{"INT":3,"MP":2},"requirements":[],"abilities":[{"name":"Fire","description":"Esfera de fogo em rea (alvo + 1 casa cada lado).","cost":"10 MP","type":"Magia"},{"name":"Blizzard","description":"Fragmento congelante perfurante.","cost":"10 MP","type":"Magia"},{"name":"Thunder","description":"Raio direto sobre inimigo e adjacentes.","cost":"10 MP","type":"Magia"},{"name":"Aero","description":"Turbilho de vento em rea.","cost":"10 MP","type":"Magia"},{"name":"Telecinese","description":"Move objeto/unidade at 5 blocos.","cost":"10 MP","type":"Magia"},{"name":"Absorver Mana","description":"Absorve 20% do dano mgico recebido como Mana.","cost":"N/A","type":"Reao"}]},{"id":"ocultista","name":"Ocultista","type":"Bsica","role":"Mago das Sombras / Maldies","description":"Estudiosos do proibido que manipulam trevas e maldies.","bonus_class":{"MP":3,"INT":2},"requirements":[],"abilities":[{"name":"Escurido","description":"Dano mgico de trevas em rea.","cost":"10 MP","type":"Magia"},{"name":"Ritual da Condenao","description":"Aplica CONDENAO no alvo.","cost":"15 MP","type":"Magia"},{"name":"Barreira do Silncio","description":"Aplica SILNCIO no alvo.","cost":"15 MP","type":"Magia"},{"name":"Vu Cego","description":"Aplica CEGUEIRA no alvo.","cost":"15 MP","type":"Magia"},{"name":"Avada Mortis","description":"Tenta aplicar morte instantnea.","cost":"30 MP","type":"Magia"},{"name":"Olhar do Abismo","description":"Aumenta INT aps concluir maldio.","cost":"N/A","type":"Passiva"}]},{"id":"quimico_avancado","name":"Qumico Avanado","type":"Avanada","role":"Suporte / Manipulador de Itens","description":"Evoluo do Qumico, usa reaes elementares e poes ofensivas em rea.","bonus_class":{"SOR":4,"CAR":2},"requirements":["3 Habilidades Mestre em Qumico","+30 SOR"],"abilities":[{"name":"Criar Poo Avanada","description":"Cria poes de qualidade superior.","cost":"N/A","type":"HB"},{"name":"Arremesso Rpido","description":"Arremessa at 3 poes em um movimento.","cost":"N/A","type":"HB"},{"name":"Frasco Venenoso","description":"Libera veneno em rea.","cost":"N/A","type":"HB"},{"name":"Frasco Milagroso","description":"Remove todos status negativos.","cost":"N/A","type":"HB"},{"name":"Dose Grande","description":"Aumenta rea de efeito da poo.","cost":"N/A","type":"HB"},{"name":"Pr-Preparo","description":"Inicia combate com 2 poes prontas.","cost":"N/A","type":"Passiva"}]},{"id":"clerigo","name":"Clrigo","type":"Avanada","role":"Curandeiro de Linha de Frente","description":"Elo entre fora e f, luta na frente enquanto cura aliados.","bonus_class":{"CONS":4,"MANA":2},"requirements":["1 Habilidade Mestre em Soldado","2 Habilidades Mestre em Mago Branco","+20 FOR"],"abilities":[{"name":"Julgamento Divino","description":"Dano sagrado (FOR+Luz).","cost":"20 MP","type":"Magia"},{"name":"Palavras de F","description":"Concede Barreira e Shell.","cost":"15 MP","type":"Magia"},{"name":"Espurgar","description":"Expulsa monstros espirituais.","cost":"25 MP","type":"Magia"},{"name":"Martelo Giratrio","description":"Dano em rea ao redor (CONS+FOR+Luz).","cost":"30 MP","type":"HB"},{"name":"Ruptura Divina","description":"Exploso triangular de luz.","cost":"50 MP","type":"HB"},{"name":"Estou com Voc","description":"Cura auto 10% de aliado adjacente por turno.","cost":"N/A","type":"Passiva"}]},{"id":"alquimista","name":"Alquimista","type":"Avanada","role":"Suporte / Manipulador de Campo","description":"Molda o mundo convertendo solo e energia em poder.","bonus_class":{"INT":4,"MANA":2},"requirements":["2 Habilidades Mestre em Mago Branco","1 Habilidade Mestre em Qumico","+30 INT"],"abilities":[{"name":"Pilar de Pedra","description":"Pilar de rocha atinge inimigo (INT+Terra).","cost":"20 MP","type":"Magia"},{"name":"Canho de Pedra","description":"Projtil de rocha distante.","cost":"20 MP","type":"Magia"},{"name":"Correntes de Solo","description":"Imobiliza inimigo.","cost":"17 MP","type":"Magia"},{"name":"Transmutao Peridica","description":"Altera elemento natural de rea/objeto.","cost":"30 MP","type":"Magia"},{"name":"Golem de Pedra","description":"Cria golem controlvel.","cost":"50 MP","type":"Magia"},{"name":"Muro","description":"Bloqueia ataque com muro de pedra.","cost":"N/A","type":"Reao"}]},{"id":"duelista","name":"Duelista","type":"Avanada","role":"Lutador de Elite / Combate Singular","description":"pice do domnio da espada, focado em preciso e duelos.","bonus_class":{"FOR":4,"VEL":2},"requirements":["3 Habilidades Mestre em Espadachim","+30 FOR","+20 VEL"],"abilities":[{"name":"BackStep","description":"Salta 2 blocos para esquiva.","cost":"N/A","type":"HB"},{"name":"Eu Contra Voc","description":"+50% dano em alvo nico.","cost":"N/A","type":"HB"},{"name":"Chuva de Lminas","description":"Trs cortes de ar consecutivos.","cost":"N/A","type":"HB"},{"name":"Postura de Batalha","description":"Aumenta ataque fsico em 50%.","cost":"N/A","type":"HB"},{"name":"Grande Slash","description":"Golpe que percorre o campo todo.","cost":"N/A","type":"HB"},{"name":"Defesa Contnua","description":"Desvia golpe se FOR > inimigo.","cost":"N/A","type":"Reao"}]},{"id":"iluminista","name":"Iluminista","type":"Avanada","role":"Mago Supremo / Controlador Elemental Global","description":"Concentra energia para ataques globais ou curas totais.","bonus_class":{"INT":5,"MANA":5},"requirements":["5 Habilidades Mestre em Mago Branco","5 Habilidades Mestre em Mago Negro"],"abilities":[{"name":"Piromancia","description":"Dano global de Fogo aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Aquamancia","description":"Dano global de gua aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Raiomancia","description":"Dano global de Trovo aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Whitemancia","description":"Cura global 50% HP aps 1 rodada.","cost":"50 MP","type":"Magia"},{"name":"Tretamancia","description":"Plasma linear de ponta a ponta.","cost":"50 MP","type":"Magia"},{"name":"Ritual Seguro","description":"Ativa Barreira/Veloz ao ser alvejado conjurando.","cost":"N/A","type":"Reao"}]},{"id":"oppenheir","name":"Oppenheir","type":"Avanada","role":"Mestre Qumico / Manipulador da Destruio","description":"Alquimia levada ao limite de exploses e reaes em cadeia.","bonus_class":{"SOR":10},"requirements":["5 Habilidades Mestre em Qumico","5 Habilidades Mestre em Qumico Avanado"],"abilities":[{"name":"Reao Altrusta","description":"Exploso de cura e remoo de status.","cost":"N/A","type":"HB"},{"name":"Nuvem Txica","description":"Veneno em rea e reduz preciso.","cost":"N/A","type":"HB"},{"name":"Ignis Vitae","description":"Chamas conscientes perseguidoras.","cost":"N/A","type":"HB"},{"name":"Fragmento Celular","description":"Microexploso de dano massivo.","cost":"N/A","type":"HB"},{"name":"Bomba Atmica","description":"Exploso que elimina todos no campo (exceto cobertura).","cost":"N/A","type":"HB"},{"name":"Entropia Perfeita","description":"Chance de remover penalidades ao explodir.","cost":"N/A","type":"Passiva"}]},{"id":"eremita","name":"Eremita","type":"Avanada","role":"Tanque / Protetor Espiritual","description":"Sacerdote de batalha que converte dano em sacrifcio e proteo.","bonus_class":{"CONS":10},"requirements":["5 Habilidades Mestre em Clrigo","+100 CONS"],"abilities":[{"name":"F ao Meu Redor","description":"Aura cura 50% HP aliados prximos.","cost":"N/A","type":"HB"},{"name":"F do Sol","description":"Raio solar expurga mortos-vivos e queima.","cost":"N/A","type":"HB"},{"name":"F da Lua","description":"Cura 100% HP aliados prximos.","cost":"N/A","type":"HB"},{"name":"F do Ferro","description":"Concede Shell+ e Barreira+.","cost":"N/A","type":"HB"},{"name":"F do Brbaro","description":"Provoca inimigos e soma CONS ao dano.","cost":"N/A","type":"HB"},{"name":"Aquele que Me Protege","description":"Converte 20% do dano recebido em cura.","cost":"N/A","type":"Passiva"}]},{"id":"arquidenio","name":"Arquidnio","type":"Avanada","role":"Suporte / Manipulador de Probabilidades","description":"Mago matemtico que manipula valores e estatsticas de combate.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Alquimista","+100 INT"],"abilities":[{"name":"O Dobro","description":"Dobra qualquer valor por 1 turno.","cost":"50 MP","type":"Magia"},{"name":"Pela Metade","description":"Divide qualquer valor por 2.","cost":"50 MP","type":"Magia"},{"name":"100%","description":"Garante acerto absoluto.","cost":"70 MP","type":"Magia"},{"name":"0%","description":"Anula valor ou chance a 0.","cost":"70 MP","type":"Magia"},{"name":"Septania","description":"Multiplica valor por 7x.","cost":"100 MP","type":"Magia"},{"name":"Lgica Perfeita","description":"Resultado natural 20 uma vez por batalha.","cost":"N/A","type":"Passiva"}]},{"id":"samurai","name":"Samurai","type":"Avanada","role":"Ofensivo / Especialista em Duelo","description":"Guerreiro disciplinado que une velocidade e fora em cortes perfeitos.","bonus_class":{"FOR":5,"VEL":5},"requirements":["5 Habilidades Mestre em Espadachim","5 Habilidades Mestre em Duelista"],"abilities":[{"name":"Saque Rpido","description":"Duplica FOR e VEL por 1 turno.","cost":"N/A","type":"HB"},{"name":"Furaco da Folha","description":"Tornado de cortes em linha reta.","cost":"N/A","type":"HB"},{"name":"Olhos de Falco","description":"Soma FOR + SOR contra alvo.","cost":"N/A","type":"HB"},{"name":"Corte do Drago","description":"Golpe instantneo. 20 natural elimina alvo.","cost":"N/A","type":"HB"},{"name":"Cu Limpo","description":"Corte vertical colossal aps preparao.","cost":"N/A","type":"HB"},{"name":"Empunhadura Dupla","description":"Pode empunhar duas armas.","cost":"N/A","type":"Passiva"}]},{"id":"gladiador","name":"Gladiador","type":"Avanada","role":"Linha de Frente / Controle e Fora Bruta","description":"Colosso de arena que luta por glria e brutalidade.","bonus_class":{"FOR":4,"CONS":2},"requirements":["2 Habilidades Mestre em Guerreiro","+30 FOR"],"abilities":[{"name":"Grito Selvagem","description":"Aumenta FOR e provoca inimigos.","cost":"N/A","type":"HB"},{"name":"Investida de Escudo","description":"Dano de impacto com escudo.","cost":"N/A","type":"HB"},{"name":"Espancamento","description":"5 golpes consecutivos, pode imobilizar.","cost":"N/A","type":"HB"},{"name":"Espada Flamejante","description":"Causa Queimadura com ataques fsicos.","cost":"N/A","type":"HB"},{"name":"Postura de Luta","description":"Evita ataques e contra-ataca.","cost":"N/A","type":"HB"},{"name":"Escudeiro","description":"Pode usar escudos em qualquer classe.","cost":"N/A","type":"Passiva"}]},{"id":"artista_marcial","name":"Artista Marcial","type":"Avanada","role":"Linha de Frente / Especialista em Combos","description":"Especialista em golpes precisos e canalizao de fora vital.","bonus_class":{"VEL":4,"CONS":2},"requirements":["2 Habilidades Mestre em Monge","+30 VEL"],"abilities":[{"name":"Combo do Tigre","description":"3 golpes, dano aumenta a cada acerto.","cost":"N/A","type":"HB"},{"name":"Golpe Serpenteante","description":"Aproximao em zigue-zague e crtico.","cost":"N/A","type":"HB"},{"name":"Palma Sagrada","description":"Golpe de dano puro que ignora armadura.","cost":"N/A","type":"HB"},{"name":"Passo do Vento","description":"Teleporte curto e ataque surpresa.","cost":"N/A","type":"HB"},{"name":"Punhos do Drago","description":"5 golpes simultneos com chance de atordoar.","cost":"N/A","type":"HB"},{"name":"Esprito Indomvel","description":"Ganha FOR e VEL quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"lanceiro","name":"Lanceiro","type":"Avanada","role":"Ofensivo / Alcance e Preciso","description":"Predador de longo alcance com lanas.","bonus_class":{"VEL":4,"SOR":2},"requirements":["2 Habilidades Mestre em Guerreiro","+30 VEL"],"abilities":[{"name":"Ponta Longa","description":"Estende alcance para 4 blocos.","cost":"N/A","type":"HB"},{"name":"Dardo de Javali","description":"Arremessa a lana perfurando linha reta.","cost":"N/A","type":"HB"},{"name":"Jump","description":"Salta e cai sobre inimigo com dano alto.","cost":"N/A","type":"HB"},{"name":"Barreira de Cabo","description":"Empurra inimigos adjacentes.","cost":"N/A","type":"HB"},{"name":"Ponta Perfurante","description":"Golpe linear que perfura alvos.","cost":"N/A","type":"HB"},{"name":"Rpido como uma Lana","description":"Converte VEL em dano quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"lutador_de_rua","name":"Lutador de Rua","type":"Avanada","role":"Ofensivo / Anti-Honra","description":"Brigo desonesto que usa fora bruta e truques sujos.","bonus_class":{"Livre":6},"requirements":["2 Habilidades Mestre em Monge","1 Habilidade Mestre em outra classe"],"abilities":[{"name":"Vou te Arrebentar!","description":"+20% dano contra alvo marcado.","cost":"N/A","type":"HB"},{"name":"Lariat de Msculos","description":"Golpe de brao com chance de Atordoar.","cost":"N/A","type":"HB"},{"name":"Soco na Costela","description":"Finta e golpe crtico preciso.","cost":"N/A","type":"HB"},{"name":"Rasteira Malandra","description":"Aplica Imobilizado.","cost":"N/A","type":"HB"},{"name":"Sequncia de Raiva","description":"5 ataques e entra em Fria.","cost":"N/A","type":"HB"},{"name":"Covarde","description":"Dobra VEL para fugir quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"vinking","name":"Vinking","type":"Avanada","role":"Brbaro Mstico","description":"Guerreiro ancestral guiado por troves e fria divina.","bonus_class":{"FOR":4,"CONS":2},"requirements":["3 Habilidades Mestre em Gladiador","+50 FOR","+50 CONS"],"abilities":[{"name":"Marchar de Heimdall","description":"Dobra VEL prpria e de aliados.","cost":"N/A","type":"HB"},{"name":"Trovo de Thor","description":"Raio cai a distncia.","cost":"N/A","type":"HB"},{"name":"Confronto de Tyr","description":"Dobra FOR por 5 turnos.","cost":"N/A","type":"HB"},{"name":"Ma de Iduna","description":"Recupera 80% HP e remove status.","cost":"N/A","type":"HB"},{"name":"Por Odin!","description":"Aumenta todos atributos por 1 turno.","cost":"N/A","type":"HB"},{"name":"At Valhalla","description":"Converte CONS em FOR quando HP baixo.","cost":"N/A","type":"Passiva"}]},{"id":"templario","name":"Templrio","type":"Avanada","role":"Mobilidade Extrema / Linha de Frente","description":"Soldado perfeito que domina o campo com lana e velocidade.","bonus_class":{"VEL":4,"CONS":2},"requirements":["3 Habilidades Mestre em Lanceiro","+50 VEL","+50 FOR"],"abilities":[{"name":"Salto Rpido","description":"Teleporte para qualquer parte do mapa.","cost":"N/A","type":"HB"},{"name":"Avano Perfurante","description":"Avano linear perfurante.","cost":"N/A","type":"HB"},{"name":"Dardos Perfurantes","description":"5 ataques em sequncia.","cost":"N/A","type":"HB"},{"name":"Lana Flamejante","description":"Adiciona Fogo aos ataques.","cost":"N/A","type":"HB"},{"name":"Dardo do Drago","description":"Arremesso perfurante em linha reta.","cost":"N/A","type":"HB"},{"name":"Lana Giratria","description":"Evita ataques  distncia.","cost":"N/A","type":"Reao"}]},{"id":"mestre_artes_marciais","name":"Mestre das Artes Marciais","type":"Avanada","role":"Duelista / Manipulador de Ki","description":"Harmonia total entre corpo e Ki.","bonus_class":{"CONS":4,"Livre":2},"requirements":["5 Habilidades Mestre em Monge","5 Habilidades Mestre em Artista Marcial"],"abilities":[{"name":"Dana do Carvalho Vermelho","description":"Combo de 5 golpes de vento.","cost":"N/A","type":"HB"},{"name":"Palma do Drago","description":"Ondas de ar  distncia.","cost":"N/A","type":"HB"},{"name":"Teken","description":"Dobra ARM e RES por 5 turnos.","cost":"N/A","type":"HB"},{"name":"Dana do Sabugueiro Marrom","description":"Reduz ARM do alvo pela metade.","cost":"N/A","type":"HB"},{"name":"Dana do Esprito Branco","description":"Clone dobra aes por 2 turnos.","cost":"N/A","type":"HB"},{"name":"Intuio de Ki","description":"Imune a surpresas.","cost":"N/A","type":"Passiva"}]},{"id":"brutamontes","name":"Brutamontes","type":"Avanada","role":"Tanque Ofensivo","description":"Muralha do submundo que protege e esmaga.","bonus_class":{"CAR":4,"SOR":2},"requirements":["5 Habilidades Mestre em Lutador de Rua","100 FOR"],"abilities":[{"name":"No Vai Passar","description":"Bloqueia avano inimigo e dobra defesa.","cost":"N/A","type":"HB"},{"name":"Lariat Duplo","description":"Arrasta inimigos adjacentes.","cost":"N/A","type":"HB"},{"name":"Emboscada","description":"Recupera HP e contra-ataca quem aproximar.","cost":"N/A","type":"HB"},{"name":"Pose do Brutamontes","description":"Salto esmagador com onda de choque.","cost":"N/A","type":"HB"},{"name":"Manda-Chuva","description":"Buffa aliados e debuffa inimigos em rea.","cost":"N/A","type":"HB"},{"name":"Fraco Demais","description":"Nega dano menor que sua FOR.","cost":"N/A","type":"Passiva"}]},{"id":"cavaleiro_dragao","name":"Cavaleiro Drago","type":"Avanada","role":"Caador de Drages / Ofensivo Elemental","description":"Guerreiros que usam poderes de drago.","bonus_class":{"CONS":5,"BonusDanoDragao":"20%"},"requirements":["Eliminar um Drago"],"abilities":[{"name":"Bafo do Drago Vermelho","description":"Fogo em rea triangular.","cost":"N/A","type":"HB"},{"name":"Garras do Drago Ciano","description":"Golpe de gelo com avano.","cost":"N/A","type":"HB"},{"name":"Salto do Drago Amarelo","description":"Salto eltrico (1 turno no ar).","cost":"N/A","type":"HB"},{"name":"Beno do Drago Azul","description":"Cura 50% HP.","cost":"N/A","type":"HB"},{"name":"Energia do Drago Branco","description":"Raio de luz linear.","cost":"N/A","type":"HB"},{"name":"Aura de Drago","description":"Monstros fracos sentem medo.","cost":"N/A","type":"Passiva"}]},{"id":"dragonslayer","name":"Dragonslayer","type":"Avanada","role":"Anti-Drago / Executador","description":"Arma final contra drages, capaz de subjugar feras colossais.","bonus_class":{"FOR":6,"BonusDanoDragao":"60%"},"requirements":["5 Habilidades Mestre em Cavaleiro Drago"],"abilities":[{"name":"Sopro do Drago Esmeralda","description":"Nuvem txica em rea.","cost":"N/A","type":"HB"},{"name":"Rasante do Drago Prateado","description":"Rasante de vento linear mapa todo.","cost":"N/A","type":"HB"},{"name":"Escamas do Drago Ouro","description":"Dobra ARM e RES.","cost":"N/A","type":"HB"},{"name":"Tremor do Drago de Bronze","description":"Estacas de pedra e tremor.","cost":"N/A","type":"HB"},{"name":"Ameaa do Drago Negro","description":"Miasma negra aplica Condenao.","cost":"N/A","type":"HB"},{"name":"Escamas Elementais","description":"Absorve dano elemental convertendo em CONS.","cost":"N/A","type":"Passiva"}]},{"id":"xama","name":"Xam","type":"Avanada","role":"Debuff / Manipulador de Caos","description":"Lida com foras ocultas e ancestrais dos pntanos.","bonus_class":{"MANA":3,"CONS":2},"requirements":["2 Habilidades Mestre em Curandeiro","+30 MANA"],"abilities":[{"name":"Xabala Cegaris","description":"Cega alvo por 5 turnos.","cost":"15 MP","type":"Magia"},{"name":"Ziriki Sileci","description":"Silencia alvo por 5 turnos.","cost":"15 MP","type":"Magia"},{"name":"Urucubaca","description":"Aplica Envenenamento.","cost":"20 MP","type":"Magia"},{"name":"Ianhamaj","description":"Imobiliza alvo por 5 turnos.","cost":"20 MP","type":"Magia"},{"name":"Zakarinhad","description":"Aplica Condenao.","cost":"30 MP","type":"Magia"},{"name":"Oshala","description":"Imune a status negativos.","cost":"N/A","type":"Passiva"}]},{"id":"monge_do_pantano","name":"Monge do Pntano","type":"Avanada","role":"Lutador de Terreno / Porradeiro","description":"Canaliza a densidade do pntano em golpes pesados.","bonus_class":{"CONS":3,"FOR":2},"requirements":["1 Habilidade Mestre em Curandeiro","1 Habilidade Mestre em Escudeiro","+20 FOR"],"abilities":[{"name":"Soco do Pntano","description":"Golpe aqutico carregado.","cost":"N/A","type":"HB"},{"name":"Barrigada","description":"Esmaga e empurra.","cost":"N/A","type":"HB"},{"name":"Vu do Pntano","description":"Dobra RES por 3 turnos.","cost":"N/A","type":"HB"},{"name":"Abrao do Pntano","description":"Agarro esmagador.","cost":"N/A","type":"HB"},{"name":"Boxe do Pntano","description":"3 golpes consecutivos pantanosos.","cost":"N/A","type":"HB"},{"name":"gua Est Comigo","description":"Dobra dano em terreno de gua.","cost":"N/A","type":"Passiva"}]},{"id":"glutao","name":"Gluto","type":"Avanada","role":"Tank / Absorvedor de Dano","description":"Foras da natureza famintas e indestrutveis.","bonus_class":{"CONS":5},"requirements":["1 Habilidade Mestre em Curandeiro","1 Habilidade Mestre em Escudeiro","+20 CONS"],"abilities":[{"name":"Investida do Sapo","description":"Atropela em linha reta.","cost":"N/A","type":"HB"},{"name":"Descanso do Sapo","description":"Cura e dobra defesa (imvel).","cost":"N/A","type":"HB"},{"name":"Arroto do Sapo","description":"Dano de impacto sonoro.","cost":"N/A","type":"HB"},{"name":"Pulo do Sapo","description":"Esmaga alvo com peso.","cost":"N/A","type":"HB"},{"name":"Vou Te Comer","description":"Devora inimigo com 25% HP ou menos.","cost":"N/A","type":"HB"},{"name":"Boca Sempre Mexendo","description":"Recupera 10% HP se no agir.","cost":"N/A","type":"Passiva"}]},{"id":"protetor","name":"Protetor","type":"Avanada","role":"Tank / Guardio de Campo","description":"Muralhas vivas dedicadas a proteger aliados.","bonus_class":{"CONS":5},"requirements":["2 Habilidades Mestre em Escudeiro","+30 CONS"],"abilities":[{"name":"Eu Tanko, Voc Mata","description":"Absorve 80% do dano de aliado e buffa FOR dele.","cost":"N/A","type":"HB"},{"name":"Investida do Escudo","description":"Corre com escudo e atordoa.","cost":"N/A","type":"HB"},{"name":"Reflexo do Escudo","description":"Escudo ricocheteia em inimigos.","cost":"N/A","type":"HB"},{"name":"Sapo Protetor","description":"Compartilha defesa com aliados ao redor.","cost":"N/A","type":"HB"},{"name":"Escudo de Proteo Areo","description":"Anula prximo dano em aliado.","cost":"N/A","type":"HB"},{"name":"Socorros Rpidos","description":"Salta para tomar golpe por aliado.","cost":"N/A","type":"Reao"}]},{"id":"pai_do_pantano","name":"Pai do Pntano","type":"Avanada","role":"Mago de Terreno / Controle","description":"Tornou-se um com o pntano, controlando razes e mars.","bonus_class":{"MANA":6},"requirements":["5 Habilidades Mestre em Xam","5 Habilidades Mestre em Curandeiro"],"abilities":[{"name":"Razes do Sabugueiro de Ihoa","description":"Imobiliza inimigos em rea.","cost":"50 MP","type":"Magia"},{"name":"Pico dos Pinheiros","description":"Pinheiros empalam inimigos.","cost":"50 MP","type":"Magia"},{"name":"Gota de Orvalho","description":"Cura 100% HP e remove status (rea).","cost":"50 MP","type":"Magia"},{"name":"Primavera Serena","description":"Dobra INT e RES de aliados.","cost":"40 MP","type":"Magia"},{"name":"Mar do Mangue","description":"Empurra inimigos, remove buffs e cura aliados (global).","cost":"100 MP","type":"Magia"},{"name":"Floresta Viva","description":"Razes prendem inimigos engajados.","cost":"N/A","type":"Passiva"}]},{"id":"sabio_do_pantano","name":"Sbio do Pntano","type":"Avanada","role":"Controle de gua / Contra-Golpe","description":"Domina a energia viva do pntano com constituio colossal.","bonus_class":{"CONS":6},"requirements":["5 Habilidades Mestre em Monge do Pntano","+100 CONS"],"abilities":[{"name":"Punho do Pntano","description":"Ataques ganham elemento gua.","cost":"N/A","type":"Passiva"},{"name":"Serpente do Pntano","description":"Ataque linear de gua.","cost":"N/A","type":"HB"},{"name":"AquaReflete","description":"Esfera de gua empurra alvo.","cost":"N/A","type":"HB"},{"name":"Pantanogan","description":"Esfera de gua empurra alvo.","cost":"N/A","type":"HB"},{"name":"Bola de Canho","description":"Projtil vivo de dano massivo.","cost":"N/A","type":"HB"},{"name":"Contra-Corpo","description":"Contra-ataca fsico e empurra.","cost":"N/A","type":"Reao"}]},{"id":"burgues_do_pantano","name":"Burgus do Pntano","type":"Avanada","role":"Tanque / Controle","description":"Suprema ganncia, usa corpo colossal e autoridade.","bonus_class":{"CONS":6},"requirements":["5 Habilidades Mestre em Gluto","+100 CONS"],"abilities":[{"name":"Imposto do Pntano","description":"Rouba 20% HP do alvo e remove buff.","cost":"N/A","type":"HB"},{"name":"Barriga Monrquica","description":"Dobra defesa e bloqueia passagem.","cost":"N/A","type":"HB"},{"name":"Banquete Exclusivo","description":"Cura 100% HP e ganha Fria.","cost":"N/A","type":"HB"},{"name":"Tesouro do Pntano","description":"Exploso de cofre.","cost":"N/A","type":"HB"},{"name":"Decreto de Propriedade","description":"Debuffa inimigos e buffa aliados em rea.","cost":"N/A","type":"HB"},{"name":"Soberania do Pntano","description":"Cura ao aproximar inimigo e aplica Lentido.","cost":"N/A","type":"Passiva"}]},{"id":"guardiao_do_pantano","name":"Guardio do Pntano","type":"Avanada","role":"Tanque / Suporte Supremo","description":"Monlito vivo que ergue muralhas de escudos.","bonus_class":{"CONS":10},"requirements":["5 Habilidades Mestre em Escudeiro","5 Habilidades Mestre em Protetor"],"abilities":[{"name":"Priso de Escudo","description":"Prende alvo em 4 escudos.","cost":"N/A","type":"HB"},{"name":"Dobro de Escudo","description":"Dobra qualquer escudo em jogo.","cost":"N/A","type":"HB"},{"name":"Grande Escudo","description":"Protege rea enorme atrs dele.","cost":"N/A","type":"HB"},{"name":"Escudo Revitalizador","description":"Cura 100% HP rea.","cost":"N/A","type":"HB"},{"name":"Proteo em Grande Escala","description":"Anula prximo dano em TODOS aliados.","cost":"N/A","type":"HB"},{"name":"Proteo Mgica","description":"Usa habilidade de proteo em aliado alvejado.","cost":"N/A","type":"Reao"}]},{"id":"cantor_das_mares","name":"Cantor das Mars","type":"Avanada","role":"Suporte / Buffer Musical","description":"Bardos que usam melodias espirituais.","bonus_class":{"CAR":5},"requirements":["+50 CAR"],"abilities":[{"name":"Cantar","description":"Executa msica do repertrio (efeitos variados).","cost":"N/A","type":"HB"},{"name":"Palco Improvisado","description":"Dobro de efeito se estiver em terreno elevado.","cost":"N/A","type":"Passiva"}]},{"id":"astro_do_pantano","name":"Astro do Pntano","type":"Avanada","role":"Suporte Musical / Manipulador de Moral","description":"cone musical que move multides.","bonus_class":{"CAR":10},"requirements":["Ttulo musical com Cantor das Mars"],"abilities":[{"name":"Mashup","description":"Combina duas msicas simultneas.","cost":"N/A","type":"HB"},{"name":"Charme Musical","description":"Enfeitia atacante.","cost":"N/A","type":"Reao"}]},{"id":"sutileira","name":"Sutileira","type":"Avanada","role":"Roubo de Elite / Suporte Social","description":"Ladras de alta classe, elegantes e imperceptveis.","bonus_class":{"CAR":3,"SOR":2},"requirements":["2 Habilidades Mestre em Ladra","+20 SOR"],"abilities":[{"name":"Roubar Arma Principal","description":"Furta a arma equipada do alvo.","cost":"N/A","type":"HB"},{"name":"Roubar Acessrios","description":"Furta anis/colares.","cost":"N/A","type":"HB"},{"name":"Roubar Item de Luxo","description":"Furta item mais raro.","cost":"N/A","type":"HB"},{"name":"Detectar Armadilhas","description":"Percebe armadilhas em raio de 5 blocos.","cost":"N/A","type":"HB"},{"name":"Famme Fatale","description":"Encanta alvo e pode aplicar Condenao.","cost":"N/A","type":"HB"},{"name":"Mestre dos Assaltos","description":"No ativa armadilhas.","cost":"N/A","type":"Passiva"}]},{"id":"rastreadora_avancada","name":"Rastreadora (Avanada)","type":"Avanada","role":"Dano / Furtividade / Controle","description":"Felinas letais que unem furtividade com caa predatria.","bonus_class":{"SOR":3,"VEL":2},"requirements":["2 Habilidades Mestre em Espreitadora","+20 VEL"],"abilities":[{"name":"Cheiro do Medo","description":"Dobra MOV na direo do alvo.","cost":"N/A","type":"HB"},{"name":"Detectar Fraqueza","description":"Prximo ataque soma SOR ao dano.","cost":"N/A","type":"HB"},{"name":"Colocar Armadilhas","description":"Instala armadilha no campo.","cost":"N/A","type":"HB"},{"name":"Salto da Morte","description":"Ataque de cima com bnus de SOR.","cost":"N/A","type":"HB"},{"name":"Morte em Sequncia","description":"Golpe linear em todos no trajeto.","cost":"N/A","type":"HB"},{"name":"Contra Ataque","description":"Contra-ataca fsico adjacente.","cost":"N/A","type":"Reao"}]},{"id":"kunoichi","name":"Kunoichi","type":"Avanada","role":"Ninjutsu / Controle Elemental","description":"Assassinas discretas que usam iluses e ninjutsu.","bonus_class":{"INT":3,"SOR":2},"requirements":["2 Habilidades Mestre em Ladra","2 Habilidades Mestre em Espreitadora"],"abilities":[{"name":"Arremesso de Kunai","description":"Kunai amplificada com INT.","cost":"N/A","type":"HB"},{"name":"Bomba de Fumaa","description":"Fica camuflada instantaneamente.","cost":"N/A","type":"HB"},{"name":"Genjutsu","description":"Iluso causa Confuso.","cost":"25 MP","type":"Magia"},{"name":"Suiton","description":"Vrtice de gua (INT+gua).","cost":"30 MP","type":"Magia"},{"name":"Doton","description":"Pilar de terra (INT+Terra).","cost":"30 MP","type":"Magia"},{"name":"Clone das Sombras","description":"Clone repete ninjutsu.","cost":"N/A","type":"Passiva"}]},{"id":"chefona","name":"Chefona","type":"Avanada","role":"DPS / Suporte Criminoso","description":"Mandachuva do crime que usa pistolas e capangas.","bonus_class":{"SOR":6},"requirements":["5 Habilidades Mestre em Ladra","5 Habilidades Mestre em Sutileira","+100 SOR"],"abilities":[{"name":"Paredo","description":"Saraivada de balas em alvo.","cost":"N/A","type":"HB"},{"name":"Tiroteio","description":"Tiros em rea ao redor.","cost":"N/A","type":"HB"},{"name":"Estragar o Velrio","description":"Tiro na cabea (morte instantnea) se camuflada.","cost":"N/A","type":"HB"},{"name":"Bora Rapaziada","description":"Buffa MOV e VEL de aliados.","cost":"N/A","type":"HB"},{"name":"Meus Capangas","description":"Invoca 2 capangas.","cost":"N/A","type":"HB"},{"name":"Dois Ferros","description":"Pode usar duas armas de fogo.","cost":"N/A","type":"Passiva"}]},{"id":"assassina","name":"Assassina","type":"Avanada","role":"Eliminadora de Alvos","description":"Lenda das sombras, elimina alvos silenciosamente.","bonus_class":{"SOR":10},"requirements":["5 Habilidades Mestre em Espreitadora","5 Habilidades Mestre em Rastreadora","+100 SOR"],"abilities":[{"name":"Lmina de Veneno","description":"Ataques causam Envenenamento.","cost":"N/A","type":"HB"},{"name":"Sombras Caminhantes","description":"Teleporte via sombras.","cost":"N/A","type":"HB"},{"name":"Tendes Frgeis","description":"Aplica Imobilizado.","cost":"N/A","type":"HB"},{"name":"Instinto Assassino","description":"Causa Medo em alvos com <20% HP.","cost":"N/A","type":"Passiva"},{"name":"Frenesi das Sombras","description":"Fria de sombra, dobra VEL.","cost":"N/A","type":"HB"},{"name":"Minha Garrucha","description":"Finaliza alvo com <15% HP.","cost":"N/A","type":"Reao"}]},{"id":"jounin","name":"Jounin","type":"Avanada","role":"Mestre Elemental / Ttico","description":"Elite ninja que domina ninjutsu avanado.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Kunoichi","+100 INT"],"abilities":[{"name":"Futon","description":"5 lminas de ar em alvos diversos.","cost":"50 MP","type":"Magia"},{"name":"Raiton","description":"5 troves em alvos diversos.","cost":"50 MP","type":"Magia"},{"name":"Katon","description":"Esfera de fogo linear larga.","cost":"50 MP","type":"Magia"},{"name":"Embuir Arma","description":"Infunde arma com elemento.","cost":"30 MP","type":"Magia"},{"name":"Invocao","description":"Invoca animal ninja (D20).","cost":"N/A","type":"HB"},{"name":"Substituio","description":"Troca com tronco ao ser alvejada.","cost":"N/A","type":"Reao"}]},{"id":"dancarina","name":"Danarina","type":"Avanada","role":"Performer Mstica","description":"Transforma o campo em palco com performances mgicas.","bonus_class":{"CAR":5},"requirements":["+50 CAR"],"abilities":[{"name":"Danar","description":"Executa performance ligada ao equipamento.","cost":"N/A","type":"HB"},{"name":"Pirueta Defensiva","description":"Chance de esquivar de ataque fsico.","cost":"N/A","type":"Reao"}]},{"id":"odalisca_de_batalha","name":"Odalisca de Batalha","type":"Avanada","role":"Suporte Supremo / DPS Elegante","description":"Danarina de elite com armas exticas e danas agressivas.","bonus_class":{"CAR":10},"requirements":["4 Performances de Danarina"],"abilities":[{"name":"Swicth","description":"Troca equipamento de dana sem gastar ao.","cost":"N/A","type":"HB"},{"name":"Mestre da Dana","description":"Equipa dois instrumentos simultneos.","cost":"N/A","type":"Passiva"}]},{"id":"cavaleira_alada","name":"Cavaleira Alada","type":"Avanada","role":"Duelista Area","description":"Elite militar do cu, mergulha com velocidade devastadora.","bonus_class":{"FOR":3,"VEL":2},"requirements":["3 Habilidades Mestre em Raptora","+30 FOR"],"abilities":[{"name":"Por Glria","description":"Buffa FOR de aliados.","cost":"N/A","type":"HB"},{"name":"Redemoinho de Lmina","description":"Corte circular de vento.","cost":"N/A","type":"HB"},{"name":"Brisa da Guerra","description":"Ataques ganham lmina de vento extra.","cost":"N/A","type":"HB"},{"name":"Slash de Vento","description":"Lmina de ar  distncia.","cost":"N/A","type":"HB"},{"name":"Suplex Aero","description":"Agarra e arremessa inimigo do cu.","cost":"N/A","type":"HB"},{"name":"Escudo Meu","description":"Pode usar escudos.","cost":"N/A","type":"Passiva"}]},{"id":"cacadora_alada","name":"Caadora Alada","type":"Avanada","role":"DPS / Rastreio","description":"Predadora do cu com viso aguada e arco.","bonus_class":{"VEL":3,"SOR":2},"requirements":["3 Habilidades Mestre em Ranged","+30 VEL"],"abilities":[{"name":"Animal Guia","description":"Invoca esprito animal companheiro.","cost":"N/A","type":"HB"},{"name":"Camuflagem","description":"Entra em camuflagem.","cost":"N/A","type":"HB"},{"name":"Saraivada Area","description":"Chuva de flechas em rea.","cost":"N/A","type":"HB"},{"name":"Colocar Armadilhas","description":"Posiciona armadilha.","cost":"N/A","type":"HB"},{"name":"Tiro Avanado","description":"Flecha colossal linear (Arco Grande).","cost":"N/A","type":"HB"},{"name":"Tiro Duplo","description":"Dispara duas flechas por ataque.","cost":"N/A","type":"Passiva"}]},{"id":"terrana","name":"Terrana","type":"Avanada","role":"Lutadora Arcana / Terra","description":"Devotada  fora bruta da terra, usa martelos e magia.","bonus_class":{"INT":3,"MANA":2},"requirements":["1 Habilidade Mestre em Raptora","1 Habilidade Mestre em Ranged","+30 INT"],"abilities":[{"name":"Me Terra","description":"Cura em rea ao bater martelo.","cost":"20 MP","type":"Magia"},{"name":"Fissura Terrana","description":"Cria fissura no solo.","cost":"30 MP","type":"Magia"},{"name":"A Terra Sobre Mim","description":"Armadura de rocha (dobra AMR/RES).","cost":"20 MP","type":"Magia"},{"name":"Pilar do Martelo","description":"Ataque  distncia com pilar.","cost":"40 MP","type":"Magia"},{"name":"Terremoto Aero","description":"Impacto ssmico ao saltar.","cost":"50 MP","type":"Magia"},{"name":"Vibrao do Solo","description":"Detecta inimigos no solo.","cost":"N/A","type":"Passiva"}]},{"id":"devastadora","name":"Devastadora","type":"Avanada","role":"Dano Areo / Linha de Frente","description":"Especialista em combate areo com espades colossais.","bonus_class":{"FOR":4,"VEL":2},"requirements":["5 Habilidades Mestre em Raptora","5 Habilidades Mestre em Cavaleira Alada","+100 FOR"],"abilities":[{"name":"Ventania do Espado","description":"Empurra alvos com vento.","cost":"N/A","type":"HB"},{"name":"Arrasante Cortante","description":"Corte em alta velocidade.","cost":"N/A","type":"HB"},{"name":"Furaco de Lminas","description":"Tornado de lminas em rea.","cost":"N/A","type":"HB"},{"name":"Rpida e Veloz","description":"Dobra VEL.","cost":"N/A","type":"HB"},{"name":"Corte da Montanha","description":"Corte colossal de vento.","cost":"N/A","type":"HB"},{"name":"Contra-ataque do Vento","description":"Rebate fsico e empurra.","cost":"N/A","type":"Reao"}]},{"id":"atiradora_dos_ceus","name":"Atiradora dos Cus","type":"Avanada","role":"DPS Area","description":"Caadora suprema que domina territrios do ar.","bonus_class":{"VEL":4,"SOR":2},"requirements":["5 Habilidades Mestre em Ranged","5 Habilidades Mestre em Caadora Alada","+100 VEL"],"abilities":[{"name":"Ataque Areo","description":"Disparo vertical preciso.","cost":"N/A","type":"HB"},{"name":"Reposicionamento Areo","description":"Voo rpido e ataque.","cost":"N/A","type":"HB"},{"name":"Bombardeio Areo","description":"Atinge inimigos no trajeto de voo.","cost":"N/A","type":"HB"},{"name":"Alvo Marcado","description":"Marca alvo adicionando SOR ao dano.","cost":"N/A","type":"HB"},{"name":"Alvos Certeiros","description":"Tiros perfeitos em 5 alvos.","cost":"N/A","type":"HB"},{"name":"Minha Flecha  Melhor","description":"Desvia de projtil e contra-ataca.","cost":"N/A","type":"Reao"}]},{"id":"geomancer","name":"Geomancer","type":"Avanada","role":"Maga Elemental / Joias","description":"Maga que desperta poder oculto de joias antigas.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Terrana","+100 INT"],"abilities":[{"name":"Ressonncia","description":"Disparo elemental da joia.","cost":"30 MP","type":"Magia"},{"name":"Jia Equipada","description":"Engata joia na arma (dano elemental).","cost":"N/A","type":"HB"},{"name":"Joia Astral","description":"Buff poderoso da joia.","cost":"30 MP","type":"Magia"},{"name":"Sacrifcio da Jia","description":"Destri joia para duplicar efeito.","cost":"40 MP","type":"Magia"},{"name":"Triplo Gen","description":"Feixe combinado de 3 joias.","cost":"70 MP","type":"Magia"},{"name":"Joalheira","description":"Troca de joias sem gastar ao.","cost":"N/A","type":"Passiva"}]},{"id":"demon","name":"Demon","type":"Avanada","role":"Ameaa / Controle","description":"Guerreiras marcadas pela morte, brutais e imprevisveis.","bonus_class":{"Livre":5},"requirements":["Voltar da morte 10 vezes"],"abilities":[{"name":"Rugido do Demnio","description":"Aplica Medo em rea.","cost":"N/A","type":"HB"},{"name":"Vampirismo","description":"Rouba HP do alvo.","cost":"N/A","type":"HB"},{"name":"Consumir Arma","description":"Destri arma para ganhar status.","cost":"N/A","type":"HB"},{"name":"Embuir Demon","description":"Infunde arma com escurido.","cost":"N/A","type":"HB"},{"name":"Demon Ark","description":"Aplica Medo/Condenao/Morte.","cost":"N/A","type":"HB"},{"name":"Mestre de Armas","description":"Equipa arma instantaneamente.","cost":"N/A","type":"Passiva"}]},{"id":"lord_demon","name":"Lord Demon","type":"Avanada","role":"Senhora da Morte","description":"pice da linhagem demonaca, comanda almas.","bonus_class":{"Livre":10},"requirements":["5 Habilidades Mestre em Demon","Colher 100 almas"],"abilities":[{"name":"Dark Esfera","description":"Absorve alma de inimigos com Medo.","cost":"N/A","type":"HB"},{"name":"Colheita","description":"Suga alma de alvo com Medo (Morte).","cost":"N/A","type":"HB"},{"name":"Aura da Lord","description":"Dobra RES e fora Medo.","cost":"N/A","type":"HB"},{"name":"Dark Arma","description":"Lana armas sacrificadas.","cost":"N/A","type":"HB"},{"name":"ltimo Rugido","description":"Medo global e morte em quem j tem.","cost":"N/A","type":"HB"},{"name":"Tenha Medo de Mim","description":"Chance de aplicar Medo ao receber dano.","cost":"N/A","type":"Reao"}]},{"id":"magos_elementais","name":"Magos Elementais","type":"Avanada","role":"DPS Mgico de rea","description":"Umbros que transformam magia em cataclismos.","bonus_class":{"INT":3,"MANA":2},"requirements":["3 Habilidades Mestre em Mago Negro","+30 INT"],"abilities":[{"name":"Fire+","description":"Exploso de fogo grande rea.","cost":"20 MP","type":"Magia"},{"name":"Blizzard+","description":"Estilhaos de gelo grande rea.","cost":"20 MP","type":"Magia"},{"name":"Thunder+","description":"Trovo colossal em rea.","cost":"20 MP","type":"Magia"},{"name":"Maremoto","description":"Onda empurra inimigos.","cost":"40 MP","type":"Magia"},{"name":"Trifsico","description":"Combina 3 elementos em exploso.","cost":"50 MP","type":"Magia"},{"name":"Manto Refletor","description":"Reflete magia com 50% dano.","cost":"N/A","type":"Reao"}]},{"id":"arcanistas","name":"Arcanistas","type":"Avanada","role":"Maldies / Invocador","description":"Preservam artes proibidas e invocam demnios.","bonus_class":{"MANA":3,"INT":2},"requirements":["3 Habilidades Mestre em Ocultista","+50 MANA"],"abilities":[{"name":"Escurido+","description":"Exploso de trevas.","cost":"25 MP","type":"Magia"},{"name":"Cruz Mana","description":"Drena Mana.","cost":"30 MP","type":"Magia"},{"name":"Sentidus Mortis","description":"Remove sentidos (Silncio/Cegueira).","cost":"40 MP","type":"Magia"},{"name":"Petrificatis","description":"Petrifica alvo.","cost":"40 MP","type":"Magia"},{"name":"Invocar Demnio Menor","description":"Invoca demnio (D20).","cost":"50 MP","type":"Magia"},{"name":"Pacto","description":"Dobra VEL e RES com demnio ativo.","cost":"N/A","type":"Passiva"}]},{"id":"malandro","name":"Malandro","type":"Avanada","role":"Suporte Social / Manipulao","description":"Usa lbia e cartas para manipular o campo.","bonus_class":{"CAR":3,"SOR":2},"requirements":["+20 CAR"],"abilities":[{"name":"Fala Positiva","description":"Dobra atributo de alvo.","cost":"N/A","type":"HB"},{"name":"Fala Negativa","description":"Reduz atributo pela metade.","cost":"N/A","type":"HB"},{"name":"Carta Voadora","description":"Carta ricocheteia em alvos.","cost":"N/A","type":"HB"},{"name":"Carta Marcada","description":"Dobra dano recebido pelo alvo.","cost":"N/A","type":"HB"},{"name":"Malabarismo de Cartas","description":"Impede movimentos em rea.","cost":"N/A","type":"HB"},{"name":"Fala Mansa","description":"Chance de convencer atacante a desistir.","cost":"N/A","type":"Reao"}]},{"id":"arquimagos","name":"Arquimagos","type":"Avanada","role":"DPS Mgico Supremo","description":"Moldam elementos, invocando meteoros e tempestades.","bonus_class":{"INT":10},"requirements":["5 Habilidades Mestre em Mago Negro","5 Habilidades Mestre em Mago Elemental","+100 INT"],"abilities":[{"name":"Meteoro","description":"Destruio massiva em rea.","cost":"100 MP","type":"Magia"},{"name":"Vrtex de Fogo","description":"Vrtex que queima rea por turnos.","cost":"50 MP","type":"Magia"},{"name":"Chuva de Raios","description":"Atinge inimigos aleatrios por turnos.","cost":"50 MP","type":"Magia"},{"name":"Nevasca Afiada","description":"Estalactites aleatrias por turnos.","cost":"50 MP","type":"Magia"},{"name":"Super Lua","description":"Lua cura aliados e permanece.","cost":"80 MP","type":"Magia"},{"name":"OVER LUNA","description":"Ignora RES sob efeito da Lua.","cost":"N/A","type":"Passiva"}]},{"id":"necromago","name":"Necromago","type":"Avanada","role":"Controle Absoluto / Necromancia","description":"Traz mortos e usa rituais profanos.","bonus_class":{"MANA":10},"requirements":["5 Habilidades Mestre em Ocultista","5 Habilidades Mestre em Arcanista","+100 INT"],"abilities":[{"name":"Necromancia","description":"Controla alma cada.","cost":"70 MP","type":"Magia"},{"name":"Mortis Dorner","description":"Tenta Morte Instantnea.","cost":"40 MP","type":"Magia"},{"name":"Redoma Sentis","description":"Cega e Silencia rea ao redor.","cost":"50 MP","type":"Magia"},{"name":"Invocar Demnio Superior","description":"Invoca demnio brutal (D20).","cost":"90 MP","type":"Magia"},{"name":"Buraco Negro","description":"Remove todos do campo.","cost":"200 MP","type":"Magia"},{"name":"Toque da Morte","description":"Chance de Condenao ao ser atacado.","cost":"N/A","type":"Reao"}]},{"id":"king_street","name":"King Street","type":"Avanada","role":"Controle Mental / Dominao Social","description":"Rei das ruas que controla vontades com a voz.","bonus_class":{"CAR":10},"requirements":["5 Habilidades Mestre em Malandro","+100 CAR"],"abilities":[{"name":"Corra!","description":"Impulsiona mobilidade de alvo.","cost":"N/A","type":"HB"},{"name":"Beleza Sedutora","description":"Encanta alvos em rea.","cost":"N/A","type":"HB"},{"name":"Ajoelhe-se","description":"Obriga inimigos a se ajoelharem.","cost":"N/A","type":"HB"},{"name":" Sua Vez de Novo","description":"Concede ao extra a aliado.","cost":"N/A","type":"HB"},{"name":"Charme do Malandro","description":"Transforma inimigo em aliado.","cost":"N/A","type":"HB"},{"name":"Estrondo Vocal","description":"Atinge todos atributos do alvo.","cost":"N/A","type":"Passiva"}]},{"id":"apostador","name":"Apostador","type":"Avanada","role":"Manipulador de Probabilidades","description":"Usa baralho especial para efeitos aleatrios poderosos.","bonus_class":{"SOR":10},"requirements":["5 Habilidades Mestre em Malandro","+100 SOR"],"abilities":[{"name":"Escolha uma Carta","description":"Puxa carta (D80) com efeito contnuo.","cost":"N/A","type":"HB"},{"name":"Valete Rpido","description":"Dobra status fsicos (Carta Valete).","cost":"N/A","type":"HB"},{"name":"Dama Salvadora","description":"Cura e remove status (Carta Dama).","cost":"N/A","type":"HB"},{"name":"Rei do Poder","description":"Exploso em rea (Carta Rei).","cost":"N/A","type":"HB"},{"name":"s da Sorte","description":"Puxa todas cartas (Carta s).","cost":"N/A","type":"HB"},{"name":"Carta na Manga","description":"Troca carta guardada instantaneamente.","cost":"N/A","type":"Passiva"}]},{"id":"shadow_hunters","name":"Shadow Hunters","type":"Avanada","role":"Invocador Sombrio","description":"Extrai sombras de mortos para lutar.","bonus_class":{"Livre":10},"requirements":["Chegar a 1 HP em batalha 100 vezes"],"abilities":[{"name":"Erga-se","description":"Extrai sombra de cadver como soldado.","cost":"N/A","type":"HB"},{"name":"Sombra Salvadora","description":"Sombra absorve dano fatal.","cost":"N/A","type":"Reao"}]},{"id":"monarca_das_sombras","name":"Monarca das Sombras","type":"Avanada","role":"Exrcito Vivo","description":"Comanda exrcito sombrio sozinho.","bonus_class":{"Livre":10},"requirements":["Possuir 4 sombras no nvel 10"],"abilities":[{"name":"Troca de Sombra","description":"Troca de lugar com sombra.","cost":"N/A","type":"HB"},{"name":"Retorno das Sombras","description":"Cura ao perder sombra.","cost":"N/A","type":"Passiva"}]}]`),LD={classes:VD},zD=()=>{const i=Pi(),e=D.useRef(null),[n,r]=D.useState("carousel"),[o,c]=D.useState(0),[f,m]=D.useState(null),[g,y]=D.useState("female"),[_,E]=D.useState(null),[R,j]=D.useState(!1),[B,L]=D.useState(""),[Q,ie]=D.useState(!1),q=PD.races;D.useEffect(()=>{(async()=>{if(nt.currentUser)try{const k=at(we,"characters",nt.currentUser.uid);(await Nd(k)).exists()&&(console.log("Personagem j existe. Redirecionando..."),i("/jogador-vtt"))}catch(k){console.error("Erro ao verificar personagem:",k)}})()},[i]),D.useEffect(()=>{const S=()=>{document.querySelectorAll("audio, video").forEach(Te=>{if(!(Te.tagName==="VIDEO"&&Te.classList.contains("background-video")))try{Te.pause(),Te.currentTime=0}catch{}})};S();const k=setTimeout(S,500);return()=>clearTimeout(k)},[]),D.useEffect(()=>{if(n==="carousel"&&e.current){const k=window.innerWidth/2-130,w=o*300-k+130;e.current.scrollTo({left:w,behavior:"smooth"})}},[o,n]);const ne=S=>{e.current&&(e.current.scrollLeft+=S.deltaY*4)},pe=S=>{if(!S)return"Nenhum";const k={value:"Valor",detail:"Detalhes",details:"Detalhes",free_points:"Pontos Livres",female:"Feminino",male:"Masculino",male_exiled:"Masculino (Exilado)"};return typeof S=="object"?Object.entries(S).map(([w,Te],De)=>{if(w==="type")return null;const J=k[w]||w.toUpperCase().replace(/_/g," ");let le=Te;return typeof Te=="object"&&(le=JSON.stringify(Te).replace(/["{}]/g,"").replace(/:/g,": ").replace(/,/g,", ")),h.jsxs("div",{className:"mb-1",children:[h.jsxs("span",{className:"text-gray-400 font-bold",children:[J,":"]})," ",h.jsx("span",{className:"text-gray-200",children:le})]},De)}):S},ue=()=>f?typeof f.base_classes=="object"&&!Array.isArray(f.base_classes)?f.id==="viera"?g==="female"?f.base_classes.female:f.base_classes.male||f.base_classes.male_exiled:[]:f.base_classes||[]:[],ge=S=>LD.classes.find(k=>k.name===S),I=()=>{m(q[o]),E(null),r("details")},C=()=>{r("carousel"),E(null)},O=async()=>{if(!(!B.trim()||!nt.currentUser||Q)){ie(!0);try{const S={basic_info:{character_name:B,race:f.name,level:1,experience:{current:0,max:100},guild_insignia:"",special_image:"",guild_rank_image:""},attributes:{FOR:{value:10},INT:{value:10},SOR:{value:10},CAR:{value:10},VEL:{value:10},CONS:{value:10}},status:{hp:{current:20,max:20},mp:{current:10,max:10},arm:{value:0},res:{value:0},mov:{value:3}},inventory:{gil:500,items:[]},equipment:{slots:[{},{},{},{},{},{},{}]},job_system:{primary_class:{name:_,skills:[]},secondary_class:{name:"Nenhuma",skills:[]},reaction_ability:{name:""},passive_ability:{name:""},class_bonus:{value:""}}};await xg(at(we,"characters",nt.currentUser.uid),{uid:nt.currentUser.uid,email:nt.currentUser.email,name:B,race:f.name,class:_,gender:g,createdAt:Fn(),character_sheet:S}),console.log(`Personagem Criado: ${B}`),i("/jogador-vtt")}catch(S){console.error("Erro ao salvar personagem:",S),alert("Falha ao invocar personagem no banco de dados."),ie(!1)}}},P=q[o];return h.jsxs("div",{className:"relative w-full h-screen overflow-hidden",children:[h.jsx("style",{children:`
        @keyframes scaleIn { 0% { transform: scale(0.8); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
        .rpg-modal-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background-color: rgba(0, 0, 0, 0.85); backdrop-filter: blur(8px); z-index: 9999; display: flex; align-items: center; justify-content: center; }
        .rpg-modal-box { position: relative; width: 500px; max-width: 90%; background: #1a120b; border: 2px solid #b45309; box-shadow: 0 0 50px rgba(234, 179, 8, 0.4); padding: 6px; border-radius: 8px; animation: scaleIn 0.3s ease-out forwards; }
        .rpg-modal-inner { background: linear-gradient(to bottom, #f3e6d5, #e7cba8); border: 1px solid #78350f; padding: 40px 20px; border-radius: 4px; text-align: center; display: flex; flex-direction: column; align-items: center; gap: 20px; }
        .rpg-modal-title { font-family: 'Cinzel', serif; font-size: 32px; color: #78350f; font-weight: bold; text-transform: uppercase; text-shadow: 0px 1px 0px rgba(255,255,255,0.6); margin-bottom: 5px; }
        .rpg-modal-subtitle { font-family: 'Cinzel', serif; font-size: 14px; color: #92400e; font-style: italic; border-top: 1px solid rgba(146, 64, 14, 0.3); padding-top: 10px; width: 100%; }
        .rpg-input { width: 100%; padding: 12px; background: #fff8ed; border: 2px solid #854d0e; font-family: 'Cinzel', serif; font-size: 18px; color: #451a03; outline: none; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1); border-radius: 4px; }
        .rpg-input:focus { border-color: #d97706; background: #ffffff; }
        .rpg-btn-go { background: linear-gradient(to bottom, #fcd34d, #d97706); border: 1px solid #92400e; padding: 10px 30px; font-family: 'Cinzel', serif; font-weight: bold; font-size: 18px; color: #451a03; text-transform: uppercase; cursor: pointer; border-radius: 4px; box-shadow: 0 4px 0 #92400e; transition: transform 0.1s; }
        .rpg-btn-go:active { transform: translateY(4px); box-shadow: 0 0 0 #92400e; }
        .rpg-btn-go:disabled { filter: grayscale(1); opacity: 0.6; cursor: not-allowed; }
        .rpg-close-btn { position: absolute; top: 10px; right: 15px; background: none; border: none; font-size: 20px; color: #92400e; cursor: pointer; font-weight: bold; }
        .rpg-close-btn:hover { color: #ff0000; }
        .corner { position: absolute; width: 20px; height: 20px; border-color: #fcd34d; border-style: solid; }
        .tl { top: -2px; left: -2px; border-width: 3px 0 0 3px; }
        .tr { top: -2px; right: -2px; border-width: 3px 3px 0 0; }
        .bl { bottom: -2px; left: -2px; border-width: 0 0 3px 3px; }
        .br { bottom: -2px; right: -2px; border-width: 0 3px 3px 0; }
      `}),h.jsxs("div",{className:"ether-container",children:[h.jsx("div",{className:"ether-vortex"}),h.jsx("div",{className:"ether-particles"})]}),h.jsxs("header",{className:"absolute top-0 w-full p-6 z-50 flex justify-between items-center bg-gradient-to-b from-black/90 to-transparent",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"rpg-title text-3xl",children:"Gnese da Alma"}),h.jsx("p",{className:"rpg-subtitle-styled mt-2",children:n==="carousel"?"Determine sua Linhagem Ancestral":`${f?.name} // Customizao`})]}),n==="details"&&h.jsxs("button",{onClick:C,className:"nav-back-btn",children:[h.jsx("span",{children:""})," Seleo"]})]}),n==="carousel"&&h.jsxs("div",{className:"w-full h-full flex flex-col justify-center animate-[fadeIn_1s]",children:[h.jsx("div",{className:"text-center mb-4 z-10",children:h.jsx("h2",{className:"rpg-title text-5xl text-yellow-500 drop-shadow-lg",children:P.name})}),h.jsx("div",{ref:e,onWheel:ne,className:"carousel-viewport",children:q.map((S,k)=>h.jsxs("div",{onClick:()=>c(k),className:`race-card-frame ${k===o?"active":""}`,children:[h.jsx("img",{src:S.image,alt:S.name}),h.jsx("div",{className:"card-label",children:S.name})]},S.id))}),h.jsx("div",{className:"text-center mt-10 z-10",children:h.jsxs("button",{onClick:I,className:"confirm-btn w-64 mx-auto",children:["Escolher ",P.name]})})]}),n==="details"&&f&&h.jsxs("div",{className:"details-grid",children:[h.jsx("div",{className:"char-portrait-container",children:h.jsx("img",{src:f.image,alt:f.name,className:"char-portrait"})}),h.jsxs("div",{className:"info-scroll-area custom-scrollbar",children:[h.jsxs("div",{className:"glass-panel mt-8 border-l-4 border-yellow-600",children:[h.jsx("h3",{className:"section-header !border-none !mb-2 text-yellow-500",children:"Descrio"}),h.jsxs("p",{className:"description-text",children:['"',f.description,'"']}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-[10px] uppercase text-blue-400 font-bold",children:"Caractersticas"}),h.jsx("p",{className:"text-xs text-gray-400 mt-1",children:f.characteristics})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-[10px] uppercase text-green-400 font-bold",children:"Bnus Racial"}),h.jsx("div",{className:"text-xs text-gray-300 font-mono mt-1",children:pe(f.racial_bonus)})]})]})]}),h.jsxs("div",{className:"glass-panel flex flex-col gap-2",children:[h.jsx("span",{className:"text-xs text-gray-400 uppercase font-bold tracking-widest",children:"Gnero"}),h.jsxs("div",{className:"flex w-full",children:[h.jsx("div",{onClick:()=>{y("female"),E(null)},className:`gender-option ${g==="female"?"active":""}`,children:"Feminino"}),h.jsx("div",{onClick:()=>{y("male"),E(null)},className:`gender-option ${g==="male"?"active":""}`,children:"Masculino"})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"rpg-title text-xl mb-4 text-white",children:"Vocao"}),h.jsx("div",{className:"class-selector-grid",children:ue().map(S=>{const k=ge(S);return h.jsxs("div",{onClick:()=>E(S),className:`class-btn ${_===S?"selected":""}`,children:[h.jsx("span",{className:"class-btn-title",children:S}),h.jsx("span",{className:"class-btn-role",children:k?.role||"Bsico"})]},S)})}),_&&(()=>{const S=ge(_);return S?h.jsxs("div",{className:"class-detail-container",children:[h.jsxs("div",{className:"cd-header",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"cd-title rpg-title",children:S.name}),h.jsxs("div",{className:"cd-meta text-blue-400",children:[S.type," // ",S.role]})]}),h.jsxs("div",{className:"cd-req",children:[h.jsx("span",{className:"cd-req-label",children:"Requisitos"}),h.jsx("div",{className:"cd-req-val",children:S.requirements?.length?S.requirements.join(", "):"Nenhum"})]})]}),h.jsxs("div",{className:"cd-desc",children:['"',S.description,'"']}),h.jsxs("div",{className:"cd-bonus-box",children:[h.jsx("span",{className:"text-xs uppercase font-bold text-blue-300",children:"Bnus de Classe"}),h.jsx("span",{className:"font-mono text-sm text-white",children:pe(S.bonus_class)})]}),h.jsxs("div",{children:[h.jsx("h5",{className:"text-xs uppercase text-yellow-500 font-bold mb-3 tracking-wider border-b border-white/10 pb-1 inline-block",children:"Habilidades Iniciais"}),h.jsx("div",{className:"cd-abilities-grid",children:S.abilities?.map((k,w)=>h.jsxs("div",{className:"cd-ability-card",children:[h.jsxs("div",{className:"cd-ab-header",children:[h.jsx("span",{className:"cd-ab-name",children:k.name}),h.jsx("span",{className:"cd-ab-cost",children:k.cost})]}),h.jsx("p",{className:"cd-ab-desc",children:k.description})]},w))})]})]}):h.jsx("div",{className:"p-4 text-center",children:"Carregando..."})})()]}),h.jsx("div",{className:"mt-8 mb-10",children:h.jsx("button",{disabled:!_,onClick:()=>j(!0),className:"confirm-btn",children:_?"Finalizar Criao":"Selecione uma Vocao"})})]})]}),R&&h.jsx("div",{className:"rpg-modal-overlay",children:h.jsxs("div",{className:"rpg-modal-box",children:[h.jsx("div",{className:"corner tl"}),h.jsx("div",{className:"corner tr"}),h.jsx("div",{className:"corner bl"}),h.jsx("div",{className:"corner br"}),h.jsxs("div",{className:"rpg-modal-inner",children:[h.jsxs("div",{className:"w-full",children:[h.jsx("h3",{className:"rpg-modal-title",children:"Identidade"}),h.jsx("p",{className:"rpg-modal-subtitle",children:"Como a histria o conhecer?"})]}),h.jsxs("div",{className:"w-full flex gap-2",children:[h.jsx("input",{type:"text",value:B,onChange:S=>L(S.target.value),placeholder:"Nome do Aventureiro",className:"rpg-input",autoFocus:!0}),h.jsx("button",{onClick:O,disabled:!B.trim()||Q,className:"rpg-btn-go",children:Q?"...":"GO"})]}),h.jsx("button",{className:"rpg-close-btn",onClick:()=>j(!1),children:""})]})]})})]})},UD="/FF-12Liberation/assets/fundo-jogador-nsWQkznx.jpg",BD="/FF-12Liberation/assets/level-up-BOEM_DXL.mp3",HD=({targetDate:i,onComplete:e})=>{const[n,r]=D.useState("");return D.useEffect(()=>{const o=setInterval(()=>{const c=new Date().getTime(),f=new Date(i).getTime()-c;if(f<0)clearInterval(o),e&&e(),r("AGORA");else{const m=Math.floor(f/864e5),g=Math.floor(f%(1e3*60*60*24)/(1e3*60*60)),y=Math.floor(f%(1e3*60*60)/(1e3*60)),_=Math.floor(f%(1e3*60)/1e3);r(`${m}d ${g}h ${y}m ${_}s`)}},1e3);return()=>clearInterval(o)},[i,e]),h.jsx("span",{className:"countdown-text",children:n})};function qD(){const i=Pi(),[e,n]=D.useState(null),[r,o]=D.useState(!0),[c,f]=D.useState([]),[m,g]=D.useState([]),[y,_]=D.useState([]),[E,R]=D.useState(!1),[j,B]=D.useState(!1),[L,Q]=D.useState(null),[ie,q]=D.useState([]),[ne,pe]=D.useState(!1),[ue,ge]=D.useState(null),[I,C]=D.useState(null),[O,P]=D.useState(null),[S,k]=D.useState(!1),[w,Te]=D.useState(!1),De=D.useRef(null),J=D.useRef(new Audio(BD));D.useEffect(()=>{J.current.volume=.2},[]),D.useEffect(()=>{let N=()=>{},Y=()=>{};const se=Wd(nt,oe=>{if(oe){const he=at(we,"characters",oe.uid);N=Dn(he,Ne=>{if(Ne.exists()){const Ge=Ne.data(),ke=Ge.character_sheet?.basic_info?.level||1;De.current!==null&&ke>De.current&&(Te(!0),J.current.currentTime=0,J.current.play().catch(mt=>console.log("Autoplay bloqueado:",mt))),De.current=ke,n(Ge),o(!1)}else o(!1)});const ve=On(Dt(we,"missoes"));Y=Dn(ve,Ne=>{f(Ne.docs.map(Ge=>({id:Ge.id,...Ge.data()})))})}else o(!1),i("/login")});return()=>{se(),N(),Y()}},[i]),D.useEffect(()=>{if(!e)return;const N=On(Dt(we,"sessoes"),Sa("participantes","array-contains",e.name)),Y=Dn(N,he=>{const ve=new Date,Ne=he.docs.map(mt=>({id:mt.id,...mt.data()})),Ge=[],ke=[];if(Ne.forEach(mt=>{const cn=new Date(mt.dataInicio),Kt=new Date(mt.expiraEm);ve>=cn&&ve<=Kt?Ge.push(mt):ve<cn&&ke.push(mt)}),g(Ge),_(ke),O){const mt=Ge.find(cn=>cn.id===O.id);mt&&mt.connected_players?.includes(nt.currentUser?.uid)&&C("connected")}}),se=On(Dt(we,"resenhas"),Sa("destinatarios","array-contains",e.name)),oe=Dn(se,he=>{const ve=he.docs.map(ke=>({id:ke.id,...ke.data()})),Ne=new Date,Ge=ve.filter(ke=>new Date(ke.expiraEm)>Ne);q(Ge)});return()=>{Y(),oe()}},[e,O]),D.useEffect(()=>()=>{if(O&&nt.currentUser){const N=at(we,"sessoes",O.id);vn(N,{connected_players:TA(nt.currentUser.uid)}).catch(console.error)}},[O]);const le=()=>{Te(!1),J.current.pause(),J.current.currentTime=0},xe=async N=>{if(!e)return;if(N.candidatos?.some(he=>he.uid===nt.currentUser.uid))return alert("Voc j se candidatou para esta misso!");const se=!N.candidatos||N.candidatos.length===0,oe={uid:nt.currentUser.uid,nome:e.name,classe:e.class,isLeader:se,dataCandidatura:new Date().toISOString()};try{const he=at(we,"missoes",N.id);await vn(he,{candidatos:Ix(oe)}),alert(se?"Voc se candidatou e foi marcado como LDER DO GRUPO!":"Candidatura realizada com sucesso!")}catch(he){console.error("Erro ao candidatar:",he),alert("Falha ao enviar candidatura.")}},Ve=async N=>{P(N),R(!0);try{const oe=at(we,"sessoes",N.id);await vn(oe,{connected_players:Ix(nt.currentUser.uid)})}catch(oe){console.error("Erro ao conectar na sesso db",oe)}const Y=new Date,se=new Date(N.dataInicio);Y>=se?C("connected"):C("waiting")};if(r)return h.jsxs("div",{className:"ether-loading",children:[h.jsx("div",{className:"loading-blur-bg"}),h.jsxs("div",{className:"loading-content",children:[h.jsx("img",{src:Af,alt:"Carregando...",className:"chocobo-anim"}),h.jsx("div",{className:"loading-bar",children:h.jsx("div",{className:"loading-fill"})}),h.jsx("p",{children:"CARREGANDO GRIMRIO..."})]}),h.jsx("style",{children:`
          .ether-loading { height: 100vh; width: 100vw; background: #000; display: flex; align-items: center; justify-content: center; position: fixed; top: 0; left: 0; z-index: 9999; }
          .loading-blur-bg { position: absolute; width: 100%; height: 100%; background: radial-gradient(circle, #001a33 0%, #000 100%); filter: blur(40px); animation: pulseBlur 2s infinite alternate; }
          .loading-content { position: relative; z-index: 10; text-align: center; }
          .chocobo-anim { width: 120px; filter: drop-shadow(0 0 10px #ffcc00); margin-bottom: 20px; }
          .loading-bar { width: 200px; height: 2px; background: rgba(255, 255, 255, 0.1); margin: 0 auto 15px auto; border-radius: 10px; overflow: hidden; }
          .loading-fill { height: 100%; width: 0%; background: #ffcc00; box-shadow: 0 0 10px #ffcc00; animation: fillProgress 1s ease-in-out forwards; }
          p { color: #ffcc00; font-family: 'serif'; font-size: 10px; letter-spacing: 3px; animation: fadeText 1s infinite alternate; }
          @keyframes fillProgress { from { width: 0%; } to { width: 100%; } }
          @keyframes pulseBlur { from { opacity: 0.5; } to { opacity: 0.8; } }
          @keyframes fadeText { from { opacity: 0.4; } to { opacity: 1; } }
          `})]});if(!e)return h.jsx("div",{className:"loading-screen",children:"Nenhum personagem encontrado."});const He=e.character_sheet?.basic_info?.level||1;return h.jsxs("div",{className:"jogador-container",children:[h.jsx("div",{className:"background-layer",style:{backgroundImage:`url(${UD})`}}),h.jsxs("div",{className:"content-layer",children:[h.jsxs("div",{className:"char-hud clickable-hud",onClick:()=>k(!0),title:"Abrir Ficha do Personagem",children:[h.jsx("div",{className:"char-avatar",children:h.jsx("div",{className:"avatar-circle",children:h.jsx("span",{className:"hud-level",children:He})})}),h.jsxs("div",{className:"char-info",children:[h.jsx("h2",{className:"char-name",children:e.name}),h.jsxs("span",{className:"char-meta",children:[e.race," // ",e.class]})]})]}),w&&h.jsx("div",{className:"levelup-global-overlay",children:h.jsxs("div",{className:"levelup-content",children:[h.jsx("h1",{className:"levelup-title",children:"LEVEL UP!"}),h.jsx("p",{className:"levelup-subtitle",children:"Seu poder cresce..."}),h.jsx("button",{className:"levelup-confirm-btn",onClick:le,children:"CONFIRMAR"})]})}),y.length>0&&m.length===0&&!E&&h.jsxs("div",{className:"upcoming-sessions-banner",children:[h.jsx("h3",{children:"A SESSO VAI COMEAR EM BREVE"}),y.map(N=>h.jsxs("div",{className:"countdown-row",children:[h.jsx("span",{children:N.missaoNome}),h.jsx(HD,{targetDate:N.dataInicio})]},N.id))]}),m.length>0&&!E&&h.jsxs("div",{className:"active-sessions-banner fade-in",children:[h.jsx("h3",{children:"SESSO EM ANDAMENTO!"}),m.map(N=>h.jsxs("div",{className:"session-entry-row",children:[h.jsx("span",{children:N.missaoNome}),h.jsx("button",{className:"btn-enter-session",onClick:()=>Ve(N),children:"ENTRAR AGORA"})]},N.id))]}),I&&O&&h.jsxs("div",{className:`vtt-status-widget ${I}`,children:[h.jsx("div",{className:"status-indicator"}),h.jsxs("div",{className:"status-text",children:[I==="waiting"&&h.jsxs(h.Fragment,{children:[h.jsx("h4",{children:"AGUARDANDO MESTRE"}),h.jsx("small",{children:"Sesso Conectada! Aguardando..."})]}),I==="connected"&&h.jsxs(h.Fragment,{children:[h.jsx("h4",{children:"BEM-VINDO, AVENTUREIRO"}),h.jsx("small",{children:"Sesso Conectada!"})]})]})]}),h.jsx("button",{className:"floating-mission-btn",onClick:()=>B(!0),title:"Quadro de Misses",children:""}),ie.length>0&&h.jsxs("button",{className:"floating-sanchez-btn",onClick:()=>pe(!0),title:"Resenhas do Sanchez",children:[h.jsx("div",{className:"sanchez-icon-face",style:{backgroundImage:`url(${mm})`}}),h.jsx("span",{className:"notification-badge",children:ie.length})]}),h.jsx(_g,{isMestre:!1,playerData:e}),j&&h.jsx("div",{className:"ff-modal-overlay-flex",onClick:()=>B(!1),children:h.jsxs("div",{className:"ff-modal-content ff-card",onClick:N=>N.stopPropagation(),children:[h.jsxs("div",{className:"modal-header-row",children:[h.jsx("h3",{className:"modal-title-ff",children:"QUADRO DE CONTRATOS"}),h.jsx("button",{className:"btn-close-x",onClick:()=>B(!1),children:""})]}),h.jsxs("div",{className:"missions-list-player",children:[c.map(N=>{const Y=parseInt(N.grupo)||0,se=N.candidatos?N.candidatos.length:0,oe=se>=Y&&Y>0,he=N.candidatos?.some(ve=>ve.uid===nt.currentUser.uid);return h.jsxs("div",{className:`mission-poster-player rank-${N.rank}`,children:[h.jsxs("div",{className:"mp-header",children:[h.jsx("span",{className:"mp-rank",children:N.rank}),h.jsx("h4",{children:N.nome})]}),h.jsxs("div",{className:"mp-details",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Local:"})," ",N.local]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Recompensa:"})," ",N.gilRecompensa," Gil"]}),h.jsx("p",{className:"mp-desc",children:N.descricaoMissao})]}),h.jsxs("div",{className:"vagas-container-player",style:{marginTop:"10px",background:"rgba(0,0,0,0.3)",padding:"5px",borderRadius:"4px"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"10px",color:"#ccc"},children:[h.jsx("span",{children:"VAGAS PREENCHIDAS"}),h.jsxs("span",{children:[se," / ",Y>0?Y:""]})]}),h.jsx("div",{style:{width:"100%",height:"4px",background:"#222",marginTop:"2px"},children:h.jsx("div",{style:{width:`${Math.min(se/(Y||1)*100,100)}%`,height:"100%",background:oe?"#f44":"#00f2ff"}})})]}),N.candidatos&&N.candidatos.length>0&&h.jsxs("div",{className:"candidates-box",children:[h.jsx("small",{children:"Grupo em formao:"}),h.jsx("div",{className:"cand-tags",children:N.candidatos.map((ve,Ne)=>h.jsxs("span",{className:`cand-tag ${ve.isLeader?"leader":""}`,children:[ve.isLeader&&""," ",ve.nome]},Ne))})]}),h.jsxs("div",{className:"mp-actions-row",children:[h.jsx("button",{className:"btn-details-outline",onClick:()=>Q(N),children:"DETALHES"}),h.jsx("button",{className:"btn-candidatar",disabled:he||oe&&!he,onClick:()=>xe(N),style:{background:oe&&!he?"#333":"#00f2ff",color:oe&&!he?"#666":"#000",cursor:oe&&!he?"not-allowed":"pointer"},children:he?"ENVIADO":oe?"LOTADO":"ACEITAR"})]})]},N.id)}),c.length===0&&h.jsx("p",{style:{textAlign:"center",padding:"20px"},children:"Nenhum contrato disponvel no momento."})]})]})}),L&&h.jsx("div",{className:"ff-modal-overlay-flex",onClick:()=>Q(null),style:{zIndex:1e5},children:h.jsxs("div",{className:"ff-modal ff-card detail-view-main",onClick:N=>N.stopPropagation(),children:[h.jsxs("div",{className:"detail-header-modern",children:[h.jsx("div",{className:`detail-rank-badge rank-${L.rank}`,children:L.rank}),h.jsxs("div",{className:"detail-title-col",children:[h.jsx("h2",{children:L.nome}),h.jsxs("span",{className:"detail-narrator",children:["Narrador: ",L.mestreNome]})]})]}),h.jsxs("div",{className:"detail-body-grid",children:[h.jsxs("div",{className:"detail-info-row",children:[h.jsxs("div",{className:"info-item",children:[h.jsx("label",{children:" LOCAL"}),h.jsx("span",{children:L.local||"Desconhecido"})]}),h.jsxs("div",{className:"info-item",children:[h.jsx("label",{children:" CONTRATANTE"}),h.jsx("span",{children:L.contratante||"Annimo"})]})]}),h.jsxs("div",{className:"detail-section",children:[h.jsx("label",{className:"section-label",children:" DESCRIO DA MISSO"}),h.jsx("p",{className:"section-text",children:L.descricaoMissao||"Sem descrio."})]}),h.jsxs("div",{className:"detail-section",children:[h.jsx("label",{className:"section-label",children:" OBJETIVOS DA MISSO"}),h.jsx("p",{className:"section-text",children:L.objetivosMissao||"Sem objetivos definidos."})]}),h.jsxs("div",{className:"detail-section",children:[h.jsx("label",{className:"section-label",children:" REQUISITOS"}),h.jsx("p",{className:"section-text",children:L.requisitos||"Sem requisitos especiais."})]}),h.jsxs("div",{className:"detail-section reward-section",children:[h.jsx("label",{className:"section-label",children:" RECOMPENSAS"}),h.jsxs("div",{className:"reward-content-box",children:[h.jsxs("div",{className:"gil-display-row",children:[h.jsx("span",{className:"gil-icon",children:""})," ",h.jsxs("span",{className:"gil-value",children:[L.gilRecompensa||0," GIL"]})]}),L.recompensa&&h.jsx("div",{className:"extra-rewards-list",children:L.recompensa.split(`
`).map((N,Y)=>h.jsxs("div",{className:"reward-item",children:[" ",N]},Y))})]})]})]}),h.jsx("button",{className:"ff-final-close-btn",onClick:()=>Q(null),children:"FECHAR RELATRIO"})]})}),ne&&h.jsx("div",{className:"ff-modal-overlay-flex",onClick:()=>pe(!1),children:h.jsxs("div",{className:"ff-modal-content ff-card",style:{height:"auto",maxHeight:"600px"},onClick:N=>N.stopPropagation(),children:[h.jsxs("div",{className:"modal-header-row",children:[h.jsx("h3",{className:"modal-title-ff",children:"RESENHAS RECEBIDAS"}),h.jsx("button",{className:"btn-close-x",onClick:()=>pe(!1),children:""})]}),h.jsx("div",{className:"resenhas-list-container",children:ie.map(N=>h.jsxs("div",{className:"resenha-row-player",onClick:()=>{ge(N),pe(!1)},children:[h.jsx("span",{className:"r-icon",children:""}),h.jsxs("div",{className:"r-info",children:[h.jsx("h4",{children:N.titulo}),h.jsxs("small",{children:["De: ",N.mestre]})]}),h.jsx("button",{className:"btn-read-arrow",children:"LER "})]},N.id))})]})}),ue&&h.jsx("div",{className:"papiro-overlay-full",onClick:()=>ge(null),children:h.jsxs("div",{className:"papiro-real-container",style:{backgroundImage:`url(${VA})`},onClick:N=>N.stopPropagation(),children:[h.jsx("div",{className:"sanchez-oval-view-no-border",style:{backgroundImage:`url(${mm})`}}),h.jsx("h2",{className:"papiro-title-real",children:ue.titulo}),h.jsxs("p",{className:"papiro-mestre-sub",children:["Narrador: ",ue.mestre]}),h.jsx("div",{className:"papiro-body-real",dangerouslySetInnerHTML:{__html:ue.conteudo.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br/>")}}),h.jsx("button",{className:"papiro-close-btn",onClick:()=>ge(null),children:"FECHAR"})]})}),S&&e&&h.jsx(Eg,{characterData:e,isMaster:!1,onClose:()=>k(!1)})]}),h.jsx("style",{children:`
        /* ESTILOS PRESERVADOS */
        .jogador-container { position: relative; width: 100vw; height: 100vh; overflow: hidden; background: #000; font-family: 'Cinzel', serif; color: white; }
        .background-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center; background-repeat: no-repeat; z-index: 0; }
        .content-layer { position: relative; z-index: 10; width: 100%; height: 100%; }
        .loading-screen { width: 100vw; height: 100vh; background: #000; color: #ffcc00; display: flex; align-items: center; justify-content: center; font-size: 24px; font-family: 'Cinzel', serif; }
        .char-hud { position: absolute; top: 20px; left: 20px; display: flex; align-items: center; gap: 15px; background: rgba(0,0,0,0.8); padding: 15px 25px; border-radius: 50px; border: 1px solid #ffcc00; box-shadow: 0 0 15px rgba(255,204,0,0.3); backdrop-filter: blur(5px); z-index: 50; transition: transform 0.2s; }
        .char-hud.clickable-hud:hover { transform: scale(1.05); cursor: pointer; border-color: #fff; box-shadow: 0 0 25px #ffcc00; }
        .avatar-circle { width: 60px; height: 60px; background: #222; border-radius: 50%; border: 2px solid #fff; display: flex; align-items: center; justify-content: center; }
        .hud-level { font-size: 28px; font-weight: bold; color: #ffcc00; text-shadow: 0 0 5px #000; }
        .char-info h2 { margin: 0; font-size: 20px; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        .char-meta { font-size: 12px; color: #00f2ff; font-weight: bold; }
        .levelup-global-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); z-index: 999999; display: flex; align-items: center; justify-content: center; animation: fadeOverlay 0.5s forwards; }
        .levelup-content { text-align: center; }
        .levelup-title { font-size: 80px; color: #ffcc00; text-shadow: 0 0 50px #ffcc00, 0 0 20px #fff; animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); letter-spacing: 5px; margin-bottom: 10px; }
        .levelup-subtitle { font-size: 24px; color: #fff; margin-bottom: 40px; font-family: 'Lato', sans-serif; opacity: 0.8; }
        .levelup-confirm-btn { background: transparent; border: 2px solid #ffcc00; color: #ffcc00; padding: 15px 40px; font-size: 18px; font-family: 'Cinzel', serif; font-weight: bold; cursor: pointer; transition: 0.3s; text-transform: uppercase; letter-spacing: 2px; }
        .levelup-confirm-btn:hover { background: #ffcc00; color: #000; box-shadow: 0 0 30px #ffcc00; transform: scale(1.1); }
        .upcoming-sessions-banner { position: absolute; top: 120px; left: 50%; transform: translateX(-50%); background: rgba(0, 0, 0, 0.8); border: 2px solid #ffcc00; padding: 20px; border-radius: 8px; text-align: center; box-shadow: 0 0 30px rgba(255,204,0,0.3); z-index: 5; width: 400px; }
        .upcoming-sessions-banner h3 { color: #ffcc00; margin-bottom: 10px; font-size: 18px; }
        .countdown-row { display: flex; flex-direction: column; gap: 5px; border-top: 1px solid #333; padding-top: 10px; margin-top: 10px; }
        .countdown-text { font-size: 24px; color: #fff; font-weight: bold; font-family: 'Lato', sans-serif; }
        .active-sessions-banner { position: absolute; top: 120px; left: 50%; transform: translateX(-50%); background: rgba(20, 0, 0, 0.9); border: 2px solid #f00; padding: 20px; border-radius: 8px; text-align: center; box-shadow: 0 0 30px #f00; animation: pulseRed 2s infinite; z-index: 5; }
        .session-entry-row { display: flex; gap: 20px; align-items: center; margin-top: 10px; justify-content: center; }
        .btn-enter-session { background: #f00; color: #fff; border: none; padding: 10px 20px; font-weight: bold; cursor: pointer; font-family: 'Cinzel', serif; font-size: 16px; }
        .btn-enter-session:hover { background: #fff; color: #f00; }
        @keyframes pulseRed { 0% { box-shadow: 0 0 10px #f00; } 50% { box-shadow: 0 0 30px #f00; } 100% { box-shadow: 0 0 10px #f00; } }
        .vtt-status-widget { position: fixed; top: 20px; right: 20px; background: rgba(0,0,0,0.9); border: 2px solid; padding: 15px; border-radius: 8px; display: flex; align-items: center; gap: 15px; z-index: 9999; width: 280px; transition: 0.5s; box-shadow: 0 5px 20px rgba(0,0,0,0.5); }
        .vtt-status-widget.waiting { border-color: #ffcc00; }
        .vtt-status-widget.connected { border-color: #0f0; box-shadow: 0 0 20px rgba(0,255,0,0.3); }
        .status-indicator { width: 15px; height: 15px; border-radius: 50%; }
        .waiting .status-indicator { background: #ffcc00; animation: blink 1s infinite; }
        .connected .status-indicator { background: #0f0; box-shadow: 0 0 10px #0f0; }
        .status-text h4 { margin: 0; font-size: 14px; color: #fff; text-transform: uppercase; }
        .status-text small { font-size: 11px; color: #ccc; }
        .waiting .status-text h4 { color: #ffcc00; }
        .connected .status-text h4 { color: #0f0; }
        @keyframes blink { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
        .floating-mission-btn { position: fixed; bottom: 30px; left: 30px; width: 70px; height: 70px; border-radius: 50%; border: 2px solid #ffcc00; background: #000; color: #fff; font-size: 30px; cursor: pointer; z-index: 999; box-shadow: 0 0 15px rgba(0,0,0,0.8); transition: transform 0.2s, box-shadow 0.2s; display: flex; align-items: center; justify-content: center; }
        .floating-mission-btn:hover { transform: scale(1.1); box-shadow: 0 0 25px #ffcc00; }
        .floating-sanchez-btn { position: fixed; bottom: 110px; left: 30px; width: 70px; height: 70px; border-radius: 50%; border: 2px solid #00f2ff; background: #000; cursor: pointer; z-index: 999; box-shadow: 0 0 15px rgba(0,242,255,0.5); transition: transform 0.2s; display: flex; align-items: center; justify-content: center; overflow: visible; }
        .floating-sanchez-btn:hover { transform: scale(1.1); box-shadow: 0 0 25px #00f2ff; }
        .sanchez-icon-face { width: 100%; height: 100%; border-radius: 50%; background-size: cover; background-position: center; }
        .notification-badge { position: absolute; top: -5px; right: -5px; background: #f00; color: #fff; border-radius: 50%; width: 24px; height: 24px; font-size: 12px; font-weight: bold; display: flex; align-items: center; justify-content: center; border: 2px solid #fff; }
        .ff-modal-overlay-flex { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); z-index: 99999; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(10px); }
        .ff-modal-content { width: 600px; max-width: 95vw; max-height: 85vh; background: #0d0d15; border: 2px solid #ffcc00; padding: 25px; border-radius: 8px; box-shadow: 0 0 50px rgba(0,0,0,0.9); overflow-y: auto; display: flex; flex-direction: column; }
        .modal-header-row { display: flex; justify-content: space-between; align-items: flex-start; border-bottom: 1px solid #444; padding-bottom: 10px; margin-bottom: 15px; }
        .modal-title-ff { color: #ffcc00; margin: 0; font-size: 22px; letter-spacing: 2px; }
        .btn-close-x { background: none; border: none; color: #fff; font-size: 24px; cursor: pointer; }
        .btn-close-x:hover { color: #f00; }
        .missions-list-player { display: grid; grid-template-columns: 1fr; gap: 15px; }
        .mission-poster-player { background: rgba(255,255,255,0.05); border: 1px solid #444; padding: 15px; border-radius: 4px; position: relative; }
        .mp-header { display: flex; align-items: center; gap: 10px; border-bottom: 1px solid #333; padding-bottom: 8px; margin-bottom: 8px; }
        .mp-rank { font-size: 24px; font-weight: bold; color: #ffcc00; }
        .mp-details p { margin: 4px 0; font-size: 14px; color: #ccc; }
        .mp-desc { font-style: italic; color: #aaa; margin-top: 8px; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
        .mp-actions-row { display: flex; gap: 10px; margin-top: 15px; }
        .btn-details-outline { flex: 1; border: 1px solid #00f2ff; color: #00f2ff; background: transparent; padding: 10px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .btn-details-outline:hover { background: #00f2ff; color: #000; }
        .btn-candidatar { flex: 2; background: #00f2ff; color: #000; font-weight: bold; border: none; padding: 10px; cursor: pointer; transition: 0.3s; }
        .btn-candidatar:hover:not(:disabled) { background: #fff; box-shadow: 0 0 10px #00f2ff; }
        .btn-candidatar:disabled { background: #333; color: #666; cursor: not-allowed; }
        .candidates-box { margin-top: 10px; background: rgba(0,0,0,0.3); padding: 8px; border-radius: 4px; }
        .cand-tags { display: flex; flex-wrap: wrap; gap: 5px; margin-top: 5px; }
        .cand-tag { font-size: 11px; padding: 2px 6px; background: #222; border: 1px solid #444; border-radius: 3px; color: #ddd; }
        .cand-tag.leader { border-color: #ffcc00; color: #ffcc00; }
        .resenhas-list-container { display: flex; flex-direction: column; gap: 10px; }
        .resenha-row-player { display: flex; align-items: center; background: rgba(255,255,255,0.05); border: 1px solid #333; padding: 15px; border-radius: 4px; cursor: pointer; transition: 0.2s; }
        .resenha-row-player:hover { background: rgba(255,255,255,0.1); border-color: #ffcc00; }
        .r-icon { font-size: 24px; margin-right: 15px; }
        .r-info { flex: 1; }
        .r-info h4 { margin: 0; color: #ffcc00; font-size: 16px; }
        .r-info small { color: #aaa; }
        .btn-read-arrow { background: none; border: none; color: #00f2ff; font-weight: bold; cursor: pointer; }
        .detail-view-main { width: 600px; background: #000814; border: 1px solid #ffcc00; padding: 0; box-shadow: 0 0 40px rgba(255, 204, 0, 0.1); overflow: hidden; display: flex; flex-direction: column; }
        .detail-header-modern { background: linear-gradient(90deg, #1a1a1a 0%, #000 100%); padding: 25px 30px; display: flex; align-items: center; border-bottom: 1px solid #333; gap: 20px; }
        .detail-rank-badge { font-size: 32px; font-weight: bold; color: #ffcc00; text-shadow: 0 0 10px rgba(255,204,0,0.5); border: 2px solid #ffcc00; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background: rgba(0,0,0,0.5); }
        .detail-title-col h2 { margin: 0; font-size: 24px; color: #fff; text-transform: uppercase; letter-spacing: 1px; }
        .detail-narrator { color: #00f2ff; font-size: 12px; font-weight: bold; text-transform: uppercase; margin-top: 4px; display: block; }
        .detail-body-grid { padding: 30px; display: flex; flex-direction: column; gap: 20px; }
        .detail-info-row { display: flex; gap: 25px; margin-bottom: 10px; border-bottom: 1px solid #333; padding-bottom: 15px; }
        .info-item { flex: 1; }
        .info-item label { color: #ffcc00; font-size: 10px; display: block; margin-bottom: 5px; font-weight: bold; opacity: 0.8; }
        .info-item span { color: #fff; font-size: 14px; font-weight: bold; letter-spacing: 0.5px; }
        .detail-section { margin-bottom: 5px; }
        .section-label { color: #ffcc00; font-size: 11px; font-weight: bold; display: block; margin-bottom: 8px; letter-spacing: 1px; text-transform: uppercase; border-bottom: 1px solid #333; padding-bottom: 4px; }
        .section-text { font-size: 15px; line-height: 1.5; color: #ddd; margin: 0; white-space: pre-wrap; }
        .reward-section { margin-top: 10px; background: rgba(255,204,0,0.05); padding: 15px; border-radius: 4px; border: 1px solid rgba(255,204,0,0.2); }
        .gil-display-row { display: flex; align-items: center; gap: 10px; font-size: 18px; color: #ffcc00; font-weight: bold; margin-bottom: 8px; }
        .extra-rewards-list { margin-top: 8px; padding-left: 5px; }
        .reward-item { color: #aaa; font-size: 14px; margin-bottom: 4px; font-style: italic; }
        .ff-final-close-btn { width: 100%; background: #111; color: #fff; border: none; border-top: 1px solid #333; padding: 20px; font-weight: bold; cursor: pointer; font-size: 13px; text-transform: uppercase; transition: 0.2s; }
        .ff-final-close-btn:hover { background: #222; color: #ffcc00; }
        .papiro-overlay-full { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.85); z-index: 100000; display: flex; align-items: center; justify-content: center; }
        .papiro-real-container { width: 1000px; height: 800px; max-width: 95vw; max-height: 95vh; background-size: 100% 100%; background-repeat: no-repeat; padding: 110px 160px; color: #3b2b1a; position: relative; display: flex; flex-direction: column; }
        .sanchez-oval-view-no-border { width: 110px; height: 110px; float: right; border-radius: 50%; background-size: cover; margin-left: 20px; mask-image: radial-gradient(circle, black 60%, transparent 100%); -webkit-mask-image: radial-gradient(circle, black 60%, transparent 100%); opacity: 0.9; }
        .papiro-title-real { border-bottom: 2px solid #3b2b1a; padding-bottom: 5px; margin-top: 0; font-size: 32px; font-weight: bold; }
        .papiro-mestre-sub { font-size: 14px; font-style: italic; opacity: 0.8; margin-top: 5px; }
        .papiro-body-real { margin-top: 25px; flex: 1; overflow-y: auto; line-height: 1.6; font-size: 18px; padding-right: 10px; scrollbar-width: none; -ms-overflow-style: none; }
        .papiro-body-real::-webkit-scrollbar { display: none; }
        .papiro-close-btn { position: absolute; bottom: 45px; right: 110px; background: #3b2b1a; color: #f4e4bc; border: none; padding: 8px 20px; cursor: pointer; font-weight: bold; font-size: 13px; border-radius: 2px; }
        .fade-in { animation: fadeIn 1s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
      `})]})}const FD=()=>h.jsx("span",{children:""}),GD=()=>h.jsx("span",{children:""}),QD=()=>h.jsx("span",{children:""}),KD=()=>h.jsx("span",{children:""});function YD(){const i=Pi(),[e,n]=D.useState(null),[r,o]=D.useState(!0),[c,f]=D.useState([]),[m,g]=D.useState([]),[y,_]=D.useState(null),[E,R]=D.useState(new Date);return D.useEffect(()=>{let j=()=>{};const B=Wd(nt,L=>{if(L){const Q=On(Dt(we,"sessoes"),Sa("mestreId","==",L.uid));j=Dn(Q,ie=>{const ne=ie.docs.map(pe=>({id:pe.id,...pe.data()})).find(pe=>{const ue=new Date,ge=new Date(pe.expiraEm);return ue<=ge});ne&&(n(ne),g(ne.connected_players||[]),ne.dm_online!==!0&&vn(at(we,"sessoes",ne.id),{dm_online:!0}).catch(console.error)),o(!1)},ie=>{console.error("Erro de cota ou permisso:",ie),o(!1)})}else o(!1),i("/login")});return()=>{B(),j(),nt.currentUser&&e&&vn(at(we,"sessoes",e.id),{dm_online:!1}).catch(()=>{})}},[i]),D.useEffect(()=>{if(!e||!e.participantes)return;const j=On(Dt(we,"characters")),B=Dn(j,L=>{const ie=L.docs.map(q=>({id:q.id,...q.data()})).filter(q=>e.participantes.includes(q.name));f(ie)});return()=>B()},[e?.id]),D.useEffect(()=>{const j=setInterval(()=>R(new Date),1e3);return()=>clearInterval(j)},[]),r?h.jsxs("div",{className:"ether-loading",children:[h.jsx("div",{className:"loading-blur-bg"}),h.jsxs("div",{className:"loading-content",children:[h.jsx("img",{src:Af,alt:"Carregando...",className:"chocobo-anim"}),h.jsx("p",{children:"SINTONIZANDO COM O TER..."})]}),h.jsx("style",{children:`
            .ether-loading { height: 100vh; width: 100vw; background: #000; display: flex; align-items: center; justify-content: center; position: fixed; top: 0; left: 0; z-index: 9999; }
            .loading-blur-bg { position: absolute; width: 100%; height: 100%; background: radial-gradient(circle, #001a33 0%, #000 100%); filter: blur(40px); animation: pulseBlur 2s infinite alternate; }
            .loading-content { position: relative; z-index: 10; text-align: center; }
            .chocobo-anim { width: 120px; filter: drop-shadow(0 0 10px #ffcc00); margin-bottom: 20px; }
            p { color: #ffcc00; font-family: 'serif'; font-size: 14px; letter-spacing: 3px; animation: fadeText 1s infinite alternate; }
            @keyframes pulseBlur { from { opacity: 0.5; } to { opacity: 0.8; } }
            @keyframes fadeText { from { opacity: 0.4; } to { opacity: 1; } }
            `})]}):e?h.jsxs("div",{className:"mestre-vtt-container",children:[h.jsx("div",{className:"mestre-bg-layer",style:{backgroundImage:`url(${PA})`}}),h.jsxs("div",{className:"dm-players-sidebar",children:[h.jsx("h3",{className:"sidebar-title",children:"AVENTUREIROS"}),h.jsxs("div",{className:"players-list-scroll",children:[c.map(j=>{const B=m.includes(j.uid),L=j.character_sheet?.imgUrl;return h.jsxs("div",{className:`mini-player-card ${B?"online":"offline"}`,onClick:()=>_(j),title:"Clique para editar ficha",children:[h.jsxs("div",{className:"mini-avatar",children:[L?h.jsx("div",{className:"avatar-img",style:{backgroundImage:`url(${L})`}}):h.jsx("div",{className:"avatar-placeholder",children:j.name.charAt(0)}),h.jsx("div",{className:`status-dot ${B?"green":"gray"}`})]}),h.jsxs("div",{className:"mini-info",children:[h.jsx("span",{className:"p-name",children:j.name}),h.jsxs("span",{className:"p-meta",children:[j.race," // ",j.class]}),h.jsxs("span",{className:"p-lvl",children:["LVL ",j.character_sheet?.basic_info?.level||1]})]})]},j.id)}),c.length===0&&h.jsx("div",{className:"empty-slot",children:"Aguardando aventureiros..."})]})]}),h.jsxs("div",{className:"session-status-top",children:[h.jsx("div",{className:"status-indicator active"}),h.jsxs("div",{className:"status-info",children:[h.jsxs("h2",{children:["SESSO ATIVA: ",e.missaoNome]}),h.jsxs("p",{children:["Mestre Online  ",m.length," Jogadores Conectados  ",E.toLocaleTimeString()]})]})]}),h.jsx("div",{className:"vtt-workspace",children:h.jsx("div",{className:"empty-tabletop-msg",children:"SELECIONE UMA FERRAMENTA"})}),h.jsxs("div",{className:"dm-tools-dock",children:[h.jsxs("div",{className:"tool-group",children:[h.jsx(_g,{isMestre:!0}),h.jsx("div",{className:"tool-label",children:"BAZAR"})]}),h.jsxs("div",{className:"tool-group",children:[h.jsx(LA,{}),h.jsx("div",{className:"tool-label",children:"FORJA"})]}),h.jsxs("div",{className:"tool-group",children:[h.jsx("button",{className:"tool-btn-placeholder",onClick:()=>alert("Em breve"),children:h.jsx(FD,{})}),h.jsx("div",{className:"tool-label",children:"MAPA"})]}),h.jsxs("div",{className:"tool-group",children:[h.jsx("button",{className:"tool-btn-placeholder",onClick:()=>alert("Em breve"),children:h.jsx(GD,{})}),h.jsx("div",{className:"tool-label",children:"DADOS"})]}),h.jsxs("div",{className:"tool-group",children:[h.jsx("button",{className:"tool-btn-placeholder",onClick:()=>alert("Em breve"),children:h.jsx(QD,{})}),h.jsx("div",{className:"tool-label",children:"NPCS"})]}),h.jsxs("div",{className:"tool-group",children:[h.jsx("button",{className:"tool-btn-placeholder",onClick:()=>alert("Em breve"),children:h.jsx(KD,{})}),h.jsx("div",{className:"tool-label",children:"COMBATE"})]})]}),y&&h.jsx(Eg,{characterData:y,isMaster:!0,onClose:()=>_(null)}),h.jsx("style",{children:`
        .mestre-vtt-container { width: 100vw; height: 100vh; overflow: hidden; position: relative; background: #000; font-family: 'Cinzel', serif; color: #fff; }
        .mestre-bg-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center; opacity: 0.4; z-index: 0; }
        .dm-players-sidebar { position: absolute; top: 20px; left: 20px; width: 280px; background: rgba(0, 10, 20, 0.95); border: 2px solid #ffcc00; border-radius: 8px; padding: 15px; z-index: 50; max-height: 80vh; display: flex; flex-direction: column; box-shadow: 0 0 30px rgba(0,0,0,0.8); }
        .sidebar-title { color: #ffcc00; font-size: 16px; border-bottom: 1px solid #444; padding-bottom: 10px; margin-bottom: 15px; text-align: center; letter-spacing: 2px; }
        .players-list-scroll { flex: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; scrollbar-width: none; }
        .mini-player-card { display: flex; align-items: center; padding: 10px; background: rgba(255,255,255,0.05); border: 1px solid #333; border-radius: 4px; cursor: pointer; transition: 0.2s; }
        .mini-player-card:hover { border-color: #ffcc00; background: rgba(255, 204, 0, 0.1); }
        .mini-player-card.online { border-left: 3px solid #00f2ff; background: rgba(0, 242, 255, 0.05); }
        .mini-player-card.offline { border-left: 3px solid #666; opacity: 0.7; filter: grayscale(0.8); }
        .mini-avatar { position: relative; margin-right: 12px; }
        .avatar-img { width: 40px; height: 40px; border-radius: 50%; background-size: cover; border: 1px solid #fff; }
        .avatar-placeholder { width: 40px; height: 40px; border-radius: 50%; background: #222; border: 1px solid #555; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        .status-dot { width: 10px; height: 10px; border-radius: 50%; position: absolute; bottom: 0; right: 0; border: 1px solid #000; }
        .status-dot.green { background: #00f2ff; box-shadow: 0 0 5px #00f2ff; }
        .status-dot.gray { background: #666; }
        .mini-info { display: flex; flex-direction: column; }
        .p-name { font-size: 14px; font-weight: bold; color: #fff; line-height: 1.2; }
        .p-meta { font-size: 10px; color: #aaa; }
        .p-lvl { font-size: 10px; color: #ffcc00; font-weight: bold; }
        .empty-slot { font-size: 12px; color: #666; text-align: center; padding: 20px 0; font-style: italic; }
        .session-status-top { position: absolute; top: 20px; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.8); border: 1px solid #00f2ff; padding: 10px 30px; border-radius: 30px; display: flex; align-items: center; gap: 15px; z-index: 40; box-shadow: 0 0 20px rgba(0, 242, 255, 0.2); }
        .status-indicator { width: 12px; height: 12px; background: #00f2ff; border-radius: 50%; box-shadow: 0 0 10px #00f2ff; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
        .status-info h2 { margin: 0; font-size: 16px; color: #fff; letter-spacing: 1px; }
        .status-info p { margin: 0; font-size: 10px; color: #00f2ff; text-transform: uppercase; letter-spacing: 1px; }
        .vtt-workspace { position: relative; z-index: 10; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; pointer-events: none; }
        .empty-tabletop-msg { font-size: 30px; color: rgba(255,255,255,0.1); font-weight: bold; letter-spacing: 5px; }
        .dm-tools-dock { position: absolute; right: 20px; bottom: 20px; display: flex; flex-direction: column; gap: 15px; z-index: 60; align-items: flex-end; }
        .tool-group { display: flex; align-items: center; gap: 10px; flex-direction: row-reverse; }
        .tool-label { background: rgba(0,0,0,0.8); padding: 4px 8px; border-radius: 4px; font-size: 10px; color: #ffcc00; opacity: 0; transition: 0.2s; pointer-events: none; transform: translateX(10px); }
        .tool-group:hover .tool-label { opacity: 1; transform: translateX(0); }
        .dm-tools-dock .bazar-trigger-btn, .dm-tools-dock .forja-trigger-btn { position: relative; bottom: auto; right: auto; margin: 0; box-shadow: 0 0 10px #000; width: 60px; height: 60px; }
        .tool-btn-placeholder { width: 60px; height: 60px; border-radius: 50%; background: #111; border: 2px solid #555; color: #fff; font-size: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: 0.2s; box-shadow: 0 0 10px #000; }
        .tool-btn-placeholder:hover { border-color: #ffcc00; color: #ffcc00; box-shadow: 0 0 20px #ffcc00; transform: scale(1.1); }
      `})]}):h.jsxs("div",{style:{width:"100vw",height:"100vh",background:"#000",color:"#f44",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"serif",flexDirection:"column",gap:"20px"},children:[h.jsx("h2",{children:"NENHUMA SESSO ATIVA ENCONTRADA"}),h.jsx("button",{onClick:()=>i("/mestre"),style:{padding:"10px 20px",background:"#ffcc00",border:"none",cursor:"pointer",fontWeight:"bold"},children:"VOLTAR AO DASHBOARD"})]})}const $D=({user:i,initializing:e,children:n})=>e?null:i&&i.email==="fffvtt10@gmail.com"?n:h.jsx(Jx,{to:"/admin-login"});function XD(){const[i,e]=D.useState(!0),[n,r]=D.useState(null);return D.useEffect(()=>Wd(nt,c=>{r(c),e(!1)}),[]),i?h.jsxs("div",{style:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#000",overflow:"hidden"},children:[h.jsx("img",{src:Af,alt:"Loading...",style:{width:"100px",marginBottom:"20px",filter:"drop-shadow(0 0 10px #ffcc00)"}}),h.jsx("div",{style:{width:"200px",height:"4px",background:"#333",borderRadius:"2px",overflow:"hidden"},children:h.jsx("div",{className:"progress-bar"})}),h.jsx("p",{style:{marginTop:"10px"},children:"SINTONIZANDO TER..."}),h.jsx("style",{children:`
          .progress-bar { height: 100%; background: #ffcc00; width: 0%; box-shadow: 0 0 10px #ffcc00; animation: fillProgress 2s ease-in-out forwards; }
          p { color: #ffcc00; font-family: 'serif'; font-size: 10px; letter-spacing: 3px; animation: fadeText 1s infinite alternate; }
          @keyframes fillProgress { from { width: 0%; } to { width: 100%; } }
          @keyframes fadeText { from { opacity: 0.4; } to { opacity: 1; } }
        `})]}):h.jsxs(AT,{children:[h.jsx(Ya,{path:"/",element:h.jsx(TD,{})}),h.jsx(Ya,{path:"/login",element:h.jsx(ND,{})}),h.jsx(Ya,{path:"/mestre",element:h.jsx(kD,{})}),h.jsx(Ya,{path:"/mestre-vtt",element:h.jsx(YD,{})}),h.jsx(Ya,{path:"/create-character",element:h.jsx(zD,{})}),h.jsx(Ya,{path:"/jogador-vtt",element:h.jsx(qD,{})}),h.jsx(Ya,{path:"/admin-login",element:h.jsx(RD,{})}),h.jsx(Ya,{path:"/admin",element:h.jsx($D,{user:n,initializing:i,children:h.jsx(CD,{})})}),h.jsx(Ya,{path:"*",element:h.jsx(Jx,{to:"/"})})]})}wS.createRoot(document.getElementById("root")).render(h.jsx(bS.StrictMode,{children:h.jsx(KT,{children:h.jsx(XD,{})})}));
